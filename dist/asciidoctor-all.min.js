(function(a){function l(){}function q(){}function e(){}function g(){}function h(){}if("undefined"!==typeof this.Opal)return console.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var b,c,d,w,v,k=this.Opal={},n={},f=function(){};f.prototype=k;k.constructor=f;k.constants=[];k.global=this;k.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var m=k.hasOwnProperty;k.slice=Array.prototype.slice;var r=4;k.uid=function(){return r+=
2};k.cvars={};k.gvars={};k.exit=function(a){k.gvars.DEBUG&&console.log("Exited with status "+a)};k.exceptions=[];k.pop_exception=function(){k.gvars["!"]=k.exceptions.pop()||b};k.get=function(a){var d=this[a];return null==d?this.base.$const_get(a):d};k.create_scope=function(a,d,b){var c=function(){},f=c.prototype=new a.constructor;d.$$scope=f;d.$$base_module=a.base;f.base=d;f.constructor=c;f.constants=[];b&&(k.cdecl(a,b,d),c.displayName=b+"_scope_alloc")};k.casgn=function(a,c,f){function e(a,d){a.$$name=
d;for(d in a.$$scope){var c=a.$$scope[d];c.$$name===b&&(c.$$is_class||c.$$is_module)&&e(c,d)}}var g=a.$$scope;if(f.$$is_class||f.$$is_module){if(f.$$is_class||f.$$base_module===d)f.$$base_module=a;f.$$name===b&&f.$$base_module.$$name!==b&&e(f,c)}g.constants.push(c);g[c]=f;if(a.$$is_module&&a.$$dep)for(g=0;g<a.$$dep.length;g++)k.casgn(a.$$dep[g],c,f);return f};k.cdecl=function(a,d,b){(b.$$is_class||b.$$is_module)&&null==b.$$orig_scope&&(b.$$name=d,b.$$orig_scope=a,b.$$base_module=a.base,a.constructor[d]=
b);a.constants.push(d);return a[d]=b};k.klass=function(a,b,f,e){var g,h;a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof b&&(h=b,b=d);if((g=a.$$scope[f])&&g.$$orig_scope===a.$$scope){if(!g.$$is_class)throw k.TypeError.$new(f+" is not a class");if(b&&g.$$super!==b)throw k.TypeError.$new("superclass mismatch for class "+f);return g}null==b&&(b=d);e=h||k.boot_class_alloc(f,e,b);g=k.setup_class_object(f,e,b.$$name,b.constructor);g.$$super=b;g.$$parent=b;k.create_scope(a.$$scope,g,f);a[f]=
g;h?k.bridge(g,e):(b!==d&&b!==c&&k.donate_constants(b,g),b.$inherited&&b.$inherited(g));return g};k.boot_class_alloc=function(a,d,b){if(b){var c=function(){};c.prototype=b.$$proto||b.prototype;d.prototype=new c}a&&(d.displayName=a+"_alloc");return d.prototype.constructor=d};k.setup_class_object=function(a,d,c,f){var e=function(){};e.prototype=f.prototype;e.displayName=c;c=function(){};c.prototype=new e;e=new c;e.$$alloc=d;e.$$name=a||b;e.$$id=k.uid();c.displayName="#<Class:"+(a||"#<Class:"+e.$$id+
">")+">";e.$$proto=d.prototype;e.$$proto.$$class=e;e.constructor=c;e.$$is_class=!0;e.$$class=v;e.$$inc=[];return e};k.module=function(a,b){var c;a.$$is_class||a.$$is_module||(a=a.$$class);if(m.call(a.$$scope,b)){if(c=a.$$scope[b],!c.$$is_module&&c!==d)throw k.TypeError.$new(b+" is not a module");}else c=k.module_allocate(),k.create_scope(a.$$scope,c,b);return c};k.module_initialize=function(a,d){if(d!==b){var c=d.$$s;d.$$s=null;d.call(a);d.$$s=c}return b};k.module_allocate=function(){function a(){}
var d=function(){};d.prototype=g.prototype;a.prototype=new d;var d=new a,c=w;d.$$id=k.uid();a.displayName="#<Class:#<Module:"+d.$$id+">>";d.$$proto={};d.constructor=a;d.$$is_module=!0;d.$$class=w;d.$$super=c;d.$$parent=c;d.$$inc=[];d.$$is_module=!0;d.$$dep=[];d.$$name=b;return d};k.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?k.build_class_singleton_class(a):k.build_object_singleton_class(a)};k.build_class_singleton_class=function(a){var d,b;if(a.$$meta)return a.$$meta;
d=a.constructor;b=a===c?v:k.build_class_singleton_class(a.$$super);d=k.setup_class_object(null,d,b.$$name,b.constructor);d.$$super=b;d.$$parent=b;k.create_scope(a.$$scope,d);d.$$is_singleton=!0;d.$$singleton_of=a;return a.$$meta=d};k.build_object_singleton_class=function(a){var d=a.$$class,b="#<Class:#<"+d.$$name+":"+d.$$id+">>",c=k.boot_class_alloc(b,function(){},d),b=k.setup_class_object(b,c,d.$$name,d.constructor);b.$$super=d;b.$$parent=d;b.$$class=d.$$class;b.$$scope=d.$$scope;b.$$proto=a;b.$$is_singleton=
!0;b.$$singleton_of=a;return a.$$meta=b};k.bridge_method=function(a,d,b,c){var f,e,g,h;f=a.$$bridge.$ancestors();e=0;for(h=f.length;e<h;e++){g=f[e];if(m.call(g.$$proto,b)&&g.$$proto[b]&&!g.$$proto[b].$$donated&&!g.$$proto[b].$$stub&&g!==d)break;if(g===d){a.prototype[b]=c;break}}};k._bridge=function(a,d){var b,c,f,e;if("function"===typeof a){b=d.$__id__();c=d.$instance_methods();for(e=c.length-1;0<=e;e--)f="$"+c[e],k.bridge_method(a,d,f,d.$$proto[f]);n[b]||(n[b]=[]);n[b].push(a)}else if(b=n[a.$__id__()]){for(e=
b.length-1;0<=e;e--)k._bridge(b[e],d);n[d.$__id__()]=b.slice()}};k.append_features=function(a,d){var b,c,f,e,g;for(g=d.$$inc.length-1;0<=g;g--)if(d.$$inc[g]===a)return;d.$$inc.push(a);a.$$dep.push(d);k._bridge(d,a);d.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:d.$$parent,$$module:a,$$iclass:!0};b=a.$$proto;c=d.$$proto;f=a.$instance_methods();for(g=f.length-1;0<=g;g--)if(e="$"+f[g],!c.hasOwnProperty(e)||c[e].$$donated||c[e].$$stub)c[e]=b[e],c[e].$$donated=a;k.donate_constants(a,d)};k.stubs=
{};k.bridge=function(a,d){if(d.$$bridge)throw k.ArgumentError.$new("already bridged");k.stub_subscribers.push(d.prototype);for(var b in k.stubs)b in d.prototype||(d.prototype[b]=k.stub_for(b));d.prototype.$$class=a;d.$$bridge=a;b=a.$ancestors();for(var c=b.length-1;0<=c;c--)k._bridge(d,b[c]);for(var f in l.prototype){var e=l.prototype[e];!e||!e.$$stub||f in d.prototype||(d.prototype[f]=e)}return a};k.donate_constants=function(a,d){for(var b=a.$$scope.constants,c=d.$$scope,f=c.constants,e=0,g=b.length;e<
g;e++)f.push(b[e]),c[b[e]]=a.$$scope[b[e]]};k.donate=function(a,d){var b=a.$$dep,c=a.$$proto[d],f,e,g,h,m,w,n,y,l,q;if(b)for(f=0,e=b.length;f<e;f++){g=b[f];h=g.$$proto;m=h[d];if(!h.hasOwnProperty(d)||m.$$donated||m.$$stub)if(h.hasOwnProperty(d)&&!m.$$stub){w=g.$$inc;n=0;for(y=w.length;n<y;n++)w[n]===m.$$donated&&(l=n),w[n]===a&&(q=n);l<=q&&(h[d]=c,h[d].$$donated=a)}else h[d]=c,h[d].$$donated=a;g.$$dep&&k.donate(g,d)}};k.ancestors=function(a){for(var d=[],b;a;){d.push(a);for(var c=0;c<a.$$inc.length;c++){b=
k.ancestors(a.$$inc[c]);for(var f=0;f<b.length;f++)d.push(b[f])}a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return d};k.add_stubs=function(a){var d,b=k.stub_subscribers,c,f=a.length,e,g=b.length,h,m;for(c=0;c<f;c++)for(h=a[c],k.stubs[h]=!0,m=k.stub_for(h),e=0;e<g;e++)d=b[e],h in d||(d[h]=m)};k.stub_subscribers=[l.prototype];k.add_stub_for=function(a,d){var b=k.stub_for(d);a[d]=b};k.stub_for=function(a){function d(){this.$method_missing.$$p=
d.$$p;d.$$p=null;for(var b=Array(arguments.length),c=0,f=b.length;c<f;c++)b[c]=arguments[c];return this.$method_missing.apply(this,[a.slice(1)].concat(b))}d.$$stub=!0;return d};k.ac=function(a,d,b,c){var f="",f=b.$$is_class||b.$$is_module?f+(b.$$name+"."):f+(b.$$class.$$name+"#");throw k.ArgumentError.$new("["+(f+c)+"] wrong number of arguments("+a+" for "+d+")");};k.block_ac=function(a,d,b){throw k.ArgumentError.$new("`block in "+b+"': wrong number of arguments ("+a+" for "+d+")");};k.find_super_dispatcher=
function(a,d,b,c,f){b=f?a.$$is_class||a.$$is_module?f.$$super:a.$$class.$$proto:k.find_obj_super_dispatcher(a,d,b);b=b["$"+d];if(!c&&b.$$stub&&k.Kernel.$method_missing===a.$method_missing)throw k.NoMethodError.$new("super: no superclass method `"+d+"' for "+a,d);return b};k.find_iter_super_dispatcher=function(a,d,b,c,f){if(!b)throw k.RuntimeError.$new("super called outside of method");if(f&&b.$$define_meth)throw k.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");
b.$$def&&(d=b.$$jsid);return k.find_super_dispatcher(a,d,b,c)};k.find_obj_super_dispatcher=function(a,d,b){a=a.$$meta||a.$$class;a=k.find_owning_class(a,b);if(!a)throw Error("could not find current class for super()");return k.find_super_func(a,"$"+d,b)};k.find_owning_class=function(a,d){for(var b=d.$$owner;!(!a||a.$$iclass&&a.$$module===d.$$donated||a.$$iclass&&a.$$module===b||b.$$is_singleton&&a===b.$$singleton_of.$$class)&&a!==b;)a=a.$$parent;return a};k.find_super_func=function(a,d,b){for(a=a.$$parent;a;){var c=
a.$$proto[d];if(c&&c!==b)break;a=a.$$parent}return a.$$proto};k.ret=function(a){k.returner.$v=a;throw k.returner;};k.brk=function(a,d){d.$v=a;throw d;};k.new_brk=function(){return Error("unexpected break")};k.yield1=function(a,d){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");var b=a.$$has_top_level_mlhs_arg,c=a.$$has_trailing_comma_in_args;if(1<a.length||(b||c)&&1===a.length)d=k.to_ary(d);return(1<a.length||c&&1===a.length)&&d.$$is_array?a.apply(null,d):a(d)};k.yieldX=function(a,
d){if("function"!==typeof a)throw k.LocalJumpError.$new("no block given");if(1<a.length&&1===d.length&&d[0].$$is_array)return a.apply(null,d[0]);if(!d.$$is_array){for(var b=Array(d.length),c=0,f=b.length;c<f;c++)b[c]=d[c];return a.apply(null,b)}return a.apply(null,d)};k.rescue=function(a,d){for(var b=0;b<d.length;b++){var c=d[b];if(c.$$is_array){if(c=k.rescue(a,c))return c}else if(c["$==="](a))return c}return null};k.is_a=function(a,d){if(a.$$meta===d)return!0;var b,c,f=k.ancestors(a.$$class);b=0;
for(c=f.length;b<c;b++)if(f[b]===d)return!0;f=k.ancestors(a.$$meta);b=0;for(c=f.length;b<c;b++)if(f[b]===d)return!0;return!1};k.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var d=a.$to_hash();if(d.$$is_hash)return d;throw k.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+d.$$class+")");}throw k.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};k.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",
!0)){var d=a.$to_ary();if(d===b)return[a];if(d.$$is_array)return d;throw k.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+d.$$class+")");}return[a]};k.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var d=a.$to_a();if(d===b)return[a];if(d.$$is_array)return d;throw k.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+d.$$class+")");}return[a]};k.extract_kwargs=function(a){var d=a[a.length-1];return null!=
d&&d["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),d.$to_hash()):k.hash2([],{})};k.kwrestargs=function(a,d){var b=[],c={},f=null,e=a.$$smap;for(f in e)d[f]||(b.push(f),c[f]=e[f]);return k.hash2(b,c)};k.send=function(a,d){for(var b=Array(Math.max(arguments.length-2,0)),c=0,f=b.length;c<f;c++)b[c]=arguments[c+2];return(c=a["$"+d])?c.apply(a,b):a.$method_missing.apply(a,[d].concat(b))};k.block_send=function(a,d,b){for(var c=Array(Math.max(arguments.length-3,0)),f=0,e=c.length;f<
e;f++)c[f]=arguments[f+3];return(f=a["$"+d])?(f.$$p=b,f.apply(a,c)):a.$method_missing.apply(a,[d].concat(c))};k.defn=function(a,d,c){a.$$proto[d]=c;c.$$owner=a;a.$$is_module&&(k.donate(a,d),a.$$module_function&&k.defs(a,d,c));if(a.$__id__&&!a.$__id__.$$stub){var f=n[a.$__id__()];if(f)for(var e=f.length-1;0<=e;e--)k.bridge_method(f[e],a,d,c)}c=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||c?c&&c.$singleton_method_added&&!c.$singleton_method_added.$$stub&&c.$singleton_method_added(d.substr(1)):
a.$method_added(d.substr(1));return b};k.defs=function(a,d,b){k.defn(k.get_singleton_class(a),d,b)};k.def=function(a,d,b){a.$$eval||!a.$$is_class&&!a.$$is_module?k.defs(a,d,b):k.defn(a,d,b)};k.rdef=function(a,d){if(!m.call(a.$$proto,d))throw k.NameError.$new("method '"+d.substr(1)+"' not defined in "+a.$name());delete a.$$proto[d];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(d.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&
a.$method_removed(d.substr(1))};k.udef=function(a,d){if(!a.$$proto[d]||a.$$proto[d].$$stub)throw k.NameError.$new("method '"+d.substr(1)+"' not defined in "+a.$name());k.add_stub_for(a.$$proto,d);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(d.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(d.substr(1))};k.alias=function(a,d,b){var c="$"+d,f="$"+b,e=a.$$proto["$"+b];if(a.$$eval)return k.alias(k.get_singleton_class(a),
d,b);if("function"!==typeof e||e.$$stub){for(d=a.$$super;"function"!==typeof e&&d;)e=d[f],d=d.$$super;if("function"!==typeof e||e.$$stub)throw k.NameError.$new("undefined method `"+b+"' for class `"+a.$name()+"'");}k.defn(a,c,e);return a};k.alias_native=function(a,d,b){d="$"+d;var c=a.$$proto[b];if("function"!==typeof c||c.$$stub)throw k.NameError.$new("undefined native method `"+b+"' for class `"+a.$name()+"'");k.defn(a,d,c);return a};k.hash_init=function(a){a.$$smap={};a.$$map={};a.$$keys=[]};k.hash_clone=
function(a,d){d.$$none=a.$$none;d.$$proc=a.$$proc;for(var b=0,c=a.$$keys.length,f,e;b<c;b++)f=a.$$keys[b],f.$$is_string?e=a.$$smap[f]:(e=f.value,f=f.key),k.hash_put(d,f,e)};k.hash_put=function(d,b,c){if(b.$$is_string)d.$$smap.hasOwnProperty(b)||d.$$keys.push(b),d.$$smap[b]=c;else{var f=b.$hash(),e,g;if(d.$$map.hasOwnProperty(f)){for(e=d.$$map[f];e;){if(b===e.key||b["$eql?"](e.key)){g=a;e.value=c;break}g=e;e=e.next}g&&(e={key:b,key_hash:f,value:c},d.$$keys.push(e),g.next=e)}else e={key:b,key_hash:f,
value:c},d.$$keys.push(e),d.$$map[f]=e}};k.hash_get=function(a,d){if(d.$$is_string){if(a.$$smap.hasOwnProperty(d))return a.$$smap[d]}else{var b=d.$hash();if(a.$$map.hasOwnProperty(b))for(b=a.$$map[b];b;){if(d===b.key||d["$eql?"](b.key))return b.value;b=b.next}}};k.hash_delete=function(a,d){var b,c=a.$$keys,f=c.length,e;if(d.$$is_string){if(!a.$$smap.hasOwnProperty(d))return;for(b=0;b<f;b++)if(c[b]===d){c.splice(b,1);break}e=a.$$smap[d];delete a.$$smap[d];return e}var g=d.$hash();if(a.$$map.hasOwnProperty(g))for(var h=
a.$$map[g],k;h;){if(d===h.key||d["$eql?"](h.key)){e=h.value;for(b=0;b<f;b++)if(c[b]===h){c.splice(b,1);break}k&&h.next?k.next=h.next:k?delete k.next:h.next?a.$$map[g]=h.next:delete a.$$map[g];return e}k=h;h=h.next}};k.hash_rehash=function(d){for(var b=0,c=d.$$keys.length,f,e,g;b<c;b++)if(!d.$$keys[b].$$is_string&&(f=d.$$keys[b].key.$hash(),f!==d.$$keys[b].key_hash)){e=d.$$map[d.$$keys[b].key_hash];for(g=a;e;){if(e===d.$$keys[b]){g&&e.next?g.next=e.next:g?delete g.next:e.next?d.$$map[d.$$keys[b].key_hash]=
e.next:delete d.$$map[d.$$keys[b].key_hash];break}g=e;e=e.next}d.$$keys[b].key_hash=f;if(d.$$map.hasOwnProperty(f)){e=d.$$map[f];for(g=a;e;){if(e===d.$$keys[b]){g=a;break}g=e;e=e.next}g&&(g.next=d.$$keys[b])}else d.$$map[f]=d.$$keys[b]}};k.hash=function(){var a=arguments.length,d,b,c,f,e;if(1===a&&arguments[0].$$is_hash)return arguments[0];d=new k.Hash.$$alloc;k.hash_init(d);if(1===a&&arguments[0].$$is_array){a=arguments[0];c=a.length;for(b=0;b<c;b++){if(2!==a[b].length)throw k.ArgumentError.$new("value not of length 2: "+
a[b].$inspect());f=a[b][0];e=a[b][1];k.hash_put(d,f,e)}return d}if(1===a){a=arguments[0];for(f in a)a.hasOwnProperty(f)&&(e=a[f],k.hash_put(d,f,e));return d}if(0!==a%2)throw k.ArgumentError.$new("odd number of arguments for Hash");for(b=0;b<a;b+=2)f=arguments[b],e=arguments[b+1],k.hash_put(d,f,e);return d};k.hash2=function(a,d){var b=new k.Hash.$$alloc;b.$$smap=d;b.$$map={};b.$$keys=a;return b};k.range=function(a,d,b){var c=new k.Range.$$alloc;c.begin=a;c.end=d;c.exclude=b;return c};k.ivar=function(a){return"constructor"===
a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};k.modules={};k.loaded_features=["corelib/runtime"];k.current_dir=".";k.require_table={"corelib/runtime":!0};k.normalize=function(a){var d,b=[];"."!==k.current_dir&&(a=k.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var c=0,f=a.length;c<f;c++)d=a[c],""!==d&&(".."===d?b.pop():b.push(d));return b.join("/")};k.loaded=function(a){var d,
b,c;d=0;for(b=a.length;d<b;d++){c=k.normalize(a[d]);if(k.require_table[c])break;k.loaded_features.push(c);k.require_table[c]=!0}};k.load=function(a){a=k.normalize(a);k.loaded([a]);var d=k.modules[a];if(d)d(k);else if(d=k.config.missing_require_severity,a="cannot load such file -- "+a,"error"===d)if(k.LoadError)k.LoadError.$new(a);else throw a;else"warning"===d&&console.warn("WARNING: LoadError: "+a);return!0};k.require=function(a){a=k.normalize(a);return k.require_table[a]?!1:k.load(a)};k.boot_class_alloc("BasicObject",
l);k.boot_class_alloc("Object",q,l);k.boot_class_alloc("Module",g,q);k.boot_class_alloc("Class",e,g);k.BasicObject=c=k.setup_class_object("BasicObject",l,"Class",e);k.Object=d=k.setup_class_object("Object",q,"BasicObject",c.constructor);k.Module=w=k.setup_class_object("Module",g,"Object",d.constructor);k.Class=v=k.setup_class_object("Class",e,"Module",w.constructor);k.constants.push("BasicObject");k.constants.push("Object");k.constants.push("Module");k.constants.push("Class");c.$$class=v;d.$$class=
v;w.$$class=v;v.$$class=v;c.$$super=null;d.$$super=c;w.$$super=d;v.$$super=w;c.$$parent=null;d.$$parent=c;w.$$parent=d;v.$$parent=w;k.base=d;c.$$scope=d.$$scope=k;c.$$orig_scope=d.$$orig_scope=k;w.$$scope=d.$$scope;w.$$orig_scope=d.$$orig_scope;v.$$scope=d.$$scope;v.$$orig_scope=d.$$orig_scope;d.$$proto.toString=function(){return this.$to_s()};d.$$proto.$require=k.require;k.top=new d.$$alloc;k.klass(d,d,"NilClass",h);b=k.nil=new h;b.$$id=4;b.call=b.apply=function(){throw k.LocalJumpError.$new("no block given");
};k.breaker=Error("unexpected break (old)");k.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);"undefined"!==typeof global&&(global.Opal=this.Opal,Opal.global=global);"undefined"!==typeof window&&(window.Opal=this.Opal,Opal.global=window);
Opal.modules["corelib/helpers"]=function(a){var l=a.nil,q=a.module;a.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to! $!= $[] $upcase".split(" "));return function(e){e=q(e,"Opal");var g=e.$$scope,h,b,c,d,w,v,k,n,f,m,r,x,E;a.defs(e,"$bridge",h=function(d,b){return a.bridge(d,b)},h.$$arity=2);a.defs(e,"$type_error",b=function(a,d,b,c){var f;null==b&&(b=l);null==c&&(c=l);return(f=!1!==b&&b!==l&&null!=b?c:b)===l||null==f||f.$$is_boolean&&
1!=f?g.get("TypeError").$new("no implicit conversion of "+a.$class()+" into "+d):g.get("TypeError").$new("can't convert "+a.$class()+" into "+d+" ("+a.$class()+"#"+b+" gives "+c.$class())},b.$$arity=-3);a.defs(e,"$coerce_to",c=function(a,d,b){var c;if((c=d["$==="](a))!==l&&null!=c&&(!c.$$is_boolean||1==c))return a;((c=a["$respond_to?"](b))===l||null==c||c.$$is_boolean&&1!=c)&&this.$raise(this.$type_error(a,d));return a.$__send__(b)},c.$$arity=3);a.defs(e,"$coerce_to!",d=function(a,d,b){var c,f=l,
f=this.$coerce_to(a,d,b);((c=d["$==="](f))===l||null==c||c.$$is_boolean&&1!=c)&&this.$raise(this.$type_error(a,d,b,f));return f},d.$$arity=3);a.defs(e,"$coerce_to?",w=function(a,d,b){var c,f=l;if((c=a["$respond_to?"](b))===l||null==c||c.$$is_boolean&&1!=c)return l;f=this.$coerce_to(a,d,b);if((c=f["$nil?"]())!==l&&null!=c&&(!c.$$is_boolean||1==c))return l;((c=d["$==="](f))===l||null==c||c.$$is_boolean&&1!=c)&&this.$raise(this.$type_error(a,d,b,f));return f},w.$$arity=3);a.defs(e,"$try_convert",v=function(a,
d,b){var c;return(c=d["$==="](a))===l||null==c||c.$$is_boolean&&1!=c?(c=a["$respond_to?"](b))===l||null==c||c.$$is_boolean&&1!=c?l:a.$__send__(b):a},v.$$arity=3);a.defs(e,"$compare",k=function(a,d){var b,c=l,c=a["$<=>"](d);(b=c===l)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(g.get("ArgumentError"),"comparison of "+a.$class()+" with "+d.$class()+" failed");return c},k.$$arity=2);a.defs(e,"$destructure",n=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var d=Array(a.length),
b=0,c=d.length;b<c;b++)d[b]=a[b];return d},n.$$arity=1);a.defs(e,"$respond_to?",f=function(a,d){return null!=a&&a.$$class?a["$respond_to?"](d):!1},f.$$arity=2);a.defs(e,"$inspect",m=function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()},m.$$arity=1);a.defs(e,"$instance_variable_name!",r=function(a){var d;a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str");((d=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===l||null==d||d.$$is_boolean&&1!=d)&&this.$raise(g.get("NameError").$new("'"+
a+"' is not allowed as an instance variable name",a));return a},r.$$arity=1);a.defs(e,"$const_name!",x=function(a){var d;a=g.get("Opal")["$coerce_to!"](a,g.get("String"),"to_str");(d=a["$[]"](0)["$!="](a["$[]"](0).$upcase()))===l||null==d||d.$$is_boolean&&1!=d||this.$raise(g.get("NameError"),"wrong constant name "+a);return a},x.$$arity=1);a.defs(e,"$pristine",E=function(a,d){var b,c=arguments.length;b=c-1;0>b&&(b=0);b=Array(b);for(var f=1;f<c;f++)b[f-1]=arguments[f];for(f=b.length-1;0<=f;f--)c=b[f],
a.$$proto["$"+c].$$pristine=!0;return l},E.$$arity=-2)}(a.base)};
Opal.modules["corelib/module"]=function(a){function l(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}function q(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}var e=a.nil,g=a.klass,h=a.range,b=a.hash2;a.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $coerce_to! $new $const_name! $=~ $inject $const_get $split $const_missing $== $! $start_with? $to_proc $lambda $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $to_s $__id__ $constants $include?".split(" "));return function(c,
$super){function w(){}var v=w=g(c,$super,"Module",w),k=v.$$scope,n,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na;a.defs(v,"$allocate",n=function(){var b;b=a.module_allocate();a.create_scope(a.Module.$$scope,b,null);return b},n.$$arity=0);a.defn(v,"$initialize",f=function(){var b=f.$$p||e;f.$$p=null;return a.module_initialize(this,b)},f.$$arity=0);a.defn(v,"$===",m=function(b){var c;return(c=null==b)===e||null==c||c.$$is_boolean&&1!=c?a.is_a(b,
this):!1},m.$$arity=1);a.defn(v,"$<",r=function(b){var c;((c=k.get("Module")["$==="](b))===e||null==c||c.$$is_boolean&&1!=c)&&this.$raise(k.get("TypeError"),"compared with non class/module");var f,p;if(this===b)return!1;f=0;c=a.ancestors(this);for(p=c.length;f<p;f++)if(c[f]===b)return!0;f=0;c=a.ancestors(b);for(p=c.length;f<p;f++)if(c[f]===this)return!1;return e},r.$$arity=1);a.defn(v,"$<=",x=function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==e&&null!=b?b:l(this,a)},x.$$arity=1);a.defn(v,"$>",
E=function(a){var b;((b=k.get("Module")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(k.get("TypeError"),"compared with non class/module");return l(a,this)},E.$$arity=1);a.defn(v,"$>=",B=function(a){var b;return!1!==(b=this["$equal?"](a))&&b!==e&&null!=b?b:q(this,a)},B.$$arity=1);a.defn(v,"$<=>",t=function(a){var b,c=e;if(this===a)return 0;if((b=k.get("Module")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b)return e;c=l(this,a);return(b=c["$nil?"]())===e||null==b||b.$$is_boolean&&1!=
b?!1!==c&&c!==e&&null!=c?-1:1:e},t.$$arity=1);a.defn(v,"$alias_method",u=function(b,c){a.alias(this,b,c);return this},u.$$arity=2);a.defn(v,"$alias_native",D=function(b,c){null==c&&(c=b);a.alias_native(this,b,c);return this},D.$$arity=-2);a.defn(v,"$ancestors",G=function(){return a.ancestors(this)},G.$$arity=0);a.defn(v,"$append_features",z=function(b){a.append_features(this,b);return this},z.$$arity=1);a.defn(v,"$attr_accessor",I=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var p=
0;p<f;p++)c[p-0]=arguments[p];this.$attr_reader.apply(this,a.to_a(c));return this.$attr_writer.apply(this,a.to_a(c))},I.$$arity=-1);a.alias(v,"attr","attr_accessor");a.defn(v,"$attr_reader",J=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var p=0;p<f;p++)c[p-0]=arguments[p];f=this.$$proto;for(p=c.length-1;0<=p;p--){var g=c[p],h="$"+g,g=a.ivar(g),k=function(a){return function(){return null==this[a]?e:this[a]}}(g);f[g]=e;k.$$parameters=[];k.$$arity=0;this.$$is_singleton?f.constructor.prototype[h]=
k:a.defn(this,h,k)}return e},J.$$arity=-1);a.defn(v,"$attr_writer",F=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var p=0;p<f;p++)c[p-0]=arguments[p];f=this.$$proto;for(p=c.length-1;0<=p;p--){var g=c[p],h="$"+g+"=",g=a.ivar(g),k=function(a){return function(b){return this[a]=b}}(g);k.$$parameters=[["req"]];k.$$arity=1;f[g]=e;this.$$is_singleton?f.constructor.prototype[h]=k:a.defn(this,h,k)}return e},F.$$arity=-1);a.defn(v,"$autoload",y=function(a,b){var c;(c=this.$$autoload)||
(c=this.$$autoload={});c[a]=b;return e},y.$$arity=2);a.defn(v,"$class_variable_get",M=function(b){var c;b=k.get("Opal")["$coerce_to!"](b,k.get("String"),"to_str");(c=3>b.length||"@@"!==b.slice(0,2))===e||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("NameError").$new("class vars should start with @@",b));var f=a.cvars[b.slice(2)];(c=null==f)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(k.get("NameError").$new("uninitialized class variable @@a in",b));return f},M.$$arity=1);a.defn(v,"$class_variable_set",
N=function(b,c){var f;b=k.get("Opal")["$coerce_to!"](b,k.get("String"),"to_str");(f=3>b.length||"@@"!==b.slice(0,2))===e||null==f||f.$$is_boolean&&1!=f||this.$raise(k.get("NameError"));return a.cvars[b.slice(2)]=c},N.$$arity=2);a.defn(v,"$constants",Q=function(){return this.$$scope.constants.slice(0)},Q.$$arity=0);a.defn(v,"$const_defined?",V=function(b,c){var f;null==c&&(c=!0);b=k.get("Opal")["$const_name!"](b);((f=b["$=~"](k.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===e||null==f||f.$$is_boolean&&
1!=f)&&this.$raise(k.get("NameError").$new("wrong constant name "+b,b));f=[this.$$scope];if(c||this===a.Object)for(var p=this.$$super;p!==a.BasicObject;)f.push(p.$$scope),p=p.$$super;for(var p=0,g=f.length;p<g;p++)if(f[p].hasOwnProperty(b))return!0;return!1},V.$$arity=-2);a.defn(v,"$const_get",T=function(b,c){var f,p,g;null==c&&(c=!0);b=k.get("Opal")["$const_name!"](b);0===b.indexOf("::")&&"::"!==b&&(b=b.slice(2));if((f=-1!=b.indexOf("::")&&"::"!=b)!==e&&null!=f&&(!f.$$is_boolean||1==f))return(f=
(p=b.$split("::")).$inject,f.$$p=(g=function(a,b){null==a&&(a=e);null==b&&(b=e);return a.$const_get(b)},g.$$s=this,g.$$arity=2,g),f).call(p,this);((f=b["$=~"](k.get("Opal").$$scope.get("CONST_NAME_REGEXP")))===e||null==f||f.$$is_boolean&&1!=f)&&this.$raise(k.get("NameError").$new("wrong constant name "+b,b));f=[this.$$scope];if(c||this==a.Object)for(p=this.$$super;p!==a.BasicObject;)f.push(p.$$scope),p=p.$$super;p=0;for(g=f.length;p<g;p++)if(f[p].hasOwnProperty(b))return f[p][b];return this.$const_missing(b)},
T.$$arity=-2);a.defn(v,"$const_missing",Y=function(a){var b=e;if(this.$$autoload&&(b=this.$$autoload[a]))return this.$require(b),this.$const_get(a);b=this["$=="](k.get("Object"))?a:""+this+"::"+a;return this.$raise(k.get("NameError").$new("uninitialized constant "+b,a))},Y.$$arity=1);a.defn(v,"$const_set",S=function(b,c){var f,p;b=k.get("Opal")["$const_name!"](b);(f=!1!==(p=b["$=~"](k.get("Opal").$$scope.get("CONST_NAME_REGEXP"))["$!"]())&&p!==e&&null!=p?p:b["$start_with?"]("::"))===e||null==f||f.$$is_boolean&&
1!=f||this.$raise(k.get("NameError").$new("wrong constant name "+b,b));a.casgn(this,b,c);return c},S.$$arity=2);a.defn(v,"$define_method",A=function(b,c){var f,p,g,h,U=this,m=A.$$p||e,u=e;A.$$p=null;(f=void 0===c&&m===e)===e||null==f||f.$$is_boolean&&1!=f||U.$raise(k.get("ArgumentError"),"tried to create a Proc object without a block");!1!==(f=m)&&f!==e&&null!=f?f:m=function(){u=c;return k.get("Proc")["$==="](u)?c:k.get("Method")["$==="](u)?c.$to_proc().$$unbound:k.get("UnboundMethod")["$==="](u)?
(p=(g=U).$lambda,p.$$p=(h=function(b){var f=h.$$s||this,p,g,k=e,k=arguments.length;p=k-0;0>p&&(p=0);p=Array(p);for(var C=0;C<k;C++)p[C-0]=arguments[C];k=c.$bind(f);return(g=k).$call.apply(g,a.to_a(p))},h.$$s=U,h.$$arity=-1,h),p).call(g):U.$raise(k.get("TypeError"),"wrong argument type "+m.$class()+" (expected Proc/Method)")}();m.$$jsid=b;m.$$s=null;m.$$def=m;m.$$define_meth=!0;a.defn(U,"$"+b,m);return b},A.$$arity=-2);a.defn(v,"$remove_method",W=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=
0);c=Array(c);for(var p=0;p<f;p++)c[p-0]=arguments[p];f=0;for(p=c.length;f<p;f++)a.rdef(this,"$"+c[f]);return this},W.$$arity=-1);a.defn(v,"$singleton_class?",aa=function(){return!!this.$$is_singleton},aa.$$arity=0);a.defn(v,"$include",ga=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];for(c=b.length-1;0<=c;c--)f=b[c],f!==this&&(f.$$is_module||this.$raise(k.get("TypeError"),"wrong argument type "+f.$class()+" (expected Module)"),f.$append_features(this),
f.$included(this));return this},ga.$$arity=-1);a.defn(v,"$included_modules",Z=function(){var a,b=function(a){for(var c=[],f=0;f!=a.$$inc.length;f++){var e=a.$$inc[f];c.push(e);c=c.concat(b(e))}return c};a=b(this);if(this.$$is_class)for(var c=this;c;c=c.$$super)a=a.concat(b(c));return a},Z.$$arity=0);a.defn(v,"$include?",ia=function(a){for(var b=this;b;b=b.$$super)for(var c=0;c!=b.$$inc.length;c++)if(a===b.$$inc[c])return!0;return!1},ia.$$arity=1);a.defn(v,"$instance_method",ha=function(a){var b=this.$$proto["$"+
a];b&&!b.$$stub||this.$raise(k.get("NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return k.get("UnboundMethod").$new(this,b,a)},ha.$$arity=1);a.defn(v,"$instance_methods",la=function(b){null==b&&(b=!0);var c=[],f=this.$$proto,p;for(p in f)if("$"===p.charAt(0)&&"function"===typeof f[p]&&!f[p].$$stub){if(!this.$$is_module){if(this!==a.BasicObject&&f[p]===a.BasicObject.$$proto[p])continue;if(!b&&!f.hasOwnProperty(p))continue;if(!b&&f[p].$$donated)continue}c.push(p.substr(1))}return c},
la.$$arity=-1);a.defn(v,"$included",fa=function(a){return e},fa.$$arity=1);a.defn(v,"$extended",ea=function(a){return e},ea.$$arity=1);a.defn(v,"$method_added",ja=function(a){return e},ja.$$arity=-1);a.defn(v,"$method_removed",ka=function(a){return e},ka.$$arity=-1);a.defn(v,"$method_undefined",K=function(a){return e},K.$$arity=-1);a.defn(v,"$module_eval",P=function(c){var f,g,p,O,U=P.$$p||e,X=e,m=O=O=O=e,X=arguments.length;O=X-0;0>O&&(O=0);O=Array(O);for(var u=0;u<X;u++)O[u-0]=arguments[u];P.$$p=
null;(f=(g=U["$nil?"](),!1!==g&&g!==e&&null!=g?!!a.compile:g))===e||null==f||f.$$is_boolean&&1!=f?(f=q(O.$size(),0))===e||null==f||f.$$is_boolean&&1!=f||k.get("Kernel").$raise(k.get("ArgumentError"),"wrong number of arguments ("+O.$size()+" for 0)"):(((f=h(1,3,!1)["$cover?"](O.$size()))===e||null==f||f.$$is_boolean&&1!=f)&&k.get("Kernel").$raise(k.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=a.to_a(O),X=null==f[0]?e:f[0],O=null==f[1]?e:f[1],f,O=b(["file","eval"],{file:!1!==(f=
O)&&f!==e&&null!=f?f:"(eval)",eval:!0}),O=a.hash({arity_check:!1}).$merge(O),m=k.get("Opal").$compile(X,O),U=(f=(g=k.get("Kernel")).$proc,f.$$p=(p=function(){return function(a){return eval(m)}(p.$$s||this)},p.$$s=this,p.$$arity=0,p),f).call(g));f=U.$$s;U.$$s=null;g=U.apply(this,[this]);U.$$s=f;return g},P.$$arity=-1);a.alias(v,"class_eval","module_eval");a.defn(v,"$module_exec",U=function(a){var b,c=U.$$p||e,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];U.$$p=
null;c===e&&this.$raise(k.get("LocalJumpError"),"no block given");f=c.$$s;c.$$s=null;b=c.apply(this,b);c.$$s=f;return b},U.$$arity=-1);a.alias(v,"class_exec","module_exec");a.defn(v,"$method_defined?",R=function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub},R.$$arity=1);a.defn(v,"$module_function",qa=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];if(0===c.length)this.$$module_function=!0;else for(f=0,e=c.length;f<e;f++){var g="$"+c[f];a.defs(this,
g,this.$$proto[g])}return this},qa.$$arity=-1);a.defn(v,"$name",ra=function(){if(this.$$full_name)return this.$$full_name;for(var b=[],c=this;c;){if(c.$$name===e)return 0===b.length?e:b.join("::");b.unshift(c.$$name);c=c.$$base_module;if(c===a.Object)break}return 0===b.length?e:this.$$full_name=b.join("::")},ra.$$arity=0);a.defn(v,"$remove_class_variable",pa=function(a){return e},pa.$$arity=-1);a.defn(v,"$remove_const",va=function(a){var b=this.$$scope[a];delete this.$$scope[a];return b},va.$$arity=
1);a.defn(v,"$to_s",oa=function(){var b;return!1!==(b=a.Module.$name.call(this))&&b!==e&&null!=b?b:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},oa.$$arity=0);a.defn(v,"$undef_method",ta=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];f=0;for(e=c.length;f<e;f++)a.udef(this,"$"+c[f]);return this},ta.$$arity=-1);return(a.defn(v,"$instance_variables",na=function(){var a=e,a=this.$constants(),b=[],c;for(c in this)this.hasOwnProperty(c)&&
"$"!==c.charAt(0)&&"constructor"!==c&&!a["$include?"](c)&&b.push("@"+c);return b},na.$$arity=0),e)&&"instance_variables"}(a.base,null)};
Opal.modules["corelib/class"]=function(a){var l=a.top,q=a.nil,e=a.klass;a.add_stubs(["$require","$allocate","$name","$to_s"]);l.$require("corelib/module");return function(g,$super){function b(){}var c=b=e(g,$super,"Class",b),d=c.$$scope,w,l,k,n,f,m;a.defs(c,"$new",w=function(b){var c=w.$$p||q;null==b&&(b=d.get("Object"));w.$$p=null;if(!b.$$is_class)throw a.TypeError.$new("superclass must be a Class");var f=a.boot_class_alloc(null,function(){},b),f=a.setup_class_object(null,f,b.$$name,b.constructor);
f.$$super=b;f.$$parent=b;a.create_scope(b.$$scope,f);b.$inherited(f);a.module_initialize(f,c);return f},w.$$arity=-1);a.defn(c,"$allocate",l=function(){var d=new this.$$alloc;d.$$id=a.uid();return d},l.$$arity=0);a.defn(c,"$inherited",k=function(a){return q},k.$$arity=1);a.defn(c,"$new",n=function(a){var d,b=n.$$p||q,c=arguments.length;d=c-0;0>d&&(d=0);d=Array(d);for(var f=0;f<c;f++)d[f-0]=arguments[f];n.$$p=null;c=this.$allocate();c.$initialize.$$p=b;c.$initialize.apply(c,d);return c},n.$$arity=
-1);a.defn(c,"$superclass",f=function(){return this.$$super||q},f.$$arity=0);return(a.defn(c,"$to_s",m=function(){var d;m.$$p=null;var b=this.$$singleton_of;return b&&(b.$$is_class||b.$$is_module)?"#<Class:"+b.$name()+">":b?"#<Class:#<"+b.$$class.$name()+":0x"+b.$$id.$to_s(16)+">>":(d=a.find_super_dispatcher(this,"to_s",m,!1),d.$$p=null,d).call(this)},m.$$arity=0),q)&&"to_s"}(a.base,null)};
Opal.modules["corelib/basic_object"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var q=a.nil,e=a.klass,g=a.range,h=a.hash2;a.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $> $new $inspect".split(" "));return function(b,$super){function d(){}var w=d=e(b,$super,"BasicObject",d),v=w.$$scope,k,n,f,m,r,x,E,B,t,u,D,G,z;a.defn(w,"$initialize",k=function(a){return q},k.$$arity=-1);a.defn(w,"$==",n=function(a){return this===a},n.$$arity=1);
a.defn(w,"$eql?",f=function(a){return this["$=="](a)},f.$$arity=1);a.alias(w,"equal?","==");a.defn(w,"$__id__",m=function(){return this.$$id||(this.$$id=a.uid())},m.$$arity=0);a.defn(w,"$__send__",r=function(a,d){var b,f=r.$$p||q,e=arguments.length;b=e-1;0>b&&(b=0);b=Array(b);for(var g=1;g<e;g++)b[g-1]=arguments[g];r.$$p=null;if(e=this["$"+a])return f!==q&&(e.$$p=f),e.apply(this,b);f!==q&&(this.$method_missing.$$p=f);return this.$method_missing.apply(this,[a].concat(b))},r.$$arity=-2);a.defn(w,"$!",
x=function(){return!1},x.$$arity=0);a.defn(w,"$!=",E=function(a){return this["$=="](a)["$!"]()},E.$$arity=1);a.alias(w,"equal?","==");a.defn(w,"$instance_eval",B=function(d){var b,f,e,k,m=B.$$p||q,u=q,w=k=k=k=q,u=arguments.length;k=u-0;0>k&&(k=0);k=Array(k);for(var n=0;n<u;n++)k[n-0]=arguments[n];B.$$p=null;(b=(f=m["$nil?"](),!1!==f&&f!==q&&null!=f?!!a.compile:f))===q||null==b||b.$$is_boolean&&1!=b?(b=l(k.$size(),0))===q||null==b||b.$$is_boolean&&1!=b||v.get("Kernel").$raise(v.get("ArgumentError"),
"wrong number of arguments ("+k.$size()+" for 0)"):(((b=g(1,3,!1)["$cover?"](k.$size()))===q||null==b||b.$$is_boolean&&1!=b)&&v.get("Kernel").$raise(v.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),b=a.to_a(k),u=null==b[0]?q:b[0],k=null==b[1]?q:b[1],b,k=h(["file","eval"],{file:!1!==(b=k)&&b!==q&&null!=b?b:"(eval)",eval:!0}),k=a.hash({arity_check:!1}).$merge(k),w=v.get("Opal").$compile(u,k),m=(b=(f=v.get("Kernel")).$proc,b.$$p=(e=function(){return function(a){return eval(w)}(e.$$s||
this)},e.$$s=this,e.$$arity=0,e),b).call(f));b=m.$$s;var r;m.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{r=m.call(this,this)}finally{this.$$eval=!1}}else r=m.call(this,this);m.$$s=b;return r},B.$$arity=-1);a.defn(w,"$instance_exec",t=function(a){var d,b=t.$$p||q,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];t.$$p=null;!1!==b&&b!==q&&null!=b||v.get("Kernel").$raise(v.get("ArgumentError"),"no block given");var f=b.$$s,g;b.$$s=null;if(this.$$is_class||
this.$$is_module){this.$$eval=!0;try{g=b.apply(this,d)}finally{this.$$eval=!1}}else g=b.apply(this,d);b.$$s=f;return g},t.$$arity=-1);a.defn(w,"$singleton_method_added",u=function(a){return q},u.$$arity=-1);a.defn(w,"$singleton_method_removed",D=function(a){return q},D.$$arity=-1);a.defn(w,"$singleton_method_undefined",G=function(a){return q},G.$$arity=-1);return(a.defn(w,"$method_missing",z=function(a,d){var b,f,e=arguments.length;f=e-1;0>f&&(f=0);f=Array(f);for(var g=1;g<e;g++)f[g-1]=arguments[g];
z.$$p=null;return v.get("Kernel").$raise(v.get("NoMethodError").$new((b=this.$inspect&&!this.$inspect.$$stub)===q||null==b||b.$$is_boolean&&1!=b?"undefined method `"+a+"' for "+this.$$class:"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class,a))},z.$$arity=-2),q)&&"method_missing"}(a.base,null)};
Opal.modules["corelib/kernel"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var e=a.nil,g=a.module,h=a.gvars,b=a.hash2,c=a.klass;a.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $to_proc $singleton_class $initialize_dup $for $> $size $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $print $format $puts $each $<= $empty? $exception $kind_of? $respond_to_missing? $try_convert! $expand_path $join $start_with? $sym $arg $open $include".split(" "));
(function(d){d=g(d,"Kernel");var c=d.$$scope,v,k,n,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na,wa,ya,da,p,O,ua,X,sa,xa,Aa,Ba,ba,za,L;a.defn(d,"$method_missing",v=function(a,b){var d,f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var e=1;e<f;e++)d[e-1]=arguments[e];v.$$p=null;return this.$raise(c.get("NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,d))},v.$$arity=-2);a.defn(d,"$=~",k=function(a){return!1},k.$$arity=
1);a.defn(d,"$!~",n=function(a){return this["$=~"](a)["$!"]()},n.$$arity=1);a.defn(d,"$===",f=function(a){var b;return!1!==(b=this.$object_id()["$=="](a.$object_id()))&&b!==e&&null!=b?b:this["$=="](a)},f.$$arity=1);a.defn(d,"$<=>",m=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==e?0:e},m.$$arity=1);a.defn(d,"$method",r=function(a){var b=this["$"+a];b&&!b.$$stub||this.$raise(c.get("NameError").$new("undefined method `"+a+"' for class `"+this.$class()+"'",a));return c.get("Method").$new(this,
b,a)},r.$$arity=1);a.defn(d,"$methods",x=function(b){null==b&&(b=!0);var d=[],c;for(c in this)"$"==c[0]&&"function"===typeof this[c]&&(0!=b&&b!==e||a.hasOwnProperty.call(this,c))&&void 0===this[c].$$stub&&d.push(c.substr(1));return d},x.$$arity=-1);a.alias(d,"public_methods","methods");a.defn(d,"$Array",E=function(a){var b;if(a===e)return[];if(a.$$is_array)return a;b=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_ary");if(b!==e)return b;b=c.get("Opal")["$coerce_to?"](a,c.get("Array"),"to_a");return b!==
e?b:[a]},E.$$arity=1);a.defn(d,"$at_exit",B=function(){var a,b=B.$$p||e;null==h.__at_exit__&&(h.__at_exit__=e);B.$$p=null;!1!==(a=h.__at_exit__)&&a!==e&&null!=a?a:h.__at_exit__=[];return h.__at_exit__["$<<"](b)},B.$$arity=0);a.defn(d,"$caller",t=function(){return[]},t.$$arity=0);a.defn(d,"$class",u=function(){return this.$$class},u.$$arity=0);a.defn(d,"$copy_instance_variables",D=function(a){for(var b in a)a.hasOwnProperty(b)&&"$"!==b.charAt(0)&&(this[b]=a[b])},D.$$arity=1);a.defn(d,"$copy_singleton_methods",
G=function(b){var d;if(b.hasOwnProperty("$$meta")){var c=a.get_singleton_class(b).$$proto,f=a.get_singleton_class(this).$$proto;for(d in c)"$"===d.charAt(0)&&c.hasOwnProperty(d)&&(f[d]=c[d])}for(d in b)"$"===d.charAt(0)&&"$"!==d.charAt(1)&&b.hasOwnProperty(d)&&(this[d]=b[d])},G.$$arity=1);a.defn(d,"$clone",z=function(){var a=e,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},z.$$arity=0);a.defn(d,"$initialize_clone",I=
function(a){return this.$initialize_copy(a)},I.$$arity=1);a.defn(d,"$define_singleton_method",J=function(a,b){var d,c,f=J.$$p||e;J.$$p=null;return(d=(c=this.$singleton_class()).$define_method,d.$$p=f.$to_proc(),d).call(c,a,b)},J.$$arity=-2);a.defn(d,"$dup",F=function(){var a=e,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},F.$$arity=0);a.defn(d,"$initialize_dup",y=function(a){return this.$initialize_copy(a)},y.$$arity=1);a.defn(d,"$enum_for",M=function(b,
d){var f,p,g,h=M.$$p||e;null==b&&(b="each");var k=arguments.length;g=k-1;0>g&&(g=0);g=Array(g);for(var O=1;O<k;O++)g[O-1]=arguments[O];M.$$p=null;return(f=(p=c.get("Enumerator")).$for,f.$$p=h.$to_proc(),f).apply(p,[this,b].concat(a.to_a(g)))},M.$$arity=-1);a.alias(d,"to_enum","enum_for");a.defn(d,"$equal?",N=function(a){return this===a},N.$$arity=1);a.defn(d,"$exit",Q=function(b){var d,c,f=e;null==h.__at_exit__&&(h.__at_exit__=e);null==b&&(b=!0);for(!1!==(d=h.__at_exit__)&&d!==e&&null!=d?d:h.__at_exit__=
[];(c=l(h.__at_exit__.$size(),0))!==e&&null!=c&&(!c.$$is_boolean||1==c);)f=h.__at_exit__.$pop(),f.$call();(d=!0===b)===e||null==d||d.$$is_boolean&&1!=d||(b=0);a.exit(b);return e},Q.$$arity=-1);a.defn(d,"$extend",V=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];d=this.$singleton_class();for(f=b.length-1;0<=f;f--){var e=b[f];e.$$is_module||this.$raise(c.get("TypeError"),"wrong argument type "+e.$class()+" (expected Module)");e.$append_features(d);
e.$extended(this)}return this},V.$$arity=-1);a.defn(d,"$format",T=function(a,b){function d(){t&32&&X.$raise(c.get("ArgumentError"),"flag after width");t&128&&X.$raise(c.get("ArgumentError"),"flag after precision")}function f(){t&32&&X.$raise(c.get("ArgumentError"),"width given twice");t&128&&X.$raise(c.get("ArgumentError"),"width after precision")}function p(a){a>=da.length&&X.$raise(c.get("ArgumentError"),"too few arguments");return da[a]}function g(){switch(na){case -1:X.$raise(c.get("ArgumentError"),
"unnumbered("+P+") mixed with numbered");case -2:X.$raise(c.get("ArgumentError"),"unnumbered("+P+") mixed with named")}na=P++;return p(na-1)}function k(a){0<na&&X.$raise(c.get("ArgumentError"),"numbered("+a+") after unnumbered("+na+")");-2===na&&X.$raise(c.get("ArgumentError"),"numbered("+a+") after named");1>a&&X.$raise(c.get("ArgumentError"),"invalid index - "+a+"$");na=-1;return p(a-1)}function O(){return void 0===v?g():v}function L(b){var d;for(d="";;n++){n===ja&&X.$raise(c.get("ArgumentError"),
"malformed format string - %*[0-9]");if(48>a.charCodeAt(n)||57<a.charCodeAt(n))return n--,d=parseInt(d,10)||0,2147483647<d&&X.$raise(c.get("ArgumentError"),""+b+" too big"),d;d+=a.charAt(n)}}function U(b){b=L(b);"$"===a.charAt(n+1)?(n++,b=k(b)):b=g();return b.$to_int()}var m,X=this,da,ua=e;null==h.DEBUG&&(h.DEBUG=e);var ua=arguments.length,u=ua-1;0>u&&(u=0);da=Array(u);for(u=1;u<ua;u++)da[u-1]=arguments[u];(m=da.$length()["$=="](1)?da["$[]"](0)["$respond_to?"]("to_ary"):da.$length()["$=="](1))!==
e&&null!=m&&(!m.$$is_boolean||1==m)&&(ua=c.get("Opal")["$coerce_to?"](da["$[]"](0),c.get("Array"),"to_ary"),(m=ua["$nil?"]())===e||null==m||m.$$is_boolean&&1!=m)&&(da=ua.$to_a());m="";var ua=0,n,ja=a.length,R,l,y,K,q,A,ba,r,J,v,P=1,na=0,t;for(n=a.indexOf("%");-1!==n;n=a.indexOf("%",n)){l=void 0;t=0;q=K=-1;v=void 0;u=n;n++;switch(a.charAt(n)){case "%":ua=n;case "":case "\n":case "\x00":n++;continue}a:for(;n<ja;n++)switch(a.charAt(n)){case " ":d();t|=16;continue a;case "#":d();t|=1;continue a;case "+":d();
t|=4;continue a;case "-":d();t|=2;continue a;case "0":d();t|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":R=L("width");if("$"===a.charAt(n+1)){if(n+2===ja){l="%";n++;break a}void 0!==v&&X.$raise(c.get("ArgumentError"),"value given twice - %"+R+"$");v=k(R);n++}else f(),t|=32,K=R;continue a;case "<":case "{":for(y="<"===a.charAt(n)?">":"}",R="",n++;;n++){n===ja&&X.$raise(c.get("ArgumentError"),"malformed name - unmatched parenthesis");if(a.charAt(n)===
y)if(0<na&&X.$raise(c.get("ArgumentError"),"named "+R+" after unnumbered("+na+")"),-1===na&&X.$raise(c.get("ArgumentError"),"named "+R+" after numbered"),na=-2,void 0!==da[0]&&da[0].$$is_hash||X.$raise(c.get("ArgumentError"),"one hash required"),v=da[0].$fetch(R),">"===y)continue a;else{l=v.toString();-1!==q&&(l=l.slice(0,q));if(t&2)for(;l.length<K;)l+=" ";else for(;l.length<K;)l=" "+l;break a}R+=a.charAt(n)}case "*":n++;f();t|=32;K=U("width");0>K&&(t|=2,K=-K);continue a;case ".":t&128&&X.$raise(c.get("ArgumentError"),
"precision given twice");t|=192;q=0;n++;if("*"===a.charAt(n)){n++;q=U("precision");0>q&&(t&=-65);continue a}q=L("precision");continue a;case "d":case "i":case "u":R=X.$Integer(O());if(0<=R){for(l=R.toString();l.length<q;)l="0"+l;if(t&2){if(t&4||t&16)l=(t&4?"+":" ")+l;for(;l.length<K;)l+=" "}else if(t&8&&-1===q){for(;l.length<K-(t&4||t&16?1:0);)l="0"+l;if(t&4||t&16)l=(t&4?"+":" ")+l}else{if(t&4||t&16)l=(t&4?"+":" ")+l;for(;l.length<K;)l=" "+l}}else{for(l=(-R).toString();l.length<q;)l="0"+l;if(t&2)for(l=
"-"+l;l.length<K;)l+=" ";else if(t&8&&-1===q){for(;l.length<K-1;)l="0"+l;l="-"+l}else for(l="-"+l;l.length<K;)l=" "+l}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(n)){case "b":case "B":A=2;ba="0b";r=/^1+/;J="1";break;case "o":A=8;ba="0";r=/^3?7+/;J="7";break;case "x":case "X":A=16,ba="0x",r=/^f+/,J="f"}R=X.$Integer(O());if(0<=R){for(l=R.toString(A);l.length<q;)l="0"+l;if(t&2){if(t&4||t&16)l=(t&4?"+":" ")+l;for(t&1&&0!==R&&(l=ba+l);l.length<K;)l+=" "}else if(t&8&&-1===q){for(;l.length<
K-(t&4||t&16?1:0)-(t&1&&0!==R?ba.length:0);)l="0"+l;t&1&&0!==R&&(l=ba+l);if(t&4||t&16)l=(t&4?"+":" ")+l}else{t&1&&0!==R&&(l=ba+l);if(t&4||t&16)l=(t&4?"+":" ")+l;for(;l.length<K;)l=" "+l}}else if(t&4||t&16){for(l=(-R).toString(A);l.length<q;)l="0"+l;if(t&2)for(t&1&&(l=ba+l),l="-"+l;l.length<K;)l+=" ";else if(t&8&&-1===q){for(;l.length<K-1-(t&1?2:0);)l="0"+l;t&1&&(l=ba+l);l="-"+l}else for(t&1&&(l=ba+l),l="-"+l;l.length<K;)l=" "+l}else{for(l=(R>>>0).toString(A).replace(r,J);l.length<q-2;)l=J+l;if(t&
2)for(l=".."+l,t&1&&(l=ba+l);l.length<K;)l+=" ";else if(t&8&&-1===q){for(;l.length<K-2-(t&1?ba.length:0);)l=J+l;l=".."+l;t&1&&(l=ba+l)}else for(l=".."+l,t&1&&(l=ba+l);l.length<K;)l=" "+l}a.charAt(n)===a.charAt(n).toUpperCase()&&(l=l.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":R=X.$Float(O());if(0<=R||isNaN(R)){if(Infinity===R)l="Inf";else switch(a.charAt(n)){case "f":l=R.toFixed(-1===q?6:q);break;case "e":case "E":l=R.toExponential(-1===q?6:q);break;case "g":case "G":l=R.toExponential(),
y=parseInt(l.split("e")[1],10),-4>y||y>=(-1===q?6:q)||(l=R.toPrecision(-1===q?t&1?6:void 0:q))}if(t&2){if(t&4||t&16)l=(t&4?"+":" ")+l;for(;l.length<K;)l+=" "}else if(t&8&&Infinity!==R&&!isNaN(R)){for(;l.length<K-(t&4||t&16?1:0);)l="0"+l;if(t&4||t&16)l=(t&4?"+":" ")+l}else{if(t&4||t&16)l=(t&4?"+":" ")+l;for(;l.length<K;)l=" "+l}}else{if(-Infinity===R)l="Inf";else switch(a.charAt(n)){case "f":l=(-R).toFixed(-1===q?6:q);break;case "e":case "E":l=(-R).toExponential(-1===q?6:q);break;case "g":case "G":l=
(-R).toExponential(),y=parseInt(l.split("e")[1],10),-4>y||y>=(-1===q?6:q)||(l=(-R).toPrecision(-1===q?t&1?6:void 0:q))}if(t&2)for(l="-"+l;l.length<K;)l+=" ";else if(t&8&&-Infinity!==R){for(;l.length<K-1;)l="0"+l;l="-"+l}else for(l="-"+l;l.length<K;)l=" "+l}a.charAt(n)!==a.charAt(n).toUpperCase()||Infinity===R||-Infinity===R||isNaN(R)||(l=l.toUpperCase());l=l.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":X.$raise(c.get("NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");
case "c":R=O();R["$respond_to?"]("to_ary")&&(R=R.$to_ary()[0]);l=R["$respond_to?"]("to_str")?R.$to_str():String.fromCharCode(c.get("Opal").$coerce_to(R,c.get("Integer"),"to_int"));1!==l.length&&X.$raise(c.get("ArgumentError"),"%c requires a character");if(t&2)for(;l.length<K;)l+=" ";else for(;l.length<K;)l=" "+l;break a;case "p":l=O().$inspect();-1!==q&&(l=l.slice(0,q));if(t&2)for(;l.length<K;)l+=" ";else for(;l.length<K;)l=" "+l;break a;case "s":l=O().$to_s();-1!==q&&(l=l.slice(0,q));if(t&2)for(;l.length<
K;)l+=" ";else for(;l.length<K;)l=" "+l;break a;default:X.$raise(c.get("ArgumentError"),"malformed format string - %"+a.charAt(n))}void 0===l&&X.$raise(c.get("ArgumentError"),"malformed format string - %");m+=a.slice(ua,u)+l;ua=n+1}h.DEBUG&&0<=na&&P<da.length&&X.$raise(c.get("ArgumentError"),"too many arguments for format string");return m+a.slice(ua)},T.$$arity=-2);a.defn(d,"$hash",Y=function(){return this.$__id__()},Y.$$arity=0);a.defn(d,"$initialize_copy",S=function(a){return e},S.$$arity=1);a.defn(d,
"$inspect",A=function(){return this.$to_s()},A.$$arity=0);a.defn(d,"$instance_of?",W=function(a){a.$$is_class||a.$$is_module||this.$raise(c.get("TypeError"),"class or module required");return this.$$class===a},W.$$arity=1);a.defn(d,"$instance_variable_defined?",aa=function(b){b=c.get("Opal")["$instance_variable_name!"](b);return a.hasOwnProperty.call(this,b.substr(1))},aa.$$arity=1);a.defn(d,"$instance_variable_get",ga=function(b){b=c.get("Opal")["$instance_variable_name!"](b);b=this[a.ivar(b.substr(1))];
return null==b?e:b},ga.$$arity=1);a.defn(d,"$instance_variable_set",Z=function(b,d){b=c.get("Opal")["$instance_variable_name!"](b);return this[a.ivar(b.substr(1))]=d},Z.$$arity=2);a.defn(d,"$remove_instance_variable",ia=function(b){b=c.get("Opal")["$instance_variable_name!"](b);var d=a.ivar(b.substr(1));return this.hasOwnProperty(d)?(b=this[d],delete this[d],b):this.$raise(c.get("NameError"),"instance variable "+b+" not defined")},ia.$$arity=1);a.defn(d,"$instance_variables",ha=function(){var a=[],
b,d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&(b="$"===d.substr(-1)?d.slice(0,d.length-1):d,a.push("@"+b));return a},ha.$$arity=0);a.defn(d,"$Integer",la=function(a,b){var d=this,f,p;if(!a.$$is_string)return void 0!==b&&d.$raise(c.get("ArgumentError"),"base specified for non string value"),a===e&&d.$raise(c.get("TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&d.$raise(c.get("FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&
(f=a.$to_int(),f!==e)?f:c.get("Opal")["$coerce_to!"](a,c.get("Integer"),"to_i");void 0===b?b=0:(b=c.get("Opal").$coerce_to(b,c.get("Integer"),"to_int"),(1===b||0>b||36<b)&&d.$raise(c.get("ArgumentError"),"invalid radix "+b));f=a.toLowerCase();f=f.replace(/(\d)_(?=\d)/g,"$1");f=f.replace(/^(\s*[+-]?)(0[bodx]?)/,function(f,e,p){switch(p){case "0b":if(0===b||2===b)return b=2,e;case "0":case "0o":if(0===b||8===b)return b=8,e;case "0d":if(0===b||10===b)return b=10,e;case "0x":if(0===b||16===b)return b=
16,e}d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"')});b=0===b?10:b;p="0-"+(10>=b?b-1:"9a-"+String.fromCharCode(97+(b-11)));(new RegExp("^\\s*[+-]?["+p+"]+\\s*$")).test(f)||d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');f=parseInt(f,b);isNaN(f)&&d.$raise(c.get("ArgumentError"),'invalid value for Integer(): "'+a+'"');return f},la.$$arity=-2);a.defn(d,"$Float",fa=function(a){var b;a===e&&this.$raise(c.get("TypeError"),"can't convert nil into Float");
if(a.$$is_string){b=a.toString();b=b.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(b))return this.$Integer(b);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(b)||this.$raise(c.get("ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(b)}return c.get("Opal")["$coerce_to!"](a,c.get("Float"),"to_f")},fa.$$arity=1);a.defn(d,"$Hash",ea=function(a){var d,f;return(d=!1!==(f=a["$nil?"]())&&f!==e&&null!=f?f:a["$=="]([]))===e||null==d||d.$$is_boolean&&1!=d?(d=
c.get("Hash")["$==="](a))===e||null==d||d.$$is_boolean&&1!=d?c.get("Opal")["$coerce_to!"](a,c.get("Hash"),"to_hash"):a:b([],{})},ea.$$arity=1);a.defn(d,"$is_a?",ja=function(b){b.$$is_class||b.$$is_module||this.$raise(c.get("TypeError"),"class or module required");return a.is_a(this,b)},ja.$$arity=1);a.alias(d,"kind_of?","is_a?");a.defn(d,"$lambda",ka=function(){var a=ka.$$p||e;ka.$$p=null;a.$$is_lambda=!0;return a},ka.$$arity=0);a.defn(d,"$load",K=function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),
"to_str");return a.load(b)},K.$$arity=1);a.defn(d,"$loop",P=function(){var b=P.$$p||e;P.$$p=null;if(b===e)return this.$enum_for("loop");for(;;)a.yieldX(b,[])},P.$$arity=0);a.defn(d,"$nil?",U=function(){return!1},U.$$arity=0);a.alias(d,"object_id","__id__");a.defn(d,"$printf",R=function(b){var d,c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var p=0;p<f;p++)c[p-0]=arguments[p];(d=l(c.$length(),0))===e||null==d||d.$$is_boolean&&1!=d||this.$print((d=this).$format.apply(d,a.to_a(c)));return e},
R.$$arity=-1);a.defn(d,"$proc",qa=function(){var a=qa.$$p||e;qa.$$p=null;!1!==a&&a!==e&&null!=a||this.$raise(c.get("ArgumentError"),"tried to create Proc object without a block");a.$$is_lambda=!1;return a},qa.$$arity=0);a.defn(d,"$puts",ra=function(b){var d,c;null==h.stdout&&(h.stdout=e);var f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var p=0;p<f;p++)c[p-0]=arguments[p];return(d=h.stdout).$puts.apply(d,a.to_a(c))},ra.$$arity=-1);a.defn(d,"$p",pa=function(a){var b,d,c,f=arguments.length;c=f-
0;0>c&&(c=0);c=Array(c);for(var p=0;p<f;p++)c[p-0]=arguments[p];(b=c.$each,b.$$p=(d=function(a){null==h.stdout&&(h.stdout=e);null==a&&(a=e);return h.stdout.$puts(a.$inspect())},d.$$s=this,d.$$arity=1,d),b).call(c);return(b=q(c.$length(),1))===e||null==b||b.$$is_boolean&&1!=b?c:c["$[]"](0)},pa.$$arity=-1);a.defn(d,"$print",va=function(b){var d,c;null==h.stdout&&(h.stdout=e);var f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var p=0;p<f;p++)c[p-0]=arguments[p];return(d=h.stdout).$print.apply(d,
a.to_a(c))},va.$$arity=-1);a.defn(d,"$warn",oa=function(b){var d,c,f;null==h.VERBOSE&&(h.VERBOSE=e);null==h.stderr&&(h.stderr=e);var p=arguments.length;f=p-0;0>f&&(f=0);f=Array(f);for(var g=0;g<p;g++)f[g-0]=arguments[g];return(d=!1!==(c=h.VERBOSE["$nil?"]())&&c!==e&&null!=c?c:f["$empty?"]())===e||null==d||d.$$is_boolean&&1!=d?(d=h.stderr).$puts.apply(d,a.to_a(f)):e},oa.$$arity=-1);a.defn(d,"$raise",ta=function(b,d,f){null==h["!"]&&(h["!"]=e);null==d&&(d=e);if(null==b&&h["!"]!==e)throw h["!"];null==
b?b=c.get("RuntimeError").$new():b.$$is_string?b=c.get("RuntimeError").$new(b):b.$$is_class&&b["$respond_to?"]("exception")?b=b.$exception(d):b["$kind_of?"](c.get("Exception"))||(b=c.get("TypeError").$new("exception class/object expected"));h["!"]!==e&&a.exceptions.push(h["!"]);h["!"]=b;throw b;},ta.$$arity=-1);a.alias(d,"fail","raise");a.defn(d,"$rand",na=function(a){if(void 0===a)return Math.random();if(a.$$is_range){var b=a.begin,d=a.end-b;a.exclude||d++;return this.$rand(d)+b}return Math.floor(Math.random()*
Math.abs(c.get("Opal").$coerce_to(a,c.get("Integer"),"to_int")))},na.$$arity=-1);a.defn(d,"$respond_to?",wa=function(a,b){var d;null==b&&(b=!1);if((d=this["$respond_to_missing?"](a,b))!==e&&null!=d&&(!d.$$is_boolean||1==d))return!0;d=this["$"+a];return"function"!==typeof d||d.$$stub?!1:!0},wa.$$arity=-2);a.defn(d,"$respond_to_missing?",ya=function(a,b){return!1},ya.$$arity=-2);a.defn(d,"$require",da=function(b){b=c.get("Opal")["$coerce_to!"](b,c.get("String"),"to_str");return a.require(b)},da.$$arity=
1);a.defn(d,"$require_relative",p=function(b){c.get("Opal")["$try_convert!"](b,c.get("String"),"to_str");b=c.get("File").$expand_path(c.get("File").$join(a.current_file,"..",b));return a.require(b)},p.$$arity=1);a.defn(d,"$require_tree",O=function(b){b=c.get("File").$expand_path(b);b["$=="](".")&&(b="");for(var d in a.modules)d["$start_with?"](b)&&a.require(d);return e},O.$$arity=1);a.alias(d,"send","__send__");a.alias(d,"public_send","__send__");a.defn(d,"$singleton_class",ua=function(){return a.get_singleton_class(this)},
ua.$$arity=0);a.defn(d,"$sleep",X=function(a){null==a&&(a=e);a===e&&this.$raise(c.get("TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(c.get("TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(c.get("ArgumentError"),"time interval must be positive");for(var b=new Date;new Date-b<=1E3*a;);return a},X.$$arity=-1);a.alias(d,"sprintf","format");a.alias(d,"srand","rand");a.defn(d,"$String",sa=function(a){var b;return!1!==(b=c.get("Opal")["$coerce_to?"](a,
c.get("String"),"to_str"))&&b!==e&&null!=b?b:c.get("Opal")["$coerce_to!"](a,c.get("String"),"to_s")},sa.$$arity=1);a.defn(d,"$tap",xa=function(){var b=xa.$$p||e;xa.$$p=null;a.yield1(b,this);return this},xa.$$arity=0);a.defn(d,"$to_proc",Aa=function(){return this},Aa.$$arity=0);a.defn(d,"$to_s",Ba=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},Ba.$$arity=0);a.defn(d,"$catch",ba=function(b){var d=ba.$$p||e,f=e;ba.$$p=null;try{return a.yieldX(d,[])}catch(p){if(a.rescue(p,[c.get("UncaughtThrowError")])){f=
p;try{return f.$sym()["$=="](b)?f.$arg():this.$raise()}finally{a.pop_exception()}}else throw p;}},ba.$$arity=1);a.defn(d,"$throw",za=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];return this.$raise(c.get("UncaughtThrowError").$new(b))},za.$$arity=-1);a.defn(d,"$open",L=function(b){var d,f,p,g=L.$$p||e,h=arguments.length;p=h-0;0>p&&(p=0);p=Array(p);for(var k=0;k<h;k++)p[k-0]=arguments[k];L.$$p=null;return(d=(f=c.get("File")).$open,d.$$p=g.$to_proc(),
d).apply(f,a.to_a(p))},L.$$arity=-1)})(a.base);return function(a,$super){function b(){}var e=b=c(a,$super,"Object",b);return e.$include(e.$$scope.get("Kernel"))}(a.base,null)};
Opal.modules["corelib/error"]=function(a){var l=a.nil,q=a.klass,e=a.module;a.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));(function(e,$super){function b(){}var c=b=q(e,$super,"Exception",b),d,w,v,k,n,f,m,r;c.$$proto.message=l;a.defs(c,"$new",d=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var c=0;c<d;c++)b[c-0]=arguments[c];d=new this.$$alloc(0<b.length?b[0]:l);Error.captureStackTrace&&Error.captureStackTrace(d);d.name=this.$$name;
d.$initialize.apply(d,b);return d},d.$$arity=-1);a.defs(c,"$exception",w=function(b){var d,c=arguments.length;d=c-0;0>d&&(d=0);d=Array(d);for(var f=0;f<c;f++)d[f-0]=arguments[f];return this.$new.apply(this,a.to_a(d))},w.$$arity=-1);a.defn(c,"$initialize",v=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var c=0;c<d;c++)b[c-0]=arguments[c];return this.message=0<b.length?b[0]:l},v.$$arity=-1);a.defn(c,"$backtrace",k=function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,
15):a?a.slice(0,15):[]},k.$$arity=0);a.defn(c,"$exception",n=function(a){null==a&&(a=l);if(a===l||this===a)return this;var b=this.$clone();b.message=a;return b},n.$$arity=-1);a.defn(c,"$message",f=function(){return this.$to_s()},f.$$arity=0);a.defn(c,"$inspect",m=function(){var a,b=l,b=this.$to_s();return(a=b["$empty?"]())===l||null==a||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()},m.$$arity=0);return(a.defn(c,"$to_s",r=function(){var a,b;return!1!==
(a=(b=this.message,!1!==b&&b!==l&&null!=b?this.message.$to_s():b))&&a!==l&&null!=a?a:this.$class().$to_s()},r.$$arity=0),l)&&"to_s"})(a.base,Error);(function(a,$super){function b(){}b=q(a,$super,"ScriptError",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=q(a,$super,"SyntaxError",b);return l})(a.base,a.get("ScriptError"));(function(a,$super){function b(){}b=q(a,$super,"LoadError",b);return l})(a.base,a.get("ScriptError"));(function(a,$super){function b(){}b=q(a,$super,
"NotImplementedError",b);return l})(a.base,a.get("ScriptError"));(function(a,$super){function b(){}b=q(a,$super,"SystemExit",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=q(a,$super,"NoMemoryError",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=q(a,$super,"SignalException",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=q(a,$super,"Interrupt",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}
b=q(a,$super,"SecurityError",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=q(a,$super,"StandardError",b);return l})(a.base,a.get("Exception"));(function(a,$super){function b(){}b=q(a,$super,"ZeroDivisionError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=q(a,$super,"NameError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=q(a,$super,"NoMethodError",b);return l})(a.base,a.get("NameError"));(function(a,
$super){function b(){}b=q(a,$super,"RuntimeError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=q(a,$super,"LocalJumpError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=q(a,$super,"TypeError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=q(a,$super,"ArgumentError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=q(a,$super,"IndexError",b);return l})(a.base,a.get("StandardError"));
(function(a,$super){function b(){}b=q(a,$super,"StopIteration",b);return l})(a.base,a.get("IndexError"));(function(a,$super){function b(){}b=q(a,$super,"KeyError",b);return l})(a.base,a.get("IndexError"));(function(a,$super){function b(){}b=q(a,$super,"RangeError",b);return l})(a.base,a.get("StandardError"));(function(a,$super){function b(){}b=q(a,$super,"FloatDomainError",b);return l})(a.base,a.get("RangeError"));(function(a,$super){function b(){}b=q(a,$super,"IOError",b);return l})(a.base,a.get("StandardError"));
(function(a,$super){function b(){}b=q(a,$super,"SystemCallError",b);return l})(a.base,a.get("StandardError"));(function(g){g=e(g,"Errno").$$scope;(function(e,$super){function c(){}var d=c=q(e,$super,"EINVAL",c),g;return(a.defs(d,"$new",g=function(){var d;g.$$p=null;return(d=a.find_super_dispatcher(this,"new",g,!1,c),d.$$p=null,d).call(this,"Invalid argument")},g.$$arity=0),l)&&"new"})(g.base,g.get("SystemCallError"))})(a.base);(function(e,$super){function b(){}var c=b=q(e,$super,"UncaughtThrowError",
b),d;c.$$proto.sym=l;c.$attr_reader("sym","arg");return(a.defn(c,"$initialize",d=function(b){var c;d.$$p=null;this.sym=b["$[]"](0);var e=b.$length();(c="number"===typeof e?1<e:e["$>"](1))===l||null==c||c.$$is_boolean&&1!=c||(this.arg=b["$[]"](1));return(c=a.find_super_dispatcher(this,"initialize",d,!1),c.$$p=null,c).call(this,"uncaught throw "+this.sym.$inspect())},d.$$arity=1),l)&&"initialize"})(a.base,a.get("ArgumentError"));(function(e,$super){function b(){}var c=b=q(e,$super,"NameError",b),d;
c.$attr_reader("name");return(a.defn(c,"$initialize",d=function(b,c){var e;null==c&&(c=l);d.$$p=null;(e=a.find_super_dispatcher(this,"initialize",d,!1),e.$$p=null,e).call(this,b);return this.name=c},d.$$arity=-2),l)&&"initialize"})(a.base,null);return function(e,$super){function b(){}var c=b=q(e,$super,"NoMethodError",b),d;c.$attr_reader("args");return(a.defn(c,"$initialize",d=function(b,c,e){var g;null==c&&(c=l);null==e&&(e=[]);d.$$p=null;(g=a.find_super_dispatcher(this,"initialize",d,!1),g.$$p=
null,g).call(this,b,c);return this.args=e},d.$$arity=-2),l)&&"initialize"}(a.base,null)};
Opal.modules["corelib/constants"]=function(a){a.cdecl(a,"RUBY_PLATFORM","opal");a.cdecl(a,"RUBY_ENGINE","opal");a.cdecl(a,"RUBY_VERSION","2.2.3");a.cdecl(a,"RUBY_ENGINE_VERSION","0.10.1");a.cdecl(a,"RUBY_RELEASE_DATE","2016-07-06");a.cdecl(a,"RUBY_PATCHLEVEL",0);a.cdecl(a,"RUBY_REVISION",0);a.cdecl(a,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return a.cdecl(a,"RUBY_DESCRIPTION","opal "+a.get("RUBY_ENGINE_VERSION")+" ("+a.get("RUBY_RELEASE_DATE")+" revision "+a.get("RUBY_REVISION")+
")")};Opal.modules["opal/base"]=function(a){var l=a.top;a.add_stubs(["$require"]);l.$require("corelib/runtime");l.$require("corelib/helpers");l.$require("corelib/module");l.$require("corelib/class");l.$require("corelib/basic_object");l.$require("corelib/kernel");l.$require("corelib/error");return l.$require("corelib/constants")};
Opal.modules["corelib/nil"]=function(a){var l=a.nil,q=a.klass;a.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(e,$super){function h(){}var b=h=q(e,$super,"NilClass",h),c=b.$$scope,d,w,v,k,n,f,m,r,x,E,B,t,u,D,G,z,I,J;b.$$proto.$$meta=b;a.defn(b,"$!",d=function(){return!0},d.$$arity=0);a.defn(b,"$&",w=function(a){return!1},w.$$arity=1);a.defn(b,"$|",v=function(a){return!1!==a&&a!==l},v.$$arity=1);a.defn(b,"$^",k=function(a){return!1!==a&&a!==l},k.$$arity=1);a.defn(b,"$==",
n=function(a){return a===l},n.$$arity=1);a.defn(b,"$dup",f=function(){return this.$raise(c.get("TypeError"),"can't dup "+this.$class())},f.$$arity=0);a.defn(b,"$clone",m=function(){return this.$raise(c.get("TypeError"),"can't clone "+this.$class())},m.$$arity=0);a.defn(b,"$inspect",r=function(){return"nil"},r.$$arity=0);a.defn(b,"$nil?",x=function(){return!0},x.$$arity=0);a.defn(b,"$singleton_class",E=function(){return c.get("NilClass")},E.$$arity=0);a.defn(b,"$to_a",B=function(){return[]},B.$$arity=
0);a.defn(b,"$to_h",t=function(){return a.hash()},t.$$arity=0);a.defn(b,"$to_i",u=function(){return 0},u.$$arity=0);a.alias(b,"to_f","to_i");a.defn(b,"$to_s",D=function(){return""},D.$$arity=0);a.defn(b,"$to_c",G=function(){return c.get("Complex").$new(0,0)},G.$$arity=0);a.defn(b,"$rationalize",z=function(a){var b,d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];f=d.$length();(b="number"===typeof f?1<f:f["$>"](1))===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.get("ArgumentError"));
return this.$Rational(0,1)},z.$$arity=-1);a.defn(b,"$to_r",I=function(){return this.$Rational(0,1)},I.$$arity=0);return(a.defn(b,"$instance_variables",J=function(){return[]},J.$$arity=0),l)&&"instance_variables"})(a.base,null);return a.cdecl(a,"NIL",l)};
Opal.modules["corelib/boolean"]=function(a){var l=a.nil,q=a.klass;a.add_stubs(["$raise","$class"]);(function(e,$super){function h(){}var b=h=q(e,$super,"Boolean",h),c=b.$$proto,d=b.$$scope,w,v,k,n,f,m,r,x,E,B;c.$$is_boolean=!0;c.$$meta=b;a.defn(b,"$__id__",w=function(){return this.valueOf()?2:0},w.$$arity=0);a.alias(b,"object_id","__id__");a.defn(b,"$!",v=function(){return 1!=this},v.$$arity=0);a.defn(b,"$&",k=function(a){return 1==this?!1!==a&&a!==l:!1},k.$$arity=1);a.defn(b,"$|",n=function(a){return 1==
this?!0:!1!==a&&a!==l},n.$$arity=1);a.defn(b,"$^",f=function(a){return 1==this?!1===a||a===l:!1!==a&&a!==l},f.$$arity=1);a.defn(b,"$==",m=function(a){return 1==this===a.valueOf()},m.$$arity=1);a.alias(b,"equal?","==");a.alias(b,"eql?","==");a.defn(b,"$singleton_class",r=function(){return d.get("Boolean")},r.$$arity=0);a.defn(b,"$to_s",x=function(){return 1==this?"true":"false"},x.$$arity=0);a.defn(b,"$dup",E=function(){return this.$raise(d.get("TypeError"),"can't dup "+this.$class())},E.$$arity=0);
return(a.defn(b,"$clone",B=function(){return this.$raise(d.get("TypeError"),"can't clone "+this.$class())},B.$$arity=0),l)&&"clone"})(a.base,Boolean);a.cdecl(a,"TrueClass",a.get("Boolean"));a.cdecl(a,"FalseClass",a.get("Boolean"));a.cdecl(a,"TRUE",!0);return a.cdecl(a,"FALSE",!1)};
Opal.modules["corelib/comparable"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var e=a.nil,g=a.module;a.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(h){h=g(h,"Comparable");var b=h.$$scope,c,d,w,v,k,n,f;a.defs(h,"$normalize",c=function(a){var d;return(d=b.get("Integer")["$==="](a))===e||null==d||d.$$is_boolean&&1!=d?(d=l(a,0))===e||
null==d||d.$$is_boolean&&1!=d?(d=q(a,0))===e||null==d||d.$$is_boolean&&1!=d?0:-1:1:a},c.$$arity=1);a.defn(h,"$==",d=function(d){var c,f=e;try{return(c=this["$equal?"](d))===e||null==c||c.$$is_boolean&&1!=c?this["$<=>"]==a.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):(c=f=this["$<=>"](d))===e||null==c||c.$$is_boolean&&1!=c?!1:0==b.get("Comparable").$normalize(f):!0}catch(g){if(a.rescue(g,[b.get("StandardError")]))try{return!1}finally{a.pop_exception()}else throw g;}},d.$$arity=
1);a.defn(h,"$>",w=function(a){var d,c=e;((d=c=this["$<=>"](a))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(b.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<b.get("Comparable").$normalize(c)},w.$$arity=1);a.defn(h,"$>=",v=function(a){var d,c=e;((d=c=this["$<=>"](a))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(b.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=b.get("Comparable").$normalize(c)},v.$$arity=
1);a.defn(h,"$<",k=function(a){var d,c=e;((d=c=this["$<=>"](a))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(b.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>b.get("Comparable").$normalize(c)},k.$$arity=1);a.defn(h,"$<=",n=function(a){var d,c=e;((d=c=this["$<=>"](a))===e||null==d||d.$$is_boolean&&1!=d)&&this.$raise(b.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=b.get("Comparable").$normalize(c)},n.$$arity=
1);a.defn(h,"$between?",f=function(a,b){return q(this,a)||l(this,b)?!1:!0},f.$$arity=2)}(a.base)};
Opal.modules["corelib/regexp"]=function(a){var l=a.nil,q=a.klass,e=a.gvars;a.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super){function b(){}b=q(a,$super,"RegexpError",b);return l})(a.base,a.get("StandardError"));(function(g,$super){function b(){}var c=b=q(g,$super,"Regexp",b),d=c.$$proto,w=c.$$scope,v,k,n,f,m,r,x,E,B,t;a.cdecl(w,"IGNORECASE",1);a.cdecl(w,"MULTILINE",
4);d.$$is_regexp=!0;(function(b){var d=b.$$scope,c,f,g,k,m;a.defn(b,"$allocate",c=function(){var b,d=c.$$p,f=l,e=f=l;c.$$p=null;f=[];for(e=0;e<arguments.length;e++)f[e]=arguments[e];f=(b=a.find_super_dispatcher(this,"allocate",c,!1),b.$$p=d,b).apply(this,f);f.uninitialized=!0;return f},c.$$arity=0);a.defn(b,"$escape",f=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")},f.$$arity=1);a.defn(b,
"$last_match",g=function(a){var b;null==e["~"]&&(e["~"]=l);null==a&&(a=l);return(b=a["$nil?"]())===l||null==b||b.$$is_boolean&&1!=b?e["~"]["$[]"](a):e["~"]},g.$$arity=-1);a.alias(b,"quote","escape");a.defn(b,"$union",k=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];var e,g;if(0==b.length)return/(?!)/;c=b[0].$$is_array;1<b.length&&c&&this.$raise(d.get("TypeError"),"no implicit conversion of Array into String");c&&(b=b[0]);e=void 0;for(var c=
[],k=0;k<b.length;k++)f=b[k],f.$$is_string?c.push(this.$escape(f)):f.$$is_regexp?(g=f.$options(),void 0!=e&&e!=g&&this.$raise(d.get("TypeError"),"All expressions must use the same options"),e=g,c.push("("+f.source+")")):c.push(this.$escape(f.$to_str()));return this.$new(c.$join("|"),e)},k.$$arity=-1);return(a.defn(b,"$new",m=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=d.get("Opal")["$coerce_to!"](a,d.get("String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(d.get("RegexpError"),
"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var c="";d.get("IGNORECASE")&b&&(c+="i");d.get("MULTILINE")&b&&(c+="m");b=c}else b="i";return new RegExp(a,b)},m.$$arity=-2),l)&&"new"})(a.get_singleton_class(c));a.defn(c,"$==",v=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},v.$$arity=1);a.defn(c,"$===",k=function(a){return this.$match(w.get("Opal")["$coerce_to?"](a,w.get("String"),"to_str"))!==l},k.$$arity=1);a.defn(c,
"$=~",n=function(a){var b;null==e["~"]&&(e["~"]=l);return b=this.$match(a),!1!==b&&b!==l&&null!=b?e["~"].$begin(0):b},n.$$arity=1);a.alias(c,"eql?","==");a.defn(c,"$inspect",f=function(){var a=this.toString(),b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){for(var a=b[2],b=b[1].split(""),d=b.length,c=!1,f="",e=0;e<d;e++){var g=b[e];c||"/"!=g||(f=f.concat("\\"));f=f.concat(g);c="\\"==g?c?!1:!0:!1}return"/"+f+"/"+a}return a},f.$$arity=0);a.defn(c,"$match",m=function(a,b){var d=m.$$p||l;null==e["~"]&&(e["~"]=l);
m.$$p=null;this.uninitialized&&this.$raise(w.get("TypeError"),"uninitialized Regexp");b=void 0===b?0:w.get("Opal").$coerce_to(b,w.get("Integer"),"to_int");if(a===l)return e["~"]=l;a=w.get("Opal").$coerce_to(a,w.get("String"),"to_str");if(0>b&&(b+=a.length,0>b))return e["~"]=l;var c=this.source,f="g";this.multiline&&(c=c.replace(".","[\\s\\S]"),f+="m");for(f=new RegExp(c,f+(this.ignoreCase?"i":""));;){c=f.exec(a);if(null===c)return e["~"]=l;if(c.index>=b)return e["~"]=w.get("MatchData").$new(f,c),
d===l?e["~"]:d.$call(e["~"]);f.lastIndex=c.index+1}},m.$$arity=-2);a.defn(c,"$~",r=function(){null==e._&&(e._=l);return this["$=~"](e._)},r.$$arity=0);a.defn(c,"$source",x=function(){return this.source},x.$$arity=0);a.defn(c,"$options",E=function(){this.uninitialized&&this.$raise(w.get("TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=w.get("MULTILINE"));this.ignoreCase&&(a|=w.get("IGNORECASE"));return a},E.$$arity=0);a.defn(c,"$casefold?",B=function(){return this.ignoreCase},B.$$arity=
0);a.alias(c,"to_s","source");return(a.defs(c,"$_load",t=function(b){return this.$new.apply(this,a.to_a(b))},t.$$arity=1),l)&&"_load"})(a.base,RegExp);return function(g,$super){function b(){}var c=b=q(g,$super,"MatchData",b),d=c.$$scope,w,v,k,n,f,m,r,x,E,B,t,u;c.$$proto.matches=l;c.$attr_reader("post_match","pre_match","regexp","string");a.defn(c,"$initialize",w=function(a,b){e["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+
b[0].length);this.matches=[];for(var d=0,c=b.length;d<c;d++){var f=b[d];null==f?this.matches.push(l):this.matches.push(f)}},w.$$arity=2);a.defn(c,"$[]",v=function(b){var d,c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];return(d=this.matches)["$[]"].apply(d,a.to_a(c))},v.$$arity=-1);a.defn(c,"$offset",k=function(a){0!==a&&this.$raise(d.get("ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},k.$$arity=
1);a.defn(c,"$==",n=function(a){var b,c,f,e;return(b=d.get("MatchData")["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?!1:(b=(c=(f=(e=this.string==a.string,!1!==e&&e!==l&&null!=e?this.regexp.toString()==a.regexp.toString():e),!1!==f&&f!==l&&null!=f?this.pre_match==a.pre_match:f),!1!==c&&c!==l&&null!=c?this.post_match==a.post_match:c),!1!==b&&b!==l&&null!=b?this.begin==a.begin:b)},n.$$arity=1);a.alias(c,"eql?","==");a.defn(c,"$begin",f=function(a){0!==a&&this.$raise(d.get("ArgumentError"),"MatchData#begin only supports 0th element");
return this.begin},f.$$arity=1);a.defn(c,"$end",m=function(a){0!==a&&this.$raise(d.get("ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},m.$$arity=1);a.defn(c,"$captures",r=function(){return this.matches.slice(1)},r.$$arity=0);a.defn(c,"$inspect",x=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,d=this.matches.length;b<d;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},x.$$arity=0);a.defn(c,"$length",E=function(){return this.matches.length},
E.$$arity=0);a.alias(c,"size","length");a.defn(c,"$to_a",B=function(){return this.matches},B.$$arity=0);a.defn(c,"$to_s",t=function(){return this.matches[0]},t.$$arity=0);return(a.defn(c,"$values_at",u=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];for(var e,f=[],c=0;c<b.length;c++){b[c].$$is_range&&(e=b[c].$to_a(),e.unshift(c,1),Array.prototype.splice.apply(b,e));e=d.get("Opal")["$coerce_to!"](b[c],d.get("Integer"),"to_int");if(0>e&&(e+=this.matches.length,
0>e)){f.push(l);continue}f.push(this.matches[e])}return f},u.$$arity=-1),l)&&"values_at"}(a.base,null)};
Opal.modules["corelib/string"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=a.top,g=a.nil,h=a.klass,b=a.gvars;a.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $shift $__send__ $succ $escape".split(" "));e.$require("corelib/comparable");
e.$require("corelib/regexp");(function(c,$super){function e(){}function v(a){function b(a){var c="",e,p=a.length,g,h;for(e=0;e<p;e++)if(g=a.charAt(e),"-"===g&&0<e&&e<p-1&&!h){h=a.charCodeAt(e-1);g=a.charCodeAt(e+1);h>g&&k.$raise(f.get("ArgumentError"),'invalid range "'+h+"-"+g+'" in string transliteration');for(h+=1;h<g+1;h++)c+=String.fromCharCode(h);h=!0;e++}else h="\\"===g,c+=g;return c}function c(a,b){if(0===a.length)return b;var f="",e,p=a.length,g;for(e=0;e<p;e++)g=a.charAt(e),-1!==b.indexOf(g)&&
(f+=g);return f}var e,p,g,h,C="",H="";e=0;for(p=a.length;e<p;e++)g=f.get("Opal").$coerce_to(a[e],f.get("String"),"to_str"),h="^"===g.charAt(0)&&1<g.length,g=b(h?g.slice(1):g),h?H=c(H,g):C=c(C,g);if(0<C.length&&0<H.length){g="";e=0;for(p=C.length;e<p;e++)a=C.charAt(e),-1===H.indexOf(a)&&(g+=a);C=g;H=""}return 0<C.length?"["+f.get("Regexp").$escape(C)+"]":0<H.length?"[^"+f.get("Regexp").$escape(H)+"]":null}var k=e=h(c,$super,"String",e),n=k.$$proto,f=k.$$scope,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,
Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na,wa,ya,da,p,O,ua,X,sa,xa,Aa,Ba,ba,za,L,C,H,ca,Da,Ca,ma,Ea,Fa;n.length=g;k.$include(f.get("Comparable"));n.$$is_string=!0;a.defn(k,"$__id__",m=function(){return this.toString()},m.$$arity=0);a.alias(k,"object_id","__id__");a.defs(k,"$try_convert",r=function(a){return f.get("Opal")["$coerce_to?"](a,f.get("String"),"to_str")},r.$$arity=1);a.defs(k,"$new",x=function(a){null==a&&(a="");a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");
return new String(a)},x.$$arity=-1);a.defn(k,"$initialize",E=function(a){return void 0===a?this:this.$raise(f.get("NotImplementedError"),"Mutable strings are not supported in Opal.")},E.$$arity=-1);a.defn(k,"$%",B=function(b){var c;return(c=f.get("Array")["$==="](b))===g||null==c||c.$$is_boolean&&1!=c?this.$format(this,b):(c=this).$format.apply(c,[this].concat(a.to_a(b)))},B.$$arity=1);a.defn(k,"$*",t=function(a){a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");0>a&&this.$raise(f.get("ArgumentError"),
"negative argument");if(0===a)return"";var b="",c=this.toString();for(268435456<=c.length*a&&this.$raise(f.get("RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=c);a>>>=1;if(0===a)break;c+=c}return b},t.$$arity=1);a.defn(k,"$+",u=function(a){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");return this+a.$to_s()},u.$$arity=1);a.defn(k,"$<=>",D=function(a){var b;if((b=a["$respond_to?"]("to_str"))===g||null==b||b.$$is_boolean&&1!=b)return a=a["$<=>"](this),
a===g?g:0<a?-1:0>a?1:0;a=a.$to_str().$to_s();return this>a?1:this<a?-1:0},D.$$arity=1);a.defn(k,"$==",G=function(a){return a.$$is_string?this.toString()===a.toString():f.get("Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},G.$$arity=1);a.alias(k,"eql?","==");a.alias(k,"===","==");a.defn(k,"$=~",z=function(a){a.$$is_string&&this.$raise(f.get("TypeError"),"type mismatch: String given");return a["$=~"](this)},z.$$arity=1);a.defn(k,"$[]",I=function(a,c){var e=this.length,p;if(a.$$is_range){p=a.exclude;
c=f.get("Opal").$coerce_to(a.end,f.get("Integer"),"to_int");a=f.get("Opal").$coerce_to(a.begin,f.get("Integer"),"to_int");if(Math.abs(a)>e)return g;0>a&&(a+=e);0>c&&(c+=e);p||(c+=1);c-=a;0>c&&(c=0);return this.substr(a,c)}if(a.$$is_string)return null!=c&&this.$raise(f.get("TypeError")),-1!==this.indexOf(a)?a:g;if(a.$$is_regexp){e=this.match(a);if(null===e)return b["~"]=g;b["~"]=f.get("MatchData").$new(a,e);if(null==c)return e[0];c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int");return 0>c&&
-c<e.length?e[c+e.length]:0<=c&&c<e.length?e[c]:g}a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");0>a&&(a+=e);if(null==c)return a>=e||0>a?g:this.substr(a,1);c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int");return 0>c||a>e||0>a?g:this.substr(a,c)},I.$$arity=-2);a.alias(k,"byteslice","[]");a.defn(k,"$capitalize",J=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},J.$$arity=0);a.defn(k,"$casecmp",F=function(a){var b=this;a=f.get("Opal").$coerce_to(a,f.get("String"),
"to_str").$to_s();var c=/^[\x00-\x7F]*$/;c.test(b)&&c.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},F.$$arity=1);a.defn(k,"$center",y=function(a,b){var c;null==b&&(b=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();(c=b["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),"zero width padding");if((c=a<=this.length)!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;c=this.$ljust(l(q(a,
this.length),2).$ceil(),b);return this.$rjust(l(q(a,this.length),2).$floor(),b)+c.slice(this.length)},y.$$arity=-2);a.defn(k,"$chars",M=function(){var a,b=M.$$p||g;M.$$p=null;return!1===b||b===g||null==b?this.$each_char().$to_a():(a=this.$each_char,a.$$p=b.$to_proc(),a).call(this)},M.$$arity=0);a.defn(k,"$chomp",N=function(a){var c;null==b["/"]&&(b["/"]=g);null==a&&(a=b["/"]);if((c=a===g||0===this.length)!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;a=f.get("Opal")["$coerce_to!"](a,f.get("String"),
"to_str").$to_s();return"\n"===a?this.replace(/\r?\n?$/,""):""===a?this.replace(/(\r?\n)+$/,""):this.length>a.length&&this.substr(this.length-a.length,a.length)===a?this.substr(0,this.length-a.length):this},N.$$arity=-1);a.defn(k,"$chop",Q=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},Q.$$arity=0);a.defn(k,"$chr",V=function(){return this.charAt(0)},V.$$arity=0);a.defn(k,"$clone",T=function(){var a=g,a=this.slice();
a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},T.$$arity=0);a.defn(k,"$dup",Y=function(){var a=g,a=this.slice();a.$initialize_dup(this);return a},Y.$$arity=0);a.defn(k,"$count",S=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];0===b.length&&this.$raise(f.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=v(b);return null===c?0:this.length-this.replace(new RegExp(c,"g"),"").length},S.$$arity=-1);
a.defn(k,"$delete",A=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];0===b.length&&this.$raise(f.get("ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");c=v(b);return null===c?this:this.replace(new RegExp(c,"g"),"")},A.$$arity=-1);a.defn(k,"$downcase",W=function(){return this.toLowerCase()},W.$$arity=0);a.defn(k,"$each_char",aa=function(){var b,c,f=aa.$$p||g;aa.$$p=null;if(f===g)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||
this).$size()},c.$$s=this,c.$$arity=0,c),b).call(this,"each_char");b=0;for(var e=this.length;b<e;b++)a.yield1(f,this.charAt(b));return this},aa.$$arity=0);a.defn(k,"$each_line",ga=function(c){var e=ga.$$p||g;null==b["/"]&&(b["/"]=g);null==c&&(c=b["/"]);ga.$$p=null;if(e===g)return this.$enum_for("each_line",c);if(c===g)return a.yield1(e,this),this;c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str");var p,h,k,C;if(0===c.length){c=this.split(/(\n{2,})/);p=0;for(h=c.length;p<h;p+=2)(c[p]||c[p+1])&&
a.yield1(e,(c[p]||"")+(c[p+1]||""));return this}p=this.$chomp(c);h=this.length!=p.length;C=p.split(c);p=0;for(k=C.length;p<k;p++)p<k-1||h?a.yield1(e,C[p]+c):a.yield1(e,C[p]);return this},ga.$$arity=-1);a.defn(k,"$empty?",Z=function(){return 0===this.length},Z.$$arity=0);a.defn(k,"$end_with?",ia=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];c=0;for(e=b.length;c<e;c++){var p=f.get("Opal").$coerce_to(b[c],f.get("String"),"to_str").$to_s();if(this.length>=
p.length&&this.substr(this.length-p.length,p.length)==p)return!0}return!1},ia.$$arity=-1);a.alias(k,"eql?","==");a.alias(k,"equal?","===");a.defn(k,"$gsub",ha=function(a,c){var e=this,p=ha.$$p||g;ha.$$p=null;if(void 0===c&&p===g)return e.$enum_for("gsub",a);var h="",k=g,C=0,H,O;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){H=a.exec(e);if(null===H){b["~"]=g;
h+=e.slice(C);break}k=f.get("MatchData").$new(a,H);void 0===c?O=p(H[0]):c.$$is_hash?O=c["$[]"](H[0]).$to_s():(c.$$is_string||(c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str")),O=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=H.length-1;0<a;a--)if(void 0!==H[a])return b.slice(1)+H[a];return"";case "&":return b.slice(1)+H[0];case "`":return b.slice(1)+e.slice(0,H.index);case "'":return b.slice(1)+e.slice(H.index+H[0].length);default:return b.slice(1)+
(H[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===H.index?(h+=O+e.slice(C,H.index+1),a.lastIndex+=1):h+=e.slice(C,H.index)+O;C=a.lastIndex}b["~"]=k;return h},ha.$$arity=-2);a.defn(k,"$hash",la=function(){return this.toString()},la.$$arity=0);a.defn(k,"$hex",fa=function(){return this.$to_i(16)},fa.$$arity=0);a.defn(k,"$include?",ea=function(a){a.$$is_string||(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"));return-1!==this.indexOf(a)},ea.$$arity=1);a.defn(k,"$index",ja=function(a,c){var e,
p;if(void 0===c)c=0;else if(c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return g;if(a.$$is_regexp)for(p=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=p.exec(this);if(null===e){b["~"]=g;e=-1;break}if(e.index>=c){b["~"]=f.get("MatchData").$new(p,e);e=e.index;break}p.lastIndex=e.index+1}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),e=0===a.length&&c>this.length?-1:this.indexOf(a,c);return-1===e?g:e},ja.$$arity=-2);a.defn(k,"$inspect",ka=function(){var a=
{"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\x7f-\x9f\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},ka.$$arity=0);a.defn(k,"$intern",K=function(){return this},K.$$arity=0);a.defn(k,"$lines",P=function(a){var c,
f=P.$$p||g,e=g;null==b["/"]&&(b["/"]=g);null==a&&(a=b["/"]);P.$$p=null;e=(c=this.$each_line,c.$$p=f.$to_proc(),c).call(this,a);return!1!==f&&f!==g&&null!=f?this:e.$to_a()},P.$$arity=-1);a.defn(k,"$length",U=function(){return this.length},U.$$arity=0);a.defn(k,"$ljust",R=function(a,b){var c;null==b&&(b=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();(c=b["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),
"zero width padding");if((c=a<=this.length)!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;c=-1;var e="";for(a-=this.length;++c<a;)e+=b;return this+e.slice(0,a)},R.$$arity=-2);a.defn(k,"$lstrip",qa=function(){return this.replace(/^\s*/,"")},qa.$$arity=0);a.defn(k,"$match",ra=function(a,b){var c,e,p=ra.$$p||g;ra.$$p=null;(c=!1!==(e=f.get("String")["$==="](a))&&e!==g&&null!=e?e:a["$respond_to?"]("to_str"))===g||null==c||c.$$is_boolean&&1!=c||(a=f.get("Regexp").$new(a.$to_str()));((c=f.get("Regexp")["$==="](a))===
g||null==c||c.$$is_boolean&&1!=c)&&this.$raise(f.get("TypeError"),"wrong argument type "+a.$class()+" (expected Regexp)");return(c=(e=a).$match,c.$$p=p.$to_proc(),c).call(e,this,b)},ra.$$arity=-2);a.defn(k,"$next",pa=function(){var a=this.length;if(0===a)return"";for(var b=this,c=this.search(/[a-zA-Z0-9]/),f=!1,e;a--;){e=this.charCodeAt(a);if(48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:f=!0;e=48;break;case 90:f=!0;e=65;break;case 122:f=!0;e=97;break;default:f=!1,e+=1}else-1===c?255===
e?(f=!0,e=0):(f=!1,e+=1):f=!0;b=b.slice(0,a)+String.fromCharCode(e)+b.slice(a+1);if(f&&(0===a||a===c)){switch(e){case 65:break;case 97:break;default:e+=1}b=0===a?String.fromCharCode(e)+b:b.slice(0,a)+String.fromCharCode(e)+b.slice(a);f=!1}if(!f)break}return b},pa.$$arity=0);a.defn(k,"$oct",va=function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,f,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===f)return a}switch(f){case "0b":b=
2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+e});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},va.$$arity=0);a.defn(k,"$ord",oa=function(){return this.charCodeAt(0)},oa.$$arity=0);a.defn(k,"$partition",ta=function(a){var b;a.$$is_regexp?(b=a.exec(this),null===b?b=-1:(f.get("MatchData").$new(a,b),a=b[0],b=b.index)):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),b=this.indexOf(a));return-1===b?[this,"",""]:[this.slice(0,b),this.slice(b,b+a.length),
this.slice(b+a.length)]},ta.$$arity=1);a.defn(k,"$reverse",na=function(){return this.split("").reverse().join("")},na.$$arity=0);a.defn(k,"$rindex",wa=function(a,c){var e,p,h;if(void 0===c)c=this.length;else if(c=f.get("Opal").$coerce_to(c,f.get("Integer"),"to_int"),0>c&&(c+=this.length,0>c))return g;if(a.$$is_regexp){e=null;for(p=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){h=p.exec(this);if(null===h||h.index>c)break;e=h;p.lastIndex=e.index+1}null===e?(b["~"]=g,e=-1):(f.get("MatchData").$new(p,
e),e=e.index)}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),e=this.lastIndexOf(a,c);return-1===e?g:e},wa.$$arity=-2);a.defn(k,"$rjust",ya=function(a,b){var c;null==b&&(b=" ");a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();(c=b["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),"zero width padding");if((c=a<=this.length)!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;c=Math.floor(a-
this.length);var e=Array(Math.floor(c/b.length)+1).join(b);return e+b.slice(0,c-e.length)+this},ya.$$arity=-2);a.defn(k,"$rpartition",da=function(a){var b,c,e;if(a.$$is_regexp){b=null;for(c=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=c.exec(this);if(null===e)break;b=e;c.lastIndex=b.index+1}null===b?b=-1:(f.get("MatchData").$new(c,b),a=b[0],b=b.index)}else a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),b=this.lastIndexOf(a);return-1===b?["","",this]:[this.slice(0,b),this.slice(b,b+
a.length),this.slice(b+a.length)]},da.$$arity=1);a.defn(k,"$rstrip",p=function(){return this.replace(/[\s\u0000]*$/,"")},p.$$arity=0);a.defn(k,"$scan",O=function(a){var c=O.$$p||g;O.$$p=null;var e=[],p=g,h;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(h=a.exec(this));)p=f.get("MatchData").$new(a,h),c===g?1==h.length?e.push(h[0]):e.push(p.$captures()):1==
h.length?c(h[0]):c.call(this,p.$captures()),a.lastIndex===h.index&&(a.lastIndex+=1);b["~"]=p;return c!==g?this:e},O.$$arity=1);a.alias(k,"size","length");a.alias(k,"slice","[]");a.defn(k,"$split",ua=function(a,c){var e;null==b[";"]&&(b[";"]=g);if(0===this.length)return[];if(void 0===c)c=0;else if(c=f.get("Opal")["$coerce_to!"](c,f.get("Integer"),"to_int"),1===c)return[this];if(void 0===a||a===g)a=!1!==(e=b[";"])&&e!==g&&null!=e?e:" ";e=[];var p=this.toString(),h=0,k,C;a.$$is_regexp?a=new RegExp(a.source,
"gm"+(a.ignoreCase?"i":"")):(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s()," "===a?(a=/\s+/gm,p=p.replace(/^\s+/,"")):a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));e=p.split(a);if(1===e.length&&e[0]===p)return e;for(;-1!==(C=e.indexOf(void 0));)e.splice(C,1);if(0===c){for(;""===e[e.length-1];)--e.length;return e}k=a.exec(p);if(0>c){if(null!==k&&""===k[0]&&-1===a.source.indexOf("(?="))for(C=0;C<k.length;C++)e.push("");return e}if(null!==k&&""===k[0])return e.splice(c-
1,e.length-1,e.slice(c-1).join("")),e;if(c>=e.length)return e;for(C=0;null!==k;){C++;h=a.lastIndex;if(C+1===c)break;k=a.exec(p)}e.splice(c-1,e.length-1,p.slice(h));return e},ua.$$arity=-1);a.defn(k,"$squeeze",X=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var f=0;f<c;f++)b[f-0]=arguments[f];if(0===b.length)return this.replace(/(.)\1+/g,"$1");c=v(b);return null===c?this:this.replace(new RegExp("("+c+")\\1+","g"),"$1")},X.$$arity=-1);a.defn(k,"$start_with?",sa=function(a){var b,
c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];c=0;for(e=b.length;c<e;c++){var p=f.get("Opal").$coerce_to(b[c],f.get("String"),"to_str").$to_s();if(0===this.indexOf(p))return!0}return!1},sa.$$arity=-1);a.defn(k,"$strip",xa=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},xa.$$arity=0);a.defn(k,"$sub",Aa=function(a,c){var e=this,p=Aa.$$p||g;Aa.$$p=null;a.$$is_regexp||(a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,
"\\$&")));var h=a.exec(e);if(null===h)return b["~"]=g,e.toString();f.get("MatchData").$new(a,h);if(void 0===c)return p===g&&e.$raise(f.get("ArgumentError"),"wrong number of arguments (1 for 2)"),e.slice(0,h.index)+p(h[0])+e.slice(h.index+h[0].length);if(c.$$is_hash)return e.slice(0,h.index)+c["$[]"](h[0]).$to_s()+e.slice(h.index+h[0].length);c=f.get("Opal").$coerce_to(c,f.get("String"),"to_str");c=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=
h.length-1;0<a;a--)if(void 0!==h[a])return b.slice(1)+h[a];return"";case "&":return b.slice(1)+h[0];case "`":return b.slice(1)+e.slice(0,h.index);case "'":return b.slice(1)+e.slice(h.index+h[0].length);default:return b.slice(1)+(h[c]||"")}}).replace(/\\\\/g,"\\");return e.slice(0,h.index)+c+e.slice(h.index+h[0].length)},Aa.$$arity=-2);a.alias(k,"succ","next");a.defn(k,"$sum",Ba=function(a){null==a&&(a=16);a=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");for(var b=0,c=this.length,e=0;e<c;e++)b+=
this.charCodeAt(e);return 0>=a?b:b&Math.pow(2,a)-1},Ba.$$arity=-1);a.defn(k,"$swapcase",ba=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},ba.$$arity=0);a.defn(k,"$to_f",za=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},za.$$arity=0);a.defn(k,"$to_i",L=function(a){null==a&&(a=10);var b=this.toLowerCase(),
c=f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int");(1===c||0>c||36<c)&&this.$raise(f.get("ArgumentError"),"invalid radix "+c);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,f,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===f&&(0===c||16===c))return a}switch(f){case "0b":if(0===c||2===c)return c=2,b+e;break;case "0":case "0o":if(0===c||8===c)return c=8,b+e;break;case "0d":if(0===c||10===c)return c=10,b+e;break;case "0x":if(0===
c||16===c)return c=16,b+e}return a});a=parseInt(b.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},L.$$arity=-1);a.defn(k,"$to_proc",C=function(){var b,c,e=g,e=this;return(b=this.$proc,b.$$p=(c=function(b){var p=c.$$s||this,h,k,C,H,O=g;h=c.$$p||g;c.$$p=null;O=arguments.length;k=O-0;0>k&&(k=0);k=Array(k);for(var l=0;l<O;l++)k[l-0]=arguments[l];(C=k["$empty?"]())===g||null==C||C.$$is_boolean&&1!=C||p.$raise(f.get("ArgumentError"),"no receiver given");O=k.$shift();return(C=(H=O).$__send__,C.$$p=h.$to_proc(),
C).apply(H,[e].concat(a.to_a(k)))},c.$$s=this,c.$$arity=-1,c),b).call(this)},C.$$arity=0);a.defn(k,"$to_s",H=function(){return this.toString()},H.$$arity=0);a.alias(k,"to_str","to_s");a.alias(k,"to_sym","intern");a.defn(k,"$tr",ca=function(a,b){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();if(0==a.length||a===b)return this;var c,e,p,g,h,k={};h=a.split("");var C=h.length,H=b.split(""),O=H.length,l=!1,ca=null;"^"===h[0]&&
1<h.length&&(l=!0,h.shift(),ca=H[O-1],--C);var L=[];p=null;e=!1;for(c=0;c<C;c++)if(g=h[c],null==p)p=g,L.push(g);else if("-"===g)"-"===p?(L.push("-"),L.push("-")):c==C-1?L.push("-"):e=!0;else if(e){p=p.charCodeAt(0);e=g.charCodeAt(0);p>e&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(e)+'" in string transliteration');for(p+=1;p<e;p++)L.push(String.fromCharCode(p));L.push(g);p=e=null}else L.push(g);h=L;C=h.length;if(l)for(c=0;c<C;c++)k[h[c]]=!0;
else{if(0<O){L=[];p=null;e=!1;for(c=0;c<O;c++)if(g=H[c],null==p)p=g,L.push(g);else if("-"===g)"-"===p?(L.push("-"),L.push("-")):c==O-1?L.push("-"):e=!0;else if(e){p=p.charCodeAt(0);e=g.charCodeAt(0);p>e&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(e)+'" in string transliteration');for(p+=1;p<e;p++)L.push(String.fromCharCode(p));L.push(g);p=e=null}else L.push(g);H=L;O=H.length}g=C-O;if(0<g)for(O=0<O?H[O-1]:"",c=0;c<g;c++)H.push(O);for(c=0;c<C;c++)k[h[c]]=
H[c]}C="";c=0;for(h=this.length;c<h;c++)g=this.charAt(c),H=k[g],C=l?C+(null==H?ca:g):C+(null!=H?H:g);return C},ca.$$arity=2);a.defn(k,"$tr_s",Da=function(a,b){a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str").$to_s();b=f.get("Opal").$coerce_to(b,f.get("String"),"to_str").$to_s();if(0==a.length)return this;var c,e,p,g,h,k={};h=a.split("");var C=h.length,H=b.split(""),O=H.length,l=!1,L=null;"^"===h[0]&&1<h.length&&(l=!0,h.shift(),L=H[O-1],--C);var ca=[];p=null;e=!1;for(c=0;c<C;c++)if(g=h[c],null==
p)p=g,ca.push(g);else if("-"===g)"-"===p?(ca.push("-"),ca.push("-")):c==C-1?ca.push("-"):e=!0;else if(e){p=p.charCodeAt(0);e=g.charCodeAt(0);p>e&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(e)+'" in string transliteration');for(p+=1;p<e;p++)ca.push(String.fromCharCode(p));ca.push(g);p=e=null}else ca.push(g);h=ca;C=h.length;if(l)for(c=0;c<C;c++)k[h[c]]=!0;else{if(0<O){ca=[];e=!1;for(c=0;c<O;c++)if(g=H[c],null==p)p=g,ca.push(g);else if("-"===g)c==
O-1?ca.push("-"):e=!0;else if(e){p=p.charCodeAt(0);e=g.charCodeAt(0);p>e&&this.$raise(f.get("ArgumentError"),'invalid range "'+String.fromCharCode(p)+"-"+String.fromCharCode(e)+'" in string transliteration');for(p+=1;p<e;p++)ca.push(String.fromCharCode(p));ca.push(g);p=e=null}else ca.push(g);H=ca;O=H.length}g=C-O;if(0<g)for(O=0<O?H[O-1]:"",c=0;c<g;c++)H.push(O);for(c=0;c<C;c++)k[h[c]]=H[c]}C="";H=null;c=0;for(h=this.length;c<h;c++)if(g=this.charAt(c),O=k[g],l)null==O?null==H&&(C+=L,H=!0):(C+=g,H=
null);else if(null!=O){if(null==H||H!==O)C+=O,H=O}else C+=g,H=null;return C},Da.$$arity=2);a.defn(k,"$upcase",Ca=function(){return this.toUpperCase()},Ca.$$arity=0);a.defn(k,"$upto",ma=function(a,b){var c=ma.$$p||g;null==b&&(b=!1);ma.$$p=null;if(c===g)return this.$enum_for("upto",a,b);a=f.get("Opal").$coerce_to(a,f.get("String"),"to_str");var e,p;e=this.toString();if(1===e.length&&1===a.length)for(e=e.charCodeAt(0),p=a.charCodeAt(0);e<=p&&(!b||e!==p);)c(String.fromCharCode(e)),e+=1;else if(parseInt(e,
10).toString()===e&&parseInt(a,10).toString()===a)for(e=parseInt(e,10),p=parseInt(a,10);e<=p&&(!b||e!==p);)c(e.toString()),e+=1;else for(;e.length<=a.length&&e<=a&&(!b||e!==a);)c(e),e=e.$succ();return this},ma.$$arity=-2);a.defn(k,"$instance_variables",Ea=function(){return[]},Ea.$$arity=0);return(a.defs(k,"$_load",Fa=function(b){var c,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var e=0;e<f;e++)c[e-0]=arguments[e];return this.$new.apply(this,a.to_a(c))},Fa.$$arity=-1),g)&&"_load"})(a.base,String);
return a.cdecl(a,"Symbol",a.get("String"))};
Opal.modules["corelib/enumerable"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=a.nil,g=a.module;a.add_stubs("$each $destructure $raise $new $yield $dup $enum_for $enumerator_size $flatten $map $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $to_enum $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $<=> $first $reverse $sort $to_proc $compare $call $to_a $lambda $sort! $map! $zip".split(" "));return function(h){h=
g(h,"Enumerable");var b=h.$$scope,c,d,w,v,k,n,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P;a.defn(h,"$all?",c=function(){try{var d,f,g,h=c.$$p||e;c.$$p=null;h!==e?(d=this.$each,d.$$p=(f=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];if((d=a.yieldX(h,a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d)a.ret(!1);else return e},f.$$s=this,f.$$arity=-1,f),d).call(this):(d=this.$each,d.$$p=(g=function(c){var d,f,
g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var h=0;h<g;h++)d[h-0]=arguments[h];if((f=b.get("Opal").$destructure(d))===e||null==f||f.$$is_boolean&&1!=f)a.ret(!1);else return e},g.$$s=this,g.$$arity=-1,g),d).call(this);return!0}catch(k){if(k===a.returner)return k.$v;throw k;}},c.$$arity=0);a.defn(h,"$any?",d=function(){try{var c,f,g,h=d.$$p||e;d.$$p=null;h!==e?(c=this.$each,c.$$p=(f=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];if((d=
a.yieldX(h,a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d)return e;a.ret(!0)},f.$$s=this,f.$$arity=-1,f),c).call(this):(c=this.$each,c.$$p=(g=function(c){var d,f,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var h=0;h<g;h++)d[h-0]=arguments[h];if((f=b.get("Opal").$destructure(d))===e||null==f||f.$$is_boolean&&1!=f)return e;a.ret(!0)},g.$$s=this,g.$$arity=-1,g),c).call(this);return!1}catch(k){if(k===a.returner)return k.$v;throw k;}},d.$$arity=0);a.defn(h,"$chunk",w=function(c){var d,f,g,h=w.$$p||
e;w.$$p=null;!1!==h&&h!==e&&null!=h||b.get("Kernel").$raise(b.get("ArgumentError"),"no block given");return(d=(f=a.get("Enumerator")).$new,d.$$p=(g=function(d){function f(){0<O.length&&d.$yield(p,O)}var k=g.$$s||this,l,m,n;null==d&&(d=e);var da,p=e,O=[];da=void 0==c||c===e?h:(l=(m=b.get("Proc")).$new,l.$$p=(n=function(a){null==a&&(a=e);return h.$yield(a,c.$dup())},n.$$s=k,n.$$arity=1,n),l).call(m);k.$each.$$p=function(b){var c=a.yield1(da,b);c===e?(f(),O=[],p=e):(p===e||p===c?O.push(b):(f(),O=[b]),
p=c)};k.$each();f()},g.$$s=this,g.$$arity=1,g),d).call(f)},w.$$arity=-1);a.defn(h,"$collect",v=function(){var b,c,d=v.$$p||e;v.$$p=null;if(d===e)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c),b).call(this,"collect");var f=[];this.$each.$$p=function(){var b=a.yieldX(d,arguments);f.push(b)};this.$each();return f},v.$$arity=0);a.defn(h,"$collect_concat",k=function(){var b,c,d,f=k.$$p||e;k.$$p=null;return f===e?(b=this.$enum_for,b.$$p=(c=
function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c),b).call(this,"collect_concat"):(b=this.$map,b.$$p=(d=function(b){null==b&&(b=e);return a.yield1(f,b)},d.$$s=this,d.$$arity=1,d),b).call(this).$flatten(1)},k.$$arity=0);a.defn(h,"$count",n=function(c){var d,f,g,h,k=n.$$p||e,l=e;n.$$p=null;l=0;(d=null!=c)===e||null==d||d.$$is_boolean&&1!=d?(d=k["$nil?"]())===e||null==d||d.$$is_boolean&&1!=d||(k=(d=this.$proc,d.$$p=(g=function(){return!0},g.$$s=this,g.$$arity=0,g),d).call(this)):
k=(d=this.$proc,d.$$p=(f=function(a){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];return b.get("Opal").$destructure(d)["$=="](c)},f.$$s=this,f.$$arity=-1,f),d).call(this);(d=this.$each,d.$$p=(h=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];return(d=a.yieldX(k,c))===e||null==d||d.$$is_boolean&&1!=d?e:l++},h.$$s=this,h.$$arity=-1,h),d).call(this);return l},n.$$arity=-1);a.defn(h,"$cycle",f=function(c){var d,
g,h=f.$$p||e;null==c&&(c=e);f.$$p=null;if(h===e)return(d=this.$enum_for,d.$$p=(g=function(){var a=g.$$s||this,d;if(c["$=="](e))return(d=a["$respond_to?"]("size"))===e||null==d||d.$$is_boolean&&1!=d?e:b.get("Float").$$scope.get("INFINITY");c=b.get("Opal")["$coerce_to!"](c,b.get("Integer"),"to_int");if((d=l(c,0))===e||null==d||d.$$is_boolean&&1!=d)return 0;a=a.$enumerator_size();return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)},g.$$s=this,g.$$arity=0,g),d).call(this,"cycle",c);if((d=c["$nil?"]())===
e||null==d||d.$$is_boolean&&1!=d)if(c=b.get("Opal")["$coerce_to!"](c,b.get("Integer"),"to_int"),(d=0>=c)!==e&&null!=d&&(!d.$$is_boolean||1==d))return e;var k=[],m;this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);a.yield1(h,c);k.push(c)};this.$each();if(0===k.length)return e;if(c===e)for(;;)for(d=0,m=k.length;d<m;d++)a.yield1(h,k[d]);else for(;1<c;){d=0;for(m=k.length;d<m;d++)a.yield1(h,k[d]);c--}},f.$$arity=-1);a.defn(h,"$detect",m=function(c){try{var d,f,g=m.$$p||e;m.$$p=null;
if(g===e)return this.$enum_for("detect",c);(d=this.$each,d.$$p=(f=function(c){var d,f,h=e,h=arguments.length;d=h-0;0>d&&(d=0);d=Array(d);for(var k=0;k<h;k++)d[k-0]=arguments[k];h=b.get("Opal").$destructure(d);if((f=a.yield1(g,h))===e||null==f||f.$$is_boolean&&1!=f)return e;a.ret(h)},f.$$s=this,f.$$arity=-1,f),d).call(this);return void 0!==c?"function"===typeof c?c():c:e}catch(h){if(h===a.returner)return h.$v;throw h;}},m.$$arity=-1);a.defn(h,"$drop",r=function(a){var c;a=b.get("Opal").$coerce_to(a,
b.get("Integer"),"to_int");(c=0>a)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(b.get("ArgumentError"),"attempt to drop negative size");var d=[],f=0;this.$each.$$p=function(){a<=f&&d.push(b.get("Opal").$destructure(arguments));f++};this.$each();return d},r.$$arity=1);a.defn(h,"$drop_while",x=function(){var c,d=x.$$p||e;x.$$p=null;if(d===e)return this.$enum_for("drop_while");var f=[],g=!0;this.$each.$$p=function(){var h=b.get("Opal").$destructure(arguments);if(g){if((c=a.yield1(d,h))===e||null==
c||c.$$is_boolean&&0==c)g=!1,f.push(h)}else f.push(h)};this.$each();return f},x.$$arity=0);a.defn(h,"$each_cons",E=function(c){var d,f,g=E.$$p||e;E.$$p=null;(d=1!=arguments.length)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 1)");c=b.get("Opal").$try_convert(c,b.get("Integer"),"to_int");(d=0>=c)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"invalid size");if(g===e)return(d=this.$enum_for,d.$$p=
(f=function(){var a,b,d=e,d=(f.$$s||this).$enumerator_size();return(a=d["$nil?"]())===e||null==a||a.$$is_boolean&&1!=a?(a=!1!==(b=d["$=="](0))&&b!==e&&null!=b?b:"number"===typeof d&&"number"===typeof c?d<c:d["$<"](c))===e||null==a||a.$$is_boolean&&1!=a?q("number"===typeof d&&"number"===typeof c?d-c:d["$-"](c),1):0:e},f.$$s=this,f.$$arity=0,f),d).call(this,"each_cons",c);var h=[];this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);h.push(d);h.length>c&&h.shift();h.length==c&&a.yield1(g,
h.slice(0,c))};this.$each();return e},E.$$arity=1);a.defn(h,"$each_entry",B=function(c){var d,f,g,h=B.$$p||e,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var l=0;l<k;l++)g[l-0]=arguments[l];B.$$p=null;if(h===e)return(d=this.$to_enum,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f),d).apply(this,["each_entry"].concat(a.to_a(g)));this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);a.yield1(h,c)};this.$each.apply(this,g);return this},B.$$arity=
-1);a.defn(h,"$each_slice",t=function(c){var d,f,g=t.$$p||e;t.$$p=null;c=b.get("Opal").$coerce_to(c,b.get("Integer"),"to_int");(d=0>=c)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"invalid slice size");if(g===e)return(d=this.$enum_for,d.$$p=(f=function(){var a=f.$$s||this,b;if((b=a["$respond_to?"]("size"))===e||null==b||b.$$is_boolean&&1!=b)return e;a=a.$size();return("number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)).$ceil()},f.$$s=this,f.$$arity=0,f),d).call(this,
"each_slice",c);var h=[];this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);h.push(d);h.length===c&&(a.yield1(g,h),h=[])};this.$each();0<h.length&&a.yield1(g,h);return e},t.$$arity=1);a.defn(h,"$each_with_index",u=function(c){var d,f,g,h=u.$$p||e,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var l=0;l<k;l++)g[l-0]=arguments[l];u.$$p=null;if(h===e)return(d=this.$enum_for,d.$$p=(f=function(){return(f.$$s||this).$enumerator_size()},f.$$s=this,f.$$arity=0,f),d).apply(this,["each_with_index"].concat(a.to_a(g)));
var m=0;this.$each.$$p=function(){var a=b.get("Opal").$destructure(arguments);h(a,m);m++};this.$each.apply(this,g);return this},u.$$arity=-1);a.defn(h,"$each_with_object",D=function(a){var c,d,f=D.$$p||e;D.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"each_with_object",a);this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);f(c,a)};this.$each();return a},D.$$arity=1);a.defn(h,"$entries",
G=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];var e=[];this.$each.$$p=function(){e.push(b.get("Opal").$destructure(arguments))};this.$each.apply(this,c);return e},G.$$arity=-1);a.alias(h,"find","detect");a.defn(h,"$find_all",z=function(){var c,d,f=z.$$p||e;z.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"find_all");var g=[];this.$each.$$p=function(){var d=
b.get("Opal").$destructure(arguments);(c=a.yield1(f,d))===e||null==c||c.$$is_boolean&&1!=c||g.push(d)};this.$each();return g},z.$$arity=0);a.defn(h,"$find_index",I=function(c){try{var d,f,g,h=I.$$p||e,k=e;I.$$p=null;if((d=void 0===c&&h===e)!==e&&null!=d&&(!d.$$is_boolean||1==d))return this.$enum_for("find_index");k=0;(d=null!=c)===e||null==d||d.$$is_boolean&&1!=d?(d=this.$each,d.$$p=(g=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];(d=a.yieldX(h,
a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d||a.ret(k);return k+=1},g.$$s=this,g.$$arity=-1,g),d).call(this):(d=this.$each,d.$$p=(f=function(d){var f,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];b.get("Opal").$destructure(f)["$=="](c)&&a.ret(k);return k+=1},f.$$s=this,f.$$arity=-1,f),d).call(this);return e}catch(l){if(l===a.returner)return l.$v;throw l;}},I.$$arity=-1);a.defn(h,"$first",J=function(c){try{var d,f,g,h=e,k=e;if((d=void 0===c)===e||null==d||
d.$$is_boolean&&1!=d){h=[];c=b.get("Opal").$coerce_to(c,b.get("Integer"),"to_int");(d=0>c)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),"attempt to take negative size");if((d=0==c)!==e&&null!=d&&(!d.$$is_boolean||1==d))return[];k=0;(d=this.$each,d.$$p=(g=function(d){var f,g,l=arguments.length;f=l-0;0>f&&(f=0);f=Array(f);for(var m=0;m<l;m++)f[m-0]=arguments[m];h.push(b.get("Opal").$destructure(f));if((g=c<=++k)===e||null==g||g.$$is_boolean&&1!=g)return e;a.ret(h)},g.$$s=this,
g.$$arity=-1,g),d).call(this);return h}return(d=this.$each,d.$$p=(f=function(b){null==b&&(b=e);a.ret(b)},f.$$s=this,f.$$arity=1,f),d).call(this)}catch(l){if(l===a.returner)return l.$v;throw l;}},J.$$arity=-1);a.alias(h,"flat_map","collect_concat");a.defn(h,"$grep",F=function(c){var d,f=F.$$p||e;F.$$p=null;var g=[];this.$each.$$p=f!==e?function(){var h=b.get("Opal").$destructure(arguments),k=c["$==="](h);(d=k)===e||null==d||d.$$is_boolean&&1!=d||(k=a.yield1(f,h),g.push(k))}:function(){var a=b.get("Opal").$destructure(arguments);
(d=c["$==="](a))===e||null==d||d.$$is_boolean&&1!=d||g.push(a)};this.$each();return g},F.$$arity=1);a.defn(h,"$group_by",y=function(){var c,d,f,g,h=y.$$p||e,k=e;y.$$p=null;if(h===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"group_by");k=b.get("Hash").$new();this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);(c=a.yield1(h,d),f=k,!1!==(g=f["$[]"](c))&&g!==e&&null!=g?g:f["$[]="](c,[]))["$<<"](d)};this.$each();
return k},y.$$arity=0);a.defn(h,"$include?",M=function(c){try{var d,f;(d=this.$each,d.$$p=(f=function(d){var f,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var h=0;h<g;h++)f[h-0]=arguments[h];if(b.get("Opal").$destructure(f)["$=="](c))a.ret(!0);else return e},f.$$s=this,f.$$arity=-1,f),d).call(this);return!1}catch(g){if(g===a.returner)return g.$v;throw g;}},M.$$arity=1);a.defn(h,"$inject",N=function(c,d){var f=N.$$p||e;N.$$p=null;var g=c;f!==e&&void 0===d?this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);
void 0!==g&&(c=a.yieldX(f,[g,c]));g=c}:(void 0===d&&(b.get("Symbol")["$==="](c)||this.$raise(b.get("TypeError"),""+c.$inspect()+" is not a Symbol"),d=c,g=void 0),this.$each.$$p=function(){var a=b.get("Opal").$destructure(arguments);g=void 0===g?a:g.$__send__(d,a)});this.$each();return void 0==g?e:g},N.$$arity=-1);a.defn(h,"$lazy",Q=function(){var c,d,f;return(c=(d=b.get("Enumerator").$$scope.get("Lazy")).$new,c.$$p=(f=function(b,c){var d,f,g=arguments.length;d=g-1;0>d&&(d=0);d=Array(d);for(var h=
1;h<g;h++)d[h-1]=arguments[h];null==b&&(b=e);return(f=b).$yield.apply(f,a.to_a(d))},f.$$s=this,f.$$arity=-2,f),c).call(d,this,this.$enumerator_size())},Q.$$arity=0);a.defn(h,"$enumerator_size",V=function(){var a;return(a=this["$respond_to?"]("size"))===e||null==a||a.$$is_boolean&&1!=a?e:this.$size()},V.$$arity=0);a.alias(h,"map","collect");a.defn(h,"$max",T=function(c){var d,f=this,g=T.$$p||e;T.$$p=null;if(void 0===c||c===e){var h,k;f.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments);
void 0===h?h=c:(k=g!==e?a.yieldX(g,[c,h]):c["$<=>"](h),k===e&&f.$raise(b.get("ArgumentError"),"comparison failed"),0<k&&(h=c))};f.$each();return void 0===h?e:h}c=b.get("Opal").$coerce_to(c,b.get("Integer"),"to_int");return(d=f.$sort,d.$$p=g.$to_proc(),d).call(f).$reverse().$first(c)},T.$$arity=-1);a.defn(h,"$max_by",Y=function(){var c,d,f=Y.$$p||e;Y.$$p=null;if(!1===f||f===e||null==f)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,
"max_by");var g,h;this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments),d=a.yield1(f,c);void 0===g?(g=c,h=d):0<d["$<=>"](h)&&(g=c,h=d)};this.$each();return void 0===g?e:g},Y.$$arity=0);a.alias(h,"member?","include?");a.defn(h,"$min",S=function(){var a=this,c=S.$$p||e;S.$$p=null;var d;a.$each.$$p=c!==e?function(){var f=b.get("Opal").$destructure(arguments);if(void 0===d)d=f;else{var g=c(f,d);g===e&&a.$raise(b.get("ArgumentError"),"comparison failed");0>g&&(d=f)}}:function(){var a=b.get("Opal").$destructure(arguments);
void 0===d?d=a:0>b.get("Opal").$compare(a,d)&&(d=a)};a.$each();return void 0===d?e:d},S.$$arity=0);a.defn(h,"$min_by",A=function(){var c,d,f=A.$$p||e;A.$$p=null;if(!1===f||f===e||null==f)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"min_by");var g,h;this.$each.$$p=function(){var c=b.get("Opal").$destructure(arguments),d=a.yield1(f,c);void 0===g?(g=c,h=d):0>d["$<=>"](h)&&(g=c,h=d)};this.$each();return void 0===g?e:g},A.$$arity=
0);a.defn(h,"$minmax",W=function(){var a,c,d,f=this,g=W.$$p||e;W.$$p=null;!1!==(a=g)&&a!==e&&null!=a?a:g=(c=f.$proc,c.$$p=(d=function(a,b){null==a&&(a=e);null==b&&(b=e);return a["$<=>"](b)},d.$$s=f,d.$$arity=2,d),c).call(f);var h=e,k=e,l=!0;f.$each.$$p=function(){var a=b.get("Opal").$destructure(arguments);if(l)h=k=a,l=!1;else{var c=g.$call(h,a);c===e?f.$raise(b.get("ArgumentError"),"comparison failed"):0<c&&(h=a);c=g.$call(k,a);c===e?f.$raise(b.get("ArgumentError"),"comparison failed"):0>c&&(k=a)}};
f.$each();return[h,k]},W.$$arity=0);a.defn(h,"$minmax_by",aa=function(){aa.$$p=null;return this.$raise(b.get("NotImplementedError"))},aa.$$arity=0);a.defn(h,"$none?",ga=function(){try{var c,d,f,g=ga.$$p||e;ga.$$p=null;g!==e?(c=this.$each,c.$$p=(d=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];if((d=a.yieldX(g,a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d)return e;a.ret(!1)},d.$$s=this,d.$$arity=-1,d),c).call(this):(c=this.$each,c.$$p=(f=
function(c){var d,f,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var h=0;h<g;h++)d[h-0]=arguments[h];if((f=b.get("Opal").$destructure(d))===e||null==f||f.$$is_boolean&&1!=f)return e;a.ret(!1)},f.$$s=this,f.$$arity=-1,f),c).call(this);return!0}catch(h){if(h===a.returner)return h.$v;throw h;}},ga.$$arity=0);a.defn(h,"$one?",Z=function(){try{var c,d,f,g=Z.$$p||e,h=e;Z.$$p=null;h=0;g!==e?(c=this.$each,c.$$p=(d=function(b){var c,d,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var k=0;k<f;k++)c[k-
0]=arguments[k];if((d=a.yieldX(g,a.to_a(c)))===e||null==d||d.$$is_boolean&&1!=d)return e;h=q(h,1);if((d=l(h,1))===e||null==d||d.$$is_boolean&&1!=d)return e;a.ret(!1)},d.$$s=this,d.$$arity=-1,d),c).call(this):(c=this.$each,c.$$p=(f=function(c){var d,f,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var k=0;k<g;k++)d[k-0]=arguments[k];if((f=b.get("Opal").$destructure(d))===e||null==f||f.$$is_boolean&&1!=f)return e;h=q(h,1);if((f=l(h,1))===e||null==f||f.$$is_boolean&&1!=f)return e;a.ret(!1)},f.$$s=
this,f.$$arity=-1,f),c).call(this);return h["$=="](1)}catch(k){if(k===a.returner)return k.$v;throw k;}},Z.$$arity=0);a.defn(h,"$partition",ia=function(){var c,d,f=ia.$$p||e;ia.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"partition");var g=[],h=[];this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);(c=a.yield1(f,d))===e||null==c||c.$$is_boolean&&1!=c?h.push(d):g.push(d)};this.$each();
return[g,h]},ia.$$arity=0);a.alias(h,"reduce","inject");a.defn(h,"$reject",ha=function(){var c,d,f=ha.$$p||e;ha.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"reject");var g=[];this.$each.$$p=function(){var d=b.get("Opal").$destructure(arguments);((c=a.yield1(f,d))===e||null==c||c.$$is_boolean&&0==c)&&g.push(d)};this.$each();return g},ha.$$arity=0);a.defn(h,"$reverse_each",la=function(){var b,c,d=la.$$p||
e;la.$$p=null;if(d===e)return(b=this.$enum_for,b.$$p=(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c),b).call(this,"reverse_each");var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(b=f.length-1;0<=b;b--)a.yieldX(d,f[b]);return f},la.$$arity=0);a.alias(h,"select","find_all");a.defn(h,"$slice_before",fa=function(c){var d,f,g,h=fa.$$p||e;fa.$$p=null;(d=void 0===c&&h===e||1<arguments.length)===e||null==d||d.$$is_boolean&&1!=d||this.$raise(b.get("ArgumentError"),
"wrong number of arguments ("+arguments.length+" for 1)");return(d=(f=b.get("Enumerator")).$new,d.$$p=(g=function(d){var f=g.$$s||this,k;null==d&&(d=e);var l=[];f.$each.$$p=h!==e?void 0===c?function(){var c=b.get("Opal").$destructure(arguments);(k=a.yield1(h,c))!==e&&null!=k&&(!k.$$is_boolean||1==k)&&0<l.length&&(d["$<<"](l),l=[]);l.push(c)}:function(){var a=b.get("Opal").$destructure(arguments);(k=h(a,c.$dup()))!==e&&null!=k&&(!k.$$is_boolean||1==k)&&0<l.length&&(d["$<<"](l),l=[]);l.push(a)}:function(){var a=
b.get("Opal").$destructure(arguments);(k=c["$==="](a))!==e&&null!=k&&(!k.$$is_boolean||1==k)&&0<l.length&&(d["$<<"](l),l=[]);l.push(a)};f.$each();if(0<l.length)d["$<<"](l)},g.$$s=this,g.$$arity=1,g),d).call(f)},fa.$$arity=-1);a.defn(h,"$sort",ea=function(){var a,b,c,d=ea.$$p||e,f=e;ea.$$p=null;f=this.$to_a();d===e&&(d=(a=this.$lambda,a.$$p=(b=function(a,b){null==a&&(a=e);null==b&&(b=e);return a["$<=>"](b)},b.$$s=this,b.$$arity=2,b),a).call(this));return(a=(c=f).$sort,a.$$p=d.$to_proc(),a).call(c)},
ea.$$arity=0);a.defn(h,"$sort_by",ja=function(){var c,d,f,g,h,k,l,m=ja.$$p||e,n=e;ja.$$p=null;if(m===e)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d),c).call(this,"sort_by");n=(c=this.$map,c.$$p=(f=function(){var c=e,c=b.get("Opal").$destructure(arguments);return[a.yield1(m,c),c]},f.$$s=this,f.$$arity=0,f),c).call(this);(c=(g=n)["$sort!"],c.$$p=(h=function(a,b){null==a&&(a=e);null==b&&(b=e);return a[0]["$<=>"](b[0])},h.$$s=this,h.$$arity=
2,h),c).call(g);return(c=(k=n)["$map!"],c.$$p=(l=function(a){null==a&&(a=e);return a[1]},l.$$s=this,l.$$arity=1,l),c).call(k)},ja.$$arity=0);a.defn(h,"$take",ka=function(a){return this.$first(a)},ka.$$arity=1);a.defn(h,"$take_while",K=function(){try{var c,d,f=K.$$p||e,g=e;K.$$p=null;if(!1===f||f===e||null==f)return this.$enum_for("take_while");g=[];return(c=this.$each,c.$$p=(d=function(c){var d,h,k=e,k=arguments.length;d=k-0;0>d&&(d=0);d=Array(d);for(var l=0;l<k;l++)d[l-0]=arguments[l];k=b.get("Opal").$destructure(d);
((h=a.yield1(f,k))===e||null==h||h.$$is_boolean&&1!=h)&&a.ret(g);return g.push(k)},d.$$s=this,d.$$arity=-1,d),c).call(this)}catch(h){if(h===a.returner)return h.$v;throw h;}},K.$$arity=0);a.alias(h,"to_a","entries");a.defn(h,"$zip",P=function(b){var c,d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];P.$$p=null;return(c=this.$to_a()).$zip.apply(c,a.to_a(d))},P.$$arity=-1)}(a.base)};
Opal.modules["corelib/enumerator"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var e=a.top,g=a.nil,h=a.breaker,b=a.slice,c=a.klass;a.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));e.$require("corelib/enumerable");
return function(d,$super){function e(){}var k=e=c(d,$super,"Enumerator",e),n=k.$$proto,f=k.$$scope,m,r,x,E,B,t;n.size=n.args=n.object=n.method=g;k.$include(f.get("Enumerable"));n.$$is_enumerator=!0;a.defs(k,"$for",m=function(a,b,c){var d,f=m.$$p||g;null==b&&(b="each");var e=arguments.length;d=e-2;0>d&&(d=0);d=Array(d);for(var h=2;h<e;h++)d[h-2]=arguments[h];m.$$p=null;e=this.$allocate();e.object=a;e.size=f;e.method=b;e.args=d;return e},m.$$arity=-2);a.defn(k,"$initialize",r=function(a){var c,d,e=
r.$$p||g;r.$$p=null;if(!1!==e&&e!==g&&null!=e)return this.object=(c=(d=f.get("Generator")).$new,c.$$p=e.$to_proc(),c).call(d),this.method="each",this.args=[],this.size=arguments[0]||g,(c=this.size)===g||null==c||c.$$is_boolean&&1!=c?g:this.size=f.get("Opal").$coerce_to(this.size,f.get("Integer"),"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=b.call(arguments,2);return this.size=g},r.$$arity=-1);a.defn(k,"$each",x=function(b){var c,d,f,e,h=x.$$p||g,k=arguments.length;
e=k-0;0>e&&(e=0);e=Array(e);for(var m=0;m<k;m++)e[m-0]=arguments[m];x.$$p=null;if((c=(d=h["$nil?"](),!1!==d&&d!==g&&null!=d?e["$empty?"]():d))!==g&&null!=c&&(!c.$$is_boolean||1==c))return this;e=l(this.args,e);return(c=h["$nil?"]())===g||null==c||c.$$is_boolean&&1!=c?(d=(f=this.object).$__send__,d.$$p=h.$to_proc(),d).apply(f,[this.method].concat(a.to_a(e))):(c=this.$class()).$new.apply(c,[this.object,this.method].concat(a.to_a(e)))},x.$$arity=-1);a.defn(k,"$size",E=function(){var c;return(c=f.get("Proc")["$==="](this.size))===
g||null==c||c.$$is_boolean&&1!=c?this.size:(c=this.size).$call.apply(c,a.to_a(this.args))},E.$$arity=0);a.defn(k,"$with_index",B=function(a){var c,b,d=B.$$p||g;null==a&&(a=0);B.$$p=null;a=!1!==a&&a!==g&&null!=a?f.get("Opal").$coerce_to(a,f.get("Integer"),"to_int"):0;if(!1===d||d===g||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"with_index",a);var e=a;this.$each.$$p=function(){var a=f.get("Opal").$destructure(arguments),a=
d(a,e);e++;return a};return this.$each()},B.$$arity=-1);a.alias(k,"with_object","each_with_object");a.defn(k,"$inspect",t=function(){var a,c=g,c="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((a=this.args["$empty?"]())===g||null==a||a.$$is_boolean&&1!=a)c=l(c,"("+this.args.$inspect()["$[]"](f.get("Range").$new(1,-2))+")");return l(c,">")},t.$$arity=0);(function(b,$super){function d(){}var f=d=c(b,$super,"Generator",d),e=f.$$scope,k,l;f.$$proto.block=g;f.$include(e.get("Enumerable"));
a.defn(f,"$initialize",k=function(){var a=k.$$p||g;k.$$p=null;!1!==a&&a!==g&&null!=a||this.$raise(e.get("LocalJumpError"),"no block given");return this.block=a},k.$$arity=0);return(a.defn(f,"$each",l=function(c){var b,d,f,k=l.$$p||g,m=g,m=arguments.length;f=m-0;0>f&&(f=0);f=Array(f);for(var n=0;n<m;n++)f[n-0]=arguments[n];l.$$p=null;m=(b=(d=e.get("Yielder")).$new,b.$$p=k.$to_proc(),b).call(d);try{f.unshift(m),a.yieldX(this.block,f)}catch(q){if(q===h)return h.$v;throw q;}return this},l.$$arity=-1),
g)&&"each"})(f.base,null);(function(b,$super){function d(){}var f=d=c(b,$super,"Yielder",d),e,k,l;f.$$proto.block=g;a.defn(f,"$initialize",e=function(){var a=e.$$p||g;e.$$p=null;return this.block=a},e.$$arity=0);a.defn(f,"$yield",k=function(c){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];d=a.yieldX(this.block,b);if(d===h)throw h;return d},k.$$arity=-1);return(a.defn(f,"$<<",l=function(c){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=
0;f<d;f++)b[f-0]=arguments[f];this.$yield.apply(this,a.to_a(b));return this},l.$$arity=-1),g)&&"<<"})(f.base,null);return function(b,$super){function d(){}var f=d=c(b,$super,"Lazy",d),e=f.$$scope,h,k,m,n,t,r,v,x,B,S,A,W,aa;f.$$proto.enumerator=g;(function(a,$super){function b(){}b=c(a,$super,"StopLazyError",b);return g})(e.base,e.get("Exception"));a.defn(f,"$initialize",h=function(b,c){var d,f,k=h.$$p||g;null==c&&(c=g);h.$$p=null;k===g&&this.$raise(e.get("ArgumentError"),"tried to call lazy new without a block");
this.enumerator=b;return(d=a.find_super_dispatcher(this,"initialize",h,!1),d.$$p=(f=function(c,d){var h=f.$$s||this,l,m,n,q=arguments.length;l=q-1;0>l&&(l=0);l=Array(l);for(var u=1;u<q;u++)l[u-1]=arguments[u];null==c&&(c=g);try{return(m=b.$each,m.$$p=(n=function(b){var d,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var e=0;e<f;e++)d[e-0]=arguments[e];d.unshift(c);a.yieldX(k,d)},n.$$s=h,n.$$arity=-1,n),m).apply(b,a.to_a(l))}catch(A){if(a.rescue(A,[e.get("Exception")]))try{return g}finally{a.pop_exception()}else throw A;
}},f.$$s=this,f.$$arity=-2,f),d).call(this,c)},h.$$arity=-2);a.alias(f,"force","to_a");a.defn(f,"$lazy",k=function(){return this},k.$$arity=0);a.defn(f,"$collect",m=function(){var b,c,d,f=m.$$p||g;m.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy map without a block");return(b=(c=e.get("Lazy")).$new,b.$$p=(d=function(b,c){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var h=1;h<e;h++)d[h-1]=arguments[h];null==b&&(b=g);e=a.yieldX(f,d);b.$yield(e)},
d.$$s=this,d.$$arity=-2,d),b).call(c,this,this.$enumerator_size())},m.$$arity=0);a.defn(f,"$collect_concat",n=function(){var b,c,d,f=n.$$p||g;n.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy map without a block");return(b=(c=e.get("Lazy")).$new,b.$$p=(d=function(b,c){var h=d.$$s||this,k,l,m,n,q=arguments.length;k=q-1;0>k&&(k=0);k=Array(k);for(var u=1;u<q;u++)k[u-1]=arguments[u];null==b&&(b=g);q=a.yieldX(f,k);q["$respond_to?"]("force")&&q["$respond_to?"]("each")?
(l=q.$each,l.$$p=(m=function(a){null==a&&(a=g);return b.$yield(a)},m.$$s=h,m.$$arity=1,m),l).call(q):e.get("Opal").$try_convert(q,e.get("Array"),"to_ary")===g?b.$yield(q):(l=q.$each,l.$$p=(n=function(a){null==a&&(a=g);return b.$yield(a)},n.$$s=h,n.$$arity=1,n),l).call(q)},d.$$s=this,d.$$arity=-2,d),b).call(c,this,g)},n.$$arity=0);a.defn(f,"$drop",t=function(b){var c,d,f,h=g,k=h=g;b=e.get("Opal").$coerce_to(b,e.get("Integer"),"to_int");(c=q(b,0))===g||null==c||c.$$is_boolean&&1!=c||this.$raise(e.get("ArgumentError"),
"attempt to drop negative size");h=this.$enumerator_size();h=(c=e.get("Integer")["$==="](h))===g||null==c||c.$$is_boolean&&1!=c?h:(c=q(b,h))===g||null==c||c.$$is_boolean&&1!=c?h:b;k=0;return(c=(d=e.get("Lazy")).$new,c.$$p=(f=function(c,d){var f,e,h=arguments.length;f=h-1;0>f&&(f=0);f=Array(f);for(var m=1;m<h;m++)f[m-1]=arguments[m];null==c&&(c=g);return(e=q(k,b))===g||null==e||e.$$is_boolean&&1!=e?(e=c).$yield.apply(e,a.to_a(f)):k=l(k,1)},f.$$s=this,f.$$arity=-2,f),c).call(d,this,h)},t.$$arity=1);
a.defn(f,"$drop_while",r=function(){var b,c,d,f=r.$$p||g,h=g;r.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy drop_while without a block");h=!0;return(b=(c=e.get("Lazy")).$new,b.$$p=(d=function(b,c){var d,e,k,l=arguments.length;d=l-1;0>d&&(d=0);d=Array(d);for(var m=1;m<l;m++)d[m-1]=arguments[m];null==b&&(b=g);if(!1!==h&&h!==g&&null!=h){if((e=a.yieldX(f,d))===g||null==e||e.$$is_boolean&&0==e)h=!1,(e=b).$yield.apply(e,a.to_a(d))}else return(k=b).$yield.apply(k,
a.to_a(d))},d.$$s=this,d.$$arity=-2,d),b).call(c,this,g)},r.$$arity=0);a.defn(f,"$enum_for",v=function(b,c){var d,f,e,h=v.$$p||g;null==b&&(b="each");var k=arguments.length;e=k-1;0>e&&(e=0);e=Array(e);for(var l=1;l<k;l++)e[l-1]=arguments[l];v.$$p=null;return(d=(f=this.$class()).$for,d.$$p=h.$to_proc(),d).apply(f,[this,b].concat(a.to_a(e)))},v.$$arity=-1);a.defn(f,"$find_all",x=function(){var b,c,d,f=x.$$p||g;x.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy select without a block");
return(b=(c=e.get("Lazy")).$new,b.$$p=(d=function(b,c){var d,e,h=arguments.length;d=h-1;0>d&&(d=0);d=Array(d);for(var k=1;k<h;k++)d[k-1]=arguments[k];null==b&&(b=g);(e=a.yieldX(f,d))===g||null==e||e.$$is_boolean&&1!=e||(e=b).$yield.apply(e,a.to_a(d))},d.$$s=this,d.$$arity=-2,d),b).call(c,this,g)},x.$$arity=0);a.alias(f,"flat_map","collect_concat");a.defn(f,"$grep",B=function(b){var d,c,f,h,k,l=B.$$p||g;B.$$p=null;return!1!==l&&l!==g&&null!=l?(d=(c=e.get("Lazy")).$new,d.$$p=(f=function(d,c){var f,
h,k=arguments.length;f=k-1;0>f&&(f=0);f=Array(f);for(var m=1;m<k;m++)f[m-1]=arguments[m];null==d&&(d=g);k=e.get("Opal").$destructure(f);(h=b["$==="](k))===g||null==h||h.$$is_boolean&&1!=h||(a.yield1(l,k),d.$yield(a.yield1(l,k)))},f.$$s=this,f.$$arity=-2,f),d).call(c,this,g):(d=(h=e.get("Lazy")).$new,d.$$p=(k=function(a,d){var c,f,h=arguments.length;c=h-1;0>c&&(c=0);c=Array(c);for(var k=1;k<h;k++)c[k-1]=arguments[k];null==a&&(a=g);h=e.get("Opal").$destructure(c);(f=b["$==="](h))===g||null==f||f.$$is_boolean&&
1!=f||a.$yield(h)},k.$$s=this,k.$$arity=-2,k),d).call(h,this,g)},B.$$arity=1);a.alias(f,"map","collect");a.alias(f,"select","find_all");a.defn(f,"$reject",S=function(){var b,d,c,f=S.$$p||g;S.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy reject without a block");return(b=(d=e.get("Lazy")).$new,b.$$p=(c=function(b,d){var c,e,h=arguments.length;c=h-1;0>c&&(c=0);c=Array(c);for(var k=1;k<h;k++)c[k-1]=arguments[k];null==b&&(b=g);((e=a.yieldX(f,c))===g||null==e||
e.$$is_boolean&&0==e)&&(e=b).$yield.apply(e,a.to_a(c))},c.$$s=this,c.$$arity=-2,c),b).call(d,this,g)},S.$$arity=0);a.defn(f,"$take",A=function(b){var c,d,f,h=g,k=h=g;b=e.get("Opal").$coerce_to(b,e.get("Integer"),"to_int");(c=q(b,0))===g||null==c||c.$$is_boolean&&1!=c||this.$raise(e.get("ArgumentError"),"attempt to take negative size");h=this.$enumerator_size();h=(c=e.get("Integer")["$==="](h))===g||null==c||c.$$is_boolean&&1!=c?h:(c=q(b,h))===g||null==c||c.$$is_boolean&&1!=c?h:b;k=0;return(c=(d=e.get("Lazy")).$new,
c.$$p=(f=function(c,d){var h=f.$$s||this,m,n,u=arguments.length;m=u-1;0>m&&(m=0);m=Array(m);for(var A=1;A<u;A++)m[A-1]=arguments[A];null==c&&(c=g);if((n=q(k,b))===g||null==n||n.$$is_boolean&&1!=n)return h.$raise(e.get("StopLazyError"));(n=c).$yield.apply(n,a.to_a(m));return k=l(k,1)},f.$$s=this,f.$$arity=-2,f),c).call(d,this,h)},A.$$arity=1);a.defn(f,"$take_while",W=function(){var c,b,d,f=W.$$p||g;W.$$p=null;!1!==f&&f!==g&&null!=f||this.$raise(e.get("ArgumentError"),"tried to call lazy take_while without a block");
return(c=(b=e.get("Lazy")).$new,c.$$p=(d=function(c,b){var h=d.$$s||this,k,l,m=arguments.length;k=m-1;0>k&&(k=0);k=Array(k);for(var n=1;n<m;n++)k[n-1]=arguments[n];null==c&&(c=g);(l=a.yieldX(f,k))===g||null==l||l.$$is_boolean&&1!=l?h.$raise(e.get("StopLazyError")):(l=c).$yield.apply(l,a.to_a(k))},d.$$s=this,d.$$arity=-2,d),c).call(b,this,g)},W.$$arity=0);a.alias(f,"to_enum","enum_for");return(a.defn(f,"$inspect",aa=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},aa.$$arity=
0),g)&&"inspect"}(f.base,k)}(a.base,null)};
Opal.modules["corelib/numeric"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var h=a.top,b=a.nil,c=a.klass;a.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $coerce_to! $-@ $** $- $* $div $< $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $round $to_i $truncate $>".split(" "));h.$require("corelib/comparable");
return function(d,$super){function h(){}var k=h=c(d,$super,"Numeric",h),n=k.$$scope,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P;k.$include(n.get("Comparable"));a.defn(k,"$coerce",f=function(a){var c;return(c=a["$instance_of?"](this.$class()))===b||null==c||c.$$is_boolean&&1!=c?[this.$Float(a),this.$Float(this)]:[a,this]},f.$$arity=1);a.defn(k,"$__coerced__",m=function(c,d){var f,e,g=b,h=b,k=b;try{e=d.$coerce(this),f=a.to_ary(e),g=null==f[0]?b:f[0],h=null==f[1]?
b:f[1],e}catch(l){if(a.rescue(l,[n.get("StandardError")]))try{k=c,"+"["$==="](k)||"-"["$==="](k)||"*"["$==="](k)||"/"["$==="](k)||"%"["$==="](k)||"&"["$==="](k)||"|"["$==="](k)||"^"["$==="](k)||"**"["$==="](k)?this.$raise(n.get("TypeError"),""+d.$class()+" can't be coerce into Numeric"):(">"["$==="](k)||">="["$==="](k)||"<"["$==="](k)||"<="["$==="](k)||"<=>"["$==="](k))&&this.$raise(n.get("ArgumentError"),"comparison of "+this.$class()+" with "+d.$class()+" failed")}finally{a.pop_exception()}else throw l;
}return g.$__send__(c,h)},m.$$arity=2);a.defn(k,"$<=>",r=function(a){var c;return(c=this["$equal?"](a))===b||null==c||c.$$is_boolean&&1!=c?b:0},r.$$arity=1);a.defn(k,"$[]",x=function(a){var c=b,d=b;a=n.get("Opal")["$coerce_to!"](a,n.get("Integer"),"to_int");c=2["$**"](30)["$-@"]();d=l(2["$**"](30),1);return a<c||a>d?0:(this>>a)%2},x.$$arity=1);a.defn(k,"$+@",E=function(){return this},E.$$arity=0);a.defn(k,"$-@",B=function(){return l(0,this)},B.$$arity=0);a.defn(k,"$%",t=function(a){return l(this,
q(a,this.$div(a)))},t.$$arity=1);a.defn(k,"$abs",u=function(){return e(this,0)?this["$-@"]():this},u.$$arity=0);a.defn(k,"$abs2",D=function(){return q(this,this)},D.$$arity=0);a.defn(k,"$angle",G=function(){return e(this,0)?n.get("Math").$$scope.get("PI"):0},G.$$arity=0);a.alias(k,"arg","angle");a.defn(k,"$ceil",z=function(){return this.$to_f().$ceil()},z.$$arity=0);a.defn(k,"$conj",I=function(){return this},I.$$arity=0);a.alias(k,"conjugate","conj");a.defn(k,"$denominator",J=function(){return this.$to_r().$denominator()},
J.$$arity=0);a.defn(k,"$div",F=function(a){a["$=="](0)&&this.$raise(n.get("ZeroDivisionError"),"divided by o");return g(this,a).$floor()},F.$$arity=1);a.defn(k,"$divmod",y=function(a){return[this.$div(a),this["$%"](a)]},y.$$arity=1);a.defn(k,"$fdiv",M=function(a){return g(this.$to_f(),a)},M.$$arity=1);a.defn(k,"$floor",N=function(){return this.$to_f().$floor()},N.$$arity=0);a.defn(k,"$i",Q=function(){return this.$Complex(0,this)},Q.$$arity=0);a.defn(k,"$imag",V=function(){return 0},V.$$arity=0);a.alias(k,
"imaginary","imag");a.defn(k,"$integer?",T=function(){return!1},T.$$arity=0);a.alias(k,"magnitude","abs");a.alias(k,"modulo","%");a.defn(k,"$nonzero?",Y=function(){var a;return(a=this["$zero?"]())===b||null==a||a.$$is_boolean&&1!=a?this:b},Y.$$arity=0);a.defn(k,"$numerator",S=function(){return this.$to_r().$numerator()},S.$$arity=0);a.alias(k,"phase","arg");a.defn(k,"$polar",A=function(){return[this.$abs(),this.$arg()]},A.$$arity=0);a.defn(k,"$quo",W=function(a){return g(n.get("Opal")["$coerce_to!"](this,
n.get("Rational"),"to_r"),a)},W.$$arity=1);a.defn(k,"$real",aa=function(){return this},aa.$$arity=0);a.defn(k,"$real?",ga=function(){return!0},ga.$$arity=0);a.defn(k,"$rect",Z=function(){return[this,0]},Z.$$arity=0);a.alias(k,"rectangular","rect");a.defn(k,"$round",ia=function(a){return this.$to_f().$round(a)},ia.$$arity=-1);a.defn(k,"$to_c",ha=function(){return this.$Complex(this,0)},ha.$$arity=0);a.defn(k,"$to_int",la=function(){return this.$to_i()},la.$$arity=0);a.defn(k,"$truncate",fa=function(){return this.$to_f().$truncate()},
fa.$$arity=0);a.defn(k,"$zero?",ea=function(){return this["$=="](0)},ea.$$arity=0);a.defn(k,"$positive?",ja=function(){return"number"===typeof this?0<this:this["$>"](0)},ja.$$arity=0);a.defn(k,"$negative?",ka=function(){return e(this,0)},ka.$$arity=0);a.defn(k,"$dup",K=function(){return this.$raise(n.get("TypeError"),"can't dup "+this.$class())},K.$$arity=0);return(a.defn(k,"$clone",P=function(){return this.$raise(n.get("TypeError"),"can't clone "+this.$class())},P.$$arity=0),b)&&"clone"}(a.base,
null)};
Opal.modules["corelib/array"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var q=a.top,e=a.nil,g=a.klass,h=a.hash2,b=a.gvars;a.add_stubs("$require $include $to_a $raise $=== $replace $respond_to? $to_ary $coerce_to $coerce_to? $join $to_str $class $clone $hash $<=> $== $object_id $inspect $enum_for $coerce_to! $> $* $enumerator_size $empty? $size $eql? $length $begin $end $exclude_end? $flatten $__id__ $[] $to_s $new $! $>= $** $delete_if $to_proc $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $sort_by $!= $times $[]= $<< $values $kind_of? $last $first $upto $reject $pristine".split(" "));q.$require("corelib/enumerable");
q.$require("corelib/numeric");return function(c,$super){function q(){}function v(c,b){return b.$$name===a.Array?c:b.$allocate().$replace(c.$to_a())}function k(a,c){return a===c||0===c?1:0<c&&a>c?k(a-1,c-1)+k(a-1,c):0}var n=q=g(c,$super,"Array",q),f=n.$$proto,m=n.$$scope,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na,wa,ya,da,p,O,ua,X,sa,xa,Aa,Ba,ba,za,L,C,H,ca,Da,Ca,ma,Ea,Fa,Ua,Ka,La,Qa,Ra,Va,Wa,Ia,Ja,Ma,Xa,Na,Ya,Za,$a,Oa,Pa,ab,Ta,Ha,Sa,Ga;f.length=
e;n.$include(m.get("Enumerable"));f.$$is_array=!0;a.defs(n,"$[]",r=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var f=0;f<b;f++)c[f-0]=arguments[f];return v(c,this)},r.$$arity=-1);a.defn(n,"$initialize",x=function(a,c){var b,f=x.$$p||e;null==a&&(a=e);null==c&&(c=e);x.$$p=null;(b=2<arguments.length)===e||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,
this.length),this;if((b=1===arguments.length)!==e&&null!=b&&(!b.$$is_boolean||1==b)){if((b=m.get("Array")["$==="](a))!==e&&null!=b&&(!b.$$is_boolean||1==b))return this.$replace(a.$to_a()),this;if((b=a["$respond_to?"]("to_ary"))!==e&&null!=b&&(!b.$$is_boolean||1==b))return this.$replace(a.$to_ary()),this}a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");(b=0>a)===e||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),"negative array size");this.splice(0,this.length);var p;if(f===
e)for(b=0;b<a;b++)this.push(c);else for(b=0,p;b<a;b++)p=f(b),this[b]=p;return this},x.$$arity=-1);a.defs(n,"$try_convert",E=function(a){return m.get("Opal")["$coerce_to?"](a,m.get("Array"),"to_ary")},E.$$arity=1);a.defn(n,"$&",B=function(c){var b;c=(b=m.get("Array")["$==="](c))===e||null==b||b.$$is_boolean&&1!=b?m.get("Opal").$coerce_to(c,m.get("Array"),"to_ary").$to_a():c.$to_a();b=[];var f=h([],{}),p,g;p=0;for(g=c.length;p<g;p++)a.hash_put(f,c[p],!0);p=0;for(g=this.length;p<g;p++)c=this[p],void 0!==
a.hash_delete(f,c)&&b.push(c);return b},B.$$arity=1);a.defn(n,"$|",t=function(c){var b;c=(b=m.get("Array")["$==="](c))===e||null==b||b.$$is_boolean&&1!=b?m.get("Opal").$coerce_to(c,m.get("Array"),"to_ary").$to_a():c.$to_a();b=h([],{});var f,p;f=0;for(p=this.length;f<p;f++)a.hash_put(b,this[f],!0);f=0;for(p=c.length;f<p;f++)a.hash_put(b,c[f],!0);return b.$keys()},t.$$arity=1);a.defn(n,"$*",u=function(a){var c;if((c=a["$respond_to?"]("to_str"))!==e&&null!=c&&(!c.$$is_boolean||1==c))return this.$join(a.$to_str());
a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");(c=0>a)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"negative argument");c=[];for(var b=this.$to_a(),f=0;f<a;f++)c=c.concat(b);return v(c,this.$class())},u.$$arity=1);a.defn(n,"$+",D=function(a){var c;a=(c=m.get("Array")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c?m.get("Opal").$coerce_to(a,m.get("Array"),"to_ary").$to_a():a.$to_a();return this.concat(a)},D.$$arity=1);a.defn(n,"$-",G=function(c){var b;c=(b=m.get("Array")["$==="](c))===
e||null==b||b.$$is_boolean&&1!=b?m.get("Opal").$coerce_to(c,m.get("Array"),"to_ary").$to_a():c.$to_a();if((b=0===this.length)!==e&&null!=b&&(!b.$$is_boolean||1==b))return[];if((b=0===c.length)!==e&&null!=b&&(!b.$$is_boolean||1==b))return this.$clone().$to_a();b=[];var f=h([],{}),p,g;p=0;for(g=c.length;p<g;p++)a.hash_put(f,c[p],!0);p=0;for(g=this.length;p<g;p++)c=this[p],void 0===a.hash_get(f,c)&&b.push(c);return b},G.$$arity=1);a.defn(n,"$<<",z=function(a){this.push(a);return this},z.$$arity=1);a.defn(n,
"$<=>",I=function(a){var c;if((c=m.get("Array")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c){if((c=a["$respond_to?"]("to_ary"))===e||null==c||c.$$is_boolean&&1!=c)return e;a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;c=Math.min(this.length,a.length);for(var b=0;b<c;b++){var f=this[b]["$<=>"](a[b]);if(0!==f)return f}return this.length["$<=>"](a.length)},I.$$arity=1);a.defn(n,"$==",J=function(a){function c(a,f){var e,p,g,h;if(a===f)return!0;if(!f.$$is_array)return m.get("Opal")["$respond_to?"](f,
"to_ary")?f["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());f.constructor!==Array&&(f=f.$to_a());if(a.length!==f.length)return!1;b[a.$object_id()]=!0;e=0;for(p=a.length;e<p;e++)if(g=a[e],h=f[e],g.$$is_array){if(h.$$is_array&&h.length!==g.length||!b.hasOwnProperty(g.$object_id())&&!c(g,h))return!1}else if(!g["$=="](h))return!1;return!0}var b={};return c(this,a)},J.$$arity=1);a.defn(n,"$[]",F=function(a,c){var b=this.length,f,p,g;if(a.$$is_range){f=a.exclude;p=m.get("Opal").$coerce_to(a.begin,m.get("Integer"),
"to_int");g=m.get("Opal").$coerce_to(a.end,m.get("Integer"),"to_int");if(0>p&&(p+=b,0>p)||p>b)return e;if(0>g&&(g+=b,0>g))return[];f||(g+=1);b=this.slice(p,g)}else{a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");if(0>a&&(a+=b,0>a))return e;if(void 0===c)return a>=b||0>a?e:this[a];c=m.get("Opal").$coerce_to(c,m.get("Integer"),"to_int");if(0>c||a>b||0>a)return e;b=this.slice(a,a+c)}return v(b,this.$class())},F.$$arity=-2);a.defn(n,"$[]=",y=function(a,c,b){var f,p=e,g=e,h;h=this.length;if((f=
m.get("Range")["$==="](a))===e||null==f||f.$$is_boolean&&1!=f){(f=void 0===b)===e||null==f||f.$$is_boolean&&1!=f?(g=c,c=b,p=(f=m.get("Array")["$==="](c))===e||null==f||f.$$is_boolean&&1!=f?(f=c["$respond_to?"]("to_ary"))===e||null==f||f.$$is_boolean&&1!=f?[c]:c.$to_ary().$to_a():c.$to_a()):g=1;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");g=m.get("Opal").$coerce_to(g,m.get("Integer"),"to_int");0>a&&(f=a,a+=h,0>a&&this.$raise(m.get("IndexError"),"index "+f+" too small for array; minimum "+
-this.length));0>g&&this.$raise(m.get("IndexError"),"negative length ("+g+")");if(a>h)for(;h<a;h++)this[h]=e;void 0===b?this[a]=c:this.splice.apply(this,[a,g].concat(p))}else{p=(f=m.get("Array")["$==="](c))===e||null==f||f.$$is_boolean&&1!=f?(f=c["$respond_to?"]("to_ary"))===e||null==f||f.$$is_boolean&&1!=f?[c]:c.$to_ary().$to_a():c.$to_a();f=a.exclude;b=m.get("Opal").$coerce_to(a.begin,m.get("Integer"),"to_int");g=m.get("Opal").$coerce_to(a.end,m.get("Integer"),"to_int");0>b&&(b+=h,0>b&&this.$raise(m.get("RangeError"),
""+a.$inspect()+" out of range"));0>g&&(g+=h);f||(g+=1);if(b>h)for(;h<b;h++)this[h]=e;0>g?this.splice.apply(this,[b,0].concat(p)):this.splice.apply(this,[b,g-b].concat(p))}return c},y.$$arity=-3);a.defn(n,"$assoc",M=function(a){for(var c=0,b=this.length,f;c<b;c++)if(f=this[c],f.length&&f[0]["$=="](a))return f;return e},M.$$arity=1);a.defn(n,"$at",N=function(a){a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?e:this[a]},N.$$arity=1);a.defn(n,
"$bsearch",Q=function(){var a=Q.$$p||e;Q.$$p=null;if(a===e)return this.$enum_for("bsearch");for(var c=0,b=this.length,f,p,g,h=!1,k=e;c<b;){f=c+Math.floor((b-c)/2);p=this[f];g=a(p);if(!0===g)k=p,h=!0;else if(!1===g||g===e)h=!1;else if(g.$$is_number){if(0===g)return p;h=0>g}else this.$raise(m.get("TypeError"),"wrong argument type "+g.$class()+" (must be numeric, true, false or nil)");h?b=f:c=f+1}return k},Q.$$arity=0);a.defn(n,"$cycle",V=function(c){var b,f,p,g=V.$$p||e;null==c&&(c=e);V.$$p=null;if(g===
e)return(b=this.$enum_for,b.$$p=(f=function(){var a=f.$$s||this,b;if(c["$=="](e))return m.get("Float").$$scope.get("INFINITY");c=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");if((b=l(c,0))===e||null==b||b.$$is_boolean&&1!=b)return 0;a=a.$enumerator_size();return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)},f.$$s=this,f.$$arity=0,f),b).call(this,"cycle",c);if((b=!1!==(p=this["$empty?"]())&&p!==e&&null!=p?p:c["$=="](0))!==e&&null!=b&&(!b.$$is_boolean||1==b))return e;if(c===e)for(;;)for(b=
0,p=this.length;b<p;b++)a.yield1(g,this[b]);else{c=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");if(0>=c)return this;for(;0<c;){b=0;for(p=this.length;b<p;b++)a.yield1(g,this[b]);c--}}return this},V.$$arity=-1);a.defn(n,"$clear",T=function(){this.splice(0,this.length);return this},T.$$arity=0);a.defn(n,"$count",Y=function(c){var b,f,p=Y.$$p,g=p||e,h=e,k=e;null==c&&(c=e);Y.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return(b=!1!==(f=c)&&f!==e&&null!=f?f:g)===e||null==
b||b.$$is_boolean&&1!=b?this.$size():(b=(f=this,a.find_super_dispatcher(this,"count",Y,!1)),b.$$p=p,b).apply(f,h)},Y.$$arity=-1);a.defn(n,"$initialize_copy",S=function(a){return this.$replace(a)},S.$$arity=1);a.defn(n,"$collect",A=function(){var c,b,f=A.$$p||e;A.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"collect");c=[];for(var p=0,g=this.length;p<g;p++){var h=a.yield1(f,this[p]);c.push(h)}return c},A.$$arity=0);
a.defn(n,"$collect!",W=function(){var c,b,f=W.$$p||e;W.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"collect!");c=0;for(var p=this.length;c<p;c++){var g=a.yield1(f,this[c]);this[c]=g}return this},W.$$arity=0);a.defn(n,"$combination",aa=function(c){var b,f,p=aa.$$p||e,g=e;aa.$$p=null;g=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");if(p===e)return(b=this.$enum_for,b.$$p=(f=function(){return k((f.$$s||this).length,
g)},f.$$s=this,f.$$arity=0,f),b).call(this,"combination",g);var h,l;if(0===g)a.yield1(p,[]);else if(1===g)for(b=0,c=this.length;b<c;b++)a.yield1(p,[this[b]]);else if(g===this.length)a.yield1(p,this.slice());else if(0<=g&&g<this.length){c=[];for(b=0;b<=g+1;b++)c.push(0);b=[];h=0;l=!1;for(c[0]=-1;!l;){for(b[h]=this[c[h+1]];h<g-1;)h++,l=c[h+1]=c[h]+1,b[h]=this[l];a.yield1(p,b.slice());h++;do l=0===h,c[h]++,h--;while(c[h+1]+g===this.length+h+1)}}return this},aa.$$arity=1);a.defn(n,"$repeated_combination",
ga=function(c){function b(c,f,e,p){if(e.length==c)c=e.slice(),a.yield1(g,c);else for(;f<p.length;f++)e.push(p[f]),b(c,f,e,p),e.pop()}var f,p,g=ga.$$p||e,h=e;ga.$$p=null;h=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");if(g===e)return(f=this.$enum_for,f.$$p=(p=function(){return k((p.$$s||this).length+h-1,h)},p.$$s=this,p.$$arity=0,p),f).call(this,"repeated_combination",h);0<=h&&b(h,0,[],this);return this},ga.$$arity=1);a.defn(n,"$compact",Z=function(){for(var a=[],c=0,b=this.length,f;c<
b;c++)(f=this[c])!==e&&a.push(f);return a},Z.$$arity=0);a.defn(n,"$compact!",ia=function(){for(var a=this.length,c=0,b=this.length;c<b;c++)this[c]===e&&(this.splice(c,1),b--,c--);return this.length===a?e:this},ia.$$arity=0);a.defn(n,"$concat",ha=function(a){var c;a=(c=m.get("Array")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c?m.get("Opal").$coerce_to(a,m.get("Array"),"to_ary").$to_a():a.$to_a();c=0;for(var b=a.length;c<b;c++)this.push(a[c]);return this},ha.$$arity=1);a.defn(n,"$delete",la=function(c){var b=
la.$$p||e;la.$$p=null;for(var f=this.length,p=0,g=f;p<g;p++)this[p]["$=="](c)&&(this.splice(p,1),g--,p--);return this.length===f?b!==e?a.yieldX(b,[]):e:c},la.$$arity=1);a.defn(n,"$delete_at",fa=function(a){a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return e;var c=this[a];this.splice(a,1);return c},fa.$$arity=1);a.defn(n,"$delete_if",ea=function(){var a,c,b=ea.$$p||e;ea.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||
this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"delete_if");a=0;for(var f=this.length,p;a<f;a++)p=b(this[a]),!1!==p&&p!==e&&(this.splice(a,1),f--,a--);return this},ea.$$arity=0);a.defn(n,"$drop",ja=function(a){0>a&&this.$raise(m.get("ArgumentError"));return this.slice(a)},ja.$$arity=1);a.defn(n,"$dup",ka=function(){var c,b=ka.$$p,f=e,p=e;ka.$$p=null;f=[];for(p=0;p<arguments.length;p++)f[p]=arguments[p];return this.$$class===a.Array&&this.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&
this.$initialize_dup.$$pristine?this.slice(0):(c=a.find_super_dispatcher(this,"dup",ka,!1),c.$$p=b,c).apply(this,f)},ka.$$arity=0);a.defn(n,"$each",K=function(){var c,b,f=K.$$p||e;K.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"each");c=0;for(var p=this.length;c<p;c++)a.yield1(f,this[c]);return this},K.$$arity=0);a.defn(n,"$each_index",P=function(){var c,b,f=P.$$p||e;P.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=
(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"each_index");c=0;for(var p=this.length;c<p;c++)a.yield1(f,c);return this},P.$$arity=0);a.defn(n,"$empty?",U=function(){return 0===this.length},U.$$arity=0);a.defn(n,"$eql?",R=function(a){function c(a,f){var e,p,g,h;if(!f.$$is_array)return!1;f=f.$to_a();if(a.length!==f.length)return!1;b[a.$object_id()]=!0;e=0;for(p=a.length;e<p;e++)if(g=a[e],h=f[e],g.$$is_array){if(h.$$is_array&&h.length!==g.length||!b.hasOwnProperty(g.$object_id())&&
!c(g,h))return!1}else if(!g["$eql?"](h))return!1;return!0}var b={};return c(this,a)},R.$$arity=1);a.defn(n,"$fetch",qa=function(a,c){var b=qa.$$p||e;qa.$$p=null;var f=a;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(b!==e)return b(f);if(null!=c)return c;0===this.length?this.$raise(m.get("IndexError"),"index "+f+" outside of array bounds: 0...0"):this.$raise(m.get("IndexError"),"index "+f+" outside of array bounds: -"+this.length+
"..."+this.length)},qa.$$arity=-2);a.defn(n,"$fill",ra=function(c){var b,f,p,g=ra.$$p||e,h=p=e,k=e,h=f=e;f=arguments.length;p=f-0;0>p&&(p=0);p=Array(p);for(h=0;h<f;h++)p[h-0]=arguments[h];ra.$$p=null;!1!==g&&g!==e&&null!=g?((b=2<p.length)===e||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+p.$length()+" for 0..2)"),f=p,b=a.to_ary(f),p=null==b[0]?e:b[0],h=null==b[1]?e:b[1]):((b=0==p.length)===e||null==b||b.$$is_boolean&&1!=b?(b=3<p.length)===e||null==
b||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+p.$length()+" for 1..3)"):this.$raise(m.get("ArgumentError"),"wrong number of arguments (0 for 1..3)"),f=p,b=a.to_ary(f),k=null==b[0]?e:b[0],p=null==b[1]?e:b[1],h=null==b[2]?e:b[2]);f;if((b=m.get("Range")["$==="](p))===e||null==b||b.$$is_boolean&&1!=b)if(!1!==p&&p!==e&&null!=p)if(f=m.get("Opal").$coerce_to(p,m.get("Integer"),"to_int"),(b=0>f)===e||null==b||b.$$is_boolean&&1!=b||(f+=this.length),(b=0>f)===e||
null==b||b.$$is_boolean&&1!=b||(f=0),!1!==h&&h!==e&&null!=h){h=m.get("Opal").$coerce_to(h,m.get("Integer"),"to_int");if((b=0==h)!==e&&null!=b&&(!b.$$is_boolean||1==b))return this;h+=f}else h=this.length;else f=0,h=this.length;else{!1!==h&&h!==e&&null!=h&&this.$raise(m.get("TypeError"),"length invalid with range");f=m.get("Opal").$coerce_to(p.$begin(),m.get("Integer"),"to_int");(b=0>f)===e||null==b||b.$$is_boolean&&1!=b||(f+=this.length);(b=0>f)===e||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("RangeError"),
""+p.$inspect()+" out of range");h=m.get("Opal").$coerce_to(p.$end(),m.get("Integer"),"to_int");(b=0>h)===e||null==b||b.$$is_boolean&&1!=b||(h+=this.length);if((b=p["$exclude_end?"]())===e||null==b||b.$$is_boolean&&1!=b)h+=1;if((b=h<=f)!==e&&null!=b&&(!b.$$is_boolean||1==b))return this}if((b=f>this.length)!==e&&null!=b&&(!b.$$is_boolean||1==b))for(p=this.length;p<h;p++)this[p]=e;(b=h>this.length)===e||null==b||b.$$is_boolean&&1!=b||(this.length=h);if(!1!==g&&g!==e&&null!=g)for(;f<h;f++)b=g(f),this[f]=
b;else for(;f<h;f++)this[f]=k;return this},ra.$$arity=-1);a.defn(n,"$first",pa=function(a){if(null==a)return 0===this.length?e:this[0];a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&this.$raise(m.get("ArgumentError"),"negative array size");return this.slice(0,a)},pa.$$arity=-1);a.defn(n,"$flatten",va=function(a){function b(a,f){var p=[],g,h,k,l;a=a.$to_a();g=0;for(h=a.length;g<h;g++)if(k=a[g],m.get("Opal")["$respond_to?"](k,"to_ary"))if(l=k.$to_ary(),l===e)p.push(k);else switch(l.$$is_array||
c.$raise(m.get("TypeError")),l===c&&c.$raise(m.get("ArgumentError")),f){case void 0:p=p.concat(b(l));break;case 0:p.push(l);break;default:p.push.apply(p,b(l,f-1))}else p.push(k);return p}var c=this;void 0!==a&&(a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int"));return v(b(c,a),c.$class())},va.$$arity=-1);a.defn(n,"$flatten!",oa=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return e}this.$replace(a);return this},oa.$$arity=
-1);a.defn(n,"$hash",ta=function(){var b=void 0==a.hash_ids,c=["A"],f=this.$object_id(),e,p,g;try{b&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(f))return"self";for(g in a.hash_ids)if(a.hash_ids.hasOwnProperty(g)&&(e=a.hash_ids[g],this["$eql?"](e)))return"self";a.hash_ids[f]=this;for(p=0;p<this.length;p++)e=this[p],c.push(e.$hash());return c.join(",")}finally{b&&delete a.hash_ids}},ta.$$arity=0);a.defn(n,"$include?",na=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},
na.$$arity=1);a.defn(n,"$index",wa=function(a){var b=wa.$$p||e;wa.$$p=null;var c,f;if(null!=a)for(c=0,f=this.length;c<f;c++){if(this[c]["$=="](a))return c}else if(b!==e)for(c=0,f=this.length;c<f;c++){if(a=b(this[c]),!1!==a&&a!==e)return c}else return this.$enum_for("index");return e},wa.$$arity=-1);a.defn(n,"$insert",ya=function(a,c){var b,f=arguments.length;b=f-1;0>b&&(b=0);b=Array(b);for(var p=1;p<f;p++)b[p-1]=arguments[p];a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");if(0<b.length){0>
a&&(a+=this.length+1,0>a&&this.$raise(m.get("IndexError"),""+a+" is out of bounds"));if(a>this.length)for(f=this.length;f<a;f++)this.push(e);this.splice.apply(this,[a,0].concat(b))}return this},ya.$$arity=-2);a.defn(n,"$inspect",da=function(){for(var a=[],b=this.$__id__(),c=0,f=this.length;c<f;c++){var e=this["$[]"](c);e.$__id__()===b?a.push("[...]"):a.push(e.$inspect())}return"["+a.join(", ")+"]"},da.$$arity=0);a.defn(n,"$join",p=function(a){var c;null==b[","]&&(b[","]=e);null==a&&(a=e);if((c=0===
this.length)!==e&&null!=c&&(!c.$$is_boolean||1==c))return"";(c=a===e)===e||null==c||c.$$is_boolean&&1!=c||(a=b[","]);c=[];var f,p,g,h;f=0;for(p=this.length;f<p;f++){g=this[f];if(m.get("Opal")["$respond_to?"](g,"to_str")&&(h=g.$to_str(),h!==e)){c.push(h.$to_s());continue}if(m.get("Opal")["$respond_to?"](g,"to_ary")&&(h=g.$to_ary(),h===this&&this.$raise(m.get("ArgumentError")),h!==e)){c.push(h.$join(a));continue}if(m.get("Opal")["$respond_to?"](g,"to_s")&&(h=g.$to_s(),h!==e)){c.push(h);continue}this.$raise(m.get("NoMethodError").$new(""+
m.get("Opal").$inspect(g)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===e?c.join(""):c.join(m.get("Opal")["$coerce_to!"](a,m.get("String"),"to_str").$to_s())},p.$$arity=-1);a.defn(n,"$keep_if",O=function(){var a,c,b=O.$$p||e;O.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"keep_if");a=0;for(var f=this.length,p;a<f;a++)if(p=b(this[a]),!1===p||p===e)this.splice(a,1),f--,a--;return this},O.$$arity=
0);a.defn(n,"$last",ua=function(a){if(null==a)return 0===this.length?e:this[this.length-1];a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>a&&this.$raise(m.get("ArgumentError"),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},ua.$$arity=-1);a.defn(n,"$length",X=function(){return this.length},X.$$arity=0);a.alias(n,"map","collect");a.alias(n,"map!","collect!");a.defn(n,"$permutation",sa=function(c){var b,f,p,g=this,h=sa.$$p||e,k=e,l=e;sa.$$p=
null;if(h===e)return(b=(f=g).$enum_for,b.$$p=(p=function(){for(var a=p.$$s||this,b=a.length,a=void 0===c?a.length:c,f=0<=a?1:0;a;)f*=b,b--,a--;return f},p.$$s=g,p.$$arity=0,p),b).call(f,"permutation",c);var C,H;c=void 0===c?g.length:m.get("Opal").$coerce_to(c,m.get("Integer"),"to_int");if(!(0>c||g.length<c))if(0===c)a.yield1(h,[]);else if(1===c)for(k=0;k<g.length;k++)a.yield1(h,[g[k]]);else k=m.get("Array").$new(c),l=m.get("Array").$new(g.length,!1),C=function(c,b,f,e,p){g=this;for(var h=0;h<g.length;h++)if(e["$[]"](h)["$!"]())if(b[f]=
h,f<c-1)e[h]=!0,C.call(g,c,b,f+1,e,p),e[h]=!1;else{H=[];for(var k=0;k<b.length;k++)H.push(g[b[k]]);a.yield1(p,H)}},h!==e?(b=g.slice(),C.call(b,c,k,0,l,h)):C.call(g,c,k,0,l,h);return g},sa.$$arity=-1);a.defn(n,"$repeated_permutation",xa=function(c){function b(c,f,e){if(f.length==c)c=f.slice(),a.yield1(g,c);else for(var p=0;p<e.length;p++)f.push(e[p]),b(c,f,e),f.pop()}var f,p,g=xa.$$p||e,h=e;xa.$$p=null;h=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");if(g===e)return(f=this.$enum_for,f.$$p=
(p=function(){var a=p.$$s||this,c;return(c="number"===typeof h?0<=h:h["$>="](0))===e||null==c||c.$$is_boolean&&1!=c?0:a.$size()["$**"](h)},p.$$s=this,p.$$arity=0,p),f).call(this,"repeated_permutation",h);b(h,[],this.slice());return this},xa.$$arity=1);a.defn(n,"$pop",Aa=function(a){var c;if((c=void 0===a)!==e&&null!=c&&(!c.$$is_boolean||1==c))return(c=0===this.length)===e||null==c||c.$$is_boolean&&1!=c?this.pop():e;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");(c=0>a)===e||null==c||c.$$is_boolean&&
1!=c||this.$raise(m.get("ArgumentError"),"negative array size");return(c=0===this.length)===e||null==c||c.$$is_boolean&&1!=c?(c=a>this.length)===e||null==c||c.$$is_boolean&&1!=c?this.splice(this.length-a,this.length):this.splice(0,this.length):[]},Aa.$$arity=-1);a.defn(n,"$product",Ba=function(c){var b,f=Ba.$$p||e,p=arguments.length,g=p-0;0>g&&(g=0);b=Array(g);for(g=0;g<p;g++)b[g-0]=arguments[g];Ba.$$p=null;var p=f!==e?null:[],g=b.length+1,h=Array(g),k=Array(g),l=Array(g),C,H=1;l[0]=this;for(C=1;C<
g;C++)l[C]=m.get("Opal").$coerce_to(b[C-1],m.get("Array"),"to_ary");for(C=0;C<g;C++){b=l[C].length;if(0===b)return p||this;H*=b;2147483647<H&&this.$raise(m.get("RangeError"),"too big to product");k[C]=b;h[C]=0}a:for(;;){b=[];for(C=0;C<g;C++)b.push(l[C][h[C]]);p?p.push(b):a.yield1(f,b);b=g-1;for(h[b]++;h[b]===k[b];){h[b]=0;if(0>--b)break a;h[b]++}}return p||this},Ba.$$arity=-1);a.defn(n,"$push",ba=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var f=0;f<b;f++)c[f-0]=arguments[f];
b=0;for(f=c.length;b<f;b++)this.push(c[b]);return this},ba.$$arity=-1);a.defn(n,"$rassoc",za=function(a){for(var c=0,b=this.length,f;c<b;c++)if(f=this[c],f.length&&void 0!==f[1]&&f[1]["$=="](a))return f;return e},za.$$arity=1);a.defn(n,"$reject",L=function(){var a,c,b=L.$$p||e;L.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"reject");a=[];for(var f=0,p=this.length,g;f<p;f++)g=b(this[f]),!1!==g&&g!==e||a.push(this[f]);
return a},L.$$arity=0);a.defn(n,"$reject!",C=function(){var a,c,b=C.$$p||e,f=e;C.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"reject!");f=this.$length();(a=this.$delete_if,a.$$p=b.$to_proc(),a).call(this);return this.$length()["$=="](f)?e:this},C.$$arity=0);a.defn(n,"$replace",H=function(a){var c;a=(c=m.get("Array")["$==="](a))===e||null==c||c.$$is_boolean&&1!=c?m.get("Opal").$coerce_to(a,m.get("Array"),"to_ary").$to_a():
a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},H.$$arity=1);a.defn(n,"$reverse",ca=function(){return this.slice(0).reverse()},ca.$$arity=0);a.defn(n,"$reverse!",Da=function(){return this.reverse()},Da.$$arity=0);a.defn(n,"$reverse_each",Ca=function(){var a,c,b,f=Ca.$$p||e;Ca.$$p=null;if(f===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"reverse_each");(a=(b=this.$reverse()).$each,a.$$p=f.$to_proc(),a).call(b);
return this},Ca.$$arity=0);a.defn(n,"$rindex",ma=function(a){var c=ma.$$p||e;ma.$$p=null;var b;if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==e)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==e)return b}else if(null==a)return this.$enum_for("rindex");return e},ma.$$arity=-1);a.defn(n,"$rotate",Ea=function(a){null==a&&(a=1);a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");var c,b;if(1===this.length)return this.slice();
if(0===this.length)return[];c=this.slice();b=a%c.length;a=c.slice(b);c=c.slice(0,b);return a.concat(c)},Ea.$$arity=-1);a.defn(n,"$rotate!",Fa=function(a){var c=e;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");c=this.$rotate(a);return this.$replace(c)},Fa.$$arity=-1);(function(c,$super){function b(){}var f=b=g(c,$super,"SampleRandom",b),p=f.$$scope,h,k;f.$$proto.rng=e;a.defn(f,"$initialize",h=function(a){return this.rng=a},h.$$arity=
1);return(a.defn(f,"$rand",k=function(a){var c,b=e,b=p.get("Opal").$coerce_to(this.rng.$rand(a),p.get("Integer"),"to_int");(c=0>b)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(p.get("RangeError"),"random value must be >= 0");((c=b<a)===e||null==c||c.$$is_boolean&&1!=c)&&this.$raise(p.get("RangeError"),"random value must be less than Array size");return b},k.$$arity=1),e)&&"rand"})(m.base,null);a.defn(n,"$sample",Ua=function(a,c){var b,f=e,p=e;if((b=void 0===a)!==e&&null!=b&&(!b.$$is_boolean||1==
b))return this.$at(m.get("Kernel").$rand(this.length));(b=void 0===c)===e||null==b||b.$$is_boolean&&1!=b?(a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int"),c=m.get("Opal").$coerce_to(c,m.get("Hash"),"to_hash")):(b=f=m.get("Opal")["$coerce_to?"](a,m.get("Hash"),"to_hash"))===e||null==b||b.$$is_boolean&&1!=b?(c=e,a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int")):(c=f,a=e);(b=!1!==a&&a!==e&&null!=a?0>a:a)===e||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),"count must be greater than 0");
!1!==c&&c!==e&&null!=c&&(p=c["$[]"]("random"));p=(b=!1!==p&&p!==e&&null!=p?p["$respond_to?"]("rand"):p)===e||null==b||b.$$is_boolean&&1!=b?m.get("Kernel"):m.get("SampleRandom").$new(p);if(!1===a||a===e||null==a)return this[p.$rand(this.length)];var g,h,k,l;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[p.$rand(this.length)]];case 2:return h=p.$rand(this.length),k=p.$rand(this.length),h===k&&(k=0===h?h+1:h-1),[this[h],this[k]];default:if(3<this.length/a){f=!1;g=0;b=m.get("Array").$new(a);
h=1;for(b[0]=p.$rand(this.length);h<a;){l=p.$rand(this.length);for(k=0;k<h;){for(;l===b[k];){g++;if(100<g){f=!0;break}l=p.$rand(this.length)}if(f)break;k++}if(f)break;b[h]=l;h++}if(!f){for(h=0;h<a;)b[h]=this[b[h]],h++;return b}}b=this.slice();for(h=0;h<a;h++)f=p.$rand(this.length),g=b[h],b[h]=b[f],b[f]=g;return a===this.length?b:b["$[]"](0,a)}},Ua.$$arity=-1);a.defn(n,"$select",Ka=function(){var c,b,f=Ka.$$p||e;Ka.$$p=null;if(f===e)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},
b.$$s=this,b.$$arity=0,b),c).call(this,"select");c=[];for(var p=0,g=this.length,h,k;p<g;p++)h=this[p],k=a.yield1(f,h),!1!==k&&k!==e&&c.push(h);return c},Ka.$$arity=0);a.defn(n,"$select!",La=function(){var a,c,b=La.$$p||e;La.$$p=null;if(b===e)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"select!");var f=this.length;(a=this.$keep_if,a.$$p=b.$to_proc(),a).call(this);return this.length===f?e:this},La.$$arity=0);a.defn(n,"$shift",Qa=function(a){var c;
if((c=void 0===a)!==e&&null!=c&&(!c.$$is_boolean||1==c))return(c=0===this.length)===e||null==c||c.$$is_boolean&&1!=c?this.shift():e;a=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");(c=0>a)===e||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"negative array size");return(c=0===this.length)===e||null==c||c.$$is_boolean&&1!=c?this.splice(0,a):[]},Qa.$$arity=-1);a.alias(n,"size","length");a.defn(n,"$shuffle",Ra=function(a){return this.$dup().$to_a()["$shuffle!"](a)},Ra.$$arity=
-1);a.defn(n,"$shuffle!",Va=function(a){var c,b=this.length,f;void 0!==a&&(a=m.get("Opal")["$coerce_to?"](a,m.get("Hash"),"to_hash"),a!==e&&(a=a["$[]"]("random"),a!==e&&a["$respond_to?"]("rand")&&(c=a)));for(;b;)c?(a=c.$rand(b).$to_int(),0>a&&this.$raise(m.get("RangeError"),"random number too small "+a),a>=b&&this.$raise(m.get("RangeError"),"random number too big "+a)):a=Math.floor(Math.random()*b),f=this[--b],this[b]=this[a],this[a]=f;return this},Va.$$arity=-1);a.alias(n,"slice","[]");a.defn(n,
"$slice!",Wa=function(a,c){var b,f=e,p=e,g=e,h=e,p=e;if((b=void 0===c)===e||null==b||b.$$is_boolean&&1!=b){p=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");c=m.get("Opal").$coerce_to(c,m.get("Integer"),"to_int");if(0>c)return e;f=this["$[]"](p,c);0>p&&(p+=this.length);p+c>this.length&&(c=this.length-p);p<this.length&&0<=p&&this.splice(p,c)}else if((b=m.get("Range")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b){p=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int");0>p&&(p+=this.length);
if(0>p||p>=this.length)return e;f=this[p];0===p?this.shift():this.splice(p,1)}else p=a,f=this["$[]"](p),g=m.get("Opal").$coerce_to(p.$begin(),m.get("Integer"),"to_int"),h=m.get("Opal").$coerce_to(p.$end(),m.get("Integer"),"to_int"),0>g&&(g+=this.length),0>h?h+=this.length:h>=this.length&&(h=this.length-1,p.exclude&&(h+=1)),b=h-g,p.exclude?--h:b+=1,g<this.length&&0<=g&&h<this.length&&0<=h&&0<b&&this.splice(g,b);return f},Wa.$$arity=-2);a.defn(n,"$sort",Ia=function(){var a,c=this,b=Ia.$$p||e;Ia.$$p=
null;if((a=1<c.length)===e||null==a||a.$$is_boolean&&1!=a)return c;b===e&&(b=function(a,c){return a["$<=>"](c)});return c.slice().sort(function(a,f){var p=b(a,f);p===e&&c.$raise(m.get("ArgumentError"),"comparison of "+a.$inspect()+" with "+f.$inspect()+" failed");return l(p,0)?1:("number"===typeof p?0>p:p["$<"](0))?-1:0})},Ia.$$arity=0);a.defn(n,"$sort!",Ja=function(){var a,c,b=Ja.$$p||e;Ja.$$p=null;b=b!==e?(a=(c=this.slice()).$sort,a.$$p=b.$to_proc(),a).call(c):this.slice().$sort();a=this.length=
0;for(c=b.length;a<c;a++)this.push(b[a]);return this},Ja.$$arity=0);a.defn(n,"$sort_by!",Ma=function(){var a,c,b=Ma.$$p||e;Ma.$$p=null;return b===e?(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"sort_by!"):this.$replace((a=this.$sort_by,a.$$p=b.$to_proc(),a).call(this))},Ma.$$arity=0);a.defn(n,"$take",Xa=function(a){0>a&&this.$raise(m.get("ArgumentError"));return this.slice(0,a)},Xa.$$arity=1);a.defn(n,"$take_while",Na=function(){var a=Na.$$p||
e;Na.$$p=null;for(var c=[],b=0,f=this.length,p,g;b<f;b++){p=this[b];g=a(p);if(!1===g||g===e)break;c.push(p)}return c},Na.$$arity=0);a.defn(n,"$to_a",Ya=function(){return this},Ya.$$arity=0);a.alias(n,"to_ary","to_a");a.defn(n,"$to_h",Za=function(){var c,b=this.length,f,e,p=h([],{});for(c=0;c<b;c++)f=m.get("Opal")["$coerce_to?"](this[c],m.get("Array"),"to_ary"),f.$$is_array||this.$raise(m.get("TypeError"),"wrong element type "+f.$class()+" at "+c+" (expected array)"),2!==f.length&&this.$raise(m.get("ArgumentError"),
"wrong array length at "+c+" (expected 2, was "+f.$length()+")"),e=f[0],f=f[1],a.hash_put(p,e,f);return p},Za.$$arity=0);a.alias(n,"to_s","inspect");a.defn(n,"$transpose",$a=function(){var a,c,b=e,f=e;if((a=this["$empty?"]())!==e&&null!=a&&(!a.$$is_boolean||1==a))return[];b=[];f=e;(a=this.$each,a.$$p=(c=function(a){var p=c.$$s||this,g,h,k;null==a&&(a=e);a=(g=m.get("Array")["$==="](a))===e||null==g||g.$$is_boolean&&1!=g?m.get("Opal").$coerce_to(a,m.get("Array"),"to_ary").$to_a():a.$to_a();!1!==(g=
f)&&g!==e&&null!=g?g:f=a.length;(g=a.length["$!="](f))===e||null==g||g.$$is_boolean&&1!=g||p.$raise(m.get("IndexError"),"element size differs ("+a.length+" should be "+f);return(g=(h=a.length).$times,g.$$p=(k=function(c){var f,p,g,h=e;null==c&&(c=e);h=(f=c,p=b,!1!==(g=p["$[]"](f))&&g!==e&&null!=g?g:p["$[]="](f,[]));return h["$<<"](a.$at(c))},k.$$s=p,k.$$arity=1,k),g).call(h)},c.$$s=this,c.$$arity=1,c),a).call(this);return b},$a.$$arity=0);a.defn(n,"$uniq",Oa=function(){var c=Oa.$$p||e;Oa.$$p=null;
var b=h([],{}),f,p,g,k;if(c===e)for(f=0,p=this.length;f<p;f++)g=this[f],void 0===a.hash_get(b,g)&&a.hash_put(b,g,g);else for(f=0,p=this.length;f<p;f++)g=this[f],k=a.yield1(c,g),void 0===a.hash_get(b,k)&&a.hash_put(b,k,g);return v(b.$values(),this.$class())},Oa.$$arity=0);a.defn(n,"$uniq!",Pa=function(){var c=Pa.$$p||e;Pa.$$p=null;var b=this.length,f=h([],{}),p,g,k,l;p=0;for(g=b;p<g;p++)k=this[p],l=c===e?k:a.yield1(c,k),void 0===a.hash_get(f,l)?a.hash_put(f,l,k):(this.splice(p,1),g--,p--);return this.length===
b?e:this},Pa.$$arity=0);a.defn(n,"$unshift",ab=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var f=0;f<b;f++)c[f-0]=arguments[f];for(b=c.length-1;0<=b;b--)this.unshift(c[b]);return this},ab.$$arity=-1);a.defn(n,"$values_at",Ta=function(a){var c,b,f,p=e,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var h=0;h<g;h++)f[h-0]=arguments[h];p=[];(c=f.$each,c.$$p=(b=function(a){var c=b.$$s||this,f,g,h,k=e,l=e,k=e;null==a&&(a=e);if((f=a["$kind_of?"](m.get("Range")))===e||null==f||
f.$$is_boolean&&1!=f)return k=m.get("Opal").$coerce_to(a,m.get("Integer"),"to_int"),p["$<<"](c.$at(k));k=m.get("Opal").$coerce_to(a.$last(),m.get("Integer"),"to_int");l=m.get("Opal").$coerce_to(a.$first(),m.get("Integer"),"to_int");if(0>l)return l+=c.length,e;0>k&&(k+=c.length);a["$exclude_end?"]()&&k--;return k<l?e:(f=(g=l).$upto,f.$$p=(h=function(a){var c=h.$$s||this;null==a&&(a=e);return p["$<<"](c.$at(a))},h.$$s=c,h.$$arity=1,h),f).call(g,k)},b.$$s=this,b.$$arity=1,b),c).call(f);return p},Ta.$$arity=
-1);a.defn(n,"$zip",Ha=function(a){var c,b,f=Ha.$$p||e,p=arguments.length;b=p-0;0>b&&(b=0);b=Array(b);for(var g=0;g<p;g++)b[g-0]=arguments[g];Ha.$$p=null;var p=[],g=this.length,h,k,l,C;l=0;for(C=b.length;l<C;l++)h=b[l],h.$$is_array||(h.$$is_enumerator?Infinity===h.$size()?b[l]=h.$take(g):b[l]=h.$to_a():b[l]=(!1!==(c=m.get("Opal")["$coerce_to?"](h,m.get("Array"),"to_ary"))&&c!==e&&null!=c?c:m.get("Opal")["$coerce_to!"](h,m.get("Enumerator"),"each")).$to_a());for(k=0;k<g;k++){c=[this[k]];l=0;for(C=
b.length;l<C;l++)h=b[l][k],null==h&&(h=e),c[l+1]=h;p[k]=c}if(f!==e){for(k=0;k<g;k++)f(p[k]);return e}return p},Ha.$$arity=-1);a.defs(n,"$inherited",Sa=function(a){a.$$proto.$to_a=function(){return this.slice(0,this.length)}},Sa.$$arity=1);a.defn(n,"$instance_variables",Ga=function(){var c,b,f,p,g=Ga.$$p,h=e,k=e;Ga.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return(c=(b=(p=a.find_super_dispatcher(this,"instance_variables",Ga,!1),p.$$p=g,p).apply(this,h)).$reject,c.$$p=(f=function(a){var c;
null==a&&(a=e);return!1!==(c=/^@\d+$/.test(a))&&c!==e&&null!=c?c:a["$=="]("@length")},f.$$s=this,f.$$arity=1,f),c).call(b)},Ga.$$arity=0);return m.get("Opal").$pristine(n,"allocate","copy_instance_variables","initialize_dup")}(a.base,Array)};
Opal.modules["corelib/hash"]=function(a){var l=a.top,q=a.nil,e=a.klass;a.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $== $coerce_to! $lambda? $abs $arity $call $enum_for $size $inspect $flatten $eql? $default $to_proc $dup $=== $default_proc $default_proc= $default= $alias_method".split(" "));l.$require("corelib/enumerable");return function(g,$super){function b(){}var c=b=e(g,$super,"Hash",b),d=c.$$proto,l=c.$$scope,v,k,n,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,
ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa;c.$include(l.get("Enumerable"));d.$$is_hash=!0;a.defs(c,"$[]",v=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];var d=c.length,f;if(1===d){b=l.get("Opal")["$coerce_to?"](c["$[]"](0),l.get("Hash"),"to_hash");if(b!==q)return this.$allocate()["$merge!"](b);c=l.get("Opal")["$coerce_to?"](c["$[]"](0),l.get("Array"),"to_ary");c===q&&this.$raise(l.get("ArgumentError"),"odd number of arguments for Hash");
d=c.length;b=this.$allocate();for(f=0;f<d;f++)if(c[f].$$is_array)switch(c[f].length){case 1:b.$store(c[f][0],q);break;case 2:b.$store(c[f][0],c[f][1]);break;default:this.$raise(l.get("ArgumentError"),"invalid number of elements ("+c[f].length+" for 1..2)")}return b}0!==d%2&&this.$raise(l.get("ArgumentError"),"odd number of arguments for Hash");b=this.$allocate();for(f=0;f<d;f+=2)b.$store(c[f],c[f+1]);return b},v.$$arity=-1);a.defs(c,"$allocate",k=function(){var c=new this.$$alloc;a.hash_init(c);c.$$none=
q;c.$$proc=q;return c},k.$$arity=0);a.defs(c,"$try_convert",n=function(a){return l.get("Opal")["$coerce_to?"](a,l.get("Hash"),"to_hash")},n.$$arity=1);a.defn(c,"$initialize",f=function(a){var c=f.$$p||q;f.$$p=null;void 0!==a&&c!==q&&this.$raise(l.get("ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?q:a;this.$$proc=c;return this},f.$$arity=-1);a.defn(c,"$==",m=function(c){if(this===c)return!0;if(!c.$$is_hash||this.$$keys.length!==c.$$keys.length)return!1;for(var b=0,d=
this.$$keys,f=d.length,e,g;b<f;b++)if(e=d[b],e.$$is_string?(g=this.$$smap[e],e=c.$$smap[e]):(g=e.value,e=a.hash_get(c,e.key)),void 0===e||!g["$eql?"](e))return!1;return!0},m.$$arity=1);a.defn(c,"$[]",r=function(c){var b=a.hash_get(this,c);return void 0!==b?b:this.$default(c)},r.$$arity=1);a.defn(c,"$[]=",x=function(c,b){a.hash_put(this,c,b);return b},x.$$arity=2);a.defn(c,"$assoc",E=function(a){for(var c=0,b=this.$$keys,d=b.length,f;c<d;c++)if(f=b[c],f.$$is_string){if(f["$=="](a))return[f,this.$$smap[f]]}else if(f.key["$=="](a))return[f.key,
f.value];return q},E.$$arity=1);a.defn(c,"$clear",B=function(){a.hash_init(this);return this},B.$$arity=0);a.defn(c,"$clone",t=function(){var c=new this.$$class.$$alloc;a.hash_init(c);a.hash_clone(this,c);return c},t.$$arity=0);a.defn(c,"$default",u=function(a){return void 0!==a&&this.$$proc!==q&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?q:this.$$none},u.$$arity=-1);a.defn(c,"$default=",D=function(a){this.$$proc=q;return this.$$none=a},D.$$arity=1);a.defn(c,"$default_proc",
G=function(){return void 0!==this.$$proc?this.$$proc:q},G.$$arity=0);a.defn(c,"$default_proc=",z=function(a){a!==q&&(a=l.get("Opal")["$coerce_to!"](a,l.get("Proc"),"to_proc"),a["$lambda?"]()&&2!==a.$arity().$abs()&&this.$raise(l.get("TypeError"),"default_proc takes two arguments"));this.$$none=q;return this.$$proc=a},z.$$arity=1);a.defn(c,"$delete",I=function(c){var b=I.$$p||q;I.$$p=null;var d=a.hash_delete(this,c);return void 0!==d?d:b!==q?b.$call(c):q},I.$$arity=1);a.defn(c,"$delete_if",J=function(){var c,
b,d=J.$$p||q;J.$$p=null;if(!1===d||d===q||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"delete_if");c=0;for(var f=this.$$keys,e=f.length,g,k;c<e;c++)g=f[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),k=d(g,k),!1!==k&&k!==q&&void 0!==a.hash_delete(this,g)&&(e--,c--);return this},J.$$arity=0);a.alias(c,"dup","clone");a.defn(c,"$each",F=function(){var c,b,d=F.$$p||q;F.$$p=null;if(!1===d||d===q||null==d)return(c=this.$enum_for,
c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"each");c=0;for(var f=this.$$keys,e=f.length,g,k;c<e;c++)g=f[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),a.yield1(d,[g,k]);return this},F.$$arity=0);a.defn(c,"$each_key",y=function(){var a,c,b=y.$$p||q;y.$$p=null;if(!1===b||b===q||null==b)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"each_key");a=0;for(var d=this.$$keys,f=d.length,e;a<
f;a++)e=d[a],b(e.$$is_string?e:e.key);return this},y.$$arity=0);a.alias(c,"each_pair","each");a.defn(c,"$each_value",M=function(){var a,c,b=M.$$p||q;M.$$p=null;if(!1===b||b===q||null==b)return(a=this.$enum_for,a.$$p=(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c),a).call(this,"each_value");a=0;for(var d=this.$$keys,f=d.length,e;a<f;a++)e=d[a],b(e.$$is_string?this.$$smap[e]:e.value);return this},M.$$arity=0);a.defn(c,"$empty?",N=function(){return 0===this.$$keys.length},N.$$arity=
0);a.alias(c,"eql?","==");a.defn(c,"$fetch",Q=function(c,b){var d=Q.$$p||q;Q.$$p=null;var f=a.hash_get(this,c);return void 0!==f?f:d!==q?d(c):void 0!==b?b:this.$raise(l.get("KeyError"),"key not found: "+c.$inspect())},Q.$$arity=-2);a.defn(c,"$flatten",V=function(a){null==a&&(a=1);a=l.get("Opal")["$coerce_to!"](a,l.get("Integer"),"to_int");for(var c=[],b=0,d=this.$$keys,f=d.length,e,g;b<f;b++)e=d[b],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),c.push(e),g.$$is_array?1===a?c.push(g):c=c.concat(g.$flatten(a-
2)):c.push(g);return c},V.$$arity=-1);a.defn(c,"$has_key?",T=function(c){return void 0!==a.hash_get(this,c)},T.$$arity=1);a.defn(c,"$has_value?",Y=function(a){for(var c=0,b=this.$$keys,d=b.length,f;c<d;c++)if(f=b[c],(f.$$is_string?this.$$smap[f]:f.value)["$=="](a))return!0;return!1},Y.$$arity=1);a.defn(c,"$hash",S=function(){var c=void 0===a.hash_ids,b=this.$object_id(),d=["Hash"],f,e;try{c&&(a.hash_ids={});if(a.hash_ids.hasOwnProperty(b))return"self";for(f in a.hash_ids)if(a.hash_ids.hasOwnProperty(f)&&
(e=a.hash_ids[f],this["$eql?"](e)))return"self";a.hash_ids[b]=this;for(var b=0,g=this.$$keys,k=g.length;b<k;b++)f=g[b],f.$$is_string?d.push([f,this.$$smap[f].$hash()]):d.push([f.key_hash,f.value.$hash()]);return d.sort().join()}finally{c&&delete a.hash_ids}},S.$$arity=0);a.alias(c,"include?","has_key?");a.defn(c,"$index",A=function(a){for(var c=0,b=this.$$keys,d=b.length,f,e;c<d;c++)if(f=b[c],f.$$is_string?e=this.$$smap[f]:(e=f.value,f=f.key),e["$=="](a))return f;return q},A.$$arity=1);a.defn(c,"$indexes",
W=function(c){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];for(var d=[],f=0,e=b.length,g;f<e;f++)g=b[f],g=a.hash_get(this,g),void 0===g?d.push(this.$default()):d.push(g);return d},W.$$arity=-1);a.alias(c,"indices","indexes");var ta;a.defn(c,"$inspect",aa=function(){var a=void 0===ta,c=this.$object_id(),b=[];try{a&&(ta={});if(ta.hasOwnProperty(c))return"{...}";ta[c]=!0;for(var c=0,d=this.$$keys,f=d.length,e,g;c<f;c++)e=d[c],e.$$is_string?g=this.$$smap[e]:
(g=e.value,e=e.key),b.push(e.$inspect()+"=>"+g.$inspect());return"{"+b.join(", ")+"}"}finally{a&&(ta=void 0)}},aa.$$arity=0);a.defn(c,"$invert",ga=function(){for(var c=a.hash(),b=0,d=this.$$keys,f=d.length,e,g;b<f;b++)e=d[b],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),a.hash_put(c,g,e);return c},ga.$$arity=0);a.defn(c,"$keep_if",Z=function(){var c,b,d=Z.$$p||q;Z.$$p=null;if(!1===d||d===q||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=
0,b),c).call(this,"keep_if");c=0;for(var f=this.$$keys,e=f.length,g,k;c<e;c++)g=f[c],g.$$is_string?k=this.$$smap[g]:(k=g.value,g=g.key),k=d(g,k),!1!==k&&k!==q||void 0===a.hash_delete(this,g)||(e--,c--);return this},Z.$$arity=0);a.alias(c,"key","index");a.alias(c,"key?","has_key?");a.defn(c,"$keys",ia=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,f;c<d;c++)f=b[c],f.$$is_string?a.push(f):a.push(f.key);return a},ia.$$arity=0);a.defn(c,"$length",ha=function(){return this.$$keys.length},ha.$$arity=
0);a.alias(c,"member?","has_key?");a.defn(c,"$merge",la=function(a){var c,b,d=la.$$p||q;la.$$p=null;return(c=(b=this.$dup())["$merge!"],c.$$p=d.$to_proc(),c).call(b,a)},la.$$arity=1);a.defn(c,"$merge!",fa=function(c){var b=fa.$$p||q;fa.$$p=null;l.get("Hash")["$==="](c)||(c=l.get("Opal")["$coerce_to!"](c,l.get("Hash"),"to_hash"));var d,f=c.$$keys,e=f.length,g,k,m;if(b===q){for(d=0;d<e;d++)g=f[d],g.$$is_string?m=c.$$smap[g]:(m=g.value,g=g.key),a.hash_put(this,g,m);return this}for(d=0;d<e;d++)g=f[d],
g.$$is_string?m=c.$$smap[g]:(m=g.value,g=g.key),k=a.hash_get(this,g),void 0===k?a.hash_put(this,g,m):a.hash_put(this,g,b(g,k,m));return this},fa.$$arity=1);a.defn(c,"$rassoc",ea=function(a){for(var c=0,b=this.$$keys,d=b.length,f,e;c<d;c++)if(f=b[c],f.$$is_string?e=this.$$smap[f]:(e=f.value,f=f.key),e["$=="](a))return[f,e];return q},ea.$$arity=1);a.defn(c,"$rehash",ja=function(){a.hash_rehash(this);return this},ja.$$arity=0);a.defn(c,"$reject",ka=function(){var c,b,d=ka.$$p||q;ka.$$p=null;if(!1===
d||d===q||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"reject");c=a.hash();for(var f=0,e=this.$$keys,g=e.length,k,l,m;f<g;f++)k=e[f],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),m=d(k,l),!1!==m&&m!==q||a.hash_put(c,k,l);return c},ka.$$arity=0);a.defn(c,"$reject!",K=function(){var c,b,d=K.$$p||q;K.$$p=null;if(!1===d||d===q||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=
0,b),c).call(this,"reject!");c=!1;for(var f=0,e=this.$$keys,g=e.length,k,l;f<g;f++)k=e[f],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),l=d(k,l),!1!==l&&l!==q&&void 0!==a.hash_delete(this,k)&&(c=!0,g--,f--);return c?this:q},K.$$arity=0);a.defn(c,"$replace",P=function(c){var b;c=l.get("Opal")["$coerce_to!"](c,l.get("Hash"),"to_hash");a.hash_init(this);for(var d=0,f=c.$$keys,e=f.length,g,k;d<e;d++)g=f[d],g.$$is_string?k=c.$$smap[g]:(k=g.value,g=g.key),a.hash_put(this,g,k);(b=c.$default_proc())===
q||null==b||b.$$is_boolean&&1!=b?(b=[c.$default()],c=this,c["$default="].apply(c,b)):(b=[c.$default_proc()],c=this,c["$default_proc="].apply(c,b));b[b.length-1];return this},P.$$arity=1);a.defn(c,"$select",U=function(){var c,b,d=U.$$p||q;U.$$p=null;if(!1===d||d===q||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"select");c=a.hash();for(var f=0,e=this.$$keys,g=e.length,k,l,m;f<g;f++)k=e[f],k.$$is_string?l=this.$$smap[k]:(l=k.value,
k=k.key),m=d(k,l),!1!==m&&m!==q&&a.hash_put(c,k,l);return c},U.$$arity=0);a.defn(c,"$select!",R=function(){var c,b,d=R.$$p||q;R.$$p=null;if(!1===d||d===q||null==d)return(c=this.$enum_for,c.$$p=(b=function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b),c).call(this,"select!");c=q;for(var f=0,e=this.$$keys,g=e.length,k,l;f<g;f++)if(k=e[f],k.$$is_string?l=this.$$smap[k]:(l=k.value,k=k.key),l=d(k,l),!1===l||l===q)void 0!==a.hash_delete(this,k)&&(g--,f--),c=this;return c},R.$$arity=0);a.defn(c,
"$shift",qa=function(){var c=this.$$keys;return 0<c.length?(c=c[0],c=c.$$is_string?c:c.key,[c,a.hash_delete(this,c)]):this.$default(q)},qa.$$arity=0);a.alias(c,"size","length");c.$alias_method("store","[]=");a.defn(c,"$to_a",ra=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,f,e;c<d;c++)f=b[c],f.$$is_string?e=this.$$smap[f]:(e=f.value,f=f.key),a.push([f,e]);return a},ra.$$arity=0);a.defn(c,"$to_h",pa=function(){if(this.$$class===a.Hash)return this;var c=new a.Hash.$$alloc;a.hash_init(c);a.hash_clone(this,
c);return c},pa.$$arity=0);a.defn(c,"$to_hash",va=function(){return this},va.$$arity=0);a.alias(c,"to_s","inspect");a.alias(c,"update","merge!");a.alias(c,"value?","has_value?");a.alias(c,"values_at","indexes");return(a.defn(c,"$values",oa=function(){for(var a=[],c=0,b=this.$$keys,d=b.length,f;c<d;c++)f=b[c],f.$$is_string?a.push(this.$$smap[f]):a.push(f.value);return a},oa.$$arity=0),q)&&"values"}(a.base,null)};
Opal.modules["corelib/number"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function b(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}
var c=a.top,d=a.nil,w=a.klass;a.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));c.$require("corelib/numeric");(function(c,$super){function n(){}var f=n=w(c,$super,"Number",n),m=f.$$scope,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na,wa,ya,da,p,O,ua,X,
sa,xa,Aa,Ba,ba,za,L,C,H,ca,Da,Ca,ma,Ea;m.get("Opal").$bridge(f,Number);Number.prototype.$$is_number=!0;a.defn(f,"$coerce",r=function(a){if(a!==d){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[m.get("Opal")["$coerce_to!"](a,m.get("Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(m.get("TypeError"),"can't convert "+a.$class()+" into Float")},r.$$arity=1);a.defn(f,"$__id__",x=function(){return 2*this+1},x.$$arity=0);a.alias(f,"object_id","__id__");
a.defn(f,"$+",E=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},E.$$arity=1);a.defn(f,"$-",B=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},B.$$arity=1);a.defn(f,"$*",t=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},t.$$arity=1);a.defn(f,"$/",u=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},u.$$arity=1);a.alias(f,"fdiv","/");a.defn(f,"$%",D=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(m.get("ZeroDivisionError"),
"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},D.$$arity=1);a.defn(f,"$&",G=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},G.$$arity=1);a.defn(f,"$|",z=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},z.$$arity=1);a.defn(f,"$^",I=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},I.$$arity=1);a.defn(f,"$<",J=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},J.$$arity=1);a.defn(f,"$<=",
F=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},F.$$arity=1);a.defn(f,"$>",y=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},y.$$arity=1);a.defn(f,"$>=",M=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},M.$$arity=1);a.defn(f,"$<=>",N=function(c){try{return c.$$is_number?isNaN(this)||isNaN(c)?d:this>c?1:this<c?-1:0:this.$__coerced__("<=>",c)}catch(b){if(a.rescue(b,[m.get("ArgumentError")]))try{return d}finally{a.pop_exception()}else throw b;
}},N.$$arity=1);a.defn(f,"$<<",Q=function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0<a?this<<a:this>>-a},Q.$$arity=1);a.defn(f,"$>>",V=function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0<a?this>>a:this<<-a},V.$$arity=1);a.defn(f,"$[]",T=function(a){a=m.get("Opal")["$coerce_to!"](a,m.get("Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},T.$$arity=1);a.defn(f,"$+@",Y=function(){return+this},Y.$$arity=0);a.defn(f,"$-@",S=function(){return-this},
S.$$arity=0);a.defn(f,"$~",A=function(){return~this},A.$$arity=0);a.defn(f,"$**",W=function(a){var c,b,f;return(c=m.get("Integer")["$==="](a))===d||null==c||c.$$is_boolean&&1!=c?(c=q(this,0)?!1!==(f=m.get("Float")["$==="](a))&&f!==d&&null!=f?f:m.get("Rational")["$==="](a):q(this,0))===d||null==c||c.$$is_boolean&&1!=c?(c=null!=a.$$is_number)===d||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("**",a):Math.pow(this,a):m.get("Complex").$new(this,0)["$**"](a.$to_f()):(c=!1!==(b=m.get("Integer")["$==="](this)["$!"]())&&
b!==d&&null!=b?b:l(a,0))===d||null==c||c.$$is_boolean&&1!=c?m.get("Rational").$new(this,1)["$**"](a):Math.pow(this,a)},W.$$arity=1);a.defn(f,"$==",aa=function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1},aa.$$arity=1);a.defn(f,"$abs",ga=function(){return Math.abs(this)},ga.$$arity=0);a.defn(f,"$abs2",Z=function(){return Math.abs(this*this)},Z.$$arity=0);a.defn(f,"$angle",ia=function(){var a;return(a=this["$nan?"]())===d||null==a||a.$$is_boolean&&1!=a?0==this?
0<1/this?0:Math.PI:0>this?Math.PI:0:this},ia.$$arity=0);a.alias(f,"arg","angle");a.alias(f,"phase","angle");a.defn(f,"$bit_length",ha=function(){var a;((a=m.get("Integer")["$==="](this))===d||null==a||a.$$is_boolean&&1!=a)&&this.$raise(m.get("NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var c=0>this?~this:this;0!=c;)a+=1,c>>>=1;return a},ha.$$arity=0);a.defn(f,"$ceil",la=function(){return Math.ceil(this)},la.$$arity=
0);a.defn(f,"$chr",fa=function(a){return String.fromCharCode(this)},fa.$$arity=-1);a.defn(f,"$denominator",ea=function(){var c,b,f=ea.$$p,e=d,g=d;ea.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return(c=!1!==(b=this["$nan?"]())&&b!==d&&null!=b?b:this["$infinite?"]())===d||null==c||c.$$is_boolean&&1!=c?(c=(b=this,a.find_super_dispatcher(this,"denominator",ea,!1)),c.$$p=f,c).apply(b,e):1},ea.$$arity=0);a.defn(f,"$downto",ja=function(a){var c,b,f=ja.$$p||d;ja.$$p=null;if(f===d)return(c=
this.$enum_for,c.$$p=(b=function(){var c=b.$$s||this,f;((f=m.get("Numeric")["$==="](a))===d||null==f||f.$$is_boolean&&1!=f)&&c.$raise(m.get("ArgumentError"),"comparison of "+c.$class()+" with "+a.$class()+" failed");return(f=l(a,c))===d||null==f||f.$$is_boolean&&1!=f?e(g(c,a),1):0},b.$$s=this,b.$$arity=0,b),c).call(this,"downto",a);a.$$is_number||this.$raise(m.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c>=a;c--)f(c);return this},ja.$$arity=1);a.alias(f,
"eql?","==");a.defn(f,"$equal?",ka=function(a){var c;return!1!==(c=this["$=="](a))&&c!==d&&null!=c?c:isNaN(this)&&isNaN(a)},ka.$$arity=1);a.defn(f,"$even?",K=function(){return 0===this%2},K.$$arity=0);a.defn(f,"$floor",P=function(){return Math.floor(this)},P.$$arity=0);a.defn(f,"$gcd",U=function(a){var c;((c=m.get("Integer")["$==="](a))===d||null==c||c.$$is_boolean&&1!=c)&&this.$raise(m.get("TypeError"),"not an integer");c=Math.abs(this);for(a=Math.abs(a);0<c;){var b=c;c=a%c;a=b}return a},U.$$arity=
1);a.defn(f,"$gcdlcm",R=function(a){return[this.$gcd(),this.$lcm()]},R.$$arity=1);a.defn(f,"$integer?",qa=function(){return 0===this%1},qa.$$arity=0);a.defn(f,"$is_a?",ra=function(c){var b,f=ra.$$p,e=d,g=d;ra.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return((b=c["$=="](m.get("Fixnum"))?m.get("Integer")["$==="](this):c["$=="](m.get("Fixnum")))===d||null==b||b.$$is_boolean&&1!=b)&&((b=c["$=="](m.get("Integer"))?m.get("Integer")["$==="](this):c["$=="](m.get("Integer")))===d||null==
b||b.$$is_boolean&&1!=b)&&((b=c["$=="](m.get("Float"))?m.get("Float")["$==="](this):c["$=="](m.get("Float")))===d||null==b||b.$$is_boolean&&1!=b)?(b=a.find_super_dispatcher(this,"is_a?",ra,!1),b.$$p=f,b).apply(this,e):!0},ra.$$arity=1);a.alias(f,"kind_of?","is_a?");a.defn(f,"$instance_of?",pa=function(c){var b,f=pa.$$p,e=d,g=d;pa.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return((b=c["$=="](m.get("Fixnum"))?m.get("Integer")["$==="](this):c["$=="](m.get("Fixnum")))===d||null==b||
b.$$is_boolean&&1!=b)&&((b=c["$=="](m.get("Integer"))?m.get("Integer")["$==="](this):c["$=="](m.get("Integer")))===d||null==b||b.$$is_boolean&&1!=b)&&((b=c["$=="](m.get("Float"))?m.get("Float")["$==="](this):c["$=="](m.get("Float")))===d||null==b||b.$$is_boolean&&1!=b)?(b=a.find_super_dispatcher(this,"instance_of?",pa,!1),b.$$p=f,b).apply(this,e):!0},pa.$$arity=1);a.defn(f,"$lcm",va=function(a){var c;((c=m.get("Integer")["$==="](a))===d||null==c||c.$$is_boolean&&1!=c)&&this.$raise(m.get("TypeError"),
"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},va.$$arity=1);a.alias(f,"magnitude","abs");a.alias(f,"modulo","%");a.defn(f,"$next",oa=function(){return this+1},oa.$$arity=0);a.defn(f,"$nonzero?",ta=function(){return 0==this?d:this},ta.$$arity=0);a.defn(f,"$numerator",na=function(){var c,b,f=na.$$p,e=d,g=d;na.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return(c=!1!==(b=this["$nan?"]())&&b!==d&&null!=b?b:this["$infinite?"]())===d||null==c||c.$$is_boolean&&
1!=c?(c=(b=this,a.find_super_dispatcher(this,"numerator",na,!1)),c.$$p=f,c).apply(b,e):this},na.$$arity=0);a.defn(f,"$odd?",wa=function(){return 0!==this%2},wa.$$arity=0);a.defn(f,"$ord",ya=function(){return this},ya.$$arity=0);a.defn(f,"$pred",da=function(){return this-1},da.$$arity=0);a.defn(f,"$quo",p=function(c){var b,f=p.$$p,e=d,g=d;p.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return(b=m.get("Integer")["$==="](this))===d||null==b||b.$$is_boolean&&1!=b?h(this,c):(b=a.find_super_dispatcher(this,
"quo",p,!1),b.$$p=f,b).apply(this,e)},p.$$arity=1);a.defn(f,"$rationalize",O=function(c){var f,e,p=d,h=d;1<arguments.length&&this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if((f=m.get("Integer")["$==="](this))===d||null==f||f.$$is_boolean&&1!=f){if((f=this["$infinite?"]())===d||null==f||f.$$is_boolean&&1!=f){if((f=this["$nan?"]())===d||null==f||f.$$is_boolean&&1!=f){if((f=null==c)===d||null==f||f.$$is_boolean&&1!=f)return this.$to_r().$rationalize(c);
e=m.get("Math").$frexp(this);f=a.to_ary(e);p=null==f[0]?d:f[0];h=null==f[1]?d:f[1];e;p=m.get("Math").$ldexp(p,m.get("Float").$$scope.get("MANT_DIG")).$to_i();h=g(h,m.get("Float").$$scope.get("MANT_DIG"));return m.get("Rational").$new(b(2,p),1["$<<"](g(1,h))).$rationalize(m.get("Rational").$new(1,1["$<<"](g(1,h))))}return this.$raise(m.get("FloatDomainError"),"NaN")}return this.$raise(m.get("FloatDomainError"),"Infinity")}return m.get("Rational").$new(this,1)},O.$$arity=-1);a.defn(f,"$round",ua=function(c){var b,
f,p=d;if((b=m.get("Integer")["$==="](this))===d||null==b||b.$$is_boolean&&1!=b){(b=(f=this["$nan?"](),!1!==f&&f!==d&&null!=f?null==c:f))===d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("FloatDomainError"),"NaN");c=m.get("Opal")["$coerce_to!"](c||0,m.get("Integer"),"to_int");if((b="number"===typeof c?0>=c:c["$<="](0))===d||null==b||b.$$is_boolean&&1!=b){if(c["$=="](0))return Math.round(this);if((b=!1!==(f=this["$nan?"]())&&f!==d&&null!=f?f:this["$infinite?"]())!==d&&null!=b&&(!b.$$is_boolean||
1==b))return this}else(b=this["$nan?"]())===d||null==b||b.$$is_boolean&&1!=b?(b=this["$infinite?"]())===d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("FloatDomainError"),"Infinity"):this.$raise(m.get("RangeError"),"NaN");f=m.get("Math").$frexp(this);b=a.to_ary(f);p=null==b[1]?d:b[1];f;var C=g(e(m.get("Float").$$scope.get("DIG"),2),(f=l(p,0))===d||null==f||f.$$is_boolean&&1!=f?g(h(p,3),1):h(p,4));return(b="number"===typeof c&&"number"===typeof C?c>=C:c["$>="](C))===d||null==b||b.$$is_boolean&&
1!=b?(b=q(c,((f=l(p,0))===d||null==f||f.$$is_boolean&&1!=f?h(p,4):e(h(p,3),1))["$-@"]()))===d||null==b||b.$$is_boolean&&1!=b?Math.round(this*Math.pow(10,c))/Math.pow(10,c):0:this}if((b=null==c)!==d&&null!=b&&(!b.$$is_boolean||1==b))return this;(b=(f=m.get("Float")["$==="](c),!1!==f&&f!==d&&null!=f?c["$infinite?"]():f))===d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("RangeError"),"Infinity");c=m.get("Opal")["$coerce_to!"](c,m.get("Integer"),"to_int");(b=q(c,m.get("Integer").$$scope.get("MIN")))===
d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("RangeError"),"out of bounds");if((b=0<=c)!==d&&null!=b&&(!b.$$is_boolean||1==b))return this;c=c["$-@"]();if(.415241*c-.125>this.$size())return 0;c=Math.pow(10,c);C=Math.floor((Math.abs(C)+c/2)/c)*c;return 0>this?-C:C},ua.$$arity=-1);a.defn(f,"$step",X=function(a,c){var b,f=X.$$p||d;null==c&&(c=1);X.$$p=null;if(!1===f||f===d||null==f)return this.$enum_for("step",a,c);(b=0==c)===d||null==b||b.$$is_boolean&&1!=b||this.$raise(m.get("ArgumentError"),
"step cannot be 0");b=this;if(Infinity===a||-Infinity===a)return f(b),this;if(0<c)for(;b<=a;)f(b),b+=c;else for(;b>=a;)f(b),b+=c;return this},X.$$arity=-2);a.alias(f,"succ","next");a.defn(f,"$times",sa=function(){var a,c,b=sa.$$p||d;sa.$$p=null;if(!1===b||b===d||null==b)return(a=this.$enum_for,a.$$p=(c=function(){return c.$$s||this},c.$$s=this,c.$$arity=0,c),a).call(this,"times");for(a=0;a<this;a++)b(a);return this},sa.$$arity=0);a.defn(f,"$to_f",xa=function(){return this},xa.$$arity=0);a.defn(f,
"$to_i",Aa=function(){return parseInt(this,10)},Aa.$$arity=0);a.alias(f,"to_int","to_i");a.defn(f,"$to_r",Ba=function(){var c,f,e=d,p=d;return(c=m.get("Integer")["$==="](this))===d||null==c||c.$$is_boolean&&1!=c?(f=m.get("Math").$frexp(this),c=a.to_ary(f),e=null==c[0]?d:c[0],p=null==c[1]?d:c[1],f,e=m.get("Math").$ldexp(e,m.get("Float").$$scope.get("MANT_DIG")).$to_i(),p=g(p,m.get("Float").$$scope.get("MANT_DIG")),b(e,m.get("Float").$$scope.get("RADIX")["$**"](p)).$to_r()):m.get("Rational").$new(this,
1)},Ba.$$arity=0);a.defn(f,"$to_s",ba=function(a){var c,b;null==a&&(a=10);(c=!1!==(b=q(a,2))&&b!==d&&null!=b?b:l(a,36))===d||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("ArgumentError"),"base must be between 2 and 36");return this.toString(a)},ba.$$arity=-1);a.alias(f,"truncate","to_i");a.alias(f,"inspect","to_s");a.defn(f,"$divmod",za=function(c){var b,f,e=za.$$p,g=d,p=d;za.$$p=null;g=[];for(p=0;p<arguments.length;p++)g[p]=arguments[p];return(b=!1!==(f=this["$nan?"]())&&f!==d&&null!=f?f:c["$nan?"]())===
d||null==b||b.$$is_boolean&&1!=b?(b=this["$infinite?"]())===d||null==b||b.$$is_boolean&&1!=b?(b=(f=this,a.find_super_dispatcher(this,"divmod",za,!1)),b.$$p=e,b).apply(f,g):this.$raise(m.get("FloatDomainError"),"Infinity"):this.$raise(m.get("FloatDomainError"),"NaN")},za.$$arity=1);a.defn(f,"$upto",L=function(a){var c,b,f=L.$$p||d;L.$$p=null;if(f===d)return(c=this.$enum_for,c.$$p=(b=function(){var c=b.$$s||this,f;((f=m.get("Numeric")["$==="](a))===d||null==f||f.$$is_boolean&&1!=f)&&c.$raise(m.get("ArgumentError"),
"comparison of "+c.$class()+" with "+a.$class()+" failed");return(f=q(a,c))===d||null==f||f.$$is_boolean&&1!=f?e(g(a,c),1):0},b.$$s=this,b.$$arity=0,b),c).call(this,"upto",a);a.$$is_number||this.$raise(m.get("ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(c=this;c<=a;c++)f(c);return this},L.$$arity=1);a.defn(f,"$zero?",C=function(){return 0==this},C.$$arity=0);a.defn(f,"$size",H=function(){return 4},H.$$arity=0);a.defn(f,"$nan?",ca=function(){return isNaN(this)},
ca.$$arity=0);a.defn(f,"$finite?",Da=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},Da.$$arity=0);a.defn(f,"$infinite?",Ca=function(){return Infinity==this?1:-Infinity==this?-1:d},Ca.$$arity=0);a.defn(f,"$positive?",ma=function(){return Infinity==this||0<1/this},ma.$$arity=0);return(a.defn(f,"$negative?",Ea=function(){return-Infinity==this||0>1/this},Ea.$$arity=0),d)&&"negative?"})(a.base,a.get("Numeric"));a.cdecl(a,"Fixnum",a.get("Number"));(function(c,$super){function b(){}var f=
b=w(c,$super,"Integer",b),d=f.$$scope,e;a.defs(f,"$===",e=function(a){return a.$$is_number?0===a%1:!1},e.$$arity=1);a.cdecl(d,"MAX",Math.pow(2,30)-1);return a.cdecl(d,"MIN",-Math.pow(2,30))})(a.base,a.get("Numeric"));return function(c,$super){function b(){}var f=b=w(c,$super,"Float",b),e=f.$$scope,g,h;a.defs(f,"$===",g=function(a){return!!a.$$is_number},g.$$arity=1);a.cdecl(e,"INFINITY",Infinity);a.cdecl(e,"MAX",Number.MAX_VALUE);a.cdecl(e,"MIN",Number.MIN_VALUE);a.cdecl(e,"NAN",NaN);a.cdecl(e,"DIG",
15);a.cdecl(e,"MANT_DIG",53);a.cdecl(e,"RADIX",2);return(h="undefined"!==typeof Number.EPSILON)===d||null==h||h.$$is_boolean&&1!=h?a.cdecl(e,"EPSILON",2.220446049250313E-16):a.cdecl(e,"EPSILON",Number.EPSILON)}(a.base,a.get("Numeric"))};
Opal.modules["corelib/range"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var e=a.top,g=a.nil,h=a.klass;a.add_stubs("$require $include $attr_reader $<=> $raise $include? $<= $< $enum_for $upto $to_proc $succ $! $== $=== $exclude_end? $eql? $begin $end $- $abs $to_i $inspect $[]".split(" "));e.$require("corelib/enumerable");return function(b,$super){function d(){}var e=d=h(b,
$super,"Range",d),v=e.$$proto,k=e.$$scope,n,f,m,r,x,E,B,t,u,D,G,z,I;v.begin=v.exclude=v.end=g;e.$include(k.get("Enumerable"));v.$$is_range=!0;e.$attr_reader("begin","end");a.defn(e,"$initialize",n=function(a,b,d){var f;null==d&&(d=!1);((f=a["$<=>"](b))===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(k.get("ArgumentError"));this.begin=a;this.end=b;return this.exclude=d},n.$$arity=-3);a.defn(e,"$==",f=function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1},
f.$$arity=1);a.defn(e,"$===",m=function(a){return this["$include?"](a)},m.$$arity=1);a.defn(e,"$cover?",r=function(a){var b,d;return b=l(this.begin,a),!1!==b&&b!==g&&null!=b?(d=this.exclude)===g||null==d||d.$$is_boolean&&1!=d?l(a,this.end):q(a,this.end):b},r.$$arity=1);a.defn(e,"$each",x=function(){var b,d,f,e=x.$$p||g,h=g,l=g;x.$$p=null;if(e===g)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(k.get("TypeError"),"can't iterate from Float");
d=this.begin;for(f=this.end+((b=this.exclude)===g||null==b||b.$$is_boolean&&1!=b?1:0);d<f;d++)e(d);return this}if(this.begin.$$is_string&&this.end.$$is_string)return(b=(d=this.begin).$upto,b.$$p=e.$to_proc(),b).call(d,this.end,this.exclude),this;h=this.begin;for(l=this.end;(f=q(h,l))!==g&&null!=f&&(!f.$$is_boolean||1==f);)a.yield1(e,h),h=h.$succ();(b=(f=this.exclude["$!"](),!1!==f&&f!==g&&null!=f?h["$=="](l):f))===g||null==b||b.$$is_boolean&&1!=b||a.yield1(e,h);return this},x.$$arity=0);a.defn(e,
"$eql?",E=function(a){var b,d;return(b=k.get("Range")["$==="](a))===g||null==b||b.$$is_boolean&&1!=b?!1:(b=(d=this.exclude["$==="](a["$exclude_end?"]()),!1!==d&&d!==g&&null!=d?this.begin["$eql?"](a.$begin()):d),!1!==b&&b!==g&&null!=b?this.end["$eql?"](a.$end()):b)},E.$$arity=1);a.defn(e,"$exclude_end?",B=function(){return this.exclude},B.$$arity=0);a.alias(e,"first","begin");a.alias(e,"include?","cover?");a.alias(e,"last","end");a.defn(e,"$max",t=function(){var b,d=t.$$p,f=d||g,e=g,h=g;t.$$p=null;
e=[];for(h=0;h<arguments.length;h++)e[h]=arguments[h];return f!==g?(b=a.find_super_dispatcher(this,"max",t,!1),b.$$p=d,b).apply(this,e):this.exclude?this.end-1:this.end},t.$$arity=0);a.alias(e,"member?","cover?");a.defn(e,"$min",u=function(){var b,d=u.$$p,f=d||g,e=g,h=g;u.$$p=null;e=[];for(h=0;h<arguments.length;h++)e[h]=arguments[h];return f!==g?(b=a.find_super_dispatcher(this,"min",u,!1),b.$$p=d,b).apply(this,e):this.begin},u.$$arity=0);a.alias(e,"member?","include?");a.defn(e,"$size",D=function(){var a,
b,d=g,f=g,e=g,d=this.begin,f=this.end;(a=this.exclude)===g||null==a||a.$$is_boolean&&1!=a||(f="number"===typeof f?f-1:f["$-"](1));if((a=(b=k.get("Numeric")["$==="](d),!1!==b&&b!==g&&null!=b?k.get("Numeric")["$==="](f):b))===g||null==a||a.$$is_boolean&&1!=a)return g;if((a=q(f,d))!==g&&null!=a&&(!a.$$is_boolean||1==a))return 0;e=k.get("Float").$$scope.get("INFINITY");return(a=!1!==(b=e["$=="](d.$abs()))&&b!==g&&null!=b?b:f.$abs()["$=="](e))===g||null==a||a.$$is_boolean&&1!=a?(Math.abs(f-d)+1).$to_i():
e},D.$$arity=0);a.defn(e,"$step",G=function(a){return this.$raise(k.get("NotImplementedError"))},G.$$arity=-1);a.defn(e,"$to_s",z=function(){return this.begin.$inspect()+(this.exclude?"...":"..")+this.end.$inspect()},z.$$arity=0);a.alias(e,"inspect","to_s");return(a.defn(e,"$marshal_load",I=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.exclude=a["$[]"]("excl")},I.$$arity=1),g)&&"marshal_load"}(a.base,null)};
Opal.modules["corelib/proc"]=function(a){var l=a.nil,q=a.slice,e=a.klass;a.add_stubs(["$raise","$coerce_to!"]);return function(g,$super){function b(){}var c=b=e(g,$super,"Proc",b),d=c.$$proto,w=c.$$scope,v,k,n,f,m,r,x,E,B,t;d.$$is_proc=!0;d.$$is_lambda=!1;a.defs(c,"$new",v=function(){var a=v.$$p||l;v.$$p=null;!1!==a&&a!==l&&null!=a||this.$raise(w.get("ArgumentError"),"tried to create a Proc object without a block");return a},v.$$arity=0);a.defn(c,"$call",k=function(c){var b,d=k.$$p||l,f=arguments.length;
b=f-0;0>b&&(b=0);b=Array(b);for(var e=0;e<f;e++)b[e-0]=arguments[e];k.$$p=null;d!==l&&(this.$$p=d);var g;if(d=this.$$brk)try{g=this.$$is_lambda?this.apply(null,b):a.yieldX(this,b)}catch(m){if(m===d)return d.$v;throw m;}else g=this.$$is_lambda?this.apply(null,b):a.yieldX(this,b);return g},k.$$arity=-1);a.alias(c,"[]","call");a.alias(c,"===","call");a.alias(c,"yield","call");a.defn(c,"$to_proc",n=function(){return this},n.$$arity=0);a.defn(c,"$lambda?",f=function(){return!!this.$$is_lambda},f.$$arity=
0);a.defn(c,"$arity",m=function(){return this.$$is_curried?-1:this.$$arity},m.$$arity=0);a.defn(c,"$source_location",r=function(){return l},r.$$arity=0);a.defn(c,"$binding",x=function(){this.$$is_curried&&this.$raise(w.get("ArgumentError"),"Can't create Binding");return l},x.$$arity=0);a.defn(c,"$parameters",E=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var a=[],c,b;c=0;for(b=this.$$parameters.length;c<b;c++){var d=this.$$parameters[c];
"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},E.$$arity=0);a.defn(c,"$curry",B=function(a){function c(){var d=q.call(arguments),f=d.length;f>a&&b.$$is_lambda&&!b.$$is_curried&&b.$raise(w.get("ArgumentError"),"wrong number of arguments ("+f+" for "+a+")");if(f>=a)return b.$call.apply(b,d);f=function(){return c.apply(null,d.concat(q.call(arguments)))};f.$$is_lambda=b.$$is_lambda;f.$$is_curried=!0;return f}var b=this;void 0===a?a=b.length:(a=w.get("Opal")["$coerce_to!"](a,w.get("Integer"),
"to_int"),b.$$is_lambda&&a!==b.length&&b.$raise(w.get("ArgumentError"),"wrong number of arguments ("+a+" for "+b.length+")"));c.$$is_lambda=b.$$is_lambda;c.$$is_curried=!0;return c},B.$$arity=-1);a.defn(c,"$dup",t=function(){var a=this.$$original_proc||this,c=function(){return a.apply(this,arguments)},b;for(b in this)this.hasOwnProperty(b)&&(c[b]=this[b]);return c},t.$$arity=0);return a.alias(c,"clone","dup")}(a.base,Function)};
Opal.modules["corelib/method"]=function(a){var l=a.nil,q=a.slice,e=a.klass;a.add_stubs(["$attr_reader","$class","$arity","$new","$name"]);(function(g,$super){function b(){}var c=b=e(g,$super,"Method",b),d=c.$$proto,w=c.$$scope,v,k,n,f,m,r,x;d.method=d.receiver=d.owner=d.name=l;c.$attr_reader("owner","receiver","name");a.defn(c,"$initialize",v=function(a,c,b){this.receiver=a;this.owner=a.$class();this.name=b;return this.method=c},v.$$arity=3);a.defn(c,"$arity",k=function(){return this.method.$arity()},
k.$$arity=0);a.defn(c,"$parameters",n=function(){return this.method.$$parameters},n.$$arity=0);a.defn(c,"$call",f=function(a){var c,b=f.$$p||l,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];f.$$p=null;this.method.$$p=b;return this.method.apply(this.receiver,c)},f.$$arity=-1);a.alias(c,"[]","call");a.defn(c,"$unbind",m=function(){return w.get("UnboundMethod").$new(this.owner,this.method,this.name)},m.$$arity=0);a.defn(c,"$to_proc",r=function(){var a=this,c=function(){return a.$call.apply(a,
q.call(arguments))};c.$$unbound=a.method;c.$$is_lambda=!0;return c},r.$$arity=0);return(a.defn(c,"$inspect",x=function(){return"#<Method: "+this.receiver.$class()+"#"+this.name+">"},x.$$arity=0),l)&&"inspect"})(a.base,null);return function(g,$super){function b(){}var c=b=e(g,$super,"UnboundMethod",b),d=c.$$proto,q=c.$$scope,v,k,n,f,m;d.method=d.name=d.owner=l;c.$attr_reader("owner","name");a.defn(c,"$initialize",v=function(a,c,b){this.owner=a;this.method=c;return this.name=b},v.$$arity=3);a.defn(c,
"$arity",k=function(){return this.method.$arity()},k.$$arity=0);a.defn(c,"$parameters",n=function(){return this.method.$$parameters},n.$$arity=0);a.defn(c,"$bind",f=function(a){return q.get("Method").$new(a,this.method,this.name)},f.$$arity=1);return(a.defn(c,"$inspect",m=function(){return"#<UnboundMethod: "+this.owner.$name()+"#"+this.name+">"},m.$$arity=0),l)&&"inspect"}(a.base,null)};
Opal.modules["corelib/variables"]=function(a){var l=a.nil,q=a.gvars,e=a.hash2;a.add_stubs(["$new"]);q["&"]=q["~"]=q["`"]=q["'"]=l;q.LOADED_FEATURES=q['"']=a.loaded_features;q.LOAD_PATH=q[":"]=[];q["/"]="\n";q[","]=l;a.cdecl(a,"ARGV",[]);a.cdecl(a,"ARGF",a.get("Object").$new());a.cdecl(a,"ENV",e([],{}));q.VERBOSE=!1;q.DEBUG=!1;return q.SAFE=0};
Opal.modules["opal/regexp_anchors"]=function(a){var l=a.nil,q=a.module;a.add_stubs(["$==","$new"]);q=q(a.base,"Opal").$$scope;a.cdecl(q,"REGEXP_START",q.get("RUBY_ENGINE")["$=="]("opal")?"^":l);a.cdecl(q,"REGEXP_END",q.get("RUBY_ENGINE")["$=="]("opal")?"$":l);a.cdecl(q,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.cdecl(q,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
a.cdecl(q,"INLINE_IDENTIFIER_REGEXP",q.get("Regexp").$new("[^"+q.get("FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+q.get("FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));a.cdecl(q,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");a.cdecl(q,"CONST_NAME_REGEXP",q.get("Regexp").$new(""+q.get("REGEXP_START")+"(::)?[A-Z][^"+q.get("FORBIDDEN_CONST_NAME_CHARS")+"]*"+q.get("REGEXP_END")))};
Opal.modules["opal/mini"]=function(a){var l=a.top;a.add_stubs(["$require"]);l.$require("opal/base");l.$require("corelib/nil");l.$require("corelib/boolean");l.$require("corelib/string");l.$require("corelib/comparable");l.$require("corelib/enumerable");l.$require("corelib/enumerator");l.$require("corelib/array");l.$require("corelib/hash");l.$require("corelib/number");l.$require("corelib/range");l.$require("corelib/proc");l.$require("corelib/method");l.$require("corelib/regexp");l.$require("corelib/variables");
return l.$require("opal/regexp_anchors")};
Opal.modules["corelib/string/inheritance"]=function(a){var l=a.top,q=a.nil,e=a.klass,g=a.gvars;a.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));l.$require("corelib/string");(function(g,$super){function c(){}var d=c=e(g,$super,"String",c),l=d.$$scope,v;return(a.defs(d,"$inherited",v=function(a){var c=q,c=l.get("Class").$new(l.get("String").$$scope.get("Wrapper"));a.$$proto=c.$$proto;
a.$$proto.$$class=a;a.$$alloc=c.$$alloc;a.$$parent=l.get("String").$$scope.get("Wrapper");a.$allocate=c.$allocate;a.$new=c.$new},v.$$arity=1),q)&&"inherited"})(a.base,null);return function(h,$super){function c(){}var d=c=e(h,$super,"Wrapper",c),l=d.$$proto,v,k,n,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y;l.literal=q;l.$$is_string=!0;a.defs(d,"$allocate",v=function(d){var f,e=q;null==d&&(d="");v.$$p=null;e=(f=a.find_super_dispatcher(this,"allocate",v,!1,c),f.$$p=null,f).call(this);e.literal=d;return e},v.$$arity=
-1);a.defs(d,"$new",k=function(c){var d,f,e,g=k.$$p||q,h=q,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var l=0;l<h;l++)e[l-0]=arguments[l];k.$$p=null;h=this.$allocate();(d=(f=h).$initialize,d.$$p=g.$to_proc(),d).apply(f,a.to_a(e));return h},k.$$arity=-1);a.defs(d,"$[]",n=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];return this.$allocate(c)},n.$$arity=-1);a.defn(d,"$initialize",f=function(a){null==a&&(a="");return this.literal=a},f.$$arity=
-1);a.defn(d,"$method_missing",m=function(c){var d,f,e,g=m.$$p||q,h=q,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var k=0;k<h;k++)e[k-0]=arguments[k];m.$$p=null;h=(d=(f=this.literal).$__send__,d.$$p=g.$to_proc(),d).apply(f,a.to_a(e));return(d=null!=h.$$is_string)===q||null==d||d.$$is_boolean&&1!=d?h:(d=h==this.literal)===q||null==d||d.$$is_boolean&&1!=d?this.$class().$allocate(h):this},m.$$arity=-1);a.defn(d,"$initialize_copy",r=function(a){return this.literal=a.literal.$clone()},r.$$arity=
1);a.defn(d,"$respond_to?",x=function(c,d){var f,e,g=x.$$p,h=q,k=q;x.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return!1!==(f=(e=a.find_super_dispatcher(this,"respond_to?",x,!1),e.$$p=g,e).apply(this,h))&&f!==q&&null!=f?f:this.literal["$respond_to?"](c)},x.$$arity=-2);a.defn(d,"$==",E=function(a){return this.literal["$=="](a)},E.$$arity=1);a.alias(d,"eql?","==");a.alias(d,"===","==");a.defn(d,"$to_s",B=function(){return this.literal},B.$$arity=0);a.alias(d,"to_str","to_s");a.defn(d,
"$inspect",t=function(){return this.literal.$inspect()},t.$$arity=0);a.defn(d,"$+",u=function(a){var c=this.literal;return"number"===typeof c&&"number"===typeof a?c+a:c["$+"](a)},u.$$arity=1);a.defn(d,"$*",D=function(a){var c=this.literal;a="number"===typeof c&&"number"===typeof a?c*a:c["$*"](a);return a.$$is_string?this.$class().$allocate(a):a},D.$$arity=1);a.defn(d,"$split",G=function(a,c){var d,f,e;return(d=(f=this.literal.$split(a,c)).$map,d.$$p=(e=function(a){var c=e.$$s||this;null==a&&(a=q);
return c.$class().$allocate(a)},e.$$s=this,e.$$arity=1,e),d).call(f)},G.$$arity=-1);a.defn(d,"$replace",z=function(a){return this.literal=a},z.$$arity=1);a.defn(d,"$each_line",I=function(c){var d,f,e,h=I.$$p||q;null==g["/"]&&(g["/"]=q);null==c&&(c=g["/"]);I.$$p=null;return h===q?this.$enum_for("each_line",c):(d=(f=this.literal).$each_line,d.$$p=(e=function(c){var d=e.$$s||this;null==c&&(c=q);return a.yield1(h,d.$class().$allocate(c))},e.$$s=this,e.$$arity=1,e),d).call(f,c)},I.$$arity=-1);a.defn(d,
"$lines",J=function(a){var c,d=J.$$p||q,f=q;null==g["/"]&&(g["/"]=q);null==a&&(a=g["/"]);J.$$p=null;f=(c=this.$each_line,c.$$p=d.$to_proc(),c).call(this,a);return!1!==d&&d!==q&&null!=d?this:f.$to_a()},J.$$arity=-1);a.defn(d,"$%",F=function(a){return this.literal["$%"](a)},F.$$arity=1);return(a.defn(d,"$instance_variables",y=function(){var c,d=y.$$p,f=q,e=q;y.$$p=null;f=[];for(e=0;e<arguments.length;e++)f[e]=arguments[e];d=(c=a.find_super_dispatcher(this,"instance_variables",y,!1),c.$$p=d,c).apply(this,
f);c=["@literal"];return"number"===typeof d&&"number"===typeof c?d-c:d["$-"](c)},y.$$arity=0),q)&&"instance_variables"}(a.get("String"),null)};
Opal.modules["corelib/string/encoding"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var q,e,g,h,b,c,d,w=a.top,v=a.nil,k=a.klass,n=a.hash2;a.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $const_get $=== $== $name $include? $names $constants $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));w.$require("corelib/string");
(function(c,$super){function b(){}var d=b=k(c,$super,"Encoding",b),e=d.$$proto,g=d.$$scope,h,q,w,G,z,I,J,F,y,M;e.ascii=e.dummy=e.name=v;a.defs(d,"$register",h=function(a,c){var b,d,f,e,k=h.$$p||v,q=v,u=v;null==c&&(c=n([],{}));h.$$p=null;q=l([a],!1!==(b=c["$[]"]("aliases"))&&b!==v&&null!=b?b:[]);u=(b=(d=g.get("Class")).$new,b.$$p=k.$to_proc(),b).call(d,this).$new(a,q,!1!==(b=c["$[]"]("ascii"))&&b!==v&&null!=b?b:!1,!1!==(b=c["$[]"]("dummy"))&&b!==v&&null!=b?b:!1);return(b=(f=q).$each,b.$$p=(e=function(a){var c=
e.$$s||this;null==a&&(a=v);return c.$const_set(a.$sub("-","_"),u)},e.$$s=this,e.$$arity=1,e),b).call(f)},h.$$arity=-2);a.defs(d,"$find",q=function(c){try{var b,d,f,e=v,e=c.$upcase();(b=(d=this.$constants()).$each,b.$$p=(f=function(c){var b=f.$$s||this,d,h,k=v;null==c&&(c=v);k=b.$const_get(c);if((d=g.get("Encoding")["$==="](k))===v||null==d||d.$$is_boolean&&1!=d||(d=!1!==(h=k.$name()["$=="](e))&&h!==v&&null!=h?h:k.$names()["$include?"](e))===v||null==d||d.$$is_boolean&&1!=d)return v;a.ret(k)},f.$$s=
this,f.$$arity=1,f),b).call(d);return this.$raise(g.get("ArgumentError"),"unknown encoding name - "+c)}catch(h){if(h===a.returner)return h.$v;throw h;}},q.$$arity=1);(function(a){return a.$attr_accessor("default_external")})(a.get_singleton_class(d));d.$attr_reader("name","names");a.defn(d,"$initialize",w=function(a,c,b,d){this.name=a;this.names=c;this.ascii=b;return this.dummy=d},w.$$arity=4);a.defn(d,"$ascii_compatible?",G=function(){return this.ascii},G.$$arity=0);a.defn(d,"$dummy?",z=function(){return this.dummy},
z.$$arity=0);a.defn(d,"$to_s",I=function(){return this.name},I.$$arity=0);a.defn(d,"$inspect",J=function(){var a;return"#<Encoding:"+this.name+((a=this.dummy)===v||null==a||a.$$is_boolean&&1!=a?v:" (dummy)")+">"},J.$$arity=0);a.defn(d,"$each_byte",F=function(a){return this.$raise(g.get("NotImplementedError"))},F.$$arity=-1);a.defn(d,"$getbyte",y=function(a){return this.$raise(g.get("NotImplementedError"))},y.$$arity=-1);a.defn(d,"$bytesize",M=function(a){return this.$raise(g.get("NotImplementedError"))},
M.$$arity=-1);(function(a,$super){function c(){}c=k(a,$super,"EncodingError",c);return v})(g.base,g.get("StandardError"));return function(a,$super){function c(){}c=k(a,$super,"CompatibilityError",c);return v}(g.base,g.get("EncodingError"))})(a.base,null);(q=(e=a.get("Encoding")).$register,q.$$p=(g=function(){var c=g.$$s||this,b,d;a.def(c,"$each_byte",b=function(c){var d=b.$$p||v;b.$$p=null;for(var f=0,e=c.length;f<e;f++){var g=c.charCodeAt(f);if(127>=g)a.yield1(d,g);else for(var g=encodeURIComponent(c.charAt(f)).substr(1).split("%"),
h=0,k=g.length;h<k;h++)a.yield1(d,parseInt(g[h],16))}},b.$$arity=1);return(a.def(c,"$bytesize",d=function(){return this.$bytes().$length()},d.$$arity=0),v)&&"bytesize"},g.$$s=w,g.$$arity=0,g),q).call(e,"UTF-8",n(["aliases","ascii"],{aliases:["CP65001"],ascii:!0}));(q=(h=a.get("Encoding")).$register,q.$$p=(b=function(){var c=b.$$s||this,d,e;a.def(c,"$each_byte",d=function(c){var b=d.$$p||v;d.$$p=null;for(var f=0,e=c.length;f<e;f++){var g=c.charCodeAt(f);a.yield1(b,g&255);a.yield1(b,g>>8)}},d.$$arity=
1);return(a.def(c,"$bytesize",e=function(){return this.$bytes().$length()},e.$$arity=0),v)&&"bytesize"},b.$$s=w,b.$$arity=0,b),q).call(h,"UTF-16LE");(q=(c=a.get("Encoding")).$register,q.$$p=(d=function(){var c=d.$$s||this,b,e;a.def(c,"$each_byte",b=function(c){var d=b.$$p||v;b.$$p=null;for(var f=0,e=c.length;f<e;f++)a.yield1(d,c.charCodeAt(f)&255)},b.$$arity=1);return(a.def(c,"$bytesize",e=function(){return this.$bytes().$length()},e.$$arity=0),v)&&"bytesize"},d.$$s=w,d.$$arity=0,d),q).call(c,"ASCII-8BIT",
n(["aliases","ascii"],{aliases:["BINARY"],ascii:!0}));return function(c,$super){function b(){}var d=b=k(c,$super,"String",b),e=d.$$scope,g,h,l,n,q,w,I;d.$$proto.encoding=v;String.prototype.encoding=e.get("Encoding").$$scope.get("UTF_16LE");a.defn(d,"$bytes",g=function(){return this.$each_byte().$to_a()},g.$$arity=0);a.defn(d,"$bytesize",h=function(){return this.encoding.$bytesize(this)},h.$$arity=0);a.defn(d,"$each_byte",l=function(){var a,c,b=l.$$p||v;l.$$p=null;if(b===v)return this.$enum_for("each_byte");
(a=(c=this.encoding).$each_byte,a.$$p=b.$to_proc(),a).call(c,this);return this},l.$$arity=0);a.defn(d,"$encode",n=function(a){return this.$dup().$force_encoding(a)},n.$$arity=1);a.defn(d,"$encoding",q=function(){return this.encoding},q.$$arity=0);a.defn(d,"$force_encoding",w=function(a){var c;a=e.get("Opal")["$coerce_to!"](a,e.get("String"),"to_str");a=e.get("Encoding").$find(a);if(a["$=="](this.encoding))return this;(c=a["$nil?"]())===v||null==c||c.$$is_boolean&&1!=c||this.$raise(e.get("ArgumentError"),
"unknown encoding name - "+a);c=new String(this);c.encoding=a;return c},w.$$arity=1);return(a.defn(d,"$getbyte",I=function(a){return this.encoding.$getbyte(this,a)},I.$$arity=1),v)&&"getbyte"}(a.base,null)};
Opal.modules["corelib/math"]=function(a){var l=a.nil,q=a.module;a.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(e){e=q(e,"Math");var g=e.$$scope,h,b,c,d,w,v,k,n,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S;a.cdecl(g,"E",Math.E);a.cdecl(g,"PI",Math.PI);a.cdecl(g,"DomainError",g.get("Class").$new(g.get("StandardError")));a.defs(e,"$checked",h=function(a,c){var b,d=arguments.length;b=d-1;0>b&&(b=
0);b=Array(b);for(var f=1;f<d;f++)b[f-1]=arguments[f];if(isNaN(b[0])||2==b.length&&isNaN(b[1]))return NaN;d=Math[a].apply(null,b);isNaN(d)&&this.$raise(g.get("DomainError"),'Numerical argument is out of domain - "'+a+'"');return d},h.$$arity=-2);a.defs(e,"$float!",b=function(c){try{return this.$Float(c)}catch(b){if(a.rescue(b,[g.get("ArgumentError")]))try{return this.$raise(g.get("Opal").$type_error(c,g.get("Float")))}finally{a.pop_exception()}else throw b;}},b.$$arity=1);a.defs(e,"$integer!",c=function(c){try{return this.$Integer(c)}catch(b){if(a.rescue(b,
[g.get("ArgumentError")]))try{return this.$raise(g.get("Opal").$type_error(c,g.get("Integer")))}finally{a.pop_exception()}else throw b;}},c.$$arity=1);e.$module_function();a.defn(e,"$acos",d=function(a){return g.get("Math").$checked("acos",g.get("Math")["$float!"](a))},d.$$arity=1);if((w="undefined"!==typeof Math.acosh)===l||null==w||w.$$is_boolean&&1!=w)Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))};a.defn(e,"$acosh",v=function(a){return g.get("Math").$checked("acosh",g.get("Math")["$float!"](a))},
v.$$arity=1);a.defn(e,"$asin",k=function(a){return g.get("Math").$checked("asin",g.get("Math")["$float!"](a))},k.$$arity=1);if((w="undefined"!==typeof Math.asinh)===l||null==w||w.$$is_boolean&&1!=w)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};a.defn(e,"$asinh",n=function(a){return g.get("Math").$checked("asinh",g.get("Math")["$float!"](a))},n.$$arity=1);a.defn(e,"$atan",f=function(a){return g.get("Math").$checked("atan",g.get("Math")["$float!"](a))},f.$$arity=1);a.defn(e,"$atan2",m=
function(a,c){return g.get("Math").$checked("atan2",g.get("Math")["$float!"](a),g.get("Math")["$float!"](c))},m.$$arity=2);if((w="undefined"!==typeof Math.atanh)===l||null==w||w.$$is_boolean&&1!=w)Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))};a.defn(e,"$atanh",r=function(a){return g.get("Math").$checked("atanh",g.get("Math")["$float!"](a))},r.$$arity=1);if((w="undefined"!==typeof Math.cbrt)===l||null==w||w.$$is_boolean&&1!=w)Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);
for(var c=a,b=0;.125>c;)c*=8,b--;for(;1<c;)c*=.125,b++;for(c=(-.46946116*c+1.072302)*c+.3812513;0>b;)c*=.5,b++;for(;0<b;)c*=2,b--;c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);c=2/3*c+1/3*a/(c*c);return 2/3*c+1/3*a/(c*c)};a.defn(e,"$cbrt",x=function(a){return g.get("Math").$checked("cbrt",g.get("Math")["$float!"](a))},x.$$arity=1);a.defn(e,"$cos",E=function(a){return g.get("Math").$checked("cos",g.get("Math")["$float!"](a))},E.$$arity=1);if((w="undefined"!==typeof Math.cosh)===l||null==w||w.$$is_boolean&&
1!=w)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};a.defn(e,"$cosh",B=function(a){return g.get("Math").$checked("cosh",g.get("Math")["$float!"](a))},B.$$arity=1);if((w="undefined"!==typeof Math.erf)===l||null==w||w.$$is_boolean&&1!=w)Math.erf=function(a){var c=1;0>a&&(c=-1);a=Math.abs(a);var b=1/(1+.3275911*a);return c*(1-((((1.061405429*b+-1.453152027)*b+1.421413741)*b+-.284496736)*b+.254829592)*b*Math.exp(-a*a))};a.defn(e,"$erf",t=function(a){return g.get("Math").$checked("erf",g.get("Math")["$float!"](a))},
t.$$arity=1);if((w="undefined"!==typeof Math.erfc)===l||null==w||w.$$is_boolean&&1!=w)Math.erfc=function(a){var c=Math.abs(a),b=1/(.5*c+1),c=b*Math.exp(-c*c-1.26551223+b*(b*(b*(b*(b*(b*(b*(b*(.17087277*b+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-c:c};a.defn(e,"$erfc",u=function(a){return g.get("Math").$checked("erfc",g.get("Math")["$float!"](a))},u.$$arity=1);a.defn(e,"$exp",D=function(a){return g.get("Math").$checked("exp",g.get("Math")["$float!"](a))},
D.$$arity=1);a.defn(e,"$frexp",G=function(a){a=g.get("Math")["$float!"](a);if(isNaN(a))return[NaN,0];var c=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,c),c]},G.$$arity=1);a.defn(e,"$gamma",z=function(a){a=g.get("Math")["$float!"](a);var c,b,d,f;d=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,
8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(g.get("DomainError"),'Numerical argument is out of domain - "gamma"');if(g.get("Integer")["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;b=a-2;for(--a;1<b;)a*=b,b--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*g.get("Math").$gamma("number"===typeof a?1-a:1["$-"](a)));if(171.35<=a)return Infinity;
if(85<a)return b=a*a,c=b*a,d=c*a,f=d*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*b)-139/(51840*c)-571/(2488320*d)+163879/(209018880*f)+5246819/(75246796800*f*a));--a;b=d[0];for(c=1;c<d.length;++c)b+=d[c]/(a+c);c=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(c,a+.5)*Math.exp(-c)*b},z.$$arity=1);if((w="undefined"!==typeof Math.hypot)===l||null==w||w.$$is_boolean&&1!=w)Math.hypot=function(a,c){return Math.sqrt(a*a+c*c)};a.defn(e,"$hypot",I=function(a,c){return g.get("Math").$checked("hypot",
g.get("Math")["$float!"](a),g.get("Math")["$float!"](c))},I.$$arity=2);a.defn(e,"$ldexp",J=function(a,c){a=g.get("Math")["$float!"](a);c=g.get("Math")["$integer!"](c);isNaN(c)&&this.$raise(g.get("RangeError"),"float NaN out of range of integer");return a*Math.pow(2,c)},J.$$arity=2);a.defn(e,"$lgamma",F=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(g.get("Math").$gamma(a))),0>g.get("Math").$gamma(a)?-1:1]},F.$$arity=1);a.defn(e,"$log",y=function(a,c){var b;(b=g.get("String")["$==="](a))===
l||null==b||b.$$is_boolean&&1!=b||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));if((b=null==c)===l||null==b||b.$$is_boolean&&1!=b){(b=g.get("String")["$==="](c))===l||null==b||b.$$is_boolean&&1!=b||this.$raise(g.get("Opal").$type_error(c,g.get("Float")));b=g.get("Math").$checked("log",g.get("Math")["$float!"](a));var d=g.get("Math").$checked("log",g.get("Math")["$float!"](c));return"number"===typeof b&&"number"===typeof d?b/d:b["$/"](d)}return g.get("Math").$checked("log",g.get("Math")["$float!"](a))},
y.$$arity=-2);if((w="undefined"!==typeof Math.log10)===l||null==w||w.$$is_boolean&&1!=w)Math.log10=function(a){return Math.log(a)/Math.LN10};a.defn(e,"$log10",M=function(a){var c;(c=g.get("String")["$==="](a))===l||null==c||c.$$is_boolean&&1!=c||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));return g.get("Math").$checked("log10",g.get("Math")["$float!"](a))},M.$$arity=1);if((w="undefined"!==typeof Math.log2)===l||null==w||w.$$is_boolean&&1!=w)Math.log2=function(a){return Math.log(a)/Math.LN2};
a.defn(e,"$log2",N=function(a){var c;(c=g.get("String")["$==="](a))===l||null==c||c.$$is_boolean&&1!=c||this.$raise(g.get("Opal").$type_error(a,g.get("Float")));return g.get("Math").$checked("log2",g.get("Math")["$float!"](a))},N.$$arity=1);a.defn(e,"$sin",Q=function(a){return g.get("Math").$checked("sin",g.get("Math")["$float!"](a))},Q.$$arity=1);if((w="undefined"!==typeof Math.sinh)===l||null==w||w.$$is_boolean&&1!=w)Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2};a.defn(e,"$sinh",V=function(a){return g.get("Math").$checked("sinh",
g.get("Math")["$float!"](a))},V.$$arity=1);a.defn(e,"$sqrt",T=function(a){return g.get("Math").$checked("sqrt",g.get("Math")["$float!"](a))},T.$$arity=1);a.defn(e,"$tan",Y=function(a){var c;a=g.get("Math")["$float!"](a);return(c=a["$infinite?"]())===l||null==c||c.$$is_boolean&&1!=c?g.get("Math").$checked("tan",g.get("Math")["$float!"](a)):g.get("Float").$$scope.get("NAN")},Y.$$arity=1);if((w="undefined"!==typeof Math.tanh)===l||null==w||w.$$is_boolean&&1!=w)Math.tanh=function(a){return Infinity==
a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};a.defn(e,"$tanh",S=function(a){return g.get("Math").$checked("tanh",g.get("Math")["$float!"](a))},S.$$arity=1)}(a.base)};
Opal.modules["corelib/complex"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var h=a.top,b=a.nil,c=a.klass,d=a.module;a.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $infinite?".split(" "));
h.$require("corelib/numeric");(function(d,$super){function h(){}var n=h=c(d,$super,"Complex",h),f=n.$$proto,m=n.$$scope,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa;f.real=f.imag=b;a.defs(n,"$rect",r=function(a,c){var d,f,e,g;null==c&&(c=0);((d=(f=(e=(g=m.get("Numeric")["$==="](a),!1!==g&&g!==b&&null!=g?a["$real?"]():g),!1!==e&&e!==b&&null!=e?m.get("Numeric")["$==="](c):e),!1!==f&&f!==b&&null!=f?c["$real?"]():f))===b||null==d||d.$$is_boolean&&1!=d)&&this.$raise(m.get("TypeError"),
"not a real");return this.$new(a,c)},r.$$arity=-2);(function(c){return a.alias(c,"rectangular","rect")})(a.get_singleton_class(n));a.defs(n,"$polar",x=function(a,c){var d,f,e,g;null==c&&(c=0);((d=(f=(e=(g=m.get("Numeric")["$==="](a),!1!==g&&g!==b&&null!=g?a["$real?"]():g),!1!==e&&e!==b&&null!=e?m.get("Numeric")["$==="](c):e),!1!==f&&f!==b&&null!=f?c["$real?"]():f))===b||null==d||d.$$is_boolean&&1!=d)&&this.$raise(m.get("TypeError"),"not a real");return this.$new(l(a,m.get("Math").$cos(c)),l(a,m.get("Math").$sin(c)))},
x.$$arity=-2);n.$attr_reader("real","imag");a.defn(n,"$initialize",E=function(a,c){null==c&&(c=0);this.real=a;return this.imag=c},E.$$arity=-2);a.defn(n,"$coerce",B=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$raise(m.get("TypeError"),""+a.$class()+" can't be coerced into Complex"):[m.get("Complex").$new(a,0),this]:[a,this]},B.$$arity=
1);a.defn(n,"$==",t=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?a["$=="](this):this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real())},t.$$arity=1);a.defn(n,"$-@",u=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},u.$$arity=0);a.defn(n,
"$+",D=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("+",a):this.$Complex(q(this.real,a),this.imag):this.$Complex(q(this.real,a.$real()),q(this.imag,a.$imag()))},D.$$arity=1);a.defn(n,"$-",G=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&
d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("-",a):this.$Complex(e(this.real,a),this.imag):this.$Complex(e(this.real,a.$real()),e(this.imag,a.$imag()))},G.$$arity=1);a.defn(n,"$*",z=function(a){var c,d;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("*",a):this.$Complex(l(this.real,a),l(this.imag,a)):this.$Complex(e(l(this.real,
a.$real()),l(this.imag,a.$imag())),q(l(this.real,a.$imag()),l(this.imag,a.$real())))},z.$$arity=1);a.defn(n,"$/",I=function(a){var c,d,f,e,h;return(c=m.get("Complex")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(c=(d=m.get("Numeric")["$==="](a),!1!==d&&d!==b&&null!=d?a["$real?"]():d))===b||null==c||c.$$is_boolean&&1!=c?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(c=!1!==(d=!1!==(f=!1!==(e=(h=m.get("Number")["$==="](this.real),!1!==h&&h!==b&&null!=h?this.real["$nan?"]():
h))&&e!==b&&null!=e?e:(h=m.get("Number")["$==="](this.imag),!1!==h&&h!==b&&null!=h?this.imag["$nan?"]():h))&&f!==b&&null!=f?f:(e=m.get("Number")["$==="](a.$real()),!1!==e&&e!==b&&null!=e?a.$real()["$nan?"]():e))&&d!==b&&null!=d?d:(f=m.get("Number")["$==="](a.$imag()),!1!==f&&f!==b&&null!=f?a.$imag()["$nan?"]():f))===b||null==c||c.$$is_boolean&&1!=c?g(l(this,a.$conj()),a.$abs2()):m.get("Complex").$new(m.get("Float").$$scope.get("NAN"),m.get("Float").$$scope.get("NAN"))},I.$$arity=1);a.defn(n,"$**",
J=function(c){var d,f,h,k,n,u=b,t=b,y=b,r=b,w=b,r=y=t=u=w=u=b;if(c["$=="](0))return m.get("Complex").$new(1,0);if((d=m.get("Complex")["$==="](c))===b||null==d||d.$$is_boolean&&1!=d){if((d=m.get("Integer")["$==="](c))===b||null==d||d.$$is_boolean&&1!=d){if((d=!1!==(f=m.get("Float")["$==="](c))&&f!==b&&null!=f?f:m.get("Rational")["$==="](c))===b||null==d||d.$$is_boolean&&1!=d)return this.$__coerced__("**",c);f=this.$polar();d=a.to_ary(f);u=null==d[0]?b:d[0];t=null==d[1]?b:d[1];f;return m.get("Complex").$polar(u["$**"](c),
l(t,c))}if((d="number"===typeof c?0<c:c["$>"](0))===b||null==d||d.$$is_boolean&&1!=d)return g(m.get("Rational").$new(1,1),this)["$**"](c["$-@"]());u=w=this;for(t=e(c,1);(f=t["$!="](0))!==b&&null!=f&&(!f.$$is_boolean||1==f);){for(;(h=(n=t.$divmod(2),k=a.to_ary(n),y=null==k[0]?b:k[0],r=null==k[1]?b:k[1],n,r["$=="](0)))!==b&&null!=h&&(!h.$$is_boolean||1==h);)w=this.$Complex(e(l(w.$real(),w.$real()),l(w.$imag(),w.$imag())),l(l(2,w.$real()),w.$imag())),t=y;u=l(u,w);t=e(t,1)}return u}f=this.$polar();d=
a.to_ary(f);u=null==d[0]?b:d[0];t=null==d[1]?b:d[1];f;y=c.$real();r=c.$imag();w=m.get("Math").$exp(e(l(y,m.get("Math").$log(u)),l(r,t)));u=q(l(t,y),l(r,m.get("Math").$log(u)));return m.get("Complex").$polar(w,u)},J.$$arity=1);a.defn(n,"$abs",F=function(){return m.get("Math").$hypot(this.real,this.imag)},F.$$arity=0);a.defn(n,"$abs2",y=function(){return q(l(this.real,this.real),l(this.imag,this.imag))},y.$$arity=0);a.defn(n,"$angle",M=function(){return m.get("Math").$atan2(this.imag,this.real)},M.$$arity=
0);a.alias(n,"arg","angle");a.defn(n,"$conj",N=function(){return this.$Complex(this.real,this.imag["$-@"]())},N.$$arity=0);a.alias(n,"conjugate","conj");a.defn(n,"$denominator",Q=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},Q.$$arity=0);a.alias(n,"divide","/");a.defn(n,"$eql?",V=function(a){var c,d;return c=(d=m.get("Complex")["$==="](a),!1!==d&&d!==b&&null!=d?this.real.$class()["$=="](this.imag.$class()):d),!1!==c&&c!==b&&null!=c?this["$=="](a):c},V.$$arity=1);a.defn(n,
"$fdiv",T=function(a){var c;((c=m.get("Numeric")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c)&&this.$raise(m.get("TypeError"),""+a.$class()+" can't be coerced into Complex");return g(this,a)},T.$$arity=1);a.defn(n,"$hash",Y=function(){return"Complex:"+this.real+":"+this.imag},Y.$$arity=0);a.alias(n,"imaginary","imag");a.defn(n,"$inspect",S=function(){return"("+this.$to_s()+")"},S.$$arity=0);a.alias(n,"magnitude","abs");a.defn(n,"$numerator",A=function(){var a=b,a=this.$denominator();return this.$Complex(l(this.real.$numerator(),
g(a,this.real.$denominator())),l(this.imag.$numerator(),g(a,this.imag.$denominator())))},A.$$arity=0);a.alias(n,"phase","arg");a.defn(n,"$polar",W=function(){return[this.$abs(),this.$arg()]},W.$$arity=0);a.alias(n,"quo","/");a.defn(n,"$rationalize",aa=function(a){var c;1<arguments.length&&this.$raise(m.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");(c=this.imag["$!="](0))===b||null==c||c.$$is_boolean&&1!=c||this.$raise(m.get("RangeError"),"can't' convert "+this+
" into Rational");return this.$real().$rationalize(a)},aa.$$arity=-1);a.defn(n,"$real?",ga=function(){return!1},ga.$$arity=0);a.defn(n,"$rect",Z=function(){return[this.real,this.imag]},Z.$$arity=0);a.alias(n,"rectangular","rect");a.defn(n,"$to_f",ia=function(){this.imag["$=="](0)||this.$raise(m.get("RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},ia.$$arity=0);a.defn(n,"$to_i",ha=function(){this.imag["$=="](0)||this.$raise(m.get("RangeError"),"can't convert "+this+" into Integer");
return this.real.$to_i()},ha.$$arity=0);a.defn(n,"$to_r",la=function(){this.imag["$=="](0)||this.$raise(m.get("RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},la.$$arity=0);a.defn(n,"$to_s",fa=function(){var a,c,d,f=b,f=this.real.$inspect(),f=(a=!1!==(c=(d=m.get("Number")["$==="](this.imag),!1!==d&&d!==b&&null!=d?this.imag["$nan?"]():d))&&c!==b&&null!=c?c:this.imag["$positive?"]())===b||null==a||a.$$is_boolean&&1!=a?q(f,"-"):q(f,"+"),f=q(f,this.imag.$abs().$inspect());
(a=(c=m.get("Number")["$==="](this.imag),!1!==c&&c!==b&&null!=c?!1!==(d=this.imag["$nan?"]())&&d!==b&&null!=d?d:this.imag["$infinite?"]():c))===b||null==a||a.$$is_boolean&&1!=a||(f=q(f,"*"));return q(f,"i")},fa.$$arity=0);return a.cdecl(m,"I",n.$new(0,1))})(a.base,a.get("Numeric"));return function(c){c=d(c,"Kernel");var e=c.$$scope,g;a.defn(c,"$Complex",g=function(a,c){null==c&&(c=b);return!1!==c&&c!==b&&null!=c?e.get("Complex").$new(a,c):e.get("Complex").$new(a,0)},g.$$arity=-2)}(a.base)};
Opal.modules["corelib/rational"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var b=a.top,c=a.nil,d=a.klass,w=a.module;a.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));
b.$require("corelib/numeric");(function(b,$super){function n(){}var f=n=d(b,$super,"Rational",n),m=f.$$proto,r=f.$$scope,w,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha;m.num=m.den=c;a.defs(f,"$reduce",w=function(a,b){var d,f=c;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(r.get("ZeroDivisionError"),"divided by 0");else if((d=l(b,0))!==c&&null!=d&&(!d.$$is_boolean||1==d))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);f=a.$gcd(b);return this.$new(q(a,f),q(b,f))},w.$$arity=
2);a.defs(f,"$convert",E=function(a,b){var d,f,e;(d=!1!==(f=a["$nil?"]())&&f!==c&&null!=f?f:b["$nil?"]())===c||null==d||d.$$is_boolean&&1!=d||this.$raise(r.get("TypeError"),"cannot convert nil into Rational");if((d=(f=r.get("Integer")["$==="](a),!1!==f&&f!==c&&null!=f?r.get("Integer")["$==="](b):f))!==c&&null!=d&&(!d.$$is_boolean||1==d))return this.$reduce(a,b);(d=!1!==(f=!1!==(e=r.get("Float")["$==="](a))&&e!==c&&null!=e?e:r.get("String")["$==="](a))&&f!==c&&null!=f?f:r.get("Complex")["$==="](a))===
c||null==d||d.$$is_boolean&&1!=d||(a=a.$to_r());(d=!1!==(f=!1!==(e=r.get("Float")["$==="](b))&&e!==c&&null!=e?e:r.get("String")["$==="](b))&&f!==c&&null!=f?f:r.get("Complex")["$==="](b))===c||null==d||d.$$is_boolean&&1!=d||(b=b.$to_r());return(d=(f=b["$equal?"](1),!1!==f&&f!==c&&null!=f?r.get("Integer")["$==="](a)["$!"]():f))===c||null==d||d.$$is_boolean&&1!=d?(d=(f=r.get("Numeric")["$==="](a),!1!==f&&f!==c&&null!=f?r.get("Numeric")["$==="](b):f))===c||null==d||d.$$is_boolean&&1!=d?this.$reduce(a,
b):q(a,b):r.get("Opal")["$coerce_to!"](a,r.get("Rational"),"to_r")},E.$$arity=2);f.$attr_reader("numerator","denominator");a.defn(f,"$initialize",B=function(a,c){this.num=a;return this.den=c},B.$$arity=2);a.defn(f,"$numerator",t=function(){return this.num},t.$$arity=0);a.defn(f,"$denominator",u=function(){return this.den},u.$$arity=0);a.defn(f,"$coerce",D=function(a){var b=c,b=a;return r.get("Rational")["$==="](b)?[a,this]:r.get("Integer")["$==="](b)?[a.$to_r(),this]:r.get("Float")["$==="](b)?[a,
this.$to_f()]:c},D.$$arity=1);a.defn(f,"$==",G=function(a){var b=c,b=a;return r.get("Rational")["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):r.get("Integer")["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):r.get("Float")["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)},G.$$arity=1);a.defn(f,"$<=>",z=function(a){var b=c,b=a;return r.get("Rational")["$==="](b)?e(g(this.num,a.$denominator()),g(this.den,a.$numerator()))["$<=>"](0):
r.get("Integer")["$==="](b)?e(this.num,g(this.den,a))["$<=>"](0):r.get("Float")["$==="](b)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},z.$$arity=1);a.defn(f,"$+",I=function(a){var b=c,d=b=c;b=a;r.get("Rational")["$==="](b)?(b=h(g(this.num,a.$denominator()),g(this.den,a.$numerator())),d=g(this.den,a.$denominator()),a=this.$Rational(b,d)):a=r.get("Integer")["$==="](b)?this.$Rational(h(this.num,g(a,this.den)),this.den):r.get("Float")["$==="](b)?h(this.$to_f(),a):this.$__coerced__("+",a);return a},
I.$$arity=1);a.defn(f,"$-",J=function(a){var b=c,d=b=c;b=a;r.get("Rational")["$==="](b)?(b=e(g(this.num,a.$denominator()),g(this.den,a.$numerator())),d=g(this.den,a.$denominator()),a=this.$Rational(b,d)):a=r.get("Integer")["$==="](b)?this.$Rational(e(this.num,g(a,this.den)),this.den):r.get("Float")["$==="](b)?e(this.$to_f(),a):this.$__coerced__("-",a);return a},J.$$arity=1);a.defn(f,"$*",F=function(a){var b=c,d=b=c;b=a;r.get("Rational")["$==="](b)?(b=g(this.num,a.$numerator()),d=g(this.den,a.$denominator()),
a=this.$Rational(b,d)):a=r.get("Integer")["$==="](b)?this.$Rational(g(this.num,a),this.den):r.get("Float")["$==="](b)?g(this.$to_f(),a):this.$__coerced__("*",a);return a},F.$$arity=1);a.defn(f,"$/",y=function(a){var b=c,d=b=c;b=a;r.get("Rational")["$==="](b)?(b=g(this.num,a.$denominator()),d=g(this.den,a.$numerator()),a=this.$Rational(b,d)):a=r.get("Integer")["$==="](b)?a["$=="](0)?q(this.$to_f(),0):this.$Rational(this.num,g(this.den,a)):r.get("Float")["$==="](b)?q(this.$to_f(),a):this.$__coerced__("/",
a);return a},y.$$arity=1);a.defn(f,"$**",M=function(a){var b,d=c,d=a;return r.get("Integer")["$==="](d)?(b=this["$=="](0)?l(a,0):this["$=="](0))===c||null==b||b.$$is_boolean&&1!=b?(b="number"===typeof a?0<a:a["$>"](0))===c||null==b||b.$$is_boolean&&1!=b?(b=l(a,0))===c||null==b||b.$$is_boolean&&1!=b?this.$Rational(1,1):this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(this.num["$**"](a),this.den["$**"](a)):r.get("Float").$$scope.get("INFINITY"):r.get("Float")["$==="](d)?
this.$to_f()["$**"](a):r.get("Rational")["$==="](d)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?(b=l(a,0))===c||null==b||b.$$is_boolean&&1!=b?this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):(b=this["$=="](0)?l(a,0):this["$=="](0))===c||null==b||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(r.get("ZeroDivisionError"),"divided by 0"):this.$__coerced__("**",
a)},M.$$arity=1);a.defn(f,"$abs",N=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},N.$$arity=0);a.defn(f,"$ceil",Q=function(a){null==a&&(a=0);return a["$=="](0)?q(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},Q.$$arity=-1);a.alias(f,"divide","/");a.defn(f,"$floor",V=function(a){null==a&&(a=0);return a["$=="](0)?q(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},V.$$arity=-1);a.defn(f,"$hash",T=function(){return"Rational:"+
this.num+":"+this.den},T.$$arity=0);a.defn(f,"$inspect",Y=function(){return"("+this.$to_s()+")"},Y.$$arity=0);a.alias(f,"quo","/");a.defn(f,"$rationalize",S=function(a){1<arguments.length&&this.$raise(r.get("ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var c=a.$abs(),b=e(this,c),c=h(this,c),d=0,f=1,g=1,l=0,m,n,u;;){m=b.$ceil();if("number"===typeof m&&"number"===typeof c?m<=c:m["$<="](c))break;u=m-1;m=u*f+d;n=u*l+g;d=q(1,e(c,u));c=q(1,e(b,
u));b=d;d=f;g=l;f=m;l=n}return this.$Rational(m*f+d,m*l+g)},S.$$arity=-1);a.defn(f,"$round",A=function(a){var b,d=c,f=c,d=c;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;d=h(g(this.num.$abs(),2),this.den);f=g(this.den,2);d=q(d,f).$truncate();return(b=l(this.num,0))===c||null==b||b.$$is_boolean&&1!=b?d:d["$-@"]()},A.$$arity=-1);a.defn(f,"$to_f",W=function(){return q(this.num,this.den)},W.$$arity=0);a.defn(f,
"$to_i",aa=function(){return this.$truncate()},aa.$$arity=0);a.defn(f,"$to_r",ga=function(){return this},ga.$$arity=0);a.defn(f,"$to_s",Z=function(){return""+this.num+"/"+this.den},Z.$$arity=0);a.defn(f,"$truncate",ia=function(a){var b;null==a&&(a=0);return a["$=="](0)?(b=l(this.num,0))===c||null==b||b.$$is_boolean&&1!=b?this.$floor():this.$ceil():this.$with_precision("truncate",a)},ia.$$arity=-1);return(a.defn(f,"$with_precision",ha=function(a,b){var d,f=c,e=c;((d=r.get("Integer")["$==="](b))===
c||null==d||d.$$is_boolean&&1!=d)&&this.$raise(r.get("TypeError"),"not an Integer");f=10["$**"](b);e=g(this,f);return(d=l(b,1))===c||null==d||d.$$is_boolean&&1!=d?this.$Rational(e.$send(a),f):q(e.$send(a),f).$to_i()},ha.$$arity=2),c)&&"with_precision"})(a.base,a.get("Numeric"));return function(c){c=w(c,"Kernel");var b=c.$$scope,d;a.defn(c,"$Rational",d=function(a,c){null==c&&(c=1);return b.get("Rational").$convert(a,c)},d.$$arity=-2)}(a.base)};
Opal.modules["corelib/time"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var h=a.top,b=a.nil,c=a.slice,d=a.klass,w=a.range;a.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
h.$require("corelib/comparable");return function(h,$super){function n(){}function f(a,c,d,f,e,g){a=a.$$is_string?parseInt(a,10):r.get("Opal")["$coerce_to!"](a,r.get("Integer"),"to_int");if(c===b)c=1;else if(!c.$$is_number)if(c["$respond_to?"]("to_str"))switch(c=c.$to_str(),c.toLowerCase()){case "jan":c=1;break;case "feb":c=2;break;case "mar":c=3;break;case "apr":c=4;break;case "may":c=5;break;case "jun":c=6;break;case "jul":c=7;break;case "aug":c=8;break;case "sep":c=9;break;case "oct":c=10;break;
case "nov":c=11;break;case "dec":c=12;break;default:c=c.$to_i()}else c=r.get("Opal")["$coerce_to!"](c,r.get("Integer"),"to_int");(1>c||12<c)&&m.$raise(r.get("ArgumentError"),"month out of range: "+c);--c;d=d===b?1:d.$$is_string?parseInt(d,10):r.get("Opal")["$coerce_to!"](d,r.get("Integer"),"to_int");(1>d||31<d)&&m.$raise(r.get("ArgumentError"),"day out of range: "+d);f=f===b?0:f.$$is_string?parseInt(f,10):r.get("Opal")["$coerce_to!"](f,r.get("Integer"),"to_int");(0>f||24<f)&&m.$raise(r.get("ArgumentError"),
"hour out of range: "+f);e=e===b?0:e.$$is_string?parseInt(e,10):r.get("Opal")["$coerce_to!"](e,r.get("Integer"),"to_int");(0>e||59<e)&&m.$raise(r.get("ArgumentError"),"min out of range: "+e);g===b?g=0:g.$$is_number||(g=g.$$is_string?parseInt(g,10):r.get("Opal")["$coerce_to!"](g,r.get("Integer"),"to_int"));(0>g||60<g)&&m.$raise(r.get("ArgumentError"),"sec out of range: "+g);return[a,c,d,f,e,g]}var m=n=d(h,$super,"Time",n),r=m.$$scope,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,
ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na;m.$include(r.get("Comparable"));var wa="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ya="Sun Mon Tue Wed Thu Fri Sat".split(" "),da="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),p="January February March April May June July August September October November December".split(" ");a.defs(m,"$at",x=function(a,c){var b;if(r.get("Time")["$==="](a))return void 0!==c&&this.$raise(r.get("TypeError"),"can't convert Time into an exact number"),
b=new Date(a.getTime()),b.is_utc=a.is_utc,b;a.$$is_number||(a=r.get("Opal")["$coerce_to!"](a,r.get("Integer"),"to_int"));if(void 0===c)return new Date(1E3*a);c.$$is_number||(c=r.get("Opal")["$coerce_to!"](c,r.get("Integer"),"to_int"));return new Date(1E3*a+c/1E3)},x.$$arity=-2);a.defs(m,"$new",E=function(a,c,d,e,g,p,h){null==c&&(c=b);null==d&&(d=b);null==e&&(e=b);null==g&&(g=b);null==p&&(p=b);null==h&&(h=b);if(void 0===a)return new Date;h!==b&&this.$raise(r.get("ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");
p=f(a,c,d,e,g,p);a=p[0];c=p[1];d=p[2];e=p[3];g=p[4];p=p[5];c=new Date(a,c,d,e,g,0,1E3*p);100>a&&c.setFullYear(a);return c},E.$$arity=-1);a.defs(m,"$local",B=function(a,d,e,g,p,h,l,m,n,L){null==d&&(d=b);null==e&&(e=b);null==g&&(g=b);null==p&&(p=b);null==h&&(h=b);null==l&&(l=b);null==m&&(m=b);null==n&&(n=b);null==L&&(L=b);var C;10===arguments.length&&(C=c.call(arguments),a=C[5],d=C[4],e=C[3],g=C[2],p=C[1],h=C[0]);C=f(a,d,e,g,p,h);a=C[0];d=C[1];e=C[2];g=C[3];p=C[4];h=C[5];C=new Date(a,d,e,g,p,0,1E3*
h);100>a&&C.setFullYear(a);return C},B.$$arity=-2);a.defs(m,"$gm",t=function(a,d,e,g,p,h,l,m,n,L){null==d&&(d=b);null==e&&(e=b);null==g&&(g=b);null==p&&(p=b);null==h&&(h=b);null==l&&(l=b);null==m&&(m=b);null==n&&(n=b);null==L&&(L=b);var C;10===arguments.length&&(C=c.call(arguments),a=C[5],d=C[4],e=C[3],g=C[2],p=C[1],h=C[0]);C=f(a,d,e,g,p,h);a=C[0];d=C[1];e=C[2];g=C[3];p=C[4];h=C[5];C=new Date(Date.UTC(a,d,e,g,p,0,1E3*h));100>a&&C.setUTCFullYear(a);C.is_utc=!0;return C},t.$$arity=-2);(function(c){a.alias(c,
"mktime","local");return a.alias(c,"utc","gm")})(a.get_singleton_class(m));a.defs(m,"$now",u=function(){return this.$new()},u.$$arity=0);a.defn(m,"$+",D=function(a){var c;(c=r.get("Time")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c||this.$raise(r.get("TypeError"),"time + time?");a.$$is_number||(a=r.get("Opal")["$coerce_to!"](a,r.get("Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},D.$$arity=1);a.defn(m,"$-",G=function(a){var c;if((c=r.get("Time")["$==="](a))!==
b&&null!=c&&(!c.$$is_boolean||1==c))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=r.get("Opal")["$coerce_to!"](a,r.get("Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},G.$$arity=1);a.defn(m,"$<=>",z=function(a){var c,d=b;return(c=r.get("Time")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?(d=a["$<=>"](this),(c=d["$nil?"]())===b||null==c||c.$$is_boolean&&1!=c?(c="number"===typeof d?0<d:d["$>"](0))===b||null==c||c.$$is_boolean&&1!=c?(c="number"===typeof d?
0>d:d["$<"](0))===b||null==c||c.$$is_boolean&&1!=c?0:1:-1:b):this.$to_f()["$<=>"](a.$to_f())},z.$$arity=1);a.defn(m,"$==",I=function(a){return this.$to_f()===a.$to_f()},I.$$arity=1);a.defn(m,"$asctime",J=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},J.$$arity=0);a.alias(m,"ctime","asctime");a.defn(m,"$day",F=function(){return this.is_utc?this.getUTCDate():this.getDate()},F.$$arity=0);a.defn(m,"$yday",y=function(){var a=b,c=b,d=b,a=r.get("Time").$new(this.$year()).$to_i(),c=r.get("Time").$new(this.$year(),
this.$month(),this.$day()).$to_i(),d=86400;return l(q(e(c,a),d).$round(),1)},y.$$arity=0);a.defn(m,"$isdst",M=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())},M.$$arity=0);a.alias(m,"dst?","isdst");a.defn(m,"$dup",N=function(){var a=b,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},N.$$arity=0);a.defn(m,"$eql?",Q=function(a){var c;
return c=a["$is_a?"](r.get("Time")),!1!==c&&c!==b&&null!=c?this["$<=>"](a)["$zero?"]():c},Q.$$arity=1);a.defn(m,"$friday?",V=function(){return 5==this.$wday()},V.$$arity=0);a.defn(m,"$hash",T=function(){return"Time:"+this.getTime()},T.$$arity=0);a.defn(m,"$hour",Y=function(){return this.is_utc?this.getUTCHours():this.getHours()},Y.$$arity=0);a.defn(m,"$inspect",S=function(){var a;return(a=this["$utc?"]())===b||null==a||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):this.$strftime("%Y-%m-%d %H:%M:%S UTC")},
S.$$arity=0);a.alias(m,"mday","day");a.defn(m,"$min",A=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},A.$$arity=0);a.defn(m,"$mon",W=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},W.$$arity=0);a.defn(m,"$monday?",aa=function(){return 1==this.$wday()},aa.$$arity=0);a.alias(m,"month","mon");a.defn(m,"$saturday?",ga=function(){return 6==this.$wday()},ga.$$arity=0);a.defn(m,"$sec",Z=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},Z.$$arity=
0);a.defn(m,"$succ",ia=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},ia.$$arity=0);a.defn(m,"$usec",ha=function(){return 1E3*this.getMilliseconds()},ha.$$arity=0);a.defn(m,"$zone",la=function(){var a=this.toString(),c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c},la.$$arity=0);a.defn(m,"$getgm",fa=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},fa.$$arity=
0);a.alias(m,"getutc","getgm");a.defn(m,"$gmtime",ea=function(){this.is_utc=!0;return this},ea.$$arity=0);a.alias(m,"utc","gmtime");a.defn(m,"$gmt?",ja=function(){return!0===this.is_utc},ja.$$arity=0);a.defn(m,"$gmt_offset",ka=function(){return 60*-this.getTimezoneOffset()},ka.$$arity=0);a.defn(m,"$strftime",K=function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,d,f,e){f="";var g=-1!==b.indexOf("0"),h=-1===b.indexOf("-"),l=-1!==b.indexOf("_"),C=-1!==b.indexOf("^"),
H=-1!==b.indexOf("#"),ca=(b.match(":")||[]).length;d=parseInt(d,10);g&&l&&(b.indexOf("0")<b.indexOf("_")?g=!1:l=!1);switch(e){case "Y":f+=c.$year();break;case "C":g=!l;f+=Math.round(c.$year()/100);break;case "y":g=!l;f+=c.$year()%100;break;case "m":g=!l;f+=c.$mon();break;case "B":f+=p[c.$mon()-1];break;case "b":case "h":l=!g;f+=da[c.$mon()-1];break;case "d":g=!l;f+=c.$day();break;case "e":l=!g;f+=c.$day();break;case "j":f+=c.$yday();break;case "H":g=!l;f+=c.$hour();break;case "k":l=!g;f+=c.$hour();
break;case "I":g=!l;f+=c.$hour()%12||12;break;case "l":l=!g;f+=c.$hour()%12||12;break;case "P":f+=12<=c.$hour()?"pm":"am";break;case "p":f+=12<=c.$hour()?"PM":"AM";break;case "M":g=!l;f+=c.$min();break;case "S":g=!l;f+=c.$sec();break;case "L":g=!l;d=isNaN(d)?3:d;f+=c.getMilliseconds();break;case "N":d=isNaN(d)?9:d;f+=c.getMilliseconds().toString().$rjust(3,"0");f=f.$ljust(d,"0");break;case "z":a=c.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);e=Math.abs(a)%60;f=f+(0>a?"+":"-")+(10>b?"0":"");f+=
b;0<ca&&(f+=":");f+=10>e?"0":"";f+=e;1<ca&&(f+=":00");break;case "Z":f+=c.$zone();break;case "A":f+=wa[c.$wday()];break;case "a":f+=ya[c.$wday()];break;case "u":f+=c.$wday()+1;break;case "w":f+=c.$wday();break;case "V":f+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":f+=c.$cweek_cyear()["$[]"](1);break;case "g":f+=c.$cweek_cyear()["$[]"](1)["$[]"](w(-2,-1,!1));break;case "s":f+=c.$to_i();break;case "n":f+="\n";break;case "t":f+="\t";break;case "%":f+="%";break;case "c":f+=c.$strftime("%a %b %e %T %Y");
break;case "D":case "x":f+=c.$strftime("%m/%d/%y");break;case "F":f+=c.$strftime("%Y-%m-%d");break;case "v":f+=c.$strftime("%e-%^b-%4Y");break;case "r":f+=c.$strftime("%I:%M:%S %p");break;case "R":f+=c.$strftime("%H:%M");break;case "T":case "X":f+=c.$strftime("%H:%M:%S");break;default:return a}C&&(f=f.toUpperCase());H&&(f=f.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));h&&(g||l)&&(f=f.$rjust(isNaN(d)?2:d,l?" ":"0"));return f})},K.$$arity=1);a.defn(m,
"$sunday?",P=function(){return 0==this.$wday()},P.$$arity=0);a.defn(m,"$thursday?",U=function(){return 4==this.$wday()},U.$$arity=0);a.defn(m,"$to_a",R=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},R.$$arity=0);a.defn(m,"$to_f",qa=function(){return this.getTime()/1E3},qa.$$arity=0);a.defn(m,"$to_i",ra=function(){return parseInt(this.getTime()/1E3,10)},ra.$$arity=0);a.alias(m,"to_s","inspect");a.defn(m,
"$tuesday?",pa=function(){return 2==this.$wday()},pa.$$arity=0);a.alias(m,"tv_sec","sec");a.alias(m,"tv_usec","usec");a.alias(m,"utc?","gmt?");a.alias(m,"gmtoff","gmt_offset");a.alias(m,"utc_offset","gmt_offset");a.defn(m,"$wday",va=function(){return this.is_utc?this.getUTCDay():this.getDay()},va.$$arity=0);a.defn(m,"$wednesday?",oa=function(){return 3==this.$wday()},oa.$$arity=0);a.defn(m,"$year",ta=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},ta.$$arity=0);return(a.defn(m,
"$cweek_cyear",na=function(){var a,c,d=b,f=b,p=f=f=d=b,p=b,d=r.get("Time").$new(this.$year(),1,1),f=d.$wday(),d=this.$year();(a=(c=g(f,4),!1!==c&&c!==b&&null!=c?f["$!="](0):c))===b||null==a||a.$$is_boolean&&1!=a?(f=e(e(f,7),1),f["$=="](-8)&&(f=-1)):f=e(f,1);f=q(l(this.$yday(),f),7).$ceil();if((a=g(f,0))!==b&&null!=a&&(!a.$$is_boolean||1==a))return r.get("Time").$new(e(this.$year(),1),12,31).$cweek_cyear();f["$=="](53)&&(p=r.get("Time").$new(this.$year(),12,31),p=p.$wday(),(a=(c=g(p,3),!1!==c&&c!==
b&&null!=c?p["$!="](0):c))===b||null==a||a.$$is_boolean&&1!=a||(f=1,d=l(d,1)));return[f,d]},na.$$arity=0),b)&&"cweek_cyear"}(a.base,Date)};
Opal.modules["corelib/struct"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var h=a.top,b=a.nil,c=a.klass,d=a.hash2;a.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $> $length $class $each_with_index $[]= $[] $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $join $inspect $each_pair $inject $flatten $to_a $values_at".split(" "));
h.$require("corelib/enumerable");return function(h,$super){function k(){}var n=k=c(h,$super,"Struct",k),f=n.$$scope,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T;n.$include(f.get("Enumerable"));a.defs(n,"$new",m=function(c,d){var e,g,h,k,l,n,q=m.$$p||b,u=b,u=arguments.length,t=u-1;0>t&&(t=0);n=Array(t);for(t=1;t<u;t++)n[t-1]=arguments[t];m.$$p=null;if(!1!==c&&c!==b&&null!=c)try{c=f.get("Opal")["$const_name!"](c)}catch(y){if(a.rescue(y,[f.get("TypeError"),f.get("NameError")]))try{n.$unshift(c),c=b}finally{a.pop_exception()}else throw y;
}(e=n.$map,e.$$p=(g=function(a){null==a&&(a=b);return f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str")},g.$$s=this,g.$$arity=1,g),e).call(n);u=(e=(h=f.get("Class")).$new,e.$$p=(k=function(){var c=k.$$s||this,d,f;(d=n.$each,d.$$p=(f=function(a){var c=f.$$s||this;null==a&&(a=b);return c.$define_struct_attribute(a)},f.$$s=c,f.$$arity=1,f),d).call(n);return function(c){var d;a.defn(c,"$new",d=function(c){var d,f,e=b,e=arguments.length;f=e-0;0>f&&(f=0);f=Array(f);for(var g=0;g<e;g++)f[g-0]=arguments[g];
e=this.$allocate();e.$$data={};(d=e).$initialize.apply(d,a.to_a(f));return e},d.$$arity=-1);return a.alias(c,"[]","new")}(a.get_singleton_class(c))},k.$$s=this,k.$$arity=0,k),e).call(h,this);!1!==q&&q!==b&&null!=q&&(e=(l=u).$module_eval,e.$$p=q.$to_proc(),e).call(l);!1!==c&&c!==b&&null!=c&&f.get("Struct").$const_set(c,u);return u},m.$$arity=-2);a.defs(n,"$define_struct_attribute",r=function(a){var c,d,e;this["$=="](f.get("Struct"))&&this.$raise(f.get("ArgumentError"),"you cannot define attributes to the Struct class");
this.$members()["$<<"](a);(c=this.$define_method,c.$$p=(d=function(){return(d.$$s||this).$$data[a]},d.$$s=this,d.$$arity=0,d),c).call(this,a);return(c=this.$define_method,c.$$p=(e=function(c){var d=e.$$s||this;null==c&&(c=b);return d.$$data[a]=c},e.$$s=this,e.$$arity=1,e),c).call(this,""+a+"=")},r.$$arity=1);a.defs(n,"$members",x=function(){var a;null==this.members&&(this.members=b);this["$=="](f.get("Struct"))&&this.$raise(f.get("ArgumentError"),"the Struct class has no members");return!1!==(a=this.members)&&
a!==b&&null!=a?a:this.members=[]},x.$$arity=0);a.defs(n,"$inherited",E=function(a){var c,d,f=b;null==this.members&&(this.members=b);f=this.members;return(c=a.$instance_eval,c.$$p=(d=function(){return(d.$$s||this).members=f},d.$$s=this,d.$$arity=0,d),c).call(a)},E.$$arity=1);a.defn(n,"$initialize",B=function(a){var c,d,e,g,h=arguments.length,k=h-0;0>k&&(k=0);g=Array(k);for(k=0;k<h;k++)g[k-0]=arguments[k];(c=l(g.$length(),this.$class().$members().$length()))===b||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("ArgumentError"),
"struct size differs");return(c=(d=this.$class().$members()).$each_with_index,c.$$p=(e=function(a,c){var d=e.$$s||this;null==a&&(a=b);null==c&&(c=b);return d["$[]="](a,g["$[]"](c))},e.$$s=this,e.$$arity=2,e),c).call(d)},B.$$arity=-1);a.defn(n,"$members",t=function(){return this.$class().$members()},t.$$arity=0);a.defn(n,"$hash",u=function(){return f.get("Hash").$new(this.$$data).$hash()},u.$$arity=0);a.defn(n,"$[]",D=function(a){var c;(c=f.get("Integer")["$==="](a))===b||null==c||c.$$is_boolean&&
1!=c?(c=f.get("String")["$==="](a))===b||null==c||c.$$is_boolean&&1!=c?this.$raise(f.get("TypeError"),"no implicit conversion of "+a.$class()+" into Integer"):this.$$data.hasOwnProperty(a)||this.$raise(f.get("NameError").$new("no member '"+a+"' in struct",a)):((c=q(a,this.$class().$members().$size()["$-@"]()))===b||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),(c=e(a,this.$class().$members().$size()))===
b||null==c||c.$$is_boolean&&1!=c||this.$raise(f.get("IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a));a=f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str");return this.$$data[a]},D.$$arity=1);a.defn(n,"$[]=",G=function(a,c){var d;(d=f.get("Integer")["$==="](a))===b||null==d||d.$$is_boolean&&1!=d?(d=f.get("String")["$==="](a))===b||null==d||d.$$is_boolean&&1!=d?this.$raise(f.get("TypeError"),"no implicit conversion of "+
a.$class()+" into Integer"):((d=this.$class().$members()["$include?"](a.$to_sym()))===b||null==d||d.$$is_boolean&&1!=d)&&this.$raise(f.get("NameError").$new("no member '"+a+"' in struct",a)):((d=q(a,this.$class().$members().$size()["$-@"]()))===b||null==d||d.$$is_boolean&&1!=d||this.$raise(f.get("IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),(d=e(a,this.$class().$members().$size()))===b||null==d||d.$$is_boolean&&1!=d||this.$raise(f.get("IndexError"),
"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a));a=f.get("Opal")["$coerce_to!"](a,f.get("String"),"to_str");return this.$$data[a]=c},G.$$arity=2);a.defn(n,"$==",z=function(a){function c(a,b){var d,h,k;e[a.$__id__()]=!0;g[b.$__id__()]=!0;for(d in a.$$data)if(h=a.$$data[d],k=b.$$data[d],f.get("Struct")["$==="](h)){if(!(e.hasOwnProperty(h.$__id__())&&g.hasOwnProperty(k.$__id__())||c(h,k)))return!1}else if(!h["$=="](k))return!1;return!0}
var d;if((d=a["$instance_of?"](this.$class()))===b||null==d||d.$$is_boolean&&1!=d)return!1;var e={},g={};return c(this,a)},z.$$arity=1);a.defn(n,"$eql?",I=function(a){function c(a,b){var d,h,k;e[a.$__id__()]=!0;g[b.$__id__()]=!0;for(d in a.$$data)if(h=a.$$data[d],k=b.$$data[d],f.get("Struct")["$==="](h)){if(!(e.hasOwnProperty(h.$__id__())&&g.hasOwnProperty(k.$__id__())||c(h,k)))return!1}else if(!h["$eql?"](k))return!1;return!0}var d;if((d=a["$instance_of?"](this.$class()))===b||null==d||d.$$is_boolean&&
1!=d)return!1;var e={},g={};return c(this,a)},I.$$arity=1);a.defn(n,"$each",J=function(){var c,d,f,e,g=J.$$p||b;J.$$p=null;if(g===b)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),c).call(this,"each");(c=(f=this.$class().$members()).$each,c.$$p=(e=function(c){var d=e.$$s||this;null==c&&(c=b);return a.yield1(g,d["$[]"](c))},e.$$s=this,e.$$arity=1,e),c).call(f);return this},J.$$arity=0);a.defn(n,"$each_pair",F=function(){var c,d,f,e,g=F.$$p||b;F.$$p=
null;if(g===b)return(c=this.$enum_for,c.$$p=(d=function(){return(d.$$s||this).$size()},d.$$s=this,d.$$arity=0,d),c).call(this,"each_pair");(c=(f=this.$class().$members()).$each,c.$$p=(e=function(c){var d=e.$$s||this;null==c&&(c=b);return a.yield1(g,[c,d["$[]"](c)])},e.$$s=this,e.$$arity=1,e),c).call(f);return this},F.$$arity=0);a.defn(n,"$length",y=function(){return this.$class().$members().$length()},y.$$arity=0);a.alias(n,"size","length");a.defn(n,"$to_a",M=function(){var a,c,d;return(a=(c=this.$class().$members()).$map,
a.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=b);return c["$[]"](a)},d.$$s=this,d.$$arity=1,d),a).call(c)},M.$$arity=0);a.alias(n,"values","to_a");a.defn(n,"$inspect",N=function(){var a,c,d,e=b,e="#<struct ";(a=(c=f.get("Struct")["$==="](this),!1!==c&&c!==b&&null!=c?this.$class().$name():c))===b||null==a||a.$$is_boolean&&1!=a||(e=g(e,""+this.$class()+" "));e=g(e,(a=(c=this.$each_pair()).$map,a.$$p=(d=function(a,c){null==a&&(a=b);null==c&&(c=b);return""+a+"="+c.$inspect()},d.$$s=this,d.$$arity=
2,d),a).call(c).$join(", "));return e=g(e,">")},N.$$arity=0);a.alias(n,"to_s","inspect");a.defn(n,"$to_h",Q=function(){var a,c,f;return(a=(c=this.$class().$members()).$inject,a.$$p=(f=function(a,c){var d=f.$$s||this;null==a&&(a=b);null==c&&(c=b);a["$[]="](c,d["$[]"](c));return a},f.$$s=this,f.$$arity=2,f),a).call(c,d([],{}))},Q.$$arity=0);a.defn(n,"$values_at",V=function(a){var c,d,e,g,h=arguments.length;g=h-0;0>g&&(g=0);g=Array(g);for(var k=0;k<h;k++)g[k-0]=arguments[k];g=(c=(d=g).$map,c.$$p=(e=
function(a){null==a&&(a=b);return a.$$is_range?a.$to_a():a},e.$$s=this,e.$$arity=1,e),c).call(d).$flatten();c=[];d=0;for(e=g.length;d<e;d++)g[d].$$is_number||this.$raise(f.get("TypeError"),"no implicit conversion of "+g[d].$class()+" into Integer"),c.push(this["$[]"](g[d]));return c},V.$$arity=-1);return(a.defs(n,"$_load",T=function(c){var d=b,d=c.$values_at.apply(c,a.to_a(this.$members()));return this.$new.apply(this,a.to_a(d))},T.$$arity=1),b)&&"_load"}(a.base,null)};
Opal.modules["corelib/io"]=function(a){var l,q,e=a.nil,g=a.klass,h=a.module,b=a.gvars;a.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $extend".split(" "));(function(c,$super){function l(){}var q=l=g(c,$super,"IO",l),k=q.$$proto,n=q.$$scope,f,m,r,x;k.tty=k.closed=e;a.cdecl(n,"SEEK_SET",0);a.cdecl(n,"SEEK_CUR",1);a.cdecl(n,"SEEK_END",2);a.defn(q,"$tty?",f=function(){return this.tty},f.$$arity=0);a.defn(q,"$closed?",m=function(){return this.closed},
m.$$arity=0);q.$attr_accessor("write_proc");a.defn(q,"$write",r=function(a){this.write_proc(a);return a.$size()},r.$$arity=1);q.$attr_accessor("sync","tty");a.defn(q,"$flush",x=function(){return e},x.$$arity=0);(function(c){c=h(c,"Writable");var f,g,k;a.defn(c,"$<<",f=function(a){this.$write(a);return this},f.$$arity=1);a.defn(c,"$print",g=function(a){var c,f,g;null==b[","]&&(b[","]=e);var h=arguments.length;g=h-0;0>g&&(g=0);g=Array(g);for(var k=0;k<h;k++)g[k-0]=arguments[k];this.$write((c=g.$map,
c.$$p=(f=function(a){var c=f.$$s||this;null==a&&(a=e);return c.$String(a)},f.$$s=this,f.$$arity=1,f),c).call(g).$join(b[","]));return e},g.$$arity=-1);a.defn(c,"$puts",k=function(a){var c,f,g,h=e;null==b["/"]&&(b["/"]=e);h=arguments.length;g=h-0;0>g&&(g=0);g=Array(g);for(var k=0;k<h;k++)g[k-0]=arguments[k];h=b["/"];(c=g["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c?this.$write((c=g.$map,c.$$p=(f=function(a){var c=f.$$s||this;null==a&&(a=e);return c.$String(a).$chomp()},f.$$s=this,f.$$arity=1,f),
c).call(g).$concat([e]).$join(h)):this.$write(b["/"]);return e},k.$$arity=-1)})(n.base);return function(c){c=h(c,"Readable");var f=c.$$scope,g,k,l,m;a.defn(c,"$readbyte",g=function(){return this.$getbyte()},g.$$arity=0);a.defn(c,"$readchar",k=function(){return this.$getc()},k.$$arity=0);a.defn(c,"$readline",l=function(a){null==b["/"]&&(b["/"]=e);return this.$raise(f.get("NotImplementedError"))},l.$$arity=-1);a.defn(c,"$readpartial",m=function(a,c){return this.$raise(f.get("NotImplementedError"))},
m.$$arity=-2)}(n.base)})(a.base,null);a.cdecl(a,"STDERR",b.stderr=a.get("IO").$new());a.cdecl(a,"STDIN",b.stdin=a.get("IO").$new());a.cdecl(a,"STDOUT",b.stdout=a.get("IO").$new());l=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){console.log(a)}];q=a.get("STDOUT");q["$write_proc="].apply(q,l);l[l.length-1];l=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){console.warn(a)}];q=a.get("STDERR");q["$write_proc="].apply(q,l);l[l.length-1];a.get("STDOUT").$extend(a.get("IO").$$scope.get("Writable"));
return a.get("STDERR").$extend(a.get("IO").$$scope.get("Writable"))};Opal.modules["corelib/main"]=function(a){var l,q,e=a.top,g=a.nil;a.add_stubs(["$include"]);a.defs(e,"$to_s",l=function(){return"main"},l.$$arity=0);return(a.defs(e,"$include",q=function(e){return a.get("Object").$include(e)},q.$$arity=1),g)&&"include"};
Opal.modules["corelib/dir"]=function(a){var l=a.nil,q=a.klass;a.add_stubs(["$[]"]);return function(e,$super){function h(){}var b=h=q(e,$super,"Dir",h);return function(c){var b=c.$$scope,e,h,k;a.defn(c,"$chdir",e=function(c){var b=e.$$p||l,d=l;e.$$p=null;try{return d=a.current_dir,a.current_dir=c,a.yieldX(b,[])}finally{a.current_dir=d}},e.$$arity=1);a.defn(c,"$pwd",h=function(){return a.current_dir||"."},h.$$arity=0);a.alias(c,"getwd","pwd");return(a.defn(c,"$home",k=function(){var a;return!1!==(a=
b.get("ENV")["$[]"]("HOME"))&&a!==l&&null!=a?a:"."},k.$$arity=0),l)&&"home"}(a.get_singleton_class(b))}(a.base,null)};
Opal.modules["corelib/file"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var e=a.nil,g=a.klass,h=a.range;a.add_stubs("$join $compact $split $== $first $[]= $home $pwd $each $pop $<< $raise $respond_to? $to_path $class $nil? $is_a? $basename $empty? $rindex $[] $+ $- $length $gsub $find $=~".split(" "));return function(b,$super){function d(){}var w=d=g(b,$super,"File",d),v=w.$$scope;
a.cdecl(v,"Separator",a.cdecl(v,"SEPARATOR","/"));a.cdecl(v,"ALT_SEPARATOR",e);a.cdecl(v,"PATH_SEPARATOR",":");a.cdecl(v,"FNM_SYSCASE",0);return function(b){function d(a){return a.substring(1,a.length)}function f(a){for(var b,f;0<a.length;)if(g(a)){b=a;for(a=d(a);0<a.length&&g(a);)a=d(a);if(!a)break;f=b}else a=d(a);return f}function g(a){return a.charAt(0)===w.get("SEPARATOR")}function r(a,b){return 0==a.length?b.length:b.indexOf(a)}var w=b.$$scope,v,B,t,u,D,G,z,I;a.defn(b,"$expand_path",v=function(a,
b){var d,f,g,h=e,k=e;null==b&&(b=e);a=[b,a].$compact().$join(w.get("SEPARATOR"));h=a.$split(w.get("SEPARATOR"));k=[];if(h.$first()["$=="]("~"))h["$[]="](0,w.get("Dir").$home());if(h.$first()["$=="]("."))h["$[]="](0,w.get("Dir").$pwd());(d=(f=h).$each,d.$$p=(g=function(a){null==a&&(a=e);return a["$=="]("..")?k.$pop():k["$<<"](a)},g.$$s=this,g.$$arity=1,g),d).call(f);return k.$join(w.get("SEPARATOR"))},v.$$arity=-2);a.alias(b,"realpath","expand_path");a.defn(b,"$dirname",B=function(a){a===e&&this.$raise(w.get("TypeError"),
"no implicit conversion of nil into String");a["$respond_to?"]("to_path")&&(a=a.$to_path());a.$$is_string||this.$raise(w.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");var b,h;for(b=a;0<b.length&&g(b);)b=d(b);0==b.length?a=a.substring(a.length-1,a.length):0>b.length-a.length&&(a=a.substring(a.indexOf(b)-1,a.length));(h=f(b))||(h=b);return h===a?".":a.substring(0,a.length-h.length)},B.$$arity=1);a.defn(b,"$basename",t=function(a,b){null==b&&(b=e);var h,k,l;k=0;var q=-1,u;
a===e&&this.$raise(w.get("TypeError"),"no implicit conversion of nil into String");a["$respond_to?"]("to_path")&&(a=a.$to_path());a.$$is_string||this.$raise(w.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");b===e||b.$$is_string||this.$raise(w.get("TypeError"),"no implicit conversion of "+b.$class()+" into String");if(0==a.length)return a;for(u=a;g(a);)h=a,a=d(a);if(a){if(h=f(a))for(;g(h);)h=d(h);else h=a;a:for(q=h;0<q.length;)if(g(q)){k=q;for(q=q.substring(1,q.length);0<q.length&&
g(q);)q=d(q);if(0==q.length){q=k;break a}}else q=d(q);q=r(q,h);for(k=h;r(k,h)<q&&"."===k.charAt(0);k=d(k));for(l=null;r(k,h)<q;k=d(k))"."===k.charAt(0)&&(l=k);k=l?r(l,h):q}else k=1;a:{l=a;if(0<=q&&(b===e?k=q:(k=".*"===b?"\\.\\w+":b.replace(/\?/g,"\\?"),k=(k=(new RegExp(k+w.get("Separator")+"*$")).exec(h))?k.index:q),k===u.length)){u=l;break a}u=h.substring(0,k)}return u},t.$$arity=-2);a.defn(b,"$extname",u=function(a){var b,d,f=e,g=e;(b=a["$nil?"]())===e||null==b||b.$$is_boolean&&1!=b||this.$raise(w.get("TypeError"),
"no implicit conversion of nil into String");(b=a["$respond_to?"]("to_path"))===e||null==b||b.$$is_boolean&&1!=b||(a=a.$to_path());((b=a["$is_a?"](w.get("String")))===e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(w.get("TypeError"),"no implicit conversion of "+a.$class()+" into String");f=this.$basename(a);if((b=f["$empty?"]())!==e&&null!=b&&(!b.$$is_boolean||1==b))return"";g=f["$[]"](h(1,-1,!1)).$rindex(".");return(b=!1!==(d=g["$nil?"]())&&d!==e&&null!=d?d:l(g,1)["$=="](q(f.$length(),1)))===e||
null==b||b.$$is_boolean&&1!=b?f["$[]"](h(l(g,1),-1,!1)):""},u.$$arity=1);a.defn(b,"$exist?",D=function(b){return null!=a.modules[b]},D.$$arity=1);a.alias(b,"exists?","exist?");a.defn(b,"$directory?",G=function(b){var d,f,g,h=e,h=e,h=[],k;for(k in a.modules)h.push(k);b=b.$gsub(new RegExp("(^."+w.get("SEPARATOR")+"+|"+w.get("SEPARATOR")+"+$)"));return h=(d=(f=h).$find,d.$$p=(g=function(a){null==a&&(a=e);return a["$=~"](new RegExp("^"+b))},g.$$s=this,g.$$arity=1,g),d).call(f)},G.$$arity=1);a.defn(b,
"$join",z=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];return b.$join(w.get("SEPARATOR")).$gsub(new RegExp(""+w.get("SEPARATOR")+"+"),w.get("SEPARATOR"))},z.$$arity=-1);return(a.defn(b,"$split",I=function(a){return a.$split(w.get("SEPARATOR"))},I.$$arity=1),e)&&"split"}(a.get_singleton_class(w))}(a.base,a.get("IO"))};
Opal.modules["corelib/process"]=function(a){var l=a.nil,q=a.klass;a.add_stubs(["$to_f","$now","$new"]);(function(e,$super){function h(){}var b=h=q(e,$super,"Process",h),c=b.$$scope,d,w,v;a.cdecl(c,"CLOCK_REALTIME",0);a.cdecl(c,"CLOCK_MONOTONIC",1);a.defs(b,"$pid",d=function(){return 0},d.$$arity=0);a.defs(b,"$times",w=function(){var a=l,a=c.get("Time").$now().$to_f();return c.get("Benchmark").$$scope.get("Tms").$new(a,a,a,a,a)},w.$$arity=0);return(a.defs(b,"$clock_gettime",v=function(a,b){return c.get("Time").$now().$to_f()},
v.$$arity=-2),l)&&"clock_gettime"})(a.base,null);(function(e,$super){function h(){}var b=h=q(e,$super,"Signal",h),c;return(a.defs(b,"$trap",c=function(a){return l},c.$$arity=-1),l)&&"trap"})(a.base,null);return function(e,$super){function h(){}var b=h=q(e,$super,"GC",h),c;return(a.defs(b,"$start",c=function(){return l},c.$$arity=0),l)&&"start"}(a.base,null)};
Opal.modules["corelib/unsupported"]=function(a){function l(c){switch(a.config.unsupported_features_severity){case "error":h.get("Kernel").$raise(h.get("NotImplementedError"),c);break;case "warning":w[c]||(w[c]=!0,g.$warn(c))}}var q,e,g=a.top,h=a,b=a.nil,c=a.klass,d=a.module;a.add_stubs(["$raise","$warn","$%"]);var w={};(function(d,$super){function e(){}var f=e=c(d,$super,"String",e),g=f.$$scope,h,l,q,w,t,u,D,G,z,I,J,F,y,M,N,Q,V,T;a.defn(f,"$<<",h=function(a){return this.$raise(g.get("NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},h.$$arity=-1);a.defn(f,"$capitalize!",l=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},l.$$arity=-1);a.defn(f,"$chomp!",q=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},q.$$arity=-1);a.defn(f,
"$chop!",w=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},w.$$arity=-1);a.defn(f,"$downcase!",t=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},t.$$arity=-1);a.defn(f,"$gsub!",u=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},
u.$$arity=-1);a.defn(f,"$lstrip!",D=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},D.$$arity=-1);a.defn(f,"$next!",G=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},G.$$arity=-1);a.defn(f,"$reverse!",z=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},
z.$$arity=-1);a.defn(f,"$slice!",I=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},I.$$arity=-1);a.defn(f,"$squeeze!",J=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},J.$$arity=-1);a.defn(f,"$strip!",F=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
F.$$arity=-1);a.defn(f,"$sub!",y=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},y.$$arity=-1);a.defn(f,"$succ!",M=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},M.$$arity=-1);a.defn(f,"$swapcase!",N=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},
N.$$arity=-1);a.defn(f,"$tr!",Q=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},Q.$$arity=-1);a.defn(f,"$tr_s!",V=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},V.$$arity=-1);return(a.defn(f,"$upcase!",T=function(a){return this.$raise(g.get("NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},
T.$$arity=-1),b)&&"upcase!"})(h.base,null);(function(c){c=d(c,"Kernel");var b,e;a.defn(c,"$freeze",b=function(){l("Object freezing is not supported by Opal");return this},b.$$arity=0);a.defn(c,"$frozen?",e=function(){l("Object freezing is not supported by Opal");return!1},e.$$arity=0)})(h.base);(function(c){c=d(c,"Kernel");var b,e,f;a.defn(c,"$taint",b=function(){l("Object tainting is not supported by Opal");return this},b.$$arity=0);a.defn(c,"$untaint",e=function(){l("Object tainting is not supported by Opal");
return this},e.$$arity=0);a.defn(c,"$tainted?",f=function(){l("Object tainting is not supported by Opal");return!1},f.$$arity=0)})(h.base);(function(d,$super){function e(){}var f=e=c(d,$super,"Module",e),g,h,l,q;a.defn(f,"$public",g=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var f=0;f<d;f++)c[f-0]=arguments[f];0===c.length&&(this.$$module_function=!1);return b},g.$$arity=-1);a.alias(f,"private","public");a.alias(f,"protected","public");a.alias(f,"nesting","public");a.defn(f,
"$private_class_method",h=function(a){return this},h.$$arity=-1);a.alias(f,"public_class_method","private_class_method");a.defn(f,"$private_method_defined?",l=function(a){return!1},l.$$arity=1);a.defn(f,"$private_constant",q=function(a){return b},q.$$arity=-1);a.alias(f,"protected_method_defined?","private_method_defined?");a.alias(f,"public_instance_methods","instance_methods");return a.alias(f,"public_method_defined?","method_defined?")})(h.base,null);(function(c){c=d(c,"Kernel");var b;a.defn(c,
"$private_methods",b=function(a){return[]},b.$$arity=-1);a.alias(c,"private_instance_methods","private_methods")})(h.base);(function(c){c=d(c,"Kernel");var b=c.$$scope,e;a.defn(c,"$eval",e=function(a){return this.$raise(b.get("NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.get("RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},e.$$arity=-1)})(h.base);a.defs(g,"$public",q=function(a){return b},q.$$arity=-1);
return(a.defs(g,"$private",e=function(a){return b},e.$$arity=-1),b)&&"private"};
(function(a){var l=a.top;a.add_stubs(["$require"]);l.$require("opal/base");l.$require("opal/mini");l.$require("corelib/string/inheritance");l.$require("corelib/string/encoding");l.$require("corelib/math");l.$require("corelib/complex");l.$require("corelib/rational");l.$require("corelib/time");l.$require("corelib/struct");l.$require("corelib/io");l.$require("corelib/main");l.$require("corelib/dir");l.$require("corelib/file");l.$require("corelib/process");return l.$require("corelib/unsupported")})(Opal);
Opal.modules.set=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var e=a.nil,g=a.klass,h=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(b,$super){function d(){}var h=d=g(b,$super,"Set",d),v=h.$$scope,k,n,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga;h.$$proto.hash=e;h.$include(v.get("Enumerable"));a.defs(h,"$[]",k=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var f=0;f<d;f++)b[f-0]=arguments[f];return this.$new(b)},k.$$arity=-1);a.defn(h,"$initialize",n=function(a){var b,d,f,g=n.$$p||e;null==a&&(a=e);n.$$p=null;this.hash=v.get("Hash").$new();if((b=a["$nil?"]())!==e&&null!=b&&(!b.$$is_boolean||
1==b))return e;((b=v.get("Enumerable")["$==="](a))===e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(v.get("ArgumentError"),"value must be enumerable");return!1!==g&&g!==e&&null!=g?(b=(d=a).$each,b.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=e);return b.$add(g.$call(a))},f.$$s=this,f.$$arity=1,f),b).call(d):this.$merge(a)},n.$$arity=-1);a.defn(h,"$dup",f=function(){var a=e,a=this.$class().$new();return a.$merge(this)},f.$$arity=0);a.defn(h,"$-",m=function(a){var b;((b=a["$respond_to?"]("each"))===
e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(v.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},m.$$arity=1);a.alias(h,"difference","-");a.defn(h,"$inspect",r=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},r.$$arity=0);a.defn(h,"$==",x=function(a){var b,d,f;return(b=this["$equal?"](a))===e||null==b||b.$$is_boolean&&1!=b?(b=a["$instance_of?"](this.$class()))===e||null==b||b.$$is_boolean&&1!=b?(b=(d=a["$is_a?"](v.get("Set")),!1!==d&&d!==e&&null!=d?this.$size()["$=="](a.$size()):
d))===e||null==b||b.$$is_boolean&&1!=b?!1:(b=(d=a)["$all?"],b.$$p=(f=function(a){var b=f.$$s||this;null==b.hash&&(b.hash=e);null==a&&(a=e);return b.hash["$include?"](a)},f.$$s=this,f.$$arity=1,f),b).call(d):this.hash["$=="](a.$instance_variable_get("@hash")):!0},x.$$arity=1);a.defn(h,"$add",E=function(a){this.hash["$[]="](a,!0);return this},E.$$arity=1);a.alias(h,"<<","add");a.defn(h,"$classify",B=function(){var b,d,f,g,h=B.$$p||e,k=e;B.$$p=null;if(h===e)return this.$enum_for("classify");k=(b=(d=
v.get("Hash")).$new,b.$$p=(f=function(a,b){var d=f.$$s||this;null==a&&(a=e);null==b&&(b=e);return a["$[]="](b,d.$class().$new())},f.$$s=this,f.$$arity=2,f),b).call(d);(b=this.$each,b.$$p=(g=function(b){null==b&&(b=e);return k["$[]"](a.yield1(h,b)).$add(b)},g.$$s=this,g.$$arity=1,g),b).call(this);return k},B.$$arity=0);a.defn(h,"$collect!",t=function(){var b,d,f=t.$$p||e,g=e;t.$$p=null;if(f===e)return this.$enum_for("collect!");g=this.$class().$new();(b=this.$each,b.$$p=(d=function(b){null==b&&(b=
e);return g["$<<"](a.yield1(f,b))},d.$$s=this,d.$$arity=1,d),b).call(this);return this.$replace(g)},t.$$arity=0);a.alias(h,"map!","collect!");a.defn(h,"$delete",u=function(a){this.hash.$delete(a);return this},u.$$arity=1);a.defn(h,"$delete?",D=function(a){var b;if((b=this["$include?"](a))===e||null==b||b.$$is_boolean&&1!=b)return e;this.$delete(a);return this},D.$$arity=1);a.defn(h,"$delete_if",G=function(){try{var b,d,f,g,h,k=G.$$p||e;G.$$p=null;!1!==(b=k!==e)&&b!==e&&null!=b?b:a.ret(this.$enum_for("delete_if"));
(b=(d=(g=this.$select,g.$$p=(h=function(b){null==b&&(b=e);return a.yield1(k,b)},h.$$s=this,h.$$arity=1,h),g).call(this)).$each,b.$$p=(f=function(a){var b=f.$$s||this;null==b.hash&&(b.hash=e);null==a&&(a=e);return b.hash.$delete(a)},f.$$s=this,f.$$arity=1,f),b).call(d);return this}catch(l){if(l===a.returner)return l.$v;throw l;}},G.$$arity=0);a.defn(h,"$add?",z=function(a){var b;return(b=this["$include?"](a))===e||null==b||b.$$is_boolean&&1!=b?this.$add(a):e},z.$$arity=1);a.defn(h,"$each",I=function(){var a,
b,d=I.$$p||e;I.$$p=null;if(d===e)return this.$enum_for("each");(a=(b=this.hash).$each_key,a.$$p=d.$to_proc(),a).call(b);return this},I.$$arity=0);a.defn(h,"$empty?",J=function(){return this.hash["$empty?"]()},J.$$arity=0);a.defn(h,"$eql?",F=function(a){var b,d;return this.hash["$eql?"]((b=a.$instance_eval,b.$$p=(d=function(){var a=d.$$s||this;null==a.hash&&(a.hash=e);return a.hash},d.$$s=this,d.$$arity=0,d),b).call(a))},F.$$arity=1);a.defn(h,"$clear",y=function(){this.hash.$clear();return this},y.$$arity=
0);a.defn(h,"$include?",M=function(a){return this.hash["$include?"](a)},M.$$arity=1);a.alias(h,"member?","include?");a.defn(h,"$merge",N=function(a){var b,d;(b=a.$each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b.$add(a)},d.$$s=this,d.$$arity=1,d),b).call(a);return this},N.$$arity=1);a.defn(h,"$replace",Q=function(a){this.$clear();this.$merge(a);return this},Q.$$arity=1);a.defn(h,"$size",V=function(){return this.hash.$size()},V.$$arity=0);a.alias(h,"length","size");a.defn(h,"$subtract",
T=function(a){var b,d;(b=a.$each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b.$delete(a)},d.$$s=this,d.$$arity=1,d),b).call(a);return this},T.$$arity=1);a.defn(h,"$|",Y=function(a){var b;((b=a["$respond_to?"]("each"))===e||null==b||b.$$is_boolean&&1!=b)&&this.$raise(v.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},Y.$$arity=1);a.defn(h,"$superset?",S=function(a){var b,d;!1!==(b=a["$is_a?"](v.get("Set")))&&b!==e&&null!=b?b:this.$raise(v.get("ArgumentError"),
"value must be a set");return(b=l(this.$size(),a.$size()))===e||null==b||b.$$is_boolean&&1!=b?(b=a["$all?"],b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d),b).call(a):!1},S.$$arity=1);a.alias(h,">=","superset?");a.defn(h,"$proper_superset?",A=function(a){var b,d;!1!==(b=a["$is_a?"](v.get("Set")))&&b!==e&&null!=b?b:this.$raise(v.get("ArgumentError"),"value must be a set");return(b=q(this.$size(),a.$size()))===e||null==b||b.$$is_boolean&&1!=
b?(b=a["$all?"],b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d),b).call(a):!1},A.$$arity=1);a.alias(h,">","proper_superset?");a.defn(h,"$subset?",W=function(a){var b,d;!1!==(b=a["$is_a?"](v.get("Set")))&&b!==e&&null!=b?b:this.$raise(v.get("ArgumentError"),"value must be a set");return(b=l(a.$size(),this.$size()))===e||null==b||b.$$is_boolean&&1!=b?(b=this["$all?"],b.$$p=(d=function(b){null==b&&(b=e);return a["$include?"](b)},d.$$s=this,d.$$arity=
1,d),b).call(this):!1},W.$$arity=1);a.alias(h,"<=","subset?");a.defn(h,"$proper_subset?",aa=function(a){var b,d;!1!==(b=a["$is_a?"](v.get("Set")))&&b!==e&&null!=b?b:this.$raise(v.get("ArgumentError"),"value must be a set");return(b=q(a.$size(),this.$size()))===e||null==b||b.$$is_boolean&&1!=b?(b=this["$all?"],b.$$p=(d=function(b){null==b&&(b=e);return a["$include?"](b)},d.$$s=this,d.$$arity=1,d),b).call(this):!1},aa.$$arity=1);a.alias(h,"<","proper_subset?");a.alias(h,"+","|");a.alias(h,"union","|");
return(a.defn(h,"$to_a",ga=function(){return this.hash.$keys()},ga.$$arity=0),e)&&"to_a"})(a.base,null);return function(b){b=h(b,"Enumerable");var c=b.$$scope,d;a.defn(b,"$to_set",d=function(b,g){var h,l,f,m=d.$$p||e;null==b&&(b=c.get("Set"));var q=arguments.length;f=q-1;0>f&&(f=0);f=Array(f);for(var x=1;x<q;x++)f[x-1]=arguments[x];d.$$p=null;return(h=(l=b).$new,h.$$p=m.$to_proc(),h).apply(l,[this].concat(a.to_a(f)))},d.$$arity=-1)}(a.base)};
Opal.modules.strscan=function(a){var l=a.nil,q=a.klass;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(e,$super){function h(){}var b=h=q(e,$super,"StringScanner",h),c=b.$$proto,d,w,v,k,n,f,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V;c.pos=c.string=c.working=c.matched=c.prev_pos=c.match=l;b.$attr_reader("pos");b.$attr_reader("matched");a.defn(b,"$initialize",d=function(a){this.string=a;this.pos=0;this.matched=l;this.working=a;return this.match=
[]},d.$$arity=1);b.$attr_reader("string");a.defn(b,"$beginning_of_line?",w=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},w.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.defn(b,"$scan",v=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=l:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=
this.working.substring(a.length),a):l},v.$$arity=1);a.defn(b,"$scan_until",k=function(a){a=this.$anchor(a);for(var c=this.pos,b=this.working,d;;)if(d=a.exec(b),c+=1,b=b.substr(1),null==d){if(0===b.length)return this.matched=l}else return this.matched=this.string.substr(this.pos,c-this.pos-1+d[0].length),this.prev_pos=c-1,this.pos=c,this.working=b.substr(d[0].length),this.matched},k.$$arity=1);a.defn(b,"$[]",n=function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?l:c[a]},
n.$$arity=1);a.defn(b,"$check",f=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=l:this.matched=a[0]},f.$$arity=1);a.defn(b,"$check_until",m=function(a){var c=this.prev_pos,b=this.pos;a=this.$scan_until(a);a!==l&&(this.matched=a.substr(-1),this.working=this.string.substr(b));this.prev_pos=c;this.pos=b;return a},m.$$arity=1);a.defn(b,"$peek",r=function(a){return this.working.substring(0,a)},r.$$arity=1);a.defn(b,"$eos?",x=function(){return 0===this.working.length},
x.$$arity=0);a.defn(b,"$exist?",E=function(a){a=a.exec(this.working);return null==a?l:0==a.index?0:a.index+1},E.$$arity=1);a.defn(b,"$skip",B=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=l;a=a[0];var c=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c},B.$$arity=1);a.defn(b,"$skip_until",t=function(a){a=this.$scan_until(a);if(a===l)return l;this.matched=a.substr(-1);return a.length},t.$$arity=1);a.defn(b,
"$get_byte",u=function(){var a=l;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=l;return a},u.$$arity=0);a.alias(b,"getch","get_byte");a.defn(b,"$match?",D=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return l;this.prev_pos=this.pos;return a[0].length},D.$$arity=1);a.defn(b,"$pos=",G=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},
G.$$arity=1);a.defn(b,"$post_match",z=function(){return this.matched===l?l:this.string.substr(this.pos)},z.$$arity=0);a.defn(b,"$pre_match",I=function(){return this.matched===l?l:this.string.substr(0,this.prev_pos)},I.$$arity=0);a.defn(b,"$reset",J=function(){this.working=this.string;this.matched=l;return this.pos=0},J.$$arity=0);a.defn(b,"$rest",F=function(){return this.working},F.$$arity=0);a.defn(b,"$rest?",y=function(){return 0!==this.working.length},y.$$arity=0);a.defn(b,"$rest_size",M=function(){return this.$rest().$size()},
M.$$arity=0);a.defn(b,"$terminate",N=function(){var a;this.match=l;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]},N.$$arity=0);a.defn(b,"$unscan",Q=function(){this.pos=this.prev_pos;this.match=this.prev_pos=l;return this},Q.$$arity=0);b.$private();return(a.defn(b,"$anchor",V=function(a){return new RegExp("^(?:"+a.toString().substr(1,a.toString().length-2)+")")},V.$$arity=1),l)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){var l=a.nil,q=a.module,e=a.klass,g=a.gvars;a.add_stubs("$new $attr_reader $== $read $size $to_enum $chomp $each_line $readlines $split $===".split(" "));(function(e){e=q(e,"Kernel");var b=e.$$scope,c;a.defn(e,"$open",c=function(d,e){var g,h,q=c.$$p||l,f=l,f=arguments.length;h=f-1;0>h&&(h=0);h=Array(h);for(var m=1;m<f;m++)h[m-1]=arguments[m];c.$$p=null;f=(g=b.get("File")).$new.apply(g,[d].concat(a.to_a(h)));return q!==l?a.yield1(q,f):f},c.$$arity=
-2)})(a.base);(function(h,$super){function c(){}var d=c=e(h,$super,"File",c),q=d.$$proto,v=d.$$scope,k,n,f,m,r,x,E,B;q.eof=q.path=l;a.cdecl(v,"SEPARATOR","/");a.cdecl(v,"ALT_SEPARATOR",l);d.$attr_reader("eof");d.$attr_reader("lineno");d.$attr_reader("path");a.defn(d,"$initialize",k=function(a,c){null==c&&(c="r");this.path=a;this.contents=l;this.eof=!1;this.lineno=0;return v.get("JAVASCRIPT_PLATFORM")["$=="]("node")?this.fd=require("fs").openSync(a,c):l},k.$$arity=-2);a.defn(d,"$read",n=function(){var a,
c=l;return(a=this.eof)===l||null==a||a.$$is_boolean&&1!=a?(c=v.get("File").$read(this.path),this.eof=!0,this.lineno=c.$size(),c):""},n.$$arity=0);a.defn(d,"$each_line",f=function(c){var d,e=f.$$p||l,h=l;null==g["/"]&&(g["/"]=l);null==c&&(c=g["/"]);f.$$p=null;if((d=this.eof)!==l&&null!=d&&(!d.$$is_boolean||1==d))return e!==l?this:[].$to_enum();if(e!==l){h=v.get("File").$read(this.path);this.eof=!1;this.lineno=0;d=h.$chomp();h=h.length!=d.length;d=d.split(c);for(var k=0,m=d.length;k<m;k++)this.lineno+=
1,k<m-1||h?a.yield1(e,d[k]+c):a.yield1(e,d[k]);this.eof=!0;return this}return this.$read().$each_line()},f.$$arity=-1);a.defn(d,"$readlines",m=function(){return v.get("File").$readlines(this.path)},m.$$arity=0);a.defs(d,"$readlines",r=function(a,c){var d=l;null==g["/"]&&(g["/"]=l);null==c&&(c=g["/"]);d=v.get("File").$read(a);return d.$split(c)},r.$$arity=-2);a.defs(d,"$file?",x=function(a){return!0},x.$$arity=1);a.defs(d,"$readable?",E=function(a){return!0},E.$$arity=1);return(a.defs(d,"$read",B=
function(a){var c=l;return function(){c=v.get("JAVASCRIPT_PLATFORM");if("node"["$==="](c))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](c)){var d=Java.type("java.nio.file.Paths"),f=[];Java.type("java.nio.file.Files").readAllLines(d.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){f.push(a)});return f.join("\n")}if("browser"["$==="](c)){var f="",e=-1;try{d=new XMLHttpRequest,d.open("GET",a,!1),d.addEventListener("load",function(){e=this.status;
if(0==e||200==e)f=this.responseText}),d.overrideMimeType("text/plain"),d.send()}catch(g){e=0}if(404==e||0==e&&""==f)throw v.get("IOError").$new("No such file or directory: "+a);return f}return"standalone"["$==="](c)?read(a):""}()},B.$$arity=1),l)&&"read"})(a.base,null);return function(g,$super){function c(){}var d=c=e(g,$super,"IO",c),q=d.$$scope,v;return(a.defs(d,"$read",v=function(a){return q.get("File").$read(a)},v.$$arity=1),l)&&"read"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){var l=a.nil,q=a.klass;a.add_stubs(["$[]="]);return function(e,$super){function h(){}var b=h=q(e,$super,"MatchData",h),c;b.$$proto.matches=l;return(a.defn(b,"$[]=",c=function(a,c){return this.matches["$[]="](a,c)},c.$$arity=2),l)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){var l=a.nil,q=a.module;return function(e){e=q(e,"Kernel");var g;a.defn(e,"$freeze",g=function(){return l},g.$$arity=0)}(a.base)};
Opal.modules["asciidoctor/opal_ext/thread_safe"]=function(a){var l=a.nil,q=a.module,e=a.klass;q(a.base,"ThreadSafe");l;return function(a,$super){function b(){}b=e(a,$super,"Cache",b);return l}(a.base,a.get("Hash"))};
Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){var l;l=a.nil;var q=a.gvars;null==q.stdout&&(q.stdout=l);null==q.stderr&&(q.stderr=l);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];l=q.stdout;l["$write_proc="].apply(l,a);a[a.length-1];return a=[function(a){print(a)}],l=q.stderr,l["$write_proc="].apply(l,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext/electron/io"]=function(a){var l;l=a.nil;var q=a.gvars;null==q.stdout&&(q.stdout=l);null==q.stderr&&(q.stderr=l);a.add_stubs(["$write_proc="]);a=[function(a){console.log(a)}];l=q.stdout;l["$write_proc="].apply(l,a);a[a.length-1];return a=[function(a){console.error(a)}],l=q.stderr,l["$write_proc="].apply(l,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){var l=a.top,q=a.nil,e=q;a.add_stubs(["$require","$==="]);var e="undefined"!==typeof module&&module.exports,g="object"===typeof process&&"object"===process.versions&&"string"===process.versions.electron,h="undefined"!==typeof Java&&Java.type,b="undefined"!==typeof java;a.cdecl(a,"JAVASCRIPT_PLATFORM","undefined"!==typeof window?"browser":e?g?"node-electron":"node":h?"java-nashorn":b?"java-rhino":"standalone");l.$require("strscan");l.$require("asciidoctor/opal_ext/file");
l.$require("asciidoctor/opal_ext/match_data");l.$require("asciidoctor/opal_ext/kernel");l.$require("asciidoctor/opal_ext/thread_safe");e=a.get("JAVASCRIPT_PLATFORM");return"java-nashorn"["$==="](e)?l.$require("asciidoctor/opal_ext/nashorn/io"):"node-electron"["$==="](e)?l.$require("asciidoctor/opal_ext/electron/io"):q};Opal.modules["asciidoctor/version"]=function(a){var l=a.module,l=l(a.base,"Asciidoctor").$$scope;a.cdecl(l,"VERSION","1.5.4")};
Opal.modules["asciidoctor/timings"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var g=a.nil,h=a.module,b=a.klass,c=a.hash2,d=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(w){(function(h,$super){function n(){}
var f=n=b(h,$super,"Timings",n),m=f.$$proto,r,w,E,B,t,u,D,G;m.timers=m.log=g;a.defn(f,"$initialize",r=function(){this.log=c([],{});return this.timers=c([],{})},r.$$arity=0);a.defn(f,"$start",w=function(c){return this.timers["$[]="](c,a.get("Time").$now())},w.$$arity=1);a.defn(f,"$record",E=function(c){return this.log["$[]="](c,l(a.get("Time").$now(),this.timers.$delete(c)))},E.$$arity=1);a.defn(f,"$read_parse",B=function(){var a,c,b=g;return(a=q(b=e(!1!==(c=this.log["$[]"]("read"))&&c!==g&&null!=
c?c:0,!1!==(c=this.log["$[]"]("parse"))&&c!==g&&null!=c?c:0),0))===g||null==a||a.$$is_boolean&&1!=a?g:b},B.$$arity=0);a.defn(f,"$convert",t=function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==g&&null!=a?a:0},t.$$arity=0);a.defn(f,"$read_parse_convert",u=function(){var a,c,b=g;return(a=q(b=e(e(!1!==(c=this.log["$[]"]("read"))&&c!==g&&null!=c?c:0,!1!==(c=this.log["$[]"]("parse"))&&c!==g&&null!=c?c:0),!1!==(c=this.log["$[]"]("convert"))&&c!==g&&null!=c?c:0),0))===g||null==a||a.$$is_boolean&&
1!=a?g:b},u.$$arity=0);a.defn(f,"$total",D=function(){var a,c,b=g;return(a=q(b=e(e(e(!1!==(c=this.log["$[]"]("read"))&&c!==g&&null!=c?c:0,!1!==(c=this.log["$[]"]("parse"))&&c!==g&&null!=c?c:0),!1!==(c=this.log["$[]"]("convert"))&&c!==g&&null!=c?c:0),!1!==(c=this.log["$[]"]("write"))&&c!==g&&null!=c?c:0),0))===g||null==a||a.$$is_boolean&&1!=a?g:b},D.$$arity=0);return(a.defn(f,"$print_report",G=function(a,c){null==d.stdout&&(d.stdout=g);null==a&&(a=d.stdout);null==c&&(c=g);!1!==c&&c!==g&&null!=c&&a.$puts("Input file: "+
c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},G.$$arity=-1),g)&&"print_report"})(h(w,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/object/nil_or_empty"]=function(a){var l=a.nil,q=a.klass;a.add_stubs(["$respond_to?"]);(function(e,$super){function h(){}var b=h=q(e,$super,"NilClass",h),c;return(c=b["$respond_to?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","nil?"):l})(a.base,null);(function(e,$super){function h(){}var b=h=q(e,$super,"String",h),c;return(c=b["$respond_to?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","empty?"):
l})(a.base,null);(function(e,$super){function h(){}var b=h=q(e,$super,"Array",h),c;return(c=b["$respond_to?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","empty?"):l})(a.base,null);(function(e,$super){function h(){}var b=h=q(e,$super,"Hash",h),c;return(c=b["$respond_to?"]("nil_or_empty?"))===l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","empty?"):l})(a.base,null);return function(e,$super){function h(){}var b=h=q(e,$super,"Numeric",h),c;return(c=b["$respond_to?"]("nil_or_empty?"))===
l||null==c||c.$$is_boolean&&1!=c?a.alias(b,"nil_or_empty?","nil?"):l}(a.base,null)};Opal.modules["asciidoctor/core_ext"]=function(a){var l=a.top,q=a.nil;a.add_stubs(["$require","$=="]);l.$require("asciidoctor/core_ext/object/nil_or_empty");if(a.get("RUBY_ENGINE")["$=="]("opal"))return q};
Opal.modules["asciidoctor/helpers"]=function(a){var l=a.nil,q=a.module,e=a.range,g=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(h){(function(b){b=q(b,"Helpers");
var c=b.$$scope,d,h,v,k,n,f,m,r,x,E;a.defs(b,"$require_library",d=function(c,b,d){var f=l,e=l;null==b&&(b=!0);null==d&&(d="abort");try{return this.$require(c)}catch(g){if(a.rescue(g,[a.get("LoadError")])){f=g;try{if(!1!==b&&b!==l&&null!=b)return b["$=="](!0)&&(b=c),e=d,"abort"["$==="](e)?this.$fail("asciidoctor: FAILED: required gem '"+b+"' is not installed. Processing aborted."):"warn"["$==="](e)?this.$warn("asciidoctor: WARNING: optional gem '"+b+"' is not installed. Functionality disabled."):l;
e=d;return"abort"["$==="](e)?this.$fail("asciidoctor: FAILED: "+f.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](e)?this.$warn("asciidoctor: WARNING: "+f.$message().$chomp(".")+". Functionality disabled."):l}finally{a.pop_exception()}}else throw g;}},d.$$arity=-2);a.defs(b,"$normalize_lines",h=function(c){return c.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(c):this.$normalize_lines_array(c)},h.$$arity=1);a.defs(b,"$normalize_lines_array",v=function(b){var d,
f,g,h,k,m,q=l,n=l,y=l,r=l;if((d=b["$empty?"]())!==l&&null!=d&&(!d.$$is_boolean||1==d))return[];q=(n=b["$[]"](0))["$[]"](e(0,2,!1)).$bytes().$to_a();if((d=c.get("COERCE_ENCODING"))===l||null==d||d.$$is_boolean&&1!=d){if(q["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,n["$[]"](e(3,-1,!1)));return(d=b.$map,d.$$p=(m=function(a){null==a&&(a=l);return a.$rstrip()},m.$$s=this,m.$$arity=1,m),d).call(b)}y=a.get("Encoding").$$scope.get("UTF_8");if((r=q["$[]"](e(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE")))return(d=
(f=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(y).$lines()).$map,d.$$p=(g=function(a){null==a&&(a=l);return a.$rstrip()},g.$$s=this,g.$$arity=1,g),d).call(f);if(r["$=="](c.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,n.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](e(1,-1,!1))),(d=b.$map,d.$$p=(h=function(c){null==c&&(c=l);return""+c.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(y).$rstrip()},h.$$s=this,h.$$arity=
1,h),d).call(b);if(q["$[]"](e(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8")))b["$[]="](0,n.$force_encoding(y)["$[]"](e(1,-1,!1)));return(d=b.$map,d.$$p=(k=function(a){null==a&&(a=l);return a.$encoding()["$=="](y)?a.$rstrip():a.$force_encoding(y).$rstrip()},k.$$s=this,k.$$arity=1,k),d).call(b)},v.$$arity=1);a.defs(b,"$normalize_lines_from_string",k=function(b){var d,f,g,h=l,k=l,m=l;if((d=b["$nil_or_empty?"]())!==l&&null!=d&&(!d.$$is_boolean||1==d))return[];(d=c.get("COERCE_ENCODING"))===l||null==d||d.$$is_boolean&&
1!=d?b["$[]"](e(0,2,!1)).$bytes().$to_a()["$=="](c.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](e(3,-1,!1))):(h=a.get("Encoding").$$scope.get("UTF_8"),k=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(m=k["$[]"](e(0,1,!1)))["$=="](c.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](e(1,-1,!1)).$encode(h):m["$=="](c.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](e(1,-1,!1)).$encode(h):k["$[]"](e(0,2,!1))["$=="](c.get("BOM_BYTES_UTF_8"))?
b=b.$encoding()["$=="](h)?b["$[]"](e(1,-1,!1)):b.$force_encoding(h)["$[]"](e(1,-1,!1)):b.$encoding()["$=="](h)||(b=b.$force_encoding(h)));return(d=(f=b.$each_line()).$map,d.$$p=(g=function(a){null==a&&(a=l);return a.$rstrip()},g.$$s=this,g.$$arity=1,g),d).call(f)},k.$$arity=1);a.defs(b,"$uriish?",n=function(a){var b;return b=a["$include?"](":"),!1!==b&&b!==l&&null!=b?a["$=~"](c.get("UriSniffRx")):b},n.$$arity=1);a.defs(b,"$uri_prefix",f=function(a){var b,d;return(b=(d=a["$include?"](":"),!1!==d&&
d!==l&&null!=d?a["$=~"](c.get("UriSniffRx")):d))===l||null==b||b.$$is_boolean&&1!=b?l:(b=g["~"])===l?l:b["$[]"](0)},f.$$arity=1);a.cdecl(c,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(b,"$encode_uri",m=function(a){var b,d;return(b=a.$gsub,b.$$p=(d=function(){var a=d.$$s||this,c,b,f,e;return(c=(b=((e=g["~"])===l?l:e["$[]"](0)).$each_byte()).$map,c.$$p=(f=function(a){var c=f.$$s||this;null==a&&(a=l);return c.$sprintf("%%%02X",a)},f.$$s=a,f.$$arity=1,f),c).call(b).$join()},d.$$s=this,
d.$$arity=0,d),b).call(a,c.get("REGEXP_ENCODE_URI_CHARS"))},m.$$arity=1);a.defs(b,"$rootname",r=function(c){var b,d=l;return(b=(d=a.get("File").$extname(c))["$empty?"]())===l||null==b||b.$$is_boolean&&1!=b?c["$[]"](e(0,d.$length()["$-@"](),!0)):c},r.$$arity=1);a.defs(b,"$basename",x=function(c,b){var d;null==b&&(b=!1);return!1!==b&&b!==l&&null!=b?a.get("File").$basename(c,!1!==(d=a.get("File").$extname(c))&&d!==l&&null!=d?d:""):a.get("File").$basename(c)},x.$$arity=-2);a.defs(b,"$mkdir_p",E=function(c){var b,
d,f=l;return(b=a.get("File")["$directory?"](c))===l||null==b||b.$$is_boolean&&1!=b?(f=a.get("File").$dirname(c),(b=(d=a.get("File")["$directory?"](f=a.get("File").$dirname(c))["$!"](),!1!==d&&d!==l&&null!=d?f["$!="]("."):d))===l||null==b||b.$$is_boolean&&1!=b||this.$mkdir_p(f),a.get("Dir").$mkdir(c)):l},E.$$arity=1)})(q(h,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=a.nil,b=a.slice,c=a.module,d=a.hash2,w=a.gvars,v=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $gsub! $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_lines_to_highlight $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(k){(function(k){k=c(k,"Substitutors");var f=k.$$scope,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa;a.cdecl(f,"SPECIAL_CHARS",d(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(f,"SPECIAL_CHARS_PATTERN",new RegExp("["+f.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(f,"SUBS",d("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),
verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),header:["specialcharacters","attributes"],pass:[]}));a.cdecl(f,"COMPOSITE_SUBS",d(["none","normal","verbatim","specialchars"],{none:[],normal:f.get("SUBS")["$[]"]("normal"),verbatim:f.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(f,"SUB_SYMBOLS",d("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",
r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(f,"SUB_OPTIONS",d(["block","inline"],{block:l(l(f.get("COMPOSITE_SUBS").$keys(),f.get("SUBS")["$[]"]("normal")),["callouts"]),inline:l(f.get("COMPOSITE_SUBS").$keys(),f.get("SUBS")["$[]"]("normal"))}));a.cdecl(f,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(f,"PASS_START","\u0096");a.cdecl(f,"PASS_END","\u0097");a.cdecl(f,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(f,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);
k.$attr_reader("passthroughs");a.defn(k,"$apply_subs",m=function(c,b,d){var e,g,k,m,n,u=h,y=h,r=h,t=h;null==this.passthroughs&&(this.passthroughs=h);null==b&&(b="normal");null==d&&(d=!1);if((e=b["$!"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return c;b["$=="]("normal")?b=f.get("SUBS")["$[]"]("normal"):!1!==d&&d!==h&&null!=d&&((e=a.get("Symbol")["$==="](b))===h||null==e||e.$$is_boolean&&1!=e?(u=[],(e=(g=b).$each,e.$$p=(k=function(a){var c;null==a&&(a=h);return(c=f.get("COMPOSITE_SUBS")["$has_key?"](a))===
h||null==c||c.$$is_boolean&&1!=c?u["$<<"](a):u=l(u,f.get("COMPOSITE_SUBS")["$[]"](a))},k.$$s=this,k.$$arity=1,k),e).call(g),b=u):b=!1!==(e=f.get("COMPOSITE_SUBS")["$[]"](b))&&e!==h&&null!=e?e:[b]);if((e=b["$empty?"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return c;y=(e=r=a.get("Array")["$==="](c))===h||null==e||e.$$is_boolean&&1!=e?c:q(c,f.get("EOL"));(e=t=b["$include?"]("macros"))===h||null==e||e.$$is_boolean&&1!=e||(y=this.$extract_passthroughs(y),(e=this.passthroughs["$empty?"]())===h||null==
e||e.$$is_boolean&&1!=e||(t=!1));(e=(m=b).$each,e.$$p=(n=function(a){var c=n.$$s||this,d,e=h;null==a&&(a=h);e=a;return"specialcharacters"["$==="](e)?y=c.$sub_specialchars(y):"quotes"["$==="](e)?y=c.$sub_quotes(y):"attributes"["$==="](e)?y=q(c.$sub_attributes(y.$split(f.get("EOL"))),f.get("EOL")):"replacements"["$==="](e)?y=c.$sub_replacements(y):"macros"["$==="](e)?y=c.$sub_macros(y):"highlight"["$==="](e)?y=c.$highlight_source(y,b["$include?"]("callouts")):"callouts"["$==="](e)?(d=b["$include?"]("highlight"))===
h||null==d||d.$$is_boolean&&1!=d?y=c.$sub_callouts(y):h:"post_replacements"["$==="](e)?y=c.$sub_post_replacements(y):c.$warn("asciidoctor: WARNING: unknown substitution type "+a)},n.$$s=this,n.$$arity=1,n),e).call(m);!1!==t&&t!==h&&null!=t&&(y=this.$restore_passthroughs(y));return!1!==r&&r!==h&&null!=r?y.$split(f.get("EOL")):y},m.$$arity=-2);a.defn(k,"$apply_normal_subs",r=function(c){var b;return this.$apply_subs((b=a.get("Array")["$==="](c))===h||null==b||b.$$is_boolean&&1!=b?c:q(c,f.get("EOL")))},
r.$$arity=1);a.defn(k,"$apply_title_subs",x=function(a){return this.$apply_subs(a,f.get("SUBS")["$[]"]("title"))},x.$$arity=1);a.defn(k,"$apply_header_subs",E=function(a){return this.$apply_subs(a,f.get("SUBS")["$[]"]("header"))},E.$$arity=1);a.defn(k,"$extract_passthroughs",B=function(c){var b,k,l,m,n,u,y,r,t=h,x=h,A=h,F=h;null==this.document&&(this.document=h);t=this.document.$compat_mode();(b=!1!==(k=!1!==(l=c["$include?"]("++"))&&l!==h&&null!=l?l:c["$include?"]("$$"))&&k!==h&&null!=k?k:c["$include?"]("ss:"))===
h||null==b||b.$$is_boolean&&1!=b||(c=(b=(k=c).$gsub,b.$$p=(m=function(){var c=m.$$s||this,b,k=h,l=h,p=h,n=p=h,u=h,X=h,y=h,k=h;null==c.passthroughs&&(c.passthroughs=h);null==w["~"]&&(w["~"]=h);k=w["~"];l=h;if((b=(p=k["$[]"](4))["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&1!=b){if((b=!1!==t&&t!==h&&null!=t?p["$=="]("++"):t)!==h&&null!=b&&(!b.$$is_boolean||1==b))return(b=k["$[]"](2)["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&1!=b?""+k["$[]"](1)+"["+k["$[]"](2)+"]"+k["$[]"](3)+"++"+c.$extract_passthroughs(k["$[]"](5))+
"++":""+k["$[]"](1)+k["$[]"](3)+"++"+c.$extract_passthroughs(k["$[]"](5))+"++";n=k["$[]"](2);(b=a.get("RUBY_ENGINE_OPAL"))===h||null==b||b.$$is_boolean&&1!=b||n["$=="]("")&&(n=h);u=k["$[]"](3).$size();X=k["$[]"](5);y=!1;if(!1!==n&&n!==h&&null!=n)if((b=e(u,0))===h||null==b||b.$$is_boolean&&1!=b)k["$[]"](1)["$=="]("\\")?(l="["+n+"]",n=h):((b=p["$=="]("++")?n["$end_with?"]("x-"):p["$=="]("++"))===h||null==b||b.$$is_boolean&&1!=b||(y=!0,n=n["$[]"](v(0,-2,!0))),n=c.$parse_attributes(n));else return""+
k["$[]"](1)+"["+n+"]"+q("\\",g(u,1))+p+k["$[]"](5)+p+")";else if((b=e(u,0))!==h&&null!=b&&(!b.$$is_boolean||1==b))return""+k["$[]"](1)+"["+n+"]"+q("\\",g(u,1))+p+k["$[]"](5)+p;k=p["$=="]("+++")?[]:["specialcharacters"];p=c.passthroughs.$size();if(!1!==n&&n!==h&&null!=n)if(!1!==y&&y!==h&&null!=y)c.passthroughs["$[]="](p,d(["text","subs","type","attributes"],{text:X,subs:f.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:n}));else c.passthroughs["$[]="](p,d(["text","subs","type","attributes"],
{text:X,subs:k,type:"unquoted",attributes:n}));else c.passthroughs["$[]="](p,d(["text","subs"],{text:X,subs:k}))}else{if(k["$[]"](6)["$=="]("\\"))return k["$[]"](0)["$[]"](v(1,-1,!1));c.passthroughs["$[]="](p=c.passthroughs.$size(),d(["text","subs"],{text:c.$unescape_brackets(k["$[]"](8)),subs:(b=k["$[]"](7)["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&1!=b?c.$resolve_pass_subs(k["$[]"](7)):[]}))}return""+l+f.get("PASS_START")+p+f.get("PASS_END")},m.$$s=this,m.$$arity=0,m),b).call(k,f.get("PassInlineMacroRx")));
l=f.get("PassInlineRx")["$[]"](t);b=a.to_ary(l);x=null==b[0]?h:b[0];A=null==b[1]?h:b[1];F=null==b[2]?h:b[2];l;(b=!1!==(l=c["$include?"](x))&&l!==h&&null!=l?l:(n=!1!==A&&A!==h&&null!=A)?c["$include?"](A):A)===h||null==b||b.$$is_boolean&&1!=b||(c=(b=(l=c).$gsub,b.$$p=(u=function(){var c=u.$$s||this,b,e=h,g=h,p=h,k=h,l=h,m=h,q=h,l=e=h;null==c.passthroughs&&(c.passthroughs=h);null==w["~"]&&(w["~"]=h);e=w["~"];g=e["$[]"](1);p=e["$[]"](2);k=(b=e["$[]"](3)["$start_with?"]("\\"))===h||null==b||b.$$is_boolean&&
1!=b?h:"\\";l=e["$[]"](4);m=e["$[]"](5);(b=a.get("RUBY_ENGINE_OPAL"))===h||null==b||b.$$is_boolean&&1!=b||p["$=="]("")&&(p=h);!1!==t&&t!==h&&null!=t?q=!0:(b=q=!1!==p&&p!==h&&null!=p?p["$end_with?"]("x-"):p)===h||null==b||b.$$is_boolean&&1!=b||(p=p["$[]"](v(0,-2,!0)));if(!1!==p&&p!==h&&null!=p){if((b=l["$=="]("`")?q["$!"]():l["$=="]("`"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return""+g+"["+p+"]"+k+"`"+c.$extract_passthroughs(m)+"`";if(!1!==k&&k!==h&&null!=k)return""+g+"["+p+"]"+e["$[]"](3)["$[]"](v(1,
-1,!1));g["$=="]("\\")?(g="["+p+"]",p=h):p=c.$parse_attributes(p)}else{if((b=l["$=="]("`")?q["$!"]():l["$=="]("`"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return""+g+k+"`"+c.$extract_passthroughs(m)+"`";if(!1!==k&&k!==h&&null!=k)return""+g+e["$[]"](3)["$[]"](v(1,-1,!1))}e=c.passthroughs.$size();if(!1!==t&&t!==h&&null!=t)c.passthroughs["$[]="](e,d(["text","subs","attributes","type"],{text:m,subs:["specialcharacters"],attributes:p,type:"monospaced"}));else if(!1!==p&&p!==h&&null!=p)if(!1!==q&&q!==h&&
null!=q)l=l["$=="]("`")?["specialcharacters"]:f.get("SUBS")["$[]"]("normal"),c.passthroughs["$[]="](e,d(["text","subs","attributes","type"],{text:m,subs:l,attributes:p,type:"monospaced"}));else c.passthroughs["$[]="](e,d(["text","subs","attributes","type"],{text:m,subs:["specialcharacters"],attributes:p,type:"unquoted"}));else c.passthroughs["$[]="](e,d(["text","subs"],{text:m,subs:["specialcharacters"]}));return""+g+f.get("PASS_START")+e+f.get("PASS_END")},u.$$s=this,u.$$arity=0,u),b).call(l,F));
(b=(n=c["$include?"](":"),!1!==n&&n!==h&&null!=n?!1!==(y=c["$include?"]("stem:"))&&y!==h&&null!=y?y:c["$include?"]("math:"):n))===h||null==b||b.$$is_boolean&&1!=b||(c=(b=(n=c).$gsub,b.$$p=(r=function(){var a=r.$$s||this,c,b=h,e=h,g=h,k=h,l=b=h;null==a.document&&(a.document=h);null==a.passthroughs&&(a.passthroughs=h);null==w["~"]&&(w["~"]=h);b=w["~"];if((c=b["$[]"](0)["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return b["$[]"](0)["$[]"](v(1,-1,!1));(e=b["$[]"](1).$to_sym())["$=="]("stem")&&
(e=((c=(g=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c?g:"asciimath").$to_sym());k=a.$unescape_brackets(b["$[]"](3));b=(c=b["$[]"](2)["$nil_or_empty?"]())===h||null==c||c.$$is_boolean&&1!=c?a.$resolve_pass_subs(b["$[]"](2)):(c=a.document["$basebackend?"]("html"))===h||null==c||c.$$is_boolean&&1!=c?[]:["specialcharacters"];a.passthroughs["$[]="](l=a.passthroughs.$size(),d(["text","subs","type"],{text:k,subs:b,type:e}));return""+f.get("PASS_START")+
l+f.get("PASS_END")},r.$$s=this,r.$$arity=0,r),b).call(n,f.get("StemInlineMacroRx")));return c},B.$$arity=1);a.defn(k,"$restore_passthroughs",t=function(a,c){var b,e,g,k;null==this.passthroughs&&(this.passthroughs=h);null==c&&(c=!0);try{return(b=(e=!1!==c&&c!==h&&null!=c)?!1!==(g=this.passthroughs["$empty?"]())&&g!==h&&null!=g?g:a["$include?"](f.get("PASS_START"))["$!"]():c)===h||null==b||b.$$is_boolean&&1!=b?(b=(e=a).$gsub,b.$$p=(k=function(){var a=k.$$s||this,c,b=h,e=h,g=h,l=h;null==a.passthroughs&&
(a.passthroughs=h);null==w["~"]&&(w["~"]=h);b=a.passthroughs["$[]"](w["~"]["$[]"](1).$to_i());e=(c=g=b["$[]"]("subs"))===h||null==c||c.$$is_boolean&&1!=c?b["$[]"]("text"):a.$apply_subs(b["$[]"]("text"),g);(c=l=b["$[]"]("type"))===h||null==c||c.$$is_boolean&&1!=c||(e=f.get("Inline").$new(a,"quoted",e,d(["type","attributes"],{type:l,attributes:b["$[]"]("attributes")})).$convert());return(c=e["$include?"](f.get("PASS_START")))===h||null==c||c.$$is_boolean&&1!=c?e:a.$restore_passthroughs(e,!1)},k.$$s=
this,k.$$arity=0,k),b).call(e,f.get("PASS_MATCH")):a}finally{!1!==c&&c!==h&&null!=c&&this.passthroughs.$clear()}},t.$$arity=-2);a.defn(k,"$sub_specialchars",u=function(a){var c,b;return(c=f.get("SUPPORTS_GSUB_RESULT_HASH"))===h||null==c||c.$$is_boolean&&1!=c?(c=a.$gsub,c.$$p=(b=function(){var a;return f.get("SPECIAL_CHARS")["$[]"]((a=w["~"])===h?h:a["$[]"](0))},b.$$s=this,b.$$arity=0,b),c).call(a,f.get("SPECIAL_CHARS_PATTERN")):a.$gsub(f.get("SPECIAL_CHARS_PATTERN"),f.get("SPECIAL_CHARS"))},u.$$arity=
1);a.alias(k,"sub_specialcharacters","sub_specialchars");a.defn(k,"$sub_quotes",D=function(c){var b,d,e,g,k,l=h;null==this.document&&(this.document=h);(b=a.get("RUBY_ENGINE_OPAL"))===h||null==b||b.$$is_boolean&&1!=b?(l=""+c,(b=(g=f.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,b.$$p=(k=function(a,c,b){var d=k.$$s||this,f,e,g;null==a&&(a=h);null==c&&(c=h);null==b&&(b=h);return(f=(e=l)["$gsub!"],f.$$p=(g=function(){var b=g.$$s||this;null==w["~"]&&(w["~"]=h);return b.$convert_quoted_text(w["~"],
a,c)},g.$$s=d,g.$$arity=0,g),f).call(e,b)},k.$$s=this,k.$$arity=3,k),b).call(g)):(l=c,(b=(d=f.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,b.$$p=(e=function(a,c,b){var d=e.$$s||this,f,g,k;null==a&&(a=h);null==c&&(c=h);null==b&&(b=h);return l=(f=(g=l).$gsub,f.$$p=(k=function(){var b=k.$$s||this;null==w["~"]&&(w["~"]=h);return b.$convert_quoted_text(w["~"],a,c)},k.$$s=d,k.$$arity=0,k),f).call(g,b)},e.$$s=this,e.$$arity=3,e),b).call(d));return l},D.$$arity=1);a.defn(k,"$sub_replacements",
G=function(c){var b,d,e,g,k,l=h;(b=a.get("RUBY_ENGINE_OPAL"))===h||null==b||b.$$is_boolean&&1!=b?(l=""+c,(b=(g=f.get("REPLACEMENTS")).$each,b.$$p=(k=function(a,c,b){var d=k.$$s||this,f,e,g;null==a&&(a=h);null==c&&(c=h);null==b&&(b=h);return(f=(e=l)["$gsub!"],f.$$p=(g=function(){var a=g.$$s||this;null==w["~"]&&(w["~"]=h);return a.$do_replacement(w["~"],c,b)},g.$$s=d,g.$$arity=0,g),f).call(e,a)},k.$$s=this,k.$$arity=3,k),b).call(g)):(l=c,(b=(d=f.get("REPLACEMENTS")).$each,b.$$p=(e=function(a,c,b){var d=
e.$$s||this,f,g,k;null==a&&(a=h);null==c&&(c=h);null==b&&(b=h);return l=(f=(g=l).$gsub,f.$$p=(k=function(){var a=k.$$s||this;null==w["~"]&&(w["~"]=h);return a.$do_replacement(w["~"],c,b)},k.$$s=d,k.$$arity=0,k),f).call(g,a)},e.$$s=this,e.$$arity=3,e),b).call(d));return l},G.$$arity=1);a.defn(k,"$do_replacement",z=function(a,c,b){var d,f=h,f=h;(d=(f=a["$[]"](0))["$include?"]("\\"))===h||null==d||d.$$is_boolean&&1!=d?(f=b,a="none"["$==="](f)?c:"leading"["$==="](f)?""+a["$[]"](1)+c:"bounding"["$==="](f)?
""+a["$[]"](1)+c+a["$[]"](2):h):a=f.$tr("\\","");return a},z.$$arity=3);a.defn(k,"$sub_attributes",I=function(c,b){var e,g,k,m=h,n=h,u=h,y=h;null==this.document&&(this.document=h);null==b&&(b=d([],{}));if((e=c["$nil_or_empty?"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return c;(e=m=a.get("String")["$==="](c))===h||null==e||e.$$is_boolean&&1!=e||(c=[c]);n=this.document.$attributes();u=h;y=[];(e=(g=c).$each,e.$$p=(k=function(c){var d=k.$$s||this,e,g,m,q,r=h,da=h;null==c&&(c=h);da=r=!1;(e=c["$include?"]("{"))===
h||null==e||e.$$is_boolean&&1!=e||(c=function(){var p=a.new_brk();try{return(e=(g=c).$gsub,e.$$p=(m=function(){var c=m.$$s||this,d,e,g,k=h,q=h,y=h,ba=h,t=h,L=h,C=h,H=h,ca=h;null==c.document&&(c.document=h);null==w["~"]&&(w["~"]=h);k=w["~"];if((d=!1!==(e=k["$[]"](1)["$=="]("\\"))&&e!==h&&null!=e?e:k["$[]"](4)["$=="]("\\"))===h||null==d||d.$$is_boolean&&1!=d){if((d=k["$[]"](3)["$nil_or_empty?"]()["$!"]())===h||null==d||d.$$is_boolean&&1!=d)return(d=n["$key?"](ca=k["$[]"](2).$downcase()))===h||null==
d||d.$$is_boolean&&1!=d?(d=f.get("INTRINSIC_ATTRIBUTES")["$key?"](ca))===h||null==d||d.$$is_boolean&&1!=d?function(){t=!1!==(d=u)&&d!==h&&null!=d?d:u=!1!==(e=b["$[]"]("attribute_missing"))&&e!==h&&null!=e?e:n.$fetch("attribute-missing",f.get("Compliance").$attribute_missing());if("skip"["$==="](t))return k["$[]"](0);if("drop-line"["$==="](t))c.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+ca),r=!0,a.brk("",p);else{if("warn"["$==="](t))return c.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+
ca),k["$[]"](0);da=!0;return""}}():f.get("INTRINSIC_ATTRIBUTES")["$[]"](ca):n["$[]"](ca);q=l((y=k["$[]"](3)).$length(),1);ba=k["$[]"](2)["$[]"](v(q,-1,!1));return function(){t=y;if("set"["$==="](t))return L=ba.$split(":"),e=f.get("Parser").$store_attribute(L["$[]"](0),!1!==(g=L["$[]"](1))&&g!==h&&null!=g?g:"",c.document),d=a.to_ary(e),C=null==d[1]?h:d[1],e,!1!==C&&C!==h&&null!=C||!n.$fetch("attribute-undefined",f.get("Compliance").$attribute_undefined())["$=="]("drop-line")||(r=!0,a.brk("",p)),da=
!0,"";if("counter"["$==="](t)||"counter2"["$==="](t))return L=ba.$split(":"),H=c.document.$counter(L["$[]"](0),L["$[]"](1)),y["$=="]("counter2")?(da=!0,""):H;c.$warn("asciidoctor: WARNING: illegal attribute directive: "+k["$[]"](3));return k["$[]"](0)}()}return"{"+k["$[]"](2)+"}"},m.$$s=d,m.$$brk=p,m.$$arity=0,m),e).call(g,f.get("AttributeReferenceRx"))}catch(k){if(k===p)return k.$v;throw k;}}());return(e=!1!==(q=r)&&q!==h&&null!=q?q:!1!==da&&da!==h&&null!=da?c["$empty?"]():da)===h||null==e||e.$$is_boolean&&
1!=e?y["$<<"](c):h},k.$$s=this,k.$$arity=1,k),e).call(g);return!1!==m&&m!==h&&null!=m?q(y,f.get("EOL")):y},I.$$arity=-2);a.defn(k,"$sub_macros",J=function(c){var e,g,k,l,m,q,n,u,y,r,t,x,A,F,D,da,p,O,ua,X,sa=h,xa=h,B=h,J=h,ba=h,za=h;null==this.document&&(this.document=h);if((e=c["$nil_or_empty?"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return c;sa=d([],{});sa["$[]="]("square_bracket",c["$include?"]("["));sa["$[]="]("round_bracket",c["$include?"]("("));sa["$[]="]("colon",xa=c["$include?"](":"));sa["$[]="]("macroish",
(e=sa["$[]"]("square_bracket"),!1!==e&&e!==h&&null!=e?xa:e));sa["$[]="]("macroish_short_form",(e=(g=sa["$[]"]("square_bracket"),!1!==g&&g!==h&&null!=g?xa:g),!1!==e&&e!==h&&null!=e?c["$include?"](":["):e));B=this.document.$attributes()["$has_key?"]("linkattrs");J=this.document.$attributes()["$has_key?"]("experimental");ba=""+c;!1!==J&&J!==h&&null!=J&&((e=(g=sa["$[]"]("macroish_short_form"),!1!==g&&g!==h&&null!=g?!1!==(k=ba["$include?"]("kbd:"))&&k!==h&&null!=k?k:ba["$include?"]("btn:"):g))===h||null==
e||e.$$is_boolean&&1!=e||(ba=(e=(g=ba).$gsub,e.$$p=(l=function(){var a=l.$$s||this,c,b,e,g=h,p=h,g=g=h;null==w["~"]&&(w["~"]=h);g=w["~"];if((c=(p=g["$[]"](0))["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return p["$[]"](v(1,-1,!1));if((c=p["$start_with?"]("kbd"))===h||null==c||c.$$is_boolean&&1!=c){if((c=p["$start_with?"]("btn"))===h||null==c||c.$$is_boolean&&1!=c)return h;g=a.$unescape_bracketed_text(g["$[]"](1));return f.get("Inline").$new(a,"button",g).$convert()}g=a.$unescape_bracketed_text(g["$[]"](1));
g=g["$=="]("+")?["+"]:(c=(b=g.$split(f.get("KbdDelimiterRx"))).$inject,c.$$p=(e=function(a,c){var b;null==a&&(a=h);null==c&&(c=h);if((b=c["$end_with?"]("++"))===h||null==b||b.$$is_boolean&&1!=b)a["$<<"](c.$strip());else a["$<<"](c["$[]"](v(0,-3,!1)).$strip()),a["$<<"]("+");return a},e.$$s=a,e.$$arity=2,e),c).call(b,[]);return f.get("Inline").$new(a,"kbd",h,d(["attributes"],{attributes:d(["keys"],{keys:g})})).$convert()},l.$$s=this,l.$$arity=0,l),e).call(g,f.get("KbdBtnInlineMacroRx"))),(e=(k=sa["$[]"]("macroish"),
!1!==k&&k!==h&&null!=k?ba["$include?"]("menu:"):k))===h||null==e||e.$$is_boolean&&1!=e||(ba=(e=(k=ba).$gsub,e.$$p=(m=function(){var a=m.$$s||this,c,b,e,g=h,p=h,k=g=p=h,k=g=h;null==w["~"]&&(w["~"]=h);g=w["~"];if((c=(p=g["$[]"](0))["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return p["$[]"](v(1,-1,!1));p=g["$[]"](1);g=g["$[]"](2);(c=g["$!"]())===h||null==c||c.$$is_boolean&&1!=c?(c=k=(b=g["$include?"]("&gt;"))===h||null==b||b.$$is_boolean&&1!=b?(b=g["$include?"](","))===h||null==b||
b.$$is_boolean&&1!=b?h:",":"&gt;")===h||null==c||c.$$is_boolean&&1!=c?(k=[],g=g.$rstrip()):(k=(c=(b=g.$split(k)).$map,c.$$p=(e=function(a){null==a&&(a=h);return a.$strip()},e.$$s=a,e.$$arity=1,e),c).call(b),g=k.$pop()):(k=[],g=h);return f.get("Inline").$new(a,"menu",h,d(["attributes"],{attributes:d(["menu","submenus","menuitem"],{menu:p,submenus:k,menuitem:g})})).$convert()},m.$$s=this,m.$$arity=0,m),e).call(k,f.get("MenuInlineMacroRx"))),(e=(q=ba["$include?"]('"'),!1!==q&&q!==h&&null!=q?ba["$include?"]("&gt;"):
q))===h||null==e||e.$$is_boolean&&1!=e||(ba=(e=(q=ba).$gsub,e.$$p=(n=function(){var c=n.$$s||this,e,g,p,k,l,m=h,q=h;g=q=m=m=h;null==w["~"]&&(w["~"]=h);m=w["~"];if((e=(q=m["$[]"](0))["$start_with?"]("\\"))!==h&&null!=e&&(!e.$$is_boolean||1==e))return q["$[]"](v(1,-1,!1));m=m["$[]"](1);g=(p=(k=m.$split("&gt;")).$map,p.$$p=(l=function(a){null==a&&(a=h);return a.$strip()},l.$$s=c,l.$$arity=1,l),p).call(k);e=a.to_ary(g);m=null==e[0]?h:e[0];q=b.call(e,1);g;g=q.$pop();return f.get("Inline").$new(c,"menu",
h,d(["attributes"],{attributes:d(["menu","submenus","menuitem"],{menu:m,submenus:q,menuitem:g})})).$convert()},n.$$s=this,n.$$arity=0,n),e).call(q,f.get("MenuInlineRx"))));(e=(u=za=this.document.$extensions(),!1!==u&&u!==h&&null!=u?za["$inline_macros?"]():u))===h||null==e||e.$$is_boolean&&1!=e||(e=(u=za.$inline_macros()).$each,e.$$p=(y=function(a){var c=y.$$s||this,b,f,e;null==a&&(a=h);return ba=(b=(f=ba).$gsub,b.$$p=(e=function(){var c=e.$$s||this,b,f=h,g=h,f=h;null==w["~"]&&(w["~"]=h);f=w["~"];
if((b=f["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return f["$[]"](0)["$[]"](v(1,-1,!1));g=f["$[]"](1);f=a.$config()["$[]"]("format")["$=="]("short")?d([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(f["$[]"](2),!1!==(b=a.$config()["$[]"]("pos_attrs"))&&b!==h&&null!=b?b:[],d(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):d(["text"],{text:c.$unescape_bracketed_text(f["$[]"](2))});return a.$process_method()["$[]"](c,
g,f)},e.$$s=c,e.$$arity=0,e),b).call(f,a.$instance().$regexp())},y.$$s=this,y.$$arity=1,y),e).call(u);(e=(r=sa["$[]"]("macroish"),!1!==r&&r!==h&&null!=r?!1!==(t=ba["$include?"]("image:"))&&t!==h&&null!=t?t:ba["$include?"]("icon:"):r))===h||null==e||e.$$is_boolean&&1!=e||(ba=(e=(r=ba).$gsub,e.$$p=(x=function(){var a=x.$$s||this,c,b,e,g=h,p=b=h,k=h,k=g=h;null==a.document&&(a.document=h);null==w["~"]&&(w["~"]=h);g=w["~"];if((c=g["$[]"](0)["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return g["$[]"](0)["$[]"](v(1,
-1,!1));b=a.$unescape_bracketed_text(g["$[]"](2));(c=g["$[]"](0)["$start_with?"]("icon:"))===h||null==c||c.$$is_boolean&&1!=c?(p="image",k=["alt","width","height"]):(p="icon",k=["size"]);g=a.$sub_attributes(g["$[]"](1));p["$=="]("icon")||a.document.$register("images",g);k=a.$parse_attributes(b,k);c="alt";b=k;!1!==(e=b["$[]"](c))&&e!==h&&null!=e?e:b["$[]="](c,f.get("Helpers").$basename(g,!0).$tr("_-"," "));return f.get("Inline").$new(a,"image",h,d(["type","target","attributes"],{type:p,target:g,attributes:k})).$convert()},
x.$$s=this,x.$$arity=0,x),e).call(r,f.get("ImageInlineMacroRx")));(e=!1!==(t=sa["$[]"]("macroish_short_form"))&&t!==h&&null!=t?t:sa["$[]"]("round_bracket"))===h||null==e||e.$$is_boolean&&1!=e||(ba=(e=(t=ba).$gsub,e.$$p=(A=function(){var c=A.$$s||this,b,e,g=h,p=h,k=h,l=h,g=g=h;null==c.document&&(c.document=h);null==w["~"]&&(w["~"]=h);g=w["~"];if((b=g["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return g["$[]"](0)["$[]"](v(1,-1,!1));if((b=a.get("RUBY_ENGINE_OPAL"))!==h&&null!=
b&&(!b.$$is_boolean||1==b)&&g["$[]"](1)["$=="](""))g["$[]="](1,h);p=0;k=h;if((b=l=g["$[]"](1))===h||null==b||b.$$is_boolean&&1!=b)k=g["$[]"](3),(b=(e=k["$start_with?"]("("),!1!==e&&e!==h&&null!=e?k["$end_with?"](")"):e))===h||null==b||b.$$is_boolean&&1!=b?p=2:(k=k["$[]"](v(1,-1,!0)),p=3);if((b=!1!==(e=l["$=="]("indexterm"))&&e!==h&&null!=e?e:p["$=="](3))===h||null==b||b.$$is_boolean&&1!=b)return g=(b=l["$!"]())===h||null==b||b.$$is_boolean&&1!=b?c.$normalize_string(g["$[]"](2),!0):c.$normalize_string(k),
c.document.$register("indexterms",[g]),f.get("Inline").$new(c,"indexterm",g,d(["type"],{type:"visible"})).$convert();g=(b=l["$!"]())===h||null==b||b.$$is_boolean&&1!=b?c.$split_simple_csv(c.$normalize_string(g["$[]"](2),!0)):c.$split_simple_csv(c.$normalize_string(k));c.document.$register("indexterms",[].concat(a.to_a(g)));return f.get("Inline").$new(c,"indexterm",h,d(["attributes"],{attributes:d(["terms"],{terms:g})})).$convert()},A.$$s=this,A.$$arity=0,A),e).call(t,f.get("IndextermInlineMacroRx")));
(e=(c=!1!==xa&&xa!==h&&null!=xa)?ba["$include?"]("://"):xa)===h||null==e||e.$$is_boolean&&1!=e||(ba=(e=(c=ba).$gsub,e.$$p=(F=function(){var c=F.$$s||this,b,e,g,p,k=h,l=h,m=h,q=h,n=h,X=n=h,k=h;null==c.document&&(c.document=h);null==w["~"]&&(w["~"]=h);k=w["~"];if((b=k["$[]"](2)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return""+k["$[]"](1)+k["$[]"](2)["$[]"](v(1,-1,!1))+k["$[]"](3);if((b=a.get("RUBY_ENGINE_OPAL"))!==h&&null!=b&&(!b.$$is_boolean||1==b)&&k["$[]"](3)["$=="](""))k["$[]="](3,
h);if((b=(e=k["$[]"](1)["$=="]("link:"))?k["$[]"](3)["$!"]():k["$[]"](1)["$=="]("link:"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return k["$[]"](0);l=(b=k["$[]"](1)["$!="]("link:"))===h||null==b||b.$$is_boolean&&1!=b?"":k["$[]"](1);m=k["$[]"](2);q="";if((b=!1!==(e=k["$[]"](3))&&e!==h&&null!=e?e:m["$!~"](f.get("UriTerminator")))===h||null==b||b.$$is_boolean&&1!=b)n=w["~"]["$[]"](0),")"["$==="](n)?(m=m["$[]"](v(0,-2,!1)),q=")"):";"["$==="](n)?(b=(e=l["$start_with?"]("&lt;"),!1!==e&&e!==h&&null!=e?m["$end_with?"]("&gt;"):
e))===h||null==b||b.$$is_boolean&&1!=b?(b=m["$end_with?"](");"))===h||null==b||b.$$is_boolean&&1!=b?(m=m["$[]"](v(0,-2,!1)),q=";"):(m=m["$[]"](v(0,-3,!1)),q=");"):(l=l["$[]"](v(4,-1,!1)),m=m["$[]"](v(0,-5,!1))):":"["$==="](n)&&((b=m["$end_with?"]("):"))===h||null==b||b.$$is_boolean&&1!=b?(m=m["$[]"](v(0,-2,!1)),q=":"):(m=m["$[]"](v(0,-3,!1)),q="):"));c.document.$register("links",m);n=d(["type","target"],{type:"link",target:m});X=h;if((b=k["$[]"](3)["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&
1!=b){if((b=!1!==B&&B!==h&&null!=B?!1!==(g=k["$[]"](3)["$start_with?"]('"'))&&g!==h&&null!=g?g:(p=k["$[]"](3)["$include?"](","),!1!==p&&p!==h&&null!=p?k["$[]"](3)["$include?"]("="):p):B)===h||null==b||b.$$is_boolean&&1!=b)k=c.$sub_attributes(k["$[]"](3).$gsub("\\]","]"));else{X=c.$parse_attributes(c.$sub_attributes(k["$[]"](3).$gsub("\\]","]")),[]);if((b=X["$has_key?"]("id"))!==h&&null!=b&&(!b.$$is_boolean||1==b))n["$[]="]("id",X.$delete("id"));k=!1!==(b=X["$[]"](1))&&b!==h&&null!=b?b:""}(b=k["$end_with?"]("^"))===
h||null==b||b.$$is_boolean&&1!=b||(k=k.$chop(),!1!==X&&X!==h&&null!=X?(b="window",e=X,!1!==(g=e["$[]"](b))&&g!==h&&null!=g?g:e["$[]="](b,"_blank")):X=d(["window"],{window:"_blank"}))}else k="";if((b=k["$empty?"]())!==h&&null!=b&&(!b.$$is_boolean||1==b))if(k=(b=c.document["$attr?"]("hide-uri-scheme"))===h||null==b||b.$$is_boolean&&1!=b?m:m.$sub(f.get("UriSniffRx"),""),!1!==X&&X!==h&&null!=X)X["$[]="]("role",("bare "+X["$[]"]("role")).$chomp(" "));else X=d(["role"],{role:"bare"});if(!1!==X&&X!==h&&
null!=X)n["$[]="]("attributes",X);return""+l+f.get("Inline").$new(c,"anchor",k,n).$convert()+q},F.$$s=this,F.$$arity=0,F),e).call(c,f.get("LinkInlineRx")));(e=!1!==(D=(da=sa["$[]"]("macroish"),!1!==da&&da!==h&&null!=da?ba["$include?"]("link:"):da))&&D!==h&&null!=D?D:ba["$include?"]("mailto:"))===h||null==e||e.$$is_boolean&&1!=e||(ba=(e=(D=ba).$gsub,e.$$p=(p=function(){var a=p.$$s||this,c,b,e,g=h,k=h,l=h,m=b=h,q=h,g=h;null==a.document&&(a.document=h);null==w["~"]&&(w["~"]=h);g=w["~"];if((c=g["$[]"](0)["$start_with?"]("\\"))!==
h&&null!=c&&(!c.$$is_boolean||1==c))return g["$[]"](0)["$[]"](v(1,-1,!1));k=g["$[]"](1);l=g["$[]"](0)["$start_with?"]("mailto:");b=!1!==l&&l!==h&&null!=l?"mailto:"+k:k;m=d(["type","target"],{type:"link",target:b});q=h;if((c=!1!==B&&B!==h&&null!=B?!1!==(e=g["$[]"](2)["$start_with?"]('"'))&&e!==h&&null!=e?e:g["$[]"](2)["$include?"](","):B)===h||null==c||c.$$is_boolean&&1!=c)g=a.$sub_attributes(g["$[]"](2).$gsub("\\]","]"));else{q=a.$parse_attributes(a.$sub_attributes(g["$[]"](2).$gsub("\\]","]")),[]);
if((c=q["$key?"]("id"))!==h&&null!=c&&(!c.$$is_boolean||1==c))m["$[]="]("id",q.$delete("id"));!1===l||l===h||null==l||(c=q["$key?"](2))===h||null==c||c.$$is_boolean&&1!=c||(b=m["$[]="]("target",""+b+"?subject="+f.get("Helpers").$encode_uri(q["$[]"](2))),(c=q["$key?"](3))===h||null==c||c.$$is_boolean&&1!=c||(b=m["$[]="]("target",""+b+"&amp;body="+f.get("Helpers").$encode_uri(q["$[]"](3)))));g=q["$[]"](1)}a.document.$register("links",b);(c=g["$end_with?"]("^"))===h||null==c||c.$$is_boolean&&1!=c||(g=
g.$chop(),!1!==q&&q!==h&&null!=q?(c="window",b=q,!1!==(e=b["$[]"](c))&&e!==h&&null!=e?e:b["$[]="](c,"_blank")):q=d(["window"],{window:"_blank"}));if((c=g["$empty?"]())!==h&&null!=c&&(!c.$$is_boolean||1==c))if(!1!==l&&l!==h&&null!=l)g=k;else if(g=(c=a.document["$attr?"]("hide-uri-scheme"))===h||null==c||c.$$is_boolean&&1!=c?k:k.$sub(f.get("UriSniffRx"),""),!1!==q&&q!==h&&null!=q)q["$[]="]("role",("bare "+q["$[]"]("role")).$chomp(" "));else q=d(["role"],{role:"bare"});if(!1!==q&&q!==h&&null!=q)m["$[]="]("attributes",
q);return f.get("Inline").$new(a,"anchor",g,m).$convert()},p.$$s=this,p.$$arity=0,p),e).call(D,f.get("LinkInlineMacroRx")));(e=ba["$include?"]("@"))===h||null==e||e.$$is_boolean&&1!=e||(ba=(e=(da=ba).$gsub,e.$$p=(O=function(){var a=O.$$s||this,c,b=h,e=h,b=b=h;null==a.document&&(a.document=h);null==w["~"]&&(w["~"]=h);b=w["~"];e=b["$[]"](0);if((c=b=b["$[]"](1))!==h&&null!=c&&(!c.$$is_boolean||1==c))return"\\"["$==="](b)?e["$[]"](v(1,-1,!1)):e;b="mailto:"+e;a.document.$register("links",b);return f.get("Inline").$new(a,
"anchor",e,d(["type","target"],{type:"link",target:b})).$convert()},O.$$s=this,O.$$arity=0,O),e).call(da,f.get("EmailInlineMacroRx")));(e=(ua=sa["$[]"]("macroish_short_form"),!1!==ua&&ua!==h&&null!=ua?ba["$include?"]("footnote"):ua))===h||null==e||e.$$is_boolean&&1!=e||(ba=(e=(ua=ba).$gsub,e.$$p=(X=function(){var c=X.$$s||this,b,e,g,p,k=h,l=h,m=e=k=h,q=h,k=h;null==c.document&&(c.document=h);null==w["~"]&&(w["~"]=h);k=w["~"];if((b=k["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||
1==b))return k["$[]"](0)["$[]"](v(1,-1,!1));k["$[]"](1)["$=="]("footnote")?(l=h,k=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(k["$[]"](2),!0))),!1),e=c.document.$counter("footnote-number"),c.document.$register("footnotes",f.get("Document").$$scope.get("Footnote").$new(e,l,k)),q=m=h):(e=k["$[]"](2).$split(",",2),b=a.to_ary(e),l=null==b[0]?h:b[0],k=null==b[1]?h:b[1],e,l=l.$strip(),(b=k["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&1!=b?(k=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(k,
!0))),!1),e=c.document.$counter("footnote-number"),c.document.$register("footnotes",f.get("Document").$$scope.get("Footnote").$new(e,l,k)),m="ref",q=h):((b=k=(e=(g=c.document.$references()["$[]"]("footnotes")).$find,e.$$p=(p=function(a){null==a&&(a=h);return a.$id()["$=="](l)},p.$$s=c,p.$$arity=1,p),e).call(g))===h||null==b||b.$$is_boolean&&1!=b?(e=h,k=l):(e=k.$index(),k=k.$text()),q=l,l=h,m="xref"));return f.get("Inline").$new(c,"footnote",k,d(["attributes","id","target","type"],{attributes:d(["index"],
{index:e}),id:l,target:q,type:m})).$convert()},X.$$s=this,X.$$arity=0,X),e).call(ua,f.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(ba,sa),sa)},J.$$arity=1);a.defn(k,"$sub_inline_anchors",F=function(c,b){var e,g,k,l,m,q,n;null==b&&(b=h);(e=(g=!1!==(k=b["$!"]())&&k!==h&&null!=k?k:b["$[]"]("square_bracket"),!1!==g&&g!==h&&null!=g?c["$include?"]("[[["):g))===h||null==e||e.$$is_boolean&&1!=e||(c=(e=(g=c).$gsub,e.$$p=(l=function(){var a=l.$$s||this,c,b=h,e=b=h;null==
w["~"]&&(w["~"]=h);b=w["~"];if((c=b["$[]"](0)["$start_with?"]("\\"))!==h&&null!=c&&(!c.$$is_boolean||1==c))return b["$[]"](0)["$[]"](v(1,-1,!1));b=e=b["$[]"](1);return f.get("Inline").$new(a,"anchor",e,d(["type","target"],{type:"bibref",target:b})).$convert()},l.$$s=this,l.$$arity=0,l),e).call(g,f.get("InlineBiblioAnchorRx")));(e=!1!==(k=(m=!1!==(q=b["$!"]())&&q!==h&&null!=q?q:b["$[]"]("square_bracket"),!1!==m&&m!==h&&null!=m?c["$include?"]("[["):m))&&k!==h&&null!=k?k:(m=!1!==(q=b["$!"]())&&q!==h&&
null!=q?q:b["$[]"]("macroish"),!1!==m&&m!==h&&null!=m?c["$include?"]("anchor:"):m))===h||null==e||e.$$is_boolean&&1!=e||(c=(e=(k=c).$gsub,e.$$p=(n=function(){var c=n.$$s||this,b,e,g=h,k=h,g=h;null==w["~"]&&(w["~"]=h);g=w["~"];if((b=g["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return g["$[]"](0)["$[]"](v(1,-1,!1));if((b=a.get("RUBY_ENGINE_OPAL"))!==h&&null!=b&&(!b.$$is_boolean||1==b)){if(g["$[]"](1)["$=="](""))g["$[]="](1,h);if(g["$[]"](2)["$=="](""))g["$[]="](2,h);if(g["$[]"](4)["$=="](""))g["$[]="](4,
h)}k=!1!==(b=g["$[]"](1))&&b!==h&&null!=b?b:g["$[]"](3);g=!1!==(b=!1!==(e=g["$[]"](2))&&e!==h&&null!=e?e:g["$[]"](4))&&b!==h&&null!=b?b:"["+k+"]";return f.get("Inline").$new(c,"anchor",g,d(["type","target"],{type:"ref",target:k})).$convert()},n.$$s=this,n.$$arity=0,n),e).call(k,f.get("InlineAnchorRx")));return c},F.$$arity=-2);a.defn(k,"$sub_inline_xrefs",y=function(c,b){var e,g,k,l;null==b&&(b=h);(e=!1!==(g=!1!==(k=b["$!"]())&&k!==h&&null!=k?k:b["$[]"]("macroish"))&&g!==h&&null!=g?g:c["$include?"]("&lt;&lt;"))===
h||null==e||e.$$is_boolean&&1!=e||(c=(e=(g=c).$gsub,e.$$p=(l=function(){var c=l.$$s||this,b,e,g,k,m,q,n=h,u=h,y=h,da=u=n=h,p=h,da=h;null==c.document&&(c.document=h);null==w["~"]&&(w["~"]=h);n=w["~"];if((b=n["$[]"](0)["$start_with?"]("\\"))!==h&&null!=b&&(!b.$$is_boolean||1==b))return n["$[]"](0)["$[]"](v(1,-1,!1));if((b=a.get("RUBY_ENGINE_OPAL"))!==h&&null!=b&&(!b.$$is_boolean||1==b)&&n["$[]"](1)["$=="](""))n["$[]="](1,h);if((b=n["$[]"](1))===h||null==b||b.$$is_boolean&&1!=b){if(u=n["$[]"](2),(b=
n["$[]"](3)["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&1!=b)y=n["$[]"](3)}else e=(g=(k=n["$[]"](1).$split(",",2)).$map,g.$$p=(m=function(a){null==a&&(a=h);return a.$strip()},m.$$s=c,m.$$arity=1,m),g).call(k),b=a.to_ary(e),u=null==b[0]?h:b[0],y=null==b[1]?h:b[1],e,u=u.$sub(f.get("DoubleQuotedRx"),"\\2"),y=(b=y["$nil_or_empty?"]())===h||null==b||b.$$is_boolean&&1!=b?y.$sub(f.get("DoubleQuotedMultiRx"),"\\2"):h;(b=u["$include?"]("#"))===h||null==b||b.$$is_boolean&&1!=b?n=h:(e=u.$split("#"),b=
a.to_ary(e),n=null==b[0]?h:b[0],u=null==b[1]?h:b[1],e);!1!==n&&n!==h&&null!=n?(n=f.get("Helpers").$rootname(n),(b=!1!==(e=c.document.$attributes()["$[]"]("docname")["$=="](n))&&e!==h&&null!=e?e:c.document.$references()["$[]"]("includes")["$include?"](n))===h||null==b||b.$$is_boolean&&1!=b?(da=!1!==u&&u!==h&&null!=u?""+n+"#"+u:n,n=""+c.document.$attributes()["$[]"]("relfileprefix")+n+c.document.$attributes().$fetch("outfilesuffix",".html"),p=!1!==u&&u!==h&&null!=u?""+n+"#"+u:n):(da=u,n=h,p="#"+u)):
((b=(e=(g=c.document.$references()["$[]"]("ids")["$has_key?"](u)["$!"](),!1!==g&&g!==h&&null!=g?!1!==(q=u["$include?"](" "))&&q!==h&&null!=q?q:u.$downcase()["$!="](u):g),!1!==e&&e!==h&&null!=e?da=(g=f.get("RUBY_MIN_VERSION_1_9"))===h||null==g||g.$$is_boolean&&1!=g?c.document.$references()["$[]"]("ids").$index(u):c.document.$references()["$[]"]("ids").$key(u):e))===h||null==b||b.$$is_boolean&&1!=b||(u=da),da=u,p="#"+u);return f.get("Inline").$new(c,"anchor",y,d(["type","target","attributes"],{type:"xref",
target:p,attributes:d(["path","fragment","refid"],{path:n,fragment:u,refid:da})})).$convert()},l.$$s=this,l.$$arity=0,l),e).call(g,f.get("XrefInlineMacroRx")));return c},y.$$arity=-2);a.defn(k,"$sub_callouts",M=function(c){var b,e,g=h,g=(b=this["$attr?"]("line-comment"))===h||null==b||b.$$is_boolean&&1!=b?f.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+f.get("CalloutSourceRxt"));return(b=c.$gsub,b.$$p=(e=function(){var a=e.$$s||this,c=h;null==a.document&&
(a.document=h);null==w["~"]&&(w["~"]=h);c=w["~"];return c["$[]"](1)["$=="]("\\")?c["$[]"](0).$sub("\\",""):f.get("Inline").$new(a,"callout",c["$[]"](3),d(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},e.$$s=this,e.$$arity=0,e),b).call(c,g)},M.$$arity=1);a.defn(k,"$sub_post_replacements",N=function(a){var c,b,e,g,k=h,l=h;null==this.document&&(this.document=h);null==this.attributes&&(this.attributes=h);if((c=!1!==(b=this.document.$attributes()["$has_key?"]("hardbreaks"))&&b!==h&&null!=
b?b:this.attributes["$has_key?"]("hardbreaks-option"))===h||null==c||c.$$is_boolean&&1!=c)return(c=a["$include?"]("+"))===h||null==c||c.$$is_boolean&&1!=c?a:(c=a.$gsub,c.$$p=(g=function(){var a=g.$$s||this;null==w["~"]&&(w["~"]=h);return f.get("Inline").$new(a,"break",w["~"]["$[]"](1),d(["type"],{type:"line"})).$convert()},g.$$s=this,g.$$arity=0,g),c).call(a,f.get("LineBreakRx"));k=a.$split(f.get("EOL"));if(k.$size()["$=="](1))return a;l=k.$pop();return q((c=(b=k).$map,c.$$p=(e=function(a){var c=
e.$$s||this;null==a&&(a=h);return f.get("Inline").$new(c,"break",a.$rstrip().$chomp(f.get("LINE_BREAK")),d(["type"],{type:"line"})).$convert()},e.$$s=this,e.$$arity=1,e),c).call(b).$push(l),f.get("EOL"))},N.$$arity=1);a.defn(k,"$convert_quoted_text",Q=function(a,c,b){var e,g=h,k=h,l=g=h,g=h;if((e=a["$[]"](0)["$start_with?"]("\\"))!==h&&null!=e&&(!e.$$is_boolean||1==e)){if((e=b["$=="]("constrained")?(k=a["$[]"](2))["$nil_or_empty?"]()["$!"]():b["$=="]("constrained"))===h||null==e||e.$$is_boolean&&
1!=e)return a["$[]"](0)["$[]"](v(1,-1,!1));g="["+k+"]"}if(b["$=="]("constrained")){if(!1!==g&&g!==h&&null!=g)return""+g+f.get("Inline").$new(this,"quoted",a["$[]"](3),d(["type"],{type:c})).$convert();(e=g=this.$parse_quoted_text_attributes(a["$[]"](2)))===h||null==e||e.$$is_boolean&&1!=e?l=h:(l=g.$delete("id"),c["$=="]("mark")&&(c="unquoted"));return""+a["$[]"](1)+f.get("Inline").$new(this,"quoted",a["$[]"](3),d(["type","id","attributes"],{type:c,id:l,attributes:g})).$convert()}(e=g=this.$parse_quoted_text_attributes(a["$[]"](1)))===
h||null==e||e.$$is_boolean&&1!=e?l=h:(l=g.$delete("id"),c["$=="]("mark")&&(c="unquoted"));return f.get("Inline").$new(this,"quoted",a["$[]"](2),d(["type","id","attributes"],{type:c,id:l,attributes:g})).$convert()},Q.$$arity=3);a.defn(k,"$parse_quoted_text_attributes",V=function(c){var g,k,l,m=h,n=h,u=h,u=m=h;if(!1===c||c===h||null==c)return h;if((g=c["$empty?"]())!==h&&null!=g&&(!g.$$is_boolean||1==g))return d([],{});(g=c["$include?"]("{"))===h||null==g||g.$$is_boolean&&1!=g||(c=this.$sub_attributes(c));
c=c.$strip();(g=c["$include?"](","))===h||null==g||g.$$is_boolean&&1!=g||(k=c.$split(",",2),g=a.to_ary(k),c=null==g[0]?h:g[0],k);if((g=c["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g){if((g=(k=!1!==(l=c["$start_with?"]("."))&&l!==h&&null!=l?l:c["$start_with?"]("#"),!1!==k&&k!==h&&null!=k?f.get("Compliance").$shorthand_property_syntax():k))===h||null==g||g.$$is_boolean&&1!=g)return d(["role"],{role:c});m=c.$split("#",2);(g=e(m.$length(),1))===h||null==g||g.$$is_boolean&&1!=g?(n=h,u=[]):(k=m["$[]"](1).$split("."),
g=a.to_ary(k),n=null==g[0]?h:g[0],u=b.call(g,1),k);m=(g=m["$[]"](0)["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g?m["$[]"](0).$split("."):[];(g=e(m.$length(),1))===h||null==g||g.$$is_boolean&&1!=g||m.$shift();(g=e(u.$length(),0))===h||null==g||g.$$is_boolean&&1!=g||m.$concat(u);u=d([],{});if(!1!==n&&n!==h&&null!=n)u["$[]="]("id",n);if((g=m["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g)u["$[]="]("role",q(m," "));return u}return d([],{})},V.$$arity=1);a.defn(k,"$parse_attributes",T=function(a,
c,b){var e,g=h,k=h;null==this.document&&(this.document=h);null==c&&(c=["role"]);null==b&&(b=d([],{}));if(!1===a||a===h||null==a)return h;if((e=a["$empty?"]())!==h&&null!=e&&(!e.$$is_boolean||1==e))return d([],{});(e=b["$[]"]("sub_input"))===h||null==e||e.$$is_boolean&&1!=e||(a=this.document.$sub_attributes(a));(e=b["$[]"]("unescape_input"))===h||null==e||e.$$is_boolean&&1!=e||(a=this.$unescape_bracketed_text(a));g=h;(e=b.$fetch("sub_result",!0))===h||null==e||e.$$is_boolean&&1!=e||(g=this);return(e=
k=b["$[]"]("into"))===h||null==e||e.$$is_boolean&&1!=e?f.get("AttributeList").$new(a,g).$parse(c):f.get("AttributeList").$new(a,g).$parse_into(k,c)},T.$$arity=-2);a.defn(k,"$unescape_bracketed_text",Y=function(a){var c;return(c=a["$empty?"]())===h||null==c||c.$$is_boolean&&1!=c?a.$strip().$tr(f.get("EOL")," ").$gsub("\\]","]"):""},Y.$$arity=1);a.defn(k,"$normalize_string",S=function(a,c){var b;null==c&&(c=!1);return(b=a["$empty?"]())===h||null==b||b.$$is_boolean&&1!=b?!1!==c&&c!==h&&null!=c?this.$unescape_brackets(a.$strip().$tr(f.get("EOL"),
" ")):a.$strip().$tr(f.get("EOL")," "):""},S.$$arity=-2);a.defn(k,"$unescape_brackets",A=function(a){var c;return(c=a["$empty?"]())===h||null==c||c.$$is_boolean&&1!=c?a.$gsub("\\]","]"):""},A.$$arity=1);a.defn(k,"$split_simple_csv",W=function(a){var c,b,d,f,e=h,g=h,k=h;(c=a["$empty?"]())===h||null==c||c.$$is_boolean&&1!=c?(c=a["$include?"]('"'))===h||null==c||c.$$is_boolean&&1!=c?e=(c=(d=a.$split(",")).$map,c.$$p=(f=function(a){null==a&&(a=h);return a.$strip()},f.$$s=this,f.$$arity=1,f),c).call(d):
(e=[],g=[],k=!1,(c=a.$each_char,c.$$p=(b=function(a){var c=h;null==a&&(a=h);return function(){c=a;if(","["$==="](c)){if(!1!==k&&k!==h&&null!=k)return g.$push(a);e["$<<"](g.$join().$strip());return g=[]}return'"'["$==="](c)?k=k["$!"]():g.$push(a)}()},b.$$s=this,b.$$arity=1,b),c).call(a),e["$<<"](g.$join().$strip())):e=[];return e},W.$$arity=1);a.defn(k,"$resolve_subs",aa=function(a,c,b,d){var k,m,n,u=h,y=h,r=h,t=h;null==c&&(c="block");null==b&&(b=h);null==d&&(d=h);if((k=a["$nil_or_empty?"]())!==h&&
null!=k&&(!k.$$is_boolean||1==k))return[];u=h;y=f.get("SubModifierSniffRx")["$=~"](a);(k=(m=a.$tr(" ","").$split(",")).$each,k.$$p=(n=function(a){var d,e,k,m=h,q=e=e=e=h,m=h;null==a&&(a=h);m=h;!1!==y&&y!==h&&null!=y&&((e=a.$chr())["$=="]("+")?(m="append",a=a["$[]"](v(1,-1,!1))):e["$=="]("-")?(m="remove",a=a["$[]"](v(1,-1,!1))):(d=a["$end_with?"]("+"))===h||null==d||d.$$is_boolean&&1!=d||(m="prepend",a=a.$chop()));a=a.$to_sym();(d=(e=c["$=="]("inline"))?!1!==(k=a["$=="]("verbatim"))&&k!==h&&null!=
k?k:a["$=="]("v"):c["$=="]("inline"))===h||null==d||d.$$is_boolean&&1!=d?(d=f.get("COMPOSITE_SUBS")["$key?"](a))===h||null==d||d.$$is_boolean&&1!=d?(d=(e=c["$=="]("inline")?a.$length()["$=="](1):c["$=="]("inline"),!1!==e&&e!==h&&null!=e?f.get("SUB_SYMBOLS")["$key?"](a):e))===h||null==d||d.$$is_boolean&&1!=d?e=[a]:(e=f.get("SUB_SYMBOLS")["$[]"](a),e=(d=q=f.get("COMPOSITE_SUBS")["$[]"](e))===h||null==d||d.$$is_boolean&&1!=d?[e]:q):e=f.get("COMPOSITE_SUBS")["$[]"](a):e=["specialcharacters"];if(!1!==
m&&m!==h&&null!=m)return!1!==(d=u)&&d!==h&&null!=d?d:u=!1!==b&&b!==h&&null!=b?b.$dup():[],"append"["$==="](m)?u=l(u,e):"prepend"["$==="](m)?u=l(e,u):"remove"["$==="](m)?u=g(u,e):h;!1!==(d=u)&&d!==h&&null!=d?d:u=[];return u=l(u,e)},n.$$s=this,n.$$arity=1,n),k).call(m);r=u["$&"](f.get("SUB_OPTIONS")["$[]"](c));if((k=g(u,r)["$empty?"]())===h||null==k||k.$$is_boolean&&1!=k)t=g(u,r),this.$warn("asciidoctor: WARNING: invalid substitution type"+((k=e(t.$size(),1))===h||null==k||k.$$is_boolean&&1!=k?"":"s")+
(!1!==d&&d!==h&&null!=d?" for ":h)+d+": "+q(t,", "));return r},aa.$$arity=-2);a.defn(k,"$resolve_block_subs",ga=function(a,c,b){return this.$resolve_subs(a,"block",c,b)},ga.$$arity=3);a.defn(k,"$resolve_pass_subs",Z=function(a){return this.$resolve_subs(a,"inline",h,"passthrough macro")},Z.$$arity=1);a.defn(k,"$highlight_source",ia=function(c,b,e){var g,k,m,n,u,y=h,r=h,t=h,x=h,A=h,F=h,D=h,B=r=h,da=h,p=y=h,O=h;null==this.document&&(this.document=h);null==this.passthroughs&&(this.passthroughs=h);null==
e&&(e=h);y=!1!==(g=e)&&g!==h&&null!=g?g:e=this.document.$attributes()["$[]"]("source-highlighter");if("coderay"["$==="](y)){if((g=!1!==(k=r=null==a.Object.$$scope.CodeRay?h:"constant")&&k!==h&&null!=k?k:this.document.$attributes()["$[]"]("coderay-unavailable"))===h||null==g||g.$$is_boolean&&1!=g)(g=f.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===h||null==g||g.$$is_boolean&&1!=g?r=!0:this.document.$set_attr("coderay-unavailable",!0)}else if("pygments"["$==="](y)){if((g=!1!==(k=
r=null==a.Object.$$scope.Pygments?h:"constant")&&k!==h&&null!=k?k:this.document.$attributes()["$[]"]("pygments-unavailable"))===h||null==g||g.$$is_boolean&&1!=g)(g=f.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===h||null==g||g.$$is_boolean&&1!=g?r=!0:this.document.$set_attr("pygments-unavailable",!0)}else r=!1;if(!1===r||r===h||null==r)return this.$sub_source(c,b);t=0;x=!1;!1!==b&&b!==h&&null!=b?(A=d([],{}),F=-1,D=(g=this["$attr?"]("line-comment"))===h||null==g||g.$$is_boolean&&
1!=g?f.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+f.get("CalloutExtractRxt")),c=q((g=(k=c.$split(f.get("EOL"))).$map,g.$$p=(m=function(a){var c=m.$$s||this,b,d,f;null==a&&(a=h);t=l(t,1);return(b=(d=a).$gsub,b.$$p=(f=function(){var a,c,b,d=h;null==w["~"]&&(w["~"]=h);d=w["~"];if(d["$[]"](1)["$=="]("\\"))return d["$[]"](0).$sub("\\","");(a=t,c=A,!1!==(b=c["$[]"](a))&&b!==h&&null!=b?b:c["$[]="](a,[]))["$<<"](d["$[]"](3));F=t;return h},f.$$s=c,f.$$arity=
0,f),b).call(d,D)},m.$$s=this,m.$$arity=1,m),g).call(k),f.get("EOL")),x=F["$=="](t),(g=A["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g||(A=h)):A=h;B=r=h;y=e;if("coderay"["$==="](y))(g=r=(n=this["$attr?"]("linenums"))===h||null==n||n.$$is_boolean&&1!=n?h:(!1!==(n=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&n!==h&&null!=n?n:"table").$to_sym())===h||null==g||g.$$is_boolean&&1!=g||(g=this["$attr?"]("highlight",h,!1))===h||null==g||g.$$is_boolean&&1!=g||(B=this.$resolve_lines_to_highlight(this.$attr("highlight",
h,!1))),da=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",d(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(g=this.document.$attributes()["$[]"]("coderay-css"))&&g!==h&&null!=g?g:"class").$to_sym(),line_numbers:r,line_number_anchors:!1,highlight_lines:B,bold_every:!1})).$highlight(c);else if("pygments"["$==="](y)){y=!1!==(g=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",h,!1)))&&g!==h&&null!=
g?g:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");p=d(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(g=this.document.$attributes()["$[]"]("pygments-css"))&&g!==h&&null!=g?g:"class")["$=="]("class")||(p["$[]="]("noclasses",!0),p["$[]="]("style",!1!==(g=this.document.$attributes()["$[]"]("pygments-style"))&&g!==h&&null!=g?g:f.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((g=this["$attr?"]("highlight",h,!1))!==h&&null!=g&&
(!g.$$is_boolean||1==g)&&((g=(B=this.$resolve_lines_to_highlight(this.$attr("highlight",h,!1)))["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g))p["$[]="]("hl_lines",q(B," "));(g=this["$attr?"]("linenums"))===h||null==g||g.$$is_boolean&&1!=g?(p["$[]="]("nowrap",!0),da=y.$highlight(c,d(["options"],{options:p}))):p["$[]="]("linenos",!1!==(g=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&g!==h&&null!=g?g:"table")["$=="]("table")?(r="table",da=y.$highlight(c,d(["options"],{options:p})).$sub(/<div class="pyhl">(.*)<\/div>/m,
"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):da=y.$highlight(c,d(["options"],{options:p})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((g=this.passthroughs["$empty?"]())===h||null==g||g.$$is_boolean&&1!=g)da=da.$gsub(f.get("PASS_MATCH_HI"),""+f.get("PASS_START")+"\\1"+f.get("PASS_END"));if((g=(n=!1!==b&&b!==h&&null!=b)?A:b)===h||null==g||g.$$is_boolean&&1!=g)return da;t=0;O=r["$!="]("table");return q((g=(n=da.$split(f.get("EOL"))).$map,g.$$p=(u=function(a){var c=u.$$s||
this,b,e,g,p=h,k=h,m=h,p=h;null==c.document&&(c.document=h);null==a&&(a=h);if(!1===O||O===h||null==O){if((b=a["$include?"]('<td class="code">'))===h||null==b||b.$$is_boolean&&1!=b)return a;O=!0}t=l(t,1);if((b=p=A.$delete(t))===h||null==b||b.$$is_boolean&&1!=b)return a;k=h;(b=(e=!1!==x&&x!==h&&null!=x)?A["$empty?"]():x)===h||null==b||b.$$is_boolean&&1!=b||((b=m=a.$index("</pre>"))===h||null==b||b.$$is_boolean&&1!=b?a=""+a.$chomp(" ")+" ":(k=a["$[]"](v(m,-1,!1)),a=""+a["$[]"](v(0,m,!0)).$chomp(" ")+
" "));if(p.$size()["$=="](1))return""+a+f.get("Inline").$new(c,"callout",p["$[]"](0),d(["id"],{id:c.document.$callouts().$read_next_id()})).$convert()+k;p=q((b=(e=p).$map,b.$$p=(g=function(a){var c=g.$$s||this;null==c.document&&(c.document=h);null==a&&(a=h);return f.get("Inline").$new(c,"callout",a,d(["id"],{id:c.document.$callouts().$read_next_id()})).$convert()},g.$$s=c,g.$$arity=1,g),b).call(e)," ");return""+a+p+k},u.$$s=this,u.$$arity=1,u),g).call(n),f.get("EOL"))},ia.$$arity=-3);a.defn(k,"$resolve_lines_to_highlight",
ha=function(c){var b,d,e,k=h,k=[];(b=(d=c.$delete(" ").$split(f.get("DataDelimiterRx"))).$map,b.$$p=(e=function(c){var b,d=h,f=h,e=h,f=h;null==c&&(c=h);d=!1;(b=c["$start_with?"]("!"))===h||null==b||b.$$is_boolean&&1!=b||(c=c["$[]"](v(1,-1,!1)),d=!0);if((b=c["$include?"]("-"))===h||null==b||b.$$is_boolean&&1!=b)return!1!==d&&d!==h&&null!=d?k.$delete(c.$to_i()):k["$<<"](c.$to_i());c=c.$split("-",2);b=a.to_ary(c);f=null==b[0]?h:b[0];e=null==b[1]?h:b[1];c;f=v(f.$to_i(),e.$to_i(),!1).$to_a();return!1!==
d&&d!==h&&null!=d?k=g(k,f):k.$concat(f)},e.$$s=this,e.$$arity=1,e),b).call(d);return k.$sort().$uniq()},ha.$$arity=1);a.defn(k,"$sub_source",la=function(a,c){return!1!==c&&c!==h&&null!=c?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},la.$$arity=2);a.defn(k,"$lock_in_subs",fa=function(){var a,c,b,d,e,g=h,k=g=h;null==this.default_subs&&(this.default_subs=h);null==this.content_model&&(this.content_model=h);null==this.context&&(this.context=h);null==this.attributes&&(this.attributes=
h);null==this.style&&(this.style=h);null==this.document&&(this.document=h);null==this.subs&&(this.subs=h);if((a=this.default_subs)===h||null==a||a.$$is_boolean&&1!=a)if(g=this.content_model,"simple"["$==="](g))g=f.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](g))g=(a=!1!==(c=this.context["$=="]("listing"))&&c!==h&&null!=c?c:(b=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===h||null==a||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?
f.get("SUBS")["$[]"]("normal"):f.get("SUBS")["$[]"]("basic"):f.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](g))g=this.context["$=="]("stem")?f.get("SUBS")["$[]"]("basic"):f.get("SUBS")["$[]"]("pass");else return h;else g=this.default_subs;(a=k=this.attributes["$[]"]("subs"))===h||null==a||a.$$is_boolean&&1!=a?this.subs=g.$dup():this.subs=this.$resolve_block_subs(k,g,this.context);return(a=(c=(b=(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==
d&&d!==h&&null!=d?this.attributes["$[]"]("language"):d),!1!==b&&b!==h&&null!=b?this.document["$basebackend?"]("html"):b),!1!==c&&c!==h&&null!=c?f.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):c))===h||null==a||a.$$is_boolean&&1!=a?h:this.subs=(a=(c=this.subs).$map,a.$$p=(e=function(a){null==a&&(a=h);return a["$=="]("specialcharacters")?"highlight":a},e.$$s=this,e.$$arity=1,e),a).call(c)},fa.$$arity=0)})(c(k,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var e=a.nil,g=a.module,h=a.klass,b=a.hash2,c=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path $relative_path".split(" "));
return function(d){(function(d,$super){function g(){}var n=g=h(d,$super,"AbstractNode",g),f=n.$$proto,m=n.$$scope,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka;f.document=f.attributes=f.path_resolver=f.style=e;n.$include(m.get("Substitutors"));n.$attr_reader("parent");n.$attr_reader("document");n.$attr_reader("context");n.$attr_reader("node_name");n.$attr_accessor("id");n.$attr_reader("attributes");a.defn(n,"$initialize",r=function(a,c,d){var f;null==d&&(d=b([],{}));c["$=="]("document")?
this.document=a:!1!==a&&a!==e&&null!=a?(this.parent=a,this.document=a.$document()):this.document=this.parent=e;this.context=c;this.node_name=c.$to_s();this.attributes=(f=d["$key?"]("attributes"))===e||null==f||f.$$is_boolean&&1!=f?b([],{}):d["$[]"]("attributes").$dup();return this.passthroughs=b([],{})},r.$$arity=-3);a.defn(n,"$parent=",x=function(a){this.parent=a;this.document=a.$document();return e},x.$$arity=1);a.defn(n,"$inline?",E=function(){return this.$raise(a.get("NotImplementedError"))},
E.$$arity=0);a.defn(n,"$block?",B=function(){return this.$raise(a.get("NotImplementedError"))},B.$$arity=0);a.defn(n,"$attr",t=function(c,b,d){var f,g;null==b&&(b=e);null==d&&(d=!0);(f=a.get("Symbol")["$==="](c))===e||null==f||f.$$is_boolean&&1!=f||(c=c.$to_s());this["$=="](this.document)&&(d=!1);return!1!==d&&d!==e&&null!=d?!1!==(f=!1!==(g=this.attributes["$[]"](c))&&g!==e&&null!=g?g:this.document.$attributes()["$[]"](c))&&f!==e&&null!=f?f:b:!1!==(f=this.attributes["$[]"](c))&&f!==e&&null!=f?f:b},
t.$$arity=-2);a.defn(n,"$attr?",u=function(c,b,d){var f;null==b&&(b=e);null==d&&(d=!0);(f=a.get("Symbol")["$==="](c))===e||null==f||f.$$is_boolean&&1!=f||(c=c.$to_s());this["$=="](this.document)&&(d=!1);return(f=b["$nil?"]())===e||null==f||f.$$is_boolean&&1!=f?!1!==d&&d!==e&&null!=d?b["$=="](!1!==(f=this.attributes["$[]"](c))&&f!==e&&null!=f?f:this.document.$attributes()["$[]"](c)):b["$=="](this.attributes["$[]"](c)):!1!==(f=this.attributes["$has_key?"](c))&&f!==e&&null!=f?f:!1!==d&&d!==e&&null!=
d?this.document.$attributes()["$has_key?"](c):d},u.$$arity=-2);a.defn(n,"$set_attr",D=function(a,c,b){var d;null==b&&(b=!0);return(d=b["$=="](!1)?this.attributes["$key?"](a):b["$=="](!1))===e||null==d||d.$$is_boolean&&1!=d?(this.attributes["$[]="](a,c),!0):!1},D.$$arity=-3);a.defn(n,"$set_option",G=function(a){var c;if((c=this.attributes["$has_key?"]("options"))===e||null==c||c.$$is_boolean&&1!=c)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+
","+a);return this.attributes["$[]="](""+a+"-option","")},G.$$arity=1);a.defn(n,"$option?",z=function(a){return this.attributes["$has_key?"](""+a+"-option")},z.$$arity=1);a.defn(n,"$update_attributes",I=function(a){this.attributes.$update(a);return e},I.$$arity=1);a.defn(n,"$converter",J=function(){return this.document.$converter()},J.$$arity=0);a.defn(n,"$role?",F=function(a){var c;null==a&&(a=e);return!1!==a&&a!==e&&null!=a?a["$=="](!1!==(c=this.attributes["$[]"]("role"))&&c!==e&&null!=c?c:this.document.$attributes()["$[]"]("role")):
!1!==(c=this.attributes["$has_key?"]("role"))&&c!==e&&null!=c?c:this.document.$attributes()["$has_key?"]("role")},F.$$arity=-1);a.defn(n,"$role",y=function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==e&&null!=a?a:this.document.$attributes()["$[]"]("role")},y.$$arity=0);a.defn(n,"$has_role?",M=function(a){var c,b,d=e;return(c=d=!1!==(b=this.attributes["$[]"]("role"))&&b!==e&&null!=b?b:this.document.$attributes()["$[]"]("role"))===e||null==c||c.$$is_boolean&&1!=c?!1:d.$split(" ")["$include?"](a)},
M.$$arity=1);a.defn(n,"$roles",N=function(){var a,c,b=e;return(a=b=!1!==(c=this.attributes["$[]"]("role"))&&c!==e&&null!=c?c:this.document.$attributes()["$[]"]("role"))===e||null==a||a.$$is_boolean&&1!=a?[]:b.$split(" ")},N.$$arity=0);a.defn(n,"$add_role",Q=function(a){var c,b,d=e;return(c=(d=(!1!==(b=this.attributes["$[]"]("role"))&&b!==e&&null!=b?b:"").$split(" "))["$include?"](a))===e||null==c||c.$$is_boolean&&1!=c?this.attributes["$[]="]("role",l(d.$push(a)," ")):e},Q.$$arity=1);a.defn(n,"$remove_role",
V=function(a){var c,b,d=e;if((c=(d=(!1!==(b=this.attributes["$[]"]("role"))&&b!==e&&null!=b?b:"").$split(" "))["$include?"](a))===e||null==c||c.$$is_boolean&&1!=c)return e;d.$delete(a);return this.attributes["$[]="]("role",l(d," "))},V.$$arity=1);a.defn(n,"$reftext?",T=function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==e&&null!=a?a:this.document.$attributes()["$has_key?"]("reftext")},T.$$arity=0);a.defn(n,"$reftext",Y=function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&
a!==e&&null!=a?a:this.document.$attributes()["$[]"]("reftext")},Y.$$arity=0);a.defn(n,"$icon_uri",S=function(c){var b,d=e;return(b=this["$attr?"]("icon"))===e||null==b||b.$$is_boolean&&1!=b?this.$image_uri(""+c+"."+this.document.$attr("icontype","png"),"iconsdir"):(b=a.get("File").$extname(d=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===e||null==b||b.$$is_boolean&&1!=b?d:""+d+"."+this.document.$attr("icontype","png")},S.$$arity=1);a.defn(n,"$media_uri",A=function(a,c){null==c&&(c=
"imagesdir");return this.$normalize_web_path(a,!1!==c&&c!==e&&null!=c?this.document.$attr(c):e)},A.$$arity=-2);a.defn(n,"$image_uri",W=function(a,c){var b,d,f,g,h=e,k=e;null==c&&(c="imagesdir");return(b=(d=q((h=this.document).$safe(),m.get("SafeMode").$$scope.get("SECURE")),!1!==d&&d!==e&&null!=d?h["$attr?"]("data-uri"):d))===e||null==b||b.$$is_boolean&&1!=b?this.$normalize_web_path(a,!1!==c&&c!==e&&null!=c?h.$attr(c):e):(b=!1!==(d=m.get("Helpers")["$uriish?"](a))&&d!==e&&null!=d?d:(f=(g=!1!==c&&
c!==e&&null!=c?k=h.$attr(c):c,!1!==g&&g!==e&&null!=g?m.get("Helpers")["$uriish?"](k):g),!1!==f&&f!==e&&null!=f?a=this.$normalize_web_path(a,k,!1):f))===e||null==b||b.$$is_boolean&&1!=b?this.$generate_data_uri(a,c):(b=h["$attr?"]("allow-uri-read"))===e||null==b||b.$$is_boolean&&1!=b?a:this.$generate_data_uri_from_uri(a,h["$attr?"]("cache-uri"))},W.$$arity=-2);a.defn(n,"$generate_data_uri",aa=function(d,f){var g,h,k,l=e,q=l=e,n=e;null==f&&(f=e);l=a.get("File").$extname(d);l=l["$=="](".svg")?"image/svg+xml":
"image/"+l["$[]"](c(1,-1,!1));q=!1!==f&&f!==e&&null!=f?this.$normalize_system_path(d,this.document.$attr(f),e,b(["target_name"],{target_name:"image"})):this.$normalize_system_path(d);if((g=a.get("File")["$readable?"](q))===e||null==g||g.$$is_boolean&&1!=g)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+q),"data:"+l+":base64,";n=e;n=(g=a.get("IO")["$respond_to?"]("binread"))===e||null==g||g.$$is_boolean&&1!=g?(g=(h=a.get("File")).$open,g.$$p=(k=function(a){null==
a&&(a=e);return a.$read()},k.$$s=this,k.$$arity=1,k),g).call(h,q,"rb"):a.get("IO").$binread(q);return"data:"+l+";base64,"+a.get("Base64").$encode64(n).$delete(m.get("EOL"))},aa.$$arity=-2);a.defn(n,"$generate_data_uri_from_uri",ga=function(c,b){var d,f,g=e,h=e;null==b&&(b=!1);!1!==b&&b!==e&&null!=b?m.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||null==d||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return g=e,h=(d=this.$open,d.$$p=(f=
function(a){null==a&&(a=e);g=a.$content_type();return a.$read()},f.$$s=this,f.$$arity=1,f),d).call(this,c,"rb"),"data:"+g+";base64,"+a.get("Base64").$encode64(h).$delete(m.get("EOL"))}catch(k){if(a.rescue(k,[m.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+c),c}finally{a.pop_exception()}else throw k;}},ga.$$arity=-2);a.defn(n,"$read_contents",Z=function(c,d){var f,g,h,k,q,n=e,u=e,y=e;null==d&&(d=b([],{}));n=this.document;if((f=!1!==(g=
m.get("Helpers")["$uriish?"](c))&&g!==e&&null!=g?g:(h=(k=u=d["$[]"]("start"),!1!==k&&k!==e&&null!=k?m.get("Helpers")["$uriish?"](u):k),!1!==h&&h!==e&&null!=h?c=(!1!==(k=this.path_resolver)&&k!==e&&null!=k?k:this.path_resolver=m.get("PathResolver").$new()).$web_path(c,u):h))===e||null==f||f.$$is_boolean&&1!=f)c=this.$normalize_system_path(c,d["$[]"]("start"),e,b(["target_name"],{target_name:!1!==(f=d["$[]"]("label"))&&f!==e&&null!=f?f:"asset"})),y=this.$read_asset(c,b(["normalize","warn_on_failure"],
{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0)}));else if((f=n["$attr?"]("allow-uri-read"))===e||null==f||f.$$is_boolean&&1!=f)(f=d.$fetch("warn_on_failure",!0))===e||null==f||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(f=d["$[]"]("label"))&&f!==e&&null!=f?f:"asset")+" at URI: "+c+" (allow-uri-read attribute not enabled)"),y=e;else{(f=n["$attr?"]("cache-uri"))===e||null==f||f.$$is_boolean&&1!=f||m.get("Helpers").$require_library("open-uri/cached",
"open-uri-cached");try{y=(f=(g=a.get("OpenURI")).$open_uri,f.$$p=(q=function(a){null==a&&(a=e);return a.$read()},q.$$s=this,q.$$arity=1,q),f).call(g,c),(f=d["$[]"]("normalize"))===e||null==f||f.$$is_boolean&&1!=f||(y=l(m.get("Helpers").$normalize_lines_from_string(y),m.get("EOL")))}catch(r){if(a.rescue(r,[m.get("StandardError")]))try{(f=d.$fetch("warn_on_failure",!0))===e||null==f||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==(f=d["$[]"]("label"))&&
f!==e&&null!=f?f:"asset")+" at URI: "+c),y=e}finally{a.pop_exception()}else throw r;}}return y},Z.$$arity=-2);a.defn(n,"$read_asset",ia=function(c,d){var f;null==d&&(d=b([],{}));if((f=a.get("Hash")["$==="](d))===e||null==f||f.$$is_boolean&&1!=f)d=b(["warn_on_failure"],{warn_on_failure:d["$!="](!1)});return(f=a.get("File")["$readable?"](c))===e||null==f||f.$$is_boolean&&1!=f?((f=d["$[]"]("warn_on_failure"))===e||null==f||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+
c),e):(f=d["$[]"]("normalize"))===e||null==f||f.$$is_boolean&&1!=f?a.get("IO").$read(c):l(m.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(c)),m.get("EOL"))},ia.$$arity=-2);a.defn(n,"$normalize_web_path",ha=function(a,c,b){var d;null==c&&(c=e);null==b&&(b=!0);return(d=!1!==b&&b!==e&&null!=b?m.get("Helpers")["$uriish?"](a):b)===e||null==d||d.$$is_boolean&&1!=d?(!1!==(d=this.path_resolver)&&d!==e&&null!=d?d:this.path_resolver=m.get("PathResolver").$new()).$web_path(a,c):a},ha.$$arity=
-2);a.defn(n,"$normalize_system_path",la=function(c,d,f,g){var h,k=e,l=e;null==d&&(d=e);null==f&&(f=e);null==g&&(g=b([],{}));k=!1!==(h=this.path_resolver)&&h!==e&&null!=h?h:this.path_resolver=m.get("PathResolver").$new();if((h=q((l=this.document).$safe(),m.get("SafeMode").$$scope.get("SAFE")))===e||null==h||h.$$is_boolean&&1!=h){if(!1===d||d===e||null==d)d=l.$base_dir();if(!1===f||f===e||null==f)f=l.$base_dir()}else if(!1!==d&&d!==e&&null!=d){if((h=k["$is_root?"](d))===e||null==h||h.$$is_boolean&&
1!=h)d=a.get("File").$join(l.$base_dir(),d)}else d=l.$base_dir();return k.$system_path(c,d,f,g)},la.$$arity=-2);a.defn(n,"$normalize_asset_path",fa=function(a,c,d){null==c&&(c="path");null==d&&(d=!0);return this.$normalize_system_path(a,this.document.$base_dir(),e,b(["target_name","recover"],{target_name:c,recover:d}))},fa.$$arity=-2);a.defn(n,"$relative_path",ea=function(a){var c;return(!1!==(c=this.path_resolver)&&c!==e&&null!=c?c:this.path_resolver=m.get("PathResolver").$new()).$relative_path(a,
this.document.$base_dir())},ea.$$arity=1);a.defn(n,"$is_uri?",ja=function(a){return m.get("Helpers")["$uriish?"](a)},ja.$$arity=1);return(a.defn(n,"$list_marker_keyword",ka=function(a){var c;null==a&&(a=e);return m.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==(c=a)&&c!==e&&null!=c?c:this.style)},ka.$$arity=-1),e)&&"list_marker_keyword"})(g(d,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var e=a.nil,g=a.module,h=a.klass,b=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));
return function(c){c=g(c,"Asciidoctor").$$scope;(function(c,$super){function g(){}var k=g=h(c,$super,"AbstractBlock",g),n=k.$$proto,f=k.$$scope,m,r,x,E,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S;n.document=n.attributes=n.blocks=n.source_location=n.subs=n.title=n.subbed_title=n.caption=n.next_section_index=n.context=n.style=n.id=n.header=n.next_section_number=e;k.$attr_accessor("content_model");k.$attr_reader("subs");k.$attr_reader("blocks");k.$attr_accessor("level");k.$attr_writer("title");k.$attr_accessor("style");
k.$attr_accessor("caption");k.$attr_accessor("source_location");a.defn(k,"$initialize",m=function(c,d,f){var g,h=m.$$p,k=e,l=e;null==f&&(f=b([],{}));m.$$p=null;k=[];for(l=0;l<arguments.length;l++)k[l]=arguments[l];(g=a.find_super_dispatcher(this,"initialize",m,!1),g.$$p=h,g).apply(this,k);this.content_model="compound";this.subs=[];this.default_subs=e;this.blocks=[];this.style=this.caption=this.title=this.id=e;this.level=d["$=="]("document")?0:(g=!1!==c&&c!==e&&null!=c?d["$!="]("section"):c)===e||
null==g||g.$$is_boolean&&1!=g?e:c.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=e},m.$$arity=-3);a.defn(k,"$block?",r=function(){return!0},r.$$arity=0);a.defn(k,"$inline?",x=function(){return!1},x.$$arity=0);a.defn(k,"$context=",E=function(a){this.context=a;return this.node_name=a.$to_s()},E.$$arity=1);a.defn(k,"$convert",B=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},B.$$arity=0);a.alias(k,"render",
"convert");a.defn(k,"$content",t=function(){var a,c,b;return l((a=(c=this.blocks).$map,a.$$p=(b=function(a){null==a&&(a=e);return a.$convert()},b.$$s=this,b.$$arity=1,b),a).call(c),f.get("EOL"))},t.$$arity=0);a.defn(k,"$file",u=function(){var a;return(a=this.source_location)===e||null==a||a.$$is_boolean&&1!=a?e:this.source_location.$file()},u.$$arity=0);a.defn(k,"$lineno",D=function(){var a;return(a=this.source_location)===e||null==a||a.$$is_boolean&&1!=a?e:this.source_location.$lineno()},D.$$arity=
0);a.defn(k,"$sub?",G=function(a){return this.subs["$include?"](a)},G.$$arity=1);a.defn(k,"$title?",z=function(){return this.title["$nil_or_empty?"]()["$!"]()},z.$$arity=0);a.defn(k,"$title",I=function(){var a,c;return(a=(c=this.subbed_title,null!=c&&c!==e)?"instance-variable":e)===e||null==a||a.$$is_boolean&&1!=a?(a=this.title)===e||null==a||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title},I.$$arity=0);a.defn(k,"$captioned_title",J=function(){return""+
this.caption+this.$title()},J.$$arity=0);a.defn(k,"$blocks?",F=function(){return this.blocks["$empty?"]()["$!"]()},F.$$arity=0);a.defn(k,"$<<",y=function(a){this.blocks["$<<"](a);return this},y.$$arity=1);a.alias(k,"append","<<");a.defn(k,"$sections",M=function(){var a,c,b;return(a=(c=this.blocks).$select,a.$$p=(b=function(a){null==a&&(a=e);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b),a).call(c)},M.$$arity=0);a.defn(k,"$sections?",N=function(){var a=this.next_section_index;return"number"===
typeof a?0<a:a["$>"](0)},N.$$arity=0);a.defn(k,"$find_by",Q=function(c){var d,f,g,h,k,l,m,q=Q.$$p||e,n=e,u=e,y=e,r=e,t=e,x=e;null==c&&(c=b([],{}));Q.$$p=null;n=[];if((d=(f=(g=(h=!1!==(k=u=(y=c["$[]"]("context"))["$!"]())&&k!==e&&null!=k?k:y["$=="](this.context),!1!==h&&h!==e&&null!=h?!1!==(k=(r=c["$[]"]("style"))["$!"]())&&k!==e&&null!=k?k:r["$=="](this.style):h),!1!==g&&g!==e&&null!=g?!1!==(h=(t=c["$[]"]("role"))["$!"]())&&h!==e&&null!=h?h:this["$has_role?"](t):g),!1!==f&&f!==e&&null!=f?!1!==(g=
(x=c["$[]"]("id"))["$!"]())&&g!==e&&null!=g?g:x["$=="](this.id):f))!==e&&null!=d&&(!d.$$is_boolean||1==d)){if(!1!==x&&x!==e&&null!=x)return q!==e?(d=a.yield1(q,this))===e||null==d||d.$$is_boolean&&1!=d?n:[this]:[this];if(q!==e){if((d=a.yield1(q,this))!==e&&null!=d&&(!d.$$is_boolean||1==d))n["$<<"](this)}else n["$<<"](this)}(d=(f=(g=this.context["$=="]("document"))?!1!==(h=u)&&h!==e&&null!=h?h:y["$=="]("section"):this.context["$=="]("document"),!1!==f&&f!==e&&null!=f?this["$header?"]():f))===e||null==
d||d.$$is_boolean&&1!=d||n.$concat((d=(f=this.header).$find_by,d.$$p=q.$to_proc(),d).call(f,c));y["$=="]("document")||(this.context["$=="]("dlist")?(d=!1!==(g=u)&&g!==e&&null!=g?g:y["$!="]("section"))===e||null==d||d.$$is_boolean&&1!=d||(d=(g=this.blocks.$flatten()).$each,d.$$p=(l=function(a){var b,d;null==a&&(a=e);return!1!==a&&a!==e&&null!=a?n.$concat((b=(d=a).$find_by,b.$$p=q.$to_proc(),b).call(d,c)):e},l.$$s=this,l.$$arity=1,l),d).call(g):d=(h=(k=this.blocks).$each,h.$$p=(m=function(a){var b,
d;null==a&&(a=e);return(b=y["$=="]("section")?a.$context()["$!="]("section"):y["$=="]("section"))===e||null==b||b.$$is_boolean&&1!=b?n.$concat((b=(d=a).$find_by,b.$$p=q.$to_proc(),b).call(d,c)):e},m.$$s=this,m.$$arity=1,m),h).call(k));return n},Q.$$arity=-1);a.alias(k,"query","find_by");a.defn(k,"$remove_sub",V=function(a){this.subs.$delete(a);return e},V.$$arity=1);a.defn(k,"$assign_caption",T=function(a,c){var b,d,f=e,g=f=f=e;null==a&&(a=e);null==c&&(c=e);if((b=!1!==(d=this["$title?"]())&&d!==e&&
null!=d?d:this.caption["$!"]())===e||null==b||b.$$is_boolean&&1!=b)return e;!1!==a&&a!==e&&null!=a?this.caption=a:(b=f=this.document.$attributes()["$[]"]("caption"))===e||null==b||b.$$is_boolean&&1!=b?(b=this["$title?"]())===e||null==b||b.$$is_boolean&&1!=b||(!1!==(b=c)&&b!==e&&null!=b?b:c=this.context.$to_s(),f=""+c+"-caption",(b=f=this.document.$attributes()["$[]"](f))===e||null==b||b.$$is_boolean&&1!=b||(g=this.document.$counter_increment(""+c+"-number",this),this.caption=""+f+" "+g+". ")):this.caption=
f;return e},T.$$arity=-1);a.defn(k,"$assign_index",Y=function(a){var c,b,d,f=e,g=e;c=[this.next_section_index];b=a;b["$index="].apply(b,c);c[c.length-1];this.next_section_index=q(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?(f=this.document.$counter("appendix-number","A"),(c=a.$numbered())===e||null==c||c.$$is_boolean&&1!=c||(c=[f],b=a,b["$number="].apply(b,c),c[c.length-1]),(c=(g=this.document.$attr("appendix-caption",""))["$!="](""))===e||null==c||c.$$is_boolean&&1!=c?(c=[""+
f+". "],b=a,b["$caption="].apply(b,c),c[c.length-1]):(c=[""+g+" "+f+": "],b=a,b["$caption="].apply(b,c),c[c.length-1])):(c=a.$numbered())===e||null==c||c.$$is_boolean&&1!=c?e:(c=(b=!1!==(d=a.$level()["$=="](1))&&d!==e&&null!=d?d:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),!1!==b&&b!==e&&null!=b?this.document.$doctype()["$=="]("book"):b))===e||null==c||c.$$is_boolean&&1!=c?(c=[this.next_section_number],b=a,b["$number="].apply(b,c),c[c.length-1],this.next_section_number=q(this.next_section_number,
1)):(c=[this.document.$counter("chapter-number",1)],b=a,b["$number="].apply(b,c),c[c.length-1])},Y.$$arity=1);return(a.defn(k,"$reindex_sections",S=function(){var a,c,b;this.next_section_number=this.next_section_index=0;return(a=(c=this.blocks).$each,a.$$p=(b=function(a){var c=b.$$s||this;null==a&&(a=e);return a.$context()["$=="]("section")?(c.$assign_index(a),a.$reindex_sections()):e},b.$$s=this,b.$$arity=1,b),a).call(c)},S.$$arity=0),e)&&"reindex_sections"})(c.base,c.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var q=a.nil,e=a.module,g=a.klass,h=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(b){(function(c,
$super){function b(){}var e=b=g(c,$super,"AttributeList",b),k=e.$$proto,n=e.$$scope,f,m,r,x,E,B,t,u,D,G,z,I;k.attributes=k.scanner=k.delimiter=k.block=k.delimiter_skip_pattern=k.delimiter_boundary_pattern=q;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(n,"CG_BLANK","[ \\t]"),a.cdecl(n,"CC_WORD","a-zA-Z0-9_"),a.cdecl(n,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(n,"BoundaryRxs",h(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+n.get("CG_BLANK")+"*(,|$))")}));a.cdecl(n,"EscapedQuoteRxs",
h(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.cdecl(n,"NameRx",new RegExp(""+n.get("CG_WORD")+"["+n.get("CC_WORD")+"\\-.]*"));a.cdecl(n,"BlankRx",new RegExp(""+n.get("CG_BLANK")+"+"));a.cdecl(n,"SkipRxs",h(["blank",","],{blank:n.get("BlankRx"),",":new RegExp(""+n.get("CG_BLANK")+"*(,|$)")}));a.defn(e,"$initialize",f=function(c,b,f){null==b&&(b=q);null==f&&(f=",");this.scanner=a.get("StringScanner").$new(c);this.block=b;this.delimiter=f;this.delimiter_skip_pattern=n.get("SkipRxs")["$[]"](f);this.delimiter_boundary_pattern=
n.get("BoundaryRxs")["$[]"](f);return this.attributes=q},f.$$arity=-2);a.defn(e,"$parse_into",m=function(a,c){null==c&&(c=[]);return a.$update(this.$parse(c))},m.$$arity=-2);a.defn(e,"$parse",r=function(a){var c,b,f=q;null==a&&(a=[]);if((c=this.attributes)!==q&&null!=c&&(!c.$$is_boolean||1==c))return this.attributes;this.attributes=h([],{});for(f=0;(b=this.$parse_attribute(f,a))!==q&&null!=b&&(!b.$$is_boolean||1==b)&&((b=this.scanner["$eos?"]())===q||null==b||b.$$is_boolean&&1!=b);)this.$skip_delimiter(),
f=l(f,1);return this.attributes},r.$$arity=-1);a.defn(e,"$rekey",x=function(a){return n.get("AttributeList").$rekey(this.attributes,a)},x.$$arity=1);a.defs(e,"$rekey",E=function(a,c){var b,f;(b=c.$each_with_index,b.$$p=(f=function(c,b){var f,e=q,g=q;null==c&&(c=q);null==b&&(b=q);if(!1===c||c===q||null==c)return q;e=l(b,1);return(f=g=a["$[]"](e))===q||null==f||f.$$is_boolean&&1!=f?q:a["$[]="](c,g)},f.$$s=this,f.$$arity=2,f),b).call(c);return a},E.$$arity=2);a.defn(e,"$parse_attribute",B=function(a,
c){var b,f,e,g,h=q,k=q,m=k=q,n=q,u=q,k=h=n=q;null==a&&(a=0);null==c&&(c=[]);h=!1;this.$skip_blank();if((k=this.scanner.$peek(1))["$=="]('"'))k=this.$parse_attribute_value(this.scanner.$get_byte()),m=q;else if(k["$=="]("'"))k=this.$parse_attribute_value(this.scanner.$get_byte()),m=q,h=!0;else{k=this.$scan_name();n=0;u=q;if((b=this.scanner["$eos?"]())===q||null==b||b.$$is_boolean&&1!=b)n=!1!==(b=this.$skip_blank())&&b!==q&&null!=b?b:0,u=this.scanner.$get_byte();else if(!1===k||k===q||null==k)return!1;
if((b=!1!==(f=u["$!"]())&&f!==q&&null!=f?f:u["$=="](this.delimiter))===q||null==b||b.$$is_boolean&&1!=b)if((b=!1!==(f=u["$!="]("="))&&f!==q&&null!=f?f:k["$!"]())===q||null==b||b.$$is_boolean&&1!=b){if(this.$skip_blank(),(b=this.scanner.$peek(1))!==q&&null!=b&&(!b.$$is_boolean||1==b))if((u=this.scanner.$get_byte())["$=="]('"'))m=this.$parse_attribute_value(u);else if(u["$=="]("'"))m=this.$parse_attribute_value(u),h=!0;else if(u["$=="](this.delimiter))m=q;else if(m=""+u+this.$scan_to_delimiter(),m["$=="]("None"))return!0}else k=
""+k+" "["$*"](n)+u+this.$scan_to_delimiter(),m=q;else m=q}if(!1!==m&&m!==q&&null!=m)if(n=k,"options"["$==="](n)||"opts"["$==="](n))k="options",(b=(f=m.$tr(" ","").$split(",")).$each,b.$$p=(e=function(a){var c=e.$$s||this;null==c.attributes&&(c.attributes=q);null==a&&(a=q);return c.attributes["$[]="](""+a+"-option","")},e.$$s=this,e.$$arity=1,e),b).call(f),this.attributes["$[]="](k,m);else if("title"["$==="](n))this.attributes["$[]="](k,m);else this.attributes["$[]="](k,(b=(g=!1!==h&&h!==q&&null!=
h?m["$empty?"]()["$!"]():h,!1!==g&&g!==q&&null!=g?this.block:g))===q||null==b||b.$$is_boolean&&1!=b?m:this.block.$apply_normal_subs(m));else{h=(b=(g=!1!==h&&h!==q&&null!=h?k["$empty?"]()["$!"]():h,!1!==g&&g!==q&&null!=g?this.block:g))===q||null==b||b.$$is_boolean&&1!=b?k:this.block.$apply_normal_subs(k);if((b=k=c["$[]"](a))!==q&&null!=b&&(!b.$$is_boolean||1==b))this.attributes["$[]="](k,h);this.attributes["$[]="](l(a,1),h)}return!0},B.$$arity=-1);a.defn(e,"$parse_attribute_value",t=function(a){var c,
b=q;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((c=b=this.$scan_to_quote(a))===q||null==c||c.$$is_boolean&&1!=c)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return b.$gsub(n.get("EscapedQuoteRxs")["$[]"](a),a)},t.$$arity=1);a.defn(e,"$skip_blank",u=function(){return this.scanner.$skip(n.get("BlankRx"))},u.$$arity=0);a.defn(e,"$skip_delimiter",D=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},D.$$arity=0);a.defn(e,"$scan_name",G=function(){return this.scanner.$scan(n.get("NameRx"))},
G.$$arity=0);a.defn(e,"$scan_to_delimiter",z=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},z.$$arity=0);return(a.defn(e,"$scan_to_quote",I=function(a){return this.scanner.$scan(n.get("BoundaryRxs")["$[]"](a))},I.$$arity=1),q)&&"scan_to_quote"})(e(b,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var q=a.nil,e=a.module,g=a.klass,h=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(b){b=e(b,"Asciidoctor").$$scope;(function(c,$super){function b(){}var e=b=g(c,$super,
"Block",b),k=e.$$proto,n=e.$$scope,f,m,r,x,E;k.attributes=k.content_model=k.lines=k.subs=k.blocks=k.context=k.style=q;k=["simple"];f=a.cdecl(n,"DEFAULT_CONTENT_MODEL",h("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));f["$default="].apply(f,k);k[k.length-1];a.alias(e,"blockname","context");e.$attr_accessor("lines");
a.defn(e,"$initialize",m=function(c,b,f){var e,g=m.$$p,k=q,l=q,r=k=q;null==f&&(f=h([],{}));m.$$p=null;k=[];for(r=0;r<arguments.length;r++)k[r]=arguments[r];(e=a.find_super_dispatcher(this,"initialize",m,!1),e.$$p=g,e).apply(this,k);this.content_model=!1!==(e=f["$[]"]("content_model"))&&e!==q&&null!=e?e:n.get("DEFAULT_CONTENT_MODEL")["$[]"](b);(e=f["$key?"]("subs"))===q||null==e||e.$$is_boolean&&1!=e?(this.subs=[],this.default_subs=q):(e=k=f["$[]"]("subs"))===q||null==e||e.$$is_boolean&&1!=e?(this.subs=
[],this.default_subs=[],this.attributes.$delete("subs")):(k["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):(e=a.get("Array")["$==="](k))===q||null==e||e.$$is_boolean&&1!=e?(this.default_subs=q,this.attributes["$[]="]("subs",""+k)):(this.default_subs=k.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(e=(l=f["$[]"]("source"))["$nil_or_empty?"]())===q||null==e||e.$$is_boolean&&1!=e?(e=a.get("String")["$==="](l))===q||null==e||e.$$is_boolean&&1!=e?this.lines=l.$dup():
this.lines=n.get("Helpers").$normalize_lines_from_string(l):this.lines=[]},m.$$arity=-3);a.defn(e,"$content",r=function(){var c,b,f,e,g=this,h=r.$$p,k=q,m=q,w=q,y=q,x=q,v=q;r.$$p=null;x=[];for(v=0;v<arguments.length;v++)x[v]=arguments[v];return function(){k=g.content_model;if("compound"["$==="](k))return(c=(b=g,a.find_super_dispatcher(g,"content",r,!1)),c.$$p=h,c).apply(b,x);if("simple"["$==="](k))return g.$apply_subs(l(g.lines,n.get("EOL")),g.subs);if("verbatim"["$==="](k)||"raw"["$==="](k)){m=g.$apply_subs(g.lines,
g.subs);var v=m.$size();if((c="number"===typeof v?2>v:v["$<"](2))===q||null==c||c.$$is_boolean&&1!=c){for(;(f=(e=w=m["$[]"](0),!1!==e&&e!==q&&null!=e?w.$rstrip()["$empty?"]():e))!==q&&null!=f&&(!f.$$is_boolean||1==f);)m.$shift();for(;(f=(e=y=m["$[]"](-1),!1!==e&&e!==q&&null!=e?y.$rstrip()["$empty?"]():e))!==q&&null!=f&&(!f.$$is_boolean||1==f);)m.$pop();return l(m,n.get("EOL"))}return m["$[]"](0)}g.content_model["$=="]("empty")||g.$warn("Unknown content model '"+g.content_model+"' for block: "+g.$to_s());
return q}()},r.$$arity=0);a.defn(e,"$source",x=function(){return l(this.lines,n.get("EOL"))},x.$$arity=0);return(a.defn(e,"$to_s",E=function(){var a=q,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},E.$$arity=0),q)&&"to_s"})(b.base,b.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var e=a.nil,g=a.module,h=a.klass,b=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(c){(function(c,$super){function g(){}var k=g=h(c,$super,"Callouts",g),n=k.$$proto,f,m,
r,x,E,B,t,u,D;n.co_index=n.lists=n.list_index=e;a.defn(k,"$initialize",f=function(){this.lists=[];this.list_index=0;return this.$next_list()},f.$$arity=0);a.defn(k,"$register",m=function(a){var c=e;this.$current_list()["$<<"](b(["ordinal","id"],{ordinal:a.$to_i(),id:c=this.$generate_next_callout_id()}));this.co_index=l(this.co_index,1);return c},m.$$arity=1);a.defn(k,"$read_next_id",r=function(){var a,c=e,b=e,c=e,b=this.$current_list(),d=this.co_index,f=b.$size();(a="number"===typeof d&&"number"===
typeof f?d<=f:d["$<="](f))===e||null==a||a.$$is_boolean&&1!=a||(c=b["$[]"](q(this.co_index,1))["$[]"]("id"));this.co_index=l(this.co_index,1);return c},r.$$arity=0);a.defn(k,"$callout_ids",x=function(a){var c,b,d;return(c=(b=this.$current_list()).$map,c.$$p=(d=function(c){null==c&&(c=e);return c["$[]"]("ordinal")["$=="](a)?""+c["$[]"]("id")+" ":e},d.$$s=this,d.$$arity=1,d),c).call(b).$join().$chop()},x.$$arity=1);a.defn(k,"$current_list",E=function(){return this.lists["$[]"](q(this.list_index,1))},
E.$$arity=0);a.defn(k,"$next_list",B=function(){var a;this.list_index=l(this.list_index,1);var c=this.lists.$size(),b=this.list_index;if((a="number"===typeof c&&"number"===typeof b?c<b:c["$<"](b))!==e&&null!=a&&(!a.$$is_boolean||1==a))this.lists["$<<"]([]);this.co_index=1;return e},B.$$arity=0);a.defn(k,"$rewind",t=function(){this.co_index=this.list_index=1;return e},t.$$arity=0);a.defn(k,"$generate_next_callout_id",u=function(){return this.$generate_callout_id(this.list_index,this.co_index)},u.$$arity=
0);return(a.defn(k,"$generate_callout_id",D=function(a,c){return"CO"+a+"-"+c},D.$$arity=2),e)&&"generate_callout_id"})(g(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/converter/base"]=function(a){var l=a.nil,q=a.module,e=a.klass,g=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(h){h=q(h,"Asciidoctor").$$scope;q(h.base,"Converter");l;(function(a,$super){function d(){}var g=d=e(a,$super,"Base",d);return g.$include(g.$$scope.get("Converter"))})(h.get("Converter"),null);(function(b,$super){function d(){}var h=d=e(b,$super,"BuiltIn",d),q,k,n,f;a.defn(h,"$initialize",q=function(a,b){null==b&&g([],
{});return l},q.$$arity=-2);a.defn(h,"$convert",k=function(a,b,d){var f;null==b&&(b=l);null==d&&(d=g([],{}));!1!==(f=b)&&f!==l&&null!=f?f:b=a.$node_name();return(f=d["$empty?"]())===l||null==f||f.$$is_boolean&&1!=f?this.$send(b,a,d):this.$send(b,a)},k.$$arity=-2);a.alias(h,"handles?","respond_to?");a.defn(h,"$content",n=function(a){return a.$content()},n.$$arity=1);a.alias(h,"pass","content");return(a.defn(h,"$skip",f=function(a){return l},f.$$arity=1),l)&&"skip"})(h.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){var l=a.nil,q=a.module,e=a.klass,g=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $is_a? $=== $key?".split(" "));return function(h){(function(b){(function(c,$super){function b(){}var h=b=e(c,$super,"Factory",b),k=h.$$proto,q=h.$$scope,f,m,r,x,E;k.converters=k.star_converter=l;h.__default__=l;(function(c){var b,f,e,h,k,m;a.defn(c,"$default",
b=function(c){var b,f;null==this.__default__&&(this.__default__=l);null==c&&(c=!0);if(!1===c||c===l||null==c)c=!1!==(b=this.__default__)&&b!==l&&null!=b?b:this.$new();else{if(!1===(b=this.__default__)||b===l||null==b){var e;a:{try{((f=null==a.Object.$$scope.ThreadSafe?l:"constant")===l||null==f||f.$$is_boolean&&1!=f)&&this.$require("thread_safe".$to_s());e=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(g){if(a.rescue(g,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
e=this.$new();break a}finally{a.pop_exception()}else throw g;}e=void 0}b=this.__default__=e}c=b}return c},b.$$arity=-1);a.defn(c,"$register",f=function(a,c){null==c&&(c=["*"]);return this.$default().$register(a,c)},f.$$arity=-2);a.defn(c,"$resolve",e=function(a){return this.$default().$resolve(a)},e.$$arity=1);a.defn(c,"$create",h=function(a,c){null==c&&(c=g([],{}));return this.$default().$create(a,c)},h.$$arity=-2);a.defn(c,"$converters",k=function(){return this.$default().$converters()},k.$$arity=
0);return(a.defn(c,"$unregister_all",m=function(){return this.$default().$unregister_all()},m.$$arity=0),l)&&"unregister_all"})(a.get_singleton_class(h));h.$attr_reader("converters");a.defn(h,"$initialize",f=function(a){var c;null==a&&(a=l);this.converters=!1!==(c=a)&&c!==l&&null!=c?c:g([],{});return this.star_converter=l},f.$$arity=-1);a.defn(h,"$register",m=function(a,c){var b,f,e;null==c&&(c=["*"]);(b=(f=c).$each,b.$$p=(e=function(c){var b=e.$$s||this;null==b.converters&&(b.converters=l);null==
c&&(c=l);b.converters["$[]="](c,a);return c["$=="]("*")?b.star_converter=a:l},e.$$s=this,e.$$arity=1,e),b).call(f);return l},m.$$arity=-2);a.defn(h,"$resolve",r=function(a){var c,b;return c=this.converters,!1!==c&&c!==l&&null!=c?!1!==(b=this.converters["$[]"](a))&&b!==l&&null!=b?b:this.star_converter:c},r.$$arity=1);a.defn(h,"$unregister_all",x=function(){this.converters.$clear();return this.star_converter=l},x.$$arity=0);return(a.defn(h,"$create",E=function(c,b){var f,e=this,h=l,k=h=l,m=l;null==
b&&(b=g([],{}));if((f=h=e.$resolve(c))!==l&&null!=f&&(!f.$$is_boolean||1==f))return(f=h["$is_a?"](a.get("Class")))===l||null==f||f.$$is_boolean&&1!=f?h:h.$new(c,b);h=function(){k=c;if("html5"["$==="](k)){var g;try{g=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":l}catch(h){if(h.$$class===a.NameError)g=l;else throw h;}((f=g)===l||null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/html5".$to_s());return q.get("Html5Converter").$new(c,b)}if("docbook5"["$==="](k)){var m;
try{m=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":l}catch(h){if(h.$$class===a.NameError)m=l;else throw h;}((f=m)===l||null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/docbook5".$to_s());return q.get("DocBook5Converter").$new(c,b)}if("docbook45"["$==="](k)){var r;try{r=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":l}catch(h){if(h.$$class===a.NameError)r=l;else throw h;}((f=r)===l||
null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/docbook45".$to_s());return q.get("DocBook45Converter").$new(c,b)}if("manpage"["$==="](k)){var x;try{x=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":l}catch(h){if(h.$$class===a.NameError)x=l;else throw h;}((f=x)===l||null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/manpage".$to_s());return q.get("ManPageConverter").$new(c,b)}return l}();if((f=b["$key?"]("template_dirs"))===
l||null==f||f.$$is_boolean&&1!=f)return h;var r;try{r=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":l}catch(y){if(y.$$class===a.NameError)r=l;else throw y;}((f=r)===l||null==f||f.$$is_boolean&&1!=f)&&e.$require("asciidoctor/converter/template".$to_s());var x;try{x=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":l}catch(y){if(y.$$class===a.NameError)x=l;else throw y;}((f=x)===l||null==f||f.$$is_boolean&&
1!=f)&&e.$require("asciidoctor/converter/composite".$to_s());m=q.get("TemplateConverter").$new(c,b["$[]"]("template_dirs"),b);return q.get("CompositeConverter").$new(c,m,h)},E.$$arity=-2),l)&&"create"})(q(b,"Converter").$$scope.base,null)})(q(h,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){var l=a.top,q=a.nil,e=a.module,g=a.range,h=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(b){b=e(b,"Asciidoctor").$$scope;(function(c){c=e(c,"Converter");var b=c.$$scope,l,v;(function(c){c=e(c,"Config");var b=c.$$scope,d;a.defn(c,"$register_for",d=function(c){var d,f,e,g,h,k,l=q,l=arguments.length,w=l-
0;0>w&&(w=0);k=Array(w);for(w=0;w<l;w++)k[w-0]=arguments[w];b.get("Factory").$register(this,k);l=function(a){return a}(a.get_singleton_class(this));k["$=="](["*"])?(d=(f=l).$send,d.$$p=(e=function(a){return!0},e.$$s=this,e.$$arity=1,e),d).call(f,"define_method","converts?"):(d=(g=l).$send,d.$$p=(h=function(a){null==a&&(a=q);return k["$include?"](a)},h.$$s=this,h.$$arity=1,h),d).call(g,"define_method","converts?");return q},d.$$arity=-1)})(b.base);(function(c){c=e(c,"BackendInfo");var b=c.$$scope,
d,l,r,x,w,v;a.defn(c,"$backend_info",d=function(){var a;null==this.backend_info&&(this.backend_info=q);return!1!==(a=this.backend_info)&&a!==q&&null!=a?a:this.backend_info=this.$setup_backend_info()},d.$$arity=0);a.defn(c,"$setup_backend_info",l=function(){var c,d=q,f=q,e=q,k=q;null==this.backend&&(this.backend=q);((c=this.backend)===q||null==c||c.$$is_boolean&&1!=c)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());d=this.backend.$sub(b.get("TrailingDigitsRx"),
"");(c=f=b.get("DEFAULT_EXTENSIONS")["$[]"](d))===q||null==c||c.$$is_boolean&&1!=c?(d="html",f=".html",k=e="html"):e=f["$[]"](g(1,-1,!1));return h(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:d,outfilesuffix:f,filetype:e,htmlsyntax:k})},l.$$arity=0);a.defn(c,"$filetype",r=function(a){null==a&&(a=q);return!1!==a&&a!==q&&null!=a?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")},r.$$arity=-1);a.defn(c,"$basebackend",x=function(a){null==a&&(a=
q);return!1!==a&&a!==q&&null!=a?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")},x.$$arity=-1);a.defn(c,"$outfilesuffix",w=function(a){null==a&&(a=q);return!1!==a&&a!==q&&null!=a?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")},w.$$arity=-1);a.defn(c,"$htmlsyntax",v=function(a){null==a&&(a=q);return!1!==a&&a!==q&&null!=a?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")},v.$$arity=
-1)})(b.base);(function(c){var b=c.$$scope,d;return(a.defn(c,"$included",d=function(a){return a.$extend(b.get("Config"))},d.$$arity=1),q)&&"included"})(a.get_singleton_class(c));c.$include(b.get("Config"));c.$include(b.get("BackendInfo"));a.defn(c,"$initialize",l=function(a,c){null==c&&h([],{});this.backend=a;return this.$setup_backend_info()},l.$$arity=-2);a.defn(c,"$convert",v=function(c,b,d){null==d&&h([],{});return this.$raise(a.get("NotImplementedError"))},v.$$arity=-2);a.alias(c,"convert_with_options",
"convert")})(b.base);(function(c){c=e(c,"Writer");var b=c.$$scope,g;a.defn(c,"$write",g=function(c,e){var g,f,h;(g=e["$respond_to?"]("write"))===q||null==g||g.$$is_boolean&&1!=g?(g=(f=a.get("File")).$open,g.$$p=(h=function(a){null==a&&(a=q);return a.$write(c)},h.$$s=this,h.$$arity=1,h),g).call(f,e,"w"):(e.$write(c.$chomp()),e.$write(b.get("EOL")));return q},g.$$arity=2)})(b.base);(function(c){c=e(c,"VoidWriter");var b;c.$include(c.$$scope.get("Writer"));a.defn(c,"$write",b=function(a,c){return q},
b.$$arity=2)})(b.base)})(a.base);l.$require("asciidoctor/converter/base");return l.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/html5"]=function(a){function l(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function e(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function g(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function b(a,c){return"number"===typeof a&&"number"===
typeof c?a+c:a["$+"](c)}var c=a.nil,d=a.module,w=a.klass,v=a.hash2,k=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $style $media_uri $option? $append_boolean_attribute $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match".split(" "));
return function(n){n=d(n,"Asciidoctor").$$scope;(function(d,$super){function n(){}var x=n=w(d,$super,"Html5Converter",n),E=x.$$proto,B=x.$$scope,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na,wa,ya;E.xml_mode=E.void_element_slash=E.stylesheets=c;E=[[c,c,c]];t=a.cdecl(B,"QUOTE_TAGS",v("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>",
"</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));t["$default="].apply(t,E);E[E.length-1];a.cdecl(B,"SvgPreambleRx",/\A.*?(?=<svg[ >])/m);a.cdecl(B,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(B,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(x,"$initialize",u=function(a,b){var d;null==b&&(b=v([],{}));
this.xml_mode=b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(d=this.xml_mode)===c||null==d||d.$$is_boolean&&1!=d?c:"/";return this.stylesheets=B.get("Stylesheets").$instance()},u.$$arity=-2);a.defn(x,"$document",D=function(a){var b,d,f,g,h,n,u=c,r=c,ba=c,y=c,L=c,C=c,H=c,ca=C=H=C=H=y=H=y=H=c,r=r=C=C=H=c,u=[],r=this.void_element_slash,ba="<br"+r+">";if((b=(y=a.$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b)y=""+y+":";L=""+y+"//cdnjs.cloudflare.com/ajax/libs";
C=!1!==(b=l(a.$safe(),B.get("SafeMode").$$scope.get("SECURE")))&&b!==c&&null!=b?b:a["$attr?"]("linkcss");u["$<<"]("<!DOCTYPE html>");H=(b=a["$attr?"]("nolang"))===c||null==b||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':c;u["$<<"]("<html"+((b=this.xml_mode)===c||null==b||b.$$is_boolean&&1!=b?c:' xmlns="http://www.w3.org/1999/xhtml"')+H+">");u["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+r+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+r+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
r+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+r+">");if((b=a["$attr?"]("app-name"))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+r+">");if((b=a["$attr?"]("description"))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+r+">");if((b=a["$attr?"]("keywords"))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]('<meta name="keywords" content="'+
a.$attr("keywords")+'"'+r+">");if((b=a["$attr?"]("authors"))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+r+">");if((b=a["$attr?"]("copyright"))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+r+">");u["$<<"]("<title>"+a.$doctitle(v(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=B.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==c&&
null!=b&&(!b.$$is_boolean||1==b)){if((b=H=a.$attr("webfonts"))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]('<link rel="stylesheet" href="'+y+"//fonts.googleapis.com/css?family="+((b=H["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b?H:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+r+">");if(!1!==C&&C!==c&&null!=C)u["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(B.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",
""),!1)+'"'+r+">");else u["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==c&&null!=b&&(!b.$$is_boolean||1==b))if(!1!==C&&C!==c&&null!=C)u["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+r+">");else u["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),v(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((b=a["$attr?"]("icons","font"))!==
c&&null!=b&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===c||null==b||b.$$is_boolean&&1!=b)y=""+a.$attr("iconfont-name","font-awesome")+".css",u["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(y,a.$attr("stylesdir",""),!1)+'"'+r+">");else u["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+L+"/font-awesome/4.5.0/css/font-awesome.min.css")+'"'+r+">");H=y=a.$attr("source-highlighter");if("coderay"["$==="](H)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==
C&&C!==c&&null!=C)u["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+r+">");else u["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](H)&&a.$attr("pygments-css","class")["$=="]("class"))if(H=a.$attr("pygments-style"),!1!==C&&C!==c&&null!=C)u["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(H),a.$attr("stylesdir",""),!1)+'"'+r+">");
else u["$<<"](this.stylesheets.$embed_pygments_stylesheet(H));if((b=(C=a.$docinfo())["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b)u["$<<"](C);u["$<<"]("</head>");H=[];if((b=a.$id())!==c&&null!=b&&(!b.$$is_boolean||1==b))H["$<<"]('id="'+a.$id()+'"');if((b=(d=(f=(g=C=a["$sections?"](),!1!==g&&g!==c&&null!=g?a["$attr?"]("toc-class"):g),!1!==f&&f!==c&&null!=f?a["$attr?"]("toc"):f),!1!==d&&d!==c&&null!=d?a["$attr?"]("toc-placement","auto"):d))===c||null==b||b.$$is_boolean&&1!=b)H["$<<"]('class="'+
a.$doctype()+'"');else H["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==c&&null!=b&&(!b.$$is_boolean||1==b))H["$<<"]('style="max-width: '+a.$attr("max-width")+';"');u["$<<"]("<body "+q(H," ")+">");if((b=a.$noheader())===c||null==b||b.$$is_boolean&&1!=b){u["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){u["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((b=(d=(f=!1!==C&&C!==c&&null!=C)?a["$attr?"]("toc"):
C,!1!==d&&d!==c&&null!=d?a["$attr?"]("toc-placement","auto"):d))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");u["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((b=a["$has_header?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===c||null==b||b.$$is_boolean&&
1!=b)u["$<<"]("<h1>"+a.$header().$title()+"</h1>");ca=[];if((b=a["$attr?"]("author"))!==c&&null!=b&&(!b.$$is_boolean||1==b)){ca["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+ba);if((b=a["$attr?"]("email"))!==c&&null!=b&&(!b.$$is_boolean||1==b))ca["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+ba);(b=e(H=a.$attr("authorcount").$to_i(),1))===c||null==b||b.$$is_boolean&&1!=b||(b=(d=k(2,H,!1)).$each,b.$$p=(h=function(b){var d;null==b&&(b=c);
ca["$<<"]('<span id="author'+b+'" class="author">'+a.$attr("author_"+b)+"</span>"+ba);return(d=a["$attr?"]("email_"+b))===c||null==d||d.$$is_boolean&&1!=d?c:ca["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+ba)},h.$$s=this,h.$$arity=1,h),b).call(d)}if((b=a["$attr?"]("revnumber"))!==c&&null!=b&&(!b.$$is_boolean||1==b))ca["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==c&&null!=b?b:"").$downcase()+" "+a.$attr("revnumber")+((b=a["$attr?"]("revdate"))===
c||null==b||b.$$is_boolean&&1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==c&&null!=b&&(!b.$$is_boolean||1==b))ca["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==c&&null!=b&&(!b.$$is_boolean||1==b))ca["$<<"](""+ba+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=ca["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b)u["$<<"]('<div class="details">'),u.$concat(ca),u["$<<"]("</div>")}if((b=(f=(g=!1!==C&&C!==c&&null!=C)?a["$attr?"]("toc"):
C,!1!==f&&f!==c&&null!=f?a["$attr?"]("toc-placement","auto"):f))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}u["$<<"]("</div>")}u["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(b=(f=a["$footnotes?"](),!1!==f&&f!==c&&null!=f?a["$attr?"]("nofootnotes")["$!"]():f))===c||null==b||b.$$is_boolean&&1!=b||(u["$<<"]('<div id="footnotes">\n<hr'+r+">"),(b=(f=a.$footnotes()).$each,
b.$$p=(n=function(a){null==a&&(a=c);return u["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},n.$$s=this,n.$$arity=1,n),b).call(f),u["$<<"]("</div>"));if((b=a.$nofooter())===c||null==b||b.$$is_boolean&&1!=b){u["$<<"]('<div id="footer">');u["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+
ba);if((b=(g=a["$attr?"]("last-update-label"),!1!==g&&g!==c&&null!=g?a["$attr?"]("reproducible")["$!"]():g))!==c&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));u["$<<"]("</div>");u["$<<"]("</div>")}if((b=(C=a.$docinfo("footer"))["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b)u["$<<"](C);H=y;"highlightjs"["$==="](H)||"highlight.js"["$==="](H)?(C=a.$attr("highlightjsdir",""+L+"/highlight.js/8.9.1"),u["$<<"]('<link rel="stylesheet" href="'+C+
"/styles/"+a.$attr("highlightjs-theme","github")+'.min.css"'+r+">"),u["$<<"]('<script src="'+C+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](H)&&(C=a.$attr("prettifydir",""+L+"/prettify/r298"),u["$<<"]('<link rel="stylesheet" href="'+C+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+r+">"),u["$<<"]('<script src="'+C+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===c||null==b||b.$$is_boolean&&
1!=b||(r=a.$attr("eqnums","none"),r["$=="]("")&&(r="AMS"),r=' equationNumbers: { autoNumber: "'+r+'" } ',u["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+B.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+B.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+B.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+
'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+r+'}\n});\n\x3c/script>\n<script src="'+L+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));u["$<<"]("</body>");u["$<<"]("</html>");return q(u,B.get("EOL"))},D.$$arity=1);a.defn(x,"$embedded",G=function(a){var b,d,f,e,g,h=c,k=c,l=c,h=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===c||null==b||b.$$is_boolean&&1!=b)k=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h["$<<"]("<h1"+k+">"+
a.$doctitle()+" Manual Page</h1>");h["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(b=(d=a["$has_header?"](),!1!==d&&d!==c&&null!=d?a.$notitle()["$!"]():d))===c||null==b||b.$$is_boolean&&1!=b||(k=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h["$<<"]("<h1"+k+">"+a.$header().$title()+"</h1>"));if((b=(d=(f=(e=a["$sections?"](),!1!==e&&e!==c&&null!=e?a["$attr?"]("toc"):e),!1!==f&&
f!==c&&null!=f?(l=a.$attr("toc-placement"))["$!="]("macro"):f),!1!==d&&d!==c&&null!=d?l["$!="]("preamble"):d))!==c&&null!=b&&(!b.$$is_boolean||1==b))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");h["$<<"](a.$content());(b=(d=a["$footnotes?"](),!1!==d&&d!==c&&null!=d?a["$attr?"]("nofootnotes")["$!"]():d))===c||null==b||b.$$is_boolean&&1!=b||(h["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(b=(d=a.$footnotes()).$each,
b.$$p=(g=function(a){null==a&&(a=c);return h["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g),b).call(d),h["$<<"]("</div>"));return q(h,B.get("EOL"))},G.$$arity=1);a.defn(x,"$outline",z=function(a,b){var d,f,e,k=c,l=c,n=c,u=c,r=c,y=c;null==b&&(b=v([],{}));if((d=a["$sections?"]())===c||null==d||d.$$is_boolean&&1!=d)return c;k=!1!==(d=b["$[]"]("sectnumlevels"))&&d!==c&&null!=d?
d:a.$document().$attr("sectnumlevels",3).$to_i();l=!1!==(d=b["$[]"]("toclevels"))&&d!==c&&null!=d?d:a.$document().$attr("toclevels",2).$to_i();n=[];u=a.$sections();r=(y=u["$[]"](0)).$level();(d=(f=r["$=="](0))?y.$special():r["$=="](0))===c||null==d||d.$$is_boolean&&1!=d||(r=1);n["$<<"]('<ul class="sectlevel'+r+'">');(d=(f=u).$each,d.$$p=(e=function(a){var b=e.$$s||this,d,f,p,q=c,u=c;null==a&&(a=c);q=(d=(f=(p=a.$numbered(),!1!==p&&p!==c&&null!=p?a.$caption()["$!"]():p),!1!==f&&f!==c&&null!=f?g(a.$level(),
k):f))===c||null==d||d.$$is_boolean&&1!=d?c:""+a.$sectnum()+" ";if((d=(f=h(a.$level(),l),!1!==f&&f!==c&&null!=f?u=b.$outline(a,v(["toclevels","secnumlevels"],{toclevels:l,secnumlevels:k})):f))===c||null==d||d.$$is_boolean&&1!=d)return n["$<<"]('<li><a href="#'+a.$id()+'">'+q+a.$captioned_title()+"</a></li>");n["$<<"]('<li><a href="#'+a.$id()+'">'+q+a.$captioned_title()+"</a>");n["$<<"](u);return n["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e),d).call(f);n["$<<"]("</ul>");return q(n,B.get("EOL"))},z.$$arity=
-2);a.defn(x,"$section",I=function(a){var d,f,e,h=c,k=c,l=c,q=c,n=c,u=c,r=c,L=c,C=c,h=a.$level();(d=(f=h["$=="](0))?a.$special():h["$=="](0))===c||null==d||d.$$is_boolean&&1!=d||(h=1);k="h"+b(h,1);l=q=n=u=c;(d=a.$id())===c||null==d||d.$$is_boolean&&1!=d||((l=' id="'+a.$id()+'"',(d=a.$document()["$attr?"]("sectanchors"))===c||null==d||d.$$is_boolean&&1!=d)?(d=a.$document()["$attr?"]("sectlinks"))===c||null==d||d.$$is_boolean&&1!=d||(n='<a class="link" href="#'+a.$id()+'">',u="</a>"):q='<a class="anchor" href="#'+
a.$id()+'"></a>');if(h["$=="](0))return"<h1"+l+' class="sect0">'+q+n+a.$title()+u+"</h1>\n"+a.$content();r=(d=L=a.$role())===c||null==d||d.$$is_boolean&&1!=d?' class="sect'+h+'"':' class="sect'+h+" "+L+'"';C=(d=(f=(e=a.$numbered(),!1!==e&&e!==c&&null!=e?a.$caption()["$!"]():e),!1!==f&&f!==c&&null!=f?g(h,a.$document().$attr("sectnumlevels",3).$to_i()):f))===c||null==d||d.$$is_boolean&&1!=d?c:""+a.$sectnum()+" ";return"<div"+r+">\n<"+k+l+">"+q+n+C+a.$captioned_title()+u+"</"+k+">\n"+(h["$=="](1)?'<div class="sectionbody">\n'+
a.$content()+"\n</div>":a.$content())+"\n</div>"},I.$$arity=1);a.defn(x,"$admonition",J=function(a){var b,d,f=c,e=c,g=c,h=c,k=c,f=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=a.$attr("name"),g=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",h=(b=a.$document()["$attr?"]("icons"))===c||null==b||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(d=a.$document()["$attr?"]("icons","font"),!1!==d&&d!==c&&null!=
d?a["$attr?"]("icon")["$!"]():d))===c||null==b||b.$$is_boolean&&1!=b?'<img src="'+a.$icon_uri(e)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+e+'" title="'+a.$caption()+'"></i>';return"<div"+f+' class="admonitionblock '+e+(b=k=a.$role(),!1!==b&&b!==c&&null!=b?" "+k:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+g+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},J.$$arity=1);a.defn(x,"$audio",F=function(a){var b,d=c,f=c,e=c,g=e=c,d=a.$document()["$attr?"]("htmlsyntax",
"xml"),f=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=["audioblock",a.$style(),a.$role()].$compact(),e=' class="'+q(e," ")+'"',g=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+f+e+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===c||null==b||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("autoplay",d))+((b=a["$option?"]("nocontrols"))===
c||null==b||b.$$is_boolean&&1!=b?this.$append_boolean_attribute("controls",d):c)+((b=a["$option?"]("loop"))===c||null==b||b.$$is_boolean&&1!=b?c:this.$append_boolean_attribute("loop",d))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},F.$$arity=1);a.defn(x,"$colist",y=function(a){var d,f,e,g,h,k=c,l=c,n=c,u=n=c,k=[],l=(d=a.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',n=["colist",a.$style(),a.$role()].$compact(),n=' class="'+q(n," ")+'"';k["$<<"]("<div"+
l+n+">");if((d=a["$title?"]())!==c&&null!=d&&(!d.$$is_boolean||1==d))k["$<<"]('<div class="title">'+a.$title()+"</div>");(d=a.$document()["$attr?"]("icons"))===c||null==d||d.$$is_boolean&&1!=d?(k["$<<"]("<ol>"),(d=(g=a.$items()).$each,d.$$p=(h=function(a){null==a&&(a=c);return k["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},h.$$s=this,h.$$arity=1,h),d).call(g),k["$<<"]("</ol>")):(k["$<<"]("<table>"),u=a.$document()["$attr?"]("icons","font"),(d=(f=a.$items()).$each_with_index,d.$$p=(e=function(d,f){var g=
e.$$s||this,h=c,h=c;null==g.void_element_slash&&(g.void_element_slash=c);null==d&&(d=c);null==f&&(f=c);h=b(f,1);h=!1!==u&&u!==c&&null!=u?'<i class="conum" data-value="'+h+'"></i><b>'+h+"</b>":'<img src="'+a.$icon_uri("callouts/"+h)+'" alt="'+h+'"'+g.void_element_slash+">";return k["$<<"]("<tr>\n<td>"+h+"</td>\n<td>"+d.$text()+"</td>\n</tr>")},e.$$s=this,e.$$arity=2,e),d).call(f),k["$<<"]("</table>"));k["$<<"]("</div>");return q(k,B.get("EOL"))},y.$$arity=1);a.defn(x,"$dlist",M=function(b){var d,f,
e,g,h,k,l,n=c,u=c,r=c,L=r=r=c,C=u=c,n=[],u=(d=b.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',r=b.$style(),r=("qanda"["$==="](r)?["qlist","qanda",b.$role()]:"horizontal"["$==="](r)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),r=' class="'+q(r," ")+'"';n["$<<"]("<div"+u+r+">");if((d=b["$title?"]())!==c&&null!=d&&(!d.$$is_boolean||1==d))n["$<<"]('<div class="title">'+b.$title()+"</div>");r=b.$style();"qanda"["$==="](r)?(n["$<<"]("<ol>"),(d=(f=b.$items()).$each,d.$$p=
(e=function(b,d){var f=e.$$s||this,g,h,k;null==b&&(b=c);null==d&&(d=c);n["$<<"]("<li>");(g=(h=[].concat(a.to_a(b))).$each,g.$$p=(k=function(a){null==a&&(a=c);return n["$<<"]("<p><em>"+a.$text()+"</em></p>")},k.$$s=f,k.$$arity=1,k),g).call(h);if(!1!==d&&d!==c&&null!=d){if((g=d["$text?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g))n["$<<"]("<p>"+d.$text()+"</p>");if((g=d["$blocks?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g))n["$<<"](d.$content())}return n["$<<"]("</li>")},e.$$s=this,e.$$arity=2,e),d).call(f),
n["$<<"]("</ol>")):"horizontal"["$==="](r)?(L=this.void_element_slash,n["$<<"]("<table>"),(d=!1!==(g=b["$attr?"]("labelwidth"))&&g!==c&&null!=g?g:b["$attr?"]("itemwidth"))===c||null==d||d.$$is_boolean&&1!=d||(n["$<<"]("<colgroup>"),u=(d=b["$attr?"]("labelwidth"))===c||null==d||d.$$is_boolean&&1!=d?c:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',n["$<<"]("<col"+u+L+">"),u=(d=b["$attr?"]("itemwidth"))===c||null==d||d.$$is_boolean&&1!=d?c:' style="width: '+b.$attr("itemwidth").$chomp("%")+
'%;"',n["$<<"]("<col"+u+L+">"),n["$<<"]("</colgroup>")),(d=(g=b.$items()).$each,d.$$p=(h=function(d,f){var e=h.$$s||this,g,k,p,l=c,q=c;null==d&&(d=c);null==f&&(f=c);n["$<<"]("<tr>");n["$<<"]('<td class="hdlist1'+((g=b["$option?"]("strong"))===c||null==g||g.$$is_boolean&&1!=g?c:" strong")+'">');l=[].concat(a.to_a(d));q=l["$[]"](-1);(g=(k=l).$each,g.$$p=(p=function(a){var b;null==a&&(a=c);n["$<<"](a.$text());return(b=a["$!="](q))===c||null==b||b.$$is_boolean&&1!=b?c:n["$<<"]("<br"+L+">")},p.$$s=e,p.$$arity=
1,p),g).call(k);n["$<<"]("</td>");n["$<<"]('<td class="hdlist2">');if(!1!==f&&f!==c&&null!=f){if((g=f["$text?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g))n["$<<"]("<p>"+f.$text()+"</p>");if((g=f["$blocks?"]())!==c&&null!=g&&(!g.$$is_boolean||1==g))n["$<<"](f.$content())}n["$<<"]("</td>");return n["$<<"]("</tr>")},h.$$s=this,h.$$arity=2,h),d).call(g),n["$<<"]("</table>")):(n["$<<"]("<dl>"),C=(d=b.$style())===c||null==d||d.$$is_boolean&&1!=d?' class="hdlist1"':c,(d=(k=b.$items()).$each,d.$$p=(l=function(b,
d){var f=l.$$s||this,e,g,h;null==b&&(b=c);null==d&&(d=c);(e=(g=[].concat(a.to_a(b))).$each,e.$$p=(h=function(a){null==a&&(a=c);return n["$<<"]("<dt"+C+">"+a.$text()+"</dt>")},h.$$s=f,h.$$arity=1,h),e).call(g);if(!1!==d&&d!==c&&null!=d){n["$<<"]("<dd>");if((e=d["$text?"]())!==c&&null!=e&&(!e.$$is_boolean||1==e))n["$<<"]("<p>"+d.$text()+"</p>");if((e=d["$blocks?"]())!==c&&null!=e&&(!e.$$is_boolean||1==e))n["$<<"](d.$content());return n["$<<"]("</dd>")}return c},l.$$s=this,l.$$arity=2,l),d).call(k),
n["$<<"]("</dl>"));n["$<<"]("</div>");return q(n,B.get("EOL"))},M.$$arity=1);a.defn(x,"$example",N=function(a){var b,d=c,f=c,e=c,d=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+d+' class="'+((b=e=a.$role())===c||null==b||b.$$is_boolean&&1!=b?"exampleblock":q(["exampleblock",e]," "))+'">\n'+f+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},N.$$arity=
1);a.defn(x,"$floating_title",Q=function(a){var d,f=c,e=c,g=c,f="h"+b(a.$level(),1),e=(d=a.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+a.$id()+'"',g=[a.$style(),a.$role()].$compact();return"<"+f+e+' class="'+q(g," ")+'">'+a.$title()+"</"+f+">"},Q.$$arity=1);a.defn(x,"$image",V=function(a){var b,d,f,e=c,g=c,k=c,l=c,n=c,u=c,r=l=c,l=k=k=g=g=e=c,e=a.$attr("target"),g=(b=a["$attr?"]("width"))===c||null==b||b.$$is_boolean&&1!=b?c:' width="'+a.$attr("width")+'"',k=(b=a["$attr?"]("height"))===c||
null==b||b.$$is_boolean&&1!=b?c:' height="'+a.$attr("height")+'"';(b=(d=!1!==(f=a["$attr?"]("format","svg",!1))&&f!==c&&null!=f?f:e["$include?"](".svg"),!1!==d&&d!==c&&null!=d?h(a.$document().$safe(),B.get("SafeMode").$$scope.get("SECURE")):d))===c||null==b||b.$$is_boolean&&1!=b||(!1!==(b=l=a["$option?"]("inline"))&&b!==c&&null!=b?b:n=a["$option?"]("interactive"),!1!==l&&l!==c&&null!=l?u=!1!==(b=this.$read_svg_contents(a,e))&&b!==c&&null!=b?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==n&&
n!==c&&null!=n&&(l=(b=a["$attr?"]("fallback"))===c||null==b||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+g+k+this.void_element_slash+">",u='<object type="image/svg+xml" data="'+a.$image_uri(e)+'"'+g+k+">"+l+"</object>"));!1!==(b=u)&&b!==c&&null!=b?b:u='<img src="'+a.$image_uri(e)+'" alt="'+a.$attr("alt")+'"'+g+k+this.void_element_slash+">";(b=r=a.$attr("link"))===c||null==b||b.$$is_boolean&&1!=b||(u=
'<a class="image" href="'+r+'">'+u+"</a>");e=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';g=["imageblock",a.$style(),a.$role()].$compact();g=' class="'+q(g," ")+'"';k=[];if((b=a["$attr?"]("align"))!==c&&null!=b&&(!b.$$is_boolean||1==b))k["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==c&&null!=b&&(!b.$$is_boolean||1==b))k["$<<"]("float: "+a.$attr("float"));k=(b=k["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b?' style="'+q(k,";")+'"':c;l=(b=a["$title?"]())===
c||null==b||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+e+g+k+'>\n<div class="content">\n'+u+"\n</div>"+l+"\n</div>"},V.$$arity=1);a.defn(x,"$listing",T=function(a){var b,d=c,f=c,e=c,g=c,h=g=d=e=d=c,k=c,d=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==c&&null!=b?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(e=(b=f=a.$attr("language",c,!1))===c||null==b||b.$$is_boolean&&1!=b?c:' data-lang="'+f+'"',g=a.$document().$attr("source-highlighter"),
"coderay"["$==="](g)?d=' class="CodeRay highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+'"':"pygments"["$==="](g)?d=' class="pygments highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?(d=' class="highlightjs highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+'"',!1!==f&&f!==c&&null!=f&&(e=' class="language-'+f+'"'+e)):"prettify"["$==="](g)?(d=' class="prettyprint highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+((b=a["$attr?"]("linenums"))===c||null==
b||b.$$is_boolean&&1!=b?c:" linenums")+'"',!1!==f&&f!==c&&null!=f&&(e=' class="language-'+f+'"'+e)):"html-pipeline"["$==="](g)?(d=!1!==f&&f!==c&&null!=f?' lang="'+f+'"':c,e=c):(d=' class="highlight'+(!1!==d&&d!==c&&null!=d?" nowrap":c)+'"',!1!==f&&f!==c&&null!=f&&(e=' class="language-'+f+'"'+e)),e="<pre"+d+"><code"+e+">",d="</code></pre>"):(e="<pre"+(!1!==d&&d!==c&&null!=d?' class="nowrap"':c)+">",d="</pre>");g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"';h=(b=a["$title?"]())===
c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+g+' class="listingblock'+(b=k=a.$role(),!1!==b&&b!==c&&null!=b?" "+k:b)+'">\n'+h+'<div class="content">\n'+e+a.$content()+d+"\n</div>\n</div>"},T.$$arity=1);a.defn(x,"$literal",Y=function(a){var b,d=c,f=c,e=c,g=c,d=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>\n",e=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&
b!==c&&null!=b?b:a["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(b=g=a.$role(),!1!==b&&b!==c&&null!=b?" "+g:b)+'">\n'+f+'<div class="content">\n<pre'+(!1!==e&&e!==c&&null!=e?' class="nowrap"':c)+">"+a.$content()+"</pre>\n</div>\n</div>"},Y.$$arity=1);a.defn(x,"$stem",S=function(b){var d,f,e=c,g=c,h=c,k=c,l=c,n=c,e=(d=b.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',g=(d=b["$title?"]())===c||null==d||d.$$is_boolean&&1!=d?c:'<div class="title">'+b.$title()+"</div>\n";
f=B.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());d=a.to_ary(f);h=null==d[0]?c:d[0];k=null==d[1]?c:d[1];f;if((d=(f=(l=b.$content())["$start_with?"](h),!1!==f&&f!==c&&null!=f?l["$end_with?"](k):f))===c||null==d||d.$$is_boolean&&1!=d)l=""+h+l+k;return"<div"+e+' class="'+((d=n=b.$role())===c||null==d||d.$$is_boolean&&1!=d?"stemblock":q(["stemblock",n]," "))+'">\n'+g+'<div class="content">\n'+l+"\n</div>\n</div>"},S.$$arity=1);a.defn(x,"$olist",A=function(a){var b,d,f,e=c,g=c,h=c,k=g=h=c,
h=c,e=[],g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h=["olist",a.$style(),a.$role()].$compact(),h=' class="'+q(h," ")+'"';e["$<<"]("<div"+g+h+">");if((b=a["$title?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b))e["$<<"]('<div class="title">'+a.$title()+"</div>");g=(b=k=a.$list_marker_keyword())===c||null==b||b.$$is_boolean&&1!=b?c:' type="'+k+'"';h=(b=a["$attr?"]("start"))===c||null==b||b.$$is_boolean&&1!=b?c:' start="'+a.$attr("start")+'"';e["$<<"]('<ol class="'+a.$style()+
'"'+g+h+">");(b=(d=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=c);e["$<<"]("<li>");e["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b))e["$<<"](a.$content());return e["$<<"]("</li>")},f.$$s=this,f.$$arity=1,f),b).call(d);e["$<<"]("</ol>");e["$<<"]("</div>");return q(e,B.get("EOL"))},A.$$arity=1);a.defn(x,"$open",W=function(a){var b,d,f,e=c,g=c,h=c,k=c;if((e=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):
a.$parent()["$=="](a.$document()))===c||null==b||b.$$is_boolean&&1!=b)return g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+g+' class="quoteblock abstract'+(b=k=a.$role(),!1!==b&&b!==c&&null!=b?" "+k:b)+'">\n'+h+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");
return""}if((b=e["$=="]("partintro")?!1!==(d=!1!==(f=a.$level()["$!="](0))&&f!==c&&null!=f?f:a.$parent().$context()["$!="]("section"))&&d!==c&&null!=d?d:a.$document().$doctype()["$!="]("book"):e["$=="]("partintro"))===c||null==b||b.$$is_boolean&&1!=b)return g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+a.$title()+"</div>","<div"+g+' class="openblock'+((b=!1!==e&&e!==c&&null!=e?e["$!="]("open"):
e)===c||null==b||b.$$is_boolean&&1!=b?"":" "+e)+(b=k=a.$role(),!1!==b&&b!==c&&null!=b?" "+k:b)+'">\n'+h+'<div class="content">\n'+a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""},W.$$arity=1);a.defn(x,"$page_break",aa=function(a){return'<div style="page-break-after: always;"></div>'},aa.$$arity=1);a.defn(x,"$paragraph",ga=function(a){var b,d=c,d=c,d=(b=a.$role())===
c||null==b||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',d=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?d:'id="'+a.$id()+'" '+d;return(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?"<div "+d+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"},ga.$$arity=1);a.defn(x,"$preamble",Z=function(a){var b,d,f,e=c,g=c,g=(b=(d=(f=(e=a.$document())["$attr?"]("toc-placement","preamble"),!1!==f&&f!==
c&&null!=f?e["$sections?"]():f),!1!==d&&d!==c&&null!=d?e["$attr?"]("toc"):d))===c||null==b||b.$$is_boolean&&1!=b?c:'\n<div id="toc" class="'+e.$attr("toc-class","toc")+'">\n<div id="toctitle">'+e.$attr("toc-title")+"</div>\n"+this.$outline(e)+"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+g+"\n</div>"},Z.$$arity=1);a.defn(x,"$quote",ia=function(a){var b,d,f=c,e=c,g=e=c,h=c,k=c,l=c,l=h=c,f=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+
'"',e=["quoteblock",a.$role()].$compact(),e=' class="'+q(e," ")+'"',g=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",h=(b=a["$attr?"]("attribution"))===c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),k=(b=a["$attr?"]("citetitle"))===c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(d=h)&&d!==c&&null!=d?d:k)===c||null==b||b.$$is_boolean&&1!=b?l=c:(l=!1!==k&&k!==c&&null!=k?"<cite>"+k+"</cite>":c,h=!1!==h&&h!==c&&null!=h?"&#8212; "+
h+(!1!==k&&k!==c&&null!=k?"<br"+this.void_element_slash+">\n":c):c,l='\n<div class="attribution">\n'+h+l+"\n</div>");return"<div"+f+e+">"+g+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+l+"\n</div>"},ia.$$arity=1);a.defn(x,"$thematic_break",ha=function(a){return"<hr"+this.void_element_slash+">"},ha.$$arity=1);a.defn(x,"$sidebar",la=function(a){var b,d=c,f=c,e=c,d=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',f=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'<div class="title">'+
a.$title()+"</div>\n";return"<div"+d+' class="'+((b=e=a.$role())===c||null==b||b.$$is_boolean&&1!=b?"sidebarblock":q(["sidebarblock",e]," "))+'">\n<div class="content">\n'+f+a.$content()+"\n</div>\n</div>"},la.$$arity=1);a.defn(x,"$table",fa=function(a){var b,d,f,g,h,k,l,n,u,r,L=c,C=c,H=c,ca=c,y=c,t=ca=H=y=c,x=c,L=[],C=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',H=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],ca=[];if((b=a["$option?"]("autowidth"))===
c||null==b||b.$$is_boolean&&1!=b)if((y=a.$attr("tablepcwidth"))["$=="](100))H["$<<"]("spread");else ca["$<<"]("width: "+y+"%;");if((b=y=a.$role())!==c&&null!=b&&(!b.$$is_boolean||1==b))H["$<<"](y);H=' class="'+q(H," ")+'"';if((b=a["$attr?"]("float"))!==c&&null!=b&&(!b.$$is_boolean||1==b))ca["$<<"]("float: "+a.$attr("float")+";");ca=(b=ca["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b?' style="'+q(ca," ")+'"':c;L["$<<"]("<table"+C+H+ca+">");if((b=a["$title?"]())!==c&&null!=b&&(!b.$$is_boolean||1==
b))L["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");(b=e(a.$attr("rowcount"),0))===c||null==b||b.$$is_boolean&&1!=b||(t=this.void_element_slash,L["$<<"]("<colgroup>"),(b=a["$option?"]("autowidth"))===c||null==b||b.$$is_boolean&&1!=b?(b=(g=a.$columns()).$each,b.$$p=(h=function(a){null==a&&(a=c);return L["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+t+">")},h.$$s=this,h.$$arity=1,h),b).call(g):(x="<col"+t+">",(b=(d=a.$columns().$size()).$times,b.$$p=(f=function(){return L["$<<"](x)},
f.$$s=this,f.$$arity=0,f),b).call(d)),L["$<<"]("</colgroup>"),(b=(k=(n=(u=["head","foot","body"]).$select,n.$$p=(r=function(b){null==b&&(b=c);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},r.$$s=this,r.$$arity=1,r),n).call(u)).$each,b.$$p=(l=function(b){var d=l.$$s||this,f,e,g;null==b&&(b=c);L["$<<"]("<t"+b+">");(f=(e=a.$rows()["$[]"](b)).$each,f.$$p=(g=function(d){var f=g.$$s||this,e,h,k;null==d&&(d=c);L["$<<"]("<tr>");(e=(h=d).$each,e.$$p=(k=function(d){var f=k.$$s||this,e,g,h,l,p=c,q=c,n=q=c,
H=c,C=c,ca=c;null==d&&(d=c);b["$=="]("head")?p=d.$text():(q=d.$style(),"asciidoc"["$==="](q)?p="<div>"+d.$content()+"</div>":"verse"["$==="](q)?p='<div class="verse">'+d.$text()+"</div>":"literal"["$==="](q)?p='<div class="literal"><pre>'+d.$text()+"</pre></div>":(p="",(e=(g=d.$content()).$each,e.$$p=(h=function(a){null==a&&(a=c);return p=""+p+'<p class="tableblock">'+a+"</p>"},h.$$s=f,h.$$arity=1,h),e).call(g)));q=(e=!1!==(l=b["$=="]("head"))&&l!==c&&null!=l?l:d.$style()["$=="]("header"))===c||null==
e||e.$$is_boolean&&1!=e?"td":"th";n=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+'"';H=(e=d.$colspan())===c||null==e||e.$$is_boolean&&1!=e?c:' colspan="'+d.$colspan()+'"';C=(e=d.$rowspan())===c||null==e||e.$$is_boolean&&1!=e?c:' rowspan="'+d.$rowspan()+'"';ca=(e=a.$document()["$attr?"]("cellbgcolor"))===c||null==e||e.$$is_boolean&&1!=e?c:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return L["$<<"]("<"+q+n+H+C+ca+">"+p+"</"+q+">")},k.$$s=f,k.$$arity=
1,k),e).call(h);return L["$<<"]("</tr>")},g.$$s=d,g.$$arity=1,g),f).call(e);return L["$<<"]("</t"+b+">")},l.$$s=this,l.$$arity=1,l),b).call(k));L["$<<"]("</table>");return q(L,B.get("EOL"))},fa.$$arity=1);a.defn(x,"$toc",ea=function(a){var b,d,f,e=c,g=c,h=c,k=c,l=c,q=c;if((b=(d=(f=(e=a.$document())["$attr?"]("toc-placement","macro"),!1!==f&&f!==c&&null!=f?e["$sections?"]():f),!1!==d&&d!==c&&null!=d?e["$attr?"]("toc"):d))===c||null==b||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===
c||null==b||b.$$is_boolean&&1!=b?(g=' id="toc"',h=' id="toctitle"'):(g=' id="'+a.$id()+'"',h=' id="'+a.$id()+'title"');k=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?e.$attr("toc-title"):a.$title();l=(b=a["$attr?"]("levels"))===c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("levels").$to_i();q=(b=a["$role?"]())===c||null==b||b.$$is_boolean&&1!=b?e.$attr("toc-class","toc"):a.$role();return"<div"+g+' class="'+q+'">\n<div'+h+' class="title">'+k+"</div>\n"+this.$outline(e,v(["toclevels"],{toclevels:l}))+
"\n</div>"},ea.$$arity=1);a.defn(x,"$ulist",ja=function(a){var b,d,f,e=c,g=c,h=c,k=c,l=c,n=c,u=c,e=[],g=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',h=["ulist",a.$style(),a.$role()].$compact(),l=k=c;(b=n=a["$option?"]("checklist"))===c||null==b||b.$$is_boolean&&1!=b?u=(b=a.$style())===c||null==b||b.$$is_boolean&&1!=b?c:' class="'+a.$style()+'"':(h.$insert(1,"checklist"),u=' class="checklist"',(b=a["$option?"]("interactive"))===c||null==b||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons",
"font"))===c||null==b||b.$$is_boolean&&1!=b?(k="&#10003; ",l="&#10063; "):(k='<i class="fa fa-check-square-o"></i> ',l='<i class="fa fa-square-o"></i> '):(b=a.$document()["$attr?"]("htmlsyntax","xml"))===c||null==b||b.$$is_boolean&&1!=b?(k='<input type="checkbox" data-item-complete="1" checked> ',l='<input type="checkbox" data-item-complete="0"> '):(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',l='<input type="checkbox" data-item-complete="0"/> '));e["$<<"]("<div"+g+' class="'+
q(h," ")+'">');if((b=a["$title?"]())!==c&&null!=b&&(!b.$$is_boolean||1==b))e["$<<"]('<div class="title">'+a.$title()+"</div>");e["$<<"]("<ul"+u+">");(b=(d=a.$items()).$each,b.$$p=(f=function(a){var b;null==a&&(a=c);e["$<<"]("<li>");if((b=!1!==n&&n!==c&&null!=n?a["$attr?"]("checkbox"):n)===c||null==b||b.$$is_boolean&&1!=b)e["$<<"]("<p>"+a.$text()+"</p>");else e["$<<"]("<p>"+((b=a["$attr?"]("checked"))===c||null==b||b.$$is_boolean&&1!=b?l:k)+a.$text()+"</p>");if((b=a["$blocks?"]())!==c&&null!=b&&(!b.$$is_boolean||
1==b))e["$<<"](a.$content());return e["$<<"]("</li>")},f.$$s=this,f.$$arity=1,f),b).call(d);e["$<<"]("</ul>");e["$<<"]("</div>");return q(e,B.get("EOL"))},ja.$$arity=1);a.defn(x,"$verse",ka=function(a){var b,d,f=c,e=c,g=e=c,h=c,k=c,l=c,l=h=c,f=(b=a.$id())===c||null==b||b.$$is_boolean&&1!=b?c:' id="'+a.$id()+'"',e=["verseblock",a.$role()].$compact(),e=' class="'+q(e," ")+'"',g=(b=a["$title?"]())===c||null==b||b.$$is_boolean&&1!=b?c:'\n<div class="title">'+a.$title()+"</div>",h=(b=a["$attr?"]("attribution"))===
c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("attribution"),k=(b=a["$attr?"]("citetitle"))===c||null==b||b.$$is_boolean&&1!=b?c:a.$attr("citetitle");(b=!1!==(d=h)&&d!==c&&null!=d?d:k)===c||null==b||b.$$is_boolean&&1!=b?l=c:(l=!1!==k&&k!==c&&null!=k?"<cite>"+k+"</cite>":c,h=!1!==h&&h!==c&&null!=h?"&#8212; "+h+(!1!==k&&k!==c&&null!=k?"<br"+this.void_element_slash+">\n":c):c,l='\n<div class="attribution">\n'+h+l+"\n</div>");return"<div"+f+e+">"+g+'\n<pre class="content">'+a.$content()+"</pre>"+l+"\n</div>"},
ka.$$arity=1);a.defn(x,"$video",K=function(b){var d,f,e=this,g=c,h=c,k=c,l=c,n=c,u=c,r=c,L=c,C=c,H=c,ca=c,y=c,t=c,x=c,w=c,v=c,F=c,A=c,B=c,S=c,D=c,E=c,J=c,N=c,oa=c,M=c,aa=c,I=c,G=c,z=c,Y=c,g=b.$document()["$attr?"]("htmlsyntax","xml"),h=(d=b.$id())===c||null==d||d.$$is_boolean&&1!=d?c:' id="'+b.$id()+'"',k=["videoblock",b.$style(),b.$role()].$compact(),l=' class="'+q(k," ")+'"',n=(d=b["$title?"]())===c||null==d||d.$$is_boolean&&1!=d?c:'\n<div class="title">'+b.$captioned_title()+"</div>",u=(d=b["$attr?"]("width"))===
c||null==d||d.$$is_boolean&&1!=d?c:' width="'+b.$attr("width")+'"',r=(d=b["$attr?"]("height"))===c||null==d||d.$$is_boolean&&1!=d?c:' height="'+b.$attr("height")+'"';return function(){L=b.$attr("poster");if("vimeo"["$==="](L)){if((d=(C=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===c||null==d||d.$$is_boolean&&1!=d)C=""+C+":";H=(d=b["$attr?"]("start",c,!1))===c||null==d||d.$$is_boolean&&1!=d?c:"#at="+b.$attr("start");ca="?";y=(d=b["$option?"]("autoplay"))===c||null==d||d.$$is_boolean&&
1!=d?c:""+ca+"autoplay=1";!1!==y&&y!==c&&null!=y&&(ca="&amp;");t=(d=b["$option?"]("loop"))===c||null==d||d.$$is_boolean&&1!=d?c:""+ca+"loop=1";return"<div"+h+l+">"+n+'\n<div class="content">\n<iframe'+u+r+' src="'+C+"//player.vimeo.com/video/"+b.$attr("target")+H+y+t+'" frameborder="0"'+((d=b["$option?"]("nofullscreen"))===c||null==d||d.$$is_boolean&&1!=d?e.$append_boolean_attribute("allowfullscreen",g):c)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](L)){if((d=(C=b.$document().$attr("asset-uri-scheme",
"https"))["$empty?"]())===c||null==d||d.$$is_boolean&&1!=d)C=""+C+":";x=(d=b["$option?"]("related"))===c||null==d||d.$$is_boolean&&1!=d?0:1;w=(d=b["$attr?"]("start",c,!1))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;start="+b.$attr("start");v=(d=b["$attr?"]("end",c,!1))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;end="+b.$attr("end");y=(d=b["$option?"]("autoplay"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;autoplay=1";t=(d=b["$option?"]("loop"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;loop=1";F=
(d=b["$option?"]("nocontrols"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;controls=0";(d=b["$option?"]("nofullscreen"))===c||null==d||d.$$is_boolean&&1!=d?(A=c,B=e.$append_boolean_attribute("allowfullscreen",g)):(A="&amp;fs=0",B=c);S=(d=b["$option?"]("modest"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;modestbranding=1";D=(d=b["$attr?"]("theme",c,!1))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;theme="+b.$attr("theme");E=(d=b["$attr?"]("lang"))===c||null==d||d.$$is_boolean&&1!=d?c:"&amp;hl="+b.$attr("lang");
f=b.$attr("target").$split("/",2);d=a.to_ary(f);J=null==d[0]?c:d[0];N=null==d[1]?c:d[1];f;(d=!1!==(f=N)&&f!==c&&null!=f?f:N=b.$attr("list",c,!1))===c||null==d||d.$$is_boolean&&1!=d?(f=J.$split(",",2),d=a.to_ary(f),J=null==d[0]?c:d[0],M=null==d[1]?c:d[1],f,oa=(d=!1!==(f=M)&&f!==c&&null!=f?f:M=b.$attr("playlist",c,!1))===c||null==d||d.$$is_boolean&&1!=d?!1!==t&&t!==c&&null!=t?"&amp;playlist="+J:c:"&amp;playlist="+M):oa="&amp;list="+N;return"<div"+h+l+">"+n+'\n<div class="content">\n<iframe'+u+r+' src="'+
C+"//www.youtube.com/embed/"+J+"?rel="+x+w+v+y+t+F+oa+A+S+D+E+'" frameborder="0"'+B+"></iframe>\n</div>\n</div>"}aa=(d=(""+(I=b.$attr("poster")))["$empty?"]())===c||null==d||d.$$is_boolean&&1!=d?' poster="'+b.$media_uri(I)+'"':c;G=b.$attr("start",c,!1);z=b.$attr("end",c,!1);Y=(d=!1!==(f=G)&&f!==c&&null!=f?f:z)===c||null==d||d.$$is_boolean&&1!=d?c:"#t="+G+(!1!==z&&z!==c&&null!=z?",":c)+z;return"<div"+h+l+">"+n+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+Y+'"'+u+r+aa+((d=
b["$option?"]("autoplay"))===c||null==d||d.$$is_boolean&&1!=d?c:e.$append_boolean_attribute("autoplay",g))+((d=b["$option?"]("nocontrols"))===c||null==d||d.$$is_boolean&&1!=d?e.$append_boolean_attribute("controls",g):c)+((d=b["$option?"]("loop"))===c||null==d||d.$$is_boolean&&1!=d?c:e.$append_boolean_attribute("loop",g))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},K.$$arity=1);a.defn(x,"$inline_anchor",P=function(a){var b,d,f=this,e=c,g=c,h=c,k=c,l=c,q=c,e=a.$target();
return function(){g=a.$type();if("xref"["$==="](g))return h=!1!==(b=a.$attributes()["$[]"]("refid"))&&b!==c&&null!=b?b:e,k=!1!==(b=a.$text())&&b!==c&&null!=b?b:!1!==(d=a.$document().$references()["$[]"]("ids")["$[]"](h))&&d!==c&&null!=d?d:"["+h+"]",'<a href="'+e+'">'+k+"</a>";if("ref"["$==="](g))return'<a id="'+e+'"></a>';if("link"["$==="](g)){l=[];if((b=a.$id())!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"](' id="'+a.$id()+'"');if((b=q=a.$role())!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"](' class="'+
q+'"');if((b=a["$attr?"]("title",c,!1))!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"](' title="'+a.$attr("title")+'"');if((b=a["$attr?"]("window",c,!1))!==c&&null!=b&&(!b.$$is_boolean||1==b))l["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+e+'"'+l.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](g)?'<a id="'+e+'"></a>['+e+"]":f.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()},P.$$arity=1);a.defn(x,"$inline_break",U=function(a){return""+a.$text()+"<br"+
this.void_element_slash+">"},U.$$arity=1);a.defn(x,"$inline_button",R=function(a){return'<b class="button">'+a.$text()+"</b>"},R.$$arity=1);a.defn(x,"$inline_callout",qa=function(a){var b,d=c;if((b=a.$document()["$attr?"]("icons","font"))===c||null==b||b.$$is_boolean&&1!=b){if((b=a.$document()["$attr?"]("icons"))===c||null==b||b.$$is_boolean&&1!=b)return'<b class="conum">('+a.$text()+")</b>";d=a.$icon_uri("callouts/"+a.$text());return'<img src="'+d+'" alt="'+a.$text()+'"'+this.void_element_slash+
">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"},qa.$$arity=1);a.defn(x,"$inline_footnote",ra=function(a){var b,d=c,f=c;if((b=d=a.$attr("index"))===c||null==b||b.$$is_boolean&&1!=b)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":c;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</sup>";f=(b=a.$id())===
c||null==b||b.$$is_boolean&&1!=b?c:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+f+'>[<a id="_footnoteref_'+d+'" class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</sup>"},ra.$$arity=1);a.defn(x,"$inline_image",pa=function(b){var d,f,e,g,k,l,q,n,u=c,r=c,L=c,C=f=L=c,H=c,ca=c,y=c,t=f=c,u=c;(d=(f=(u=b.$type())["$=="]("icon"))?b.$document()["$attr?"]("icons","font"):(u=b.$type())["$=="]("icon"))===c||null==d||d.$$is_boolean&&1!=d?(d=(e=u["$=="]("icon"))?b.$document()["$attr?"]("icons")["$!"]():
u["$=="]("icon"))===c||null==d||d.$$is_boolean&&1!=d?(f=b.$target(),C=(d=(e=["width","height","title"]).$map,d.$$p=(g=function(a){var d;null==a&&(a=c);return(d=b["$attr?"](a))===c||null==d||d.$$is_boolean&&1!=d?c:" "+a+'="'+b.$attr(a)+'"'},g.$$s=this,g.$$arity=1,g),d).call(e).$join(),(d=(k=(l=(q=u["$!="]("icon"),!1!==q&&q!==c&&null!=q?!1!==(n=b["$attr?"]("format","svg",!1))&&n!==c&&null!=n?n:f["$include?"](".svg"):q),!1!==l&&l!==c&&null!=l?h(b.$document().$safe(),B.get("SafeMode").$$scope.get("SECURE")):
l),!1!==k&&k!==c&&null!=k?!1!==(l=H=b["$option?"]("inline"))&&l!==c&&null!=l?l:ca=b["$option?"]("interactive"):k))===c||null==d||d.$$is_boolean&&1!=d||(!1!==H&&H!==c&&null!=H?L=!1!==(d=this.$read_svg_contents(b,f))&&d!==c&&null!=d?d:'<span class="alt">'+b.$attr("alt")+"</span>":!1!==ca&&ca!==c&&null!=ca&&(y=(d=b["$attr?"]("fallback"))===c||null==d||d.$$is_boolean&&1!=d?'<span class="alt">'+b.$attr("alt")+"</span>":'<img src="'+b.$image_uri(b.$attr("fallback"))+'" alt="'+b.$attr("alt")+'"'+C+this.void_element_slash+
">",L='<object type="image/svg+xml" data="'+b.$image_uri(f)+'"'+C+">"+y+"</object>")),!1!==(d=L)&&d!==c&&null!=d?d:L='<img src="'+(u["$=="]("icon")?b.$icon_uri(f):b.$image_uri(f))+'" alt="'+b.$attr("alt")+'"'+C+this.void_element_slash+">"):L="["+b.$attr("alt")+"]":(r="fa fa-"+b.$target(),(d=(f=v(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,d.$$p=(e=function(d){var f,e;null==d&&(d=c);d=a.to_ary(d);f=a.slice.call(d,0,d.length);d=f.splice(0,1)[0];null==d&&(d=c);f=
f.splice(0,1)[0];null==f&&(f=c);return(e=b["$attr?"](d))===c||null==e||e.$$is_boolean&&1!=e?c:r=""+r+" "+f+b.$attr(d)},e.$$s=this,e.$$arity=1,e.$$has_top_level_mlhs_arg=!0,e),d).call(f),L=(d=b["$attr?"]("title"))===c||null==d||d.$$is_boolean&&1!=d?c:' title="'+b.$attr("title")+'"',L='<i class="'+r+'"'+L+"></i>");(d=b["$attr?"]("link"))===c||null==d||d.$$is_boolean&&1!=d||(f=(d=b["$attr?"]("window"))===c||null==d||d.$$is_boolean&&1!=d?c:' target="'+b.$attr("window")+'"',L='<a class="image" href="'+
b.$attr("link")+'"'+f+">"+L+"</a>");r=(d=t=b.$role())===c||null==d||d.$$is_boolean&&1!=d?u:""+u+" "+t;u=(d=b["$attr?"]("float"))===c||null==d||d.$$is_boolean&&1!=d?c:' style="float: '+b.$attr("float")+'"';return'<span class="'+r+'"'+u+">"+L+"</span>"},pa.$$arity=1);a.defn(x,"$inline_indexterm",va=function(a){return a.$type()["$=="]("visible")?a.$text():""},va.$$arity=1);a.defn(x,"$inline_kbd",oa=function(a){var b,d,f,e=c,e=c;if((e=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+e["$[]"](0)+"</kbd>";
e=(b=(d=e).$map,b.$$p=(f=function(a){null==a&&(a=c);return"<kbd>"+a+"</kbd>+"},f.$$s=this,f.$$arity=1,f),b).call(d).$join().$chop();return'<span class="keyseq">'+e+"</span>"},oa.$$arity=1);a.defn(x,"$inline_menu",ta=function(a){var b,d,f,e=c,g=c,h=g=c,e=a.$attr("menu");if((b=(g=a.$attr("submenus"))["$empty?"]()["$!"]())===c||null==b||b.$$is_boolean&&1!=b)return(b=h=a.$attr("menuitem"))===c||null==b||b.$$is_boolean&&1!=b?'<span class="menu">'+e+"</span>":'<span class="menuseq"><span class="menu">'+
e+'</span>&#160;&#9656; <span class="menuitem">'+h+"</span></span>";g=(b=(d=g).$map,b.$$p=(f=function(a){null==a&&(a=c);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},f.$$s=this,f.$$arity=1,f),b).call(d).$join().$chop();return'<span class="menuseq"><span class="menu">'+e+"</span>&#160;&#9656; "+g+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"},ta.$$arity=1);a.defn(x,"$inline_quoted",na=function(b){var d,f,e=c,g=c,h=c,k=c;f=c;f=B.get("QUOTE_TAGS")["$[]"](b.$type());d=a.to_ary(f);
e=null==d[0]?c:d[0];g=null==d[1]?c:d[1];h=null==d[2]?c:d[2];f;f=(d=k=b.$role())===c||null==d||d.$$is_boolean&&1!=d?""+e+b.$text()+g:!1!==h&&h!==c&&null!=h?""+e.$chop()+' class="'+k+'">'+b.$text()+g:'<span class="'+k+'">'+e+b.$text()+g+"</span>";return(d=b.$id())===c||null==d||d.$$is_boolean&&1!=d?f:'<a id="'+b.$id()+'"></a>'+f},na.$$arity=1);a.defn(x,"$append_boolean_attribute",wa=function(a,b){return!1!==b&&b!==c&&null!=b?" "+a+'="'+a+'"':" "+a},wa.$$arity=2);return(a.defn(x,"$read_svg_contents",
ya=function(a,b){var d,f,e,g=c,h=c;(d=g=a.$read_contents(b,v(["start","normalize","label"],{start:a.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))===c||null==d||d.$$is_boolean&&1!=d||(g=g.$sub(B.get("SvgPreambleRx"),""),h=c,(d=(f=["width","height"]).$each,d.$$p=(e=function(b){var d;null==b&&(b=c);if((d=a["$attr?"](b))===c||null==d||d.$$is_boolean&&1!=d)return c;!1!==(d=h)&&d!==c&&null!=d?d:h=g.$match(B.get("SvgStartTagRx"))["$[]"](0).$gsub(B.get("DimensionAttributeRx"),"");return h=""+
h.$chop()+" "+b+'="'+a.$attr(b)+'px">'},e.$$s=this,e.$$arity=1,e),d).call(f),!1!==h&&h!==c&&null!=h&&(g=g.$sub(B.get("SvgStartTagRx"),h)));return g},ya.$$arity=2),c)&&"read_svg_contents"})(n.get("Converter"),n.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var g=a.nil,h=a.module,b=a.klass,c=a.hash2,d=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $freeze $attribute_undefined $attribute_missing $detect $constants $key? $expand_path $pwd $>= $+ $length $fetch $delete_if $parse $restore_attributes $update_backend_attributes $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $to_i $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(w){w=h(w,"Asciidoctor").$$scope;(function(h,$super){function n(){}var f=n=b(h,$super,"Document",n),m=f.$$proto,r=f.$$scope,x,w,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na,wa,ya,da,p;m.attributes=m.safe=m.reader=m.base_dir=m.parsed=m.parent_document=m.extensions=m.options=m.counters=m.references=m.doctype=m.backend=m.header=m.blocks=m.attributes_modified=m.id=m.callouts=m.header_attributes=m.attribute_overrides=m.converter=m.outfilesuffix=
m.docinfo_processor_extensions=m.document=g;a.cdecl(r,"Footnote",a.get("Struct").$new("index","id","text"));(function(c,$super){function d(){}var f=d=b(c,$super,"AttributeEntry",d),e,h;f.$attr_reader("name","value","negate");a.defn(f,"$initialize",e=function(a,b,c){var d;null==c&&(c=g);this.name=a;this.value=b;return this.negate=(d=c["$nil?"]())===g||null==d||d.$$is_boolean&&1!=d?c:b["$nil?"]()},e.$$arity=-3);return(a.defn(f,"$save_to",h=function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&
b!==g&&null!=b?b:a["$[]="]("attribute_entries",[]))["$<<"](this)},h.$$arity=1),g)&&"save_to"})(r.base,null);(function(d,$super){function f(){}var e=f=b(d,$super,"Title",f),h=e.$$proto,l=e.$$scope,m,q,n,p;h.sanitized=h.subtitle=h.combined=g;e.$attr_reader("main");a.alias(e,"title","main");e.$attr_reader("subtitle");e.$attr_reader("combined");a.defn(e,"$initialize",m=function(b,d){var f,e,h,m=g;null==d&&(d=c([],{}));(f=(e=this.sanitized=d["$[]"]("sanitize"),!1!==e&&e!==g&&null!=e?b["$include?"]("<"):
e))===g||null==f||f.$$is_boolean&&1!=f||(b=b.$gsub(l.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(f=!1!==(e=(m=!1!==(h=d["$[]"]("separator"))&&h!==g&&null!=h?h:":")["$empty?"]())&&e!==g&&null!=e?e:b["$include?"](m=""+m+" ")["$!"]())===g||null==f||f.$$is_boolean&&1!=f?(e=b.$rpartition(m),f=a.to_ary(e),this.main=null==f[0]?g:f[0],this.subtitle=null==f[2]?g:f[2],e):(this.main=b,this.subtitle=g);return this.combined=b},m.$$arity=-2);a.defn(e,"$sanitized?",q=function(){return this.sanitized},q.$$arity=
0);a.defn(e,"$subtitle?",n=function(){return this.subtitle["$!"]()["$!"]()},n.$$arity=0);return(a.defn(e,"$to_s",p=function(){return this.combined},p.$$arity=0),g)&&"to_s"})(r.base,null);f.$attr_reader("safe");f.$attr_reader("compat_mode");f.$attr_reader("sourcemap");f.$attr_reader("references");f.$attr_reader("counters");f.$attr_reader("callouts");f.$attr_reader("header");f.$attr_reader("base_dir");f.$attr_reader("options");f.$attr_reader("outfilesuffix");f.$attr_reader("parent_document");f.$attr_reader("reader");
f.$attr_reader("converter");f.$attr_reader("extensions");a.defn(f,"$initialize",x=function(b,f){var e,h,m,n,p,u,y,L,C,H,ca,t,w=g,ma=g,v=g,F=g,A=F=g,B=g,S=w=B=F=w=F=F=g;null==b&&(b=g);null==f&&(f=c([],{}));x.$$p=null;(e=a.find_super_dispatcher(this,"initialize",x,!1),e.$$p=null,e).call(this,this,"document");if((e=w=f.$delete("parent"))===g||null==e||e.$$is_boolean&&1!=e){this.parent_document=g;this.references=c("ids footnotes links images indexterms includes".split(" "),{ids:c([],{}),footnotes:[],
links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=r.get("Callouts").$new();ma=c([],{});(e=(h=!1!==(y=f["$[]"]("attributes"))&&y!==g&&null!=y?y:c([],{})).$each,e.$$p=(u=function(a,b){var c;null==a&&(a=g);null==b&&(b=g);(c=a["$start_with?"]("!"))===g||null==c||c.$$is_boolean&&1!=c?(c=a["$end_with?"]("!"))===g||null==c||c.$$is_boolean&&1!=c||(a=a.$chop(),b=g):(a=a["$[]"](d(1,-1,!1)),b=g);return ma["$[]="](a.$downcase(),b)},u.$$s=this,u.$$arity=2,u),e).call(h);this.attribute_overrides=
ma;if((e=(F=f["$[]"]("safe"))["$!"]())===g||null==e||e.$$is_boolean&&1!=e)if((e=a.get("Fixnum")["$==="](F))===g||null==e||e.$$is_boolean&&1!=e)try{this.safe=r.get("SafeMode").$const_get(F.$to_s().$upcase())}catch(D){if(a.rescue(D,[r.get("StandardError")]))try{this.safe=r.get("SafeMode").$$scope.get("SECURE")}finally{a.pop_exception()}else throw D;}else this.safe=F;else this.safe=r.get("SafeMode").$$scope.get("SECURE");this.sourcemap=f["$[]"]("sourcemap");this.compat_mode=!1;this.converter=g;try{v=
null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":g}catch(D){if(D.$$class===a.NameError)v=g;else throw D;}this.extensions=g}else this.parent_document=w,e="base_dir",h=f,!1!==(m=h["$[]"](e))&&m!==g&&null!=m?m:h["$[]="](e,w.$base_dir()),this.references=(e=(h=w.$references()).$inject,e.$$p=(n=function(b,c){var d,f;null==c&&(c=g);c=a.to_ary(c);d=a.slice.call(c,0,c.length);f=d.splice(0,1)[0];null==f&&(f=g);d=d.splice(0,1)[0];null==d&&(d=g);null==b&&(b=g);if(f["$=="]("footnotes"))b["$[]="]("footnotes",
[]);else b["$[]="](f,d);return b},n.$$s=this,n.$$arity=2,n.$$has_top_level_mlhs_arg=!0,n),e).call(h,c([],{})),this.callouts=w.$callouts(),ma=w.$attributes().$dup(),(e=(m=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,e.$$p=(p=function(a){null==a&&(a=g);return ma.$delete(a)},p.$$s=this,p.$$arity=1,p),e).call(m),this.attribute_overrides=ma,this.safe=w.$safe(),this.compat_mode=w.$compat_mode(),this.sourcemap=w.$sourcemap(),this.converter=w.$converter(),v=!1,this.extensions=w.$extensions();
this.parsed=!1;this.header=g;this.counters=c([],{});this.attributes_modified=a.get("Set").$new();this.options=f;this.docinfo_processor_extensions=c([],{});F=(e="header_footer",y=f,!1!==(L=y["$[]"](e))&&L!==g&&null!=L?L:y["$[]="](e,!1));f.$freeze();A=this.attributes;A["$[]="]("sectids","");if(!1===F||F===g||null==F)A["$[]="]("notitle","");A["$[]="]("toc-placement","auto");A["$[]="]("stylesheet","");A["$[]="]("webfonts","");if(!1!==F&&F!==g&&null!=F)A["$[]="]("copycss","");A["$[]="]("prewrap","");A["$[]="]("attribute-undefined",
r.get("Compliance").$attribute_undefined());A["$[]="]("attribute-missing",r.get("Compliance").$attribute_missing());A["$[]="]("iconfont-remote","");A["$[]="]("caution-caption","Caution");A["$[]="]("important-caption","Important");A["$[]="]("note-caption","Note");A["$[]="]("tip-caption","Tip");A["$[]="]("warning-caption","Warning");A["$[]="]("appendix-caption","Appendix");A["$[]="]("example-caption","Example");A["$[]="]("figure-caption","Figure");A["$[]="]("table-caption","Table");A["$[]="]("toc-title",
"Table of Contents");A["$[]="]("manname-title","NAME");A["$[]="]("untitled-label","Untitled");A["$[]="]("version-label","Version");A["$[]="]("last-update-label","Last updated");ma["$[]="]("asciidoctor","");ma["$[]="]("asciidoctor-version",r.get("VERSION"));B=(e=(y=r.get("SafeMode").$constants()).$detect,e.$$p=(C=function(a){var b=C.$$s||this;null==b.safe&&(b.safe=g);null==a&&(a=g);return r.get("SafeMode").$const_get(a)["$=="](b.safe)},C.$$s=this,C.$$arity=1,C),e).call(y).$to_s().$downcase();ma["$[]="]("safe-mode-name",
B);ma["$[]="]("safe-mode-"+B,"");ma["$[]="]("safe-mode-level",this.safe);ma["$[]="]("embedded",!1!==F&&F!==g&&null!=F?g:"");e="max-include-depth";L=ma;!1!==(H=L["$[]"](e))&&H!==g&&null!=H?H:L["$[]="](e,64);if((e=ma["$[]"]("allow-uri-read")["$nil?"]()["$!"]())===g||null==e||e.$$is_boolean&&1!=e)ma["$[]="]("allow-uri-read",g);ma["$[]="]("user-home",r.get("USER_HOME"));if((e=ma["$key?"]("numbered"))!==g&&null!=e&&(!e.$$is_boolean||1==e))ma["$[]="]("sectnums",ma.$delete("numbered"));(e=f["$[]"]("base_dir"))===
g||null==e||e.$$is_boolean&&1!=e?(e=ma["$[]"]("docdir"))===g||null==e||e.$$is_boolean&&1!=e?this.base_dir=ma["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=ma["$[]="]("docdir",a.get("File").$expand_path(ma["$[]"]("docdir"))):this.base_dir=ma["$[]="]("docdir",a.get("File").$expand_path(f["$[]"]("base_dir")));if((e=F=f["$[]"]("backend"))!==g&&null!=e&&(!e.$$is_boolean||1==e))ma["$[]="]("backend",""+F);if((e=F=f["$[]"]("doctype"))!==g&&null!=e&&(!e.$$is_boolean||1==e))ma["$[]="]("doctype",
""+F);if((e=l(this.safe,r.get("SafeMode").$$scope.get("SERVER")))!==g&&null!=e&&(!e.$$is_boolean||1==e)){e="copycss";L=ma;!1!==(H=L["$[]"](e))&&H!==g&&null!=H?H:L["$[]="](e,g);e="source-highlighter";L=ma;!1!==(H=L["$[]"](e))&&H!==g&&null!=H?H:L["$[]="](e,g);e="backend";L=ma;!1!==(H=L["$[]"](e))&&H!==g&&null!=H?H:L["$[]="](e,r.get("DEFAULT_BACKEND"));if((e=(L=w["$!"](),!1!==L&&L!==g&&null!=L?ma["$key?"]("docfile"):L))!==g&&null!=e&&(!e.$$is_boolean||1==e))ma["$[]="]("docfile",ma["$[]"]("docfile")["$[]"](d(q(ma["$[]"]("docdir").$length(),
1),-1,!1)));ma["$[]="]("docdir","");ma["$[]="]("user-home",".");if((e=l(this.safe,r.get("SafeMode").$$scope.get("SECURE")))!==g&&null!=e&&(!e.$$is_boolean||1==e)){if((e=ma.$fetch("linkcss","")["$nil?"]())===g||null==e||e.$$is_boolean&&1!=e)ma["$[]="]("linkcss","");e="icons";L=ma;!1!==(H=L["$[]"](e))&&H!==g&&null!=H?H:L["$[]="](e,g)}}(e=(L=ma).$delete_if,e.$$p=(ca=function(b,c){var d,f,e=g;null==b&&(b=g);null==c&&(c=g);e=!1;(d=c["$nil?"]())===g||null==d||d.$$is_boolean&&1!=d?((d=(f=a.get("String")["$==="](c),
!1!==f&&f!==g&&null!=f?c["$end_with?"]("@"):f))===g||null==d||d.$$is_boolean&&1!=d||(c=c.$chop(),e=!0),A["$[]="](b,c)):A.$delete(b);return e},ca.$$s=this,ca.$$arity=2,ca),e).call(L);(e=A["$key?"]("compat-mode"))===g||null==e||e.$$is_boolean&&1!=e||(this.compat_mode=!0);if(!1!==w&&w!==g&&null!=w)return e="doctype",H=A,!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,r.get("DEFAULT_DOCTYPE")),this.reader=r.get("Reader").$new(b,f["$[]"]("cursor")),r.get("Parser").$parse(this.reader,this),this.$restore_attributes(),
this.parsed=!0;if((e="backend",H=A,!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,r.get("DEFAULT_BACKEND")))["$=="]("manpage"))A["$[]="]("doctype",ma["$[]="]("doctype","manpage"));else e="doctype",H=A,!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,r.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(A["$[]"]("backend"),!0);w=a.get("Time").$now();F=(e="localdate",H=A,!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,w.$strftime("%Y-%m-%d")));if((e=B=A["$[]"]("localtime"))===g||null==
e||e.$$is_boolean&&1!=e)try{B=A["$[]="]("localtime",w.$strftime("%H:%M:%S %Z"))}catch(D){if(a.rescue(D,[r.get("StandardError")]))try{B=A["$[]="]("localtime",w.$strftime("%H:%M:%S"))}finally{a.pop_exception()}else throw D;}e="localdatetime";H=A;!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,""+F+" "+B);e="docdate";H=A;!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,F);e="doctime";H=A;!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,B);e="docdatetime";H=A;!1!==(t=H["$[]"](e))&&t!==g&&null!=
t?t:H["$[]="](e,""+F+" "+B);e="stylesdir";H=A;!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,".");e="iconsdir";H=A;!1!==(t=H["$[]"](e))&&t!==g&&null!=t?t:H["$[]="](e,a.get("File").$join(A.$fetch("imagesdir","./images"),"icons"));if(!1!==v&&v!==g&&null!=v){if((e=w=f["$[]"]("extensions_registry"))===g||null==e||e.$$is_boolean&&1!=e)w=(e=a.get("Proc")["$==="](S=f["$[]"]("extensions")))===g||null==e||e.$$is_boolean&&1!=e?r.get("Extensions").$$scope.get("Registry").$new():(e=(H=r.get("Extensions")).$build_registry,
e.$$p=S.$to_proc(),e).call(H);else if((e=!1!==(H=r.get("Extensions").$$scope.get("Registry")["$==="](w))&&H!==g&&null!=H?H:(t=a.get("RUBY_ENGINE_JRUBY"),!1!==t&&t!==g&&null!=t?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](w):t))===g||null==e||e.$$is_boolean&&1!=e)w=r.get("Extensions").$$scope.get("Registry").$new();this.extensions=w.$activate(this)}return this.reader=r.get("PreprocessorReader").$new(this,b,r.get("Reader").$$scope.get("Cursor").$new(A["$[]"]("docfile"),
this.base_dir))},x.$$arity=-1);a.defn(f,"$parse",w=function(a){var b,d,f,e,h,l=g,m=g;null==a&&(a=g);return(b=this.parsed)===g||null==b||b.$$is_boolean&&1!=b?(l=this,!1!==a&&a!==g&&null!=a&&(this.reader=r.get("PreprocessorReader").$new(l,a,r.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(b=(d=m=(f=this.parent_document)===g||null==f||f.$$is_boolean&&1!=f?this.extensions:g,!1!==d&&d!==g&&null!=d?m["$preprocessors?"]():d))===g||null==b||b.$$is_boolean&&1!=
b||(b=(d=m.$preprocessors()).$each,b.$$p=(e=function(a){var b=e.$$s||this,c;null==b.reader&&(b.reader=g);null==a&&(a=g);return b.reader=!1!==(c=a.$process_method()["$[]"](l,b.reader))&&c!==g&&null!=c?c:b.reader},e.$$s=this,e.$$arity=1,e),b).call(d),r.get("Parser").$parse(this.reader,l,c(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(b=(f=!1!==m&&m!==g&&null!=m)?m["$treeprocessors?"]():m)===g||null==b||b.$$is_boolean&&1!=b||(b=(f=
m.$treeprocessors()).$each,b.$$p=(h=function(a){var b,c,d,f=g;null==a&&(a=g);return(b=(c=(d=f=a.$process_method()["$[]"](l),!1!==d&&d!==g&&null!=d?r.get("Document")["$==="](f):d),!1!==c&&c!==g&&null!=c?f["$!="](l):c))===g||null==b||b.$$is_boolean&&1!=b?g:l=f},h.$$s=this,h.$$arity=1,h),b).call(f),this.parsed=!0,l):this},w.$$arity=-1);a.defn(f,"$counter",B=function(a,b){var c,d,f=g,e=g;null==b&&(b=g);if((c=(d=f=(e=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==d&&d!==g&&null!=d?this.counters["$key?"](a):
d))===g||null==c||c.$$is_boolean&&1!=c)(c=b["$nil?"]())===g||null==c||c.$$is_boolean&&1!=c?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==f&&f!==g&&null!=f?e:0),this.counters["$[]="](a,b);else this.counters["$[]="](a,this.$nextval(e));return this.attributes["$[]="](a,this.counters["$[]"](a))},B.$$arity=-2);a.defn(f,"$counter_increment",t=function(a,b){var c=g,c=this.$counter(a);r.get("AttributeEntry").$new(a,c).$save_to(b.$attributes());return c},t.$$arity=2);a.defn(f,"$nextval",
u=function(b){var c,d=g;return(c=a.get("Integer")["$==="](b))===g||null==c||c.$$is_boolean&&1!=c?(d=b.$to_i(),(c=d.$to_s()["$!="](b.$to_s()))===g||null==c||c.$$is_boolean&&1!=c?q(d,1):q(b["$[]"](0).$ord(),1).$chr()):q(b,1)},u.$$arity=1);a.defn(f,"$register",D=function(b,c,d){var f,e,h=g,l=h=g;null==d&&(d=!1);h=b;"ids"["$==="](h)?(b=[].concat(a.to_a(c)),f=a.to_ary(b),h=null==f[0]?g:f[0],l=null==f[1]?g:f[1],b,!1!==(f=l)&&f!==g&&null!=f?f:l=q(q("[",h),"]"),d=!1!==d&&d!==g&&null!=d?this.references["$[]"]("ids")["$[]="](h,
l):(f=h,b=this.references["$[]"]("ids"),!1!==(e=b["$[]"](f))&&e!==g&&null!=e?e:b["$[]="](f,l))):d="footnotes"["$==="](h)||"indexterms"["$==="](h)?this.references["$[]"](b)["$<<"](c):(f=this.options["$[]"]("catalog_assets"))===g||null==f||f.$$is_boolean&&1!=f?g:this.references["$[]"](b)["$<<"](c);return d},D.$$arity=-3);a.defn(f,"$footnotes?",G=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},G.$$arity=0);a.defn(f,"$footnotes",z=function(){return this.references["$[]"]("footnotes")},
z.$$arity=0);a.defn(f,"$nested?",I=function(){return this.parent_document["$!"]()["$!"]()},I.$$arity=0);a.defn(f,"$embedded?",J=function(){return this.attributes["$key?"]("embedded")},J.$$arity=0);a.defn(f,"$extensions?",F=function(){return this.extensions["$!"]()["$!"]()},F.$$arity=0);a.defn(f,"$source",y=function(){var a;return(a=this.reader)===g||null==a||a.$$is_boolean&&1!=a?g:this.reader.$source()},y.$$arity=0);a.defn(f,"$source_lines",M=function(){var a;return(a=this.reader)===g||null==a||a.$$is_boolean&&
1!=a?g:this.reader.$source_lines()},M.$$arity=0);a.defn(f,"$doctype",N=function(){var a;return!1!==(a=this.doctype)&&a!==g&&null!=a?a:this.doctype=this.attributes["$[]"]("doctype")},N.$$arity=0);a.defn(f,"$backend",Q=function(){var a;return!1!==(a=this.backend)&&a!==g&&null!=a?a:this.backend=this.attributes["$[]"]("backend")},Q.$$arity=0);a.defn(f,"$basebackend?",V=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},V.$$arity=1);a.defn(f,"$title",T=function(){return this.attributes["$[]"]("title")},
T.$$arity=0);a.defn(f,"$title=",Y=function(a){var b,c;!1!==(b=this.header)&&b!==g&&null!=b?b:this.header=r.get("Section").$new(this,0);return b=[a],c=this.header,c["$title="].apply(c,b),b[b.length-1]},Y.$$arity=1);a.defn(f,"$doctitle",S=function(a){var b,d,f=g,e=g,h=g;null==a&&(a=c([],{}));if((b=(f=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==g&&null!=b&&(!b.$$is_boolean||1==b))f=this.$title();else if((b=(d=e=this.$first_section(),!1!==d&&d!==g&&null!=d?e["$title?"]():d))!==g&&
null!=b&&(!b.$$is_boolean||1==b))f=e.$title();else if((b=(d=a["$[]"]("use_fallback"),!1!==d&&d!==g&&null!=d?f=this.attributes["$[]"]("untitled-label"):d))===g||null==b||b.$$is_boolean&&1!=b)return g;return(b=h=a["$[]"]("partition"))===g||null==b||b.$$is_boolean&&1!=b?(b=(d=a["$[]"]("sanitize"),!1!==d&&d!==g&&null!=d?f["$include?"]("<"):d))===g||null==b||b.$$is_boolean&&1!=b?f:f.$gsub(r.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():r.get("Title").$new(f,a.$merge(c(["separator"],{separator:h["$=="](!0)?
this.attributes["$[]"]("title-separator"):h})))},S.$$arity=-1);a.alias(f,"name","doctitle");a.defn(f,"$author",A=function(){return this.attributes["$[]"]("author")},A.$$arity=0);a.defn(f,"$revdate",W=function(){return this.attributes["$[]"]("revdate")},W.$$arity=0);a.defn(f,"$notitle",aa=function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==g&&null!=a?this.attributes["$key?"]("notitle"):a},aa.$$arity=0);a.defn(f,"$noheader",ga=function(){return this.attributes["$key?"]("noheader")},
ga.$$arity=0);a.defn(f,"$nofooter",Z=function(){return this.attributes["$key?"]("nofooter")},Z.$$arity=0);a.defn(f,"$first_section",ia=function(){var a,b,c,d;return(a=this["$has_header?"]())===g||null==a||a.$$is_boolean&&1!=a?(a=(b=!1!==(d=this.blocks)&&d!==g&&null!=d?d:[]).$detect,a.$$p=(c=function(a){null==a&&(a=g);return a.$context()["$=="]("section")},c.$$s=this,c.$$arity=1,c),a).call(b):this.header},ia.$$arity=0);a.defn(f,"$has_header?",ha=function(){var a;return(a=this.header)===g||null==a||
a.$$is_boolean&&1!=a?!1:!0},ha.$$arity=0);a.alias(f,"header?","has_header?");a.defn(f,"$<<",la=function(b){var c,d=la.$$p,f=g,e=g;la.$$p=null;f=[];for(e=0;e<arguments.length;e++)f[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_index(b);return(c=a.find_super_dispatcher(this,"<<",la,!1),c.$$p=d,c).apply(this,f)},la.$$arity=1);a.defn(f,"$finalize_header",fa=function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===g||null==b)a["$[]="]("invalid-header",
!0);return a},fa.$$arity=-2);a.defn(f,"$save_attributes",ea=function(){var a,b,c,d,f=g,e=g,h=g,l=g,m=g,q=g,n=g,l=h=g;if((f=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==g&&null!=b?b:this.attributes_modified["$include?"]("toc"))===g||null==a||a.$$is_boolean&&1!=a)f["$[]="]("toc","");if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==g&&null!=b?b:this.attributes_modified["$include?"]("sectnums"))===g||null==a||a.$$is_boolean&&
1!=a)f["$[]="]("sectnums","")}if((a=!1!==(b=f["$key?"]("doctitle"))&&b!==g&&null!=b?b:(e=this.$doctitle())["$!"]())===g||null==a||a.$$is_boolean&&1!=a)f["$[]="]("doctitle",e);if((a=this.id)===g||null==a||a.$$is_boolean&&1!=a)this.id=f["$[]"]("css-signature");h=(a=l=(b=f.$delete("toc2"))===g||null==b||b.$$is_boolean&&1!=b?f["$[]"]("toc"):"left")===g||null==a||a.$$is_boolean&&1!=a?g:(a=(b=m=f.$fetch("toc-placement","macro"),!1!==b&&b!==g&&null!=b?m["$!="]("auto"):b))===g||null==a||a.$$is_boolean&&1!=
a?f["$[]"]("toc-position"):m;if((a=(b=!1!==l&&l!==g&&null!=l)?!1!==(c=l["$empty?"]()["$!"]())&&c!==g&&null!=c?c:h["$nil_or_empty?"]()["$!"]():l)!==g&&null!=a&&(!a.$$is_boolean||1==a)){q="left";n="toc2";h=(a=h["$nil_or_empty?"]()["$!"]())===g||null==a||a.$$is_boolean&&1!=a?(a=l["$empty?"]()["$!"]())===g||null==a||a.$$is_boolean&&1!=a?q:l:h;f["$[]="]("toc","");f["$[]="]("toc-placement","auto");l=h;if("left"["$==="](l)||"<"["$==="](l)||"&lt;"["$==="](l))f["$[]="]("toc-position","left");else if("right"["$==="](l)||
">"["$==="](l)||"&gt;"["$==="](l))f["$[]="]("toc-position","right");else if("top"["$==="](l)||"^"["$==="](l))f["$[]="]("toc-position","top");else if("bottom"["$==="](l)||"v"["$==="](l))f["$[]="]("toc-position","bottom");else"preamble"["$==="](l)||"macro"["$==="](l)?(f["$[]="]("toc-position","content"),f["$[]="]("toc-placement",h)):f.$delete("toc-position"),n=g;!1!==n&&n!==g&&null!=n&&(a="toc-class",b=f,!1!==(c=b["$[]"](a))&&c!==g&&null!=c?c:b["$[]="](a,n))}if((a=f["$key?"]("compat-mode"))===g||null==
a||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=f["$has_key?"]("language"))!==g&&null!=a&&(!a.$$is_boolean||1==a))f["$[]="]("source-language",f["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=f["$[]"]("outfilesuffix");this.header_attributes=f.$dup();return(a=this.parent_document)===g||null==a||a.$$is_boolean&&1!=a?(a=(b=r.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(d=function(a){var b=d.$$s||this,c,f;null==b.attribute_overrides&&(b.attribute_overrides=g);null==a&&(a=g);return(c=(f=
b.attribute_overrides["$key?"](a),!1!==f&&f!==g&&null!=f?b.attribute_overrides["$[]"](a):f))===g||null==c||c.$$is_boolean&&1!=c?g:b.attribute_overrides.$delete(a)},d.$$s=this,d.$$arity=1,d),a).call(b):g},ea.$$arity=0);a.defn(f,"$restore_attributes",ja=function(){var a;((a=this.parent_document)===g||null==a||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes},ja.$$arity=0);a.defn(f,"$clear_playback_attributes",ka=function(a){return a.$delete("attribute_entries")},
ka.$$arity=1);a.defn(f,"$playback_attributes",K=function(a){var b,c,d;return(b=a["$key?"]("attribute_entries"))===g||null==b||b.$$is_boolean&&1!=b?g:(b=(c=a["$[]"]("attribute_entries")).$each,b.$$p=(d=function(a){var b=d.$$s||this,c,f=g;null==b.attributes&&(b.attributes=g);null==a&&(a=g);f=a.$name();if((c=a.$negate())===g||null==c||c.$$is_boolean&&1!=c)return b.attributes["$[]="](f,a.$value()),f["$=="]("compat-mode")?b.compat_mode=!0:g;b.attributes.$delete(f);return f["$=="]("compat-mode")?b.compat_mode=
!1:g},d.$$s=this,d.$$arity=1,d),b).call(c)},K.$$arity=1);a.defn(f,"$set_attribute",P=function(a,b){var c,d=g;if((c=this["$attribute_locked?"](a))===g||null==c||c.$$is_boolean&&1!=c){d=a;if("backend"["$==="](d))this.$update_backend_attributes(this.$apply_attribute_value_subs(b),this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](d))this.$update_doctype_attributes(this.$apply_attribute_value_subs(b));else this.attributes["$[]="](a,this.$apply_attribute_value_subs(b));
this.attributes_modified["$<<"](a);return!0}return!1},P.$$arity=2);a.defn(f,"$delete_attribute",U=function(a){var b;return(b=this["$attribute_locked?"](a))===g||null==b||b.$$is_boolean&&1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1},U.$$arity=1);a.defn(f,"$attribute_locked?",R=function(a){return this.attribute_overrides["$key?"](a)},R.$$arity=1);a.defn(f,"$apply_attribute_value_subs",qa=function(a){var b,c=g,d=g;if((b=c=r.get("AttributeEntryPassMacroRx").$match(a))===
g||null==b||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);if((b=c["$[]"](1)["$empty?"]()["$!"]())===g||null==b||b.$$is_boolean&&1!=b)return c["$[]"](2);d=this.$resolve_pass_subs(c["$[]"](1));return(b=d["$empty?"]())===g||null==b||b.$$is_boolean&&1!=b?this.$apply_subs(c["$[]"](2),d):c["$[]"](2)},qa.$$arity=1);a.defn(f,"$update_backend_attributes",ra=function(a,b){var c,f,e=g,h=g,l=g,m=g,q=g,n=h=g,p=g,H=g,n=g;null==b&&(b=!1);if((c=!1!==(f=b)&&f!==g&&null!=f?f:!1!==a&&a!==g&&null!=a?a["$!="](this.attributes["$[]"]("backend")):
a)===g||null==c||c.$$is_boolean&&1!=c)return g;e=this.attributes;h=e["$[]"]("backend");l=e["$[]"]("basebackend");m=e["$[]"]("doctype");if((c=a["$start_with?"]("xhtml"))!==g&&null!=c&&(!c.$$is_boolean||1==c))e["$[]="]("htmlsyntax","xml"),a=a["$[]"](d(1,-1,!1));else if(!((c=a["$start_with?"]("html"))===g||null==c||c.$$is_boolean&&1!=c||e["$[]"]("htmlsyntax")["$=="]("xml")))e["$[]="]("htmlsyntax","html");(c=q=r.get("BACKEND_ALIASES")["$[]"](a))===g||null==c||c.$$is_boolean&&1!=c||(a=q);!1!==h&&h!==g&&
null!=h&&(e.$delete("backend-"+h),!1!==m&&m!==g&&null!=m&&e.$delete("backend-"+h+"-doctype-"+m));!1!==m&&m!==g&&null!=m&&(e["$[]="]("doctype-"+m,""),e["$[]="]("backend-"+a+"-doctype-"+m,""));e["$[]="]("backend",a);e["$[]="]("backend-"+a,"");if((c=r.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=this.$create_converter()))===g||null==c||c.$$is_boolean&&1!=c){if(h=a.$sub(r.get("TrailingDigitsRx"),""),p=!1!==(c=r.get("DEFAULT_EXTENSIONS")["$[]"](h))&&c!==g&&null!=c?c:".html",n=p["$[]"](d(1,
-1,!1)),(c=this["$attribute_locked?"]("outfilesuffix"))===g||null==c||c.$$is_boolean&&1!=c)e["$[]="]("outfilesuffix",p)}else{h=this.converter.$basebackend();if((c=this["$attribute_locked?"]("outfilesuffix"))===g||null==c||c.$$is_boolean&&1!=c)e["$[]="]("outfilesuffix",this.converter.$outfilesuffix());n=this.converter.$filetype()}(c=H=e["$[]"]("filetype"))===g||null==c||c.$$is_boolean&&1!=c||e.$delete("filetype-"+H);e["$[]="]("filetype",n);e["$[]="]("filetype-"+n,"");if((c=n=r.get("DEFAULT_PAGE_WIDTHS")["$[]"](h))===
g||null==c||c.$$is_boolean&&1!=c)e.$delete("pagewidth");else e["$[]="]("pagewidth",n);if((c=h["$!="](l))!==g&&null!=c&&(!c.$$is_boolean||1==c)&&(!1!==l&&l!==g&&null!=l&&(e.$delete("basebackend-"+l),!1!==m&&m!==g&&null!=m&&e.$delete("basebackend-"+l+"-doctype-"+m)),e["$[]="]("basebackend",h),e["$[]="]("basebackend-"+h,""),!1!==m&&m!==g&&null!=m))e["$[]="]("basebackend-"+h+"-doctype-"+m,"");return this.backend=g},ra.$$arity=-2);a.defn(f,"$update_doctype_attributes",pa=function(a){var b,c=g,d=g,f=g,
e=g;if((b=!1!==a&&a!==g&&null!=a?a["$!="](this.attributes["$[]"]("doctype")):a)===g||null==b||b.$$is_boolean&&1!=b)return g;c=this.attributes;d=c["$[]"]("doctype");f=c["$[]"]("backend");e=c["$[]"]("basebackend");!1!==d&&d!==g&&null!=d&&(c.$delete("doctype-"+d),!1!==f&&f!==g&&null!=f&&c.$delete("backend-"+f+"-doctype-"+d),!1!==e&&e!==g&&null!=e&&c.$delete("basebackend-"+e+"-doctype-"+d));c["$[]="]("doctype",a);c["$[]="]("doctype-"+a,"");if(!1!==f&&f!==g&&null!=f)c["$[]="]("backend-"+f+"-doctype-"+
a,"");if(!1!==e&&e!==g&&null!=e)c["$[]="]("basebackend-"+e+"-doctype-"+a,"");return this.doctype=g},pa.$$arity=1);a.defn(f,"$create_converter",va=function(){var b,d=g,f=g,e=g,h=g,l=g,d=c([],{});d["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));f=(b=e=this.options["$[]"]("template_dir"))===g||null==b||b.$$is_boolean&&1!=b?(b=f=this.options["$[]"]("template_dirs"))===g||null==b||b.$$is_boolean&&1!=b?g:d["$[]="]("template_dirs",f):d["$[]="]("template_dirs",[e]);!1!==f&&f!==g&&null!=f&&(d["$[]="]("template_cache",
this.options.$fetch("template_cache",!0)),d["$[]="]("template_engine",this.options["$[]"]("template_engine")),d["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),d["$[]="]("eruby",this.options["$[]"]("eruby")),d["$[]="]("safe",this.safe));l=(b=h=this.options["$[]"]("converter"))===g||null==b||b.$$is_boolean&&1!=b?r.get("Converter").$$scope.get("Factory").$default(!1):r.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),h));return l.$create(this.$backend(),
d)},va.$$arity=0);a.defn(f,"$convert",oa=function(a){var b,d,f,e=g,h=g,m=g,q=g;null==a&&(a=c([],{}));((b=this.parsed)===g||null==b||b.$$is_boolean&&1!=b)&&this.$parse();if((b=!1!==(d=l(this.safe,r.get("SafeMode").$$scope.get("SERVER")))&&d!==g&&null!=d?d:a["$empty?"]())===g||null==b||b.$$is_boolean&&1!=b)((b=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===g||null==b||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outfile"),((b=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===g||
null==b||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outdir");((b=this.converter)===g||null==b||b.$$is_boolean&&1!=b)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?h=(b=(d=e=this.blocks["$[]"](0),!1!==d&&d!==g&&null!=d?e.$content_model()["$!="]("compound"):d))===g||null==b||b.$$is_boolean&&1!=b?g:e.$content():(m=(b=(d=a["$key?"]("header_footer"))===g||null==d||d.$$is_boolean&&1!=d?this.options["$[]"]("header_footer"):
a["$[]"]("header_footer"))===g||null==b||b.$$is_boolean&&1!=b?"embedded":"document",h=this.converter.$convert(this,m));!((b=this.parent_document)===g||null==b||b.$$is_boolean&&1!=b)||(b=(d=q=this.extensions,!1!==d&&d!==g&&null!=d?q["$postprocessors?"]():d))===g||null==b||b.$$is_boolean&&1!=b||(b=(d=q.$postprocessors()).$each,b.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=g);return h=a.$process_method()["$[]"](b,h)},f.$$s=this,f.$$arity=1,f),b).call(d);return h},oa.$$arity=-1);a.alias(f,"render",
"convert");a.defn(f,"$write",ta=function(b,c){var d,f,e;if((d=r.get("Writer")["$==="](this.converter))===g||null==d||d.$$is_boolean&&1!=d){if((d=c["$respond_to?"]("write"))===g||null==d||d.$$is_boolean&&1!=d)(d=(f=a.get("File")).$open,d.$$p=(e=function(a){null==a&&(a=g);return a.$write(b)},e.$$s=this,e.$$arity=1,e),d).call(f,c,"w");else if((d=b["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d)c.$write(b.$chomp()),c.$write(r.get("EOL"));return g}return this.converter.$write(b,c)},ta.$$arity=
2);a.defn(f,"$content",na=function(){var b,c=na.$$p,d=g,f=g;na.$$p=null;d=[];for(f=0;f<arguments.length;f++)d[f]=arguments[f];this.attributes.$delete("title");return(b=a.find_super_dispatcher(this,"content",na,!1),b.$$p=c,b).apply(this,d)},na.$$arity=0);a.defn(f,"$docinfo",wa=function(a,b){var d,f,h,m,q=g,n=g,p=g,u=g,C=q=g,H=g,n=n=g;null==a&&(a="head");null==b&&(b=g);if((d=l(this.$safe(),r.get("SafeMode").$$scope.get("SECURE")))===g||null==d||d.$$is_boolean&&1!=d){q=a["$=="]("footer")?"-footer":g;
if(!1===b||b===g||null==b)b=this.outfilesuffix;n=this.attributes["$[]"]("docinfodir");p=g;u=(d=(u=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===g||null==d||d.$$is_boolean&&1!=d?(d=(f=u.$split(",")).$map,d.$$p="strip".$to_proc(),d).call(f):(d=this.attributes["$key?"]("docinfo2"))===g||null==d||d.$$is_boolean&&1!=d?(d=this.attributes["$key?"]("docinfo1"))===g||null==d||d.$$is_boolean&&1!=d?!1!==u&&u!==g&&null!=u?["private"]:g:["shared"]:["private","shared"];if(!1!==u&&u!==g&&null!=u){q=
"docinfo"+q+b;if((d=u["$&"](["shared","shared-"+a])["$empty?"]())===g||null==d||d.$$is_boolean&&1!=d)C=this.$normalize_system_path(q,n),(d=p=this.$read_asset(C,c(["normalize"],{normalize:!0})))===g||null==d||d.$$is_boolean&&1!=d||(d=!1!==(h=H)&&h!==g&&null!=h?h:H=this.$resolve_docinfo_subs())===g||null==d||d.$$is_boolean&&1!=d||(p=(d=H["$=="]("attributes"))===g||null==d||d.$$is_boolean&&1!=d?this.$apply_subs(p,H):this.$sub_attributes(p));if((d=!1!==(h=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&
h!==g&&null!=h?h:u["$&"](["private","private-"+a])["$empty?"]())===g||null==d||d.$$is_boolean&&1!=d)C=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+q,n),(d=n=this.$read_asset(C,c(["normalize"],{normalize:!0})))===g||null==d||d.$$is_boolean&&1!=d||((d=!1!==(h=H)&&h!==g&&null!=h?h:H=this.$resolve_docinfo_subs())===g||null==d||d.$$is_boolean&&1!=d||(n=(d=H["$=="]("attributes"))===g||null==d||d.$$is_boolean&&1!=d?this.$apply_subs(n,H):this.$sub_attributes(n)),p=!1!==p&&p!==g&&null!=
p?""+p+r.get("EOL")+n:n)}(d=(h=this.extensions,!1!==h&&h!==g&&null!=h?this["$docinfo_processors?"](a):h))===g||null==d||d.$$is_boolean&&1!=d||(n=e((d=(h=this.docinfo_processor_extensions["$[]"](a)).$map,d.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=g);return a.$process_method()["$[]"](b)},m.$$s=this,m.$$arity=1,m),d).call(h).$compact(),r.get("EOL")),p=!1!==p&&p!==g&&null!=p?""+p+r.get("EOL")+n:n);return""+p}return""},wa.$$arity=-1);a.defn(f,"$resolve_docinfo_subs",ya=function(){var a,b=g;if((a=
this.attributes["$key?"]("docinfosubs"))===g||null==a||a.$$is_boolean&&1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",g,"docinfo");return(a=b["$empty?"]())===g||null==a||a.$$is_boolean&&1!=a?b:g},ya.$$arity=0);a.defn(f,"$docinfo_processors?",da=function(a){var b,c;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===g||null==b||b.$$is_boolean&&1!=b?(b=(c=this.extensions,!1!==c&&c!==g&&null!=c?this.document.$extensions()["$docinfo_processors?"](a):
c))===g||null==b||b.$$is_boolean&&1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](a)["$!="](!1)},da.$$arity=-1);return(a.defn(f,"$to_s",p=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](g))===g||null==a||a.$$is_boolean&&1!=a?g:this.header.$title()).$inspect()+
", blocks: "+this.blocks.$size()+"}>"},p.$$arity=0),g)&&"to_s"})(w.base,w.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){var l=a.nil,q=a.module,e=a.klass,g=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(h){h=q(h,"Asciidoctor").$$scope;(function(b,$super){function d(){}var h=d=e(b,$super,"Inline",d),q,k,n,f;h.$attr_reader("text");h.$attr_reader("type");h.$attr_accessor("target");a.defn(h,"$initialize",q=function(b,d,f,e){var h,k=l;null==f&&(f=l);null==e&&(e=g([],{}));q.$$p=null;(h=a.find_super_dispatcher(this,
"initialize",q,!1),h.$$p=null,h).call(this,b,d);this.node_name="inline_"+d;this.text=f;this.id=e["$[]"]("id");this.type=e["$[]"]("type");this.target=e["$[]"]("target");return(h=(k=e["$[]"]("attributes"))["$nil_or_empty?"]())===l||null==h||h.$$is_boolean&&1!=h?this.$update_attributes(k):l},q.$$arity=-3);a.defn(h,"$block?",k=function(){return!1},k.$$arity=0);a.defn(h,"$inline?",n=function(){return!0},n.$$arity=0);a.defn(h,"$convert",f=function(){return this.$converter().$convert(this)},f.$$arity=0);
return a.alias(h,"render","convert")})(h.base,h.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){var l=a.nil,q=a.module,e=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(g){g=q(g,"Asciidoctor").$$scope;(function(g,$super){function c(){}var d=c=e(g,$super,"List",c),q=d.$$proto,v,k,n,f;q.context=q.document=q.style=l;a.alias(d,"items",
"blocks");a.alias(d,"content","blocks");a.alias(d,"items?","blocks?");a.defn(d,"$initialize",v=function(c,d){var f,e=v.$$p,g=l,h=l;v.$$p=null;g=[];for(h=0;h<arguments.length;h++)g[h]=arguments[h];return(f=a.find_super_dispatcher(this,"initialize",v,!1),f.$$p=e,f).apply(this,g)},v.$$arity=2);a.defn(d,"$outline?",k=function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==l&&null!=a?a:this.context["$=="]("olist")},k.$$arity=0);a.defn(d,"$convert",n=function(){var c,d=n.$$p,f=l,e=f=l;n.$$p=null;
f=[];for(e=0;e<arguments.length;e++)f[e]=arguments[e];return this.context["$=="]("colist")?(f=(c=a.find_super_dispatcher(this,"convert",n,!1),c.$$p=d,c).apply(this,f),this.document.$callouts().$next_list(),f):(c=a.find_super_dispatcher(this,"convert",n,!1),c.$$p=d,c).apply(this,f)},n.$$arity=0);a.alias(d,"render","convert");return(a.defn(d,"$to_s",f=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+
"}>"},f.$$arity=0),l)&&"to_s"})(g.base,g.get("AbstractBlock"));(function(g,$super){function c(){}var d=c=e(g,$super,"ListItem",c),q=d.$$proto,v=d.$$scope,k,n,f,m,r,x,E;q.text=q.blocks=l;d.$attr_accessor("marker");a.defn(d,"$initialize",k=function(c,d){var f;null==d&&(d=l);k.$$p=null;(f=a.find_super_dispatcher(this,"initialize",k,!1),f.$$p=null,f).call(this,c,"list_item");this.text=d;return this.level=c.$level()},k.$$arity=-2);a.defn(d,"$text?",n=function(){return this.text["$nil_or_empty?"]()["$!"]()},
n.$$arity=0);a.defn(d,"$text",f=function(){return this.$apply_subs(this.text)},f.$$arity=0);a.defn(d,"$simple?",m=function(){var a,c,d=l;return!1!==(a=this.blocks["$empty?"]())&&a!==l&&null!=a?a:(c=this.blocks.$size()["$=="](1)?v.get("List")["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==c&&c!==l&&null!=c?d["$outline?"]():c)},m.$$arity=0);a.defn(d,"$compound?",r=function(){return this["$simple?"]()["$!"]()},r.$$arity=0);a.defn(d,"$fold_first",x=function(a,c){var d,f,e,g,h,k,m=
l,q=l;null==a&&(a=!1);null==c&&(c=!1);(d=(f=(e=m=this.blocks["$[]"](0),!1!==e&&e!==l&&null!=e?v.get("Block")["$==="](m):e),!1!==f&&f!==l&&null!=f?!1!==(e=m.$context()["$=="]("paragraph")?a["$!"]():m.$context()["$=="]("paragraph"))&&e!==l&&null!=e?e:(g=(h=!1!==(k=c)&&k!==l&&null!=k?k:a["$!"](),!1!==h&&h!==l&&null!=h?m.$context()["$=="]("literal"):h),!1!==g&&g!==l&&null!=g?m["$option?"]("listparagraph"):g):f))===l||null==d||d.$$is_boolean&&1!=d||(q=this.$blocks().$shift(),((d=this.text["$nil_or_empty?"]())===
l||null==d||d.$$is_boolean&&1!=d)&&q.$lines().$unshift(this.text),this.text=q.$source());return l},x.$$arity=-1);return(a.defn(d,"$to_s",E=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==l&&null!=a?a:[]).$size()+"}>"},E.$$arity=0),l)&&"to_s"})(g.base,g.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function b(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var d=a.nil,w=a.module,v=a.klass,k=a.hash2,n=a.hash,f=a.range,m=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $detect $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $is_a? $apply_header_subs $map $each_with_index $zero? $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_col_specs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cell_spec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cell_spec $close_cell $cell_open? $columns $assign_col_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(r){(function(r,$super){function w(){}var t=w=v(r,$super,"Parser",w),u=t.$$scope,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra,pa,va,oa,ta,na,wa,ya,da,p,O,ua,X,sa,xa,Aa,Ba;a.cdecl(u,"BlockMatchData",u.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(u,"TabRx",/\t/);a.cdecl(u,"TabIndentRx",/^\t+/);a.cdecl(u,"StartOfBlockProc",(D=t.$lambda,D.$$p=(G=function(a){var b=G.$$s||this,c,f;null==a&&(a=d);return!1!==(c=(f=a["$start_with?"]("["),!1!==
f&&f!==d&&null!=f?u.get("BlockAttributeLineRx")["$=~"](a):f))&&c!==d&&null!=c?c:b["$is_delimited_block?"](a)},G.$$s=t,G.$$arity=1,G),D).call(t));a.cdecl(u,"StartOfListProc",(D=t.$lambda,D.$$p=(z=function(a){null==a&&(a=d);return u.get("AnyListRx")["$=~"](a)},z.$$s=t,z.$$arity=1,z),D).call(t));a.cdecl(u,"StartOfBlockOrListProc",(D=t.$lambda,D.$$p=(I=function(a){var b=I.$$s||this,c,f,e;null==a&&(a=d);return!1!==(c=!1!==(f=b["$is_delimited_block?"](a))&&f!==d&&null!=f?f:(e=a["$start_with?"]("["),!1!==
e&&e!==d&&null!=e?u.get("BlockAttributeLineRx")["$=~"](a):e))&&c!==d&&null!=c?c:u.get("AnyListRx")["$=~"](a)},I.$$s=t,I.$$arity=1,I),D).call(t));a.cdecl(u,"NoOp",d);a.defn(t,"$initialize",J=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},J.$$arity=0);a.defs(t,"$parse",F=function(b,c,f){var e,g,h=d,l=d;null==f&&(f=k([],{}));h=this.$parse_document_header(b,c);if((e=f["$[]"]("header_only"))===d||null==e||e.$$is_boolean&&1!=e)for(;(g=b["$has_more_lines?"]())!==
d&&null!=g&&(!g.$$is_boolean||1==g);)if(f=this.$next_section(b,c,h),g=a.to_ary(f),l=null==g[0]?d:g[0],h=null==g[1]?d:g[1],f,!1!==l&&l!==d&&null!=l)c["$<<"](l);return c},F.$$arity=-3);a.defs(t,"$parse_document_header",y=function(b,c){var f,e,g=d,h=d,k=d,l=d,m=d,q=d,p=h=m=d,h=h=d,g=this.$parse_block_metadata_lines(b,c);if((f=(e=h=this["$is_next_line_document_title?"](b,g),!1!==e&&e!==d&&null!=e?g["$has_key?"]("title"):e))!==d&&null!=f&&(!f.$$is_boolean||1==f))return c.$finalize_header(g,!1);k=d;if((f=
(l=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===d||null==f||f.$$is_boolean&&1!=f)f=[k=l],e=c,e["$title="].apply(e,f),f[f.length-1];m=d;if(!1!==h&&h!==d&&null!=h){(f=c.$sourcemap())===d||null==f||f.$$is_boolean&&1!=f||(q=b.$cursor());e=this.$parse_section_title(b,c);f=a.to_ary(e);c["$id="](null==f[0]?d:f[0]);m=null==f[2]?d:f[2];h=null==f[4]?d:f[4];e;if(!1===k||k===d||null==k)f=[k=m],e=c,e["$title="].apply(e,f),f[f.length-1];!1!==h&&h!==d&&null!=h||c.$set_attribute("compat-mode","");(f=
p=g.$delete("separator"))===d||null==f||f.$$is_boolean&&1!=f||c.$set_attribute("title-separator",p);!1!==q&&q!==d&&null!=q&&(f=[q],e=c.$header(),e["$source_location="].apply(e,f),f[f.length-1]);c.$attributes()["$[]="]("doctitle",m);if((f=c.$id())===d||null==f||f.$$is_boolean&&1!=f){if(!((f=h=g.$delete(1))===d||null==f||f.$$is_boolean&&1!=f||(h=n(1,h),this.$parse_style_attribute(h,b),(f=h["$key?"]("id"))===d||null==f||f.$$is_boolean&&1!=f)))g["$[]="]("id",h["$[]"]("id"));f=[g.$delete("id")];e=c;e["$id="].apply(e,
f);f[f.length-1]}else g.$delete(1),g.$delete("id");this.$parse_header_metadata(b,c)}if((f=!1!==(e=(l=c.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&e!==d&&null!=e?e:l["$=="](m))===d||null==f||f.$$is_boolean&&1!=f)f=[k=l],e=c,e["$title="].apply(e,f),f[f.length-1];if(!1!==k&&k!==d&&null!=k)c.$attributes()["$[]="]("doctitle",k);c.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(b,c);return c.$finalize_header(g)},y.$$arity=2);a.defs(t,"$parse_manpage_header",M=function(a,b){var c,f=
d,f=f=d;(c=f=u.get("ManpageTitleVolnumRx").$match(b.$attributes()["$[]"]("doctitle")))===d||null==c||c.$$is_boolean&&1!=c?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),b.$attributes()["$[]="]("mantitle",b.$attributes()["$[]"]("doctitle")),b.$attributes()["$[]="]("manvolnum","1")):(b.$attributes()["$[]="]("mantitle",b.$sub_attributes(f["$[]"](1).$rstrip().$downcase())),b.$attributes()["$[]="]("manvolnum",f["$[]"](2).$strip()));a.$skip_blank_lines();if((c=this["$is_next_line_section?"](a,
k([],{})))===d||null==c||c.$$is_boolean&&1!=c)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected");f=this.$initialize_section(a,b,k([],{}));if(f.$level()["$=="](1)){f=a.$read_lines_until(k(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((c=f=u.get("ManpageNamePurposeRx").$match(f))===d||null==c||c.$$is_boolean&&1!=c)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");b.$attributes()["$[]="]("manname",
b.$sub_attributes(f["$[]"](1)));b.$attributes()["$[]="]("manpurpose",f["$[]"](2));return b.$backend()["$=="]("manpage")?(b.$attributes()["$[]="]("docname",b.$attributes()["$[]"]("manname")),b.$attributes()["$[]="]("outfilesuffix","."+b.$attributes()["$[]"]("manvolnum"))):d}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")},M.$$arity=2);a.defs(t,"$next_section",N=function(b,c,f){var g,h,m,n,p=d,r=d,y=d,t=d,w=d,x=d,A=d,F=d,v=A=d,S=v=v=d,D=d,w=r=
d;null==f&&(f=k([],{}));y=r=p=!1;(g=(h=(m=c.$context()["$=="]("document"))?c.$blocks()["$empty?"]():c.$context()["$=="]("document"),!1!==h&&h!==d&&null!=h?!1!==(m=!1!==(n=t=c["$has_header?"]())&&n!==d&&null!=n?n:f.$delete("invalid-header"))&&m!==d&&null!=m?m:this["$is_next_line_section?"](b,f)["$!"]():h))===d||null==g||g.$$is_boolean&&1!=g?(w=c.$document().$doctype(),x=this.$initialize_section(b,c,f),f=(g=A=f["$[]"]("title"))===d||null==g||g.$$is_boolean&&1!=g?k([],{}):k(["title"],{title:A}),A=x.$level(),
(g=(h=A["$=="](0))?w["$=="]("book"):A["$=="](0))===d||null==g||g.$$is_boolean&&1!=g?F=[l(A,1)]:(r=x.$special()["$!"](),F=(g=(h=x.$special(),!1!==h&&h!==d&&null!=h?["preface","appendix"]["$include?"](x.$sectname()):h))===d||null==g||g.$$is_boolean&&1!=g?[l(A,1)]:[l(A,2)])):(w=c.$doctype(),(g=!1!==(h=t)&&h!==d&&null!=h?h:(m=w["$=="]("book"))?f["$[]"](1)["$!="]("abstract"):w["$=="]("book"))===d||null==g||g.$$is_boolean&&1!=g||(p=y=u.get("Block").$new(c,"preamble",k(["content_model"],{content_model:"compound"})),
(g=(h=w["$=="]("book"))?c["$attr?"]("preface-title"):w["$=="]("book"))===d||null==g||g.$$is_boolean&&1!=g||(g=[c.$attr("preface-title")],h=p,h["$title="].apply(h,g),g[g.length-1]),c["$<<"](p)),x=c,A=0,F=(g=c.$attributes()["$has_key?"]("fragment"))===d||null==g||g.$$is_boolean&&1!=g?w["$=="]("book")?[0,1]:[1]:d);for(b.$skip_blank_lines();(h=b["$has_more_lines?"]())!==d&&null!=h&&(!h.$$is_boolean||1==h);){this.$parse_block_metadata_lines(b,x,f);if((h=v=this["$is_next_line_section?"](b,f))===d||null==
h||h.$$is_boolean&&1!=h)(v=b.$line_info(),(h=S=this.$next_block(b,!1!==(m=y)&&m!==d&&null!=m?m:x,f,k(["parse_metadata"],{parse_metadata:!1})))===d||null==h||h.$$is_boolean&&1!=h)||(!1!==r&&r!==d&&null!=r&&((h=x["$blocks?"]()["$!"]())===d||null==h||h.$$is_boolean&&1!=h?x.$blocks().$size()["$=="](1)&&((D=x.$blocks()["$[]"](0),(h=(m=y["$!"](),!1!==m&&m!==d&&null!=m?D.$content_model()["$=="]("compound"):m))===d||null==h||h.$$is_boolean&&1!=h)?(h=D.$content_model()["$!="]("compound"))===d||null==h||h.$$is_boolean&&
1!=h||(y=u.get("Block").$new(x,"open",k(["content_model"],{content_model:"compound"})),h=["partintro"],m=y,m["$style="].apply(m,h),h[h.length-1],x.$blocks().$shift(),D.$style()["$=="]("partintro")&&(h=["paragraph"],m=D,m["$context="].apply(m,h),h[h.length-1],h=[d],m=D,m["$style="].apply(m,h),h[h.length-1]),h=[y],m=D,m["$parent="].apply(m,h),h[h.length-1],y["$<<"](D),h=[y],m=S,m["$parent="].apply(m,h),h[h.length-1],x["$<<"](y)):this.$warn("asciidoctor: ERROR: "+v+": illegal block content outside of partintro block")):
(h=S.$style()["$!="]("partintro"))===d||null==h||h.$$is_boolean&&1!=h||(S.$context()["$=="]("paragraph")?(h=["open"],m=S,m["$context="].apply(m,h),h[h.length-1],h=["partintro"],m=S,m["$style="].apply(m,h),h[h.length-1]):(y=u.get("Block").$new(x,"open",k(["content_model"],{content_model:"compound"})),h=["partintro"],m=y,m["$style="].apply(m,h),h[h.length-1],h=[y],m=S,m["$parent="].apply(m,h),h[h.length-1],x["$<<"](y)))),(!1!==(h=y)&&h!==d&&null!=h?h:x)["$<<"](S),f=k([],{}));else if(v=l(v,x.$document().$attr("leveloffset",
0).$to_i()),(h=!1!==(m=q(v,A))&&m!==d&&null!=m?m:x.$context()["$=="]("document")?v["$=="](0):x.$context()["$=="]("document"))===d||null==h||h.$$is_boolean&&1!=h){(h=(m=v["$=="](0))?w["$!="]("book"):v["$=="](0))===d||null==h||h.$$is_boolean&&1!=h||this.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections");break}else(h=v["$=="](0)?w["$!="]("book"):v["$=="](0))===d||null==h||h.$$is_boolean&&1!=h?(h=!1!==F&&F!==d&&null!=F?F["$include?"](v)["$!"]():F)===d||null==
h||h.$$is_boolean&&1!=h||this.$warn(l(l("asciidoctor: WARNING: "+b.$line_info()+": section title out of sequence: ","expected "+((h=q(F.$size(),1))===d||null==h||h.$$is_boolean&&1!=h?"level":"levels")+" "+e(F," or ")+", "),"got level "+v)):this.$warn("asciidoctor: ERROR: "+b.$line_info()+": only book doctypes can contain level 0 sections"),m=this.$next_section(b,x,f),h=a.to_ary(m),v=null==h[0]?d:h[0],f=null==h[1]?d:h[1],m,x["$<<"](v);b.$skip_blank_lines()}if(!1!==r&&r!==d&&null!=r)((g=(h=x["$blocks?"](),
!1!==h&&h!==d&&null!=h?x.$blocks()["$[]"](-1).$context()["$=="]("section"):h))===d||null==g||g.$$is_boolean&&1!=g)&&this.$warn("asciidoctor: ERROR: "+b.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==p&&p!==d&&null!=p)if(r=c,(g=p["$blocks?"]())===d||null==g||g.$$is_boolean&&1!=g)r.$blocks().$shift();else if((g=(h=(m=u.get("Compliance").$unwrap_standalone_preamble(),!1!==m&&m!==d&&null!=m?r.$blocks().$size()["$=="](1):m),!1!==h&&h!==d&&null!=
h?w["$!="]("book"):h))!==d&&null!=g&&(!g.$$is_boolean||1==g))for(r.$blocks().$shift();(h=w=p.$blocks().$shift())!==d&&null!=h&&(!h.$$is_boolean||1==h);)h=[r],m=w,m["$parent="].apply(m,h),h[h.length-1],r["$<<"](w);return[(g=x["$!="](c))===d||null==g||g.$$is_boolean&&1!=g?d:x,f.$dup()]},N.$$arity=-3);a.defs(t,"$next_block",Q=function(b,c,e,m){var n,p,r,y,t,w,x,A,v,F,S,D=d,B=d,J=d,N=d,oa=d,M=d,aa=d,I=d,z=d,G=d,Y=d,ga=d,R=d,P=d,K=t=d,Q=d,W=d,U=d,Z=U=d,T=t=U=t=d,pa=U=z=z=d,va=d,O=d,V=t=z=z=pa=U=t=z=pa=
d,ha=P=K=t=U=t=t=d,ia=d,na=d,qa=P=K=K=d,wa=D=d,ta=d;null==e&&(e=k([],{}));null==m&&(m=k([],{}));D=b.$skip_blank_lines();if((n=b["$has_more_lines?"]())===d||null==n||n.$$is_boolean&&1!=n)return d;(n=(p=B=m["$[]"]("text"),!1!==p&&p!==d&&null!=p?q(D,0):p))===d||null==n||n.$$is_boolean&&1!=n||(m.$delete("text"),B=!1);J=m.$fetch("parse_metadata",!0);N=c.$document();(n=oa=N.$extensions())===d||null==n||n.$$is_boolean&&1!=n?M=aa=!1:(M=oa["$blocks?"](),aa=oa["$block_macros?"]());I=u.get("ListItem")["$==="](c);
Y=G=z=d;ga=N.$sourcemap();for(R=d;(p=(r=z["$!"](),!1!==r&&r!==d&&null!=r?b["$has_more_lines?"]():r))!==d&&null!=p&&(!p.$$is_boolean||1==p);)if((p=(r=!1!==J&&J!==d&&null!=J)?this.$parse_block_metadata_line(b,N,e,m):J)===d||null==p||p.$$is_boolean&&1!=p){!1!==ga&&ga!==d&&null!=ga&&(R=b.$cursor());P=b.$read_line();t=!1;W=Q=K=d;(p=e["$[]"](1))===d||null==p||p.$$is_boolean&&1!=p||(r=this.$parse_style_attribute(e,b),p=a.to_ary(r),G=null==p[0]?d:p[0],Y=null==p[1]?d:p[1],r);(p=U=this["$is_delimited_block?"](P,
!0))===d||null==p||p.$$is_boolean&&1!=p||((t=!0,K=Q=U.$context(),W=U.$terminator(),(p=G["$!"]())===d||null==p||p.$$is_boolean&&1!=p)?(p=G["$!="](K.$to_s()))===d||null==p||p.$$is_boolean&&1!=p||((p=U.$masq()["$include?"](G))===d||null==p||p.$$is_boolean&&1!=p?(p=(r=U.$masq()["$include?"]("admonition"),!1!==r&&r!==d&&null!=r?u.get("ADMONITION_STYLES")["$include?"](G):r))===d||null==p||p.$$is_boolean&&1!=p?(p=(r=!1!==M&&M!==d&&null!=M)?oa["$registered_for_block?"](G,K):M)===d||null==p||p.$$is_boolean&&
1!=p?(this.$warn("asciidoctor: WARNING: "+b.$prev_line_info()+": invalid style for "+K+" block: "+G),G=K.$to_s()):K=G.$to_sym():K="admonition":K=G.$to_sym()):G=e["$[]="]("style",K.$to_s()));if(!1===t||t===d||null==t)for(;(r=!0)!==d&&null!=r&&(!r.$$is_boolean||1==r);){if((r=(y=(t=!1!==G&&G!==d&&null!=G)?u.get("Compliance").$strict_verbatim_paragraphs():G,!1!==y&&y!==d&&null!=y?u.get("VERBATIM_STYLES")["$include?"](G):y))!==d&&null!=r&&(!r.$$is_boolean||1==r)){K=G.$to_sym();b.$unshift_line(P);break}if(!1===
B||B===d||null==B)if(U=(r=u.get("Compliance").$markdown_syntax())===d||null==r||r.$$is_boolean&&1!=r?P.$chr():P.$lstrip().$chr(),(r=(y=(t=u.get("LAYOUT_BREAK_LINES")["$has_key?"](U),!1!==t&&t!==d&&null!=t?g(P.$length(),3):t),!1!==y&&y!==d&&null!=y?((t=u.get("Compliance").$markdown_syntax())===d||null==t||t.$$is_boolean&&1!=t?u.get("LayoutBreakLineRx"):u.get("LayoutBreakLinePlusRx"))["$=~"](P):y))!==d&&null!=r&&(!r.$$is_boolean||1==r)){z=u.get("Block").$new(c,u.get("LAYOUT_BREAK_LINES")["$[]"](U),
k(["content_model"],{content_model:"empty"}));break}else if((r=(y=P["$end_with?"]("]"),!1!==y&&y!==d&&null!=y?Z=u.get("MediaBlockMacroRx").$match(P):y))!==d&&null!=r&&(!r.$$is_boolean||1==r)){t=Z["$[]"](1).$to_sym();z=u.get("Block").$new(c,t,k(["content_model"],{content_model:"empty"}));U=t["$=="]("image")?["alt","width","height"]:t["$=="]("video")?["poster","width","height"]:[];if((r=!1!==(y=G["$!"]())&&y!==d&&null!=y?y:Y)===d||null==r||r.$$is_boolean&&1!=r){if(t["$=="]("image"))e["$[]="]("alt",
G);e.$delete("style");G=d}z.$parse_attributes(Z["$[]"](3),U,k(["unescape_input","sub_input","sub_result","into"],{unescape_input:t["$=="]("image"),sub_input:!0,sub_result:!1,into:e}));t=z.$sub_attributes(Z["$[]"](2),k(["attribute_missing"],{attribute_missing:"drop-line"}));if((r=t["$empty?"]())!==d&&null!=r&&(!r.$$is_boolean||1==r)){if(N.$attributes().$fetch("attribute-missing",u.get("Compliance").$attribute_missing())["$=="]("skip"))return u.get("Block").$new(c,"paragraph",k(["content_model","source"],
{content_model:"simple",source:[P]}));e.$clear();return d}e["$[]="]("target",t);break}else if((r=(y=U["$=="]("t"))?Z=u.get("TocBlockMacroRx").$match(P):U["$=="]("t"))!==d&&null!=r&&(!r.$$is_boolean||1==r)){z=u.get("Block").$new(c,"toc",k(["content_model"],{content_model:"empty"}));z.$parse_attributes(Z["$[]"](1),[],k(["sub_result","into"],{sub_result:!1,into:e}));break}else if((r=(y=(t=!1!==aa&&aa!==d&&null!=aa)?Z=u.get("GenericBlockMacroRx").$match(P):aa,!1!==y&&y!==d&&null!=y?T=oa["$registered_for_block_macro?"](Z["$[]"](1)):
y))!==d&&null!=r&&(!r.$$is_boolean||1==r)){t=Z["$[]"](2);z=Z["$[]"](3);if(T.$config()["$[]"]("content_model")["$=="]("attributes"))((r=z["$empty?"]())===d||null==r||r.$$is_boolean&&1!=r)&&N.$parse_attributes(z,!1!==(r=T.$config()["$[]"]("pos_attrs"))&&r!==d&&null!=r?r:[],k(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:e}));else e["$[]="]("text",z);(r=z=T.$config()["$[]"]("default_attrs"))===d||null==r||r.$$is_boolean&&1!=r||(r=(y=z).$each,r.$$p=(w=function(a,b){var c,f,g;null==
a&&(a=d);null==b&&(b=d);return c=a,f=e,!1!==(g=f["$[]"](c))&&g!==d&&null!=g?g:f["$[]="](c,b)},w.$$s=this,w.$$arity=2,w),r).call(y);if((r=z=T.$process_method()["$[]"](c,t,e.$dup()))===d||null==r||r.$$is_boolean&&1!=r)return e.$clear(),d;e.$replace(z.$attributes());break}if((r=Z=u.get("CalloutListRx").$match(P))!==d&&null!=r&&(!r.$$is_boolean||1==r)){z=u.get("List").$new(c,"colist");e["$[]="]("style","arabic");b.$unshift_line(P);for(U=1;(t=!1!==(x=Z)&&x!==d&&null!=x?x:(A=b["$has_more_lines?"](),!1!==
A&&A!==d&&null!=A?Z=u.get("CalloutListRx").$match(b.$peek_line()):A))!==d&&null!=t&&(!t.$$is_boolean||1==t);){(t=Z["$[]"](1).$to_i()["$!="](U))===d||null==t||t.$$is_boolean&&1!=t||this.$warn("asciidoctor: WARNING: "+b.$path()+": line "+h(b.$lineno(),2)+": callout list item index: expected "+U+" got "+Z["$[]"](1));pa=this.$next_list_item(b,z,Z);U=l(U,1);if(!1!==pa&&pa!==d&&null!=pa)if(z["$<<"](pa),va=N.$callouts().$callout_ids(z.$items().$size()),(t=va["$empty?"]()["$!"]())===d||null==t||t.$$is_boolean&&
1!=t)this.$warn("asciidoctor: WARNING: "+b.$path()+": line "+h(b.$lineno(),2)+": no callouts refer to list item "+z.$items().$size());else pa.$attributes()["$[]="]("coids",va);Z=d}N.$callouts().$next_list();break}else if((r=u.get("UnorderedListRx")["$=~"](P))!==d&&null!=r&&(!r.$$is_boolean||1==r)){b.$unshift_line(P);z=this.$next_outline_list(b,"ulist",c);break}else if((r=Z=u.get("OrderedListRx").$match(P))!==d&&null!=r&&(!r.$$is_boolean||1==r)){b.$unshift_line(P);z=this.$next_outline_list(b,"olist",
c);if((r=(t=e["$[]"]("style")["$!"](),!1!==t&&t!==d&&null!=t?z.$attributes()["$[]"]("style")["$!"]():t))!==d&&null!=r&&(!r.$$is_boolean||1==r))if(O=z.$items()["$[]"](0).$marker(),(r=O["$start_with?"]("."))===d||null==r||r.$$is_boolean&&1!=r)G=(r=(t=u.get("ORDERED_LIST_STYLES")).$detect,r.$$p=(v=function(a){null==a&&(a=d);return u.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](O)},v.$$s=this,v.$$arity=1,v),r).call(t),e["$[]="]("style",(!1!==(r=G)&&r!==d&&null!=r?r:u.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());
else e["$[]="]("style",(!1!==(r=u.get("ORDERED_LIST_STYLES")["$[]"](h(O.$length(),1)))&&r!==d&&null!=r?r:u.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((r=Z=u.get("DefinitionListRx").$match(P))!==d&&null!=r&&(!r.$$is_boolean||1==r)){b.$unshift_line(P);z=this.$next_labeled_list(b,Z,c);break}else if((r=(x=!1!==(A=G["$=="]("float"))&&A!==d&&null!=A?A:G["$=="]("discrete"),!1!==x&&x!==d&&null!=x?this["$is_section_title?"](P,(A=u.get("Compliance").$underline_style_section_titles())===d||
null==A||A.$$is_boolean&&1!=A?d:b.$peek_line(!0)):x))!==d&&null!=r&&(!r.$$is_boolean||1==r)){b.$unshift_line(P);x=this.$parse_section_title(b,N);r=a.to_ary(x);pa=null==r[0]?d:r[0];z=null==r[1]?d:r[1];t=null==r[2]?d:r[2];U=null==r[3]?d:r[3];x;if(!1!==z&&z!==d&&null!=z)e["$[]="]("reftext",z);(r=e["$has_key?"]("id"))===d||null==r||r.$$is_boolean&&1!=r||(!1!==(r=pa)&&r!==d&&null!=r?r:pa=e["$[]"]("id"));z=u.get("Block").$new(c,"floating_title",k(["content_model"],{content_model:"empty"}));(r=pa["$nil_or_empty?"]())===
d||null==r||r.$$is_boolean&&1!=r?r=[pa]:(pa=u.get("Section").$new(c),r=[t],x=pa,x["$title="].apply(x,r),r[r.length-1],r=[pa.$generate_id()]);x=z;x["$id="].apply(x,r);r[r.length-1];r=[U];x=z;x["$level="].apply(x,r);r[r.length-1];r=[t];x=z;x["$title="].apply(x,r);r[r.length-1];break}else if((r=(x=!1!==G&&G!==d&&null!=G)?G["$!="]("normal"):G)!==d&&null!=r&&(!r.$$is_boolean||1==r))if((r=u.get("PARAGRAPH_STYLES")["$include?"](G))===d||null==r||r.$$is_boolean&&1!=r)if((r=u.get("ADMONITION_STYLES")["$include?"](G))===
d||null==r||r.$$is_boolean&&1!=r)if((r=(x=!1!==M&&M!==d&&null!=M)?oa["$registered_for_block?"](G,"paragraph"):M)===d||null==r||r.$$is_boolean&&1!=r)this.$warn("asciidoctor: WARNING: "+b.$prev_line_info()+": invalid style for paragraph: "+G),G=d;else{K=G.$to_sym();Q="paragraph";b.$unshift_line(P);break}else{K="admonition";Q="paragraph";b.$unshift_line(P);break}else{K=G.$to_sym();Q="paragraph";b.$unshift_line(P);break}z=(r=D["$=="](0))?I:D["$=="](0);if((r=(x=G["$!="]("normal"),!1!==x&&x!==d&&null!=
x?u.get("LiteralParagraphRx")["$=~"](P):x))===d||null==r||r.$$is_boolean&&1!=r){b.$unshift_line(P);z=this.$read_paragraph_lines(b,z,k(["skip_line_comments"],{skip_line_comments:!0}));if((r=z["$empty?"]())!==d&&null!=r&&(!r.$$is_boolean||1==r))return b.$advance(),d;this.$catalog_inline_anchors(z.$join(u.get("EOL")),N);t=z["$[]"](0);if((r=(x=B["$!"](),!1!==x&&x!==d&&null!=x?V=u.get("AdmonitionParagraphRx").$match(t):x))===d||null==r||r.$$is_boolean&&1!=r)if((r=(x=(A=B["$!"](),!1!==A&&A!==d&&null!=A?
u.get("Compliance").$markdown_syntax():A),!1!==x&&x!==d&&null!=x?t["$start_with?"]("> "):x))===d||null==r||r.$$is_boolean&&1!=r)if((r=(A=B["$!"](),!1!==A&&A!==d&&null!=A?this["$blockquote?"](z,t):A))===d||null==r||r.$$is_boolean&&1!=r){if(G["$=="]("normal"))this["$adjust_indentation!"](z);z=u.get("Block").$new(c,"paragraph",k(["content_model","source","attributes"],{content_model:"simple",source:z,attributes:e}))}else{z["$[]="](0,t["$[]"](f(1,-1,!1)));A=z.$pop()["$[]"](f(3,-1,!1)).$split(", ",2);
r=a.to_ary(A);t=null==r[0]?d:r[0];U=null==r[1]?d:r[1];for(A;(A=z["$[]"](-1)["$empty?"]())!==d&&null!=A&&(!A.$$is_boolean||1==A);)z.$pop();z["$[]="](-1,z["$[]"](-1).$chop());e["$[]="]("style","quote");if(!1!==t&&t!==d&&null!=t)e["$[]="]("attribution",t);if(!1!==U&&U!==d&&null!=U)e["$[]="]("citetitle",U);z=u.get("Block").$new(c,"quote",k(["content_model","source","attributes"],{content_model:"simple",source:z,attributes:e}))}else{(r=(x=z)["$map!"],r.$$p=(F=function(a){var b;null==a&&(a=d);return a["$=="](">")?
a["$[]"](f(1,-1,!1)):(b=a["$start_with?"]("> "))===d||null==b||b.$$is_boolean&&1!=b?a:a["$[]"](f(2,-1,!1))},F.$$s=this,F.$$arity=1,F),r).call(x);if((r=z["$[]"](-1)["$start_with?"]("-- "))===d||null==r||r.$$is_boolean&&1!=r)A=d,r=a.to_ary(A),t=null==r[0]?d:r[0],U=null==r[1]?d:r[1],A;else for(A=z.$pop()["$[]"](f(3,-1,!1)).$split(", ",2),r=a.to_ary(A),t=null==r[0]?d:r[0],U=null==r[1]?d:r[1],A;(A=z["$[]"](-1)["$empty?"]())!==d&&null!=A&&(!A.$$is_boolean||1==A);)z.$pop();e["$[]="]("style","quote");if(!1!==
t&&t!==d&&null!=t)e["$[]="]("attribution",t);if(!1!==U&&U!==d&&null!=U)e["$[]="]("citetitle",U);z=this.$build_block("quote","compound",!1,c,u.get("Reader").$new(z),e)}else z["$[]="](0,V.$post_match().$lstrip()),e["$[]="]("style",V["$[]"](1)),e["$[]="]("name",t=V["$[]"](1).$downcase()),r="caption",x=e,!1!==(A=x["$[]"](r))&&A!==d&&null!=A?A:x["$[]="](r,N.$attributes()["$[]"](""+t+"-caption")),z=u.get("Block").$new(c,"admonition",k(["content_model","source","attributes"],{content_model:"simple",source:z,
attributes:e}))}else b.$unshift_line(P),z=this.$read_paragraph_lines(b,z,k(["skip_line_comments"],{skip_line_comments:B})),this["$adjust_indentation!"](z),z=u.get("Block").$new(c,"literal",k(["content_model","source","attributes"],{content_model:"verbatim",source:z,attributes:e})),!1!==I&&I!==d&&null!=I&&z.$set_option("listparagraph");break}if((p=(r=z["$!"](),!1!==r&&r!==d&&null!=r?K:r))!==d&&null!=p&&(!p.$$is_boolean||1==p))if((p=!1!==(r=K["$=="]("abstract"))&&r!==d&&null!=r?r:K["$=="]("partintro"))===
d||null==p||p.$$is_boolean&&1!=p||(K="open"),t=K,"admonition"["$==="](t))e["$[]="]("name",t=G.$downcase()),p="caption",r=e,!1!==(A=r["$[]"](p))&&A!==d&&null!=A?A:r["$[]="](p,N.$attributes()["$[]"](""+t+"-caption")),z=this.$build_block(K,"compound",W,c,b,e);else{if("comment"["$==="](t))return this.$build_block(K,"skip",W,c,b,e),d;if("example"["$==="](t))z=this.$build_block(K,"compound",W,c,b,e);else if("listing"["$==="](t)||"fenced_code"["$==="](t)||"source"["$==="](t)){if(K["$=="]("fenced_code")){G=
e["$[]="]("style","source");r=P["$[]"](f(3,-1,!1)).$tr(" ","").$split(",",2);p=a.to_ary(r);K=null==p[0]?d:p[0];P=null==p[1]?d:p[1];r;if((p=K["$nil_or_empty?"]()["$!"]())!==d&&null!=p&&(!p.$$is_boolean||1==p)){if(e["$[]="]("language",K),(p=P["$nil_or_empty?"]())===d||null==p||p.$$is_boolean&&1!=p)e["$[]="]("linenums","")}else if((p=ha=N.$attributes()["$[]"]("source-language"))!==d&&null!=p&&(!p.$$is_boolean||1==p))e["$[]="]("language",ha);if((p=(r=e["$key?"]("indent")["$!"](),!1!==r&&r!==d&&null!=
r?N.$attributes()["$key?"]("source-indent"):r))!==d&&null!=p&&(!p.$$is_boolean||1==p))e["$[]="]("indent",N.$attributes()["$[]"]("source-indent"));W=W["$[]"](f(0,2,!1))}else if(K["$=="]("source")){u.get("AttributeList").$rekey(e,[d,"language","linenums"]);if(((p=e["$key?"]("language"))===d||null==p||p.$$is_boolean&&1!=p)&&(p=ha=N.$attributes()["$[]"]("source-language"))!==d&&null!=p&&(!p.$$is_boolean||1==p))e["$[]="]("language",ha);if((p=(r=e["$key?"]("indent")["$!"](),!1!==r&&r!==d&&null!=r?N.$attributes()["$key?"]("source-indent"):
r))!==d&&null!=p&&(!p.$$is_boolean||1==p))e["$[]="]("indent",N.$attributes()["$[]"]("source-indent"))}z=this.$build_block("listing","verbatim",W,c,b,e)}else if("literal"["$==="](t))z=this.$build_block(K,"verbatim",W,c,b,e);else if("pass"["$==="](t))z=this.$build_block(K,"raw",W,c,b,e);else if("stem"["$==="](t)||"latexmath"["$==="](t)||"asciimath"["$==="](t)){if(K["$=="]("stem"))e["$[]="]("style",(p=ia=e["$[]"](2))===d||null==p||p.$$is_boolean&&1!=p?(p=(na=N.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===
d||null==p||p.$$is_boolean&&1!=p?na:"asciimath":(p=ia["$include?"]("tex"))===d||null==p||p.$$is_boolean&&1!=p?"asciimath":"latexmath");z=this.$build_block("stem","raw",W,c,b,e)}else if("open"["$==="](t)||"sidebar"["$==="](t))z=this.$build_block(K,"compound",W,c,b,e);else if("table"["$==="](t)){K=b.$cursor();K=u.get("Reader").$new(b.$read_lines_until(k(["terminator","skip_line_comments"],{terminator:W,skip_line_comments:!0})),K);t=W.$chr();if(","["$==="](t))e["$[]="]("format","csv");else if(":"["$==="](t))e["$[]="]("format",
"dsv");z=this.$next_table(K,c,e)}else if("quote"["$==="](t)||"verse"["$==="](t))u.get("AttributeList").$rekey(e,[d,"attribution","citetitle"]),z=this.$build_block(K,K["$=="]("verse")?"verbatim":"compound",W,c,b,e);else if((p=(r=!1!==M&&M!==d&&null!=M)?T=oa["$registered_for_block?"](K,Q):M)===d||null==p||p.$$is_boolean&&1!=p)this.$raise("Unsupported block type "+K+" at "+b.$line_info());else if((p=(P=T.$config()["$[]"]("content_model"))["$!="]("skip"))===d||null==p||p.$$is_boolean&&1!=p||((p=(qa=!1!==
(r=T.$config()["$[]"]("pos_attrs"))&&r!==d&&null!=r?r:[])["$empty?"]()["$!"]())===d||null==p||p.$$is_boolean&&1!=p||u.get("AttributeList").$rekey(e,[d].$concat(qa)),(p=z=T.$config()["$[]"]("default_attrs"))===d||null==p||p.$$is_boolean&&1!=p||(p=(r=z).$each,p.$$p=(S=function(a,b){var c,f,g;null==a&&(a=d);null==b&&(b=d);return c=a,f=e,!1!==(g=f["$[]"](c))&&g!==d&&null!=g?g:f["$[]="](c,b)},S.$$s=this,S.$$arity=2,S),p).call(r)),z=this.$build_block(K,P,W,c,b,e,k(["extension"],{extension:T})),(p=(A=!1!==
z&&z!==d&&null!=z)?P["$!="]("skip"):z)===d||null==p||p.$$is_boolean&&1!=p)return e.$clear(),d}}else b.$advance();if(!1!==z&&z!==d&&null!=z){!1!==R&&R!==d&&null!=R&&(n=[R],p=z,p["$source_location="].apply(p,n),n[n.length-1]);if((n=z["$title?"]())===d||null==n||n.$$is_boolean&&1!=n)n=[e["$[]"]("title")],p=z,p["$title="].apply(p,n),n[n.length-1];if(z.$context()["$=="]("image")){if(D=e["$[]"]("target"),z.$document().$register("images",D),n="alt",p=e,!1!==(A=p["$[]"](n))&&A!==d&&null!=A?A:p["$[]="](n,
u.get("Helpers").$basename(D,!0).$tr("_-"," ")),e["$[]="]("alt",z.$sub_specialchars(e["$[]"]("alt"))),z.$assign_caption(e.$delete("caption"),"figure"),!((n=wa=e["$[]"]("scaledwidth"))===d||null==n||n.$$is_boolean&&1!=n||(n=f(48,57,!1)["$include?"]((!1!==(p=wa["$[]"](-1))&&p!==d&&null!=p?p:0).$ord()))===d||null==n||n.$$is_boolean&&1!=n))e["$[]="]("scaledwidth",""+wa+"%")}else n=z,!1!==(p=n.$caption())&&p!==d&&null!=p?p:n["$caption="](e.$delete("caption"));n=[e["$[]"]("style")];p=z;p["$style="].apply(p,
n);n[n.length-1];(n=ta=(p=z,!1!==(A=p.$id())&&A!==d&&null!=A?A:p["$id="](e["$[]"]("id"))))===d||null==n||n.$$is_boolean&&1!=n||N.$register("ids",[ta,!1!==(n=e["$[]"]("reftext"))&&n!==d&&null!=n?n:(p=z["$title?"]())===d||null==p||p.$$is_boolean&&1!=p?d:z.$title()]);((n=e["$empty?"]())===d||null==n||n.$$is_boolean&&1!=n)&&z.$attributes().$update(e);z.$lock_in_subs();(n=z["$sub?"]("callouts"))===d||null==n||n.$$is_boolean&&1!=n||!((n=this.$catalog_callouts(z.$source(),N))===d||null==n||n.$$is_boolean&&
1!=n)||z.$remove_sub("callouts")}return z},Q.$$arity=-3);a.defs(t,"$blockquote?",V=function(a,b){var c,f,e,g;null==b&&(b=d);return c=(f=(e=q(a.$size(),1),!1!==e&&e!==d&&null!=e?(!1!==(g=b)&&g!==d&&null!=g?g:a["$[]"](0))["$start_with?"]('"'):e),!1!==f&&f!==d&&null!=f?a["$[]"](-1)["$start_with?"]("-- "):f),!1!==c&&c!==d&&null!=c?a["$[]"](-2)["$end_with?"]('"'):c},V.$$arity=-2);a.defs(t,"$read_paragraph_lines",T=function(a,b,c){var f,e=d;null==c&&(c=k([],{}));c["$[]="]("break_on_blank_lines",!0);c["$[]="]("break_on_list_continuation",
!0);c["$[]="]("preserve_last_line",!0);e=!1!==b&&b!==d&&null!=b?(f=u.get("Compliance").$block_terminates_paragraph())===d||null==f||f.$$is_boolean&&1!=f?u.get("StartOfListProc"):u.get("StartOfBlockOrListProc"):(f=u.get("Compliance").$block_terminates_paragraph())===d||null==f||f.$$is_boolean&&1!=f?u.get("NoOp"):u.get("StartOfBlockProc");return(f=a.$read_lines_until,f.$$p=e.$to_proc(),f).call(a,c)},T.$$arity=-3);a.defs(t,"$is_delimited_block?",Y=function(g,k){var l,m,p=d,n=d,r=d,y=d,t=d,r=p=d;null==
k&&(k=!1);if((l=(m=q(p=g.$length(),1),!1!==m&&m!==d&&null!=m?u.get("DELIMITED_BLOCK_LEADERS")["$include?"](g["$[]"](f(0,1,!1))):m))===d||null==l||l.$$is_boolean&&1!=l)return d;if(p["$=="](2))n=g,r=2;else{(l=b(p,4))===d||null==l||l.$$is_boolean&&1!=l?(n=g["$[]"](f(0,3,!1)),r=4):(n=g,r=p);y=!1;if((l=u.get("Compliance").$markdown_syntax())!==d&&null!=l&&(!l.$$is_boolean||1==l)&&(t=r["$=="](4)?n.$chop():n,t["$=="]("```"))){if((l=r["$=="](4)?n["$end_with?"]("`"):r["$=="](4))!==d&&null!=l&&(!l.$$is_boolean||
1==l))return d;n=t;r=3;y=!0}if((l=(m=r["$=="](3))?y["$!"]():r["$=="](3))!==d&&null!=l&&(!l.$$is_boolean||1==l))return d}return(l=u.get("DELIMITED_BLOCKS")["$has_key?"](n))===d||null==l||l.$$is_boolean&&1!=l?d:(l=!1!==(m=c(r,4))&&m!==d&&null!=m?m:r["$=="](p))===d||null==l||l.$$is_boolean&&1!=l?(""+n+e(n["$[]"](f(-1,-1,!1)),h(p,r)))["$=="](g)?!1!==k&&k!==d&&null!=k?(l=a.to_a(u.get("DELIMITED_BLOCKS")["$[]"](n)),p=null==l[0]?d:l[0],r=null==l[1]?d:l[1],l,u.get("BlockMatchData").$new(p,r,n,g)):!0:d:!1!==
k&&k!==d&&null!=k?(l=a.to_a(u.get("DELIMITED_BLOCKS")["$[]"](n)),p=null==l[0]?d:l[0],r=null==l[1]?d:l[1],l,u.get("BlockMatchData").$new(p,r,n,n)):!0},Y.$$arity=-2);a.defs(t,"$build_block",S=function(a,b,c,f,e,g,h){var l,m,p=d,n=d,r=p=n=d,r=r=r=r=d;null==h&&(h=k([],{}));(l=!1!==(m=b["$=="]("skip"))&&m!==d&&null!=m?m:b["$=="]("raw"))===d||null==l||l.$$is_boolean&&1!=l?(p=!1,n=b):(p=b["$=="]("skip"),n="simple");(l=c["$nil?"]())===d||null==l||l.$$is_boolean&&1!=l?(l=n["$!="]("compound"))===d||null==l||
l.$$is_boolean&&1!=l?c["$=="](!1)?(n=d,p=e):(n=d,r=e.$cursor(),p=u.get("Reader").$new(e.$read_lines_until(k(["terminator","skip_processing"],{terminator:c,skip_processing:p})),r)):(n=e.$read_lines_until(k(["terminator","skip_processing"],{terminator:c,skip_processing:p})),p=d):(n["$=="]("verbatim")?n=e.$read_lines_until(k(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(b["$=="]("compound")&&(b="simple"),n=this.$read_paragraph_lines(e,
!1,k(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),p=d);if(b["$=="]("skip"))return g.$clear(),n;if(b["$=="]("verbatim"))if((l=r=g["$[]"]("indent"))!==d&&null!=l&&(!l.$$is_boolean||1==l))this["$adjust_indentation!"](n,r,!1!==(l=g["$[]"]("tabsize"))&&l!==d&&null!=l?l:f.$document().$attributes()["$[]"]("tabsize"));else if((l=q(r=(!1!==(m=g["$[]"]("tabsize"))&&m!==d&&null!=m?m:f.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))!==d&&null!=l&&(!l.$$is_boolean||
1==l))this["$adjust_indentation!"](n,d,r);if((l=r=h["$[]"]("extension"))===d||null==l||l.$$is_boolean&&1!=l)r=u.get("Block").$new(f,a,k(["content_model","source","attributes"],{content_model:b,source:n,attributes:g}));else{g.$delete("style");if((l=r=r.$process_method()["$[]"](f,!1!==(m=p)&&m!==d&&null!=m?m:u.get("Reader").$new(n),g.$dup()))===d||null==l||l.$$is_boolean&&1!=l)return d;g.$replace(r.$attributes());(l=(m=r.$content_model()["$=="]("compound"))?(n=r.$lines())["$nil_or_empty?"]()["$!"]():
r.$content_model()["$=="]("compound"))===d||null==l||l.$$is_boolean&&1!=l||(b="compound",p=u.get("Reader").$new(n))}(l=(m=g["$has_key?"]("title"),!1!==m&&m!==d&&null!=m?r.$document()["$attr?"](""+r.$context()+"-caption"):m))===d||null==l||l.$$is_boolean&&1!=l||(l=[g.$delete("title")],m=r,m["$title="].apply(m,l),l[l.length-1],r.$assign_caption(g.$delete("caption")));b["$=="]("compound")&&this.$parse_blocks(p,r);return r},S.$$arity=-7);a.defs(t,"$parse_blocks",A=function(a,b){for(var c,f=d;(c=a["$has_more_lines?"]())!==
d&&null!=c&&(!c.$$is_boolean||1==c);)if(f=u.get("Parser").$next_block(a,b),!1!==f&&f!==d&&null!=f)b["$<<"](f)},A.$$arity=2);a.defs(t,"$next_outline_list",W=function(a,b,f){var e,g,h,k=d,m=d,p=e=d,n=d,r=d,k=u.get("List").$new(f,b);e=f.$context()["$=="](b)?[l(f.$level(),1)]:[1];g=k;g["$level="].apply(g,e);for(e[e.length-1];(g=(h=a["$has_more_lines?"](),!1!==h&&h!==d&&null!=h?m=u.get("ListRxMap")["$[]"](b).$match(a.$peek_line()):h))!==d&&null!=g&&(!g.$$is_boolean||1==g);){e=this.$resolve_list_marker(b,
m["$[]"](1));if((g=(h=k["$items?"](),!1!==h&&h!==d&&null!=h?e["$!="](k.$items()["$[]"](0).$marker()):h))===d||null==g||g.$$is_boolean&&1!=g)p=k.$level();else for(p=l(k.$level(),1),n=f;n.$context()["$=="](b);){if(e["$=="](n.$items()["$[]"](0).$marker())){p=n.$level();break}n=n.$parent()}if((g=!1!==(h=k["$items?"]()["$!"]())&&h!==d&&null!=h?h:p["$=="](k.$level()))!==d&&null!=g&&(!g.$$is_boolean||1==g))r=this.$next_list_item(a,k,m);else if((g=c(p,k.$level()))!==d&&null!=g&&(!g.$$is_boolean||1==g))break;
else if((g=q(p,k.$level()))!==d&&null!=g&&(!g.$$is_boolean||1==g))k.$items()["$[]"](-1)["$<<"](this.$next_block(a,k));if(!1!==r&&r!==d&&null!=r)k["$<<"](r);r=d;a.$skip_blank_lines()}return k},W.$$arity=3);a.defs(t,"$catalog_callouts",aa=function(a,b){var c,f,e=d,e=!1;(c=a["$include?"]("<"))===d||null==c||c.$$is_boolean&&1!=c||(c=a.$scan,c.$$p=(f=function(){var a,c=d;null==m["~"]&&(m["~"]=d);c=m["~"];(a=c["$[]"](0).$chr()["$!="]("\\"))===d||null==a||a.$$is_boolean&&1!=a||b.$callouts().$register(c["$[]"](2));
return e=!0},f.$$s=this,f.$$arity=0,f),c).call(a,u.get("CalloutQuickScanRx"));return e},aa.$$arity=2);a.defs(t,"$catalog_inline_anchors",ga=function(a,b){var c,f;(c=a["$include?"]("["))===d||null==c||c.$$is_boolean&&1!=c||(c=a.$scan,c.$$p=(f=function(){var a,c=d,f=d,c=d;null==m["~"]&&(m["~"]=d);c=m["~"];if((a=c["$[]"](0)["$start_with?"]("\\"))!==d&&null!=a&&(!a.$$is_boolean||1==a))return d;f=!1!==(a=c["$[]"](1))&&a!==d&&null!=a?a:c["$[]"](3);c=!1!==(a=c["$[]"](2))&&a!==d&&null!=a?a:c["$[]"](4);return b.$register("ids",
[f,c])},f.$$s=this,f.$$arity=0,f),c).call(a,u.get("InlineAnchorRx"));return d},ga.$$arity=2);a.defs(t,"$next_labeled_list",Z=function(b,c,f){for(var e,g,h,k=d,l=d,m=d,p=d,n=d,k=u.get("List").$new(f,"dlist"),l=d,m=u.get("DefinitionListSiblingRx")["$[]"](c["$[]"](2));(e=!1!==(g=c)&&g!==d&&null!=g?g:(h=b["$has_more_lines?"](),!1!==h&&h!==d&&null!=h?c=m.$match(b.$peek_line()):h))!==d&&null!=e&&(!e.$$is_boolean||1==e);){g=this.$next_list_item(b,k,c,m);e=a.to_ary(g);p=null==e[0]?d:e[0];n=null==e[1]?d:e[1];
g;if((e=(g=!1!==l&&l!==d&&null!=l)?l["$[]"](-1)["$!"]():l)===d||null==e||e.$$is_boolean&&1!=e)k.$items()["$<<"](l=[[p],n]);else l.$pop(),l["$[]"](0)["$<<"](p),l["$<<"](n);c=d}return k},Z.$$arity=3);a.defs(t,"$next_list_item",ia=function(a,b,c,e){var g,h,l=d,m=d,p=d,n=d,q=p=d,r=q=q=n=d,y=d,t=y=r=d,x=d;null==e&&(e=d);if((l=b.$context())["$=="]("dlist"))m=u.get("ListItem").$new(b,c["$[]"](1)),p=u.get("ListItem").$new(b,c["$[]"](3)),n=c["$[]"](3)["$nil_or_empty?"]()["$!"]();else{p=c["$[]"](2);q=!1;(g=
(h=l["$=="]("ulist"))?p["$start_with?"]("["):l["$=="]("ulist"))===d||null==g||g.$$is_boolean&&1!=g||((g=p["$start_with?"]("[ ] "))===d||null==g||g.$$is_boolean&&1!=g?(g=!1!==(h=p["$start_with?"]("[x] "))&&h!==d&&null!=h?h:p["$start_with?"]("[*] "))===d||null==g||g.$$is_boolean&&1!=g||(n=q=!0,p=p["$[]"](f(3,-1,!1)).$lstrip()):(q=!0,n=!1,p=p["$[]"](f(3,-1,!1)).$lstrip()));p=u.get("ListItem").$new(b,p);if(!1!==q&&q!==d&&null!=q&&(b.$attributes()["$[]="]("checklist-option",""),p.$attributes()["$[]="]("checkbox",
""),!1!==n&&n!==d&&null!=n))p.$attributes()["$[]="]("checked","");!1!==(g=e)&&g!==d&&null!=g?g:e=this.$resolve_list_marker(l,c["$[]"](1),b.$items().$size(),!0,a);g=[e];h=p;h["$marker="].apply(h,g);g[g.length-1];n=!0}a.$advance();q=a.$cursor();q=u.get("Reader").$new(this.$read_lines_for_list_item(a,l,e,n),q);if((g=q["$has_more_lines?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g)){r=q.$skip_line_comments();y=q.$peek_line();((g=r["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g)&&q.$unshift_lines(r);(g=
y["$nil?"]()["$!"]())===d||null==g||g.$$is_boolean&&1!=g?y=r=!1:(r=y["$empty?"](),(g=(h=r["$!"](),!1!==h&&h!==d&&null!=h?l["$!="]("dlist"):h))===d||null==g||g.$$is_boolean&&1!=g||(n=!1),y=(g=r["$!"](),!1!==g&&g!==d&&null!=g?y["$empty?"]()["$!"]():g));for(t=k(["text"],{text:n["$!"]()});(h=q["$has_more_lines?"]())!==d&&null!=h&&(!h.$$is_boolean||1==h);)if((h=x=this.$next_block(q,p,k([],{}),t))!==d&&null!=h&&(!h.$$is_boolean||1==h))p["$<<"](x);p.$fold_first(r,y)}if(l["$=="]("dlist")){if((g=!1!==(h=p["$text?"]())&&
h!==d&&null!=h?h:p["$blocks?"]())===d||null==g||g.$$is_boolean&&1!=g)p=d;return[m,p]}return p},ia.$$arity=-4);a.defs(t,"$read_lines_for_list_item",ha=function(a,b,c,f){var e,g,h,l,p,n,q,r,y,t,x,w,A,v=d,F=d,z=d,S=d,D=d,B=d,B=l=d;null==m["~"]&&(m["~"]=d);null==c&&(c=d);null==f&&(f=!0);v=[];F="inactive";z=!1;for(S=d;(g=a["$has_more_lines?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g);){D=a.$read_line();if((g=this["$is_sibling_list_item?"](D,b,c))!==d&&null!=g&&(!g.$$is_boolean||1==g))break;B=(g=v["$empty?"]())===
d||null==g||g.$$is_boolean&&1!=g?v["$[]"](-1):d;if(B["$=="](u.get("LIST_CONTINUATION"))){if(F["$=="]("inactive")&&(F="active",f=!0,!1===z||z===d||null==z))v["$[]="](-1,"");if(D["$=="](u.get("LIST_CONTINUATION"))){(g=F["$!="]("frozen"))===d||null==g||g.$$is_boolean&&1!=g||(F="frozen",v["$<<"](D));D=d;continue}}if((g=l=this["$is_delimited_block?"](D,!0))===d||null==g||g.$$is_boolean&&1!=g)if((g=(h=(l=b["$=="]("dlist"))?F["$!="]("active"):b["$=="]("dlist"),!1!==h&&h!==d&&null!=h?u.get("BlockAttributeLineRx")["$=~"](D):
h))===d||null==g||g.$$is_boolean&&1!=g)if((g=(h=F["$=="]("active"))?D["$empty?"]()["$!"]():F["$=="]("active"))===d||null==g||g.$$is_boolean&&1!=g)if((g=(l=B["$nil?"]()["$!"](),!1!==l&&l!==d&&null!=l?B["$empty?"]():l))===d||null==g||g.$$is_boolean&&1!=g)(g=D["$empty?"]()["$!"]())===d||null==g||g.$$is_boolean&&1!=g||(f=!0),(g=B=(x=(w=!1!==z&&z!==d&&null!=z?["dlist"]:u.get("NESTABLE_LIST_CONTEXTS")).$detect,x.$$p=(A=function(a){null==a&&(a=d);return u.get("ListRxMap")["$[]"](a)["$=~"](D)},A.$$s=this,
A.$$arity=1,A),x).call(w))===d||null==g||g.$$is_boolean&&1!=g||(z=!0,(g=(x=B["$=="]("dlist"))?m["~"]["$[]"](3)["$nil_or_empty?"]():B["$=="]("dlist"))===d||null==g||g.$$is_boolean&&1!=g||(f=!1)),v["$<<"](D);else{if(!((g=D["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g||(a.$skip_blank_lines(),D=a.$read_line(),(g=!1!==(l=D["$nil?"]())&&l!==d&&null!=l?l:this["$is_sibling_list_item?"](D,b,c))===d||null==g||g.$$is_boolean&&1!=g)))break;if(D["$=="](u.get("LIST_CONTINUATION")))S=v.$size(),v["$<<"](D);else if(!1!==
f&&f!==d&&null!=f)if((g=this["$is_sibling_list_item?"](D,b,c))===d||null==g||g.$$is_boolean&&1!=g)if((g=B=(l=(r=u.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(y=function(a){null==a&&(a=d);return u.get("ListRxMap")["$[]"](a)["$=~"](D)},y.$$s=this,y.$$arity=1,y),l).call(r))===d||null==g||g.$$is_boolean&&1!=g)if((g=u.get("LiteralParagraphRx")["$=~"](D))===d||null==g||g.$$is_boolean&&1!=g)break;else a.$unshift_line(D),v.$concat((g=(l=a).$read_lines_until,g.$$p=(t=function(a){var f=t.$$s||this;null==
a&&(a=d);return b["$=="]("dlist")?f["$is_sibling_list_item?"](a,b,c):b["$=="]("dlist")},t.$$s=this,t.$$arity=1,t),g).call(l,k(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else v["$<<"](D),z=!0,(g=(l=B["$=="]("dlist"))?m["~"]["$[]"](3)["$nil_or_empty?"]():B["$=="]("dlist"))===d||null==g||g.$$is_boolean&&1!=g||(f=!1);else break;else!1!==z&&z!==d&&null!=z||v.$pop(),v["$<<"](D),f=!0}else if((g=
u.get("LiteralParagraphRx")["$=~"](D))===d||null==g||g.$$is_boolean&&1!=g)if((g=!1!==(l=!1!==(n=u.get("BlockTitleRx")["$=~"](D))&&n!==d&&null!=n?n:u.get("BlockAttributeLineRx")["$=~"](D))&&l!==d&&null!=l?l:u.get("AttributeEntryRx")["$=~"](D))===d||null==g||g.$$is_boolean&&1!=g)(g=B=(l=(n=!1!==z&&z!==d&&null!=z?["dlist"]:u.get("NESTABLE_LIST_CONTEXTS")).$detect,l.$$p=(q=function(a){null==a&&(a=d);return u.get("ListRxMap")["$[]"](a)["$=~"](D)},q.$$s=this,q.$$arity=1,q),l).call(n))===d||null==g||g.$$is_boolean&&
1!=g||(z=!0,(g=(l=B["$=="]("dlist"))?m["~"]["$[]"](3)["$nil_or_empty?"]():B["$=="]("dlist"))===d||null==g||g.$$is_boolean&&1!=g||(f=!1)),v["$<<"](D),F="inactive";else v["$<<"](D);else a.$unshift_line(D),v.$concat((g=(h=a).$read_lines_until,g.$$p=(p=function(a){var f=p.$$s||this;null==a&&(a=d);return b["$=="]("dlist")?f["$is_sibling_list_item?"](a,b,c):b["$=="]("dlist")},p.$$s=this,p.$$arity=1,p),g).call(h,k(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,
break_on_blank_lines:!0,break_on_list_continuation:!0}))),F="inactive";else break;else if(F["$=="]("active"))v["$<<"](D),v.$concat(a.$read_lines_until(k(["terminator","read_last_line"],{terminator:l.$terminator(),read_last_line:!0}))),F="inactive";else break;D=d}!1!==D&&D!==d&&null!=D&&a.$unshift_line(D);for(!1!==S&&S!==d&&null!=S&&v.$delete_at(S);(g=(x=v["$empty?"]()["$!"](),!1!==x&&x!==d&&null!=x?v["$[]"](-1)["$empty?"]():x))!==d&&null!=g&&(!g.$$is_boolean||1==g);)v.$pop();(e=(g=v["$empty?"]()["$!"](),
!1!==g&&g!==d&&null!=g?v["$[]"](-1)["$=="](u.get("LIST_CONTINUATION")):g))===d||null==e||e.$$is_boolean&&1!=e||v.$pop();return v},ha.$$arity=-3);a.defs(t,"$initialize_section",la=function(b,c,f){var e,g,h=d,l=d,m=d,p=d,n=d,q=d,r=m=p=d;null==f&&(f=k([],{}));h=c.$document();(e=h.$sourcemap())===d||null==e||e.$$is_boolean&&1!=e||(l=b.$cursor());g=this.$parse_section_title(b,h);e=a.to_ary(g);m=null==e[0]?d:e[0];p=null==e[1]?d:e[1];n=null==e[2]?d:e[2];q=null==e[3]?d:e[3];g;if(!1!==p&&p!==d&&null!=p)f["$[]="]("reftext",
p);p=u.get("Section").$new(c,q,h.$attributes()["$has_key?"]("sectnums"));!1!==l&&l!==d&&null!=l&&(e=[l],g=p,g["$source_location="].apply(g,e),e[e.length-1]);e=[m];g=p;g["$id="].apply(g,e);e[e.length-1];e=[n];g=p;g["$title="].apply(g,e);e[e.length-1];(e=f["$[]"](1))===d||null==e||e.$$is_boolean&&1!=e?((e=n.$downcase()["$=="]("synopsis")?h.$doctype()["$=="]("manpage"):n.$downcase()["$=="]("synopsis"))===d||null==e||e.$$is_boolean&&1!=e?e=["sect"+p.$level()]:(e=[!0],g=p,g["$special="].apply(g,e),e[e.length-
1],e=["synopsis"]),g=p,g["$sectname="].apply(g,e),e[e.length-1]):(g=this.$parse_style_attribute(f,b),e=a.to_ary(g),m=null==e[0]?d:e[0],g,!1!==m&&m!==d&&null!=m?(e=[m],g=p,g["$sectname="].apply(g,e),e[e.length-1],e=[!0],g=p,g["$special="].apply(g,e),e[e.length-1],(e=(g=p.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):p.$sectname()["$=="]("abstract"))===d||null==e||e.$$is_boolean&&1!=e||(e=["sect1"],g=p,g["$sectname="].apply(g,e),e[e.length-1],e=[!1],g=p,g["$special="].apply(g,e),e[e.length-
1],e=[1],g=p,g["$level="].apply(g,e),e[e.length-1])):(e=["sect"+p.$level()],g=p,g["$sectname="].apply(g,e),e[e.length-1]));(e=(g=p.$id()["$!"](),!1!==g&&g!==d&&null!=g?r=f["$[]"]("id"):g))===d||null==e||e.$$is_boolean&&1!=e?(e=p,!1!==(g=e.$id())&&g!==d&&null!=g?g:e["$id="](p.$generate_id())):(e=[r],g=p,g["$id="].apply(g,e),e[e.length-1]);(e=p.$id())===d||null==e||e.$$is_boolean&&1!=e||p.$document().$register("ids",[p.$id(),!1!==(e=f["$[]"]("reftext"))&&e!==d&&null!=e?e:p.$title()]);p.$update_attributes(f);
b.$skip_blank_lines();return p},la.$$arity=-3);a.defs(t,"$section_level",fa=function(a){return u.get("SECTION_LEVELS")["$[]"](a.$chr())},fa.$$arity=1);a.defs(t,"$single_line_section_level",ea=function(a){return h(a.$length(),1)},ea.$$arity=1);a.defs(t,"$is_next_line_section?",ja=function(b,c){var f,e,g,h,k=d,l=d;return(f=(e=(g=(k=c["$[]"](1))["$nil?"]()["$!"](),!1!==g&&g!==d&&null!=g?!1!==(h=(l=k["$[]"](0).$ord())["$=="](100))&&h!==d&&null!=h?h:l["$=="](102):g),!1!==e&&e!==d&&null!=e?k["$=~"](u.get("FloatingTitleStyleRx")):
e))!==d&&null!=f&&(!f.$$is_boolean||1==f)||(f=b["$has_more_lines?"]())===d||null==f||f.$$is_boolean&&1!=f?!1:(f=u.get("Compliance").$underline_style_section_titles())===d||null==f||f.$$is_boolean&&1!=f?this["$is_section_title?"](b.$peek_line()):(f=this)["$is_section_title?"].apply(f,a.to_a(b.$peek_lines(2)))},ja.$$arity=2);a.defs(t,"$is_next_line_document_title?",ka=function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)},ka.$$arity=2);a.defs(t,"$is_section_title?",K=function(a,b){var c,
f=d;null==b&&(b=d);return(c=f=this["$is_single_line_section_title?"](a))===d||null==c||c.$$is_boolean&&1!=c?(c=!1!==b&&b!==d&&null!=b?f=this["$is_two_line_section_title?"](a,b):b)===d||null==c||c.$$is_boolean&&1!=c?!1:f:f},K.$$arity=-2);a.defs(t,"$is_single_line_section_title?",P=function(a){var b,c,f,e,g=d,h=d,g=!1!==a&&a!==d&&null!=a?a.$chr():d;return(b=(c=!1!==(f=g["$=="]("="))&&f!==d&&null!=f?f:(e=u.get("Compliance").$markdown_syntax(),!1!==e&&e!==d&&null!=e?g["$=="]("#"):e),!1!==c&&c!==d&&null!=
c?h=u.get("AtxSectionRx").$match(a):c))===d||null==b||b.$$is_boolean&&1!=b?!1:this.$single_line_section_level(h["$[]"](1))},P.$$arity=1);a.defs(t,"$is_two_line_section_title?",U=function(a,c){var f,e,g,k,l;return(f=(e=(g=(k=(l=!1!==a&&a!==d&&null!=a?c:a,!1!==l&&l!==d&&null!=l?u.get("SECTION_LEVELS")["$has_key?"](c.$chr()):l),!1!==k&&k!==d&&null!=k?c["$=~"](u.get("SetextSectionLineRx")):k),!1!==g&&g!==d&&null!=g?a["$=~"](u.get("SetextSectionTitleRx")):g),!1!==e&&e!==d&&null!=e?b(h(this.$line_length(a),
this.$line_length(c)).$abs(),1):e))===d||null==f||f.$$is_boolean&&1!=f?!1:this.$section_level(c)},U.$$arity=2);a.defs(t,"$parse_section_title",R=function(a,c){var f,e,k,m,p,n=d,q=d,r=d,y=d,t=d,x=d,w=d,A=d,v=d,F=d,z=d,n=a.$read_line(),r=q=d,y=-1,t=d,x=!0,w=n.$chr();(f=(e=!1!==(k=w["$=="]("="))&&k!==d&&null!=k?k:(m=u.get("Compliance").$markdown_syntax(),!1!==m&&m!==d&&null!=m?w["$=="]("#"):m),!1!==e&&e!==d&&null!=e?A=u.get("AtxSectionRx").$match(n):e))===d||null==f||f.$$is_boolean&&1!=f?(f=u.get("Compliance").$underline_style_section_titles())===
d||null==f||f.$$is_boolean&&1!=f||(f=(e=(k=(m=(p=F=a.$peek_line(!0),!1!==p&&p!==d&&null!=p?u.get("SECTION_LEVELS")["$has_key?"](F.$chr()):p),!1!==m&&m!==d&&null!=m?F["$=~"](u.get("SetextSectionLineRx")):m),!1!==k&&k!==d&&null!=k?z=u.get("SetextSectionTitleRx").$match(n):k),!1!==e&&e!==d&&null!=e?b(h(this.$line_length(n),this.$line_length(F)).$abs(),1):e))===d||null==f||f.$$is_boolean&&1!=f||(r=z["$[]"](1),(f=(e=r["$end_with?"]("]]"),!1!==e&&e!==d&&null!=e?v=u.get("InlineSectionAnchorRx").$match(r):
e))===d||null==f||f.$$is_boolean&&1!=f||(f=v["$[]"](2)["$nil?"]())===d||null==f||f.$$is_boolean&&1!=f||(r=v["$[]"](1),q=v["$[]"](3),t=v["$[]"](4)),y=this.$section_level(F),x=!1,a.$advance()):(y=this.$single_line_section_level(A["$[]"](1)),r=A["$[]"](2),(f=(e=r["$end_with?"]("]]"),!1!==e&&e!==d&&null!=e?v=u.get("InlineSectionAnchorRx").$match(r):e))===d||null==f||f.$$is_boolean&&1!=f||(f=v["$[]"](2)["$nil?"]())===d||null==f||f.$$is_boolean&&1!=f||(r=v["$[]"](1),q=v["$[]"](3),t=v["$[]"](4)));(f=g(y,
0))===d||null==f||f.$$is_boolean&&1!=f||(y=l(y,c.$attr("leveloffset",0).$to_i()));return[q,t,r,y,x]},R.$$arity=2);a.defs(t,"$line_length",qa=function(a){var b;return(b=u.get("FORCE_UNICODE_LINE_LENGTH"))===d||null==b||b.$$is_boolean&&1!=b?a.$length():a.$scan(u.get("UnicodeCharScanRx")).$length()},qa.$$arity=1);a.defs(t,"$parse_header_metadata",ra=function(b,c){var e,g,h,m,p,n,r=d,y=d,t=d,x=d,w=x=d,A=d,v=w=d,t=y=d;null==c&&(c=d);this.$process_attribute_entries(b,c);r=k([],{});t=y=d;if((e=(g=b["$has_more_lines?"](),
!1!==g&&g!==d&&null!=g?b["$next_line_empty?"]()["$!"]():g))!==d&&null!=e&&(!e.$$is_boolean||1==e)){x=this.$process_authors(b.$read_line());if((e=x["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e)!1!==c&&c!==d&&null!=c&&((e=(g=x).$each,e.$$p=(h=function(b,f){var e;null==b&&(b=d);null==f&&(f=d);return(e=c.$attributes()["$has_key?"](b))===d||null==e||e.$$is_boolean&&1!=e?c.$attributes()["$[]="](b,(e=f["$is_a?"](a.get("String")))===d||null==e||e.$$is_boolean&&1!=e?f:c.$apply_header_subs(f)):d},h.$$s=
this,h.$$arity=2,h),e).call(g),y=c.$attributes()["$[]"]("author"),t=c.$attributes()["$[]"]("authors")),r=x;this.$process_attribute_entries(b,c);x=k([],{});if((e=(m=b["$has_more_lines?"](),!1!==m&&m!==d&&null!=m?b["$next_line_empty?"]()["$!"]():m))!==d&&null!=e&&(!e.$$is_boolean||1==e))if(w=b.$read_line(),(e=A=u.get("RevisionInfoLineRx").$match(w))===d||null==e||e.$$is_boolean&&1!=e)b.$unshift_line(w);else{if((e=A["$[]"](1))!==d&&null!=e&&(!e.$$is_boolean||1==e))x["$[]="]("revnumber",A["$[]"](1).$rstrip());
if(!(w=A["$[]"](2).$strip())["$=="](""))if((e=(m=A["$[]"](1)["$!"](),!1!==m&&m!==d&&null!=m?w["$start_with?"]("v"):m))===d||null==e||e.$$is_boolean&&1!=e)x["$[]="]("revdate",w);else x["$[]="]("revnumber",w["$[]"](f(1,-1,!1)));if((e=A["$[]"](3))!==d&&null!=e&&(!e.$$is_boolean||1==e))x["$[]="]("revremark",A["$[]"](3).$rstrip())}if((e=x["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e)!1!==c&&c!==d&&null!=c&&(e=(m=x).$each,e.$$p=(p=function(a,b){var f;null==a&&(a=d);null==b&&(b=d);return(f=c.$attributes()["$has_key?"](a))===
d||null==f||f.$$is_boolean&&1!=f?c.$attributes()["$[]="](a,c.$apply_header_subs(b)):d},p.$$s=this,p.$$arity=2,p),e).call(m),r.$update(x);this.$process_attribute_entries(b,c);b.$skip_blank_lines()}if(!1!==c&&c!==d&&null!=c){x=d;if((e=(n=c.$attributes()["$has_key?"]("author"),!1!==n&&n!==d&&null!=n?(v=c.$attributes()["$[]"]("author"))["$!="](y):n))===d||null==e||e.$$is_boolean&&1!=e)if((e=(n=c.$attributes()["$has_key?"]("authors"),!1!==n&&n!==d&&null!=n?(v=c.$attributes()["$[]"]("authors"))["$!="](t):
n))===d||null==e||e.$$is_boolean&&1!=e){y=[];for(t="author_"+l(y.$size(),1);(n=c.$attributes()["$has_key?"](t))!==d&&null!=n&&(!n.$$is_boolean||1==n);)y["$<<"](c.$attributes()["$[]"](t)),t="author_"+l(y.$size(),1);y.$size()["$=="](1)?x=this.$process_authors(y["$[]"](0),!0,!1):(e=q(y.$size(),1))===d||null==e||e.$$is_boolean&&1!=e||(x=this.$process_authors(y.$join("; "),!0))}else x=this.$process_authors(v,!0);else x=this.$process_authors(v,!0,!1);if(!1!==x&&x!==d&&null!=x&&(c.$attributes().$update(x),
(e=(n=c.$attributes()["$has_key?"]("email")["$!"](),!1!==n&&n!==d&&null!=n?c.$attributes()["$has_key?"]("email_1"):n))!==d&&null!=e&&(!e.$$is_boolean||1==e)))c.$attributes()["$[]="]("email",c.$attributes()["$[]"]("email_1"))}return r},ra.$$arity=-2);a.defs(t,"$process_authors",pa=function(a,b,c){var e,g,h,m,p,n=this,r=d,y=d,t=d;null==b&&(b=!1);null==c&&(c=!0);r=k([],{});y="author authorinitials firstname middlename lastname email".split(" ");t=function(){return!1!==c&&c!==d&&null!=c?(e=(g=a.$split(";")).$map,
e.$$p=(h=function(a){null==a&&(a=d);return a.$strip()},h.$$s=n,h.$$arity=1,h),e).call(g):[a]}();(e=(m=t).$each_with_index,e.$$p=(p=function(a,c){var e=p.$$s||this,g,h,m,n,t,x,w,A=d,v=d,C=d,H=C=d,F=d;null==a&&(a=d);null==c&&(c=d);if((g=a["$empty?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g))return d;A=k([],{});(g=c["$zero?"]())===d||null==g||g.$$is_boolean&&1!=g?(g=(n=y).$each,g.$$p=(t=function(a){null==a&&(a=d);return A["$[]="](a.$to_sym(),""+a+"_"+l(c,1))},t.$$s=e,t.$$arity=1,t),g).call(n):(g=(h=y).$each,
g.$$p=(m=function(a){null==a&&(a=d);return A["$[]="](a.$to_sym(),a)},m.$$s=e,m.$$arity=1,m),g).call(h);v=d;!1!==b&&b!==d&&null!=b?(g=q((v=a.$split(" ")).$size(),3))===d||null==g||g.$$is_boolean&&1!=g||(v=v["$[]"](f(0,1,!1)).$push(v["$[]"](f(2,-1,!1)).$join(" "))):(g=C=u.get("AuthorInfoLineRx").$match(a))===d||null==g||g.$$is_boolean&&1!=g||(v=C.$to_a(),v.$shift());if((g=v["$nil?"]())===d||null==g||g.$$is_boolean&&1!=g){if(r["$[]="](A["$[]"]("firstname"),C=v["$[]"](0).$tr("_"," ")),r["$[]="](A["$[]"]("author"),
C),r["$[]="](A["$[]"]("authorinitials"),C["$[]"](0,1)),(g=(x=v["$[]"](1)["$nil?"]()["$!"](),!1!==x&&x!==d&&null!=x?v["$[]"](2)["$nil?"]()["$!"]():x))===d||null==g||g.$$is_boolean&&1!=g?(g=v["$[]"](1)["$nil?"]()["$!"]())===d||null==g||g.$$is_boolean&&1!=g||(r["$[]="](A["$[]"]("lastname"),F=v["$[]"](1).$tr("_"," ")),r["$[]="](A["$[]"]("author"),[C,F].$join(" ")),r["$[]="](A["$[]"]("authorinitials"),[C["$[]"](0,1),F["$[]"](0,1)].$join())):(r["$[]="](A["$[]"]("middlename"),H=v["$[]"](1).$tr("_"," ")),
r["$[]="](A["$[]"]("lastname"),F=v["$[]"](2).$tr("_"," ")),r["$[]="](A["$[]"]("author"),[C,H,F].$join(" ")),r["$[]="](A["$[]"]("authorinitials"),[C["$[]"](0,1),H["$[]"](0,1),F["$[]"](0,1)].$join())),(g=!1!==(x=b)&&x!==d&&null!=x?x:v["$[]"](3)["$nil?"]())===d||null==g||g.$$is_boolean&&1!=g)r["$[]="](A["$[]"]("email"),v["$[]"](3))}else r["$[]="](A["$[]"]("author"),r["$[]="](A["$[]"]("firstname"),C=a.$strip().$tr_s(" "," "))),r["$[]="](A["$[]"]("authorinitials"),C["$[]"](0,1));r["$[]="]("authorcount",
l(c,1));c["$=="](1)&&(g=(x=y).$each,g.$$p=(w=function(a){var b;null==a&&(a=d);return(b=r["$has_key?"](a))===d||null==b||b.$$is_boolean&&1!=b?d:r["$[]="](""+a+"_1",r["$[]"](a))},w.$$s=e,w.$$arity=1,w),g).call(x);return(g=c["$zero?"]())===d||null==g||g.$$is_boolean&&1!=g?r["$[]="]("authors",""+r["$[]"]("authors")+", "+r["$[]"](A["$[]"]("author"))):r["$[]="]("authors",r["$[]"](A["$[]"]("author")))},p.$$s=n,p.$$arity=2,p),e).call(m);return r},pa.$$arity=-2);a.defs(t,"$parse_block_metadata_lines",va=function(a,
b,c,f){var e;null==c&&(c=k([],{}));for(null==f&&(f=k([],{}));(e=this.$parse_block_metadata_line(a,b,c,f))!==d&&null!=e&&(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_blank_lines();return c},va.$$arity=-3);a.defs(t,"$parse_block_metadata_line",oa=function(a,b,c,f){var e,g,h,l=d,m=d,p=d,m=l=d;null==f&&(f=k([],{}));if((e=a["$has_more_lines?"]())===d||null==e||e.$$is_boolean&&1!=e)return!1;l=a.$peek_line();if((e=(g=m=l["$start_with?"]("//"),!1!==g&&g!==d&&null!=g?p=u.get("CommentBlockRx").$match(l):g))!==
d&&null!=e&&(!e.$$is_boolean||1==e))l=p["$[]"](0),a.$read_lines_until(k(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:l,skip_processing:!0}));else if((e=(g=!1!==m&&m!==d&&null!=m)?u.get("CommentLineRx")["$=~"](l):m)===d||null==e||e.$$is_boolean&&1!=e)if((e=(g=(h=f["$[]"]("text")["$!"](),!1!==h&&h!==d&&null!=h?l["$start_with?"](":"):h),!1!==g&&g!==d&&null!=g?p=u.get("AttributeEntryRx").$match(l):g))!==d&&null!=e&&(!e.$$is_boolean||
1==e))this.$process_attribute_entry(a,b,c,p);else if((e=(g=m=(h=l["$start_with?"]("["),!1!==h&&h!==d&&null!=h?l["$end_with?"]("]"):h),!1!==g&&g!==d&&null!=g?p=u.get("BlockAnchorRx").$match(l):g))===d||null==e||e.$$is_boolean&&1!=e)if((e=(g=!1!==m&&m!==d&&null!=m)?p=u.get("BlockAttributeListRx").$match(l):m)===d||null==e||e.$$is_boolean&&1!=e){if((e=(g=f["$[]"]("text")["$!"](),!1!==g&&g!==d&&null!=g?p=u.get("BlockTitleRx").$match(l):g))===d||null==e||e.$$is_boolean&&1!=e)return!1;c["$[]="]("title",
p["$[]"](1))}else b.$document().$parse_attributes(p["$[]"](1),[],k(["sub_input","into"],{sub_input:!0,into:c}));else if((e=p["$[]"](1)["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e)if(c["$[]="]("id",p["$[]"](1)),(e=p["$[]"](2)["$nil?"]())===d||null==e||e.$$is_boolean&&1!=e)c["$[]="]("reftext",p["$[]"](2));return!0},oa.$$arity=-4);a.defs(t,"$process_attribute_entries",ta=function(a,b,c){var f;null==c&&(c=d);for(a.$skip_comment_lines();(f=this.$process_attribute_entry(a,b,c))!==d&&null!=f&&
(!f.$$is_boolean||1==f);)a.$advance(),a.$skip_comment_lines()},ta.$$arity=-3);a.defs(t,"$process_attribute_entry",na=function(a,b,c,f){var e,g,h=d,k=d,l=d,m=d,p=d,n=d;null==c&&(c=d);null==f&&(f=d);!1!==(e=f)&&e!==d&&null!=e?e:f=(g=a["$has_more_lines?"]())===d||null==g||g.$$is_boolean&&1!=g?d:u.get("AttributeEntryRx").$match(a.$peek_line());if(!1!==f&&f!==d&&null!=f){h=f["$[]"](1);if(((e=(k=!1!==(g=f["$[]"](2))&&g!==d&&null!=g?g:"")["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e)&&(e=!1!==(g=k["$end_with?"](l=
u.get("LINE_CONTINUATION")))&&g!==d&&null!=g?g:k["$end_with?"](l=u.get("LINE_CONTINUATION_LEGACY")))!==d&&null!=e&&(!e.$$is_boolean||1==e))for(k=k.$chop().$rstrip();(g=a.$advance())!==d&&null!=g&&(!g.$$is_boolean||1==g)&&((g=(m=a.$peek_line().$strip())["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g)&&((g=p=m["$end_with?"](l))===d||null==g||g.$$is_boolean&&1!=g||(m=m.$chop().$rstrip()),n=(g=k["$end_with?"](u.get("LINE_BREAK")))===d||null==g||g.$$is_boolean&&1!=g?" ":u.get("EOL"),k=""+k+n+m,!1!==
p&&p!==d&&null!=p););this.$store_attribute(h,k,!1!==b&&b!==d&&null!=b?b.$document():d,c);return!0}return!1},na.$$arity=-3);a.defs(t,"$store_attribute",wa=function(a,b,c,e){var g,k=d,k=d;null==c&&(c=d);null==e&&(e=d);(g=a["$end_with?"]("!"))===d||null==g||g.$$is_boolean&&1!=g?(g=a["$start_with?"]("!"))===d||null==g||g.$$is_boolean&&1!=g||(b=d,a=a["$[]"](f(1,-1,!1))):(b=d,a=a.$chop());a=this.$sanitize_attribute_name(a);k=!0;!1!==c&&c!==d&&null!=c&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&
!1!==b&&b!==d&&null!=b&&(k=b.$chr(),"+"["$==="](k)?b=l(c.$attr("leveloffset",0).$to_i(),(!1!==(g=b["$[]"](f(1,-1,!1)))&&g!==d&&null!=g?g:0).$to_i()).$to_s():"-"["$==="](k)&&(b=h(c.$attr("leveloffset",0).$to_i(),(!1!==(g=b["$[]"](f(1,-1,!1)))&&g!==d&&null!=g?g:0).$to_i()).$to_s())),k=!1!==b&&b!==d&&null!=b?c.$set_attribute(a,b):c.$delete_attribute(a));(g=!1!==k&&k!==d&&null!=k?e:k)===d||null==g||g.$$is_boolean&&1!=g||(!1!==b&&b!==d&&null!=b&&(b=c.$attributes()["$[]"](a)),u.get("Document").$$scope.get("AttributeEntry").$new(a,
b).$save_to(e));return[a,b]},wa.$$arity=-3);a.defs(t,"$resolve_list_marker",ya=function(a,b,c,f,e){var g;null==c&&(c=0);null==f&&(f=!1);null==e&&(e=d);return(g=a["$=="]("olist")?b["$start_with?"](".")["$!"]():a["$=="]("olist"))===d||null==g||g.$$is_boolean&&1!=g?a["$=="]("colist")?"<1>":b:this.$resolve_ordered_list_marker(b,c,f,e)},ya.$$arity=-3);a.defs(t,"$resolve_ordered_list_marker",da=function(a,b,c,f){var e,g,h,k=d,m=d,p=d,k=d;null==b&&(b=0);null==c&&(c=!1);null==f&&(f=d);k=(e=(g=u.get("ORDERED_LIST_STYLES")).$detect,
e.$$p=(h=function(b){null==b&&(b=d);return u.get("OrderedListMarkerRxMap")["$[]"](b)["$=~"](a)},h.$$s=this,h.$$arity=1,h),e).call(g);m=p=d;"arabic"["$==="](k)?(!1!==c&&c!==d&&null!=c&&(m=l(b,1),p=a.$to_i()),a="1."):"loweralpha"["$==="](k)?(!1!==c&&c!==d&&null!=c&&(m=l("a"["$[]"](0).$ord(),b).$chr(),p=a.$chomp(".")),a="a."):"upperalpha"["$==="](k)?(!1!==c&&c!==d&&null!=c&&(m=l("A"["$[]"](0).$ord(),b).$chr(),p=a.$chomp(".")),a="A."):"lowerroman"["$==="](k)?(!1!==c&&c!==d&&null!=c&&(m=l(b,1),p=this.$roman_numeral_to_int(a.$chomp(")"))),
a="i)"):"upperroman"["$==="](k)&&(!1!==c&&c!==d&&null!=c&&(m=l(b,1),p=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(e=!1!==c&&c!==d&&null!=c?m["$!="](p):c)===d||null==e||e.$$is_boolean&&1!=e||this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+m+", got "+p);return a},da.$$arity=-2);a.defs(t,"$is_sibling_list_item?",p=function(b,c,f){var e,g=d,h=d,k=d;(e=f["$is_a?"](a.get("Regexp")))===d||null==e||e.$$is_boolean&&1!=e?(g=u.get("ListRxMap")["$[]"](c),h=f):(g=f,h=
!1);return(e=k=g.$match(b))===d||null==e||e.$$is_boolean&&1!=e?!1:!1!==h&&h!==d&&null!=h?h["$=="](this.$resolve_list_marker(c,k["$[]"](1))):!0},p.$$arity=3);a.defs(t,"$next_table",O=function(b,c,e){var g,h,k,m,p,n=d,q=d,r=d,y=d,t=d,x=d,w=d,A=d,v=d,F=d,z=d,w=d,n=u.get("Table").$new(c,e);(g=e["$has_key?"]("title"))===d||null==g||g.$$is_boolean&&1!=g||(g=[e.$delete("title")],h=n,h["$title="].apply(h,g),g[g.length-1],n.$assign_caption(e.$delete("caption")));(g=(h=e["$key?"]("cols"),!1!==h&&h!==d&&null!=
h?(q=this.$parse_col_specs(e["$[]"]("cols")))["$empty?"]()["$!"]():h))===d||null==g||g.$$is_boolean&&1!=g?r=!1:(n.$create_columns(q),r=!0);y=b.$skip_blank_lines();t=u.get("Table").$$scope.get("ParserContext").$new(b,n,e);for(x=-1;(h=b["$has_more_lines?"]())!==d&&null!=h&&(!h.$$is_boolean||1==h);){x=l(x,1);w=b.$read_line();(h=(k=(m=(p=y["$=="](0)?x["$zero?"]():y["$=="](0),!1!==p&&p!==d&&null!=p?e["$has_key?"]("options")["$!"]():p),!1!==m&&m!==d&&null!=m?(A=b.$peek_line())["$nil?"]()["$!"]():m),!1!==
k&&k!==d&&null!=k?A["$empty?"]():k))===d||null==h||h.$$is_boolean&&1!=h||(h=[!0],k=n,k["$has_header_option="].apply(k,h),h[h.length-1],n.$set_option("header"));t.$format()["$=="]("psv")&&((h=t["$starts_with_delimiter?"](w))===d||null==h||h.$$is_boolean&&1!=h?(k=this.$parse_cell_spec(w,"start",t.$delimiter()),h=a.to_ary(k),v=null==h[0]?d:h[0],w=null==h[1]?d:h[1],k,(h=v["$nil?"]()["$!"]())===d||null==h||h.$$is_boolean&&1!=h||t.$close_open_cell(v)):(w=w["$[]"](f(1,-1,!1)),t.$close_open_cell()));for(F=
!1;(k=!1!==(m=F["$!"]())&&m!==d&&null!=m?m:w["$empty?"]()["$!"]())!==d&&null!=k&&(!k.$$is_boolean||1==k);)if(F=!0,(k=z=t.$match_delimiter(w))===d||null==k||k.$$is_boolean&&1!=k)k=[""+t.$buffer()+w+u.get("EOL")],m=t,m["$buffer="].apply(m,k),k[k.length-1],t.$format()["$=="]("csv")&&(k=[""+t.$buffer().$rstrip()+" "],m=t,m["$buffer="].apply(m,k),k[k.length-1]),w="",(k=!1!==(m=t.$format()["$=="]("psv"))&&m!==d&&null!=m?m:(p=t.$format()["$=="]("csv"))?t["$buffer_has_unclosed_quotes?"]():t.$format()["$=="]("csv"))===
d||null==k||k.$$is_boolean&&1!=k?t.$close_cell(!0):t.$keep_cell_open();else{if(t.$format()["$=="]("csv")){if((k=t["$buffer_has_unclosed_quotes?"](z.$pre_match()))!==d&&null!=k&&(!k.$$is_boolean||1==k)){w=t.$skip_matched_delimiter(z);continue}}else if((k=z.$pre_match()["$end_with?"]("\\"))!==d&&null!=k&&(!k.$$is_boolean||1==k)){if((k=(w=t.$skip_matched_delimiter(z,!0))["$empty?"]())!==d&&null!=k&&(!k.$$is_boolean||1==k)){k=[""+t.$buffer()+u.get("EOL")];m=t;m["$buffer="].apply(m,k);k[k.length-1];t.$keep_cell_open();
break}continue}t.$format()["$=="]("psv")?(m=this.$parse_cell_spec(z.$pre_match(),"end"),k=a.to_ary(m),v=null==k[0]?d:k[0],w=null==k[1]?d:k[1],m,t.$push_cell_spec(v),k=[""+t.$buffer()+w]):k=[""+t.$buffer()+z.$pre_match()];m=t;m["$buffer="].apply(m,k);k[k.length-1];(w=z.$post_match())["$=="]("")&&(F=!1);t.$close_cell()}if((h=t["$cell_open?"]())===d||null==h||h.$$is_boolean&&1!=h)y=b.$skip_blank_lines();if((h=b["$has_more_lines?"]())===d||null==h||h.$$is_boolean&&1!=h)(h=t["$cell_open?"]())===d||null==
h||h.$$is_boolean&&1!=h||t.$close_cell(!0)}((g=!1!==(h=(k="colcount",m=n.$attributes(),!1!==(p=m["$[]"](k))&&p!==d&&null!=p?p:m["$[]="](k,n.$columns().$size()))["$=="](0))&&h!==d&&null!=h?h:r)===d||null==g||g.$$is_boolean&&1!=g)&&n.$assign_col_widths();n.$partition_header_footer(e);return n},O.$$arity=3);a.defs(t,"$parse_col_specs",ua=function(b){var c,f,e,g,h,l=d;(c=b["$include?"](" "))===d||null==c||c.$$is_boolean&&1!=c||(b=b.$tr(" ",""));if(b["$=="](b.$to_i().$to_s()))return(c=(f=a.get("Array")).$new,
c.$$p=(e=function(){return k(["width"],{width:1})},e.$$s=this,e.$$arity=0,e),c).call(f,b.$to_i());l=[];(c=(g=b.$split(",",-1)).$each,c.$$p=(h=function(b){var c=h.$$s||this,f,e,g,m=d,p=d,n=d,q=d;null==b&&(b=d);if(b["$=="](""))return l["$<<"](k(["width"],{width:1}));if((f=m=u.get("ColumnSpecRx").$match(b))===d||null==f||f.$$is_boolean&&1!=f)return d;p=k([],{});if((f=m["$[]"](2))!==d&&null!=f&&(!f.$$is_boolean||1==f)){e=m["$[]"](2).$split(".");f=a.to_ary(e);n=null==f[0]?d:f[0];q=null==f[1]?d:f[1];e;
if((f=(e=n["$nil_or_empty?"]()["$!"](),!1!==e&&e!==d&&null!=e?u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](n):e))!==d&&null!=f&&(!f.$$is_boolean||1==f))p["$[]="]("halign",u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](n));if((f=(e=q["$nil_or_empty?"]()["$!"](),!1!==e&&e!==d&&null!=e?u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](q):e))!==d&&null!=f&&(!f.$$is_boolean||1==f))p["$[]="]("valign",u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](q))}p["$[]="]("width",
(f=m["$[]"](3))===d||null==f||f.$$is_boolean&&1!=f?1:m["$[]"](3).$to_i());if((f=(e=m["$[]"](4),!1!==e&&e!==d&&null!=e?u.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](m["$[]"](4)):e))!==d&&null!=f&&(!f.$$is_boolean||1==f))p["$[]="]("style",u.get("Table").$$scope.get("TEXT_STYLES")["$[]"](m["$[]"](4)));return(f=m["$[]"](1))===d||null==f||f.$$is_boolean&&1!=f?l["$<<"](p):(f=(e=1).$upto,f.$$p=(g=function(){return l["$<<"](p.$dup())},g.$$s=c,g.$$arity=0,g),f).call(e,m["$[]"](1).$to_i())},h.$$s=
this,h.$$arity=1,h),c).call(g);return l},ua.$$arity=1);a.defs(t,"$parse_cell_spec",X=function(b,c,f){var e,g,h=d,l=d,m=d,p=m=h=d,n=d;null==c&&(c="start");null==f&&(f=d);h=d;l="";m=c;if("start"["$==="](m)){if((e=b["$include?"](f))===d||null==e||e.$$is_boolean&&1!=e)return[d,b];g=b.$split(f,2);e=a.to_ary(g);h=null==e[0]?d:e[0];l=null==e[1]?d:e[1];g;if((e=h=u.get("CellSpecStartRx").$match(h))===d||null==e||e.$$is_boolean&&1!=e)return[d,b];if((e=h["$[]"](0)["$empty?"]())!==d&&null!=e&&(!e.$$is_boolean||
1==e))return[k([],{}),l]}else if("end"["$==="](m)){if((e=h=u.get("CellSpecEndRx").$match(b))===d||null==e||e.$$is_boolean&&1!=e)return[k([],{}),b];if((e=h["$[]"](0).$lstrip()["$empty?"]())!==d&&null!=e&&(!e.$$is_boolean||1==e))return[k([],{}),b.$rstrip()];l=h.$pre_match()}m=k([],{});if((e=h["$[]"](1))!==d&&null!=e&&(!e.$$is_boolean||1==e))if(g=h["$[]"](1).$split("."),e=a.to_ary(g),p=null==e[0]?d:e[0],n=null==e[1]?d:e[1],g,p=(e=p["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?p.$to_i():1,
n=(e=n["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?n.$to_i():1,h["$[]"](2)["$=="]("+")){if(!p["$=="](1))m["$[]="]("colspan",p);if(!n["$=="](1))m["$[]="]("rowspan",n)}else if(h["$[]"](2)["$=="]("*")&&!p["$=="](1))m["$[]="]("repeatcol",p);if((e=h["$[]"](3))!==d&&null!=e&&(!e.$$is_boolean||1==e)){g=h["$[]"](3).$split(".");e=a.to_ary(g);p=null==e[0]?d:e[0];n=null==e[1]?d:e[1];g;if((e=(g=p["$nil_or_empty?"]()["$!"](),!1!==g&&g!==d&&null!=g?u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](p):
g))!==d&&null!=e&&(!e.$$is_boolean||1==e))m["$[]="]("halign",u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](p));if((e=(g=n["$nil_or_empty?"]()["$!"](),!1!==g&&g!==d&&null!=g?u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](n):g))!==d&&null!=e&&(!e.$$is_boolean||1==e))m["$[]="]("valign",u.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](n))}if((e=(g=h["$[]"](4),!1!==g&&g!==d&&null!=g?u.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](h["$[]"](4)):g))!==d&&
null!=e&&(!e.$$is_boolean||1==e))m["$[]="]("style",u.get("Table").$$scope.get("TEXT_STYLES")["$[]"](h["$[]"](4)));return[m,l]},X.$$arity=-2);a.defs(t,"$parse_style_attribute",sa=function(a,b){var c,f,g,h,m,p,n,q=d,r=d,t=d,y=d,x=d,w=d,A=r=g=d;null==b&&(b=d);q=a["$[]"]("style");r=a["$[]"](1);if((c=(f=(g=!1!==r&&r!==d&&null!=r)?r["$include?"](" ")["$!"]():r,!1!==f&&f!==d&&null!=f?u.get("Compliance").$shorthand_property_syntax():f))===d||null==c||c.$$is_boolean&&1!=c)return a["$[]="]("style",r),[r,q];
t="style";y=[];x=k([],{});w=(c=(f=this).$lambda,c.$$p=(h=function(){var a=h.$$s||this,c,f,e=d;return(c=y["$empty?"]())===d||null==c||c.$$is_boolean&&1!=c?(e=t,"role"["$==="](e)||"option"["$==="](e)?(c=t,a=x,!1!==(f=a["$[]"](c))&&f!==d&&null!=f?f:a["$[]="](c,[]),x["$[]"](t).$push(y.$join())):("id"["$==="](e)&&((c=x["$has_key?"]("id"))===d||null==c||c.$$is_boolean&&1!=c||a.$warn("asciidoctor: WARNING:"+((c=b["$nil?"]())===d||null==c||c.$$is_boolean&&1!=c?" "+b.$prev_line_info()+":":d)+" multiple ids detected in style attribute")),
x["$[]="](t,y.$join())),y=[]):(c=t["$!="]("style"))===d||null==c||c.$$is_boolean&&1!=c?d:a.$warn("asciidoctor: WARNING:"+((c=b["$nil?"]())===d||null==c||c.$$is_boolean&&1!=c?" "+b.$prev_line_info()+":":d)+" invalid empty "+t+" detected in style attribute")},h.$$s=this,h.$$arity=0,h),c).call(f);(c=(g=r).$each_char,c.$$p=(m=function(a){var b,c,f,e=d;null==a&&(a=d);if((b=!1!==(c=!1!==(f=a["$=="]("."))&&f!==d&&null!=f?f:a["$=="]("#"))&&c!==d&&null!=c?c:a["$=="]("%"))===d||null==b||b.$$is_boolean&&1!=
b)return y.$push(a);w.$call();e=a;return"."["$==="](e)?t="role":"#"["$==="](e)?t="id":"%"["$==="](e)?t="option":d},m.$$s=this,m.$$arity=1,m),c).call(g);if(t["$=="]("style"))g=a["$[]="]("style",r);else{w.$call();g=(c=x["$has_key?"]("style"))===d||null==c||c.$$is_boolean&&1!=c?d:a["$[]="]("style",x["$[]"]("style"));if((c=x["$has_key?"]("id"))!==d&&null!=c&&(!c.$$is_boolean||1==c))a["$[]="]("id",x["$[]"]("id"));if((c=x["$has_key?"]("role"))!==d&&null!=c&&(!c.$$is_boolean||1==c))a["$[]="]("role",e(x["$[]"]("role"),
" "));if((c=x["$has_key?"]("option"))!==d&&null!=c&&(!c.$$is_boolean||1==c))if((c=(p=r=x["$[]"]("option")).$each,c.$$p=(n=function(b){null==b&&(b=d);return a["$[]="](""+b+"-option","")},n.$$s=this,n.$$arity=1,n),c).call(p),(c=A=a["$[]"]("options"))===d||null==c||c.$$is_boolean&&1!=c)a["$[]="]("options",e(r,","));else a["$[]="]("options",e(l(r,A.$split(",")),","))}return[g,q]},sa.$$arity=-2);a.defs(t,"$adjust_indentation!",xa=function(b,c,g){var k,p,n,r,t,y,x,w,A=this,v=d,F=d,z=d;null==c&&(c=0);null==
g&&(g=0);if((k=b["$empty?"]())!==d&&null!=k&&(!k.$$is_boolean||1==k))return d;(k=(p=q(g=g.$to_i(),0),!1!==p&&p!==d&&null!=p?b.$join()["$include?"](u.get("TAB")):p))===d||null==k||k.$$is_boolean&&1!=k||(v=e(" ",g),(k=(p=b)["$map!"],k.$$p=(n=function(a){var b=n.$$s||this,c,f,k,p,q,r=d;null==a&&(a=d);if((c=a["$empty?"]())!==d&&null!=c&&(!c.$$is_boolean||1==c))return a;(c=a["$start_with?"](u.get("TAB")))===d||null==c||c.$$is_boolean&&1!=c||(c=(f=a)["$sub!"],c.$$p=(k=function(a){null==a&&(a=d);return e(v,
a.$length())},k.$$s=b,k.$$arity=1,k),c).call(f,u.get("TabIndentRx"));if((c=a["$include?"](u.get("TAB")))===d||null==c||c.$$is_boolean&&1!=c)return a;r=0;return(c=(p=a)["$gsub!"],c.$$p=(q=function(){var a=d,b=d;null==m["~"]&&(m["~"]=d);if((a=l(m["~"].$begin(0),r))["$%"](g)["$=="](0))return r=l(r,h(g,1)),v;(b=h(g,a["$%"](g)))["$=="](1)||(r=l(r,h(b,1)));return e(" ",b)},q.$$s=b,q.$$arity=0,q),c).call(p,u.get("TabRx"))},n.$$s=A,n.$$arity=1,n),k).call(p));if((k=(r=!1!==c&&c!==d&&null!=c)?q(c=c.$to_i(),
-1):c)===d||null==k||k.$$is_boolean&&1!=k)return d;F=d;(function(){var c=a.new_brk();try{return(k=(r=b).$each,k.$$p=(t=function(b){var f,e=d;null==b&&(b=d);if((f=b["$empty?"]())!==d&&null!=f&&(!f.$$is_boolean||1==f))return d;if((e=h(b.$length(),b.$lstrip().$length()))["$=="](0))F=d,a.brk(d,c);else return(f=!1!==F&&F!==d&&null!=F?q(e,F):F)===d||null==f||f.$$is_boolean&&1!=f?F=e:d},t.$$s=A,t.$$brk=c,t.$$arity=1,t),k).call(r)}catch(f){if(f===c)return f.$v;throw f;}})();c["$=="](0)?!1!==F&&F!==d&&null!=
F&&(k=b["$map!"],k.$$p=(y=function(a){var b;null==a&&(a=d);return(b=a["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?a["$[]"](f(F,-1,!1)):a},y.$$s=A,y.$$arity=1,y),k).call(b):(z=e(" ",c),!1!==F&&F!==d&&null!=F?(k=b["$map!"],k.$$p=(x=function(a){var b;null==a&&(a=d);return(b=a["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?l(z,a["$[]"](f(F,-1,!1))):a},x.$$s=A,x.$$arity=1,x),k).call(b):(k=b["$map!"],k.$$p=(w=function(a){var b;null==a&&(a=d);return(b=a["$empty?"]())===d||null==b||b.$$is_boolean&&
1!=b?l(z,a):a},w.$$s=A,w.$$arity=1,w),k).call(b));return d},xa.$$arity=-2);a.defs(t,"$sanitize_attribute_name",Aa=function(a){return a.$gsub(u.get("InvalidAttributeNameCharsRx"),"").$downcase()},Aa.$$arity=1);return(a.defs(t,"$roman_numeral_to_int",Ba=function(a){var b,e,g,m=d,p=d;a=a.$downcase();m=k(["i","v","x"],{i:1,v:5,x:10});p=0;(b=(e=f(0,h(a.$length(),1),!1)).$each,b.$$p=(g=function(b){var e,g,k=d;null==b&&(b=d);k=m["$[]"](a["$[]"](f(b,b,!1)));return(e=(g=c(l(b,1),a.$length()),!1!==g&&g!==d&&
null!=g?q(m["$[]"](a["$[]"](f(l(b,1),l(b,1),!1))),k):g))===d||null==e||e.$$is_boolean&&1!=e?p=l(p,k):p=h(p,k)},g.$$s=this,g.$$arity=1,g),b).call(e);return p},Ba.$$arity=1),d)&&"roman_numeral_to_int"})(w(r,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var q=a.nil,e=a.module,g=a.klass,h=a.hash2,b=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $uri_prefix $<< $+ $chomp".split(" "));return function(c){(function(c,
$super){function e(){}var k=e=g(c,$super,"PathResolver",e),n=k.$$proto,f=k.$$scope,m,r,x,E,B,t,u,D,G,z,I;n.file_separator=n._partition_path_web=n._partition_path_sys=n.working_dir=q;a.cdecl(f,"DOT",".");a.cdecl(f,"DOT_DOT","..");a.cdecl(f,"DOT_SLASH","./");a.cdecl(f,"SLASH","/");a.cdecl(f,"BACKSLASH","\\");a.cdecl(f,"DOUBLE_SLASH","//");a.cdecl(f,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);k.$attr_accessor("file_separator");k.$attr_accessor("working_dir");a.defn(k,"$initialize",m=function(b,c){var d;null==
b&&(b=q);null==c&&(c=q);this.file_separator=!1!==b&&b!==q&&null!=b?b:!1!==(d=a.get("File").$$scope.get("ALT_SEPARATOR"))&&d!==q&&null!=d?d:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==c&&c!==q&&null!=c?(d=this["$is_root?"](c))===q||null==d||d.$$is_boolean&&1!=d?a.get("File").$expand_path(c):c:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=h([],{});return this._partition_path_web=h([],{})},m.$$arity=-1);a.defn(k,"$is_root?",r=function(b){var c,d,e;return(c=
b["$start_with?"](f.get("SLASH")))===q||null==c||c.$$is_boolean&&1!=c?(c=this.file_separator["$=="](f.get("BACKSLASH"))?f.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](f.get("BACKSLASH")))===q||null==c||c.$$is_boolean&&1!=c?(c=(d=(e=a.get("RUBY_ENGINE_OPAL"),!1!==e&&e!==q&&null!=e?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):e),!1!==d&&d!==q&&null!=d?b["$start_with?"]("file:///"):d))===q||null==c||c.$$is_boolean&&1!=c?!1:!0:!0:!0},r.$$arity=1);a.defn(k,"$is_unc?",x=function(a){return a["$start_with?"](f.get("DOUBLE_SLASH"))},
x.$$arity=1);a.defn(k,"$is_web_root?",E=function(a){return a["$start_with?"](f.get("SLASH"))},E.$$arity=1);a.defn(k,"$posixfy",B=function(a){var b;return(b=a["$nil_or_empty?"]())===q||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"](f.get("BACKSLASH")))===q||null==b||b.$$is_boolean&&1!=b?a:a.$tr(f.get("BACKSLASH"),f.get("SLASH")):""},B.$$arity=1);a.defn(k,"$expand_path",t=function(b){var c,d=q;c=q;b=this.$partition_path(b);c=a.to_ary(b);d=null==c[0]?q:c[0];c=null==c[1]?q:c[1];b;return this.$join_path(d,
c)},t.$$arity=1);a.defn(k,"$partition_path",u=function(a,c){var d,e=q,g=e=q,h=q;null==c&&(c=!1);if((d=e=!1!==c&&c!==q&&null!=c?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==q&&null!=d&&(!d.$$is_boolean||1==d))return e;e=this.$posixfy(a);g=!1!==c&&c!==q&&null!=c?(d=this["$is_web_root?"](e))===q||null==d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](f.get("DOT_SLASH")))===q||null==d||d.$$is_boolean&&1!=d?q:f.get("DOT_SLASH"):f.get("SLASH"):(d=this["$is_root?"](e))===q||null==
d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](f.get("DOT_SLASH")))===q||null==d||d.$$is_boolean&&1!=d?q:f.get("DOT_SLASH"):(d=this["$is_unc?"](e))===q||null==d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](f.get("SLASH")))===q||null==d||d.$$is_boolean&&1!=d?e["$[]"](b(0,e.$index(f.get("SLASH")),!1)):f.get("SLASH"):f.get("DOUBLE_SLASH");h=e.$split(f.get("SLASH"));g["$=="](f.get("DOUBLE_SLASH"))?h=h["$[]"](b(2,-1,!1)):!1!==g&&g!==q&&null!=g&&h.$shift();h.$delete(f.get("DOT"));return(!1!==c&&c!==q&&null!=
c?this._partition_path_web:this._partition_path_sys)["$[]="](a,[h,g,e])},u.$$arity=-2);a.defn(k,"$join_path",D=function(a,b){null==b&&(b=q);return!1!==b&&b!==q&&null!=b?""+b+l(a,f.get("SLASH")):l(a,f.get("SLASH"))},D.$$arity=-2);a.defn(k,"$system_path",G=function(b,c,d,e){var g,k,l,m=q,n=q,r=q,u=q,t=q,x=t=r=q,v=q;null==d&&(d=q);null==e&&(e=h([],{}));!1!==d&&d!==q&&null!=d&&(((g=this["$is_root?"](d))===q||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+
d),d=this.$posixfy(d));(g=b["$nil_or_empty?"]())===q||null==g||g.$$is_boolean&&1!=g?(k=this.$partition_path(b),g=a.to_ary(k),m=null==g[0]?q:g[0],n=null==g[1]?q:g[1],k):m=[];if((g=m["$empty?"]())!==q&&null!=g&&(!g.$$is_boolean||1==g))if((g=c["$nil_or_empty?"]())===q||null==g||g.$$is_boolean&&1!=g){if((g=this["$is_root?"](c))===q||null==g||g.$$is_boolean&&1!=g)return this.$system_path(c,d,d,e);if(!1===d||d===q||null==d)return this.$expand_path(c)}else return!1!==d&&d!==q&&null!=d?d:this.working_dir;
if(!((g=(k=!1!==n&&n!==q&&null!=n)?n["$!="](f.get("DOT_SLASH")):n)===q||null==g||g.$$is_boolean&&1!=g||(r=this.$join_path(m,n),(g=!1!==(k=d["$!"]())&&k!==q&&null!=k?k:r["$start_with?"](d))===q||null==g||g.$$is_boolean&&1!=g)))return r;c=(g=c["$nil_or_empty?"]())===q||null==g||g.$$is_boolean&&1!=g?(g=this["$is_root?"](c))===q||null==g||g.$$is_boolean&&1!=g?this.$system_path(c,d,d,e):this.$posixfy(c):!1!==d&&d!==q&&null!=d?d:this.working_dir;d["$=="](c)?(k=this.$partition_path(d),g=a.to_ary(k),u=null==
g[0]?q:g[0],t=null==g[1]?q:g[1],k,r=u.$dup()):(!1!==d&&d!==q&&null!=d?(((g=c["$start_with?"](d))===q||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.get("SecurityError"),""+(!1!==(g=e["$[]"]("target_name"))&&g!==q&&null!=g?g:"Start path")+" "+c+" is outside of jail: "+d+" (disallowed in safe mode)"),k=this.$partition_path(c),g=a.to_ary(k),r=null==g[0]?q:g[0],t=null==g[1]?q:g[1],k,k=this.$partition_path(d),g=a.to_ary(k),u=null==g[0]?q:g[0]):(k=this.$partition_path(c),g=a.to_ary(k),r=null==g[0]?q:g[0]),
t=null==g[1]?q:g[1],k);x=r.$dup();v=!1;(g=(k=m).$each,g.$$p=(l=function(c){var g=l.$$s||this,h;null==c&&(c=q);if(c["$=="](f.get("DOT_DOT"))){if(!1!==d&&d!==q&&null!=d){c=x.$length();var k=u.$length();if((h="number"===typeof c&&"number"===typeof k?c>k:c["$>"](k))===q||null==h||h.$$is_boolean&&1!=h){if((h=(!1!==q&&q!==q&&null!=q?q:e.$fetch("recover",!0))["$!"]())===q||null==h||h.$$is_boolean&&1!=h){if((h=v["$!"]())===q||null==h||h.$$is_boolean&&1!=h)return q;g.$warn("asciidoctor: WARNING: "+(!1!==(h=
e["$[]"]("target_name"))&&h!==q&&null!=h?h:"path")+" has illegal reference to ancestor of jail, auto-recovering");return v=!0}return g.$raise(a.get("SecurityError"),""+(!1!==(h=e["$[]"]("target_name"))&&h!==q&&null!=h?h:"path")+" "+b+" refers to location outside jail: "+d+" (disallowed in safe mode)")}}return x.$pop()}return x.$push(c)},l.$$s=this,l.$$arity=1,l),g).call(k);return this.$join_path(x,t)},G.$$arity=-3);a.defn(k,"$web_path",z=function(c,d){var e,g,h,k=q,l=q,m=q,n=q;null==d&&(d=q);c=this.$posixfy(c);
d=this.$posixfy(d);k=q;if((e=!1!==(g=d["$nil_or_empty?"]())&&g!==q&&null!=g?g:this["$is_web_root?"](c))===q||null==e||e.$$is_boolean&&1!=e)c=""+d+f.get("SLASH")+c,(e=k=f.get("Helpers").$uri_prefix(c))===q||null==e||e.$$is_boolean&&1!=e||(c=c["$[]"](b(k.$length(),-1,!1)));g=this.$partition_path(c,!0);e=a.to_ary(g);l=null==e[0]?q:e[0];m=null==e[1]?q:e[1];g;n=[];(e=(g=l).$each,e.$$p=(h=function(a){var b;null==a&&(a=q);return a["$=="](f.get("DOT_DOT"))?(b=n["$empty?"]())===q||null==b||b.$$is_boolean&&
1!=b?n["$[]"](-1)["$=="](f.get("DOT_DOT"))?n["$<<"](a):n.$pop():(b=!1!==m&&m!==q&&null!=m?m["$!="](f.get("DOT_SLASH")):m)===q||null==b||b.$$is_boolean&&1!=b?n["$<<"](a):q:n["$<<"](a)},h.$$s=this,h.$$arity=1,h),e).call(g);return!1!==k&&k!==q&&null!=k?""+k+this.$join_path(n,m):this.$join_path(n,m)},z.$$arity=-2);return(a.defn(k,"$relative_path",I=function(a,c){var d,f,e=q;if((d=(f=this["$is_root?"](a),!1!==f&&f!==q&&null!=f?this["$is_root?"](c):f))===q||null==d||d.$$is_boolean&&1!=d)return a;d=c.$chomp(this.file_separator).$length();
e="number"===typeof d?d+1:d["$+"](1);return a["$[]"](b(e,-1,!1))},I.$$arity=2),q)&&"relative_path"})(e(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var b=a.nil,c=a.module,d=a.klass,w=a.hash2,v=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $is_a? $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $=== $detect $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(k){k=c(k,"Asciidoctor").$$scope;(function(c,$super){function h(){}var k=h=d(c,$super,"Reader",h),x=k.$$proto,E=k.$$scope,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka;x.file=x.dir=x.lines=x.process_lines=x.look_ahead=x.eof=x.unescape_next_line=x.lineno=x.path=x.source_lines=b;(function(c,$super){function e(){}var g=e=d(c,$super,"Cursor",e),h,k;g.$attr_accessor("file");g.$attr_accessor("dir");g.$attr_accessor("path");g.$attr_accessor("lineno");a.defn(g,"$initialize",
h=function(a,c,d,e){null==c&&(c=b);null==d&&(d=b);null==e&&(e=b);this.file=a;this.dir=c;this.path=d;return this.lineno=e},h.$$arity=-2);a.defn(g,"$line_info",k=function(){return""+this.$path()+": line "+this.$lineno()},k.$$arity=0);return a.alias(g,"to_s","line_info")})(E.base,null);k.$attr_reader("file");k.$attr_reader("dir");k.$attr_reader("path");k.$attr_reader("lineno");k.$attr_reader("source_lines");k.$attr_accessor("process_lines");a.defn(k,"$initialize",B=function(c,d,e){var g;null==c&&(c=
b);null==d&&(d=b);null==e&&(e=w(["normalize"],{normalize:!1}));if((g=d["$!"]())===b||null==g||g.$$is_boolean&&1!=g)if((g=d["$is_a?"](a.get("String")))===b||null==g||g.$$is_boolean&&1!=g){this.file=d.$file();this.dir=d.$dir();this.path=!1!==(g=d.$path())&&g!==b&&null!=g?g:"<stdin>";if((g=this.file)!==b&&null!=g&&(!g.$$is_boolean||1==g)){if((g=this.dir)===b||null==g||g.$$is_boolean&&1!=g)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=b);if((g=d.$path())===b||null==g||g.$$is_boolean&&
1!=g)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(g=d.$lineno())&&g!==b&&null!=g?g:1}else this.file=d,d=a.get("File").$split(this.file),g=a.to_ary(d),this.dir=null==g[0]?b:g[0],this.path=null==g[1]?b:g[1],d,this.lineno=1;else this.file=this.dir=b,this.path="<stdin>",this.lineno=1;this.lines=!1!==c&&c!==b&&null!=c?this.$prepare_lines(c,e):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=
!1},B.$$arity=-1);a.defn(k,"$prepare_lines",t=function(c,d){var e;null==d&&(d=w([],{}));return(e=c["$is_a?"](a.get("String")))===b||null==e||e.$$is_boolean&&1!=e?(e=d["$[]"]("normalize"))===b||null==e||e.$$is_boolean&&1!=e?c.$dup():E.get("Helpers").$normalize_lines_array(c):(e=d["$[]"]("normalize"))===b||null==e||e.$$is_boolean&&1!=e?c.$split(E.get("EOL")):E.get("Helpers").$normalize_lines_from_string(c)},t.$$arity=-2);a.defn(k,"$process_line",u=function(a){var c;(c=this.process_lines)===b||null==
c||c.$$is_boolean&&1!=c||(this.look_ahead=l(this.look_ahead,1));return a},u.$$arity=1);a.defn(k,"$has_more_lines?",D=function(){var a;return(!1!==(a=this.eof)&&a!==b&&null!=a?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()},D.$$arity=0);a.defn(k,"$next_line_empty?",G=function(){return this.$peek_line()["$nil_or_empty?"]()},G.$$arity=0);a.defn(k,"$peek_line",z=function(a){var c,d,e=b;null==a&&(a=!1);if((c=!1!==(d=a)&&d!==b&&null!=d?d:q(this.look_ahead,0))===b||null==c||c.$$is_boolean&&1!=c){if((c=
!1!==(d=this.eof)&&d!==b&&null!=d?d:this.lines["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c)return(c=(e=this.$process_line(this.lines["$[]"](0)))["$!"]())===b||null==c||c.$$is_boolean&&1!=c?e:this.$peek_line();this.eof=!0;this.look_ahead=0;return b}return(c=this.unescape_next_line)===b||null==c||c.$$is_boolean&&1!=c?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](v(1,-1,!1))},z.$$arity=-1);a.defn(k,"$peek_lines",I=function(c,d){var e,g,h,k,l,m=this,n=b,q=b;null==c&&(c=1);null==d&&(d=!0);n=m.look_ahead;
q=[];(function(){var k=a.new_brk();try{return(e=(g=c).$times,e.$$p=(h=function(){var c,e=b;if((c=e=(h.$$s||this).$read_line(d))===b||null==c||c.$$is_boolean&&1!=c)a.brk(b,k);else return q["$<<"](e)},h.$$s=m,h.$$brk=k,h.$$arity=0,h),e).call(g)}catch(l){if(l===k)return l.$v;throw l;}})();if((e=q["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e)(e=(k=q).$reverse_each,e.$$p=(l=function(a){var c=l.$$s||this;null==a&&(a=b);return c.$unshift(a)},l.$$s=m,l.$$arity=1,l),e).call(k),!1!==d&&d!==b&&null!=d&&
(m.look_ahead=n);return q},I.$$arity=-1);a.defn(k,"$read_line",J=function(a){var c,d,e;null==a&&(a=!1);return(c=!1!==(d=!1!==(e=a)&&e!==b&&null!=e?e:q(this.look_ahead,0))&&d!==b&&null!=d?d:this["$has_more_lines?"]())===b||null==c||c.$$is_boolean&&1!=c?b:this.$shift()},J.$$arity=-1);a.defn(k,"$read_lines",F=function(){for(var a,c=b,c=[];(a=this["$has_more_lines?"]())!==b&&null!=a&&(!a.$$is_boolean||1==a);)c["$<<"](this.$shift());return c},F.$$arity=0);a.alias(k,"readlines","read_lines");a.defn(k,"$read",
y=function(){return e(this.$read_lines(),E.get("EOL"))},y.$$arity=0);a.defn(k,"$advance",M=function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()},M.$$arity=-1);a.defn(k,"$unshift_line",N=function(a){this.$unshift(a);return b},N.$$arity=1);a.alias(k,"restore_line","unshift_line");a.defn(k,"$unshift_lines",Q=function(a){var c,d;(c=a.$reverse_each,c.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=b);return c.$unshift(a)},d.$$s=this,d.$$arity=1,d),c).call(a);return b},Q.$$arity=1);a.alias(k,
"restore_lines","unshift_lines");a.defn(k,"$replace_next_line",V=function(a){this.$advance();this.$unshift(a);return b},V.$$arity=1);a.alias(k,"replace_line","replace_next_line");a.defn(k,"$skip_blank_lines",T=function(){var a,c,d=b,e=b;if((a=this["$eof?"]())!==b&&null!=a&&(!a.$$is_boolean||1==a))return 0;for(d=0;!((c=e=this.$peek_line())===b||null==c||c.$$is_boolean&&1!=c||(c=e["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c);)this.$advance(),d=l(d,1);return d},T.$$arity=0);a.defn(k,"$skip_comment_lines",
Y=function(c){var d,e,g=b,h=b,k=b,l=b,m=b;null==c&&(c=w([],{}));if((d=this["$eof?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))return[];g=[];for(h=c["$[]"]("include_blank_lines");(e=k=this.$peek_line())!==b&&null!=e&&(!e.$$is_boolean||1==e);)if((e=(c=!1!==h&&h!==b&&null!=h)?k["$empty?"]():h)===b||null==e||e.$$is_boolean&&1!=e)if((e=(c=l=k["$start_with?"]("//"),!1!==c&&c!==b&&null!=c?m=E.get("CommentBlockRx").$match(k):c))===b||null==e||e.$$is_boolean&&1!=e)if((c=!1!==l&&l!==b&&null!=l?E.get("CommentLineRx")["$=~"](k):
l)===b||null==c||c.$$is_boolean&&1!=c)break;else g["$<<"](this.$shift());else g["$<<"](this.$shift()),(e=g).$push.apply(e,a.to_a(this.$read_lines_until(w(["terminator","read_last_line","skip_processing"],{terminator:m["$[]"](0),read_last_line:!0,skip_processing:!0}))));else g["$<<"](this.$shift());return g},Y.$$arity=-1);a.defn(k,"$skip_line_comments",S=function(){var a,c,d=b,e=b;if((a=this["$eof?"]())!==b&&null!=a&&(!a.$$is_boolean||1==a))return[];for(d=[];!((c=e=this.$peek_line())===b||null==c||
c.$$is_boolean&&1!=c||(c=E.get("CommentLineRx")["$=~"](e))===b||null==c||c.$$is_boolean&&1!=c);)d["$<<"](this.$shift());return d},S.$$arity=0);a.defn(k,"$terminate",A=function(){this.lineno=l(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return b},A.$$arity=0);a.defn(k,"$eof?",W=function(){return this["$has_more_lines?"]()["$!"]()},W.$$arity=0);a.alias(k,"empty?","eof?");a.defn(k,"$read_lines_until",aa=function(c){var d,e,h,k,l=aa.$$p||b,m=b,n=b,q=b,r=b,u=b,t=b,
y=b,x=b,p=b,A=b;null==c&&(c=w([],{}));aa.$$p=null;m=[];(d=c["$[]"]("skip_first_line"))===b||null==d||d.$$is_boolean&&1!=d||this.$advance();(d=(e=this.process_lines,!1!==e&&e!==b&&null!=e?c["$[]"]("skip_processing"):e))===b||null==d||d.$$is_boolean&&1!=d?n=!1:(this.process_lines=!1,n=!0);(d=q=c["$[]"]("terminator"))===b||null==d||d.$$is_boolean&&1!=d?(r=c["$[]"]("break_on_blank_lines"),u=c["$[]"]("break_on_list_continuation")):u=r=!1;t=c["$[]"]("skip_line_comments");for(p=x=y=!1;(e=(h=p["$!"](),!1!==
h&&h!==b&&null!=h?A=this.$read_line():h))!==b&&null!=e&&(!e.$$is_boolean||1==e);)if(p=function(){for(;(h=!0)!==b&&null!=h&&(!h.$$is_boolean||1==h);)return((h=(k=!1!==q&&q!==b&&null!=q)?A["$=="](q):q)===b||null==h||h.$$is_boolean&&1!=h)&&((h=(k=!1!==r&&r!==b&&null!=r)?A["$empty?"]():r)===b||null==h||h.$$is_boolean&&1!=h)?(h=(k=!1!==u&&u!==b&&null!=u?y:u,!1!==k&&k!==b&&null!=k?A["$=="](E.get("LIST_CONTINUATION")):k))===b||null==h||h.$$is_boolean&&1!=h?(h=(k=l!==b)?a.yield1(l,A):l!==b)===b||null==h||
h.$$is_boolean&&1!=h?!1:!0:(c["$[]="]("preserve_last_line",!0),!0):!0;return b}(),!1!==p&&p!==b&&null!=p)(e=c["$[]"]("read_last_line"))===b||null==e||e.$$is_boolean&&1!=e||(m["$<<"](A),y=!0),(e=c["$[]"]("preserve_last_line"))===b||null==e||e.$$is_boolean&&1!=e||(this.$unshift(A),x=!0);else if((e=(h=(k=!1!==t&&t!==b&&null!=t)?A["$start_with?"]("//"):t,!1!==h&&h!==b&&null!=h?E.get("CommentLineRx")["$=~"](A):h))===b||null==e||e.$$is_boolean&&1!=e)m["$<<"](A),y=!0;!1!==n&&n!==b&&null!=n&&(this.process_lines=
!0,(d=(e=!1!==x&&x!==b&&null!=x)?q["$!"]():x)===b||null==d||d.$$is_boolean&&1!=d||(this.look_ahead=g(this.look_ahead,1)));return m},aa.$$arity=-1);a.defn(k,"$shift",ga=function(){this.lineno=l(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=g(this.look_ahead,1));return this.lines.$shift()},ga.$$arity=0);a.defn(k,"$unshift",Z=function(a){this.lineno=g(this.lineno,1);this.look_ahead=l(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)},Z.$$arity=1);a.defn(k,"$cursor",ia=function(){return E.get("Cursor").$new(this.file,
this.dir,this.path,this.lineno)},ia.$$arity=0);a.defn(k,"$line_info",ha=function(){return""+this.path+": line "+this.lineno},ha.$$arity=0);a.alias(k,"next_line_info","line_info");a.defn(k,"$prev_line_info",la=function(){return""+this.path+": line "+g(this.lineno,1)},la.$$arity=0);a.defn(k,"$lines",fa=function(){return this.lines.$dup()},fa.$$arity=0);a.defn(k,"$string",ea=function(){return e(this.lines,E.get("EOL"))},ea.$$arity=0);a.defn(k,"$source",ja=function(){return e(this.source_lines,E.get("EOL"))},
ja.$$arity=0);return(a.defn(k,"$to_s",ka=function(){return this.$line_info()},ka.$$arity=0),b)&&"to_s"})(k.base,null);(function(c,$super){function k(){}var r=k=d(c,$super,"PreprocessorReader",k),x=r.$$proto,E=r.$$scope,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T;x.document=x.lineno=x.process_lines=x.look_ahead=x.skipping=x.include_stack=x.conditional_stack=x.path=x.include_processor_extensions=x.maxdepth=x.dir=x.lines=x.file=x.includes=x.unescape_next_line=b;r.$attr_reader("include_stack");r.$attr_reader("includes");
a.defn(r,"$initialize",B=function(c,d,e){var g,h,k,l=b;null==d&&(d=b);null==e&&(e=b);B.$$p=null;this.document=c;(g=a.find_super_dispatcher(this,"initialize",B,!1),g.$$p=null,g).call(this,d,e,w(["normalize"],{normalize:!0}));l=c.$attributes().$fetch("max-include-depth",64).$to_i();(g="number"===typeof l?0>l:l["$<"](0))===b||null==g||g.$$is_boolean&&1!=g||(l=0);this.maxdepth=w(["abs","rel"],{abs:l,rel:l});this.include_stack=[];this.includes=(g="includes",h=c.$references(),!1!==(k=h["$[]"](g))&&k!==
b&&null!=k?k:h["$[]="](g,[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=b},B.$$arity=-2);a.defn(r,"$prepare_lines",t=function(c,d){var g,h,k,m=t.$$p,n=b,q=b,r=b,u=b,y=n=b;null==d&&(d=w([],{}));t.$$p=null;n=[];for(y=0;y<arguments.length;y++)n[y]=arguments[y];n=(g=a.find_super_dispatcher(this,"prepare_lines",t,!1),g.$$p=m,g).apply(this,n);if(!((g=(h=this.document,!1!==h&&h!==b&&null!=h?this.document.$attributes()["$has_key?"]("skip-front-matter"):h))===b||null==
g||g.$$is_boolean&&1!=g||(g=q=this["$skip_front_matter!"](n))===b||null==g||g.$$is_boolean&&1!=g))this.document.$attributes()["$[]="]("front-matter",e(q,E.get("EOL")));if((g=d.$fetch("condense",!0))!==b&&null!=g&&(!g.$$is_boolean||1==g)){for(;(h=(k=r=n["$[]"](0),!1!==k&&k!==b&&null!=k?r["$empty?"]():k))!==b&&null!=h&&(!h.$$is_boolean||1==h);)h=n.$shift(),!1!==h&&h!==b&&null!=h?this.lineno=l(this.lineno,1):h;for(;(h=(k=u=n["$[]"](-1),!1!==k&&k!==b&&null!=k?u["$empty?"]():k))!==b&&null!=h&&(!h.$$is_boolean||
1==h);)n.$pop()}if((g=d["$[]"]("indent"))!==b&&null!=g&&(!g.$$is_boolean||1==g))E.get("Parser")["$adjust_indentation!"](n,d["$[]"]("indent"),this.document.$attr("tabsize"));return n},t.$$arity=-2);a.defn(r,"$process_line",u=function(c){var d,e,g,h,k=b,m=b;if((d=this.process_lines)===b||null==d||d.$$is_boolean&&1!=d)return c;if((d=c["$empty?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))return this.look_ahead=l(this.look_ahead,1),"";if((d=(e=(g=c["$end_with?"]("]"),!1!==g&&g!==b&&null!=g?c["$start_with?"]("[")["$!"]():
g),!1!==e&&e!==b&&null!=e?c["$include?"]("::"):e))===b||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===b||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=l(this.look_ahead,1),c;this.$advance();return b}if((d=(e=c["$include?"]("if"),!1!==e&&e!==b&&null!=e?k=E.get("ConditionalDirectiveRx").$match(c):e))===b||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===b||null==d||d.$$is_boolean&&1!=d)return(d=(g=!1!==(h=m=c["$start_with?"]("\\include::"))&&h!==b&&null!=h?h:c["$start_with?"]("include::"),
!1!==g&&g!==b&&null!=g?k=E.get("IncludeDirectiveRx").$match(c):g))===b||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=l(this.look_ahead,1),c):!1!==m&&m!==b&&null!=m?(this.unescape_next_line=!0,this.look_ahead=l(this.look_ahead,1),c["$[]"](v(1,-1,!1))):(d=this.$preprocess_include(k["$[]"](1),k["$[]"](2).$strip()))===b||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=l(this.look_ahead,1),c):b;this.$advance();return b}if((d=c["$start_with?"]("\\"))===b||null==d||d.$$is_boolean&&1!=d){if((d=(e=this).$preprocess_conditional_inclusion.apply(e,
a.to_a(k.$captures())))===b||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=l(this.look_ahead,1),c;this.$advance();return b}this.unescape_next_line=!0;this.look_ahead=l(this.look_ahead,1);return c["$[]"](v(1,-1,!1))},u.$$arity=1);a.defn(r,"$peek_line",D=function(c){var d,e,g=D.$$p,h=b,k=h=b;null==c&&(c=!1);D.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return(d=h=(e=a.find_super_dispatcher(this,"peek_line",D,!1),e.$$p=g,e).apply(this,h))===b||null==d||d.$$is_boolean&&1!=d?
(d=this.include_stack["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?(this.$pop_include(),this.$peek_line(c)):b:h},D.$$arity=-1);a.defn(r,"$preprocess_conditional_inclusion",G=function(a,c,d,e){var g,h,k,l,m,n,r,u,t,y,x=b,v=x=b,z=b,D=z=v=x=b,v=b;if((g=!1!==(h=(k=!1!==(l=a["$=="]("ifdef"))&&l!==b&&null!=l?l:a["$=="]("ifndef"),!1!==k&&k!==b&&null!=k?c["$empty?"]():k))&&h!==b&&null!=h?h:(k=a["$=="]("endif"))?e:a["$=="]("endif"))!==b&&null!=g&&(!g.$$is_boolean||1==g))return!1;c=c.$downcase();if(a["$=="]("endif"))return x=
this.conditional_stack.$size(),(g=q(x,0))===b||null==g||g.$$is_boolean&&1!=g?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+c+"[]"):(x=this.conditional_stack["$[]"](-1),(g=!1!==(h=c["$empty?"]())&&h!==b&&null!=h?h:c["$=="](x["$[]"]("target")))===b||null==g||g.$$is_boolean&&1!=g?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+c+"[], expected endif::"+x["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(g=this.conditional_stack["$empty?"]())===
b||null==g||g.$$is_boolean&&1!=g?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)),!0;v=!1;if((g=this.skipping)===b||null==g||g.$$is_boolean&&1!=g)if(z=a,"ifdef"["$==="](z))z=d,b["$==="](z)?v=this.document.$attributes()["$has_key?"](c)["$!"]():","["$==="](z)?v=(g=(h=c.$split(",")).$detect,g.$$p=(m=function(a){var c=m.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$has_key?"](a)},m.$$s=this,m.$$arity=1,m),g).call(h)["$!"]():"+"["$==="](z)&&(v=(g=
(k=c.$split("+")).$detect,g.$$p=(n=function(a){var c=n.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$has_key?"](a)["$!"]()},n.$$s=this,n.$$arity=1,n),g).call(k));else if("ifndef"["$==="](z))z=d,b["$==="](z)?v=this.document.$attributes()["$has_key?"](c):","["$==="](z)?v=(g=(l=c.$split(",")).$detect,g.$$p=(r=function(a){var c=r.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$has_key?"](a)["$!"]()},r.$$s=this,r.$$arity=
1,r),g).call(l)["$!"]():"+"["$==="](z)&&(v=(g=(u=c.$split("+")).$detect,g.$$p=(t=function(a){var c=t.$$s||this;null==c.document&&(c.document=b);null==a&&(a=b);return c.document.$attributes()["$has_key?"](a)},t.$$s=this,t.$$arity=1,t),g).call(u));else if("ifeval"["$==="](z)){if((g=!1!==(y=c["$empty?"]()["$!"]())&&y!==b&&null!=y?y:(x=E.get("EvalExpressionRx").$match(e.$strip()))["$!"]())!==b&&null!=g&&(!g.$$is_boolean||1==g))return!1;v=this.$resolve_expr_val(x["$[]"](1));z=this.$resolve_expr_val(x["$[]"](3));
v=(D=x["$[]"](2))["$=="]("!=")?v.$send("==",z):v.$send(D.$to_sym(),z)["$!"]()}if((g=!1!==(y=a["$=="]("ifeval"))&&y!==b&&null!=y?y:e["$!"]())!==b&&null!=g&&(!g.$$is_boolean||1==g))!1!==v&&v!==b&&null!=v&&(this.skipping=!0),this.conditional_stack["$<<"](w(["target","skip","skipping"],{target:c,skip:v,skipping:this.skipping}));else if((g=!1!==(y=this.skipping)&&y!==b&&null!=y?y:v)===b||null==g||g.$$is_boolean&&1!=g)v=this.$peek_line(!0),this.$replace_next_line(e.$rstrip()),this.$unshift(v);return!0},
G.$$arity=4);a.defn(r,"$preprocess_include",z=function(c,d){var k,m,n,r,u,t,y,x,v,z=b,D=b,F=b,B=b,G=b,I=b,M=b,J=b,N=b,Q=b,T=b,oa=b,V=b,na=b,wa=b,ya=b;if((k=(z=this.document.$sub_attributes(c,w(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k){if((k=(m=this["$include_processors?"](),!1!==m&&m!==b&&null!=m?D=(n=(r=this.include_processor_extensions).$find,n.$$p=(u=function(a){null==a&&(a=b);return a.$instance()["$handles?"](z)},u.$$s=this,u.$$arity=
1,u),n).call(r):m))===b||null==k||k.$$is_boolean&&1!=k){if((k=h(this.document.$safe(),E.get("SafeMode").$$scope.get("SECURE")))===b||null==k||k.$$is_boolean&&1!=k){if((k=(m=q(F=this.maxdepth["$[]"]("abs"),0),!1!==m&&m!==b&&null!=m?h(this.include_stack.$size(),F):m))===b||null==k||k.$$is_boolean&&1!=k){if((k=q(F,0))===b||null==k||k.$$is_boolean&&1!=k)return!1;if((k=a.get("RUBY_ENGINE_OPAL"))===b||null==k||k.$$is_boolean&&1!=k)if((k=E.get("Helpers")["$uriish?"](z))===b||null==k||k.$$is_boolean&&1!=
k){B="file";G=this.document.$normalize_system_path(z,this.dir,b,w(["target_name"],{target_name:"include file"}));if((k=a.get("File")["$file?"](G))===b||null==k||k.$$is_boolean&&1!=k)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+G),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+d+"]"),!0;I=E.get("PathResolver").$new().$relative_path(G,this.document.$base_dir())}else{if((k=this.document.$attributes()["$has_key?"]("allow-uri-read"))===
b||null==k||k.$$is_boolean&&1!=k)return this.$replace_next_line("link:"+z+"[]"),!0;B="uri";G=I=z;if((k=this.document.$attributes()["$has_key?"]("cache-uri"))===b||null==k||k.$$is_boolean&&1!=k)(k=a.get("RUBY_ENGINE_OPAL")["$!"]())===b||null==k||k.$$is_boolean&&1!=k||a.get("OpenURI");else{var da;try{da=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":b}catch(p){if(p.$$class===a.NameError)da=b;else throw p;}((k=da)===b||null==k||k.$$is_boolean&&1!=k)&&E.get("Helpers").$require_library("open-uri/cached",
"open-uri-cached")}}else B="file",G=I=(k=this.include_stack["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k?a.get("File").$join(this.dir,z):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?z:a.get("File").$join(this.dir,z);J=M=b;N=w([],{});(k=d["$empty?"]()["$!"]())===b||null==k||k.$$is_boolean&&1!=k||(N=E.get("AttributeList").$new(d).$parse(),(k=N["$has_key?"]("lines"))===b||null==k||k.$$is_boolean&&1!=k?(k=N["$has_key?"]("tag"))===b||null==k||k.$$is_boolean&&1!=k?(k=N["$has_key?"]("tags"))===
b||null==k||k.$$is_boolean&&1!=k||(J=N["$[]"]("tags").$split(E.get("DataDelimiterRx")).$to_set()):J=[N["$[]"]("tag")].$to_set():(M=[],(k=(m=N["$[]"]("lines").$split(E.get("DataDelimiterRx"))).$each,k.$$p=(t=function(c){var d,e,g,h=b,k=b;null==c&&(c=b);if((d=c["$include?"](".."))===b||null==d||d.$$is_boolean&&1!=d)return M["$<<"](c.$to_i());c=(e=(g=c.$split("..")).$map,e.$$p="to_i".$to_proc(),e).call(g);d=a.to_ary(c);h=null==d[0]?b:d[0];k=null==d[1]?b:d[1];c;return k["$=="](-1)?(M["$<<"](h),M["$<<"](1/
0)):M.$concat(a.get("Range").$new(h,k).$to_a())},t.$$s=this,t.$$arity=1,t),k).call(m),M=M.$sort().$uniq()));if(!1!==M&&M!==b&&null!=M){if((k=M["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k){Q=[];oa=T=0;try{(k=(n=this).$open,k.$$p=(y=function(c){var d=y.$$s||this,e,g,h;null==c&&(c=b);return function(){var k=a.new_brk();try{return(e=(g=c).$each_line,e.$$p=(h=function(d){var e,g,h=b;null==d&&(d=b);oa=l(oa,1);h=M["$[]"](0);if((e=(g=h["$is_a?"](a.get("Float")),!1!==g&&g!==b&&null!=g?h["$infinite?"]():
g))===b||null==e||e.$$is_boolean&&1!=e){c.$lineno()["$=="](h)&&(Q.$push(d),T["$=="](0)&&(T=oa),M.$shift());if((e=M["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e)return b;a.brk(b,k)}else return Q.$push(d),T["$=="](0)?T=oa:b},h.$$s=d,h.$$brk=k,h.$$arity=1,h),e).call(g)}catch(m){if(m===k)return m.$v;throw m;}}()},y.$$s=this,y.$$arity=1,y),k).call(n,G,"r")}catch(p){if(a.rescue(p,[E.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+B+" not readable: "+
G),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+d+"]"),!0}finally{a.pop_exception()}else throw p;}this.$advance();this.$push_include(Q,G,I,T,N)}}else if(!1!==J&&J!==b&&null!=J){if((k=J["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k){Q=[];oa=T=0;V=b;na=a.get("Set").$new();try{(k=this.$open,k.$$p=(x=function(c){var d=x.$$s||this,e,g,h;null==c&&(c=b);return(e=(g=c).$each_line,e.$$p=(h=function(c){var d=h.$$s||this,e,g,k,m=b;null==c&&(c=b);oa=l(oa,1);(e=E.get("FORCE_ENCODING"))===
b||null==e||e.$$is_boolean&&1!=e||c.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));c=c.$rstrip();m=c.$chomp("--\x3e").$rstrip();return!1!==V&&V!==b&&null!=V?(e=m["$end_with?"]("end::"+V+"[]"))===b||null==e||e.$$is_boolean&&1!=e?(((e=(g=m["$end_with?"]("[]"),!1!==g&&g!==b&&null!=g?E.get("TagDirectiveRx")["$=~"](m):g))===b||null==e||e.$$is_boolean&&1!=e)&&Q.$push(c),T["$=="](0)?T=oa:b):V=b:(e=(g=m["$end_with?"]("[]"),!1!==g&&g!==b&&null!=g?E.get("TagDirectiveRx")["$=~"](m):g))===b||null==e||
e.$$is_boolean&&1!=e?b:function(){var c=a.new_brk();try{return(e=(g=J).$each,e.$$p=(k=function(d){var e;null==d&&(d=b);if((e=m["$end_with?"]("tag::"+d+"[]"))===b||null==e||e.$$is_boolean&&1!=e)return b;V=d;na["$<<"](d);a.brk(b,c)},k.$$s=d,k.$$brk=c,k.$$arity=1,k),e).call(g)}catch(h){if(h===c)return h.$v;throw h;}}()},h.$$s=d,h.$$arity=1,h),e).call(g)},x.$$s=this,x.$$arity=1,x),k).call(this,G,"r")}catch(p){if(a.rescue(p,[E.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+
": include "+B+" not readable: "+G),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+d+"]"),!0}finally{a.pop_exception()}else throw p;}((k=(wa=g(J.$to_a(),na.$to_a()))["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+((k=q(wa.$size(),1))===b||null==k||k.$$is_boolean&&1!=k?b:"s")+" '"+e(wa,",")+"' not found in include "+B+": "+G);this.$advance();this.$push_include(Q,G,I,T,N)}}else try{ya=(k=this.$open,
k.$$p=(v=function(a){null==a&&(a=b);return a.$read()},v.$$s=this,v.$$arity=1,v),k).call(this,G,"r"),this.$advance(),this.$push_include(ya,G,I,1,N)}catch(p){if(a.rescue(p,[E.get("StandardError")]))try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+B+" not readable: "+G),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+z+"["+d+"]")}finally{a.pop_exception()}else throw p;}return!0}this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+
this.maxdepth["$[]"]("rel")+" exceeded");return!1}this.$replace_next_line("link:"+z+"[]");return!0}this.$advance();D.$process_method()["$[]"](this.document,this,z,E.get("AttributeList").$new(d).$parse());return!0}this.$advance();this.document.$attributes().$fetch("attribute-missing",E.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+c+"["+d+"]");return!0},z.$$arity=2);a.defn(r,"$push_include",I=function(c,d,e,h,k){var m,n=b,
q=b;null==d&&(d=b);null==e&&(e=b);null==h&&(h=1);null==k&&(k=w([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==d&&d!==b&&null!=d?(this.file=d,this.dir=E.get("File").$dirname(d),this.process_lines=E.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(d))):(this.file=b,this.dir=".",this.process_lines=!0);!1!==e&&e!==b&&null!=e?(this.includes["$<<"](E.get("Helpers").$rootname(e)),d=e):d="<stdin>";this.path=d;this.lineno=
h;(m=k["$has_key?"]("depth"))===b||null==m||m.$$is_boolean&&1!=m||(n=k["$[]"]("depth").$to_i(),(m="number"===typeof n?0>=n:n["$<="](0))===b||null==m||m.$$is_boolean&&1!=m||(n=1),this.maxdepth=w(["abs","rel"],{abs:l(g(this.include_stack.$size(),1),n),rel:n}));(m=(this.lines=this.$prepare_lines(c,w(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:k["$[]"]("indent")})))["$empty?"]())===b||null==m||m.$$is_boolean&&1!=m?((m=k["$has_key?"]("leveloffset"))===b||null==m||m.$$is_boolean&&
1!=m||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+k["$[]"]("leveloffset")),this.lines.$push(""),(m=q=this.document.$attr("leveloffset"))===b||null==m||m.$$is_boolean&&1!=m?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+q),this.lineno=g(this.lineno,2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return b},I.$$arity=-2);a.defn(r,"$pop_include",J=function(){var c,d;(c=q(this.include_stack.$size(),0))===b||null==c||c.$$is_boolean&&1!=c||(d=this.include_stack.$pop(),
c=a.to_ary(d),this.lines=null==c[0]?b:c[0],this.file=null==c[1]?b:c[1],this.dir=null==c[2]?b:c[2],this.path=null==c[3]?b:c[3],this.lineno=null==c[4]?b:c[4],this.maxdepth=null==c[5]?b:c[5],this.process_lines=null==c[6]?b:c[6],d,this.eof=this.lines["$empty?"](),this.look_ahead=0);return b},J.$$arity=0);a.defn(r,"$include_depth",F=function(){return this.include_stack.$size()},F.$$arity=0);a.defn(r,"$exceeded_max_depth?",y=function(){var a,c,d=b;return(a=(c=q(d=this.maxdepth["$[]"]("abs"),0),!1!==c&&
c!==b&&null!=c?h(this.include_stack.$size(),d):c))===b||null==a||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")},y.$$arity=0);a.defn(r,"$shift",M=function(){var c,d=M.$$p,e=b,g=b;M.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];if((c=this.unescape_next_line)===b||null==c||c.$$is_boolean&&1!=c)return(c=a.find_super_dispatcher(this,"shift",M,!1),c.$$p=d,c).apply(this,e);this.unescape_next_line=!1;return(c=a.find_super_dispatcher(this,"shift",M,!1),c.$$p=d,c).apply(this,e)["$[]"](v(1,
-1,!1))},M.$$arity=0);a.defn(r,"$skip_front_matter!",N=function(c,d){var e,g,h,k=b,m=b;null==d&&(d=!0);k=b;if(c["$[]"](0)["$=="]("---")){m=c.$dup();k=[];c.$shift();!1!==d&&d!==b&&null!=d&&(this.lineno=l(this.lineno,1));for(;(g=(h=c["$empty?"]()["$!"](),!1!==h&&h!==b&&null!=h?c["$[]"](0)["$!="]("---"):h))!==b&&null!=g&&(!g.$$is_boolean||1==g);)k.$push(c.$shift()),!1!==d&&d!==b&&null!=d&&(this.lineno=l(this.lineno,1));(e=c["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e?(c.$shift(),!1!==d&&d!==b&&
null!=d&&(this.lineno=l(this.lineno,1))):((e=c).$unshift.apply(e,a.to_a(m)),!1!==d&&d!==b&&null!=d&&(this.lineno=0),k=b)}return k},N.$$arity=-2);a.defn(r,"$resolve_expr_val",Q=function(a){var c,d,e,g=b;(c=!1!==(d=(e=a["$start_with?"]('"'),!1!==e&&e!==b&&null!=e?a["$end_with?"]('"'):e))&&d!==b&&null!=d?d:(e=a["$start_with?"]("'"),!1!==e&&e!==b&&null!=e?a["$end_with?"]("'"):e))===b||null==c||c.$$is_boolean&&1!=c?g=!1:(g=!0,a=a["$[]"](v(1,-1,!0)));(c=a["$include?"]("{"))===b||null==c||c.$$is_boolean&&
1!=c||(a=this.document.$sub_attributes(a,w(["attribute_missing"],{attribute_missing:"drop"})));return!1!==g&&g!==b&&null!=g?a:(c=a["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c?a["$=="]("true")?!0:a["$=="]("false")?!1:(c=a.$rstrip()["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c?(c=a["$include?"]("."))===b||null==c||c.$$is_boolean&&1!=c?a.$to_i():a.$to_f():" ":b},Q.$$arity=1);a.defn(r,"$include_processors?",V=function(){var a,c;return(a=this.include_processor_extensions["$nil?"]())===b||null==
a||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(c=this.document["$extensions?"](),!1!==c&&c!==b&&null!=c?this.document.$extensions()["$include_processors?"]():c))===b||null==a||a.$$is_boolean&&1!=a?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()},V.$$arity=0);return(a.defn(r,"$to_s",T=function(){var a,c,d;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+
", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(c=this.include_stack).$map,a.$$p=(d=function(a){null==a&&(a=b);return a.$to_s()},d.$$s=this,d.$$arity=1,d),a).call(c).$join(", ")+"]}>"},T.$$arity=0),b)&&"to_s"})(k.base,k.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var e=a.nil,g=a.module,h=a.klass,b=a.hash2,c=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));
return function(d){d=g(d,"Asciidoctor").$$scope;(function(d,$super){function g(){}var n=g=h(d,$super,"Section",g),f=n.$$proto,m=n.$$scope,r,x,E,B,t;f.level=f.document=f.parent=f.number=f.title=f.numbered=f.blocks=e;n.$attr_accessor("index");n.$attr_accessor("number");n.$attr_accessor("sectname");n.$attr_accessor("special");n.$attr_accessor("numbered");a.defn(n,"$initialize",r=function(c,d,f,g){var h;null==c&&(c=e);null==d&&(d=e);null==f&&(f=!0);null==g&&(g=b([],{}));r.$$p=null;(h=a.find_super_dispatcher(this,
"initialize",r,!1),h.$$p=null,h).call(this,c,"section",g);this.level=!1!==d&&d!==e&&null!=d?d:!1!==c&&c!==e&&null!=c?l(c.$level(),1):1;this.numbered=(h=!1!==f&&f!==e&&null!=f)?q(this.level,0):f;this.special=(h=!1!==c&&c!==e&&null!=c?c.$context()["$=="]("section"):c,!1!==h&&h!==e&&null!=h?c.$special():h);this.index=0;return this.number=1},r.$$arity=-1);a.alias(n,"name","title");a.defn(n,"$generate_id",x=function(){var a,b,d=e,f=e,g=e,h=f=e;if((a=this.document.$attributes()["$has_key?"]("sectids"))===
e||null==a||a.$$is_boolean&&1!=a)return e;d=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&a!==e&&null!=a?a:"_";f=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==e&&null!=a?a:"_";g=""+f+this.$title().$downcase().$gsub(m.get("InvalidSectionIdCharsRx"),d).$tr_s(d,d).$chomp(d);if((a=(b=f["$empty?"](),!1!==b&&b!==e&&null!=b?g["$start_with?"](d):b))!==e&&null!=a&&(!a.$$is_boolean||1==a))for(g=g["$[]"](c(1,-1,!1));(b=g["$start_with?"](d))!==e&&null!=b&&(!b.$$is_boolean||1==b);)g=
g["$[]"](c(1,-1,!1));f=g;for(h=m.get("Compliance").$unique_id_start_index();(b=this.document.$references()["$[]"]("ids")["$has_key?"](f))!==e&&null!=b&&(!b.$$is_boolean||1==b);)f=""+g+d+h,h=l(h,1);return f},x.$$arity=0);a.defn(n,"$sectnum",E=function(a,b){var c,d,f,g;null==a&&(a=".");null==b&&(b=e);!1!==(c=b)&&c!==e&&null!=c?c:b=b["$=="](!1)?"":a;return(c=(d=(f=(g=this.level,!1!==g&&g!==e&&null!=g?q(this.level,1):g),!1!==f&&f!==e&&null!=f?this.parent:f),!1!==d&&d!==e&&null!=d?this.parent.$context()["$=="]("section"):
d))===e||null==c||c.$$is_boolean&&1!=c?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b},E.$$arity=-1);a.defn(n,"$<<",B=function(b){var c,d=B.$$p,f=e,g=e;B.$$p=null;f=[];for(g=0;g<arguments.length;g++)f[g]=arguments[g];b.$context()["$=="]("section")&&this.$assign_index(b);return(c=a.find_super_dispatcher(this,"<<",B,!1),c.$$p=d,c).apply(this,f)},B.$$arity=1);return(a.defn(n,"$to_s",t=function(){var b,c=t.$$p,d=e,f=d=e;t.$$p=null;d=[];for(f=0;f<arguments.length;f++)d[f]=arguments[f];if((b=
this.title["$!="](e))===e||null==b||b.$$is_boolean&&1!=b)return(b=a.find_super_dispatcher(this,"to_s",t,!1),b.$$p=c,b).apply(this,d);d=(b=this.numbered)===e||null==b||b.$$is_boolean&&1!=b?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+d.$inspect()+", blocks: "+this.blocks.$size()+"}>"},t.$$arity=0),e)&&"to_s"})(d.base,d.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){var l=a.nil,q=a.module,e=a.klass,g=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(h){(function(b,$super){function d(){}var h=d=e(b,$super,"Stylesheets",d),q=h.$$proto,k=h.$$scope,n,f,m,r,x,E,B,t,u,D,G,z,I,J;q.primary_stylesheet_data=
q.coderay_stylesheet_data=q.pygments_stylesheet_data=l;a.cdecl(k,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(k,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(k,"STYLESHEETS_DATA_PATH",a.get("File").$join(k.get("DATA_PATH"),"stylesheets"));h.__instance__=h.$new();a.defs(h,"$instance",n=function(){null==this.__instance__&&(this.__instance__=l);return this.__instance__},n.$$arity=0);a.defn(h,"$primary_stylesheet_name",f=function(){return k.get("DEFAULT_STYLESHEET_NAME")},f.$$arity=0);a.defn(h,
"$primary_stylesheet_data",m=function(){var b;return!1!==(b=this.primary_stylesheet_data)&&b!==l&&null!=b?b:this.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(k.get("STYLESHEETS_DATA_PATH"),"asciidoctor-default.css")).$chomp()},m.$$arity=0);a.defn(h,"$embed_primary_stylesheet",r=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},r.$$arity=0);a.defn(h,"$write_primary_stylesheet",x=function(b){var d,f,e;return(d=(f=a.get("File")).$open,d.$$p=(e=function(a){var b=
e.$$s||this;null==a&&(a=l);return a.$write(b.$primary_stylesheet_data())},e.$$s=this,e.$$arity=1,e),d).call(f,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")},x.$$arity=1);a.defn(h,"$coderay_stylesheet_name",E=function(){return"coderay-asciidoctor.css"},E.$$arity=0);a.defn(h,"$coderay_stylesheet_data",B=function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&b!==l&&null!=b?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(k.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},
B.$$arity=0);a.defn(h,"$embed_coderay_stylesheet",t=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},t.$$arity=0);a.defn(h,"$write_coderay_stylesheet",u=function(b){var d,f,e;return(d=(f=a.get("File")).$open,d.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=l);return a.$write(b.$coderay_stylesheet_data())},e.$$s=this,e.$$arity=1,e),d).call(f,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")},u.$$arity=1);a.defn(h,"$pygments_stylesheet_name",D=function(a){var b;
null==a&&(a=l);return"pygments-"+(!1!==(b=a)&&b!==l&&null!=b?b:k.get("DEFAULT_PYGMENTS_STYLE"))+".css"},D.$$arity=-1);a.defn(h,"$pygments_stylesheet_data",G=function(a){var b;return(b=this.$load_pygments())===l||null==b||b.$$is_boolean&&1!=b?"/* Pygments styles disabled. Pygments is not available. */":!1!==(b=this.pygments_stylesheet_data)&&b!==l&&null!=b?b:this.pygments_stylesheet_data=g([],{})},G.$$arity=-1);a.defn(h,"$embed_pygments_stylesheet",z=function(a){null==a&&(a=l);return"<style>\n"+this.$pygments_stylesheet_data(a)+
"\n</style>"},z.$$arity=-1);a.defn(h,"$write_pygments_stylesheet",I=function(b,d){var f,e,g;null==d&&(d=l);return(f=(e=a.get("File")).$open,f.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=l);return a.$write(b.$pygments_stylesheet_data(d))},g.$$s=this,g.$$arity=1,g),f).call(e,a.get("File").$join(b,this.$pygments_stylesheet_name(d)),"w")},I.$$arity=-2);return(a.defn(h,"$load_pygments",J=function(){var b;return(b=null==a.Object.$$scope.Pygments?l:"constant")===l||null==b||b.$$is_boolean&&1!=b?k.get("Helpers").$require_library("pygments",
"pygments.rb","ignore")["$nil?"]()["$!"]():!0},J.$$arity=0),l)&&"load_pygments"})(q(h,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var b=a.nil,c=a.module,d=a.klass,w=a.hash2,v=a.range;a.add_stubs("$attr_accessor $new $key? $[] $abs $to_i $== $!= $> $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_col_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cell_spec $cell_open? $close_cell $advance $take_cell_spec $fetch $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_col_visits".split(" "));
return function(k){k=c(k,"Asciidoctor").$$scope;(function(c,$super){function k(){}var r=k=d(c,$super,"Table",k),x=r.$$proto,v=r.$$scope,B,t,u,D,G;x.attributes=x.document=x.has_header_option=x.rows=x.columns=b;(function(b,$super){function c(){}var e=c=d(b,$super,"Rows",c),g;e.$attr_accessor("head","foot","body");a.defn(e,"$initialize",g=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=c},g.$$arity=-1);return a.alias(e,"[]","send")})(v.base,null);
a.cdecl(v,"DEFAULT_DATA_FORMAT","psv");a.cdecl(v,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(v,"DEFAULT_DELIMITERS",w(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(v,"TEXT_STYLES",w("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(v,"ALIGNMENTS",w(["h","v"],{h:w(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:w(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));r.$attr_accessor("columns");r.$attr_accessor("rows");
r.$attr_accessor("has_header_option");a.defn(r,"$initialize",B=function(c,d){var g,h,k,m=b,n=b;B.$$p=null;(g=a.find_super_dispatcher(this,"initialize",B,!1),g.$$p=null,g).call(this,c,"table");this.rows=v.get("Rows").$new();this.columns=[];this.has_header_option=d["$key?"]("header-option");m=d["$[]"]("width");n=m.$to_i().$abs();(g=!1!==(h=(k=n["$=="](0))?m["$!="]("0"):n["$=="](0))&&h!==b&&null!=h?h:l(n,100))===b||null==g||g.$$is_boolean&&1!=g||(n=100);this.attributes["$[]="]("tablepcwidth",n);return(g=
this.document.$attributes()["$key?"]("pagewidth"))===b||null==g||g.$$is_boolean&&1!=g?b:(g="tableabswidth",h=this.attributes,!1!==(k=h["$[]"](g))&&k!==b&&null!=k?k:h["$[]="](g,q(e(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()))},B.$$arity=2);a.defn(r,"$header_row?",t=function(){var a;return a=this.has_header_option,!1!==a&&a!==b&&null!=a?this.rows.$body()["$empty?"]():a},t.$$arity=0);a.defn(r,"$create_columns",u=function(a){var c,d,e=
b,h=b,e=[],h=0;(c=a.$each,c.$$p=(d=function(a){var c=d.$$s||this;null==a&&(a=b);h=g(h,a["$[]"]("width"));return e["$<<"](v.get("Column").$new(c,e.$size(),a))},d.$$s=this,d.$$arity=1,d),c).call(a);if((c=(this.columns=e)["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c)this.attributes["$[]="]("colcount",e.$size()),this.$assign_col_widths(h["$=="](0)?b:h);return b},u.$$arity=1);a.defn(r,"$assign_col_widths",D=function(a){var c,d,k,l,m,n=b,r=b,t=b;null==a&&(a=b);n=10["$**"](4);r=t=0;!1!==a&&a!==b&&null!=
a?(c=(d=this.columns).$each,c.$$p=(k=function(c){null==c&&(c=b);return r=g(r,t=c.$assign_width(b,a,n))},k.$$s=this,k.$$arity=1,k),c).call(d):(t=e(e(q(100,n),this.columns.$size()).$to_i(),n),t.$to_i()["$=="](t)&&(t=t.$to_i()),(c=(l=this.columns).$each,c.$$p=(m=function(a){null==a&&(a=b);return r=g(r,a.$assign_width(t))},m.$$s=this,m.$$arity=1,m),c).call(l));r["$=="](100)||this.columns["$[]"](-1).$assign_width(e(q(g(h(100,r),t),n).$round(),n));return b},D.$$arity=-1);return(a.defn(r,"$partition_header_footer",
G=function(a){var c,d,e,g,k=b,m=b;this.attributes["$[]="]("rowcount",this.rows.$body().$size());k=this.rows.$body().$size();(c=(d=l(k,0),!1!==d&&d!==b&&null!=d?this.has_header_option:d))===b||null==c||c.$$is_boolean&&1!=c||(m=this.rows.$body().$shift(),k=h(k,1),(c=(d=m).$each,c.$$p=(e=function(a){var c,d;null==a&&(a=b);return c=[b],d=a,d["$style="].apply(d,c),c[c.length-1]},e.$$s=this,e.$$arity=1,e),c).call(d),c=[[m]],g=this.rows,g["$head="].apply(g,c),c[c.length-1]);(c=(g=l(k,0),!1!==g&&g!==b&&null!=
g?a["$key?"]("footer-option"):g))===b||null==c||c.$$is_boolean&&1!=c||(c=[[this.rows.$body().$pop()]],g=this.rows,g["$foot="].apply(g,c),c[c.length-1]);return b},G.$$arity=1),b)&&"partition_header_footer"})(k.base,k.get("AbstractBlock"));(function(c,$super){function h(){}var k=h=d(c,$super,"Column",h),l,v;k.$$proto.attributes=b;k.$attr_accessor("style");a.defn(k,"$initialize",l=function(c,d,e){var h,k;null==e&&(e=w([],{}));l.$$p=null;(h=a.find_super_dispatcher(this,"initialize",l,!1),h.$$p=null,h).call(this,
c,"column");this.style=e["$[]"]("style");e["$[]="]("colnumber",g(d,1));h="width";c=e;!1!==(k=c["$[]"](h))&&k!==b&&null!=k?k:c["$[]="](h,1);h="halign";c=e;!1!==(k=c["$[]"](h))&&k!==b&&null!=k?k:c["$[]="](h,"left");h="valign";c=e;!1!==(k=c["$[]"](h))&&k!==b&&null!=k?k:c["$[]="](h,"top");return this.$update_attributes(e)},l.$$arity=-3);a.alias(k,"table","parent");return(a.defn(k,"$assign_width",v=function(a,c,d){var g;null==c&&(c=b);null==d&&(d=1E4);!1!==c&&c!==b&&null!=c&&(a=e(q(q(e(this.attributes["$[]"]("width").$to_f(),
c),100),d).$to_i(),d),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((g=this.$parent().$attributes()["$key?"]("tableabswidth"))!==b&&null!=g&&(!g.$$is_boolean||1==g))this.attributes["$[]="]("colabswidth",q(e(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a},v.$$arity=-2),b)&&"assign_width"})(k.get("Table"),k.get("AbstractNode"));(function(c,$super){function e(){}var g=e=d(c,$super,"Cell",e),h=g.$$proto,k=g.$$scope,l,q,u,v;h.style=h.document=
h.text=h.inner_document=h.colspan=h.rowspan=h.attributes=b;g.$attr_accessor("style");g.$attr_accessor("colspan");g.$attr_accessor("rowspan");a.alias(g,"column","parent");g.$attr_reader("inner_document");a.defn(g,"$initialize",l=function(c,d,e,g){var h,m=b,n=b,q=b,r=b;null==e&&(e=w([],{}));null==g&&(g=b);l.$$p=null;(h=a.find_super_dispatcher(this,"initialize",l,!1),h.$$p=null,h).call(this,c,"cell");this.text=d;this.rowspan=this.colspan=this.style=b;!1!==c&&c!==b&&null!=c&&(this.style=c.$attributes()["$[]"]("style"),
this.$update_attributes(c.$attributes()));!1!==e&&e!==b&&null!=e&&(this.colspan=e.$delete("colspan"),this.rowspan=e.$delete("rowspan"),(h=e["$key?"]("style"))===b||null==h||h.$$is_boolean&&1!=h||(this.style=e["$[]"]("style")),this.$update_attributes(e));if((h=(d=this.style["$=="]("asciidoc"))?c.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===b||null==h||h.$$is_boolean&&1!=h)return b;m=this.document.$attributes().$delete("doctitle");n=this.text.$split(k.get("EOL"));if((h=!1!==(d=
n["$empty?"]())&&d!==b&&null!=d?d:n["$[]"](0)["$include?"]("::")["$!"]())===b||null==h||h.$$is_boolean&&1!=h)q=n["$[]"](0),r=k.get("PreprocessorReader").$new(this.document,q).$readlines(),(h=r["$!="](q))===b||null==h||h.$$is_boolean&&1!=h||(n.$shift(),(h=n).$unshift.apply(h,a.to_a(r)));this.inner_document=k.get("Document").$new(n,w(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:g}));return(d=m["$nil?"]())===b||null==d||d.$$is_boolean&&1!=d?this.document.$attributes()["$[]="]("doctitle",
m):b},l.$$arity=-3);a.defn(g,"$text",q=function(){return this.$apply_normal_subs(this.text).$strip()},q.$$arity=0);a.defn(g,"$content",u=function(){var a,c,d;return this.style["$=="]("asciidoc")?this.inner_document.$convert():(a=(c=this.$text().$split(k.get("BlankLineRx"))).$map,a.$$p=(d=function(a){var c=d.$$s||this,e,g;null==c.style&&(c.style=b);null==a&&(a=b);return(e=!1!==(g=c.style["$!"]())&&g!==b&&null!=g?g:c.style["$=="]("header"))===b||null==e||e.$$is_boolean&&1!=e?k.get("Inline").$new(c.$parent(),
"quoted",a,w(["type"],{type:c.style})).$convert():a},d.$$s=this,d.$$arity=1,d),a).call(c)},u.$$arity=0);return(a.defn(g,"$to_s",v=function(){var c,d=v.$$p,e=b,g=b;v.$$p=null;e=[];for(g=0;g<arguments.length;g++)e[g]=arguments[g];return""+(c=a.find_super_dispatcher(this,"to_s",v,!1),c.$$p=d,c).apply(this,e).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(c=this.colspan)&&c!==b&&null!=c?c:1)+", rowspan: "+(!1!==(c=this.rowspan)&&c!==b&&null!=c?c:1)+", attributes: "+this.attributes+"]"},v.$$arity=
0),b)&&"to_s"})(k.get("Table"),k.get("AbstractNode"));(function(c,$super){function e(){}var k=e=d(c,$super,"ParserContext",e),q=k.$$proto,E=k.$$scope,B,t,u,D,G,z,I,J,F,y,M,N,Q,V,T,Y,S,A,W;q.format=q.delimiter=q.delimiter_re=q.buffer=q.cell_specs=q.cell_open=q.last_cursor=q.table=q.current_row=q.col_count=q.col_visits=q.active_rowspans=q.linenum=b;k.$attr_accessor("table");k.$attr_accessor("format");k.$attr_reader("col_count");k.$attr_accessor("buffer");k.$attr_reader("delimiter");k.$attr_reader("delimiter_re");
a.defn(k,"$initialize",B=function(a,c,d){var e,g;null==d&&(d=w([],{}));this.reader=a;this.table=c;this.last_cursor=a.$cursor();(e=this.format=d["$[]"]("format"))===b||null==e||e.$$is_boolean&&1!=e?this.format=E.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((e=E.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===b||null==e||e.$$is_boolean&&1!=e)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(e=(g=this.format["$=="]("psv")?d["$key?"]("separator")["$!"]():this.format["$=="]("psv"),
!1!==g&&g!==b&&null!=g?c.$document()["$nested?"]():g))===b||null==e||e.$$is_boolean&&1!=e?!1!==(e=d["$[]"]("separator"))&&e!==b&&null!=e?e:E.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):"!";this.delimiter_re=new RegExp(""+E.get("Regexp").$escape(this.delimiter));this.col_count=(e=c.$columns()["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e?c.$columns().$size():-1;this.buffer="";this.cell_specs=[];this.cell_open=!1;this.active_rowspans=[0];this.col_visits=0;this.current_row=
[];return this.linenum=-1},B.$$arity=-3);a.defn(k,"$starts_with_delimiter?",t=function(a){return a["$start_with?"](this.delimiter)},t.$$arity=1);a.defn(k,"$match_delimiter",u=function(a){return this.delimiter_re.$match(a)},u.$$arity=1);a.defn(k,"$skip_matched_delimiter",D=function(a,c){null==c&&(c=!1);this.buffer=""+this.buffer+(!1!==c&&c!==b&&null!=c?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()},D.$$arity=-2);a.defn(k,"$buffer_has_unclosed_quotes?",G=function(a){var c,
d,e=b;null==a&&(a=b);e=(""+this.buffer+a).$strip();return c=(d=e["$start_with?"]('"'),!1!==d&&d!==b&&null!=d?e["$start_with?"]('""')["$!"]():d),!1!==c&&c!==b&&null!=c?e["$end_with?"]('"')["$!"]():c},G.$$arity=-1);a.defn(k,"$buffer_quoted?",z=function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==b&&null!=a?this.buffer["$start_with?"]('""')["$!"]():a},z.$$arity=0);a.defn(k,"$take_cell_spec",I=function(){return this.cell_specs.$shift()},I.$$arity=0);
a.defn(k,"$push_cell_spec",J=function(a){var c;null==a&&(a=w([],{}));this.cell_specs["$<<"](!1!==(c=a)&&c!==b&&null!=c?c:w([],{}));return b},J.$$arity=-1);a.defn(k,"$keep_cell_open",F=function(){this.cell_open=!0;return b},F.$$arity=0);a.defn(k,"$mark_cell_closed",y=function(){this.cell_open=!1;return b},y.$$arity=0);a.defn(k,"$cell_open?",M=function(){return this.cell_open},M.$$arity=0);a.defn(k,"$cell_closed?",N=function(){return this.cell_open["$!"]()},N.$$arity=0);a.defn(k,"$close_open_cell",
Q=function(a){var c;null==a&&(a=w([],{}));this.$push_cell_spec(a);(c=this["$cell_open?"]())===b||null==c||c.$$is_boolean&&1!=c||this.$close_cell(!0);this.$advance();return b},Q.$$arity=-1);a.defn(k,"$close_cell",V=function(c){try{var d,e,k,m=b,n=b,q=b;null==c&&(c=!1);m=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(n=this.$take_cell_spec(),!1!==n&&n!==b&&null!=n?(q=n.$fetch("repeatcol",1),n.$delete("repeatcol")):(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),
n=w([],{}),q=1)):(n=b,q=1,!this.format["$=="]("csv")||(d=(e=m["$empty?"]()["$!"](),!1!==e&&e!==b&&null!=e?m["$include?"]('"'):e))===b||null==d||d.$$is_boolean&&1!=d||((d=(e=m["$start_with?"]('"'),!1!==e&&e!==b&&null!=e?m["$end_with?"]('"'):e))===b||null==d||d.$$is_boolean&&1!=d||(m=m["$[]"](v(1,-1,!0)).$strip()),m=m.$tr_s('"','"')));(d=(e=1).$upto,d.$$p=(k=function(d){var e=k.$$s||this,r,t,u,y,x,w,v=b,z=b,A=b,v=b;null==e.col_count&&(e.col_count=b);null==e.table&&(e.table=b);null==e.current_row&&(e.current_row=
b);null==e.last_cursor&&(e.last_cursor=b);null==e.reader&&(e.reader=b);null==e.col_visits&&(e.col_visits=b);null==e.linenum&&(e.linenum=b);null==d&&(d=b);if(e.col_count["$=="](-1))e.table.$columns()["$<<"](v=E.get("Table").$$scope.get("Column").$new(e.table,h(g(e.table.$columns().$size(),d),1))),(r=(t=(u=!1!==n&&n!==b&&null!=n)?n["$key?"]("colspan"):n,!1!==t&&t!==b&&null!=t?l(z=h(n["$[]"]("colspan").$to_i(),1),0):t))===b||null==r||r.$$is_boolean&&1!=r||(A=e.table.$columns().$size(),(r=(t=z).$times,
r.$$p=(y=function(a){var c=y.$$s||this;null==c.table&&(c.table=b);null==a&&(a=b);return c.table.$columns()["$<<"](E.get("Table").$$scope.get("Column").$new(c.table,g(A,a)))},y.$$s=e,y.$$arity=1,y),r).call(t));else if((r=v=e.table.$columns()["$[]"](e.current_row.$size()))===b||null==r||r.$$is_boolean&&1!=r)e.$warn("asciidoctor: ERROR: "+e.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(b);v=E.get("Table").$$scope.get("Cell").$new(v,m,n,e.last_cursor);
e.last_cursor=e.reader.$cursor();((r=!1!==(u=v.$rowspan()["$!"]())&&u!==b&&null!=u?u:v.$rowspan()["$=="](1))===b||null==r||r.$$is_boolean&&1!=r)&&e.$activate_rowspan(v.$rowspan(),!1!==(r=v.$colspan())&&r!==b&&null!=r?r:1);e.col_visits=g(e.col_visits,!1!==(r=v.$colspan())&&r!==b&&null!=r?r:1);e.current_row["$<<"](v);return(r=(u=e["$end_of_row?"](),!1!==u&&u!==b&&null!=u?!1!==(x=!1!==(w=e.col_count["$!="](-1))&&w!==b&&null!=w?w:l(e.linenum,0))&&x!==b&&null!=x?x:(w=!1!==c&&c!==b&&null!=c)?d["$=="](q):
c:u))===b||null==r||r.$$is_boolean&&1!=r?b:e.$close_row()},k.$$s=this,k.$$arity=1,k),d).call(e,q);this.cell_open=!1;return b}catch(r){if(r===a.returner)return r.$v;throw r;}},V.$$arity=-1);a.defn(k,"$close_row",T=function(){var a,c;this.table.$rows().$body()["$<<"](this.current_row);this.col_count["$=="](-1)&&(this.col_count=this.col_visits);this.col_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(c=a["$[]"](0))&&c!==b&&null!=c?c:a["$[]="](0,0);return b},T.$$arity=
0);a.defn(k,"$activate_rowspan",Y=function(a,c){var d,e,k;(d=(e=(1).$upto(h(a,1))).$each,d.$$p=(k=function(a){var d=k.$$s||this,e;null==d.active_rowspans&&(d.active_rowspans=b);null==a&&(a=b);return d.active_rowspans["$[]="](a,g(!1!==(e=d.active_rowspans["$[]"](a))&&e!==b&&null!=e?e:0,c))},k.$$s=this,k.$$arity=1,k),d).call(e);return b},Y.$$arity=2);a.defn(k,"$end_of_row?",S=function(){var a;return!1!==(a=this.col_count["$=="](-1))&&a!==b&&null!=a?a:this.$effective_col_visits()["$=="](this.col_count)},
S.$$arity=0);a.defn(k,"$effective_col_visits",A=function(){return g(this.col_visits,this.active_rowspans["$[]"](0))},A.$$arity=0);return(a.defn(k,"$advance",W=function(){return this.linenum=g(this.linenum,1)},W.$$arity=0),b)&&"advance"})(k.get("Table"),null)}(a.base)};
(function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var g,h=a.top,b=a.nil,c=a.gvars,d=a.module,w=a.hash2,v=a.range,k=a.hash;null==c[":"]&&(c[":"]=b);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
((g=null!=a.RUBY_ENGINE)===b||null==g||g.$$is_boolean&&1!=g)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",l(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",l(a.get("RUBY_VERSION"),"2"));h.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&h.$require("asciidoctor/opal_ext");c[":"].$unshift(a.get("File").$dirname("asciidoctor"));
(function(c){c=d(c,"Asciidoctor");var f=c.$$scope,g,h,x,E=b,B=b;a.cdecl(f,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(b){b=d(b,"SafeMode").$$scope;a.cdecl(b,"UNSAFE",0);a.cdecl(b,"SAFE",1);a.cdecl(b,"SERVER",10);a.cdecl(b,"SECURE",20)})(f.base);(function(c){c=d(c,"Compliance");var e;c.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(c));a.defs(c,"$define",e=function(c,d){null==this.keys&&(this.keys=b);this.$instance_variable_set("@"+c,d);a.get_singleton_class(this).$send("attr_accessor",
c);this.keys["$<<"](c);return b},e.$$arity=2);c.$define("block_terminates_paragraph",!0);c.$define("strict_verbatim_paragraphs",!0);c.$define("underline_style_section_titles",!0);c.$define("unwrap_standalone_preamble",!0);c.$define("attribute_missing","skip");c.$define("attribute_undefined","drop-line");c.$define("shorthand_property_syntax",!0);c.$define("unique_id_start_index",2);c.$define("markdown_syntax",!0)})(f.base);a.cdecl(f,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(f,"LIB_PATH",a.get("File").$join(f.get("ROOT_PATH"),"lib"));a.cdecl(f,"DATA_PATH",a.get("File").$join(f.get("ROOT_PATH"),"data"));try{a.cdecl(f,"USER_HOME",a.get("Dir").$home())}catch(t){if(a.rescue(t,[f.get("StandardError")]))try{a.cdecl(f,"USER_HOME",!1!==(g=a.get("ENV")["$[]"]("HOME"))&&g!==b&&null!=g?g:a.get("Dir").$pwd())}finally{a.pop_exception()}else throw t;}a.cdecl(f,"COERCE_ENCODING",(g=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==g&&g!==b&&null!=g?a.get("RUBY_MIN_VERSION_1_9"):g));a.cdecl(f,
"FORCE_ENCODING",(g=f.get("COERCE_ENCODING"),!1!==g&&g!==b&&null!=g?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):g));a.cdecl(f,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(f,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(f,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(f,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(f,"SUPPORTS_GSUB_RESULT_HASH",(g=a.get("RUBY_MIN_VERSION_1_9"),!1!==
g&&g!==b&&null!=g?a.get("RUBY_ENGINE_OPAL")["$!"]():g));a.cdecl(f,"EOL","\n");a.cdecl(f,"NULL","\x00");a.cdecl(f,"TAB","\t");a.cdecl(f,"DEFAULT_DOCTYPE","article");a.cdecl(f,"DEFAULT_BACKEND","html5");a.cdecl(f,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(f,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(f,"BACKEND_ALIASES",w(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(f,"DEFAULT_PAGE_WIDTHS",w(["docbook"],{docbook:425}));a.cdecl(f,"DEFAULT_EXTENSIONS",w(["html",
"docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(f,"ASCIIDOC_EXTENSIONS",w([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(f,"SECTION_LEVELS",w(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(f,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(f,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());
a.cdecl(f,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(f,"DELIMITED_BLOCKS",w('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],
____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(f,"DELIMITED_BLOCK_LEADERS",(g=(h=f.get("DELIMITED_BLOCKS").$keys()).$map,g.$$p=(x=function(a){null==a&&(a=b);return a["$[]"](v(0,1,
!1))},x.$$s=c,x.$$arity=1,x),g).call(h).$to_set());a.cdecl(f,"LAYOUT_BREAK_LINES",w(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(f,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(f,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(f,"ORDERED_LIST_KEYWORDS",w(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",
upperroman:"I"}));a.cdecl(f,"LIST_CONTINUATION","+");a.cdecl(f,"LINE_BREAK"," +");a.cdecl(f,"LINE_CONTINUATION"," \\");a.cdecl(f,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(f,"BLOCK_MATH_DELIMITERS",w(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(f,"INLINE_MATH_DELIMITERS",w(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(f,"FLEXIBLE_ATTRIBUTES",["sectnums"]);f.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(f,"CC_ALPHA","a-zA-Z"),
a.cdecl(f,"CG_ALPHA","[a-zA-Z]"),a.cdecl(f,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(f,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(f,"CG_BLANK","[ \\t]"),a.cdecl(f,"CC_EOL","(?=\\n|$)"),a.cdecl(f,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(f,"CC_ALL","[\\s\\S]"),a.cdecl(f,"CC_WORD","a-zA-Z0-9_"),a.cdecl(f,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(f,"AuthorInfoLineRx",new RegExp("^("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*)(?: +("+f.get("CG_WORD")+"["+f.get("CC_WORD")+"\\-'.]*))?(?: +("+f.get("CG_WORD")+"["+f.get("CC_WORD")+
"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(f,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(f,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(f,"ManpageNamePurposeRx",new RegExp("^(.*?)"+f.get("CG_BLANK")+"+-"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(f,"EvalExpressionRx",new RegExp("^(\\S.*?)"+f.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+f.get("CG_BLANK")+"*(\\S.*)$"));
a.cdecl(f,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);a.cdecl(f,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(f,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+f.get("CG_BLANK")+"+(.*))?$"));a.cdecl(f,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(f,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(f,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(f,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+
":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(f,"BlockAttributeListRx",new RegExp("^\\[(|"+f.get("CG_BLANK")+"*["+f.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(f,"BlockAttributeLineRx",new RegExp("^\\[(|"+f.get("CG_BLANK")+"*["+f.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*(?:,"+f.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(f,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(f,"AdmonitionParagraphRx",new RegExp("^("+q(f.get("ADMONITION_STYLES").$to_a(),
"|")+"):"+f.get("CG_BLANK")));a.cdecl(f,"LiteralParagraphRx",new RegExp("^("+f.get("CG_BLANK")+"+.*)$"));a.cdecl(f,"CommentBlockRx",/^\/{4,}$/);a.cdecl(f,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(f,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+f.get("CG_BLANK")+"+(\\S.*?)(?:"+f.get("CG_BLANK")+"+\\1)?$"));a.cdecl(f,"SetextSectionTitleRx",new RegExp("^((?=.*"+f.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(f,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(f,"InlineSectionAnchorRx",new RegExp("^(.*?)"+
f.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(f,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,5}|#x[a-fA-F0-9]{2,4});|[^"+f.get("CC_WORD")+"]+?"));a.cdecl(f,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(f,"AnyListRx",new RegExp("^(?:<?\\d+>"+f.get("CG_BLANK")+"+"+f.get("CG_GRAPH")+"|"+f.get("CG_BLANK")+"*(?:-|(?:\\*|\\.|\\u2022){1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+f.get("CG_BLANK")+
"+"+f.get("CG_GRAPH")+"|"+f.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:"+f.get("CG_BLANK")+"+"+f.get("CG_GRAPH")+"|$))"));a.cdecl(f,"UnorderedListRx",new RegExp("^"+f.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"OrderedListRx",new RegExp("^"+f.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+f.get("CG_BLANK")+"+(.*)$"));a.cdecl(f,"OrderedListMarkerRxMap",w(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,
lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.cdecl(f,"DefinitionListRx",new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+f.get("CG_BLANK")+"+(.*))?$"));a.cdecl(f,"DefinitionListSiblingRx",w(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+
"*((?:.*[^:])?)(::::)(?:"+f.get("CG_BLANK")+"+(.*))?$"),";;":new RegExp("^(?!\\/\\/)"+f.get("CG_BLANK")+"*(.*)(;;)(?:"+f.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(f,"CalloutListRx",new RegExp("^<?(\\d+)>"+f.get("CG_BLANK")+"+(.*)"));a.cdecl(f,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(f,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(f,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+
f.get("CC_EOL")+")"));a.cdecl(f,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+f.get("CC_EOL")+")"));a.cdecl(f,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+f.get("CC_EOL")+")");a.cdecl(f,"ListRxMap",w(["ulist","olist","dlist","colist"],{ulist:f.get("UnorderedListRx"),olist:f.get("OrderedListRx"),dlist:f.get("DefinitionListRx"),colist:f.get("CalloutListRx")}));a.cdecl(f,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);
a.cdecl(f,"CellSpecStartRx",new RegExp("^"+f.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(f,"CellSpecEndRx",new RegExp(""+f.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(f,"GenericBlockMacroRx",new RegExp("^("+f.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(f,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);
a.cdecl(f,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(f,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+f.get("CC_ALPHA")+":_]["+f.get("CC_WORD")+":.-]*)(?:,"+f.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(f,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+f.get("CC_WORD")+":]["+f.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(f,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+f.get("CG_WORD")+"["+f.get("CC_WORD")+".%+-]*@"+f.get("CG_ALNUM")+"["+f.get("CC_ALNUM")+
".-]*\\."+f.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(f,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(f,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(f,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+f.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(f,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(f,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+
f.get("CG_BLANK")+"*[^\\1])"));a.cdecl(f,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);a.cdecl(f,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(f,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+f.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(f,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+f.get("CG_WORD")+"|"+f.get("CG_WORD")+".*?\\S)\\["+f.get("CG_BLANK")+
"*(.+?)?\\]"));a.cdecl(f,"MenuInlineRx",new RegExp('\\\\?"('+f.get("CG_WORD")+'[^"]*?'+f.get("CG_BLANK")+"*&gt;"+f.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(f,"PassInlineRx",k(!1,["+","`",new RegExp("(^|[^"+f.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\4)(?!"+f.get("CG_WORD")+")")],!0,["`",b,new RegExp("(^|[^`"+f.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+f.get("CC_ALL")+"*?\\S)\\4)(?![`"+f.get("CC_WORD")+"])")]));a.cdecl(f,"PassInlineMacroRx",
new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+f.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+f.get("CC_ALL")+"*?[^\\\\])\\])"));a.cdecl(f,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+f.get("CC_WORD")+'":.\\/]'+f.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+f.get("CC_WORD")+'":.\\/]'+f.get("CC_ALL")+"*?)\\[("+f.get("CC_ALL")+"*?)\\])"));f.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(f,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(f,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(f,
"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(f,"BlankLineRx",new RegExp("^"+f.get("CG_BLANK")+"*\\n"));a.cdecl(f,"DataDelimiterRx",/,|;/);a.cdecl(f,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(f,"DoubleQuotedMultiRx",new RegExp('^("|)('+f.get("CC_ALL")+"*)\\1$"));a.cdecl(f,"TrailingDigitsRx",/\d+$/);a.cdecl(f,"EscapedSpaceRx",new RegExp("\\\\("+f.get("CG_BLANK")+")"));a.cdecl(f,"SpaceDelimiterRx",new RegExp("([^\\\\])"+f.get("CG_BLANK")+"+"));a.cdecl(f,"SubModifierSniffRx",
/[+-]/);a.cdecl(f,"UnicodeCharScanRx",function(){f.get("RUBY_ENGINE")["$=="]("opal");return b}());a.cdecl(f,"UriSniffRx",new RegExp("^"+f.get("CG_ALPHA")+"["+f.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(f,"UriTerminator",/[);:]$/);a.cdecl(f,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(f,"INTRINSIC_ATTRIBUTES",w("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",
endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));E=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+f.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+
f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\*(?!"+f.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+f.get("CC_ALL")+'*?\\S)`"(?!'+f.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)`'(?!"+f.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+f.get("CC_ALL")+
"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)`(?!["+f.get("CC_WORD")+"\"'`])")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+f.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+f.get("CC_ALL")+"*?\\S)_(?!"+f.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+f.get("CC_ALL")+
"+?)##")],["mark","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+f.get("CC_ALL")+"*?\\S)#(?!"+f.get("CG_WORD")+")")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];B=E.$dup();B["$[]="](2,["double","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+f.get("CC_ALL")+"*?\\S)''(?!"+f.get("CG_WORD")+")")]);B["$[]="](3,["single","constrained",new RegExp("(^|[^"+
f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+f.get("CC_ALL")+"*?\\S)'(?!"+f.get("CG_WORD")+")")]);B["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+f.get("CC_ALL")+"+?)\\+\\+")]);B["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+f.get("CC_ALL")+"*?\\S)\\+(?!"+f.get("CG_WORD")+")")]);B.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+f.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+
f.get("CC_ALL")+"*?\\S)'(?!"+f.get("CG_WORD")+")")]);a.cdecl(f,"QUOTE_SUBS",k(!1,E,!0,B));B=E=b;a.cdecl(f,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+f.get("CG_WORD")+")\\\\?--(?="+f.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+f.get("CG_ALNUM")+")\\\\?'(?="+f.get("CG_ALPHA")+")"),
"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]+|#\d{2,5}|#x[a-fA-F0-9]{2,4});)/,"","bounding"]]);(function(c){var d=c.$$scope,f,g,h,k;a.defn(c,"$load",f=function(c,e){var f,g,h,k,l,m,n,q,r,t=this,x=b,v=b,z=b,B=b,D=b,E=b,G=b,I=b,ja=b,ka=b,K=b,P=b,U=b,R=b;null==e&&(e=w([],{}));try{e=e.$dup();(f=x=e["$[]"]("timings"))===b||null==f||f.$$is_boolean&&1!=f||x.$start("read");v=e["$[]="]("attributes",
function(){if((f=(z=e["$[]"]("attributes"))["$!"]())===b||null==f||f.$$is_boolean&&1!=f){if((f=!1!==(g=a.get("Hash")["$==="](z))&&g!==b&&null!=g?g:(h=a.get("RUBY_ENGINE_JRUBY"),!1!==h&&h!==b&&null!=h?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](z):h))===b||null==f||f.$$is_boolean&&1!=f){if((f=a.get("Array")["$==="](z))===b||null==f||f.$$is_boolean&&1!=f){if((f=a.get("String")["$==="](z))===b||null==f||f.$$is_boolean&&1!=f){if((f=(m=z["$respond_to?"]("keys"),!1!==m&&m!==b&&null!=
m?z["$respond_to?"]("[]"):m))===b||null==f||f.$$is_boolean&&1!=f)return t.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+z.$class().$ancestors());D=z;z=w([],{});(f=(m=D.$keys()).$each,f.$$p=(n=function(a){null==a&&(a=b);return z["$[]="](a,D["$[]"](a))},n.$$s=t,n.$$arity=1,n),f).call(m);return z}B="\\1";z=z.$gsub(d.get("SpaceDelimiterRx"),""+B+d.get("NULL")).$gsub(d.get("EscapedSpaceRx"),B);return(f=(h=z.$split(d.get("NULL"))).$inject,f.$$p=(l=function(c,d){var e,f,g=b,h=b;null==
c&&(c=b);null==d&&(d=b);f=d.$split("=",2);e=a.to_ary(f);g=null==e[0]?b:e[0];h=null==e[1]?b:e[1];f;c["$[]="](g,!1!==(e=h)&&e!==b&&null!=e?e:"");return c},l.$$s=t,l.$$arity=2,l),f).call(h,w([],{}))}return(f=(g=z).$inject,f.$$p=(k=function(c,d){var e,f,g=b,h=b;null==c&&(c=b);null==d&&(d=b);f=d.$split("=",2);e=a.to_ary(f);g=null==e[0]?b:e[0];h=null==e[1]?b:e[1];f;c["$[]="](g,!1!==(e=h)&&e!==b&&null!=e?e:"");return c},k.$$s=t,k.$$arity=2,k),f).call(g,w([],{}))}return z.$dup()}return w([],{})}());E=b;if((f=
a.get("File")["$==="](c))===b||null==f||f.$$is_boolean&&1!=f)if((f=c["$respond_to?"]("readlines"))===b||null==f||f.$$is_boolean&&1!=f)(f=a.get("String")["$==="](c))===b||null==f||f.$$is_boolean&&1!=f?(f=a.get("Array")["$==="](c))===b||null==f||f.$$is_boolean&&1!=f?t.$raise(a.get("ArgumentError"),"unsupported input type: "+c.$class()):E=c.$dup():E=c.$lines().$entries();else{try{c.$rewind()}catch(qa){if(a.rescue(qa,[d.get("StandardError")]))try{b}finally{a.pop_exception()}else throw qa;}E=c.$readlines()}else G=
a.get("File").$expand_path(c.$path()),I=c.$mtime(),E=c.$readlines(),v["$[]="]("docfile",G),v["$[]="]("docdir",a.get("File").$dirname(G)),v["$[]="]("docname",d.get("Helpers").$basename(G,!0)),ja=(f="docdate",q=v,!1!==(r=q["$[]"](f))&&r!==b&&null!=r?r:q["$[]="](f,I.$strftime("%Y-%m-%d"))),ka=(f="doctime",q=v,!1!==(r=q["$[]"](f))&&r!==b&&null!=r?r:q["$[]="](f,I.$strftime("%H:%M:%S %Z"))),v["$[]="]("docdatetime",""+ja+" "+ka);!1!==x&&x!==b&&null!=x&&(x.$record("read"),x.$start("parse"));K=e["$[]"]("parse")["$=="](!1)?
d.get("Document").$new(E,e):d.get("Document").$new(E,e).$parse();!1!==x&&x!==b&&null!=x&&x.$record("parse");return K}catch(qa){if(a.rescue(qa,[d.get("StandardError")])){P=qa;try{try{U="asciidoctor: FAILED: "+(!1!==(f=v["$[]"]("docfile"))&&f!==b&&null!=f?f:"<stdin>")+": Failed to load AsciiDoc document",(f=P["$respond_to?"]("exception"))===b||null==f||f.$$is_boolean&&1!=f?(R=P.$class().$new(U,P),f=[P.$stack_trace()],q=R,q["$stack_trace="].apply(q,f),f[f.length-1]):(R=P.$exception(""+U+" - "+P.$message()),
R.$set_backtrace(P.$backtrace()))}catch(ra){if(a.rescue(ra,[d.get("StandardError")]))try{R=P}finally{a.pop_exception()}else throw ra;}return t.$raise(R)}finally{a.pop_exception()}}else throw qa;}},f.$$arity=-2);a.defn(c,"$load_file",g=function(c,d){null==d&&(d=w([],{}));return this.$load(a.get("File").$new(!1!==c&&c!==b&&null!=c?c:""),d)},g.$$arity=-2);a.defn(c,"$convert",h=function(c,f){var g,h,k,m,n,q,r,t=b,x=b,v=b,z=b,B=b,D=b,E=b,G=b,I=b,fa=b,ea=B=b,ja=t=t=G=D=b,ka=D=x=b,K=t=E=z=b,P=v=b;null==
f&&(f=w([],{}));f=f.$dup();f.$delete("parse");t=f.$delete("to_file");x=f.$delete("to_dir");v=!1!==(g=f.$delete("mkdirs"))&&g!==b&&null!=g?g:!1;z=f["$[]"]("timings");B=t;if((!0)["$==="](B)||b["$==="](B))D=(g=x["$!"](),!1!==g&&g!==b&&null!=g?a.get("File")["$==="](c):g),E=!1,G=x,t=b;else if((!1)["$==="](B))G=E=D=!1,t=b;else{if("/dev/null"["$==="](B))return this.$load(c,f);D=!1;E=t["$respond_to?"]("write");G=!1!==E&&E!==b&&null!=E?!1:t}if(((g=f["$key?"]("header_footer"))===b||null==g||g.$$is_boolean&&
1!=g)&&(g=!1!==(h=D)&&h!==b&&null!=h?h:G)!==b&&null!=g&&(!g.$$is_boolean||1==g))f["$[]="]("header_footer",!0);if(!1!==D&&D!==b&&null!=D)I=a.get("File").$expand_path(c.$path()),f["$[]="]("to_dir",fa=a.get("File").$dirname(I));else if(!1!==G&&G!==b&&null!=G)if(!1!==x&&x!==b&&null!=x)if(!1!==t&&t!==b&&null!=t)f["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(x,t))));else f["$[]="]("to_dir",a.get("File").$expand_path(x));else{if(!1!==t&&t!==b&&null!=t)f["$[]="]("to_dir",
a.get("File").$dirname(a.get("File").$expand_path(t)))}else f["$[]="]("to_dir",b);B=this.$load(c,f);if(!1!==D&&D!==b&&null!=D)ea=a.get("File").$join(fa,""+B.$attributes()["$[]"]("docname")+B.$outfilesuffix()),ea["$=="](I)&&this.$raise(a.get("IOError"),"input file and output file cannot be the same: "+ea);else if(!1!==G&&G!==b&&null!=G){if(D=(g=f["$has_key?"]("base_dir"))===b||null==g||g.$$is_boolean&&1!=g?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(f["$[]"]("base_dir")),
G=(g=l(B.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===b||null==g||g.$$is_boolean&&1!=g?b:D,!1!==x&&x!==b&&null!=x?(fa=B.$normalize_system_path(x,D,G,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==t&&t!==b&&null!=t?(ea=B.$normalize_system_path(t,fa,b,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),fa=a.get("File").$dirname(ea)):ea=a.get("File").$join(fa,""+B.$attributes()["$[]"]("docname")+B.$outfilesuffix())):!1!==t&&t!==b&&null!=t&&(ea=B.$normalize_system_path(t,
D,G,w(["target_name","recover"],{target_name:"to_dir",recover:!1})),fa=a.get("File").$dirname(ea)),(g=a.get("File")["$directory?"](fa))===b||null==g||g.$$is_boolean&&1!=g)!1!==v&&v!==b&&null!=v?a.get("FileUtils").$mkdir_p(fa):this.$raise(a.get("IOError"),"target directory does not exist: "+x)}else ea=t,fa=b;!1!==z&&z!==b&&null!=z&&z.$start("convert");t=(g=(h=!1!==ea&&ea!==b&&null!=ea)?E["$!"]():ea)===b||null==g||g.$$is_boolean&&1!=g?w([],{}):w(["outfile","outdir"],{outfile:ea,outdir:fa});t=B.$convert(t);
!1!==z&&z!==b&&null!=z&&z.$record("convert");return!1!==ea&&ea!==b&&null!=ea?(!1!==z&&z!==b&&null!=z&&z.$start("write"),B.$write(t,ea),!1!==z&&z!==b&&null!=z&&z.$record("write"),(g=(h=(k=(m=(n=(q=E["$!"](),!1!==q&&q!==b&&null!=q?e(B.$safe(),d.get("SafeMode").$$scope.get("SECURE")):q),!1!==n&&n!==b&&null!=n?B["$attr?"]("linkcss"):n),!1!==m&&m!==b&&null!=m?B["$attr?"]("copycss"):m),!1!==k&&k!==b&&null!=k?B["$attr?"]("basebackend-html"):k),!1!==h&&h!==b&&null!=h?(k=ja=B.$attr("stylesdir"),!1!==k&&k!==
b&&null!=k?d.get("Helpers")["$uriish?"](ja):k)["$!"]():h))===b||null==g||g.$$is_boolean&&1!=g||(D=x=!1,(g=ka=B.$attr("stylesheet"))===b||null==g||g.$$is_boolean&&1!=g||((g=d.get("DEFAULT_STYLESHEET_KEYS")["$include?"](ka))===b||null==g||g.$$is_boolean&&1!=g?(g=d.get("Helpers")["$uriish?"](ka)["$!"]())===b||null==g||g.$$is_boolean&&1!=g||(D=!0):x=!0),z=(g=B["$attr?"]("source-highlighter","coderay"),!1!==g&&g!==b&&null!=g?B.$attr("coderay-css","class")["$=="]("class"):g),E=(g=B["$attr?"]("source-highlighter",
"pygments"),!1!==g&&g!==b&&null!=g?B.$attr("pygments-css","class")["$=="]("class"):g),(g=!1!==(h=!1!==(k=!1!==(m=x)&&m!==b&&null!=m?m:D)&&k!==b&&null!=k?k:z)&&h!==b&&null!=h?h:E)===b||null==g||g.$$is_boolean&&1!=g||(t=B.$normalize_system_path(ja,fa,(g=l(B.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===b||null==g||g.$$is_boolean&&1!=g?b:fa),!1!==v&&v!==b&&null!=v&&d.get("Helpers").$mkdir_p(t),!1!==x&&x!==b&&null!=x?d.get("Stylesheets").$instance().$write_primary_stylesheet(t):!1!==D&&D!==b&&null!=
D&&(K=(g=(K=B.$attr("copycss"))["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g?B.$normalize_system_path(K):B.$normalize_system_path(ka),v=B.$normalize_system_path(ka,t,(g=l(B.$safe(),d.get("SafeMode").$$scope.get("SAFE")))===b||null==g||g.$$is_boolean&&1!=g?b:fa),((g=!1!==(h=K["$=="](v))&&h!==b&&null!=h?h:(P=B.$read_asset(K))["$nil?"]())===b||null==g||g.$$is_boolean&&1!=g)&&(g=(h=a.get("File")).$open,g.$$p=(r=function(a){null==a&&(a=b);return a.$write(P)},r.$$s=this,r.$$arity=1,r),g).call(h,v,"w")),
!1!==z&&z!==b&&null!=z?d.get("Stylesheets").$instance().$write_coderay_stylesheet(t):!1!==E&&E!==b&&null!=E&&d.get("Stylesheets").$instance().$write_pygments_stylesheet(t,B.$attr("pygments-style")))),B):t},h.$$arity=-2);a.alias(c,"render","convert");a.defn(c,"$convert_file",k=function(c,d){null==d&&(d=w([],{}));return this.$convert(a.get("File").$new(!1!==c&&c!==b&&null!=c?c:""),d)},k.$$arity=-2);return a.alias(c,"render_file","convert_file")})(a.get_singleton_class(c));f.get("RUBY_ENGINE")["$=="]("opal")&&
(c.$require("asciidoctor/version"),c.$require("asciidoctor/timings"))})(a.base);h.$require("asciidoctor/core_ext");h.$require("asciidoctor/helpers");h.$require("asciidoctor/substitutors");h.$require("asciidoctor/abstract_node");h.$require("asciidoctor/abstract_block");h.$require("asciidoctor/attribute_list");h.$require("asciidoctor/block");h.$require("asciidoctor/callouts");h.$require("asciidoctor/converter");(g=a.get("RUBY_ENGINE_OPAL"))===b||null==g||g.$$is_boolean&&1!=g||h.$require("asciidoctor/converter/html5");
h.$require("asciidoctor/document");h.$require("asciidoctor/inline");h.$require("asciidoctor/list");h.$require("asciidoctor/parser");h.$require("asciidoctor/path_resolver");h.$require("asciidoctor/reader");h.$require("asciidoctor/section");h.$require("asciidoctor/stylesheets");return h.$require("asciidoctor/table")})(Opal);
(function(a){function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var g=a.nil,h=a.module,b=a.klass,c=a.hash2,d=a.range,w=a.hash;a.add_stubs("$[]= $config $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $is_a? $has_more_lines? $next_block $<< $each $define_method $send $insert $dup $call $attr_accessor $[] $option $=== $to_set $flatten $resolve_regexp $== $attr $method $register $arity $instance_exec $to_proc $activate $+ $values $groups $add_document_processor $! $find $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $upcase $chr $split $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $- $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));
return function(v){(function(k){k=h(k,"Extensions");var n=k.$$scope;(function(d,$super){function e(){}var h=e=b(d,$super,"Processor",e),k=h.$$scope,l,n,q,v,w,z,I,J,F,y;h.$$proto.config=g;(function(b){var d,e,f;a.defn(b,"$config",d=function(){var a;null==this.config&&(this.config=g);return!1!==(a=this.config)&&a!==g&&null!=a?a:this.config=c([],{})},d.$$arity=0);a.defn(b,"$option",e=function(a,b){return this.$config()["$[]="](a,b)},e.$$arity=2);a.defn(b,"$use_dsl",f=function(){var a;return(a=this.$name()["$nil_or_empty?"]())===
g||null==a||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===g||null==a||a.$$is_boolean&&1!=a?g:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===g||null==a||a.$$is_boolean&&1!=a?g:this.$include(this.$const_get("DSL"))},f.$$arity=0);a.alias(b,"extend_dsl","use_dsl");return a.alias(b,"include_dsl","use_dsl")})(a.get_singleton_class(h));h.$attr_reader("config");a.defn(h,"$initialize",l=function(a){null==a&&(a=c([],{}));return this.config=this.$class().$config().$merge(a)},
l.$$arity=-1);a.defn(h,"$update_config",n=function(a){return this.config.$update(a)},n.$$arity=1);a.defn(h,"$process",q=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$raise(a.get("NotImplementedError"))},q.$$arity=-1);a.defn(h,"$create_block",v=function(a,b,d,e,f){null==f&&(f=c([],{}));return k.get("Block").$new(a,b,c(["source","attributes"],{source:d,attributes:e}).$merge(f))},v.$$arity=-5);a.defn(h,"$create_image_block",w=function(a,
b,d){null==d&&(d=c([],{}));return this.$create_block(a,"image",g,b,d)},w.$$arity=-3);a.defn(h,"$create_inline",z=function(a,b,d,e){null==e&&(e=c([],{}));return k.get("Inline").$new(a,b,d,e)},z.$$arity=-4);a.defn(h,"$parse_content",I=function(a,b,d){var e,f,h=g,l=g;null==d&&(d=c([],{}));for(h=(e=b["$is_a?"](k.get("Reader")))===g||null==e||e.$$is_boolean&&1!=e?k.get("Reader").$new(b):b;(f=h["$has_more_lines?"]())!==g&&null!=f&&(!f.$$is_boolean||1==f);)if(l=k.get("Parser").$next_block(h,a,d),!1!==l&&
l!==g&&null!=l)a["$<<"](l);return g},I.$$arity=-3);return(J=(F=[["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]]).$each,J.$$p=(y=function(b,c,d){var e=y.$$s||this,f,h;null==b&&(b=g);null==c&&(c=g);null==d&&(d=g);return(f=
e.$define_method,f.$$p=(h=function(b){var e=h.$$s||this,f,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var k=0;k<g;k++)f[k-0]=arguments[k];return e.$send.apply(e,[c].concat(a.to_a(f.$dup().$insert(1,d))))},h.$$s=e,h.$$arity=-1,h),f).call(e,b)},y.$$s=h,y.$$arity=3,y),J).call(F)})(n.base,null);(function(b){b=h(b,"ProcessorDsl");var c,d,e;a.defn(b,"$option",c=function(a,b){return this.$config()["$[]="](a,b)},c.$$arity=2);a.defn(b,"$process",d=function(b){var c,e,f=d.$$p||g;null==this.process_block&&
(this.process_block=g);var h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var k=0;k<h;k++)e[k-0]=arguments[k];d.$$p=null;return f!==g?this.process_block=f:(c=this.process_block)===g||null==c||c.$$is_boolean&&1!=c?this.$raise(a.get("NotImplementedError")):(c=this.process_block).$call.apply(c,a.to_a(e))},d.$$arity=-1);a.defn(b,"$process_block_given?",e=function(){var a;return(a=this.process_block,null!=a&&a!==g)?"instance-variable":g},e.$$arity=0)})(n.base);(function(c,$super){function d(){}var e=
d=b(c,$super,"Preprocessor",d),h;return(a.defn(e,"$process",h=function(b,c){return this.$raise(a.get("NotImplementedError"))},h.$$arity=2),g)&&"process"})(n.base,n.get("Processor"));a.casgn(n.get("Preprocessor"),"DSL",n.get("ProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"Treeprocessor",d),h;return(a.defn(e,"$process",h=function(b){return this.$raise(a.get("NotImplementedError"))},h.$$arity=1),g)&&"process"})(n.base,n.get("Processor"));a.casgn(n.get("Treeprocessor"),"DSL",n.get("ProcessorDsl"));
(function(c,$super){function d(){}var e=d=b(c,$super,"Postprocessor",d),h;return(a.defn(e,"$process",h=function(b,c){return this.$raise(a.get("NotImplementedError"))},h.$$arity=2),g)&&"process"})(n.base,n.get("Processor"));a.casgn(n.get("Postprocessor"),"DSL",n.get("ProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"IncludeProcessor",d),h,k;a.defn(e,"$process",h=function(b,c,d,e){return this.$raise(a.get("NotImplementedError"))},h.$$arity=4);return(a.defn(e,"$handles?",k=function(a){return!0},
k.$$arity=1),g)&&"handles?"})(n.base,n.get("Processor"));a.casgn(n.get("IncludeProcessor"),"DSL",n.get("ProcessorDsl"));(function(d,$super){function e(){}var h=e=b(d,$super,"DocinfoProcessor",e),k,l;h.$$proto.config=g;h.$attr_accessor("location");a.defn(h,"$initialize",k=function(b){var d,e,f;null==b&&(b=c([],{}));k.$$p=null;(d=a.find_super_dispatcher(this,"initialize",k,!1),d.$$p=null,d).call(this,b);return d="location",e=this.config,!1!==(f=e["$[]"](d))&&f!==g&&null!=f?f:e["$[]="](d,"head")},k.$$arity=
-1);return(a.defn(h,"$process",l=function(b){return this.$raise(a.get("NotImplementedError"))},l.$$arity=1),g)&&"process"})(n.base,n.get("Processor"));(function(b){b=h(b,"DocinfoProcessorDsl");var c;b.$include(b.$$scope.get("ProcessorDsl"));a.defn(b,"$at_location",c=function(a){return this.$option("location",a)},c.$$arity=1)})(n.base);a.casgn(n.get("DocinfoProcessor"),"DSL",n.get("DocinfoProcessorDsl"));(function(d,$super){function e(){}var h=e=b(d,$super,"BlockProcessor",e),k,l;h.$$proto.config=
g;h.$attr_accessor("name");a.defn(h,"$initialize",k=function(b,d){var e,f,h,l=g;null==b&&(b=g);null==d&&(d=c([],{}));k.$$p=null;(e=a.find_super_dispatcher(this,"initialize",k,!1),e.$$p=null,e).call(this,d);this.name=!1!==(e=b)&&e!==g&&null!=e?e:this.config["$[]"]("name");l=this.config["$[]"]("contexts");if(a.get("NilClass")["$==="](l))e="contexts",f=this.config,!1!==(h=f["$[]"](e))&&h!==g&&null!=h?h:f["$[]="](e,["open","paragraph"].$to_set());else if(a.get("Symbol")["$==="](l))this.config["$[]="]("contexts",
[this.config["$[]"]("contexts")].$to_set());else this.config["$[]="]("contexts",this.config["$[]"]("contexts").$to_set());return e="content_model",f=this.config,!1!==(h=f["$[]"](e))&&h!==g&&null!=h?h:f["$[]="](e,"compound")},k.$$arity=-1);return(a.defn(h,"$process",l=function(b,c,d){return this.$raise(a.get("NotImplementedError"))},l.$$arity=3),g)&&"process"})(n.base,n.get("Processor"));(function(b){b=h(b,"BlockProcessorDsl");var c=b.$$scope,d,e,k,l,n;b.$include(c.get("ProcessorDsl"));a.defn(b,"$named",
d=function(a){var b;return(b=this["$is_a?"](c.get("Processor")))===g||null==b||b.$$is_boolean&&1!=b?this.$option("name",a):this.name=a},d.$$arity=1);a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$contexts",e=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten())},e.$$arity=-1);a.alias(b,"on_contexts","contexts");a.alias(b,"on_context","contexts");a.defn(b,"$content_model",k=function(a){return this.$option("content_model",
a)},k.$$arity=1);a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",l=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},l.$$arity=-1);a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes","positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",n=function(a){return this.$option("default_attrs",
a)},n.$$arity=1);a.alias(b,"seed_attributes_with","default_attrs")})(n.base);a.casgn(n.get("BlockProcessor"),"DSL",n.get("BlockProcessorDsl"));(function(d,$super){function e(){}var h=e=b(d,$super,"MacroProcessor",e),k,l;h.$$proto.config=g;h.$attr_accessor("name");a.defn(h,"$initialize",k=function(b,d){var e,f,h;null==b&&(b=g);null==d&&(d=c([],{}));k.$$p=null;(e=a.find_super_dispatcher(this,"initialize",k,!1),e.$$p=null,e).call(this,d);this.name=!1!==(e=b)&&e!==g&&null!=e?e:this.config["$[]"]("name");
return e="content_model",f=this.config,!1!==(h=f["$[]"](e))&&h!==g&&null!=h?h:f["$[]="](e,"attributes")},k.$$arity=-1);return(a.defn(h,"$process",l=function(b,c,d){return this.$raise(a.get("NotImplementedError"))},l.$$arity=3),g)&&"process"})(n.base,n.get("Processor"));(function(b){b=h(b,"MacroProcessorDsl");var c=b.$$scope,d,e,k,l;b.$include(c.get("ProcessorDsl"));a.defn(b,"$named",d=function(a){var b;return(b=this["$is_a?"](c.get("Processor")))===g||null==b||b.$$is_boolean&&1!=b?this.$option("name",
a):this.name=a},d.$$arity=1);a.alias(b,"match_name","named");a.alias(b,"bind_to","named");a.defn(b,"$content_model",e=function(a){return this.$option("content_model",a)},e.$$arity=1);a.alias(b,"parse_content_as","content_model");a.defn(b,"$positional_attributes",k=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},k.$$arity=-1);a.alias(b,"pos_attrs","positional_attributes");a.alias(b,"name_attributes",
"positional_attributes");a.alias(b,"name_positional_attributes","positional_attributes");a.defn(b,"$default_attrs",l=function(a){return this.$option("default_attrs",a)},l.$$arity=1);a.alias(b,"seed_attributes_with","default_attrs")})(n.base);(function(a,$super){function c(){}c=b(a,$super,"BlockMacroProcessor",c);return g})(n.base,n.get("MacroProcessor"));a.casgn(n.get("BlockMacroProcessor"),"DSL",n.get("MacroProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"InlineMacroProcessor",
d),h=e.$$proto,k,l;h.config=h.name=g;a.defn(e,"$regexp",k=function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==g&&null!=b?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))},k.$$arity=0);return(a.defn(e,"$resolve_regexp",l=function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},l.$$arity=2),g)&&"resolve_regexp"})(n.base,n.get("MacroProcessor"));(function(b){b=
h(b,"InlineMacroProcessorDsl");var c,d;b.$include(b.$$scope.get("MacroProcessorDsl"));a.defn(b,"$using_format",c=function(a){return this.$option("format",a)},c.$$arity=1);a.defn(b,"$match",d=function(a){return this.$option("regexp",a)},d.$$arity=1)})(n.base);a.casgn(n.get("InlineMacroProcessor"),"DSL",n.get("InlineMacroProcessorDsl"));(function(c,$super){function d(){}var e=d=b(c,$super,"Extension",d),h;e.$attr("kind");e.$attr("config");e.$attr("instance");return(a.defn(e,"$initialize",h=function(a,
b,c){this.kind=a;this.instance=b;return this.config=c},h.$$arity=3),g)&&"initialize"})(n.base,null);(function(c,$super){function d(){}var e=d=b(c,$super,"ProcessorExtension",d),h;e.$attr("process_method");return(a.defn(e,"$initialize",h=function(b,c,d){var e;null==d&&(d=g);h.$$p=null;(e=a.find_super_dispatcher(this,"initialize",h,!1),e.$$p=null,e).call(this,b,c,c.$config());return this.process_method=!1!==(e=d)&&e!==g&&null!=e?e:c.$method("process")},h.$$arity=-3),g)&&"initialize"})(n.base,n.get("Extension"));
(function(c,$super){function d(){}var e=d=b(c,$super,"Group",d),h;(function(b){var c=b.$$scope,d;return(a.defn(b,"$register",d=function(a){null==a&&(a=g);return c.get("Extensions").$register(a,this)},d.$$arity=-1),g)&&"register"})(a.get_singleton_class(e));return(a.defn(e,"$activate",h=function(b){return this.$raise(a.get("NotImplementedError"))},h.$$arity=1),g)&&"activate"})(n.base,null);(function(f,$super){function h(){}var k=h=b(f,$super,"Registry",h),n=k.$$proto,v=k.$$scope,t,u,w,G,z,I,J,F,y,
M,N,Q,V,T,Y,S,A,W,aa,ga,Z,ia,ha,la,fa,ea,ja,ka,K,P,U,R,qa,ra;n.groups=n.preprocessor_extensions=n.treeprocessor_extensions=n.postprocessor_extensions=n.include_processor_extensions=n.docinfo_processor_extensions=n.block_extensions=n.block_macro_extensions=n.inline_macro_extensions=g;k.$attr_reader("document");k.$attr_reader("groups");a.defn(k,"$initialize",t=function(a){null==a&&(a=c([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=
this.preprocessor_extensions=this.treeprocessor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=g},t.$$arity=-1);a.defn(k,"$activate",u=function(b){var c,d,e;this.document=b;(c=(d=l(v.get("Extensions").$groups().$values(),this.groups.$values())).$each,c.$$p=(e=function(b){var c=e.$$s||this,d,f=g;null==b&&(b=g);f=b;a.get("Proc")["$==="](f)?(f=b.$arity(),b=0["$==="](f)||-1["$==="](f)?(d=c.$instance_exec,d.$$p=b.$to_proc(),d).call(c):1["$==="](f)?
b.$call(c):g):b=a.get("Class")["$==="](f)?b.$new().$activate(c):b.$activate(c);return b},e.$$s=this,e.$$arity=1,e),c).call(d);return this},u.$$arity=1);a.defn(k,"$preprocessor",w=function(a){var b,c,d=w.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];w.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"preprocessor",c)},w.$$arity=-1);a.defn(k,"$preprocessors?",G=function(){return this.preprocessor_extensions["$!"]()["$!"]()},
G.$$arity=0);a.defn(k,"$preprocessors",z=function(){return this.preprocessor_extensions},z.$$arity=0);a.defn(k,"$treeprocessor",I=function(a){var b,c,d=I.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];I.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"treeprocessor",c)},I.$$arity=-1);a.defn(k,"$treeprocessors?",J=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},J.$$arity=0);a.defn(k,"$treeprocessors",F=function(){return this.treeprocessor_extensions},
F.$$arity=0);a.defn(k,"$postprocessor",y=function(a){var b,c,d=y.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];y.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"postprocessor",c)},y.$$arity=-1);a.defn(k,"$postprocessors?",M=function(){return this.postprocessor_extensions["$!"]()["$!"]()},M.$$arity=0);a.defn(k,"$postprocessors",N=function(){return this.postprocessor_extensions},N.$$arity=0);a.defn(k,"$include_processor",
Q=function(a){var b,c,d=Q.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];Q.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"include_processor",c)},Q.$$arity=-1);a.defn(k,"$include_processors?",V=function(){return this.include_processor_extensions["$!"]()["$!"]()},V.$$arity=0);a.defn(k,"$include_processors",T=function(){return this.include_processor_extensions},T.$$arity=0);a.defn(k,"$docinfo_processor",Y=function(a){var b,
c,d=Y.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];Y.$$p=null;return(b=this.$add_document_processor,b.$$p=d.$to_proc(),b).call(this,"docinfo_processor",c)},Y.$$arity=-1);a.defn(k,"$docinfo_processors?",S=function(a){var b,c,d;null==a&&(a=g);return(b=this.docinfo_processor_extensions)===g||null==b||b.$$is_boolean&&1!=b?!1:!1!==a&&a!==g&&null!=a?(b=(c=this.docinfo_processor_extensions).$find,b.$$p=(d=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},
d.$$s=this,d.$$arity=1,d),b).call(c):!0},S.$$arity=-1);a.defn(k,"$docinfo_processors",A=function(a){var b,c,d;null==a&&(a=g);return(b=this.docinfo_processor_extensions)===g||null==b||b.$$is_boolean&&1!=b?g:!1!==a&&a!==g&&null!=a?(b=(c=this.docinfo_processor_extensions).$select,b.$$p=(d=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d.$$arity=1,d),b).call(c):this.docinfo_processor_extensions},A.$$arity=-1);a.defn(k,"$block",W=function(a){var b,c,d=W.$$p||g,e=
arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];W.$$p=null;return(b=this.$add_syntax_processor,b.$$p=d.$to_proc(),b).call(this,"block",c)},W.$$arity=-1);a.defn(k,"$blocks?",aa=function(){return this.block_extensions["$!"]()["$!"]()},aa.$$arity=0);a.defn(k,"$registered_for_block?",ga=function(a,b){var c,d=g;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===g||null==c||c.$$is_boolean&&1!=c?!1:(c=d.$config()["$[]"]("contexts")["$include?"](b))===g||null==c||
c.$$is_boolean&&1!=c?!1:d},ga.$$arity=2);a.defn(k,"$find_block_extension",Z=function(a){return this.block_extensions["$[]"](a.$to_sym())},Z.$$arity=1);a.defn(k,"$block_macro",ia=function(a){var b,c,d=ia.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];ia.$$p=null;return(b=this.$add_syntax_processor,b.$$p=d.$to_proc(),b).call(this,"block_macro",c)},ia.$$arity=-1);a.defn(k,"$block_macros?",ha=function(){return this.block_macro_extensions["$!"]()["$!"]()},
ha.$$arity=0);a.defn(k,"$registered_for_block_macro?",la=function(a){var b,c=g;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===g||null==b||b.$$is_boolean&&1!=b?!1:c},la.$$arity=1);a.defn(k,"$find_block_macro_extension",fa=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},fa.$$arity=1);a.defn(k,"$inline_macro",ea=function(a){var b,c,d=ea.$$p||g,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];ea.$$p=null;return(b=this.$add_syntax_processor,
b.$$p=d.$to_proc(),b).call(this,"inline_macro",c)},ea.$$arity=-1);a.defn(k,"$inline_macros?",ja=function(){return this.inline_macro_extensions["$!"]()["$!"]()},ja.$$arity=0);a.defn(k,"$registered_for_inline_macro?",ka=function(a){var b,c=g;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===g||null==b||b.$$is_boolean&&1!=b?!1:c},ka.$$arity=1);a.defn(k,"$find_inline_macro_extension",K=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},K.$$arity=1);a.defn(k,"$inline_macros",
P=function(){return this.inline_macro_extensions.$values()},P.$$arity=0);k.$private();a.defn(k,"$add_document_processor",U=function(b,c){var e,f,h,k,l,n,p=this,r=U.$$p||g,t=g,u=g,w=g,x=g,y=u=g,z=g,A=g,D=g;U.$$p=null;t=b.$to_s().$tr("_"," ");u=(e=(f=t.$split(" ")).$map,e.$$p=(h=function(a){null==a&&(a=g);return""+a.$chr().$upcase()+a["$[]"](d(1,-1,!1))},h.$$s=p,h.$$arity=1,h),e).call(f).$join().$to_sym();w=v.get("Extensions").$const_get(u);x=(e=null==a.Object.$$scope.AsciidoctorJ?g:"constant")===g||
null==e||e.$$is_boolean&&1!=e?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(u);u=!1!==(e=p.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&e!==g&&null!=e?e:p.$instance_variable_set(("@"+b+"_extensions").$to_sym(),[]);y=function(){if(r!==g)return z=p.$resolve_args(c,1),A=w.$new(z),(e=w.$constants().$grep("DSL"))===g||null==e||e.$$is_boolean&&1!=e||A.$extend(w.$const_get("DSL")),(e=(k=A).$instance_exec,e.$$p=r.$to_proc(),e).call(k),A.$freeze(),((e=A["$process_block_given?"]())===
g||null==e||e.$$is_boolean&&1!=e)&&p.$raise(a.get("ArgumentError").$new("No block specified to process "+t+" extension at "+r.$source_location())),v.get("ProcessorExtension").$new(b,A);l=p.$resolve_args(c,2);e=a.to_ary(l);A=null==e[0]?g:e[0];z=null==e[1]?g:e[1];l;if((e=!1!==(l=A["$is_a?"](a.get("Class")))&&l!==g&&null!=l?l:(n=A["$is_a?"](a.get("String")),!1!==n&&n!==g&&null!=n?A=v.get("Extensions").$class_for_name(A):n))===g||null==e||e.$$is_boolean&&1!=e){if((e=!1!==(l=A["$is_a?"](w))&&l!==g&&null!=
l?l:(n=!1!==x&&x!==g&&null!=x)?A["$is_a?"](x):x)===g||null==e||e.$$is_boolean&&1!=e)return p.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+t+" extension: "+c));A.$update_config(z);A.$freeze();return v.get("ProcessorExtension").$new(b,A)}((e=!1!==(l=q(A,w))&&l!==g&&null!=l?l:(n=!1!==x&&x!==g&&null!=x)?q(A,x):x)===g||null==e||e.$$is_boolean&&1!=e)&&p.$raise(a.get("ArgumentError").$new("Invalid type for "+t+" extension: "+A));D=A.$new(z);D.$freeze();return v.get("ProcessorExtension").$new(b,
D)}();return y.$config()["$[]"]("position")["$=="](">>")?u.$unshift(y):u["$<<"](y)},U.$$arity=2);a.defn(k,"$add_syntax_processor",R=function(b,e){var f,h,k,l,n;n=R.$$p||g;var r=g,p=g,t=g,u=p=g,w=t=g,x=g,y=g,p=g;R.$$p=null;r=b.$to_s().$tr("_"," ");p=(f=(h=r.$split(" ")).$map,f.$$p=(k=function(a){null==a&&(a=g);return""+a.$chr().$upcase()+a["$[]"](d(1,-1,!1))},k.$$s=this,k.$$arity=1,k),f).call(h).$join();t=(""+p+"Processor").$to_sym();p=v.get("Extensions").$const_get(t);u=(f=null==a.Object.$$scope.AsciidoctorJ?
g:"constant")===g||null==f||f.$$is_boolean&&1!=f?g:a.get("AsciidoctorJ").$$scope.get("Extensions").$const_get(t);t=!1!==(f=this.$instance_variable_get(("@"+b+"_extensions").$to_sym()))&&f!==g&&null!=f?f:this.$instance_variable_set(("@"+b+"_extensions").$to_sym(),c([],{}));if(n!==g)return l=this.$resolve_args(e,2),f=a.to_ary(l),w=null==f[0]?g:f[0],x=null==f[1]?g:f[1],l,y=p.$new(this.$as_symbol(w),x),(f=p.$constants().$grep("DSL"))===g||null==f||f.$$is_boolean&&1!=f||y.$extend(p.$const_get("DSL")),
n.$arity()["$=="](1)?a.yield1(n,y):(f=(l=y).$instance_exec,f.$$p=n.$to_proc(),f).call(l),((f=w=this.$as_symbol(y.$name()))===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension at "+n.$source_location())),((f=y["$process_block_given?"]())===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("NoMethodError").$new("No block specified to process "+r+" extension at "+n.$source_location())),y.$freeze(),t["$[]="](w,v.get("ProcessorExtension").$new(b,
y));n=this.$resolve_args(e,3);f=a.to_ary(n);y=null==f[0]?g:f[0];w=null==f[1]?g:f[1];x=null==f[2]?g:f[2];n;if((f=!1!==(n=y["$is_a?"](a.get("Class")))&&n!==g&&null!=n?n:(l=y["$is_a?"](a.get("String")),!1!==l&&l!==g&&null!=l?y=v.get("Extensions").$class_for_name(y):l))===g||null==f||f.$$is_boolean&&1!=f){if((f=!1!==(n=y["$is_a?"](p))&&n!==g&&null!=n?n:(l=!1!==u&&u!==g&&null!=u)?y["$is_a?"](u):u)===g||null==f||f.$$is_boolean&&1!=f)return this.$raise(a.get("ArgumentError").$new("Invalid arguments specified for registering "+
r+" extension: "+e));y.$update_config(x);((f=w=!1!==w&&w!==g&&null!=w?(n=[this.$as_symbol(w)],l=y,l["$name="].apply(l,n),n[n.length-1]):this.$as_symbol(y.$name()))===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+y));y.$freeze();return t["$[]="](w,v.get("ProcessorExtension").$new(b,y))}((f=!1!==(n=q(y,p))&&n!==g&&null!=n?n:(l=!1!==u&&u!==g&&null!=u)?q(y,u):u)===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("ArgumentError").$new("Class specified for "+
r+" extension does not inherit from "+p+": "+y));p=y.$new(this.$as_symbol(w),x);((f=w=this.$as_symbol(p.$name()))===g||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.get("ArgumentError").$new("No name specified for "+r+" extension: "+y));y.$freeze();return t["$[]="](w,v.get("ProcessorExtension").$new(b,p))},R.$$arity=2);a.defn(k,"$resolve_args",qa=function(b,d){var f,h=g,k=g,l=g,h=(f=b["$[]"](-1)["$is_a?"](a.get("Hash")))===g||null==f||f.$$is_boolean&&1!=f?c([],{}):b.$pop();if(d["$=="](1))return h;
var k=b.$size(),n=l=e(e(d,1),k);(f="number"===typeof n?0<n:n["$>"](0))===g||null==f||f.$$is_boolean&&1!=f?(f=q(l,0))===g||null==f||f.$$is_boolean&&1!=f||b.$pop(l["$-@"]()):b.$fill(g,k,l);b["$<<"](h);return b},qa.$$arity=2);return(a.defn(k,"$as_symbol",ra=function(b){var c;return!1!==b&&b!==g&&null!=b?(c=b["$is_a?"](a.get("Symbol")))===g||null==c||c.$$is_boolean&&1!=c?b.$to_sym():b:g},ra.$$arity=1),g)&&"as_symbol"})(n.base,null);(function(b){var d=b.$$scope,e,h,k,n,q,u,v,G;a.defn(b,"$generate_name",
e=function(){return"extgrp"+this.$next_auto_id()},e.$$arity=0);a.defn(b,"$next_auto_id",h=function(){var a;null==this.auto_id&&(this.auto_id=g);!1!==(a=this.auto_id)&&a!==g&&null!=a?a:this.auto_id=-1;return this.auto_id=l(this.auto_id,1)},h.$$arity=0);a.defn(b,"$groups",k=function(){var a;null==this.groups&&(this.groups=g);return!1!==(a=this.groups)&&a!==g&&null!=a?a:this.groups=c([],{})},k.$$arity=0);a.defn(b,"$build_registry",n=function(a){var b,c=n.$$p||g;null==a&&(a=g);n.$$p=null;return c!==g?
(!1!==(b=a)&&b!==g&&null!=b?b:a=this.$generate_name(),d.get("Registry").$new(w(a,c))):d.get("Registry").$new()},n.$$arity=-1);a.defn(b,"$register",q=function(b){var c,d,e=q.$$p||g,f=g,h=g,k=h=g,k=g,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(h=0;h<f;h++)d[h-0]=arguments[h];q.$$p=null;f=d.$length();e===g&&((c=(h=d.$pop())["$!"]())===g||null==c||c.$$is_boolean&&1!=c?(k=h,e=a.get("Class")["$==="](k)?h:a.get("String")["$==="](k)?this.$class_for_name(h):a.get("Symbol")["$==="](k)?this.$class_for_name(h.$to_s()):
h):e=this.$raise(a.get("ArgumentError").$new("Extension group to register not specified")));h=e;k=!1!==(c=d.$pop())&&c!==g&&null!=c?c:this.$generate_name();((c=d["$empty?"]())===g||null==c||c.$$is_boolean&&1!=c)&&this.$raise(a.get("ArgumentError").$new("Wrong number of arguments ("+f+" for 1..2)"));return this.$groups()["$[]="](k,h)},q.$$arity=-1);a.defn(b,"$unregister_all",u=function(){return this.groups=c([],{})},u.$$arity=0);a.defn(b,"$resolve_class",v=function(b){var c;return(c=b["$is_a?"](a.get("Class")))===
g||null==c||c.$$is_boolean&&1!=c?this.$class_for_name(b.$to_s()):b},v.$$arity=1);return(a.defn(b,"$class_for_name",G=function(b){var c,d,e,f=g,f=a.get("Object");(c=(d=b.$split("::")).$each,c.$$p=(e=function(a){var c=e.$$s||this,d;null==a&&(a=g);return(d=a["$empty?"]())===g||null==d||d.$$is_boolean&&1!=d?(d=f["$const_defined?"](a))===g||null==d||d.$$is_boolean&&1!=d?c.$raise("Could not resolve class for name: "+b):f=f.$const_get(a):g},e.$$s=this,e.$$arity=1,e),c).call(d);return f},G.$$arity=1),g)&&
"class_for_name"})(a.get_singleton_class(k))})(h(v,"Asciidoctor").$$scope.base)}(a.base)})(Opal);
