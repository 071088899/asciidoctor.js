"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
if("undefined"===typeof Opal){var GLOBAL_COUNTER={};(function(c){function w(){}function y(){}function B(){}function l(){}function a(){}function g(a,c){var d,e,g=c.$instance_methods();for(d=g.length-1;0<=d;d--)e="$"+g[d],b.bridge_method(a,c,e,c.$$proto[e])}var h=this,t;"undefined"!==typeof global&&(h=global);"undefined"!==typeof window&&(h=window);t="object"===typeof h.console?h.console:null==h.console?h.console={}:{};"log"in t||(t.log=function(){});"warn"in t||(t.warn=t.log);if("undefined"!==typeof this.Opal)return t.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),
this.Opal;var k,e,d,f,p,b=this.Opal={},n={},x=function(){};x.prototype=b;b.constructor=x;b.constants=[];b.global=h;h.Opal=b;b.config={missing_require_severity:"error",unsupported_features_severity:"warning"};var q=b.hasOwnProperty;b.slice=Array.prototype.slice;var C=4;b.uid=function(){return C+=2};b.id=function(a){return a.$$id||(a.$$id=b.uid())};b.cvars={};b.gvars={};b.exit=function(a){b.gvars.DEBUG&&t.log("Exited with status "+a)};b.exceptions=[];b.pop_exception=function(){b.gvars["!"]=b.exceptions.pop()||
k};b.get=function(a){return b.const_get([this],a,!0,!0)};b.counter_count=function(a){"undefined"===typeof GLOBAL_COUNTER[a]&&(GLOBAL_COUNTER[a]=0);GLOBAL_COUNTER[a]+=1};b.const_get=function(a,c,d,e){var g;a:{g=d;for(var f=a.length,k=a[f-1],h,l,f=f-1;0<=f;f--){var q=a[f];q.$$is_singleton?(h=q.$$scope,g=q===k?!0:!1):h=q;h.hasOwnProperty(c)&&(l=h[c]);if(null!=l){g=l;break a}b:{l=c;q=[h];h=h.base;if(g||h==b.Object)for(h=h.$$super;h!==b.BasicObject&&h!==b.Object;)q.push(h.$$scope),h=h.$$super;h=0;for(var t=
q.length;h<t;h++)if(q[h].hasOwnProperty(l)){l=q[h][l];break b}l=void 0}if(null!=l){g=l;break a}}g=void 0}if(null!=g)return g;d&&(d=b.Object.$$scope,g=d.hasOwnProperty(c)?d[c]:void 0);if(null!=g)return g;if(e&&(a=a[a.length-1].base,a.$$is_a_module))return a.$const_missing(c)};b.create_scope=function(a,c,d){var e=function(){},g=e.prototype=new a.constructor;c.$$scope=g;c.$$base_module=a.base;g.base=c;g.constructor=e;g.constants=[];d&&(b.cdecl(a,d,c),e.displayName=d+"_scope_alloc")};b.casgn=function(a,
c,e){function g(a,c){a.$$name=c;for(c in a.$$scope){var b=a.$$scope[c];b.$$name===k&&(b.$$is_class||b.$$is_module)&&g(b,c)}}var f=a.$$scope;if(e.$$is_class||e.$$is_module){if(e.$$is_class||e.$$base_module===d)e.$$base_module=a;e.$$name===k&&e.$$base_module.$$name!==k&&g(e,c)}f.constants.push(c);f[c]=e;if(a.$$is_module&&a.$$included_in)for(f=0;f<a.$$included_in.length;f++)b.casgn(a.$$included_in[f],c,e);return e};b.cdecl=function(a,c,b){(b.$$is_class||b.$$is_module)&&null==b.$$orig_scope&&(b.$$name=
c,b.$$orig_scope=a,b.$$base_module=a.base,a.constructor[c]=b);a.constants.push(c);return a[c]=b};b.klass=function(a,c,g,f){var k,h;a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof c&&(h=c,c=d);if((k=a.$$scope[g])&&k.$$orig_scope===a.$$scope){if(!k.$$is_class)throw b.TypeError.$new(g+" is not a class");if(c&&k.$$super!==c)throw b.TypeError.$new("superclass mismatch for class "+g);return k}null==c&&(c=d);f=h||b.boot_class_alloc(g,f,c);k=b.setup_class_object(g,f,c.$$name,c.constructor);
k.$$super=c;k.$$parent=c;b.create_scope(a.$$scope,k,g);a[g]=k;h?b.bridge(k,f):(c!==d&&c!==e&&b.donate_constants(c,k),c.$inherited&&c.$inherited(k));return k};b.boot_class_alloc=function(a,c,b){if(b){var d=function(){};d.prototype=b.$$proto||b.prototype;c.prototype=new d}a&&(c.displayName=a+"_alloc");return c.prototype.constructor=c};b.setup_module_or_class=function(a){a.$$id=b.uid();a.$$is_a_module=!0;a.$$inc=[];a.$$name=k;a.$$cvars=Object.create(null)};b.setup_class_object=function(a,c,d,e){var g=
function(){};g.prototype=e.prototype;g.displayName=d;d=function(){};d.prototype=new g;g=new d;b.setup_module_or_class(g);g.$$alloc=c;g.$$name=a||k;d.displayName="#<Class:"+(a||"#<Class:"+g.$$id+">")+">";g.$$proto=c.prototype;g.$$proto.$$class=g;g.constructor=d;g.$$is_class=!0;g.$$class=p;return g};b.module=function(a,c){var e;a.$$is_class||a.$$is_module||(a=a.$$class);if(q.call(a.$$scope,c)){if(e=a.$$scope[c],!e.$$is_module&&e!==d)throw b.TypeError.$new(c+" is not a module");}else e=b.module_allocate(f),
b.create_scope(a.$$scope,e,c);return e};b.module_initialize=function(a,c){if(c!==k){var b=c.$$s;c.$$s=null;c.call(a);c.$$s=b}return k};b.module_allocate=function(a){function c(){}var d=function(){};d.prototype=a.$$alloc.prototype;c.prototype=new d;d=new c;b.setup_module_or_class(d);d.$$included_in=[];c.displayName="#<Class:#<Module:"+d.$$id+">>";d.$$proto={};d.constructor=c;d.$$is_module=!0;d.$$class=f;d.$$super=a;d.$$parent=a;return d};b.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||
a.$$is_module?b.build_class_singleton_class(a):b.build_object_singleton_class(a)};b.build_class_singleton_class=function(a){var c,d;if(a.$$meta)return a.$$meta;c=a.constructor;d=a===e?p:b.build_class_singleton_class(a.$$super);c=b.setup_class_object(null,c,d.$$name,d.constructor);c.$$super=d;c.$$parent=d;b.create_scope(a.$$scope,c);c.$$is_singleton=!0;c.$$singleton_of=a;return a.$$meta=c};b.build_object_singleton_class=function(a){var c=a.$$class,d="#<Class:#<"+c.$$name+":"+c.$$id+">>",e=b.boot_class_alloc(d,
function(){},c),d=b.setup_class_object(d,e,c.$$name,c.constructor);d.$$super=c;d.$$parent=c;d.$$class=c.$$class;d.$$scope=c.$$scope;d.$$proto=a;d.$$is_singleton=!0;d.$$singleton_of=a;return a.$$meta=d};b.class_variables=function(a){a=b.ancestors(a);var c,d={};for(c=a.length-1;0<=c;c--){var e=a[c],g;for(g in e.$$cvars)d[g]=e.$$cvars[g]}return d};b.class_variable_set=function(a,c,d){var e=b.ancestors(a),g;for(g=e.length-2;0<=g;g--){var f=e[g];if(q.call(f.$$cvars,c))return f.$$cvars[c]=d}return a.$$cvars[c]=
d};b.bridge_method=function(a,c,b,d){var e,g,f,k;e=a.$$bridge.$ancestors();g=0;for(k=e.length;g<k;g++){f=e[g];if(q.call(f.$$proto,b)&&f.$$proto[b]&&!f.$$proto[b].$$donated&&!f.$$proto[b].$$stub&&f!==c)break;if(f===c){a.prototype[b]=d;break}}};b.bridge_methods=function(a,c){var b,d=n[a.$__id__()];b=c.$__id__();if(d)for(n[b]=d.slice(),b=d.length-1;0<=b;b--)g(d[b],c)};b.has_cyclic_dep=function J(a,c,b,d){var e,g,f;for(e=c.length-1;0<=e;e--)if(f=c[e],g=f.$$id,!d[g]&&(d[g]=!0,g===a||J(a,f[b],b,d)))return!0;
return!1};b.append_features=function(a,c){var d,e;for(e=c.$$inc.length-1;0<=e;e--)if(c.$$inc[e]===a)return;if(!c.$$is_class&&b.has_cyclic_dep(c.$$id,[a],"$$inc",{}))throw b.ArgumentError.$new("cyclic include detected");c.$$inc.push(a);a.$$included_in.push(c);b.bridge_methods(c,a);c.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:c.$$parent,$$module:a,$$iclass:!0};d=a.$instance_methods();for(e=d.length-1;0<=e;e--)b.update_includer(a,c,"$"+d[e]);b.donate_constants(a,c)};b.stubs={};b.bridge=function(a,
c){if(c.$$bridge)throw b.ArgumentError.$new("already bridged");b.stub_subscribers.push(c.prototype);for(var d in b.stubs)d in c.prototype||(c.prototype[d]=b.stub_for(d));c.prototype.$$class=a;c.$$bridge=a;d=a.$ancestors();for(var e=d.length-1;0<=e;e--){var f=c,k=d[e].$__id__();n[k]||(n[k]=[]);n[k].push(f);g(c,d[e])}for(var h in w.prototype){var l=w.prototype[l];!l||!l.$$stub||h in c.prototype||(c.prototype[h]=l)}return a};b.donate_constants=function(a,c){for(var b=a.$$scope.constants,d=c.$$scope,
e=d.constants,g=0,f=b.length;g<f;g++)e.push(b[g]),d[b[g]]=a.$$scope[b[g]]};b.update_includer=function(a,c,d){var e,g,f,k,h,l,q,t;f=a.$$proto[d];e=c.$$proto;g=e[d];if(!e.hasOwnProperty(d)||g.$$donated||g.$$stub)if(e.hasOwnProperty(d)&&!g.$$stub){k=c.$$inc;h=0;for(l=k.length;h<l;h++)k[h]===g.$$donated&&(q=h),k[h]===a&&(t=h);q<=t&&(e[d]=f,e[d].$$donated=a)}else e[d]=f,e[d].$$donated=a;c.$$included_in&&b.update_includers(c,d)};b.update_includers=function(a,c){var d,e,g,f;if(f=a.$$included_in)for(d=0,
e=f.length;d<e;d++)g=f[d],b.update_includer(a,g,c)};b.ancestors=function(a){for(var c=[],d;a;){c.push(a);for(var e=0;e<a.$$inc.length;e++){d=b.ancestors(a.$$inc[e]);for(var g=0;g<d.length;g++)c.push(d[g])}a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return c};b.add_stubs=function(a){var c,d=b.stub_subscribers,e,g=a.length,f,k=d.length,h,l,q=b.stubs;for(e=0;e<g;e++)if(h=a[e],!q.hasOwnProperty(h))for(q[h]=!0,l=b.stub_for(h),f=0;f<k;f++)c=d[f],
h in c||(c[h]=l)};b.stub_subscribers=[w.prototype];b.add_stub_for=function(a,c){var d=b.stub_for(c);a[c]=d};b.stub_for=function(a){function c(){this.$method_missing.$$p=c.$$p;c.$$p=null;for(var b=Array(arguments.length),d=0,e=b.length;d<e;d++)b[d]=arguments[d];return this.$method_missing.apply(this,[a.slice(1)].concat(b))}c.$$stub=!0;return c};b.ac=function(a,c,d,e){var g="",g=d.$$is_class||d.$$is_module?g+(d.$$name+"."):g+(d.$$class.$$name+"#");throw b.ArgumentError.$new("["+(g+e)+"] wrong number of arguments("+
a+" for "+c+")");};b.block_ac=function(a,c,d){throw b.ArgumentError.$new("`block in "+d+"': wrong number of arguments ("+a+" for "+c+")");};b.find_super_dispatcher=function(a,c,d,e,g){d=(g?a.$$is_class||a.$$is_module?g.$$super:a.$$class.$$proto:b.find_obj_super_dispatcher(a,c,d))["$"+c];if(!e&&d.$$stub&&b.Kernel.$method_missing===a.$method_missing)throw b.NoMethodError.$new("super: no superclass method `"+c+"' for "+a,c);return d};b.find_iter_super_dispatcher=function(a,c,d,e,g){if(!d)throw b.RuntimeError.$new("super called outside of method");
if(g&&d.$$define_meth)throw b.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");d.$$def&&(c=d.$$jsid);return b.find_super_dispatcher(a,c,d,e)};b.find_obj_super_dispatcher=function(a,c,d){a=a.$$meta||a.$$class;a=b.find_owning_class(a,d);if(!a)throw Error("could not find current class for super()");return b.find_super_func(a,"$"+c,d)};b.find_owning_class=function(a,c){for(var b=c.$$owner;!(!a||a.$$iclass&&
a.$$module===c.$$donated||a.$$iclass&&a.$$module===b||b.$$is_singleton&&a===b.$$singleton_of.$$class)&&a!==b;)a=a.$$parent;return a};b.find_super_func=function(a,c,b){for(a=a.$$parent;a;){var d=a.$$proto[c];if(d&&d!==b)break;a=a.$$parent}return a.$$proto};b.ret=function(a){b.returner.$v=a;throw b.returner;};b.brk=function(a,c){c.$v=a;throw c;};b.new_brk=function(){return Error("unexpected break")};b.yield1=function(a,c){if("function"!==typeof a)throw b.LocalJumpError.$new("no block given");var d=
a.$$has_top_level_mlhs_arg,e=a.$$has_trailing_comma_in_args;if(1<a.length||(d||e)&&1===a.length)c=b.to_ary(c);return(1<a.length||e&&1===a.length)&&c.$$is_array?a.apply(null,c):a(c)};b.yieldX=function(a,c){if("function"!==typeof a)throw b.LocalJumpError.$new("no block given");if(1<a.length&&1===c.length&&c[0].$$is_array)return a.apply(null,c[0]);if(!c.$$is_array){for(var d=Array(c.length),e=0,g=d.length;e<g;e++)d[e]=c[e];return a.apply(null,d)}return a.apply(null,c)};b.rescue=function(a,c){for(var d=
0;d<c.length;d++){var e=c[d];if(e.$$is_array){if(e=b.rescue(a,e))return e}else if(e===b.JS.Error||e["$==="](a))return e}return null};b.is_a=function(a,c){if(a.$$meta===c||a.$$class===c||a.$$is_number&&c.$$is_number_class)return!0;var d,e,g=b.ancestors(a.$$is_class?b.get_singleton_class(a):a.$$meta||a.$$class);d=0;for(e=g.length;d<e;d++)if(g[d]===c)return!0;return!1};b.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",!0)){var c=a.$to_hash();if(c.$$is_hash)return c;throw b.TypeError.$new("Can't convert "+
a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+c.$$class+")");}throw b.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};b.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var c=a.$to_ary();if(c===k)return[a];if(c.$$is_array)return c;throw b.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+c.$$class+")");}return[a]};b.to_a=function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var c=a.$to_a();
if(c===k)return[a];if(c.$$is_array)return c;throw b.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+c.$$class+")");}return[a]};b.extract_kwargs=function(a){var c=a[a.length-1];return null!=c&&c["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),c.$to_hash()):b.hash2([],{})};b.kwrestargs=function(a,c){var d=[],e={},g=null,f=a.$$smap;for(g in f)c[g]||(d.push(g),e[g]=f[g]);return b.hash2(d,e)};b.send=function(a,c,b,d){if("string"===typeof c){var e=
c;return(c=a["$"+e])?(c.$$p=d,c.apply(a,b)):a.$method_missing.apply(a,[e].concat(b))}if("function"===typeof c)return c.$$p=d,c.apply(a,b)};b.def=function(a,c,d){a.$$eval||!a.$$is_class&&!a.$$is_module?b.defs(a,c,d):b.defn(a,c,d)};b.defn=function(a,c,d){a.$$proto[c]=d;d.$$owner=a;a.$$is_module&&(b.update_includers(a,c),a.$$module_function&&b.defs(a,c,d));var e=a.$__id__&&!a.$__id__.$$stub&&n[a.$__id__()];if(e)for(var g=e.length-1;0<=g;g--)b.bridge_method(e[g],a,c,d);d=a.$$singleton_of;!a.$method_added||
a.$method_added.$$stub||d?d&&d.$singleton_method_added&&!d.$singleton_method_added.$$stub&&d.$singleton_method_added(c.substr(1)):a.$method_added(c.substr(1));return k};b.defs=function(a,c,d){b.defn(b.get_singleton_class(a),c,d)};b.rdef=function(a,c){if(!q.call(a.$$proto,c))throw b.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());delete a.$$proto[c];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&a.$$proto.$singleton_method_removed(c.substr(1)):
a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(c.substr(1))};b.udef=function(a,c){if(!a.$$proto[c]||a.$$proto[c].$$stub)throw b.NameError.$new("method '"+c.substr(1)+"' not defined in "+a.$name());b.add_stub_for(a.$$proto,c);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(c.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(c.substr(1))};b.alias=function(a,c,
d){var e="$"+c,g="$"+d,f=a.$$proto["$"+d],k;if(a.$$eval)return b.alias(b.get_singleton_class(a),c,d);if("function"!==typeof f||f.$$stub){for(var h=a.$$super;"function"!==typeof f&&h;)f=h[g],h=h.$$super;if("function"!==typeof f||f.$$stub)throw b.NameError.$new("undefined method `"+d+"' for class `"+a.$name()+"'");}f.$$alias_of&&(f=f.$$alias_of);k=function(){for(var a=k.$$p,c=Array(arguments.length),d=0;d<arguments.length;d++)c[d]=arguments[d];a&&(k.$$p=null);return b.send(this,f,c,a)};k.length=f.length;
k.$$arity=f.$$arity;k.$$parameters=f.$$parameters;k.$$source_location=f.$$source_location;k.$$alias_of=f;k.$$alias_name=c;b.defn(a,e,k);return a};b.alias_native=function(a,c,d){c="$"+c;var e=a.$$proto[d];if("function"!==typeof e||e.$$stub)throw b.NameError.$new("undefined native method `"+d+"' for class `"+a.$name()+"'");b.defn(a,c,e);return a};b.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};b.hash_clone=function(a,c){c.$$none=a.$$none;c.$$proc=a.$$proc;
for(var d=0,e=a.$$keys.length,g,f;d<e;d++)g=a.$$keys[d],g.$$is_string?f=a.$$smap[g]:(f=g.value,g=g.key),b.hash_put(c,g,f)};b.hash_put=function(a,b,d){if(b.$$is_string)q.call(a.$$smap,b)||a.$$keys.push(b),a.$$smap[b]=d;else{var e=b.$hash(),g,f;if(q.call(a.$$map,e)){for(g=a.$$map[e];g;){if(b===g.key||b["$eql?"](g.key)){f=c;g.value=d;break}f=g;g=g.next}f&&(g={key:b,key_hash:e,value:d},a.$$keys.push(g),f.next=g)}else g={key:b,key_hash:e,value:d},a.$$keys.push(g),a.$$map[e]=g}};b.hash_get=function(a,c){if(c.$$is_string){if(q.call(a.$$smap,
c))return a.$$smap[c]}else{var b=c.$hash();if(q.call(a.$$map,b))for(b=a.$$map[b];b;){if(c===b.key||c["$eql?"](b.key))return b.value;b=b.next}}};b.hash_delete=function(a,c){var b,d=a.$$keys,e=d.length,g;if(c.$$is_string){if(!q.call(a.$$smap,c))return;for(b=0;b<e;b++)if(d[b]===c){d.splice(b,1);break}g=a.$$smap[c];delete a.$$smap[c];return g}var f=c.$hash();if(q.call(a.$$map,f))for(var k=a.$$map[f],h;k;){if(c===k.key||c["$eql?"](k.key)){g=k.value;for(b=0;b<e;b++)if(d[b]===k){d.splice(b,1);break}h&&k.next?
h.next=k.next:h?delete h.next:k.next?a.$$map[f]=k.next:delete a.$$map[f];return g}h=k;k=k.next}};b.hash_rehash=function(a){for(var b=0,d=a.$$keys.length,e,g,f;b<d;b++)if(!a.$$keys[b].$$is_string&&(e=a.$$keys[b].key.$hash(),e!==a.$$keys[b].key_hash)){g=a.$$map[a.$$keys[b].key_hash];for(f=c;g;){if(g===a.$$keys[b]){f&&g.next?f.next=g.next:f?delete f.next:g.next?a.$$map[a.$$keys[b].key_hash]=g.next:delete a.$$map[a.$$keys[b].key_hash];break}f=g;g=g.next}a.$$keys[b].key_hash=e;if(q.call(a.$$map,e)){g=
a.$$map[e];for(f=c;g;){if(g===a.$$keys[b]){f=c;break}f=g;g=g.next}f&&(f.next=a.$$keys[b])}else a.$$map[e]=a.$$keys[b]}};b.hash=function(){var a=arguments.length,c,d,e,g,f;if(1===a&&arguments[0].$$is_hash)return arguments[0];c=new b.Hash.$$alloc;b.hash_init(c);if(1===a&&arguments[0].$$is_array){a=arguments[0];e=a.length;for(d=0;d<e;d++){if(2!==a[d].length)throw b.ArgumentError.$new("value not of length 2: "+a[d].$inspect());g=a[d][0];f=a[d][1];b.hash_put(c,g,f)}return c}if(1===a){a=arguments[0];for(g in a)a.hasOwnProperty(g)&&
(f=a[g],b.hash_put(c,g,f));return c}if(0!==a%2)throw b.ArgumentError.$new("odd number of arguments for Hash");for(d=0;d<a;d+=2)g=arguments[d],f=arguments[d+1],b.hash_put(c,g,f);return c};b.hash2=function(a,c){var d=new b.Hash.$$alloc;d.$$smap=c;d.$$map=Object.create(null);d.$$keys=a;return d};b.getGLOBAL_COUNTER=function(){return GLOBAL_COUNTER};b.range=function(a,c,d){var e=new b.Range.$$alloc;e.begin=a;e.end=c;e.exclude=d;return e};b.ivar=function(a){return"constructor"===a||"displayName"===a||
"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};b.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};b.modules={};b.loaded_features=["corelib/runtime"];b.current_dir=".";b.require_table={"corelib/runtime":!0};b.normalize=function(a){var c,d=[];"."!==b.current_dir&&(a=b.current_dir.replace(/\/*$/,"/")+a);a=
a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var e=0,g=a.length;e<g;e++)c=a[e],""!==c&&(".."===c?d.pop():d.push(c));return d.join("/")};b.loaded=function(a){var c,d,e;c=0;for(d=a.length;c<d;c++){e=b.normalize(a[c]);if(b.require_table[e])break;b.loaded_features.push(e);b.require_table[e]=!0}};b.load=function(a){a=b.normalize(a);b.loaded([a]);var c=b.modules[a];if(c)c(b);else if(c=b.config.missing_require_severity,a="cannot load such file -- "+a,"error"===c)if(b.LoadError)b.LoadError.$new(a);
else throw a;else"warning"===c&&t.warn("WARNING: LoadError: "+a);return!0};b.require=function(a){a=b.normalize(a);return b.require_table[a]?!1:b.load(a)};b.boot_class_alloc("BasicObject",w);b.boot_class_alloc("Object",y,w);b.boot_class_alloc("Module",l,y);b.boot_class_alloc("Class",B,l);b.BasicObject=e=b.setup_class_object("BasicObject",w,"Class",B);b.Object=d=b.setup_class_object("Object",y,"BasicObject",e.constructor);b.Module=f=b.setup_class_object("Module",l,"Object",d.constructor);b.Class=p=
b.setup_class_object("Class",B,"Module",f.constructor);b.constants.push("BasicObject");b.constants.push("Object");b.constants.push("Module");b.constants.push("Class");e.$$class=p;d.$$class=p;f.$$class=p;p.$$class=p;e.$$super=null;d.$$super=e;f.$$super=d;p.$$super=f;e.$$parent=null;d.$$parent=e;f.$$parent=d;p.$$parent=f;b.base=d;e.$$scope=d.$$scope=b;e.$$orig_scope=d.$$orig_scope=b;f.$$scope=d.$$scope;f.$$orig_scope=d.$$orig_scope;p.$$scope=d.$$scope;p.$$orig_scope=d.$$orig_scope;d.$$proto.toString=
function(){return this.$to_s()};d.$$proto.$require=b.require;b.top=new d.$$alloc;b.klass(d,d,"NilClass",a);k=b.nil=new a;k.$$id=4;k.call=k.apply=function(){throw b.LocalJumpError.$new("no block given");};b.breaker=Error("unexpected break (old)");b.returner=Error("unexpected return");TypeError.$$super=Error}).call(this);Opal.loaded(["corelib/runtime"]);Opal.modules["corelib/helpers"]=function(c){var w=[c],y=c.nil,B=c.module;c.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $inspect $coerce_to! $!= $[] $upcase".split(" "));
return function(l,a){var g=B(l,"Opal"),h=g.$$scope,t=a.slice().concat(h),k,e,d,f,p,b,n,x,q,C,z,J,R,H;c.defs(g,"$bridge",k=function(a,b){return c.bridge(a,b)},k.$$arity=2);c.defs(g,"$type_error",e=function(a,b,d,e){var g;null==d&&(d=y);null==e&&(e=y);return(g=!1!==d&&d!==y&&null!=d?e:d)===y||null==g||g.$$is_boolean&&1!=g?c.const_get(t,"TypeError",!0,!0).$new("no implicit conversion of "+a.$class()+" into "+b):c.const_get(t,"TypeError",!0,!0).$new("can't convert "+a.$class()+" into "+b+" ("+a.$class()+
"#"+d+" gives "+e.$class())},e.$$arity=-3);c.defs(g,"$coerce_to",d=function(a,c,b){var d;if((d=c["$==="](a))!==y&&null!=d&&(!d.$$is_boolean||1==d))return a;((d=a["$respond_to?"](b))===y||null==d||d.$$is_boolean&&1!=d)&&this.$raise(this.$type_error(a,c));return a.$__send__(b)},d.$$arity=3);c.defs(g,"$coerce_to!",f=function(a,c,b){var d,e=y,e=this.$coerce_to(a,c,b);((d=c["$==="](e))===y||null==d||d.$$is_boolean&&1!=d)&&this.$raise(this.$type_error(a,c,b,e));return e},f.$$arity=3);c.defs(g,"$coerce_to?",
p=function(a,c,b){var d,e=y;if((d=a["$respond_to?"](b))===y||null==d||d.$$is_boolean&&1!=d)return y;e=this.$coerce_to(a,c,b);if((d=e["$nil?"]())!==y&&null!=d&&(!d.$$is_boolean||1==d))return y;((d=c["$==="](e))===y||null==d||d.$$is_boolean&&1!=d)&&this.$raise(this.$type_error(a,c,b,e));return e},p.$$arity=3);c.defs(g,"$try_convert",b=function(a,c,b){var d;return(d=c["$==="](a))===y||null==d||d.$$is_boolean&&1!=d?(d=a["$respond_to?"](b))===y||null==d||d.$$is_boolean&&1!=d?y:a.$__send__(b):a},b.$$arity=
3);c.defs(g,"$compare",n=function(a,b){var d,e=y,e=a["$<=>"](b);(d=e===y)===y||null==d||d.$$is_boolean&&1!=d||this.$raise(c.const_get(t,"ArgumentError",!0,!0),"comparison of "+a.$class()+" with "+b.$class()+" failed");return e},n.$$arity=2);c.defs(g,"$destructure",x=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var c=Array(a.length),b=0,d=c.length;b<d;b++)c[b]=a[b];return c},x.$$arity=1);c.defs(g,"$respond_to?",q=function(a,c){return null!=a&&a.$$class?a["$respond_to?"](c):!1},
q.$$arity=2);c.defs(g,"$inspect",C=function(a){return void 0===a?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()},C.$$arity=1);c.defs(g,"$instance_variable_name!",z=function(a){var b;a=c.Opal["$coerce_to!"](a,c.String,"to_str");((b=/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))===y||null==b||b.$$is_boolean&&1!=b)&&this.$raise(c.const_get(t,"NameError",!0,!0).$new("'"+a+"' is not allowed as an instance variable name",a));return a},z.$$arity=1);c.defs(g,"$class_variable_name!",J=function(a){var b;
a=c.Opal["$coerce_to!"](a,c.String,"to_str");(b=3>a.length||"@@"!==a.slice(0,2))===y||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(t,"NameError",!0,!0).$new("`"+a+"' is not allowed as a class variable name",a));return a},J.$$arity=1);c.defs(g,"$const_name!",R=function(a){var b;a=c.Opal["$coerce_to!"](a,c.String,"to_str");(b=a["$[]"](0)["$!="](a["$[]"](0).$upcase()))===y||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(t,"NameError",!0,!0),"wrong constant name "+a);return a},R.$$arity=
1);c.defs(g,"$pristine",H=function(a,c){var b,d=arguments.length;b=d-1;0>b&&(b=0);b=Array(b);for(var e=1;e<d;e++)b[e-1]=arguments[e];for(e=b.length-1;0<=e;e--)d=b[e],a.$$proto["$"+d].$$pristine=!0;return y},H.$$arity=-2)}(c.base,w)};Opal.modules["corelib/module"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function B(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}
var l=[c],a=c.nil,g=c.klass,h=c.send,t=c.range,k=c.hash2;c.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $! $start_with? $to_proc $lambda $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $+ $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));return function(e,$super,f){function l(){}e=l=g(e,$super,"Module",l);var b=e.$$scope,n=f.slice().concat(b),
x,q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za,Da;c.defs(e,"$allocate",x=function(){var a;a=c.module_allocate(this);c.create_scope(c.Module.$$scope,a,null);return a},x.$$arity=0);c.defn(e,"$initialize",q=function(){var b=q.$$p,r=b||a;b&&(q.$$p=null);return c.module_initialize(this,r)},q.$$arity=0);c.defn(e,"$===",C=function(b){var r;return(r=null==b)===a||null==r||r.$$is_boolean&&1!=r?c.is_a(b,this):!1},C.$$arity=1);
c.defn(e,"$<",z=function(b){var r;((r=c.const_get(n,"Module",!0,!0)["$==="](b))===a||null==r||r.$$is_boolean&&1!=r)&&this.$raise(c.const_get(n,"TypeError",!0,!0),"compared with non class/module");var m,e;if(this===b)return!1;m=0;r=c.ancestors(this);for(e=r.length;m<e;m++)if(r[m]===b)return!0;m=0;r=c.ancestors(b);for(e=r.length;m<e;m++)if(r[m]===this)return!1;return a},z.$$arity=1);c.defn(e,"$<=",J=function(c){var b;return!1!==(b=this["$equal?"](c))&&b!==a&&null!=b?b:w(this,c)},J.$$arity=1);c.defn(e,
"$>",R=function(b){var r;((r=c.const_get(n,"Module",!0,!0)["$==="](b))===a||null==r||r.$$is_boolean&&1!=r)&&this.$raise(c.const_get(n,"TypeError",!0,!0),"compared with non class/module");return w(b,this)},R.$$arity=1);c.defn(e,"$>=",H=function(c){var b;return!1!==(b=this["$equal?"](c))&&b!==a&&null!=b?b:y(this,c)},H.$$arity=1);c.defn(e,"$<=>",M=function(b){var r,m=a;if(this===b)return 0;if((r=c.const_get(n,"Module",!0,!0)["$==="](b))===a||null==r||r.$$is_boolean&&1!=r)return a;m=w(this,b);return(r=
m["$nil?"]())===a||null==r||r.$$is_boolean&&1!=r?!1!==m&&m!==a&&null!=m?-1:1:a},M.$$arity=1);c.defn(e,"$alias_method",u=function(a,b){c.alias(this,a,b);return this},u.$$arity=2);c.defn(e,"$alias_native",fa=function(a,b){null==b&&(b=a);c.alias_native(this,a,b);return this},fa.$$arity=-2);c.defn(e,"$ancestors",v=function(){return c.ancestors(this)},v.$$arity=0);c.defn(e,"$append_features",la=function(a){c.append_features(this,a);return this},la.$$arity=1);c.defn(e,"$attr_accessor",U=function(a){var b,
m=arguments.length;b=m-0;0>b&&(b=0);b=Array(b);for(var e=0;e<m;e++)b[e-0]=arguments[e];h(this,"attr_reader",c.to_a(b));return h(this,"attr_writer",c.to_a(b))},U.$$arity=-1);c.alias(e,"attr","attr_accessor");c.defn(e,"$attr_reader",ea=function(b){var r,m=arguments.length;r=m-0;0>r&&(r=0);r=Array(r);for(var e=0;e<m;e++)r[e-0]=arguments[e];m=this.$$proto;for(e=r.length-1;0<=e;e--){var g=r[e],f="$"+g,g=c.ivar(g),k=function(c){return function(){return null==this[c]?a:this[c]}}(g);m[g]=a;k.$$parameters=
[];k.$$arity=0;this.$$is_singleton?m.constructor.prototype[f]=k:c.defn(this,f,k)}return a},ea.$$arity=-1);c.defn(e,"$attr_writer",ca=function(b){var r,m=arguments.length;r=m-0;0>r&&(r=0);r=Array(r);for(var e=0;e<m;e++)r[e-0]=arguments[e];m=this.$$proto;for(e=r.length-1;0<=e;e--){var g=r[e],f="$"+g+"=",g=c.ivar(g),k=function(a){return function(c){return this[a]=c}}(g);k.$$parameters=[["req"]];k.$$arity=1;m[g]=a;this.$$is_singleton?m.constructor.prototype[f]=k:c.defn(this,f,k)}return a},ca.$$arity=
-1);c.defn(e,"$autoload",A=function(c,b){var m;(m=this.$$autoload)||(m=this.$$autoload={});m[c]=b;return a},A.$$arity=2);c.defn(e,"$class_variables",V=function(){return Object.keys(c.class_variables(this))},V.$$arity=0);c.defn(e,"$class_variable_get",W=function(a){a=c.Opal["$class_variable_name!"](a);var b=c.class_variables(this)[a];null==b&&this.$raise(c.const_get(n,"NameError",!0,!0).$new("uninitialized class variable "+a+" in "+this,a));return b},W.$$arity=1);c.defn(e,"$class_variable_set",Q=function(a,
b){a=c.Opal["$class_variable_name!"](a);return c.class_variable_set(this,a,b)},Q.$$arity=2);c.defn(e,"$class_variable_defined?",G=function(a){a=c.Opal["$class_variable_name!"](a);return c.class_variables(this).hasOwnProperty(a)},G.$$arity=1);c.defn(e,"$remove_class_variable",O=function(a){a=c.Opal["$class_variable_name!"](a);if(c.hasOwnProperty.call(this.$$cvars,a)){var b=this.$$cvars[a];delete this.$$cvars[a];return b}this.$raise(c.const_get(n,"NameError",!0,!0).$new("cannot remove "+a+" for "+this))},
O.$$arity=1);c.defn(e,"$constants",F=function(){return this.$$scope.constants.slice(0)},F.$$arity=0);c.defn(e,"$const_defined?",L=function(b,r){var m;null==r&&(r=!0);b=c.Opal["$const_name!"](b);((m=b["$=~"](c.const_get([c.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0)))===a||null==m||m.$$is_boolean&&1!=m)&&this.$raise(c.const_get(n,"NameError",!0,!0).$new("wrong constant name "+b,b));m=[this.$$scope];if(r||this===c.Object)for(var e=this.$$super;e!==c.BasicObject;)m.push(e.$$scope),e=e.$$super;for(var e=
0,g=m.length;e<g;e++)if(m[e].hasOwnProperty(b))return!0;return!1},L.$$arity=-2);c.defn(e,"$const_get",D=function(b,r){var m,e;null==r&&(r=!0);b=c.Opal["$const_name!"](b);0===b.indexOf("::")&&"::"!==b&&(b=b.slice(2));if((m=-1!=b.indexOf("::")&&"::"!=b)!==a&&null!=m&&(!m.$$is_boolean||1==m))return h(b.$split("::"),"inject",[this],(e=function(c,b){null==c&&(c=a);null==b&&(b=a);return c.$const_get(b)},e.$$s=this,e.$$arity=2,e));((m=b["$=~"](c.const_get([c.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0)))===
a||null==m||m.$$is_boolean&&1!=m)&&this.$raise(c.const_get(n,"NameError",!0,!0).$new("wrong constant name "+b,b));return c.const_get([this.$$scope],b,r,!0)},D.$$arity=-2);c.defn(e,"$const_missing",ba=function(b){var r=a;if(this.$$autoload&&(r=this.$$autoload[b]))return this.$require(r),this.$const_get(b);r=this["$=="](c.const_get(n,"Object",!0,!0))?b:""+this+"::"+b;return this.$raise(c.const_get(n,"NameError",!0,!0).$new("uninitialized constant "+r,b))},ba.$$arity=1);c.defn(e,"$const_set",ia=function(b,
r){var m,e;b=c.Opal["$const_name!"](b);(m=!1!==(e=b["$=~"](c.const_get([c.Opal.$$scope],"CONST_NAME_REGEXP",!0,!0))["$!"]())&&e!==a&&null!=e?e:b["$start_with?"]("::"))===a||null==m||m.$$is_boolean&&1!=m||this.$raise(c.const_get(n,"NameError",!0,!0).$new("wrong constant name "+b,b));c.casgn(this,b,r);return r},ia.$$arity=2);c.defn(e,"$public_constant",na=function(c){return a},na.$$arity=1);c.defn(e,"$define_method",pa=function(b,r){var m,e,g=this,f=pa.$$p,k=f||a,l=a;f&&(pa.$$p=null);(m=void 0===r&&
k===a)===a||null==m||m.$$is_boolean&&1!=m||g.$raise(c.const_get(n,"ArgumentError",!0,!0),"tried to create a Proc object without a block");!1!==(m=k)&&m!==a&&null!=m?m:k=function(){l=r;return c.const_get(n,"Proc",!0,!0)["$==="](l)?r:c.const_get(n,"Method",!0,!0)["$==="](l)?r.$to_proc().$$unbound:c.const_get(n,"UnboundMethod",!0,!0)["$==="](l)?h(g,"lambda",[],(e=function(b){var m=e.$$s||this,g,f=a,f=arguments.length;g=f-0;0>g&&(g=0);g=Array(g);for(var k=0;k<f;k++)g[k-0]=arguments[k];f=r.$bind(m);return h(f,
"call",c.to_a(g))},e.$$s=g,e.$$arity=-1,e)):g.$raise(c.const_get(n,"TypeError",!0,!0),"wrong argument type "+k.$class()+" (expected Proc/Method)")}();k.$$jsid=b;k.$$s=null;k.$$def=k;k.$$define_meth=!0;c.defn(g,"$"+b,k);return b},pa.$$arity=-2);c.defn(e,"$remove_method",ja=function(a){var b,m=arguments.length;b=m-0;0>b&&(b=0);b=Array(b);for(var e=0;e<m;e++)b[e-0]=arguments[e];m=0;for(e=b.length;m<e;m++)c.rdef(this,"$"+b[m]);return this},ja.$$arity=-1);c.defn(e,"$singleton_class?",K=function(){return!!this.$$is_singleton},
K.$$arity=0);c.defn(e,"$include",ga=function(a){var b,m=arguments.length;b=m-0;0>b&&(b=0);b=Array(b);for(var e=0;e<m;e++)b[e-0]=arguments[e];for(m=b.length-1;0<=m;m--)e=b[m],e.$$is_module||this.$raise(c.const_get(n,"TypeError",!0,!0),"wrong argument type "+e.$class()+" (expected Module)"),e.$append_features(this),e.$included(this);return this},ga.$$arity=-1);c.defn(e,"$included_modules",ha=function(){var a,c=function(a){for(var b=[],m=0;m!=a.$$inc.length;m++){var e=a.$$inc[m];b.push(e);b=b.concat(c(e))}return b};
a=c(this);if(this.$$is_class)for(var b=this;b;b=b.$$super)a=a.concat(c(b));return a},ha.$$arity=0);c.defn(e,"$include?",X=function(a){a.$$is_module||this.$raise(c.const_get(n,"TypeError",!0,!0),"wrong argument type "+a.$class()+" (expected Module)");var b,m,e,g=c.ancestors(this);b=0;for(m=g.length;b<m;b++)if(e=g[b],e===a&&e!==this)return!0;return!1},X.$$arity=1);c.defn(e,"$instance_method",ma=function(a){var b=this.$$proto["$"+a];b&&!b.$$stub||this.$raise(c.const_get(n,"NameError",!0,!0).$new("undefined method `"+
a+"' for class `"+this.$name()+"'",a));return c.const_get(n,"UnboundMethod",!0,!0).$new(this,b.$$owner||this,b,a)},ma.$$arity=1);c.defn(e,"$instance_methods",ka=function(a){null==a&&(a=!0);var b,m=[],e=this.$$proto,g;for(g in e)if("$"===g.charAt(0)&&"$"!==g.charAt(1)&&(b=e[g],"function"===typeof b&&!b.$$stub)){if(!this.$$is_module){if(this!==c.BasicObject&&b===c.BasicObject.$$proto[g])continue;if(!a&&!e.hasOwnProperty(g))continue;if(!a&&b.$$donated)continue}m.push(g.substr(1))}return m},ka.$$arity=
-1);c.defn(e,"$included",sa=function(c){return a},sa.$$arity=1);c.defn(e,"$extended",wa=function(c){return a},wa.$$arity=1);c.defn(e,"$method_added",xa=function(c){return a},xa.$$arity=-1);c.defn(e,"$method_removed",ra=function(c){return a},ra.$$arity=-1);c.defn(e,"$method_undefined",va=function(c){return a},va.$$arity=-1);c.defn(e,"$module_eval",oa=function(b){var r,m,e,g,f=oa.$$p,l=f||a,E=a,q=g=g=g=a,E=arguments.length;g=E-0;0>g&&(g=0);g=Array(g);for(var S=0;S<E;S++)g[S-0]=arguments[S];f&&(oa.$$p=
null);(r=(m=l["$nil?"](),!1!==m&&m!==a&&null!=m?!!c.compile:m))===a||null==r||r.$$is_boolean&&1!=r?(r=y(g.$size(),0))===a||null==r||r.$$is_boolean&&1!=r||c.const_get(n,"Kernel",!0,!0).$raise(c.const_get(n,"ArgumentError",!0,!0),B("wrong number of arguments ("+g.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n")):(((r=t(1,3,!1)["$cover?"](g.$size()))===a||null==r||r.$$is_boolean&&1!=r)&&c.const_get(n,"Kernel",!0,!0).$raise(c.const_get(n,
"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),r=[].concat(c.to_a(g)),E=null==r[0]?a:r[0],g=null==r[1]?a:r[1],r,g=k(["file","eval"],{file:!1!==(r=g)&&r!==a&&null!=r?r:"(eval)",eval:!0}),g=c.hash({arity_check:!1}).$merge(g),q=c.Opal.$compile(E,g),l=h(c.const_get(n,"Kernel",!0,!0),"proc",[],(e=function(){return function(a){return eval(q)}(e.$$s||this)},e.$$s=this,e.$$arity=0,e)));r=l.$$s;l.$$s=null;m=l.apply(this,[this]);l.$$s=r;return m},oa.$$arity=-1);c.alias(e,"class_eval","module_eval");
c.defn(e,"$module_exec",ta=function(b){var r,m=ta.$$p,e=m||a,g=arguments.length;r=g-0;0>r&&(r=0);r=Array(r);for(var f=0;f<g;f++)r[f-0]=arguments[f];m&&(ta.$$p=null);e===a&&this.$raise(c.const_get(n,"LocalJumpError",!0,!0),"no block given");m=e.$$s;e.$$s=null;r=e.apply(this,r);e.$$s=m;return r},ta.$$arity=-1);c.alias(e,"class_exec","module_exec");c.defn(e,"$method_defined?",E=function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub},E.$$arity=1);c.defn(e,"$module_function",S=function(a){var b,m=arguments.length;
b=m-0;0>b&&(b=0);b=Array(b);for(var e=0;e<m;e++)b[e-0]=arguments[e];if(0===b.length)this.$$module_function=!0;else for(m=0,e=b.length;m<e;m++){var g="$"+b[m];c.defs(this,g,this.$$proto[g])}return this},S.$$arity=-1);c.defn(e,"$name",Y=function(){if(this.$$full_name)return this.$$full_name;for(var b=[],e=this;e;){if(e.$$name===a)return 0===b.length?a:b.join("::");b.unshift(e.$$name);e=e.$$base_module;if(e===c.Object)break}return 0===b.length?a:this.$$full_name=b.join("::")},Y.$$arity=0);c.defn(e,"$remove_const",
aa=function(a){var c=this.$$scope[a];delete this.$$scope[a];return c},aa.$$arity=1);c.defn(e,"$to_s",ya=function(){var b;return!1!==(b=c.Module.$name.call(this))&&b!==a&&null!=b?b:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},ya.$$arity=0);c.defn(e,"$undef_method",Aa=function(a){var b,m=arguments.length;b=m-0;0>b&&(b=0);b=Array(b);for(var e=0;e<m;e++)b[e-0]=arguments[e];m=0;for(e=b.length;m<e;m++)c.udef(this,"$"+b[m]);return this},Aa.$$arity=-1);c.defn(e,"$instance_variables",
Ba=function(){var c=a,c=this.$constants(),b=[],m;for(m in this)this.hasOwnProperty(m)&&"$"!==m.charAt(0)&&"constructor"!==m&&!c["$include?"](m)&&b.push("@"+m);return b},Ba.$$arity=0);c.defn(e,"$dup",Ca=function(){var b=Ca.$$p,e=a,m=e=a,g=a;b&&(Ca.$$p=null);m=0;g=arguments.length;for(e=Array(g);m<g;m++)e[m]=arguments[m];e=h(this,c.find_super_dispatcher(this,"dup",Ca,!1),e,b);e.$copy_class_variables(this);e.$copy_constants(this);return e},Ca.$$arity=0);c.defn(e,"$copy_class_variables",za=function(a){for(var c in a.$$cvars)this.$$cvars[c]=
a.$$cvars[c]},za.$$arity=1);return(c.defn(e,"$copy_constants",Da=function(a){for(var b=a.$$scope.constants,m=b.length,e=0;e<m;e++){var g=b[e];c.casgn(this,g,a.$$scope[g])}},Da.$$arity=1),a)&&"copy_constants"}(c.base,null,l)};Opal.modules["corelib/class"]=function(c){var w=c.top,y=[c],B=c.nil,l=c.klass,a=c.send;c.add_stubs(["$require","$allocate","$name","$to_s"]);w.$require("corelib/module");return function(g,$super,t){function k(){}g=k=l(g,$super,"Class",k);var e=g.$$scope,d=t.slice().concat(e),
f,p,b,n,x,q;c.defs(g,"$new",f=function(a){var b=f.$$p,e=b||B;null==a&&(a=c.const_get(d,"Object",!0,!0));b&&(f.$$p=null);if(!a.$$is_class)throw c.TypeError.$new("superclass must be a Class");b=c.boot_class_alloc(null,function(){},a);b=c.setup_class_object(null,b,a.$$name,a.constructor);b.$$super=a;b.$$parent=a;c.create_scope(a.$$scope,b);a.$inherited(b);c.module_initialize(b,e);return b},f.$$arity=-1);c.defn(g,"$allocate",p=function(){var a=new this.$$alloc;a.$$id=c.uid();return a},p.$$arity=0);c.defn(g,
"$inherited",b=function(a){return B},b.$$arity=1);c.defn(g,"$new",n=function(a){var b,d=n.$$p,e=d||B,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var f=0;f<g;f++)b[f-0]=arguments[f];d&&(n.$$p=null);d=this.$allocate();c.send(d,d.$initialize,b,e);return d},n.$$arity=-1);c.defn(g,"$superclass",x=function(){return this.$$super||B},x.$$arity=0);return(c.defn(g,"$to_s",q=function(){q.$$p&&(q.$$p=null);var b=this.$$singleton_of;return b&&(b.$$is_class||b.$$is_module)?"#<Class:"+b.$name()+">":b?"#<Class:#<"+
b.$$class.$name()+":0x"+c.id(b).$to_s(16)+">>":a(this,c.find_super_dispatcher(this,"to_s",q,!1),[],null)},q.$$arity=0),B)&&"to_s"}(c.base,null,y)};Opal.modules["corelib/basic_object"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var y=[c],B=c.nil,l=c.klass,a=c.range,g=c.hash2,h=c.send;c.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $> $new $inspect".split(" "));return function(t,$super,e){function d(){}t=d=l(t,$super,"BasicObject",
d);var f=t.$$scope,p=e.slice().concat(f),b,n,x,q,C,z,J,R,H,M,u,fa,v;c.defn(t,"$initialize",b=function(a){return B},b.$$arity=-1);c.defn(t,"$==",n=function(a){return this===a},n.$$arity=1);c.defn(t,"$eql?",x=function(a){return this["$=="](a)},x.$$arity=1);c.alias(t,"equal?","==");c.defn(t,"$__id__",q=function(){return this.$$id||(this.$$id=c.uid())},q.$$arity=0);c.defn(t,"$__send__",C=function(a,c){var b,d=C.$$p,e=d||B,g=arguments.length;b=g-1;0>b&&(b=0);b=Array(b);for(var f=1;f<g;f++)b[f-1]=arguments[f];
d&&(C.$$p=null);if(d=this["$"+a])return e!==B&&(d.$$p=e),d.apply(this,b);e!==B&&(this.$method_missing.$$p=e);return this.$method_missing.apply(this,[a].concat(b))},C.$$arity=-2);c.defn(t,"$!",z=function(){return!1},z.$$arity=0);c.defn(t,"$!=",J=function(a){return this["$=="](a)["$!"]()},J.$$arity=1);c.alias(t,"equal?","==");c.defn(t,"$instance_eval",R=function(b){var d,e,f,l,q=R.$$p,t=q||B,v=B,n=l=l=l=B,v=arguments.length;l=v-0;0>l&&(l=0);l=Array(l);for(var x=0;x<v;x++)l[x-0]=arguments[x];q&&(R.$$p=
null);(d=(e=t["$nil?"](),!1!==e&&e!==B&&null!=e?!!c.compile:e))===B||null==d||d.$$is_boolean&&1!=d?(d=w(l.$size(),0))===B||null==d||d.$$is_boolean&&1!=d||c.const_get(p,"Kernel",!0,!0).$raise(c.const_get(p,"ArgumentError",!0,!0),"wrong number of arguments ("+l.$size()+" for 0)"):(((d=a(1,3,!1)["$cover?"](l.$size()))===B||null==d||d.$$is_boolean&&1!=d)&&c.const_get(p,"Kernel",!0,!0).$raise(c.const_get(p,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),d=[].concat(c.to_a(l)),v=null==
d[0]?B:d[0],l=null==d[1]?B:d[1],d,l=g(["file","eval"],{file:!1!==(d=l)&&d!==B&&null!=d?d:"(eval)",eval:!0}),l=c.hash({arity_check:!1}).$merge(l),n=c.Opal.$compile(v,l),t=h(c.const_get(p,"Kernel",!0,!0),"proc",[],(f=function(){return function(a){return eval(n)}(f.$$s||this)},f.$$s=this,f.$$arity=0,f)));d=t.$$s;var F;t.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{F=t.call(this,this)}finally{this.$$eval=!1}}else F=t.call(this,this);t.$$s=d;return F},R.$$arity=-1);c.defn(t,"$instance_exec",
H=function(a){var b,d=H.$$p,e=d||B,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var f=0;f<g;f++)b[f-0]=arguments[f];d&&(H.$$p=null);!1!==e&&e!==B&&null!=e||c.const_get(p,"Kernel",!0,!0).$raise(c.const_get(p,"ArgumentError",!0,!0),"no block given");var d=e.$$s,h;e.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{h=e.apply(this,b)}finally{this.$$eval=!1}}else h=e.apply(this,b);e.$$s=d;return h},H.$$arity=-1);c.defn(t,"$singleton_method_added",M=function(a){return B},M.$$arity=
-1);c.defn(t,"$singleton_method_removed",u=function(a){return B},u.$$arity=-1);c.defn(t,"$singleton_method_undefined",fa=function(a){return B},fa.$$arity=-1);return(c.defn(t,"$method_missing",v=function(a,b){var d,e,g=v.$$p,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var h=1;h<f;h++)e[h-1]=arguments[h];g&&(v.$$p=null);return c.const_get(p,"Kernel",!0,!0).$raise(c.const_get(p,"NoMethodError",!0,!0).$new((d=this.$inspect&&!this.$inspect.$$stub)===B||null==d||d.$$is_boolean&&1!=d?"undefined method `"+
a+"' for "+this.$$class:"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class,a))},v.$$arity=-2),B)&&"method_missing"}(c.base,null,y)};Opal.modules["corelib/kernel"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var B=[c],l=c.nil,a=c.module,g=c.gvars,h=c.send,t=c.hash2,k=c.klass;c.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $> $size $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $print $format $puts $each $<= $empty? $exception $kind_of? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $srand $new_seed $sym $arg $open $include".split(" "));
(function(e,d){var f=a(e,"Kernel"),k=f.$$scope,b=d.slice().concat(k),n,x,q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,B,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za,Da,Ga,r,m,Ea,Ha,Ka,qa,Ia,P,Ja;c.defn(f,"$method_missing",n=function(a,d){var m,e=n.$$p,r=arguments.length;m=r-1;0>m&&(m=0);m=Array(m);for(var g=1;g<r;g++)m[g-1]=arguments[g];e&&(n.$$p=null);return this.$raise(c.const_get(b,"NoMethodError",!0,!0).$new("undefined method `"+a+"' for "+this.$inspect(),a,m))},
n.$$arity=-2);c.defn(f,"$=~",x=function(a){return!1},x.$$arity=1);c.defn(f,"$!~",q=function(a){return this["$=~"](a)["$!"]()},q.$$arity=1);c.defn(f,"$===",C=function(a){var c;return!1!==(c=this.$object_id()["$=="](a.$object_id()))&&c!==l&&null!=c?c:this["$=="](a)},C.$$arity=1);c.defn(f,"$<=>",z=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==l?0:l},z.$$arity=1);c.defn(f,"$method",J=function(a){var d=this["$"+a];d&&!d.$$stub||this.$raise(c.const_get(b,"NameError",!0,!0).$new("undefined method `"+
a+"' for class `"+this.$class()+"'",a));return c.const_get(b,"Method",!0,!0).$new(this,d.$$owner||this.$class(),d,a)},J.$$arity=1);c.defn(f,"$methods",R=function(a){null==a&&(a=!0);var b=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=a&&a!==l||c.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&b.push(d.substr(1));return b},R.$$arity=-1);c.alias(f,"public_methods","methods");c.defn(f,"$Array",H=function(a){var d;if(a===l)return[];if(a.$$is_array)return a;d=c.Opal["$coerce_to?"](a,
c.const_get(b,"Array",!0,!0),"to_ary");if(d!==l)return d;d=c.Opal["$coerce_to?"](a,c.const_get(b,"Array",!0,!0),"to_a");return d!==l?d:[a]},H.$$arity=1);c.defn(f,"$at_exit",M=function(){var a,c=M.$$p,b=c||l;null==g.__at_exit__&&(g.__at_exit__=l);c&&(M.$$p=null);!1!==(a=g.__at_exit__)&&a!==l&&null!=a?a:g.__at_exit__=[];return g.__at_exit__["$<<"](b)},M.$$arity=0);c.defn(f,"$caller",u=function(){return[]},u.$$arity=0);c.defn(f,"$class",fa=function(){return this.$$class},fa.$$arity=0);c.defn(f,"$copy_instance_variables",
v=function(a){for(var c in a)a.hasOwnProperty(c)&&"$"!==c.charAt(0)&&(this[c]=a[c])},v.$$arity=1);c.defn(f,"$copy_singleton_methods",la=function(a){var b;if(a.hasOwnProperty("$$meta")){var d=c.get_singleton_class(a).$$proto,m=c.get_singleton_class(this).$$proto;for(b in d)"$"===b.charAt(0)&&d.hasOwnProperty(b)&&(m[b]=d[b])}for(b in a)"$"===b.charAt(0)&&"$"!==b.charAt(1)&&a.hasOwnProperty(b)&&(this[b]=a[b])},la.$$arity=1);c.defn(f,"$clone",U=function(){var a=l,a=this.$class().$allocate();a.$copy_instance_variables(this);
a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},U.$$arity=0);c.defn(f,"$initialize_clone",ea=function(a){return this.$initialize_copy(a)},ea.$$arity=1);c.defn(f,"$define_singleton_method",ca=function(a,c){var b=ca.$$p,d=b||l;b&&(ca.$$p=null);return h(this.$singleton_class(),"define_method",[a,c],d.$to_proc())},ca.$$arity=-2);c.defn(f,"$dup",A=function(){var a=l,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},A.$$arity=0);c.defn(f,
"$initialize_dup",V=function(a){return this.$initialize_copy(a)},V.$$arity=1);c.defn(f,"$enum_for",W=function(a,d){var m,e=W.$$p,r=e||l;null==a&&(a="each");var g=arguments.length;m=g-1;0>m&&(m=0);m=Array(m);for(var f=1;f<g;f++)m[f-1]=arguments[f];e&&(W.$$p=null);return h(c.const_get(b,"Enumerator",!0,!0),"for",[this,a].concat(c.to_a(m)),r.$to_proc())},W.$$arity=-1);c.alias(f,"to_enum","enum_for");c.defn(f,"$equal?",Q=function(a){return this===a},Q.$$arity=1);c.defn(f,"$exit",G=function(a){var b,d,
m=l;null==g.__at_exit__&&(g.__at_exit__=l);null==a&&(a=!0);for(!1!==(b=g.__at_exit__)&&b!==l&&null!=b?b:g.__at_exit__=[];(d=w(g.__at_exit__.$size(),0))!==l&&null!=d&&(!d.$$is_boolean||1==d);)m=g.__at_exit__.$pop(),m.$call();(b=!0===a)===l||null==b||b.$$is_boolean&&1!=b||(a=0);c.exit(a);return l},G.$$arity=-1);c.defn(f,"$extend",O=function(a){var d,m=arguments.length;d=m-0;0>d&&(d=0);d=Array(d);for(var e=0;e<m;e++)d[e-0]=arguments[e];m=this.$singleton_class();for(e=d.length-1;0<=e;e--){var r=d[e];
r.$$is_module||this.$raise(c.const_get(b,"TypeError",!0,!0),"wrong argument type "+r.$class()+" (expected Module)");r.$append_features(m);r.$extended(this)}return this},O.$$arity=-1);c.defn(f,"$format",F=function(a,d){function m(){u&32&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"flag after width");u&128&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"flag after precision")}function e(){u&32&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"width given twice");u&128&&q.$raise(c.const_get(b,"ArgumentError",
!0,!0),"width after precision")}function r(a){a>=t.length&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"too few arguments");return t[a]}function f(){switch(aa){case -1:q.$raise(c.const_get(b,"ArgumentError",!0,!0),"unnumbered("+F+") mixed with numbered");case -2:q.$raise(c.const_get(b,"ArgumentError",!0,!0),"unnumbered("+F+") mixed with named")}aa=F++;return r(aa-1)}function T(a){0<aa&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"numbered("+a+") after unnumbered("+aa+")");-2===aa&&q.$raise(c.const_get(b,
"ArgumentError",!0,!0),"numbered("+a+") after named");1>a&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"invalid index - "+a+"$");aa=-1;return r(a-1)}function Fa(){return void 0===x?f():x}function k(d){var m;for(m="";;D++){D===Y&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"malformed format string - %*[0-9]");if(48>a.charCodeAt(D)||57<a.charCodeAt(D))return D--,m=parseInt(m,10)||0,2147483647<m&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),""+d+" too big"),m;m+=a.charAt(D)}}function h(c){c=k(c);
"$"===a.charAt(D+1)?(D++,c=T(c)):c=f();return c.$to_int()}var E,q=this,t,S=l;null==g.DEBUG&&(g.DEBUG=l);var S=arguments.length,v=S-1;0>v&&(v=0);t=Array(v);for(v=1;v<S;v++)t[v-1]=arguments[v];(E=t.$length()["$=="](1)?t["$[]"](0)["$respond_to?"]("to_ary"):t.$length()["$=="](1))!==l&&null!=E&&(!E.$$is_boolean||1==E)&&(S=c.Opal["$coerce_to?"](t["$[]"](0),c.const_get(b,"Array",!0,!0),"to_ary"),(E=S["$nil?"]())===l||null==E||E.$$is_boolean&&1!=E)&&(t=S.$to_a());E="";var S=0,D,Y=a.length,p,n,qa,P,A,Ea,V,
L,ga,x,F=1,aa=0,u;for(D=a.indexOf("%");-1!==D;D=a.indexOf("%",D)){n=void 0;u=0;A=P=-1;x=void 0;v=D;D++;switch(a.charAt(D)){case "%":S=D;case "":case "\n":case "\x00":D++;continue}a:for(;D<Y;D++)switch(a.charAt(D)){case " ":m();u|=16;continue a;case "#":m();u|=1;continue a;case "+":m();u|=4;continue a;case "-":m();u|=2;continue a;case "0":m();u|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":p=k("width");if("$"===a.charAt(D+1)){if(D+2===Y){n="%";D++;break a}void 0!==
x&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"value given twice - %"+p+"$");x=T(p);D++}else e(),u|=32,P=p;continue a;case "<":case "{":for(qa="<"===a.charAt(D)?">":"}",p="",D++;;D++){D===Y&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"malformed name - unmatched parenthesis");if(a.charAt(D)===qa)if(0<aa&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"named "+p+" after unnumbered("+aa+")"),-1===aa&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"named "+p+" after numbered"),aa=-2,void 0!==t[0]&&
t[0].$$is_hash||q.$raise(c.const_get(b,"ArgumentError",!0,!0),"one hash required"),x=t[0].$fetch(p),">"===qa)continue a;else{n=x.toString();-1!==A&&(n=n.slice(0,A));if(u&2)for(;n.length<P;)n+=" ";else for(;n.length<P;)n=" "+n;break a}p+=a.charAt(D)}case "*":D++;e();u|=32;P=h("width");0>P&&(u|=2,P=-P);continue a;case ".":u&128&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"precision given twice");u|=192;A=0;D++;if("*"===a.charAt(D)){D++;A=h("precision");0>A&&(u&=-65);continue a}A=k("precision");continue a;
case "d":case "i":case "u":p=q.$Integer(Fa());if(0<=p){for(n=p.toString();n.length<A;)n="0"+n;if(u&2){if(u&4||u&16)n=(u&4?"+":" ")+n;for(;n.length<P;)n+=" "}else if(u&8&&-1===A){for(;n.length<P-(u&4||u&16?1:0);)n="0"+n;if(u&4||u&16)n=(u&4?"+":" ")+n}else{if(u&4||u&16)n=(u&4?"+":" ")+n;for(;n.length<P;)n=" "+n}}else{for(n=(-p).toString();n.length<A;)n="0"+n;if(u&2)for(n="-"+n;n.length<P;)n+=" ";else if(u&8&&-1===A){for(;n.length<P-1;)n="0"+n;n="-"+n}else for(n="-"+n;n.length<P;)n=" "+n}break a;case "b":case "B":case "o":case "x":case "X":switch(a.charAt(D)){case "b":case "B":Ea=
2;V="0b";L=/^1+/;ga="1";break;case "o":Ea=8;V="0";L=/^3?7+/;ga="7";break;case "x":case "X":Ea=16,V="0x",L=/^f+/,ga="f"}p=q.$Integer(Fa());if(0<=p){for(n=p.toString(Ea);n.length<A;)n="0"+n;if(u&2){if(u&4||u&16)n=(u&4?"+":" ")+n;for(u&1&&0!==p&&(n=V+n);n.length<P;)n+=" "}else if(u&8&&-1===A){for(;n.length<P-(u&4||u&16?1:0)-(u&1&&0!==p?V.length:0);)n="0"+n;u&1&&0!==p&&(n=V+n);if(u&4||u&16)n=(u&4?"+":" ")+n}else{u&1&&0!==p&&(n=V+n);if(u&4||u&16)n=(u&4?"+":" ")+n;for(;n.length<P;)n=" "+n}}else if(u&4||
u&16){for(n=(-p).toString(Ea);n.length<A;)n="0"+n;if(u&2)for(u&1&&(n=V+n),n="-"+n;n.length<P;)n+=" ";else if(u&8&&-1===A){for(;n.length<P-1-(u&1?2:0);)n="0"+n;u&1&&(n=V+n);n="-"+n}else for(u&1&&(n=V+n),n="-"+n;n.length<P;)n=" "+n}else{for(n=(p>>>0).toString(Ea).replace(L,ga);n.length<A-2;)n=ga+n;if(u&2)for(n=".."+n,u&1&&(n=V+n);n.length<P;)n+=" ";else if(u&8&&-1===A){for(;n.length<P-2-(u&1?V.length:0);)n=ga+n;n=".."+n;u&1&&(n=V+n)}else for(n=".."+n,u&1&&(n=V+n);n.length<P;)n=" "+n}a.charAt(D)===a.charAt(D).toUpperCase()&&
(n=n.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":p=q.$Float(Fa());if(0<=p||isNaN(p)){if(Infinity===p)n="Inf";else switch(a.charAt(D)){case "f":n=p.toFixed(-1===A?6:A);break;case "e":case "E":n=p.toExponential(-1===A?6:A);break;case "g":case "G":n=p.toExponential(),qa=parseInt(n.split("e")[1],10),-4>qa||qa>=(-1===A?6:A)||(n=p.toPrecision(-1===A?u&1?6:void 0:A))}if(u&2){if(u&4||u&16)n=(u&4?"+":" ")+n;for(;n.length<P;)n+=" "}else if(u&8&&Infinity!==p&&!isNaN(p)){for(;n.length<
P-(u&4||u&16?1:0);)n="0"+n;if(u&4||u&16)n=(u&4?"+":" ")+n}else{if(u&4||u&16)n=(u&4?"+":" ")+n;for(;n.length<P;)n=" "+n}}else{if(-Infinity===p)n="Inf";else switch(a.charAt(D)){case "f":n=(-p).toFixed(-1===A?6:A);break;case "e":case "E":n=(-p).toExponential(-1===A?6:A);break;case "g":case "G":n=(-p).toExponential(),qa=parseInt(n.split("e")[1],10),-4>qa||qa>=(-1===A?6:A)||(n=(-p).toPrecision(-1===A?u&1?6:void 0:A))}if(u&2)for(n="-"+n;n.length<P;)n+=" ";else if(u&8&&-Infinity!==p){for(;n.length<P-1;)n=
"0"+n;n="-"+n}else for(n="-"+n;n.length<P;)n=" "+n}a.charAt(D)!==a.charAt(D).toUpperCase()||Infinity===p||-Infinity===p||isNaN(p)||(n=n.toUpperCase());n=n.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":q.$raise(c.const_get(b,"NotImplementedError",!0,!0),"`A` and `a` format field types are not implemented in Opal yet");case "c":p=Fa();p["$respond_to?"]("to_ary")&&(p=p.$to_ary()[0]);n=p["$respond_to?"]("to_str")?p.$to_str():String.fromCharCode(c.Opal.$coerce_to(p,c.Integer,"to_int"));
1!==n.length&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"%c requires a character");if(u&2)for(;n.length<P;)n+=" ";else for(;n.length<P;)n=" "+n;break a;case "p":n=Fa().$inspect();-1!==A&&(n=n.slice(0,A));if(u&2)for(;n.length<P;)n+=" ";else for(;n.length<P;)n=" "+n;break a;case "s":n=Fa().$to_s();-1!==A&&(n=n.slice(0,A));if(u&2)for(;n.length<P;)n+=" ";else for(;n.length<P;)n=" "+n;break a;default:q.$raise(c.const_get(b,"ArgumentError",!0,!0),"malformed format string - %"+a.charAt(D))}void 0===
n&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"malformed format string - %");E+=a.slice(S,v)+n;S=D+1}g.DEBUG&&0<=aa&&F<t.length&&q.$raise(c.const_get(b,"ArgumentError",!0,!0),"too many arguments for format string");return E+a.slice(S)},F.$$arity=-2);c.defn(f,"$hash",L=function(){return this.$__id__()},L.$$arity=0);c.defn(f,"$initialize_copy",D=function(a){return l},D.$$arity=1);c.defn(f,"$inspect",ba=function(){return this.$to_s()},ba.$$arity=0);c.defn(f,"$instance_of?",ia=function(a){a.$$is_class||
a.$$is_module||this.$raise(c.const_get(b,"TypeError",!0,!0),"class or module required");return this.$$class===a},ia.$$arity=1);c.defn(f,"$instance_variable_defined?",na=function(a){a=c.Opal["$instance_variable_name!"](a);return c.hasOwnProperty.call(this,a.substr(1))},na.$$arity=1);c.defn(f,"$instance_variable_get",pa=function(a){a=c.Opal["$instance_variable_name!"](a);a=this[c.ivar(a.substr(1))];return null==a?l:a},pa.$$arity=1);c.defn(f,"$instance_variable_set",ja=function(a,b){a=c.Opal["$instance_variable_name!"](a);
return this[c.ivar(a.substr(1))]=b},ja.$$arity=2);c.defn(f,"$remove_instance_variable",K=function(a){a=c.Opal["$instance_variable_name!"](a);var d=c.ivar(a.substr(1));return this.hasOwnProperty(d)?(a=this[d],delete this[d],a):this.$raise(c.const_get(b,"NameError",!0,!0),"instance variable "+a+" not defined")},K.$$arity=1);c.defn(f,"$instance_variables",ga=function(){var a=[],c,b;for(b in this)this.hasOwnProperty(b)&&"$"!==b.charAt(0)&&(c="$"===b.substr(-1)?b.slice(0,b.length-1):b,a.push("@"+c));return a},
ga.$$arity=0);c.defn(f,"$Integer",ha=function(a,d){var m=this,e,r;if(!a.$$is_string)return void 0!==d&&m.$raise(c.const_get(b,"ArgumentError",!0,!0),"base specified for non string value"),a===l&&m.$raise(c.const_get(b,"TypeError",!0,!0),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&m.$raise(c.const_get(b,"FloatDomainError",!0,!0),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(e=a.$to_int(),e!==l)?e:c.Opal["$coerce_to!"](a,c.Integer,"to_i");if("0"===a)return 0;
void 0===d?d=0:(d=c.Opal.$coerce_to(d,c.Integer,"to_int"),(1===d||0>d||36<d)&&m.$raise(c.const_get(b,"ArgumentError",!0,!0),"invalid radix "+d));e=a.toLowerCase();e=e.replace(/(\d)_(?=\d)/g,"$1");e=e.replace(/^(\s*[+-]?)(0[bodx]?)/,function(e,r,g){switch(g){case "0b":if(0===d||2===d)return d=2,r;case "0":case "0o":if(0===d||8===d)return d=8,r;case "0d":if(0===d||10===d)return d=10,r;case "0x":if(0===d||16===d)return d=16,r}m.$raise(c.const_get(b,"ArgumentError",!0,!0),'invalid value for Integer(): "'+
a+'"')});d=0===d?10:d;r="0-"+(10>=d?d-1:"9a-"+String.fromCharCode(97+(d-11)));(new RegExp("^\\s*[+-]?["+r+"]+\\s*$")).test(e)||m.$raise(c.const_get(b,"ArgumentError",!0,!0),'invalid value for Integer(): "'+a+'"');e=parseInt(e,d);isNaN(e)&&m.$raise(c.const_get(b,"ArgumentError",!0,!0),'invalid value for Integer(): "'+a+'"');return e},ha.$$arity=-2);c.defn(f,"$Float",X=function(a){var d;a===l&&this.$raise(c.const_get(b,"TypeError",!0,!0),"can't convert nil into Float");if(a.$$is_string){d=a.toString();
d=d.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(d))return this.$Integer(d);/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(d)||this.$raise(c.const_get(b,"ArgumentError",!0,!0),'invalid value for Float(): "'+a+'"');return parseFloat(d)}return c.Opal["$coerce_to!"](a,c.const_get(b,"Float",!0,!0),"to_f")},X.$$arity=1);c.defn(f,"$Hash",ma=function(a){var d,m;return(d=!1!==(m=a["$nil?"]())&&m!==l&&null!=m?m:a["$=="]([]))===l||null==d||d.$$is_boolean&&1!=d?(d=c.const_get(b,
"Hash",!0,!0)["$==="](a))===l||null==d||d.$$is_boolean&&1!=d?c.Opal["$coerce_to!"](a,c.const_get(b,"Hash",!0,!0),"to_hash"):a:t([],{})},ma.$$arity=1);c.defn(f,"$is_a?",ka=function(a){a.$$is_class||a.$$is_module||this.$raise(c.const_get(b,"TypeError",!0,!0),"class or module required");return c.is_a(this,a)},ka.$$arity=1);c.alias(f,"kind_of?","is_a?");c.defn(f,"$lambda",sa=function(){var a=sa.$$p,c=a||l;a&&(sa.$$p=null);c.$$is_lambda=!0;return c},sa.$$arity=0);c.defn(f,"$load",wa=function(a){a=c.Opal["$coerce_to!"](a,
c.String,"to_str");return c.load(a)},wa.$$arity=1);c.defn(f,"$loop",B=function(){var a,d=B.$$p,m=d||l,e=l;d&&(B.$$p=null);if(m===l)return h(this,"enum_for",["loop"],(a=function(){return c.const_get([c.const_get(b,"Float",!0,!0).$$scope],"INFINITY",!0,!0)},a.$$s=this,a.$$arity=0,a));for(;!0!==l;)try{c.yieldX(m,[])}catch(r){if(c.rescue(r,[c.const_get(b,"StopIteration",!0,!0)])){e=r;try{return e.$result()}finally{c.pop_exception()}}else throw r;}return this},B.$$arity=0);c.defn(f,"$nil?",ra=function(){return!1},
ra.$$arity=0);c.alias(f,"object_id","__id__");c.defn(f,"$printf",va=function(a){var b,d,m=arguments.length;d=m-0;0>d&&(d=0);d=Array(d);for(var e=0;e<m;e++)d[e-0]=arguments[e];(b=w(d.$length(),0))===l||null==b||b.$$is_boolean&&1!=b||this.$print(h(this,"format",c.to_a(d)));return l},va.$$arity=-1);c.defn(f,"$proc",oa=function(){var a=oa.$$p,d=a||l;a&&(oa.$$p=null);!1!==d&&d!==l&&null!=d||this.$raise(c.const_get(b,"ArgumentError",!0,!0),"tried to create Proc object without a block");d.$$is_lambda=!1;
return d},oa.$$arity=0);c.defn(f,"$puts",ta=function(a){var b;null==g.stdout&&(g.stdout=l);var d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var m=0;m<d;m++)b[m-0]=arguments[m];return h(g.stdout,"puts",c.to_a(b))},ta.$$arity=-1);c.defn(f,"$p",E=function(a){var c,b,d,m=arguments.length;d=m-0;0>d&&(d=0);d=Array(d);for(var e=0;e<m;e++)d[e-0]=arguments[e];h(d,"each",[],(c=function(a){null==g.stdout&&(g.stdout=l);null==a&&(a=l);return g.stdout.$puts(a.$inspect())},c.$$s=this,c.$$arity=1,c));return(b=
y(d.$length(),1))===l||null==b||b.$$is_boolean&&1!=b?d:d["$[]"](0)},E.$$arity=-1);c.defn(f,"$print",S=function(a){var b;null==g.stdout&&(g.stdout=l);var d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var m=0;m<d;m++)b[m-0]=arguments[m];return h(g.stdout,"print",c.to_a(b))},S.$$arity=-1);c.defn(f,"$warn",Y=function(a){var b,d,m;null==g.VERBOSE&&(g.VERBOSE=l);null==g.stderr&&(g.stderr=l);var e=arguments.length;m=e-0;0>m&&(m=0);m=Array(m);for(var r=0;r<e;r++)m[r-0]=arguments[r];return(b=!1!==(d=
g.VERBOSE["$nil?"]())&&d!==l&&null!=d?d:m["$empty?"]())===l||null==b||b.$$is_boolean&&1!=b?h(g.stderr,"puts",c.to_a(m)):l},Y.$$arity=-1);c.defn(f,"$raise",aa=function(a,d,m){null==g["!"]&&(g["!"]=l);null==d&&(d=l);if(null==a&&g["!"]!==l)throw g["!"];null==a?a=c.const_get(b,"RuntimeError",!0,!0).$new():a.$$is_string?a=c.const_get(b,"RuntimeError",!0,!0).$new(a):a.$$is_class&&a["$respond_to?"]("exception")?a=a.$exception(d):a["$kind_of?"](c.const_get(b,"Exception",!0,!0))||(a=c.const_get(b,"TypeError",
!0,!0).$new("exception class/object expected"));g["!"]!==l&&c.exceptions.push(g["!"]);g["!"]=a;throw a;},aa.$$arity=-1);c.alias(f,"fail","raise");c.defn(f,"$rand",ya=function(a){if(void 0===a)return c.const_get([c.const_get(b,"Random",!0,!0).$$scope],"DEFAULT",!0,!0).$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return c.const_get([c.const_get(b,"Random",!0,!0).$$scope],"DEFAULT",!0,!0).$rand(a)},ya.$$arity=-1);c.defn(f,"$respond_to?",Aa=function(a,c){var b;
null==c&&(c=!1);if((b=this["$respond_to_missing?"](a,c))!==l&&null!=b&&(!b.$$is_boolean||1==b))return!0;b=this["$"+a];return"function"!==typeof b||b.$$stub?!1:!0},Aa.$$arity=-2);c.defn(f,"$respond_to_missing?",Ba=function(a,c){return!1},Ba.$$arity=-2);c.defn(f,"$require",Ca=function(a){a=c.Opal["$coerce_to!"](a,c.String,"to_str");return c.require(a)},Ca.$$arity=1);c.defn(f,"$require_relative",za=function(a){c.Opal["$try_convert!"](a,c.String,"to_str");a=c.const_get(b,"File",!0,!0).$expand_path(c.const_get(b,
"File",!0,!0).$join(c.current_file,"..",a));return c.require(a)},za.$$arity=1);c.defn(f,"$require_tree",Da=function(a){a=c.const_get(b,"File",!0,!0).$expand_path(a);a["$=="](".")&&(a="");for(var d in c.modules)d["$start_with?"](a)&&c.require(d);return l},Da.$$arity=1);c.alias(f,"send","__send__");c.alias(f,"public_send","__send__");c.defn(f,"$singleton_class",Ga=function(){return c.get_singleton_class(this)},Ga.$$arity=0);c.defn(f,"$sleep",r=function(a){null==a&&(a=l);a===l&&this.$raise(c.const_get(b,
"TypeError",!0,!0),"can't convert NilClass into time interval");a.$$is_number||this.$raise(c.const_get(b,"TypeError",!0,!0),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(c.const_get(b,"ArgumentError",!0,!0),"time interval must be positive");for(var d=new Date;new Date-d<=1E3*a;);return a},r.$$arity=-1);c.alias(f,"sprintf","format");c.defn(f,"$srand",m=function(a){null==a&&(a=c.const_get(b,"Random",!0,!0).$new_seed());return c.const_get(b,"Random",!0,!0).$srand(a)},m.$$arity=
-1);c.defn(f,"$String",Ea=function(a){var b;return!1!==(b=c.Opal["$coerce_to?"](a,c.String,"to_str"))&&b!==l&&null!=b?b:c.Opal["$coerce_to!"](a,c.String,"to_s")},Ea.$$arity=1);c.defn(f,"$tap",Ha=function(){var a=Ha.$$p,b=a||l;a&&(Ha.$$p=null);c.yield1(b,this);return this},Ha.$$arity=0);c.defn(f,"$to_proc",Ka=function(){return this},Ka.$$arity=0);c.defn(f,"$to_s",qa=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},qa.$$arity=0);c.defn(f,"$catch",Ia=function(a){var d=Ia.$$p,m=
d||l,e=l;d&&(Ia.$$p=null);try{return c.yieldX(m,[])}catch(r){if(c.rescue(r,[c.const_get(b,"UncaughtThrowError",!0,!0)])){e=r;try{return e.$sym()["$=="](a)?e.$arg():this.$raise()}finally{c.pop_exception()}}else throw r;}},Ia.$$arity=1);c.defn(f,"$throw",P=function(a){var d,m=arguments.length;d=m-0;0>d&&(d=0);d=Array(d);for(var e=0;e<m;e++)d[e-0]=arguments[e];return this.$raise(c.const_get(b,"UncaughtThrowError",!0,!0).$new(d))},P.$$arity=-1);c.defn(f,"$open",Ja=function(a){var d,m=Ja.$$p,e=m||l,r=
arguments.length;d=r-0;0>d&&(d=0);d=Array(d);for(var g=0;g<r;g++)d[g-0]=arguments[g];m&&(Ja.$$p=null);return h(c.const_get(b,"File",!0,!0),"open",c.to_a(d),e.$to_proc())},Ja.$$arity=-1)})(c.base,B);return function(a,$super,g){function h(){}a=h=k(a,$super,"Object",h);var b=a.$$scope;g=g.slice().concat(b);return a.$include(c.const_get(g,"Kernel",!0,!0))}(c.base,null,B)};Opal.modules["corelib/error"]=function(c){var w=[c],y=c.nil,B=c.klass,l=c.send,a=c.module;c.add_stubs("$new $clone $to_s $empty? $class $attr_reader $[] $> $length $inspect".split(" "));
(function(a,$super,t){function k(){}a=k=B(a,$super,"Exception",k);var e=a.$$proto,d=a.$$scope;t=t.slice().concat(d);var f,p,b,n,x,q,C,z;e.message=y;var J=c.const_get(t,"Kernel",!0,!0).$raise;c.defs(a,"$new",f=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];d=0<b.length?b[0]:y;e=new this.$$alloc(d);e.name=this.$$name;e.message=d;c.send(e,e.$initialize,b);Error.captureStackTrace&&Error.captureStackTrace(e,J);return e},f.$$arity=-1);c.defs(a,"$exception",
p=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return l(this,"new",c.to_a(b))},p.$$arity=-1);c.defn(a,"$initialize",b=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];return this.message=0<c.length?c[0]:y},b.$$arity=-1);c.defn(a,"$backtrace",n=function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},n.$$arity=0);c.defn(a,"$exception",x=function(a){null==
a&&(a=y);if(a===y||this===a)return this;var c=this.$clone();c.message=a;return c},x.$$arity=-1);c.defn(a,"$message",q=function(){return this.$to_s()},q.$$arity=0);c.defn(a,"$inspect",C=function(){var a,c=y,c=this.$to_s();return(a=c["$empty?"]())===y||null==a||a.$$is_boolean&&1!=a?"#<"+this.$class().$to_s()+": "+this.$to_s()+">":this.$class().$to_s()},C.$$arity=0);return(c.defn(a,"$to_s",z=function(){var a,c;return!1!==(a=(c=this.message,!1!==c&&c!==y&&null!=c?this.message.$to_s():c))&&a!==y&&null!=
a?a:this.$class().$to_s()},z.$$arity=0),y)&&"to_s"})(c.base,Error,w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"ScriptError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"Exception",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"SyntaxError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"ScriptError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"LoadError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,
"ScriptError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"NotImplementedError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"ScriptError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"SystemExit",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"Exception",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"NoMemoryError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"Exception",!0,!0),w);(function(a,
$super,c){function k(){}a=(k=B(a,$super,"SignalException",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"Exception",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"Interrupt",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"Exception",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"SecurityError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"Exception",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"StandardError",
k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"Exception",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"ZeroDivisionError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"NameError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"NoMethodError",k)).$$scope;c.slice().concat(a);
return y})(c.base,c.const_get(w,"NameError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"RuntimeError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"LocalJumpError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"TypeError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",
!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"ArgumentError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"IndexError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"StopIteration",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"IndexError",!0,!0),w);(function(a,$super,c){function k(){}
a=(k=B(a,$super,"KeyError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"IndexError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"RangeError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"FloatDomainError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"RangeError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"IOError",k)).$$scope;
c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(a,$super,c){function k(){}a=(k=B(a,$super,"SystemCallError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,!0),w);(function(g,h){var t=a(g,"Errno").$$scope,k=h.slice().concat(t);(function(a,$super,g){function k(){}a=k=B(a,$super,"EINVAL",k);var b=a.$$scope;g.slice().concat(b);var h;return c.defs(a,"$new",h=function(){h.$$p&&(h.$$p=null);return l(this,c.find_super_dispatcher(this,
"new",h,!1,k),["Invalid argument"],null)},h.$$arity=0)})(t.base,c.const_get(k,"SystemCallError",!0,!0),k)})(c.base,w);(function(a,$super,t){function k(){}a=k=B(a,$super,"UncaughtThrowError",k);var e=a.$$proto,d=a.$$scope;t.slice().concat(d);var f;e.sym=y;a.$attr_reader("sym","arg");return(c.defn(a,"$initialize",f=function(a){var b;f.$$p&&(f.$$p=null);this.sym=a["$[]"](0);var d=a.$length();(b="number"===typeof d?1<d:d["$>"](1))===y||null==b||b.$$is_boolean&&1!=b||(this.arg=a["$[]"](1));return l(this,
c.find_super_dispatcher(this,"initialize",f,!1),["uncaught throw "+this.sym.$inspect()],null)},f.$$arity=1),y)&&"initialize"})(c.base,c.const_get(w,"ArgumentError",!0,!0),w);(function(a,$super,t){function k(){}a=k=B(a,$super,"NameError",k);var e=a.$$scope;t.slice().concat(e);var d;a.$attr_reader("name");return(c.defn(a,"$initialize",d=function(a,e){var b=d.$$p;null==e&&(e=y);b&&(d.$$p=null);l(this,c.find_super_dispatcher(this,"initialize",d,!1),[a],null);return this.name=e},d.$$arity=-2),y)&&"initialize"})(c.base,
null,w);(function(a,$super,t){function k(){}a=k=B(a,$super,"NoMethodError",k);var e=a.$$scope;t.slice().concat(e);var d;a.$attr_reader("args");return(c.defn(a,"$initialize",d=function(a,e,b){var g=d.$$p;null==e&&(e=y);null==b&&(b=[]);g&&(d.$$p=null);l(this,c.find_super_dispatcher(this,"initialize",d,!1),[a,e],null);return this.args=b},d.$$arity=-2),y)&&"initialize"})(c.base,null,w);(function(a,$super,c){function k(){}a=k=B(a,$super,"StopIteration",k);var e=a.$$scope;c.slice().concat(e);return a.$attr_reader("result")})(c.base,
null,w);return function(c,h){var l=a(c,"JS").$$scope,k=h.slice().concat(l);(function(a,$super,c){function g(){}a=(g=B(a,$super,"Error",g)).$$scope;c.slice().concat(a);return y})(l.base,null,k)}(c.base,w)};Opal.modules["corelib/constants"]=function(c){var w=[c];c.cdecl(c,"RUBY_PLATFORM","opal");c.cdecl(c,"RUBY_ENGINE","opal");c.cdecl(c,"RUBY_VERSION","2.3.0");c.cdecl(c,"RUBY_ENGINE_VERSION","0.11.0.dev");c.cdecl(c,"RUBY_RELEASE_DATE","2016-10-31");c.cdecl(c,"RUBY_PATCHLEVEL",0);c.cdecl(c,"RUBY_REVISION",
0);c.cdecl(c,"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return c.cdecl(c,"RUBY_DESCRIPTION","opal "+c.const_get(w,"RUBY_ENGINE_VERSION",!0,!0)+" ("+c.const_get(w,"RUBY_RELEASE_DATE",!0,!0)+" revision "+c.const_get(w,"RUBY_REVISION",!0,!0)+")")};Opal.modules["opal/base"]=function(c){var w=c.top;c.add_stubs(["$require"]);w.$require("corelib/runtime");w.$require("corelib/helpers");w.$require("corelib/module");w.$require("corelib/class");w.$require("corelib/basic_object");w.$require("corelib/kernel");
w.$require("corelib/error");return w.$require("corelib/constants")};Opal.modules["corelib/nil"]=function(c){var w=[c],y=c.nil,B=c.klass;c.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(l,$super,g){function h(){}l=h=B(l,$super,"NilClass",h);var t=l.$$proto,k=l.$$scope,e=g.slice().concat(k),d,f,p,b,n,x,q,C,z,J,R,H,M,u,fa,v,la,U;t.$$meta=l;c.defn(l,"$!",d=function(){return!0},d.$$arity=0);c.defn(l,"$&",f=function(c){return!1},f.$$arity=1);c.defn(l,"$|",p=function(c){return!1!==
c&&c!==y},p.$$arity=1);c.defn(l,"$^",b=function(c){return!1!==c&&c!==y},b.$$arity=1);c.defn(l,"$==",n=function(c){return c===y},n.$$arity=1);c.defn(l,"$dup",x=function(){return this.$raise(c.const_get(e,"TypeError",!0,!0),"can't dup "+this.$class())},x.$$arity=0);c.defn(l,"$clone",q=function(){return this.$raise(c.const_get(e,"TypeError",!0,!0),"can't clone "+this.$class())},q.$$arity=0);c.defn(l,"$inspect",C=function(){return"nil"},C.$$arity=0);c.defn(l,"$nil?",z=function(){return!0},z.$$arity=0);
c.defn(l,"$singleton_class",J=function(){return c.const_get(e,"NilClass",!0,!0)},J.$$arity=0);c.defn(l,"$to_a",R=function(){return[]},R.$$arity=0);c.defn(l,"$to_h",H=function(){return c.hash()},H.$$arity=0);c.defn(l,"$to_i",M=function(){return 0},M.$$arity=0);c.alias(l,"to_f","to_i");c.defn(l,"$to_s",u=function(){return""},u.$$arity=0);c.defn(l,"$to_c",fa=function(){return c.const_get(e,"Complex",!0,!0).$new(0,0)},fa.$$arity=0);c.defn(l,"$rationalize",v=function(b){var d,g,f=arguments.length;g=f-
0;0>g&&(g=0);g=Array(g);for(var k=0;k<f;k++)g[k-0]=arguments[k];f=g.$length();(d="number"===typeof f?1<f:f["$>"](1))===y||null==d||d.$$is_boolean&&1!=d||this.$raise(c.const_get(e,"ArgumentError",!0,!0));return this.$Rational(0,1)},v.$$arity=-1);c.defn(l,"$to_r",la=function(){return this.$Rational(0,1)},la.$$arity=0);return(c.defn(l,"$instance_variables",U=function(){return[]},U.$$arity=0),y)&&"instance_variables"})(c.base,null,w);return c.cdecl(c,"NIL",y)};Opal.modules["corelib/boolean"]=function(c){var w=
[c],y=c.nil,B=c.klass;c.add_stubs(["$raise","$class"]);(function(l,$super,g){function h(){}l=h=B(l,$super,"Boolean",h);var t=l.$$proto,k=l.$$scope,e=g.slice().concat(k),d,f,p,b,n,x,q,C,z,J;t.$$is_boolean=!0;t.$$meta=l;c.defn(l,"$__id__",d=function(){return this.valueOf()?2:0},d.$$arity=0);c.alias(l,"object_id","__id__");c.defn(l,"$!",f=function(){return 1!=this},f.$$arity=0);c.defn(l,"$&",p=function(c){return 1==this?!1!==c&&c!==y:!1},p.$$arity=1);c.defn(l,"$|",b=function(c){return 1==this?!0:!1!==
c&&c!==y},b.$$arity=1);c.defn(l,"$^",n=function(c){return 1==this?!1===c||c===y:!1!==c&&c!==y},n.$$arity=1);c.defn(l,"$==",x=function(c){return 1==this===c.valueOf()},x.$$arity=1);c.alias(l,"equal?","==");c.alias(l,"eql?","==");c.defn(l,"$singleton_class",q=function(){return c.const_get(e,"Boolean",!0,!0)},q.$$arity=0);c.defn(l,"$to_s",C=function(){return 1==this?"true":"false"},C.$$arity=0);c.defn(l,"$dup",z=function(){return this.$raise(c.const_get(e,"TypeError",!0,!0),"can't dup "+this.$class())},
z.$$arity=0);return(c.defn(l,"$clone",J=function(){return this.$raise(c.const_get(e,"TypeError",!0,!0),"can't clone "+this.$class())},J.$$arity=0),y)&&"clone"})(c.base,Boolean,w);c.cdecl(c,"TrueClass",c.const_get(w,"Boolean",!0,!0));c.cdecl(c,"FalseClass",c.const_get(w,"Boolean",!0,!0));c.cdecl(c,"TRUE",!0);return c.cdecl(c,"FALSE",!1)};Opal.modules["corelib/comparable"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function y(a,c){return"number"===typeof a&&
"number"===typeof c?a<c:a["$<"](c)}var B=[c],l=c.nil,a=c.module;c.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(g,h){var t=a(g,"Comparable"),k=t.$$scope,e=h.slice().concat(k),d,f,p,b,n,x,q;c.defs(t,"$normalize",d=function(a){var b;return(b=c.Integer["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?(b=w(a,0))===l||null==b||b.$$is_boolean&&1!=b?(b=y(a,0))===l||null==b||b.$$is_boolean&&1!=b?0:-1:1:a},d.$$arity=1);c.defn(t,"$==",f=function(a){var b,d=l;try{return(b=
this["$equal?"](a))===l||null==b||b.$$is_boolean&&1!=b?this["$<=>"]==c.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,!1):(b=d=this["$<=>"](a))===l||null==b||b.$$is_boolean&&1!=b?!1:0==c.const_get(e,"Comparable",!0,!0).$normalize(d):!0}catch(g){if(c.rescue(g,[c.const_get(e,"StandardError",!0,!0)]))try{return!1}finally{c.pop_exception()}else throw g;}},f.$$arity=1);c.defn(t,"$>",p=function(a){var b,d=l;((b=d=this["$<=>"](a))===l||null==b||b.$$is_boolean&&1!=b)&&this.$raise(c.const_get(e,
"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<c.const_get(e,"Comparable",!0,!0).$normalize(d)},p.$$arity=1);c.defn(t,"$>=",b=function(a){var b,d=l;((b=d=this["$<=>"](a))===l||null==b||b.$$is_boolean&&1!=b)&&this.$raise(c.const_get(e,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=c.const_get(e,"Comparable",!0,!0).$normalize(d)},b.$$arity=1);c.defn(t,"$<",n=function(a){var b,d=l;((b=d=this["$<=>"](a))===
l||null==b||b.$$is_boolean&&1!=b)&&this.$raise(c.const_get(e,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>c.const_get(e,"Comparable",!0,!0).$normalize(d)},n.$$arity=1);c.defn(t,"$<=",x=function(a){var b,d=l;((b=d=this["$<=>"](a))===l||null==b||b.$$is_boolean&&1!=b)&&this.$raise(c.const_get(e,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=c.const_get(e,"Comparable",!0,!0).$normalize(d)},x.$$arity=1);c.defn(t,
"$between?",q=function(a,c){return y(this,a)||w(this,c)?!1:!0},q.$$arity=2)}(c.base,B)};Opal.modules["corelib/regexp"]=function(c){var w=[c],y=c.nil,B=c.klass,l=c.send,a=c.gvars;c.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));(function(a,$super,c){function k(){}a=(k=B(a,$super,"RegexpError",k)).$$scope;c.slice().concat(a);return y})(c.base,c.const_get(w,"StandardError",!0,
!0),w);(function(g,$super,t){function k(){}g=k=B(g,$super,"Regexp",k);var e=g.$$proto,d=g.$$scope,f=t.slice().concat(d),p,b,n,x,q,C,z,J,R,H;c.cdecl(d,"IGNORECASE",1);c.cdecl(d,"MULTILINE",4);e.$$is_regexp=!0;(function(b,d){var e=d.slice().concat(b),g,f,k,q,n;c.defn(b,"$allocate",g=function(){var a=g.$$p,b=y,d=b=y,e=y;a&&(g.$$p=null);d=0;e=arguments.length;for(b=Array(e);d<e;d++)b[d]=arguments[d];b=l(this,c.find_super_dispatcher(this,"allocate",g,!1),b,a);b.uninitialized=!0;return b},g.$$arity=0);
c.defn(b,"$escape",f=function(a){return c.escape_regexp(a)},f.$$arity=1);c.defn(b,"$last_match",k=function(c){var b;null==a["~"]&&(a["~"]=y);null==c&&(c=y);return(b=c["$nil?"]())===y||null==b||b.$$is_boolean&&1!=b?a["~"]["$[]"](c):a["~"]},k.$$arity=-1);c.alias(b,"quote","escape");c.defn(b,"$union",q=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];var f,k;if(0==b.length)return/(?!)/;d=b[0].$$is_array;1<b.length&&d&&this.$raise(c.const_get(e,
"TypeError",!0,!0),"no implicit conversion of Array into String");d&&(b=b[0]);f=void 0;for(var d=[],l=0;l<b.length;l++)g=b[l],g.$$is_string?d.push(this.$escape(g)):g.$$is_regexp?(k=g.$options(),void 0!=f&&f!=k&&this.$raise(c.const_get(e,"TypeError",!0,!0),"All expressions must use the same options"),f=k,d.push("("+g.source+")")):d.push(this.$escape(g.$to_str()));return this.$new(d.$join("|"),f)},q.$$arity=-1);return(c.defn(b,"$new",n=function(a,b){if(a.$$is_regexp)return new RegExp(a);a=c.Opal["$coerce_to!"](a,
c.String,"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(c.const_get(e,"RegexpError",!0,!0),"too short escape sequence: /"+a+"/");if(void 0===b||b["$!"]())return new RegExp(a);if(b.$$is_number){var d="";c.const_get(e,"IGNORECASE",!0,!0)&b&&(d+="i");c.const_get(e,"MULTILINE",!0,!0)&b&&(d+="m");b=d}else b="i";return new RegExp(a,b)},n.$$arity=-2),y)&&"new"})(c.get_singleton_class(g),f);c.defn(g,"$==",p=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},
p.$$arity=1);c.defn(g,"$===",b=function(a){return this.$match(c.Opal["$coerce_to?"](a,c.String,"to_str"))!==y},b.$$arity=1);c.defn(g,"$=~",n=function(c){var b;null==a["~"]&&(a["~"]=y);return b=this.$match(c),!1!==b&&b!==y&&null!=b?a["~"].$begin(0):b},n.$$arity=1);c.alias(g,"eql?","==");c.defn(g,"$inspect",x=function(){var a=this.toString(),c=/^\/(.*)\/([^\/]*)$/.exec(a);if(c){for(var a=c[2],c=c[1].split(""),b=c.length,d=!1,e="",g=0;g<b;g++){var f=c[g];d||"/"!=f||(e=e.concat("\\"));e=e.concat(f);d=
"\\"==f?d?!1:!0:!1}return"/"+e+"/"+a}return a},x.$$arity=0);c.defn(g,"$match",q=function(b,d){var e=q.$$p,g=e||y;null==a["~"]&&(a["~"]=y);e&&(q.$$p=null);this.uninitialized&&this.$raise(c.const_get(f,"TypeError",!0,!0),"uninitialized Regexp");d=void 0===d?0:c.Opal.$coerce_to(d,c.Integer,"to_int");if(b===y)return a["~"]=y;b=c.Opal.$coerce_to(b,c.String,"to_str");if(0>d&&(d+=b.length,0>d))return a["~"]=y;var e=this.source,k="g";this.multiline&&(e=e.replace(".","[\\s\\S]"),k+="m");for(k=new RegExp(e,
k+(this.ignoreCase?"i":""));;){e=k.exec(b);if(null===e)return a["~"]=y;if(e.index>=d)return a["~"]=c.MatchData.$new(k,e),g===y?a["~"]:g.$call(a["~"]);k.lastIndex=e.index+1}},q.$$arity=-2);c.defn(g,"$~",C=function(){null==a._&&(a._=y);return this["$=~"](a._)},C.$$arity=0);c.defn(g,"$source",z=function(){return this.source},z.$$arity=0);c.defn(g,"$options",J=function(){this.uninitialized&&this.$raise(c.const_get(f,"TypeError",!0,!0),"uninitialized Regexp");var a=0;this.multiline&&(a|=c.const_get(f,
"MULTILINE",!0,!0));this.ignoreCase&&(a|=c.const_get(f,"IGNORECASE",!0,!0));return a},J.$$arity=0);c.defn(g,"$casefold?",R=function(){return this.ignoreCase},R.$$arity=0);c.alias(g,"to_s","source");return c.defs(g,"$_load",H=function(a){return l(this,"new",c.to_a(a))},H.$$arity=1)})(c.base,RegExp,w);return function(g,$super,t){function k(){}g=k=B(g,$super,"MatchData",k);var e=g.$$proto,d=g.$$scope,f=t.slice().concat(d),p,b,n,x,q,C,z,J,R,H,M,u;e.matches=y;g.$attr_reader("post_match","pre_match","regexp",
"string");c.defn(g,"$initialize",p=function(c,b){a["~"]=this;this.regexp=c;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var d=0,e=b.length;d<e;d++){var g=b[d];null==g?this.matches.push(y):this.matches.push(g)}},p.$$arity=2);c.defn(g,"$[]",b=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return l(this.matches,"[]",c.to_a(b))},b.$$arity=-1);
c.defn(g,"$offset",n=function(a){0!==a&&this.$raise(c.const_get(f,"ArgumentError",!0,!0),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},n.$$arity=1);c.defn(g,"$==",x=function(a){var b,d,e,g;return(b=c.MatchData["$==="](a))===y||null==b||b.$$is_boolean&&1!=b?!1:(b=(d=(e=(g=this.string==a.string,!1!==g&&g!==y&&null!=g?this.regexp.toString()==a.regexp.toString():g),!1!==e&&e!==y&&null!=e?this.pre_match==a.pre_match:e),!1!==d&&d!==y&&null!=d?this.post_match==
a.post_match:d),!1!==b&&b!==y&&null!=b?this.begin==a.begin:b)},x.$$arity=1);c.alias(g,"eql?","==");c.defn(g,"$begin",q=function(a){0!==a&&this.$raise(c.const_get(f,"ArgumentError",!0,!0),"MatchData#begin only supports 0th element");return this.begin},q.$$arity=1);c.defn(g,"$end",C=function(a){0!==a&&this.$raise(c.const_get(f,"ArgumentError",!0,!0),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},C.$$arity=1);c.defn(g,"$captures",z=function(){return this.matches.slice(1)},
z.$$arity=0);c.defn(g,"$inspect",J=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),c=1,b=this.matches.length;c<b;c++)a+=" "+c+":"+this.matches[c].$inspect();return a+">"},J.$$arity=0);c.defn(g,"$length",R=function(){return this.matches.length},R.$$arity=0);c.alias(g,"size","length");c.defn(g,"$to_a",H=function(){return this.matches},H.$$arity=0);c.defn(g,"$to_s",M=function(){return this.matches[0]},M.$$arity=0);return(c.defn(g,"$values_at",u=function(a){var b,d=arguments.length;b=d-
0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];for(var g,e=[],d=0;d<b.length;d++){b[d].$$is_range&&(g=b[d].$to_a(),g.unshift(d,1),Array.prototype.splice.apply(b,g));g=c.Opal["$coerce_to!"](b[d],c.Integer,"to_int");if(0>g&&(g+=this.matches.length,0>g)){e.push(y);continue}e.push(this.matches[g])}return e},u.$$arity=-1),y)&&"values_at"}(c.base,null,w)};Opal.modules["corelib/string"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function y(a,
c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var B=c.top,l=[c],a=c.nil,g=c.klass,h=c.send,t=c.gvars;c.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $shift $__send__ $succ $escape".split(" "));B.$require("corelib/comparable");
B.$require("corelib/regexp");(function(k,$super,d){function f(){}function l(a){function d(a){var m="",r,g=a.length,f,Fa;for(r=0;r<g;r++)if(f=a.charAt(r),"-"===f&&0<r&&r<g-1&&!Fa){Fa=a.charCodeAt(r-1);f=a.charCodeAt(r+1);Fa>f&&b.$raise(c.const_get(x,"ArgumentError",!0,!0),'invalid range "'+Fa+"-"+f+'" in string transliteration');for(Fa+=1;Fa<f+1;Fa++)m+=String.fromCharCode(Fa);Fa=!0;r++}else Fa="\\"===f,m+=f;return m}function m(a,c){if(0===a.length)return c;var b="",d,r=a.length,g;for(d=0;d<r;d++)g=
a.charAt(d),-1!==c.indexOf(g)&&(b+=g);return b}var r,g,f,k,T="",h="";r=0;for(g=a.length;r<g;r++)f=c.Opal.$coerce_to(a[r],c.String,"to_str"),k="^"===f.charAt(0)&&1<f.length,f=d(k?f.slice(1):f),k?h=m(h,f):T=m(T,f);if(0<T.length&&0<h.length){f="";r=0;for(g=T.length;r<g;r++)a=T.charAt(r),-1===h.indexOf(a)&&(f+=a);T=f;h=""}return 0<T.length?"["+c.const_get(x,"Regexp",!0,!0).$escape(T)+"]":0<h.length?"[^"+c.const_get(x,"Regexp",!0,!0).$escape(h)+"]":null}var b=f=g(k,$super,"String",f);k=b.$$proto;var n=
b.$$scope,x=d.slice().concat(n),q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,B,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za,Da,Ga,r,m,Ea,Ha,Ka,qa,Ia,P,Ja,La,da,ua,Z,I,N,T;k.length=a;b.$include(c.const_get(x,"Comparable",!0,!0));k.$$is_string=!0;c.defn(b,"$__id__",q=function(){return this.toString()},q.$$arity=0);c.alias(b,"object_id","__id__");c.defs(b,"$try_convert",C=function(a){return c.Opal["$coerce_to?"](a,c.String,"to_str")},C.$$arity=1);c.defs(b,"$new",z=function(a){null==
a&&(a="");a=c.Opal.$coerce_to(a,c.String,"to_str");return new String(a)},z.$$arity=-1);c.defn(b,"$initialize",J=function(a){return void 0===a?this:this.$raise(c.const_get(x,"NotImplementedError",!0,!0),"Mutable strings are not supported in Opal.")},J.$$arity=-1);c.defn(b,"$%",R=function(b){var d;return(d=c.const_get(x,"Array",!0,!0)["$==="](b))===a||null==d||d.$$is_boolean&&1!=d?this.$format(this,b):h(this,"format",[this].concat(c.to_a(b)))},R.$$arity=1);c.defn(b,"$*",H=function(a){a=c.Opal.$coerce_to(a,
c.Integer,"to_int");0>a&&this.$raise(c.const_get(x,"ArgumentError",!0,!0),"negative argument");if(0===a)return"";var b="",d=this.toString();for(268435456<=d.length*a&&this.$raise(c.const_get(x,"RangeError",!0,!0),"multiply count must not overflow maximum string size");;){1===(a&1)&&(b+=d);a>>>=1;if(0===a)break;d+=d}return b},H.$$arity=1);c.defn(b,"$+",M=function(a){a=c.Opal.$coerce_to(a,c.String,"to_str");return this+a.$to_s()},M.$$arity=1);c.defn(b,"$<=>",u=function(c){var b;if((b=c["$respond_to?"]("to_str"))===
a||null==b||b.$$is_boolean&&1!=b)return c=c["$<=>"](this),c===a?a:0<c?-1:0>c?1:0;c=c.$to_str().$to_s();return this>c?1:this<c?-1:0},u.$$arity=1);c.defn(b,"$==",fa=function(a){return a.$$is_string?this.toString()===a.toString():c.Opal["$respond_to?"](a,"to_str")?a["$=="](this):!1},fa.$$arity=1);c.alias(b,"eql?","==");c.alias(b,"===","==");c.defn(b,"$=~",v=function(a){a.$$is_string&&this.$raise(c.const_get(x,"TypeError",!0,!0),"type mismatch: String given");return a["$=~"](this)},v.$$arity=1);c.defn(b,
"$[]",la=function(b,d){var m=this.length,r;if(b.$$is_range){r=b.exclude;d=c.Opal.$coerce_to(b.end,c.Integer,"to_int");b=c.Opal.$coerce_to(b.begin,c.Integer,"to_int");if(Math.abs(b)>m)return a;0>b&&(b+=m);0>d&&(d+=m);r||(d+=1);d-=b;0>d&&(d=0);return this.substr(b,d)}if(b.$$is_string)return null!=d&&this.$raise(c.const_get(x,"TypeError",!0,!0)),-1!==this.indexOf(b)?b:a;if(b.$$is_regexp){m=this.match(b);if(null===m)return t["~"]=a;t["~"]=c.MatchData.$new(b,m);if(null==d)return m[0];d=c.Opal.$coerce_to(d,
c.Integer,"to_int");return 0>d&&-d<m.length?m[d+m.length]:0<=d&&d<m.length?m[d]:a}b=c.Opal.$coerce_to(b,c.Integer,"to_int");0>b&&(b+=m);if(null==d)return b>=m||0>b?a:this.substr(b,1);d=c.Opal.$coerce_to(d,c.Integer,"to_int");return 0>d||b>m||0>b?a:this.substr(b,d)},la.$$arity=-2);c.alias(b,"byteslice","[]");c.defn(b,"$capitalize",U=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},U.$$arity=0);c.defn(b,"$casecmp",ea=function(a){var b=this;a=c.Opal.$coerce_to(a,c.String,
"to_str").$to_s();var d=/^[\x00-\x7F]*$/;d.test(b)&&d.test(a)&&(b=b.toLowerCase(),a=a.toLowerCase());return b["$<=>"](a)},ea.$$arity=1);c.defn(b,"$center",ca=function(b,d){var m;null==d&&(d=" ");b=c.Opal.$coerce_to(b,c.Integer,"to_int");d=c.Opal.$coerce_to(d,c.String,"to_str").$to_s();(m=d["$empty?"]())===a||null==m||m.$$is_boolean&&1!=m||this.$raise(c.const_get(x,"ArgumentError",!0,!0),"zero width padding");if((m=b<=this.length)!==a&&null!=m&&(!m.$$is_boolean||1==m))return this;m=this.$ljust(w(y(b,
this.length),2).$ceil(),d);return this.$rjust(w(y(b,this.length),2).$floor(),d)+m.slice(this.length)},ca.$$arity=-2);c.defn(b,"$chars",A=function(){var c=A.$$p,b=c||a;c&&(A.$$p=null);return!1===b||b===a||null==b?this.$each_char().$to_a():h(this,"each_char",[],b.$to_proc())},A.$$arity=0);c.defn(b,"$chomp",V=function(b){var d;null==t["/"]&&(t["/"]=a);null==b&&(b=t["/"]);if((d=b===a||0===this.length)!==a&&null!=d&&(!d.$$is_boolean||1==d))return this;b=c.Opal["$coerce_to!"](b,c.String,"to_str").$to_s();
return"\n"===b?this.replace(/\r?\n?$/,""):""===b?this.replace(/(\r?\n)+$/,""):this.length>b.length&&this.substr(this.length-b.length,b.length)===b?this.substr(0,this.length-b.length):this},V.$$arity=-1);c.defn(b,"$chop",W=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},W.$$arity=0);c.defn(b,"$chr",Q=function(){return this.charAt(0)},Q.$$arity=0);c.defn(b,"$clone",G=function(){var c=a,c=this.slice();c.$copy_singleton_methods(this);
c.$initialize_clone(this);return c},G.$$arity=0);c.defn(b,"$dup",O=function(){var c=a,c=this.slice();c.$initialize_dup(this);return c},O.$$arity=0);c.defn(b,"$count",F=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var m=0;m<d;m++)b[m-0]=arguments[m];0===b.length&&this.$raise(c.const_get(x,"ArgumentError",!0,!0),"ArgumentError: wrong number of arguments (0 for 1+)");d=l(b);return null===d?0:this.length-this.replace(new RegExp(d,"g"),"").length},F.$$arity=-1);c.defn(b,"$delete",
L=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var m=0;m<d;m++)b[m-0]=arguments[m];0===b.length&&this.$raise(c.const_get(x,"ArgumentError",!0,!0),"ArgumentError: wrong number of arguments (0 for 1+)");d=l(b);return null===d?this:this.replace(new RegExp(d,"g"),"")},L.$$arity=-1);c.defn(b,"$downcase",D=function(){return this.toLowerCase()},D.$$arity=0);c.defn(b,"$each_char",ba=function(){var b,d=ba.$$p,m=d||a;d&&(ba.$$p=null);if(m===a)return h(this,"enum_for",["each_char"],(b=
function(){return(b.$$s||this).$size()},b.$$s=this,b.$$arity=0,b));for(var d=0,r=this.length;d<r;d++)c.yield1(m,this.charAt(d));return this},ba.$$arity=0);c.defn(b,"$each_line",ia=function(b){var d=ia.$$p,m=d||a;null==t["/"]&&(t["/"]=a);null==b&&(b=t["/"]);d&&(ia.$$p=null);if(m===a)return this.$enum_for("each_line",b);if(b===a)return c.yield1(m,this),this;b=c.Opal.$coerce_to(b,c.String,"to_str");var r,g,f;if(0===b.length){b=this.split(/(\n{2,})/);d=0;for(r=b.length;d<r;d+=2)(b[d]||b[d+1])&&c.yield1(m,
(b[d]||"")+(b[d+1]||""));return this}d=this.$chomp(b);r=this.length!=d.length;f=d.split(b);d=0;for(g=f.length;d<g;d++)d<g-1||r?c.yield1(m,f[d]+b):c.yield1(m,f[d]);return this},ia.$$arity=-1);c.defn(b,"$empty?",na=function(){return 0===this.length},na.$$arity=0);c.defn(b,"$end_with?",pa=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var m=0;m<d;m++)b[m-0]=arguments[m];d=0;for(m=b.length;d<m;d++){var r=c.Opal.$coerce_to(b[d],c.String,"to_str").$to_s();if(this.length>=r.length&&
this.substr(this.length-r.length,r.length)==r)return!0}return!1},pa.$$arity=-1);c.alias(b,"eql?","==");c.alias(b,"equal?","===");c.defn(b,"$gsub",ja=function(b,d){var m=this,r=ja.$$p,g=r||a;r&&(ja.$$p=null);if(void 0===d&&g===a)return m.$enum_for("gsub",b);var r="",f=a,k=0,T,h;b.$$is_regexp?b=new RegExp(b.source,"gm"+(b.ignoreCase?"i":"")):(b=c.Opal.$coerce_to(b,c.String,"to_str"),b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){T=b.exec(m);if(null===T){t["~"]=a;r+=m.slice(k);break}f=
c.MatchData.$new(b,T);void 0===d?h=g(T[0]):d.$$is_hash?h=d["$[]"](T[0]).$to_s():(d.$$is_string||(d=c.Opal.$coerce_to(d,c.String,"to_str")),h=d.replace(/([\\]+)([0-9+&`'])/g,function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=T.length-1;0<a;a--)if(void 0!==T[a])return c.slice(1)+T[a];return"";case "&":return c.slice(1)+T[0];case "`":return c.slice(1)+m.slice(0,T.index);case "'":return c.slice(1)+m.slice(T.index+T[0].length);default:return c.slice(1)+(T[b]||"")}}).replace(/\\\\/g,"\\"));
b.lastIndex===T.index?(r+=h+m.slice(k,T.index+1),b.lastIndex+=1):r+=m.slice(k,T.index)+h;k=b.lastIndex}t["~"]=f;return r},ja.$$arity=-2);c.defn(b,"$hash",K=function(){return this.toString()},K.$$arity=0);c.defn(b,"$hex",ga=function(){return this.$to_i(16)},ga.$$arity=0);c.defn(b,"$include?",ha=function(a){a.$$is_string||(a=c.Opal.$coerce_to(a,c.String,"to_str"));return-1!==this.indexOf(a)},ha.$$arity=1);c.defn(b,"$index",X=function(b,d){var m,r;if(void 0===d)d=0;else if(d=c.Opal.$coerce_to(d,c.Integer,
"to_int"),0>d&&(d+=this.length,0>d))return a;if(b.$$is_regexp)for(r=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));;){m=r.exec(this);if(null===m){t["~"]=a;m=-1;break}if(m.index>=d){t["~"]=c.MatchData.$new(r,m);m=m.index;break}r.lastIndex=m.index+1}else b=c.Opal.$coerce_to(b,c.String,"to_str"),m=0===b.length&&d>this.length?-1:this.indexOf(b,d);return-1===m?a:m},X.$$arity=-2);c.defn(b,"$inspect",ma=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",
"\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,function(c){return a[c]||"\\u"+("0000"+c.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},ma.$$arity=0);c.defn(b,"$intern",ka=function(){return this},ka.$$arity=0);c.defn(b,"$lines",sa=function(c){var b=sa.$$p,d=b||a,m=a;null==t["/"]&&(t["/"]=a);null==c&&(c=t["/"]);b&&(sa.$$p=null);
m=h(this,"each_line",[c],d.$to_proc());return!1!==d&&d!==a&&null!=d?this:m.$to_a()},sa.$$arity=-1);c.defn(b,"$length",wa=function(){return this.length},wa.$$arity=0);c.defn(b,"$ljust",B=function(b,d){var m;null==d&&(d=" ");b=c.Opal.$coerce_to(b,c.Integer,"to_int");d=c.Opal.$coerce_to(d,c.String,"to_str").$to_s();(m=d["$empty?"]())===a||null==m||m.$$is_boolean&&1!=m||this.$raise(c.const_get(x,"ArgumentError",!0,!0),"zero width padding");if((m=b<=this.length)!==a&&null!=m&&(!m.$$is_boolean||1==m))return this;
m=-1;var r="";for(b-=this.length;++m<b;)r+=d;return this+r.slice(0,b)},B.$$arity=-2);c.defn(b,"$lstrip",ra=function(){return this.replace(/^\s*/,"")},ra.$$arity=0);c.defn(b,"$ascii_only?",va=function(){return this.match(/[ -~\n]*/)[0]===this},va.$$arity=0);c.defn(b,"$match",oa=function(b,d){var m,r,g=oa.$$p,f=g||a;g&&(oa.$$p=null);(m=!1!==(r=c.String["$==="](b))&&r!==a&&null!=r?r:b["$respond_to?"]("to_str"))===a||null==m||m.$$is_boolean&&1!=m||(b=c.const_get(x,"Regexp",!0,!0).$new(b.$to_str()));((m=
c.const_get(x,"Regexp",!0,!0)["$==="](b))===a||null==m||m.$$is_boolean&&1!=m)&&this.$raise(c.const_get(x,"TypeError",!0,!0),"wrong argument type "+b.$class()+" (expected Regexp)");return h(b,"match",[this,d],f.$to_proc())},oa.$$arity=-2);c.defn(b,"$next",ta=function(){var a=this.length;if(0===a)return"";for(var c=this,b=this.search(/[a-zA-Z0-9]/),d=!1,m;a--;){m=this.charCodeAt(a);if(48<=m&&57>=m||65<=m&&90>=m||97<=m&&122>=m)switch(m){case 57:d=!0;m=48;break;case 90:d=!0;m=65;break;case 122:d=!0;m=
97;break;default:d=!1,m+=1}else-1===b?255===m?(d=!0,m=0):(d=!1,m+=1):d=!0;c=c.slice(0,a)+String.fromCharCode(m)+c.slice(a+1);if(d&&(0===a||a===b)){switch(m){case 65:break;case 97:break;default:m+=1}c=0===a?String.fromCharCode(m)+c:c.slice(0,a)+String.fromCharCode(m)+c.slice(a);d=!1}if(!d)break}return c},ta.$$arity=0);c.defn(b,"$oct",E=function(){var a;a=this;var c=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,b,d,m){switch(m.charAt(0)){case "+":case "-":return a;
case "0":if("x"===m.charAt(1)&&"0x"===d)return a}switch(d){case "0b":c=2;break;case "0":case "0o":c=8;break;case "0d":c=10;break;case "0x":c=16}return b+m});a=parseInt(a.replace(/_(?!_)/g,""),c);return isNaN(a)?0:a},E.$$arity=0);c.defn(b,"$ord",S=function(){return this.charCodeAt(0)},S.$$arity=0);c.defn(b,"$partition",Y=function(a){var b;a.$$is_regexp?(b=a.exec(this),null===b?b=-1:(c.MatchData.$new(a,b),a=b[0],b=b.index)):(a=c.Opal.$coerce_to(a,c.String,"to_str"),b=this.indexOf(a));return-1===b?[this,
"",""]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+a.length)]},Y.$$arity=1);c.defn(b,"$reverse",aa=function(){return this.split("").reverse().join("")},aa.$$arity=0);c.defn(b,"$rindex",ya=function(b,d){var m,r,g;if(void 0===d)d=this.length;else if(d=c.Opal.$coerce_to(d,c.Integer,"to_int"),0>d&&(d+=this.length,0>d))return a;if(b.$$is_regexp){m=null;for(r=new RegExp(b.source,"gm"+(b.ignoreCase?"i":""));;){g=r.exec(this);if(null===g||g.index>d)break;m=g;r.lastIndex=m.index+1}null===m?(t["~"]=
a,m=-1):(c.MatchData.$new(r,m),m=m.index)}else b=c.Opal.$coerce_to(b,c.String,"to_str"),m=this.lastIndexOf(b,d);return-1===m?a:m},ya.$$arity=-2);c.defn(b,"$rjust",Aa=function(b,d){var m;null==d&&(d=" ");b=c.Opal.$coerce_to(b,c.Integer,"to_int");d=c.Opal.$coerce_to(d,c.String,"to_str").$to_s();(m=d["$empty?"]())===a||null==m||m.$$is_boolean&&1!=m||this.$raise(c.const_get(x,"ArgumentError",!0,!0),"zero width padding");if((m=b<=this.length)!==a&&null!=m&&(!m.$$is_boolean||1==m))return this;m=Math.floor(b-
this.length);var r=Array(Math.floor(m/d.length)+1).join(d);return r+d.slice(0,m-r.length)+this},Aa.$$arity=-2);c.defn(b,"$rpartition",Ba=function(a){var b,d,m;if(a.$$is_regexp){b=null;for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){m=d.exec(this);if(null===m)break;b=m;d.lastIndex=b.index+1}null===b?b=-1:(c.MatchData.$new(d,b),a=b[0],b=b.index)}else a=c.Opal.$coerce_to(a,c.String,"to_str"),b=this.lastIndexOf(a);return-1===b?["","",this]:[this.slice(0,b),this.slice(b,b+a.length),this.slice(b+
a.length)]},Ba.$$arity=1);c.defn(b,"$rstrip",Ca=function(){return this.replace(/[\s\u0000]*$/,"")},Ca.$$arity=0);c.defn(b,"$scan",za=function(b){var d=za.$$p,m=d||a;d&&(za.$$p=null);var d=[],r=a,g;b.$$is_regexp?b=new RegExp(b.source,"gm"+(b.ignoreCase?"i":"")):(b=c.Opal.$coerce_to(b,c.String,"to_str"),b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(g=b.exec(this));)r=c.MatchData.$new(b,g),m===a?1==g.length?d.push(g[0]):d.push(r.$captures()):1==g.length?m(g[0]):m.call(this,
r.$captures()),b.lastIndex===g.index&&(b.lastIndex+=1);t["~"]=r;return m!==a?this:d},za.$$arity=1);c.alias(b,"size","length");c.alias(b,"slice","[]");c.defn(b,"$split",Da=function(b,d){var m;null==t[";"]&&(t[";"]=a);if(0===this.length)return[];if(void 0===d)d=0;else if(d=c.Opal["$coerce_to!"](d,c.Integer,"to_int"),1===d)return[this];if(void 0===b||b===a)b=!1!==(m=t[";"])&&m!==a&&null!=m?m:" ";m=[];var r=this.toString(),g=0,f,k;b.$$is_regexp?b=new RegExp(b.source,"gm"+(b.ignoreCase?"i":"")):(b=c.Opal.$coerce_to(b,
c.String,"to_str").$to_s()," "===b?(b=/\s+/gm,r=r.replace(/^\s+/,"")):b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));m=r.split(b);if(1===m.length&&m[0]===r)return m;for(;-1!==(k=m.indexOf(void 0));)m.splice(k,1);if(0===d){for(;""===m[m.length-1];)--m.length;return m}f=b.exec(r);if(0>d){if(null!==f&&""===f[0]&&-1===b.source.indexOf("(?="))for(k=0;k<f.length;k++)m.push("");return m}if(null!==f&&""===f[0])return m.splice(d-1,m.length-1,m.slice(d-1).join("")),m;if(d>=m.length)return m;for(k=
0;null!==f;){k++;g=b.lastIndex;if(k+1===d)break;f=b.exec(r)}m.splice(d-1,m.length-1,r.slice(g));return m},Da.$$arity=-1);c.defn(b,"$squeeze",Ga=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var d=0;d<b;d++)c[d-0]=arguments[d];if(0===c.length)return this.replace(/(.)\1+/g,"$1");b=l(c);return null===b?this:this.replace(new RegExp("("+b+")\\1+","g"),"$1")},Ga.$$arity=-1);c.defn(b,"$start_with?",r=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var m=0;m<d;m++)b[m-
0]=arguments[m];d=0;for(m=b.length;d<m;d++){var r=c.Opal.$coerce_to(b[d],c.String,"to_str").$to_s();if(0===this.indexOf(r))return!0}return!1},r.$$arity=-1);c.defn(b,"$strip",m=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},m.$$arity=0);c.defn(b,"$sub",Ea=function(b,d){var m=this,r=Ea.$$p,g=r||a;r&&(Ea.$$p=null);b.$$is_regexp||(b=c.Opal.$coerce_to(b,c.String,"to_str"),b=new RegExp(b.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var f=b.exec(m);if(null===f)return t["~"]=a,m.toString();
c.MatchData.$new(b,f);if(void 0===d)return g===a&&m.$raise(c.const_get(x,"ArgumentError",!0,!0),"wrong number of arguments (1 for 2)"),m.slice(0,f.index)+g(f[0])+m.slice(f.index+f[0].length);if(d.$$is_hash)return m.slice(0,f.index)+d["$[]"](f[0]).$to_s()+m.slice(f.index+f[0].length);d=c.Opal.$coerce_to(d,c.String,"to_str");d=d.replace(/([\\]+)([0-9+&`'])/g,function(a,c,b){if(0===c.length%2)return a;switch(b){case "+":for(a=f.length-1;0<a;a--)if(void 0!==f[a])return c.slice(1)+f[a];return"";case "&":return c.slice(1)+
f[0];case "`":return c.slice(1)+m.slice(0,f.index);case "'":return c.slice(1)+m.slice(f.index+f[0].length);default:return c.slice(1)+(f[b]||"")}}).replace(/\\\\/g,"\\");return m.slice(0,f.index)+d+m.slice(f.index+f[0].length)},Ea.$$arity=-2);c.alias(b,"succ","next");c.defn(b,"$sum",Ha=function(a){null==a&&(a=16);a=c.Opal.$coerce_to(a,c.Integer,"to_int");for(var b=0,d=this.length,m=0;m<d;m++)b+=this.charCodeAt(m);return 0>=a?b:b&Math.pow(2,a)-1},Ha.$$arity=-1);c.defn(b,"$swapcase",Ka=function(){var a=
this.replace(/([a-z]+)|([A-Z]+)/g,function(a,c,b){return c?a.toUpperCase():a.toLowerCase()});return this.constructor===String?a:this.$class().$new(a)},Ka.$$arity=0);c.defn(b,"$to_f",qa=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},qa.$$arity=0);c.defn(b,"$to_i",Ia=function(a){null==a&&(a=10);var b=this.toLowerCase(),d=c.Opal.$coerce_to(a,c.Integer,"to_int");(1===d||0>d||36<d)&&this.$raise(c.const_get(x,"ArgumentError",
!0,!0),"invalid radix "+d);if(/^\s*_/.test(b))return 0;b=b.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,c,b,m){switch(m.charAt(0)){case "+":case "-":return a;case "0":if("x"===m.charAt(1)&&"0x"===b&&(0===d||16===d))return a}switch(b){case "0b":if(0===d||2===d)return d=2,c+m;break;case "0":case "0o":if(0===d||8===d)return d=8,c+m;break;case "0d":if(0===d||10===d)return d=10,c+m;break;case "0x":if(0===d||16===d)return d=16,c+m}return a});a=parseInt(b.replace(/_(?!_)/g,""),d);return isNaN(a)?0:a},
Ia.$$arity=-1);c.defn(b,"$to_proc",P=function(){var b,d=a,d=this;return h(this,"proc",[],(b=function(m){var r=b.$$s||this,g,f,k,T=a;if(g=b.$$p||a)b.$$p=null;T=arguments.length;f=T-0;0>f&&(f=0);f=Array(f);for(var l=0;l<T;l++)f[l-0]=arguments[l];(k=f["$empty?"]())===a||null==k||k.$$is_boolean&&1!=k||r.$raise(c.const_get(x,"ArgumentError",!0,!0),"no receiver given");T=f.$shift();return h(T,"__send__",[d].concat(c.to_a(f)),g.$to_proc())},b.$$s=this,b.$$arity=-1,b))},P.$$arity=0);c.defn(b,"$to_s",Ja=function(){return this.toString()},
Ja.$$arity=0);c.alias(b,"to_str","to_s");c.alias(b,"to_sym","intern");c.defn(b,"$tr",La=function(a,b){a=c.Opal.$coerce_to(a,c.String,"to_str").$to_s();b=c.Opal.$coerce_to(b,c.String,"to_str").$to_s();if(0==a.length||a===b)return this;var d,m,r,g,f,k={};f=a.split("");var T=f.length,h=b.split(""),l=h.length,E=!1,N=null;"^"===f[0]&&1<f.length&&(E=!0,f.shift(),N=h[l-1],--T);var I=[];r=null;m=!1;for(d=0;d<T;d++)if(g=f[d],null==r)r=g,I.push(g);else if("-"===g)"-"===r?(I.push("-"),I.push("-")):d==T-1?I.push("-"):
m=!0;else if(m){r=r.charCodeAt(0);m=g.charCodeAt(0);r>m&&this.$raise(c.const_get(x,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(r)+"-"+String.fromCharCode(m)+'" in string transliteration');for(r+=1;r<m;r++)I.push(String.fromCharCode(r));I.push(g);r=m=null}else I.push(g);f=I;T=f.length;if(E)for(d=0;d<T;d++)k[f[d]]=!0;else{if(0<l){I=[];r=null;m=!1;for(d=0;d<l;d++)if(g=h[d],null==r)r=g,I.push(g);else if("-"===g)"-"===r?(I.push("-"),I.push("-")):d==l-1?I.push("-"):m=!0;else if(m){r=r.charCodeAt(0);
m=g.charCodeAt(0);r>m&&this.$raise(c.const_get(x,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(r)+"-"+String.fromCharCode(m)+'" in string transliteration');for(r+=1;r<m;r++)I.push(String.fromCharCode(r));I.push(g);r=m=null}else I.push(g);h=I;l=h.length}g=T-l;if(0<g)for(l=0<l?h[l-1]:"",d=0;d<g;d++)h.push(l);for(d=0;d<T;d++)k[f[d]]=h[d]}T="";d=0;for(f=this.length;d<f;d++)g=this.charAt(d),h=k[g],T=E?T+(null==h?N:g):T+(null!=h?h:g);return T},La.$$arity=2);c.defn(b,"$tr_s",da=function(a,
b){a=c.Opal.$coerce_to(a,c.String,"to_str").$to_s();b=c.Opal.$coerce_to(b,c.String,"to_str").$to_s();if(0==a.length)return this;var d,m,r,g,f,k={};f=a.split("");var T=f.length,h=b.split(""),l=h.length,E=!1,I=null;"^"===f[0]&&1<f.length&&(E=!0,f.shift(),I=h[l-1],--T);var N=[];r=null;m=!1;for(d=0;d<T;d++)if(g=f[d],null==r)r=g,N.push(g);else if("-"===g)"-"===r?(N.push("-"),N.push("-")):d==T-1?N.push("-"):m=!0;else if(m){r=r.charCodeAt(0);m=g.charCodeAt(0);r>m&&this.$raise(c.const_get(x,"ArgumentError",
!0,!0),'invalid range "'+String.fromCharCode(r)+"-"+String.fromCharCode(m)+'" in string transliteration');for(r+=1;r<m;r++)N.push(String.fromCharCode(r));N.push(g);r=m=null}else N.push(g);f=N;T=f.length;if(E)for(d=0;d<T;d++)k[f[d]]=!0;else{if(0<l){N=[];m=!1;for(d=0;d<l;d++)if(g=h[d],null==r)r=g,N.push(g);else if("-"===g)d==l-1?N.push("-"):m=!0;else if(m){r=r.charCodeAt(0);m=g.charCodeAt(0);r>m&&this.$raise(c.const_get(x,"ArgumentError",!0,!0),'invalid range "'+String.fromCharCode(r)+"-"+String.fromCharCode(m)+
'" in string transliteration');for(r+=1;r<m;r++)N.push(String.fromCharCode(r));N.push(g);r=m=null}else N.push(g);h=N;l=h.length}g=T-l;if(0<g)for(l=0<l?h[l-1]:"",d=0;d<g;d++)h.push(l);for(d=0;d<T;d++)k[f[d]]=h[d]}T="";h=null;d=0;for(f=this.length;d<f;d++)if(g=this.charAt(d),l=k[g],E)null==l?null==h&&(T+=I,h=!0):(T+=g,h=null);else if(null!=l){if(null==h||h!==l)T+=l,h=l}else T+=g,h=null;return T},da.$$arity=2);c.defn(b,"$upcase",ua=function(){return this.toUpperCase()},ua.$$arity=0);c.defn(b,"$upto",
Z=function(b,d){var m=Z.$$p,r=m||a;null==d&&(d=!1);m&&(Z.$$p=null);if(r===a)return this.$enum_for("upto",b,d);b=c.Opal.$coerce_to(b,c.String,"to_str");var g,m=this.toString();if(1===m.length&&1===b.length)for(m=m.charCodeAt(0),g=b.charCodeAt(0);m<=g&&(!d||m!==g);)r(String.fromCharCode(m)),m+=1;else if(parseInt(m,10).toString()===m&&parseInt(b,10).toString()===b)for(m=parseInt(m,10),g=parseInt(b,10);m<=g&&(!d||m!==g);)r(m.toString()),m+=1;else for(;m.length<=b.length&&m<=b&&(!d||m!==b);)r(m),m=m.$succ();
return this},Z.$$arity=-2);c.defn(b,"$instance_variables",I=function(){return[]},I.$$arity=0);c.defs(b,"$_load",N=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var m=0;m<d;m++)b[m-0]=arguments[m];return h(this,"new",c.to_a(b))},N.$$arity=-1);return(c.defn(b,"$unpack",T=function(b){var d=a;d=b;if("U*"["$==="](d)||"C*"["$==="](d)){var m=this.length,r=[];for(b=0;b<m;b++)d=this.charCodeAt(b),r.push(d);b=r}else b=this.$raise(c.const_get(x,"NotImplementedError",!0,!0));return b},
T.$$arity=1),a)&&"unpack"})(c.base,String,l);return c.cdecl(c,"Symbol",c.String)};Opal.modules["corelib/enumerable"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var B=[c],l=c.nil,a=c.module,g=c.send;c.add_stubs("$each $destructure $raise $new $yield $slice_when $! $enum_for $enumerator_size $flatten $map $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $to_enum $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $lambda $sort! $map! $zip".split(" "));
return function(h,t){var k=a(h,"Enumerable"),e=k.$$scope,d=t.slice().concat(e),f,p,b,n,x,q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,B,ra,va,oa,ta;c.defn(k,"$all?",f=function(){try{var a,b,d=f.$$p,e=d||l;d&&(f.$$p=null);e!==l?g(this,"each",[],(a=function(a){var b,d,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var f=0;f<g;f++)b[f-0]=arguments[f];if((d=c.yieldX(e,c.to_a(b)))===l||null==d||d.$$is_boolean&&1!=d)c.ret(!1);else return l},a.$$s=this,a.$$arity=
-1,a)):g(this,"each",[],(b=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];if((d=c.Opal.$destructure(b))===l||null==d||d.$$is_boolean&&1!=d)c.ret(!1);else return l},b.$$s=this,b.$$arity=-1,b));return!0}catch(k){if(k===c.returner)return k.$v;throw k;}},f.$$arity=0);c.defn(k,"$any?",p=function(){try{var a,b,d=p.$$p,e=d||l;d&&(p.$$p=null);e!==l?g(this,"each",[],(a=function(a){var b,d,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var f=0;f<
g;f++)b[f-0]=arguments[f];if((d=c.yieldX(e,c.to_a(b)))===l||null==d||d.$$is_boolean&&1!=d)return l;c.ret(!0)},a.$$s=this,a.$$arity=-1,a)):g(this,"each",[],(b=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];if((d=c.Opal.$destructure(b))===l||null==d||d.$$is_boolean&&1!=d)return l;c.ret(!0)},b.$$s=this,b.$$arity=-1,b));return!1}catch(f){if(f===c.returner)return f.$v;throw f;}},p.$$arity=0);c.defn(k,"$chunk",b=function(){var a,e=b.$$p,f=e||l;
e&&(b.$$p=null);f===l&&c.const_get(d,"Kernel",!0,!0).$raise(c.const_get(d,"ArgumentError",!0,!0),"no block given");return g(c.const_get([c.Object.$$scope],"Enumerator",!0,!0),"new",[],(a=function(b){function d(){0<k.length&&b.$yield(g,k)}var e=a.$$s||this;null==b&&(b=l);var g=l,k=[];e.$each.$$p=function(a){var b=c.yield1(f,a);b===l?(d(),k=[],g=l):(g===l||g===b?k.push(a):(d(),k=[a]),g=b)};e.$each();d()},a.$$s=this,a.$$arity=1,a))},b.$$arity=0);c.defn(k,"$chunk_while",n=function(){var a,b=n.$$p,e=b||
l;b&&(n.$$p=null);e===l&&this.$raise(c.const_get(d,"ArgumentError",!0,!0),"no block given");return g(this,"slice_when",[],(a=function(a,b){null==a&&(a=l);null==b&&(b=l);return c.yieldX(e,[a,b])["$!"]()},a.$$s=this,a.$$arity=2,a))},n.$$arity=0);c.defn(k,"$collect",x=function(){var a,b=x.$$p,d=b||l;b&&(x.$$p=null);if(d===l)return g(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){var a=c.yieldX(d,arguments);
e.push(a)};this.$each();return e},x.$$arity=0);c.defn(k,"$collect_concat",q=function(){var a,b,d=q.$$p,e=d||l;d&&(q.$$p=null);return e===l?g(this,"enum_for",["collect_concat"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a)):g(this,"map",[],(b=function(a){null==a&&(a=l);return c.yield1(e,a)},b.$$s=this,b.$$arity=1,b)).$flatten(1)},q.$$arity=0);c.defn(k,"$count",C=function(a){var b,d,e,f,k=C.$$p,h=k||l,q=l;k&&(C.$$p=null);q=0;(b=null!=a)===l||null==b||b.$$is_boolean&&
1!=b?(b=h["$nil?"]())===l||null==b||b.$$is_boolean&&1!=b||(h=g(this,"proc",[],(e=function(){return!0},e.$$s=this,e.$$arity=0,e))):h=g(this,"proc",[],(d=function(b){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var r=0;r<e;r++)d[r-0]=arguments[r];return c.Opal.$destructure(d)["$=="](a)},d.$$s=this,d.$$arity=-1,d));g(this,"each",[],(f=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var m=0;m<e;m++)b[m-0]=arguments[m];return(d=c.yieldX(h,b))===l||null==d||d.$$is_boolean&&
1!=d?l:q++},f.$$s=this,f.$$arity=-1,f));return q},C.$$arity=-1);c.defn(k,"$cycle",z=function(a){var b,e,f=z.$$p,k=f||l;null==a&&(a=l);f&&(z.$$p=null);if(k===l)return g(this,"enum_for",["cycle",a],(b=function(){var e=b.$$s||this,g;if(a["$=="](l))return(g=e["$respond_to?"]("size"))===l||null==g||g.$$is_boolean&&1!=g?l:c.const_get([c.const_get(d,"Float",!0,!0).$$scope],"INFINITY",!0,!0);a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");if((g=w(a,0))===l||null==g||g.$$is_boolean&&1!=g)return 0;e=e.$enumerator_size();
return"number"===typeof e&&"number"===typeof a?e*a:e["$*"](a)},b.$$s=this,b.$$arity=0,b));if((e=a["$nil?"]())===l||null==e||e.$$is_boolean&&1!=e)if(a=c.Opal["$coerce_to!"](a,c.Integer,"to_int"),(e=0>=a)!==l&&null!=e&&(!e.$$is_boolean||1==e))return l;var h=[];this.$each.$$p=function(){var a=c.Opal.$destructure(arguments);c.yield1(k,a);h.push(a)};this.$each();if(0===h.length)return l;if(a===l)for(;;)for(e=0,f=h.length;e<f;e++)c.yield1(k,h[e]);else for(;1<a;){e=0;for(f=h.length;e<f;e++)c.yield1(k,h[e]);
a--}},z.$$arity=-1);c.defn(k,"$detect",J=function(a){try{var b,d=J.$$p,e=d||l;d&&(J.$$p=null);if(e===l)return this.$enum_for("detect",a);g(this,"each",[],(b=function(a){var b,d,g=l,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var f=0;f<g;f++)b[f-0]=arguments[f];g=c.Opal.$destructure(b);if((d=c.yield1(e,g))===l||null==d||d.$$is_boolean&&1!=d)return l;c.ret(g)},b.$$s=this,b.$$arity=-1,b));return void 0!==a?"function"===typeof a?a():a:l}catch(f){if(f===c.returner)return f.$v;throw f;}},J.$$arity=
-1);c.defn(k,"$drop",R=function(a){var b;a=c.Opal.$coerce_to(a,c.Integer,"to_int");(b=0>a)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"attempt to drop negative size");var e=[],g=0;this.$each.$$p=function(){a<=g&&e.push(c.Opal.$destructure(arguments));g++};this.$each();return e},R.$$arity=1);c.defn(k,"$drop_while",H=function(){var a,b=H.$$p,d=b||l;b&&(H.$$p=null);if(d===l)return this.$enum_for("drop_while");var e=[],g=!0;this.$each.$$p=function(){var b=c.Opal.$destructure(arguments);
if(g){if((a=c.yield1(d,b))===l||null==a||a.$$is_boolean&&0==a)g=!1,e.push(b)}else e.push(b)};this.$each();return e},H.$$arity=0);c.defn(k,"$each_cons",M=function(a){var b,e,f=M.$$p,k=f||l;f&&(M.$$p=null);(b=1!=arguments.length)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 1)");a=c.Opal.$try_convert(a,c.Integer,"to_int");(b=0>=a)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",
!0,!0),"invalid size");if(k===l)return g(this,"enum_for",["each_cons",a],(e=function(){var c,b,d=l,d=(e.$$s||this).$enumerator_size();return(c=d["$nil?"]())===l||null==c||c.$$is_boolean&&1!=c?(c=!1!==(b=d["$=="](0))&&b!==l&&null!=b?b:"number"===typeof d&&"number"===typeof a?d<a:d["$<"](a))===l||null==c||c.$$is_boolean&&1!=c?y("number"===typeof d&&"number"===typeof a?d-a:d["$-"](a),1):0:l},e.$$s=this,e.$$arity=0,e));var h=[];this.$each.$$p=function(){var b=c.Opal.$destructure(arguments);h.push(b);
h.length>a&&h.shift();h.length==a&&c.yield1(k,h.slice(0,a))};this.$each();return l},M.$$arity=1);c.defn(k,"$each_entry",u=function(a){var b,d,e=u.$$p,f=e||l,k=arguments.length;d=k-0;0>d&&(d=0);d=Array(d);for(var h=0;h<k;h++)d[h-0]=arguments[h];e&&(u.$$p=null);if(f===l)return g(this,"to_enum",["each_entry"].concat(c.to_a(d)),(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));this.$each.$$p=function(){var a=c.Opal.$destructure(arguments);c.yield1(f,a)};this.$each.apply(this,
d);return this},u.$$arity=-1);c.defn(k,"$each_slice",fa=function(a){var b,e,f=fa.$$p,k=f||l;f&&(fa.$$p=null);a=c.Opal.$coerce_to(a,c.Integer,"to_int");(b=0>=a)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"invalid slice size");if(k===l)return g(this,"enum_for",["each_slice",a],(e=function(){var c=e.$$s||this,b;if((b=c["$respond_to?"]("size"))===l||null==b||b.$$is_boolean&&1!=b)return l;c=c.$size();return("number"===typeof c&&"number"===typeof a?c/a:c["$/"](a)).$ceil()},
e.$$s=this,e.$$arity=0,e));var h=[];this.$each.$$p=function(){var b=c.Opal.$destructure(arguments);h.push(b);h.length===a&&(c.yield1(k,h),h=[])};this.$each();0<h.length&&c.yield1(k,h);return l},fa.$$arity=1);c.defn(k,"$each_with_index",v=function(a){var b,d,e=v.$$p,f=e||l,k=arguments.length;d=k-0;0>d&&(d=0);d=Array(d);for(var h=0;h<k;h++)d[h-0]=arguments[h];e&&(v.$$p=null);if(f===l)return g(this,"enum_for",["each_with_index"].concat(c.to_a(d)),(b=function(){return(b.$$s||this).$enumerator_size()},
b.$$s=this,b.$$arity=0,b));var q=0;this.$each.$$p=function(){var a=c.Opal.$destructure(arguments);f(a,q);q++};this.$each.apply(this,d);return this},v.$$arity=-1);c.defn(k,"$each_with_object",la=function(a){var b,d=la.$$p,e=d||l;d&&(la.$$p=null);if(e===l)return g(this,"enum_for",["each_with_object",a],(b=function(){return(b.$$s||this).$enumerator_size()},b.$$s=this,b.$$arity=0,b));this.$each.$$p=function(){var b=c.Opal.$destructure(arguments);e(b,a)};this.$each();return a},la.$$arity=1);c.defn(k,"$entries",
U=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];var g=[];this.$each.$$p=function(){g.push(c.Opal.$destructure(arguments))};this.$each.apply(this,b);return g},U.$$arity=-1);c.alias(k,"find","detect");c.defn(k,"$find_all",ea=function(){var a,b,d=ea.$$p,e=d||l;d&&(ea.$$p=null);if(e===l)return g(this,"enum_for",["find_all"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var f=[];this.$each.$$p=function(){var a=
c.Opal.$destructure(arguments);(b=c.yield1(e,a))===l||null==b||b.$$is_boolean&&1!=b||f.push(a)};this.$each();return f},ea.$$arity=0);c.defn(k,"$find_index",ca=function(a){try{var b,d,e,f=ca.$$p,k=f||l,h=l;f&&(ca.$$p=null);if((b=void 0===a&&k===l)!==l&&null!=b&&(!b.$$is_boolean||1==b))return this.$enum_for("find_index");h=0;(b=null!=a)===l||null==b||b.$$is_boolean&&1!=b?g(this,"each",[],(e=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var r=0;r<e;r++)b[r-0]=arguments[r];(d=
c.yieldX(k,c.to_a(b)))===l||null==d||d.$$is_boolean&&1!=d||c.ret(h);return h+=1},e.$$s=this,e.$$arity=-1,e)):g(this,"each",[],(d=function(b){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=0;g<e;g++)d[g-0]=arguments[g];c.Opal.$destructure(d)["$=="](a)&&c.ret(h);return h+=1},d.$$s=this,d.$$arity=-1,d));return l}catch(q){if(q===c.returner)return q.$v;throw q;}},ca.$$arity=-1);c.defn(k,"$first",A=function(a){try{var b,e,f,k=l,h=l;if((b=void 0===a)===l||null==b||b.$$is_boolean&&1!=b){k=
[];a=c.Opal.$coerce_to(a,c.Integer,"to_int");(b=0>a)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"attempt to take negative size");if((b=0==a)!==l&&null!=b&&(!b.$$is_boolean||1==b))return[];h=0;g(this,"each",[],(f=function(b){var d,e,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var f=0;f<g;f++)d[f-0]=arguments[f];k.push(c.Opal.$destructure(d));if((e=a<=++h)===l||null==e||e.$$is_boolean&&1!=e)return l;c.ret(k)},f.$$s=this,f.$$arity=-1,f));return k}return g(this,
"each",[],(e=function(a){null==a&&(a=l);c.ret(a)},e.$$s=this,e.$$arity=1,e))}catch(q){if(q===c.returner)return q.$v;throw q;}},A.$$arity=-1);c.alias(k,"flat_map","collect_concat");c.defn(k,"$grep",V=function(a){var b,d=V.$$p,e=d||l;d&&(V.$$p=null);var g=[];this.$each.$$p=e!==l?function(){var d=c.Opal.$destructure(arguments),f=a["$==="](d);(b=f)===l||null==b||b.$$is_boolean&&1!=b||(f=c.yield1(e,d),g.push(f))}:function(){var d=c.Opal.$destructure(arguments);(b=a["$==="](d))===l||null==b||b.$$is_boolean&&
1!=b||g.push(d)};this.$each();return g},V.$$arity=1);c.defn(k,"$grep_v",W=function(a){var b,d=W.$$p,e=d||l;d&&(W.$$p=null);var g=[];this.$each.$$p=e!==l?function(){var d=c.Opal.$destructure(arguments),f=a["$==="](d);if((b=f)===l||null==b||b.$$is_boolean&&0==b)f=c.yield1(e,d),g.push(f)}:function(){var d=c.Opal.$destructure(arguments);((b=a["$==="](d))===l||null==b||b.$$is_boolean&&0==b)&&g.push(d)};this.$each();return g},W.$$arity=1);c.defn(k,"$group_by",Q=function(){var a,b,e,f,k=Q.$$p,h=k||l,q=l;
k&&(Q.$$p=null);if(h===l)return g(this,"enum_for",["group_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));q=c.const_get(d,"Hash",!0,!0).$new();this.$each.$$p=function(){var a=c.Opal.$destructure(arguments);(b=c.yield1(h,a),e=q,!1!==(f=e["$[]"](b))&&f!==l&&null!=f?f:e["$[]="](b,[]))["$<<"](a)};this.$each();return q},Q.$$arity=0);c.defn(k,"$include?",G=function(a){try{var b;g(this,"each",[],(b=function(b){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=
0;g<e;g++)d[g-0]=arguments[g];if(c.Opal.$destructure(d)["$=="](a))c.ret(!0);else return l},b.$$s=this,b.$$arity=-1,b));return!1}catch(d){if(d===c.returner)return d.$v;throw d;}},G.$$arity=1);c.defn(k,"$inject",O=function(a,b){var e=O.$$p,g=e||l;e&&(O.$$p=null);var f=a;g!==l&&void 0===b?this.$each.$$p=function(){var a=c.Opal.$destructure(arguments);void 0!==f&&(a=c.yieldX(g,[f,a]));f=a}:(void 0===b&&(c.const_get(d,"Symbol",!0,!0)["$==="](a)||this.$raise(c.const_get(d,"TypeError",!0,!0),""+a.$inspect()+
" is not a Symbol"),b=a,f=void 0),this.$each.$$p=function(){var a=c.Opal.$destructure(arguments);f=void 0===f?a:f.$__send__(b,a)});this.$each();return void 0==f?l:f},O.$$arity=-1);c.defn(k,"$lazy",F=function(){var a;return g(c.const_get([c.const_get(d,"Enumerator",!0,!0).$$scope],"Lazy",!0,!0),"new",[this,this.$enumerator_size()],(a=function(a,b){var d,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];null==a&&(a=l);return g(a,"yield",c.to_a(d))},a.$$s=this,a.$$arity=
-2,a))},F.$$arity=0);c.defn(k,"$enumerator_size",L=function(){var a;return(a=this["$respond_to?"]("size"))===l||null==a||a.$$is_boolean&&1!=a?l:this.$size()},L.$$arity=0);c.alias(k,"map","collect");c.defn(k,"$max",D=function(a){var b=this,e=D.$$p,f=e||l;e&&(D.$$p=null);if(void 0===a||a===l){var k,h;b.$each.$$p=function(){var a=c.Opal.$destructure(arguments);void 0===k?k=a:(h=f!==l?c.yieldX(f,[a,k]):a["$<=>"](k),h===l&&b.$raise(c.const_get(d,"ArgumentError",!0,!0),"comparison failed"),0<h&&(k=a))};
b.$each();return void 0===k?l:k}a=c.Opal.$coerce_to(a,c.Integer,"to_int");return g(b,"sort",[],f.$to_proc()).$reverse().$first(a)},D.$$arity=-1);c.defn(k,"$max_by",ba=function(){var a,b=ba.$$p,d=b||l;b&&(ba.$$p=null);if(!1===d||d===l||null==d)return g(this,"enum_for",["max_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e,f;this.$each.$$p=function(){var a=c.Opal.$destructure(arguments),b=c.yield1(d,a);void 0===e?(e=a,f=b):0<b["$<=>"](f)&&(e=a,f=b)};this.$each();
return void 0===e?l:e},ba.$$arity=0);c.alias(k,"member?","include?");c.defn(k,"$min",ia=function(){var a=this,b=ia.$$p,e=b||l;b&&(ia.$$p=null);var g;a.$each.$$p=e!==l?function(){var b=c.Opal.$destructure(arguments);if(void 0===g)g=b;else{var f=e(b,g);f===l&&a.$raise(c.const_get(d,"ArgumentError",!0,!0),"comparison failed");0>f&&(g=b)}}:function(){var a=c.Opal.$destructure(arguments);void 0===g?g=a:0>c.Opal.$compare(a,g)&&(g=a)};a.$each();return void 0===g?l:g},ia.$$arity=0);c.defn(k,"$min_by",na=
function(){var a,b=na.$$p,d=b||l;b&&(na.$$p=null);if(!1===d||d===l||null==d)return g(this,"enum_for",["min_by"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e,f;this.$each.$$p=function(){var a=c.Opal.$destructure(arguments),b=c.yield1(d,a);void 0===e?(e=a,f=b):0>b["$<=>"](f)&&(e=a,f=b)};this.$each();return void 0===e?l:e},na.$$arity=0);c.defn(k,"$minmax",pa=function(){var a,b,e=this,f=pa.$$p,k=f||l;f&&(pa.$$p=null);!1!==(a=k)&&a!==l&&null!=a?a:k=g(e,"proc",
[],(b=function(a,b){null==a&&(a=l);null==b&&(b=l);return a["$<=>"](b)},b.$$s=e,b.$$arity=2,b));var h=l,q=l,n=!0;e.$each.$$p=function(){var a=c.Opal.$destructure(arguments);if(n)h=q=a,n=!1;else{var b=k.$call(h,a);b===l?e.$raise(c.const_get(d,"ArgumentError",!0,!0),"comparison failed"):0<b&&(h=a);b=k.$call(q,a);b===l?e.$raise(c.const_get(d,"ArgumentError",!0,!0),"comparison failed"):0>b&&(q=a)}};e.$each();return[h,q]},pa.$$arity=0);c.defn(k,"$minmax_by",ja=function(){ja.$$p&&(ja.$$p=null);return this.$raise(c.const_get(d,
"NotImplementedError",!0,!0))},ja.$$arity=0);c.defn(k,"$none?",K=function(){try{var a,b,d=K.$$p,e=d||l;d&&(K.$$p=null);e!==l?g(this,"each",[],(a=function(a){var b,d,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var f=0;f<g;f++)b[f-0]=arguments[f];if((d=c.yieldX(e,c.to_a(b)))===l||null==d||d.$$is_boolean&&1!=d)return l;c.ret(!1)},a.$$s=this,a.$$arity=-1,a)):g(this,"each",[],(b=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];if((d=c.Opal.$destructure(b))===
l||null==d||d.$$is_boolean&&1!=d)return l;c.ret(!1)},b.$$s=this,b.$$arity=-1,b));return!0}catch(f){if(f===c.returner)return f.$v;throw f;}},K.$$arity=0);c.defn(k,"$one?",ga=function(){try{var a,b,d=ga.$$p,e=d||l,f=l;d&&(ga.$$p=null);f=0;e!==l?g(this,"each",[],(a=function(a){var b,d,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var k=0;k<g;k++)b[k-0]=arguments[k];if((d=c.yieldX(e,c.to_a(b)))===l||null==d||d.$$is_boolean&&1!=d)return l;f=y(f,1);if((d=w(f,1))===l||null==d||d.$$is_boolean&&1!=d)return l;
c.ret(!1)},a.$$s=this,a.$$arity=-1,a)):g(this,"each",[],(b=function(a){var b,d,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];if((d=c.Opal.$destructure(b))===l||null==d||d.$$is_boolean&&1!=d)return l;f=y(f,1);if((d=w(f,1))===l||null==d||d.$$is_boolean&&1!=d)return l;c.ret(!1)},b.$$s=this,b.$$arity=-1,b));return f["$=="](1)}catch(k){if(k===c.returner)return k.$v;throw k;}},ga.$$arity=0);c.defn(k,"$partition",ha=function(){var a,b,d=ha.$$p,e=d||l;d&&(ha.$$p=null);
if(e===l)return g(this,"enum_for",["partition"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var f=[],k=[];this.$each.$$p=function(){var a=c.Opal.$destructure(arguments);(b=c.yield1(e,a))===l||null==b||b.$$is_boolean&&1!=b?k.push(a):f.push(a)};this.$each();return[f,k]},ha.$$arity=0);c.alias(k,"reduce","inject");c.defn(k,"$reject",X=function(){var a,b,d=X.$$p,e=d||l;d&&(X.$$p=null);if(e===l)return g(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$enumerator_size()},
a.$$s=this,a.$$arity=0,a));var f=[];this.$each.$$p=function(){var a=c.Opal.$destructure(arguments);((b=c.yield1(e,a))===l||null==b||b.$$is_boolean&&0==b)&&f.push(a)};this.$each();return f},X.$$arity=0);c.defn(k,"$reverse_each",ma=function(){var a,b=ma.$$p,d=b||l;b&&(ma.$$p=null);if(d===l)return g(this,"enum_for",["reverse_each"],(a=function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));var e=[];this.$each.$$p=function(){e.push(arguments)};this.$each();for(b=e.length-1;0<=b;b--)c.yieldX(d,
e[b]);return e},ma.$$arity=0);c.alias(k,"select","find_all");c.defn(k,"$slice_before",ka=function(a){var b,e,f=ka.$$p,k=f||l;f&&(ka.$$p=null);(b=void 0===a&&k===l)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"both pattern and block are given");(b=void 0!==a&&k!==l||1<arguments.length)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" expected 1)");return g(c.const_get(d,"Enumerator",
!0,!0),"new",[],(e=function(b){var d=e.$$s||this,f;null==b&&(b=l);var g=[];d.$each.$$p=k!==l?void 0===a?function(){var a=c.Opal.$destructure(arguments);(f=c.yield1(k,a))!==l&&null!=f&&(!f.$$is_boolean||1==f)&&0<g.length&&(b["$<<"](g),g=[]);g.push(a)}:function(){var d=c.Opal.$destructure(arguments);(f=k(d,a.$dup()))!==l&&null!=f&&(!f.$$is_boolean||1==f)&&0<g.length&&(b["$<<"](g),g=[]);g.push(d)}:function(){var d=c.Opal.$destructure(arguments);(f=a["$==="](d))!==l&&null!=f&&(!f.$$is_boolean||1==f)&&
0<g.length&&(b["$<<"](g),g=[]);g.push(d)};d.$each();if(0<g.length)b["$<<"](g)},e.$$s=this,e.$$arity=1,e))},ka.$$arity=-1);c.defn(k,"$slice_after",sa=function(a){var b,e,f,k=sa.$$p,h=k||l;k&&(sa.$$p=null);(b=void 0===a&&h===l)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"both pattern and block are given");(b=void 0!==a&&h!==l||1<arguments.length)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"wrong number of arguments ("+
arguments.length+" expected 1)");(b=void 0!==a)===l||null==b||b.$$is_boolean&&1!=b||(h=g(this,"proc",[],(e=function(b){null==b&&(b=l);return a["$==="](b)},e.$$s=this,e.$$arity=1,e)));return g(c.const_get(d,"Enumerator",!0,!0),"new",[],(f=function(a){var b=f.$$s||this,d;null==a&&(a=l);var e;b.$each.$$p=function(){var b=c.Opal.$destructure(arguments),r=c.yield1(h,b);null==e&&(e=[]);(d=r)===l||null==d||d.$$is_boolean&&1!=d?e.push(b):(e.push(b),a.$yield(e),e=null)};b.$each();null!=e&&a.$yield(e)},f.$$s=
this,f.$$arity=1,f))},sa.$$arity=-1);c.defn(k,"$slice_when",wa=function(){var a,b=wa.$$p,e=b||l;b&&(wa.$$p=null);e===l&&this.$raise(c.const_get(d,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1)");return g(c.const_get(d,"Enumerator",!0,!0),"new",[],(a=function(b){var d=a.$$s||this,f;null==b&&(b=l);var g=l,k=l;d.$each_cons.$$p=function(){var a=c.Opal.$destructure(arguments),d=a[0],a=a[1],h=c.yieldX(e,[d,a]);k=a;g===l&&(g=[]);(f=h)===l||null==f||f.$$is_boolean&&1!=f?g.push(d):(g.push(d),
b.$yield(g),g=[])};d.$each_cons(2);g!==l&&(g.push(k),b.$yield(g))},a.$$s=this,a.$$arity=1,a))},wa.$$arity=0);c.defn(k,"$sort",B=function(){var a,b=B.$$p,c=b||l,d=l;b&&(B.$$p=null);d=this.$to_a();c===l&&(c=g(this,"lambda",[],(a=function(a,b){null==a&&(a=l);null==b&&(b=l);return a["$<=>"](b)},a.$$s=this,a.$$arity=2,a)));return g(d,"sort",[],c.$to_proc())},B.$$arity=0);c.defn(k,"$sort_by",ra=function(){var a,b,d,e,f=ra.$$p,k=f||l,h=l;f&&(ra.$$p=null);if(k===l)return g(this,"enum_for",["sort_by"],(a=
function(){return(a.$$s||this).$enumerator_size()},a.$$s=this,a.$$arity=0,a));h=g(this,"map",[],(b=function(){var a=l,a=c.Opal.$destructure(arguments);return[c.yield1(k,a),a]},b.$$s=this,b.$$arity=0,b));g(h,"sort!",[],(d=function(a,b){null==a&&(a=l);null==b&&(b=l);return a[0]["$<=>"](b[0])},d.$$s=this,d.$$arity=2,d));return g(h,"map!",[],(e=function(a){null==a&&(a=l);return a[1]},e.$$s=this,e.$$arity=1,e))},ra.$$arity=0);c.defn(k,"$take",va=function(a){return this.$first(a)},va.$$arity=1);c.defn(k,
"$take_while",oa=function(){try{var a,b=oa.$$p,d=b||l,e=l;b&&(oa.$$p=null);if(!1===d||d===l||null==d)return this.$enum_for("take_while");e=[];return g(this,"each",[],(a=function(a){var b,f,g=l,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var k=0;k<g;k++)b[k-0]=arguments[k];g=c.Opal.$destructure(b);((f=c.yield1(d,g))===l||null==f||f.$$is_boolean&&1!=f)&&c.ret(e);return e.push(g)},a.$$s=this,a.$$arity=-1,a))}catch(f){if(f===c.returner)return f.$v;throw f;}},oa.$$arity=0);c.alias(k,"to_a","entries");
c.defn(k,"$zip",ta=function(a){var b,d=ta.$$p,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];d&&(ta.$$p=null);return g(this.$to_a(),"zip",c.to_a(b))},ta.$$arity=-1)}(c.base,B)};Opal.modules["corelib/enumerator"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var B=c.top,l=[c],a=c.nil,g=c.breaker,h=c.slice,t=c.klass,k=c.send;c.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));
B.$require("corelib/enumerable");return function(e,$super,f){function l(){}e=l=t(e,$super,"Enumerator",l);var b=e.$$proto,n=e.$$scope,x=f.slice().concat(n),q,C,z,J,R,H;b.size=b.args=b.object=b.method=a;e.$include(c.const_get(x,"Enumerable",!0,!0));b.$$is_enumerator=!0;c.defs(e,"$for",q=function(b,c,e){var f,g=q.$$p,k=g||a;null==c&&(c="each");var h=arguments.length;f=h-2;0>f&&(f=0);f=Array(f);for(var l=2;l<h;l++)f[l-2]=arguments[l];g&&(q.$$p=null);g=this.$allocate();g.object=b;g.size=k;g.method=c;
g.args=f;return g},q.$$arity=-2);c.defn(e,"$initialize",C=function(b){var e,f=C.$$p,g=f||a;f&&(C.$$p=null);if(!1!==g&&g!==a&&null!=g)return this.object=k(c.const_get(x,"Generator",!0,!0),"new",[],g.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||a,(e=this.size)===a||null==e||e.$$is_boolean&&1!=e?a:this.size=c.Opal.$coerce_to(this.size,c.Integer,"to_int");this.object=arguments[0];this.method=arguments[1]||"each";this.args=h.call(arguments,2);return this.size=a},C.$$arity=-1);c.defn(e,
"$each",z=function(b){var e,f,g,h=z.$$p,l=h||a,q=arguments.length;g=q-0;0>g&&(g=0);g=Array(g);for(var n=0;n<q;n++)g[n-0]=arguments[n];h&&(z.$$p=null);if((e=(f=l["$nil?"](),!1!==f&&f!==a&&null!=f?g["$empty?"]():f))!==a&&null!=e&&(!e.$$is_boolean||1==e))return this;g=w(this.args,g);return(e=l["$nil?"]())===a||null==e||e.$$is_boolean&&1!=e?k(this.object,"__send__",[this.method].concat(c.to_a(g)),l.$to_proc()):k(this.$class(),"new",[this.object,this.method].concat(c.to_a(g)))},z.$$arity=-1);c.defn(e,
"$size",J=function(){var b;return(b=c.const_get(x,"Proc",!0,!0)["$==="](this.size))===a||null==b||b.$$is_boolean&&1!=b?this.size:k(this.size,"call",c.to_a(this.args))},J.$$arity=0);c.defn(e,"$with_index",R=function(b){var e,f=R.$$p,g=f||a;null==b&&(b=0);f&&(R.$$p=null);b=!1!==b&&b!==a&&null!=b?c.Opal.$coerce_to(b,c.Integer,"to_int"):0;if(!1===g||g===a||null==g)return k(this,"enum_for",["with_index",b],(e=function(){return(e.$$s||this).$size()},e.$$s=this,e.$$arity=0,e));var h=b;this.$each.$$p=function(){var a=
c.Opal.$destructure(arguments),a=g(a,h);h++;return a};return this.$each()},R.$$arity=-1);c.alias(e,"with_object","each_with_object");c.defn(e,"$inspect",H=function(){var b,e=a,e="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;if((b=this.args["$empty?"]())===a||null==b||b.$$is_boolean&&1!=b)e=w(e,"("+this.args.$inspect()["$[]"](c.const_get(x,"Range",!0,!0).$new(1,-2))+")");return w(e,">")},H.$$arity=0);(function(b,$super,e){function f(){}b=f=t(b,$super,"Generator",f);var h=b.$$proto,
l=b.$$scope,q=e.slice().concat(l),n,p;h.block=a;b.$include(c.const_get(q,"Enumerable",!0,!0));c.defn(b,"$initialize",n=function(){var b=n.$$p,e=b||a;b&&(n.$$p=null);!1!==e&&e!==a&&null!=e||this.$raise(c.const_get(q,"LocalJumpError",!0,!0),"no block given");return this.block=e},n.$$arity=0);return(c.defn(b,"$each",p=function(b){var e,f=p.$$p,h=f||a,l=a,l=arguments.length;e=l-0;0>e&&(e=0);e=Array(e);for(var n=0;n<l;n++)e[n-0]=arguments[n];f&&(p.$$p=null);l=k(c.const_get(q,"Yielder",!0,!0),"new",[],
h.$to_proc());try{e.unshift(l),c.yieldX(this.block,e)}catch(t){if(t===g)return g.$v;throw t;}return this},p.$$arity=-1),a)&&"each"})(n.base,null,x);(function(b,$super,e){function f(){}b=f=t(b,$super,"Yielder",f);var h=b.$$proto,l=b.$$scope;e.slice().concat(l);var q,n,p;h.block=a;c.defn(b,"$initialize",q=function(){var b=q.$$p,c=b||a;b&&(q.$$p=null);return this.block=c},q.$$arity=0);c.defn(b,"$yield",n=function(a){var b,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];
e=c.yieldX(this.block,b);if(e===g)throw g;return e},n.$$arity=-1);return(c.defn(b,"$<<",p=function(a){var b,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var f=0;f<e;f++)b[f-0]=arguments[f];k(this,"yield",c.to_a(b));return this},p.$$arity=-1),a)&&"<<"})(n.base,null,x);return function(b,$super,e){function f(){}b=f=t(b,$super,"Lazy",f);var g=b.$$proto,h=b.$$scope,l=e.slice().concat(h),q,n,p,x,C,G,O,F,L,D,ba,ia,H;g.enumerator=a;(function(b,$super,c){function e(){}b=(e=t(b,$super,"StopLazyError",
e)).$$scope;c.slice().concat(b);return a})(h.base,c.const_get(l,"Exception",!0,!0),l);c.defn(b,"$initialize",q=function(b,e){var f,g=q.$$p,h=g||a;null==e&&(e=a);g&&(q.$$p=null);h===a&&this.$raise(c.const_get(l,"ArgumentError",!0,!0),"tried to call lazy new without a block");this.enumerator=b;return k(this,c.find_super_dispatcher(this,"initialize",q,!1),[e],(f=function(e,g){var q=f.$$s||this,n,D,p=arguments.length;n=p-1;0>n&&(n=0);n=Array(n);for(var t=1;t<p;t++)n[t-1]=arguments[t];null==e&&(e=a);try{return k(b,
"each",c.to_a(n),(D=function(a){var b,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var g=0;g<f;g++)b[g-0]=arguments[g];b.unshift(e);c.yieldX(h,b)},D.$$s=q,D.$$arity=-1,D))}catch(v){if(c.rescue(v,[c.const_get(l,"Exception",!0,!0)]))try{return a}finally{c.pop_exception()}else throw v;}},f.$$s=this,f.$$arity=-2,f))},q.$$arity=-2);c.alias(b,"force","to_a");c.defn(b,"$lazy",n=function(){return this},n.$$arity=0);c.defn(b,"$collect",p=function(){var b,e=p.$$p,f=e||a;e&&(p.$$p=null);!1!==f&&f!==a&&
null!=f||this.$raise(c.const_get(l,"ArgumentError",!0,!0),"tried to call lazy map without a block");return k(c.const_get(l,"Lazy",!0,!0),"new",[this,this.$enumerator_size()],(b=function(b,e){var g,k=arguments.length;g=k-1;0>g&&(g=0);g=Array(g);for(var h=1;h<k;h++)g[h-1]=arguments[h];null==b&&(b=a);k=c.yieldX(f,g);b.$yield(k)},b.$$s=this,b.$$arity=-2,b))},p.$$arity=0);c.defn(b,"$collect_concat",x=function(){var b,e=x.$$p,f=e||a;e&&(x.$$p=null);!1!==f&&f!==a&&null!=f||this.$raise(c.const_get(l,"ArgumentError",
!0,!0),"tried to call lazy map without a block");return k(c.const_get(l,"Lazy",!0,!0),"new",[this,a],(b=function(e,g){var h=b.$$s||this,q,n,D,p=arguments.length;q=p-1;0>q&&(q=0);q=Array(q);for(var t=1;t<p;t++)q[t-1]=arguments[t];null==e&&(e=a);p=c.yieldX(f,q);p["$respond_to?"]("force")&&p["$respond_to?"]("each")?k(p,"each",[],(n=function(b){null==b&&(b=a);return e.$yield(b)},n.$$s=h,n.$$arity=1,n)):c.Opal.$try_convert(p,c.const_get(l,"Array",!0,!0),"to_ary")===a?e.$yield(p):k(p,"each",[],(D=function(b){null==
b&&(b=a);return e.$yield(b)},D.$$s=h,D.$$arity=1,D))},b.$$s=this,b.$$arity=-2,b))},x.$$arity=0);c.defn(b,"$drop",C=function(b){var e,f,g=a,h=g=a;b=c.Opal.$coerce_to(b,c.Integer,"to_int");(e=y(b,0))===a||null==e||e.$$is_boolean&&1!=e||this.$raise(c.const_get(l,"ArgumentError",!0,!0),"attempt to drop negative size");g=this.$enumerator_size();g=(e=c.Integer["$==="](g))===a||null==e||e.$$is_boolean&&1!=e?g:(e=y(b,g))===a||null==e||e.$$is_boolean&&1!=e?g:b;h=0;return k(c.const_get(l,"Lazy",!0,!0),"new",
[this,g],(f=function(e,f){var g,l,q=arguments.length;g=q-1;0>g&&(g=0);g=Array(g);for(var n=1;n<q;n++)g[n-1]=arguments[n];null==e&&(e=a);return(l=y(h,b))===a||null==l||l.$$is_boolean&&1!=l?k(e,"yield",c.to_a(g)):h=w(h,1)},f.$$s=this,f.$$arity=-2,f))},C.$$arity=1);c.defn(b,"$drop_while",G=function(){var b,e=G.$$p,f=e||a,g=a;e&&(G.$$p=null);!1!==f&&f!==a&&null!=f||this.$raise(c.const_get(l,"ArgumentError",!0,!0),"tried to call lazy drop_while without a block");g=!0;return k(c.const_get(l,"Lazy",!0,!0),
"new",[this,a],(b=function(b,e){var h,l,q=arguments.length;h=q-1;0>h&&(h=0);h=Array(h);for(var n=1;n<q;n++)h[n-1]=arguments[n];null==b&&(b=a);if(!1!==g&&g!==a&&null!=g){if((l=c.yieldX(f,h))===a||null==l||l.$$is_boolean&&0==l)g=!1,k(b,"yield",c.to_a(h))}else return k(b,"yield",c.to_a(h))},b.$$s=this,b.$$arity=-2,b))},G.$$arity=0);c.defn(b,"$enum_for",O=function(b,e){var f,g=O.$$p,h=g||a;null==b&&(b="each");var l=arguments.length;f=l-1;0>f&&(f=0);f=Array(f);for(var q=1;q<l;q++)f[q-1]=arguments[q];g&&
(O.$$p=null);return k(this.$class(),"for",[this,b].concat(c.to_a(f)),h.$to_proc())},O.$$arity=-1);c.defn(b,"$find_all",F=function(){var b,e=F.$$p,f=e||a;e&&(F.$$p=null);!1!==f&&f!==a&&null!=f||this.$raise(c.const_get(l,"ArgumentError",!0,!0),"tried to call lazy select without a block");return k(c.const_get(l,"Lazy",!0,!0),"new",[this,a],(b=function(b,e){var g,h,l=arguments.length;g=l-1;0>g&&(g=0);g=Array(g);for(var q=1;q<l;q++)g[q-1]=arguments[q];null==b&&(b=a);(h=c.yieldX(f,g))===a||null==h||h.$$is_boolean&&
1!=h||k(b,"yield",c.to_a(g))},b.$$s=this,b.$$arity=-2,b))},F.$$arity=0);c.alias(b,"flat_map","collect_concat");c.defn(b,"$grep",L=function(b){var e,f,g=L.$$p,h=g||a;g&&(L.$$p=null);return!1!==h&&h!==a&&null!=h?k(c.const_get(l,"Lazy",!0,!0),"new",[this,a],(e=function(e,f){var g,k,l=arguments.length;g=l-1;0>g&&(g=0);g=Array(g);for(var q=1;q<l;q++)g[q-1]=arguments[q];null==e&&(e=a);l=c.Opal.$destructure(g);(k=b["$==="](l))===a||null==k||k.$$is_boolean&&1!=k||(c.yield1(h,l),e.$yield(c.yield1(h,l)))},
e.$$s=this,e.$$arity=-2,e)):k(c.const_get(l,"Lazy",!0,!0),"new",[this,a],(f=function(e,f){var g,k,h=arguments.length;g=h-1;0>g&&(g=0);g=Array(g);for(var l=1;l<h;l++)g[l-1]=arguments[l];null==e&&(e=a);h=c.Opal.$destructure(g);(k=b["$==="](h))===a||null==k||k.$$is_boolean&&1!=k||e.$yield(h)},f.$$s=this,f.$$arity=-2,f))},L.$$arity=1);c.alias(b,"map","collect");c.alias(b,"select","find_all");c.defn(b,"$reject",D=function(){var b,e=D.$$p,g=e||a;e&&(D.$$p=null);!1!==g&&g!==a&&null!=g||this.$raise(c.const_get(l,
"ArgumentError",!0,!0),"tried to call lazy reject without a block");return k(c.const_get(l,"Lazy",!0,!0),"new",[this,a],(b=function(b,e){var f,h,l=arguments.length;f=l-1;0>f&&(f=0);f=Array(f);for(var q=1;q<l;q++)f[q-1]=arguments[q];null==b&&(b=a);((h=c.yieldX(g,f))===a||null==h||h.$$is_boolean&&0==h)&&k(b,"yield",c.to_a(f))},b.$$s=this,b.$$arity=-2,b))},D.$$arity=0);c.defn(b,"$take",ba=function(b){var e,f,g=a,h=g=a;b=c.Opal.$coerce_to(b,c.Integer,"to_int");(e=y(b,0))===a||null==e||e.$$is_boolean&&
1!=e||this.$raise(c.const_get(l,"ArgumentError",!0,!0),"attempt to take negative size");g=this.$enumerator_size();g=(e=c.Integer["$==="](g))===a||null==e||e.$$is_boolean&&1!=e?g:(e=y(b,g))===a||null==e||e.$$is_boolean&&1!=e?g:b;h=0;return k(c.const_get(l,"Lazy",!0,!0),"new",[this,g],(f=function(e,g){var q=f.$$s||this,n,D,p=arguments.length;n=p-1;0>n&&(n=0);n=Array(n);for(var t=1;t<p;t++)n[t-1]=arguments[t];null==e&&(e=a);if((D=y(h,b))===a||null==D||D.$$is_boolean&&1!=D)return q.$raise(c.const_get(l,
"StopLazyError",!0,!0));k(e,"yield",c.to_a(n));return h=w(h,1)},f.$$s=this,f.$$arity=-2,f))},ba.$$arity=1);c.defn(b,"$take_while",ia=function(){var b,e=ia.$$p,g=e||a;e&&(ia.$$p=null);!1!==g&&g!==a&&null!=g||this.$raise(c.const_get(l,"ArgumentError",!0,!0),"tried to call lazy take_while without a block");return k(c.const_get(l,"Lazy",!0,!0),"new",[this,a],(b=function(e,f){var h=b.$$s||this,q,n,D=arguments.length;q=D-1;0>q&&(q=0);q=Array(q);for(var p=1;p<D;p++)q[p-1]=arguments[p];null==e&&(e=a);(n=
c.yieldX(g,q))===a||null==n||n.$$is_boolean&&1!=n?h.$raise(c.const_get(l,"StopLazyError",!0,!0)):k(e,"yield",c.to_a(q))},b.$$s=this,b.$$arity=-2,b))},ia.$$arity=0);c.alias(b,"to_enum","enum_for");return(c.defn(b,"$inspect",H=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},H.$$arity=0),a)&&"inspect"}(n.base,e,x)}(c.base,null,l)};Opal.modules["corelib/numeric"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function y(a,c){return"number"===
typeof a&&"number"===typeof c?a*c:a["$*"](c)}function B(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}var a=c.top,g=[c],h=c.nil,t=c.klass;c.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));a.$require("corelib/comparable");
return function(a,$super,d){function g(){}a=g=t(a,$super,"Numeric",g);var p=a.$$scope,b=d.slice().concat(p),n,x,q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma;a.$include(c.const_get(b,"Comparable",!0,!0));c.defn(a,"$coerce",n=function(a){var b;return(b=a["$instance_of?"](this.$class()))===h||null==b||b.$$is_boolean&&1!=b?[this.$Float(a),this.$Float(this)]:[a,this]},n.$$arity=1);c.defn(a,"$__coerced__",x=function(a,d){var g,f,k=h,l=h,q=h;try{f=d.$coerce(this),g=c.to_ary(f),
k=null==g[0]?h:g[0],l=null==g[1]?h:g[1],f}catch(n){if(c.rescue(n,[c.const_get(b,"StandardError",!0,!0)]))try{q=a,"+"["$==="](q)||"-"["$==="](q)||"*"["$==="](q)||"/"["$==="](q)||"%"["$==="](q)||"&"["$==="](q)||"|"["$==="](q)||"^"["$==="](q)||"**"["$==="](q)?this.$raise(c.const_get(b,"TypeError",!0,!0),""+d.$class()+" can't be coerce into Numeric"):(">"["$==="](q)||">="["$==="](q)||"<"["$==="](q)||"<="["$==="](q)||"<=>"["$==="](q))&&this.$raise(c.const_get(b,"ArgumentError",!0,!0),"comparison of "+
this.$class()+" with "+d.$class()+" failed")}finally{c.pop_exception()}else throw n;}return k.$__send__(a,l)},x.$$arity=2);c.defn(a,"$<=>",q=function(a){var b;return(b=this["$equal?"](a))===h||null==b||b.$$is_boolean&&1!=b?h:0},q.$$arity=1);c.defn(a,"$+@",C=function(){return this},C.$$arity=0);c.defn(a,"$-@",z=function(){return w(0,this)},z.$$arity=0);c.defn(a,"$%",J=function(a){return w(this,y(a,this.$div(a)))},J.$$arity=1);c.defn(a,"$abs",R=function(){return B(this,0)?this["$-@"]():this},R.$$arity=
0);c.defn(a,"$abs2",H=function(){return y(this,this)},H.$$arity=0);c.defn(a,"$angle",M=function(){return B(this,0)?c.const_get([c.const_get(b,"Math",!0,!0).$$scope],"PI",!0,!0):0},M.$$arity=0);c.alias(a,"arg","angle");c.defn(a,"$ceil",u=function(){return this.$to_f().$ceil()},u.$$arity=0);c.defn(a,"$conj",fa=function(){return this},fa.$$arity=0);c.alias(a,"conjugate","conj");c.defn(a,"$denominator",v=function(){return this.$to_r().$denominator()},v.$$arity=0);c.defn(a,"$div",la=function(a){a["$=="](0)&&
this.$raise(c.const_get(b,"ZeroDivisionError",!0,!0),"divided by o");return l(this,a).$floor()},la.$$arity=1);c.defn(a,"$divmod",U=function(a){return[this.$div(a),this["$%"](a)]},U.$$arity=1);c.defn(a,"$fdiv",ea=function(a){return l(this.$to_f(),a)},ea.$$arity=1);c.defn(a,"$floor",ca=function(){return this.$to_f().$floor()},ca.$$arity=0);c.defn(a,"$i",A=function(){return this.$Complex(0,this)},A.$$arity=0);c.defn(a,"$imag",V=function(){return 0},V.$$arity=0);c.alias(a,"imaginary","imag");c.defn(a,
"$integer?",W=function(){return!1},W.$$arity=0);c.alias(a,"magnitude","abs");c.alias(a,"modulo","%");c.defn(a,"$nonzero?",Q=function(){var a;return(a=this["$zero?"]())===h||null==a||a.$$is_boolean&&1!=a?this:h},Q.$$arity=0);c.defn(a,"$numerator",G=function(){return this.$to_r().$numerator()},G.$$arity=0);c.alias(a,"phase","arg");c.defn(a,"$polar",O=function(){return[this.$abs(),this.$arg()]},O.$$arity=0);c.defn(a,"$quo",F=function(a){return l(c.Opal["$coerce_to!"](this,c.const_get(b,"Rational",!0,
!0),"to_r"),a)},F.$$arity=1);c.defn(a,"$real",L=function(){return this},L.$$arity=0);c.defn(a,"$real?",D=function(){return!0},D.$$arity=0);c.defn(a,"$rect",ba=function(){return[this,0]},ba.$$arity=0);c.alias(a,"rectangular","rect");c.defn(a,"$round",ia=function(a){return this.$to_f().$round(a)},ia.$$arity=-1);c.defn(a,"$to_c",na=function(){return this.$Complex(this,0)},na.$$arity=0);c.defn(a,"$to_int",pa=function(){return this.$to_i()},pa.$$arity=0);c.defn(a,"$truncate",ja=function(){return this.$to_f().$truncate()},
ja.$$arity=0);c.defn(a,"$zero?",K=function(){return this["$=="](0)},K.$$arity=0);c.defn(a,"$positive?",ga=function(){return"number"===typeof this?0<this:this["$>"](0)},ga.$$arity=0);c.defn(a,"$negative?",ha=function(){return B(this,0)},ha.$$arity=0);c.defn(a,"$dup",X=function(){return this.$raise(c.const_get(b,"TypeError",!0,!0),"can't dup "+this.$class())},X.$$arity=0);return(c.defn(a,"$clone",ma=function(){return this.$raise(c.const_get(b,"TypeError",!0,!0),"can't clone "+this.$class())},ma.$$arity=
0),h)&&"clone"}(c.base,null,g)};Opal.modules["corelib/array"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}var y=c.top,B=[c],l=c.nil,a=c.klass,g=c.hash2,h=c.send,t=c.gvars;c.add_stubs("$require $include $to_a $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $empty? $enum_for $bsearch_index $to_proc $coerce_to! $> $* $enumerator_size $size $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $! $>= $** $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $sort_by $!= $times $[]= $<< $values $kind_of? $last $first $upto $reject $pristine".split(" "));
y.$require("corelib/enumerable");y.$require("corelib/numeric");return function(k,$super,d){function f(){}function p(a,b){return b.$$name===c.Array?a:b.$allocate().$replace(a.$to_a())}function b(a,c){return a===c||0===c?1:0<c&&a>c?b(a-1,c-1)+b(a-1,c):0}k=f=a(k,$super,"Array",f);var n=k.$$proto,x=k.$$scope,q=d.slice().concat(x),C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,y,ja,K,ga,ha,X,ma,ka,sa,B,xa,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za,Da,Ga,r,m,Ea,Ha,Ka,qa,Ia,P,Ja,La,da,ua,Z,I,N,T,Fa,ab,
Qa,Ra,Wa,Xa,bb,cb,Oa,Pa,Sa,db,Ta,eb,fb,gb,Ua,Va,hb,Za,Na,Ya,Ma;n.length=l;k.$include(c.const_get(q,"Enumerable",!0,!0));n.$$is_array=!0;c.defs(k,"$[]",C=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return p(b,this)},C.$$arity=-1);c.defn(k,"$initialize",z=function(a,b){var d=z.$$p,m=d||l;null==a&&(a=l);null==b&&(b=l);d&&(z.$$p=null);a>c.const_get([c.Integer.$$scope],"MAX",!0,!0)&&this.$raise(c.const_get(q,"ArgumentError",!0,!0),"array size too big");
2<arguments.length&&this.$raise(c.const_get(q,"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=c.Opal.$coerce_to(a,c.Integer,"to_int");0>a&&this.$raise(c.const_get(q,"ArgumentError",!0,!0),"negative array size");this.splice(0,this.length);var g;if(m===l)for(d=
0;d<a;d++)this.push(b);else for(d=0,g;d<a;d++)g=m(d),this[d]=g;return this},z.$$arity=-1);c.defs(k,"$try_convert",J=function(a){return c.Opal["$coerce_to?"](a,c.const_get(q,"Array",!0,!0),"to_ary")},J.$$arity=1);c.defn(k,"$&",R=function(a){var b;a=(b=c.const_get(q,"Array",!0,!0)["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?c.Opal.$coerce_to(a,c.const_get(q,"Array",!0,!0),"to_ary").$to_a():a.$to_a();b=[];var d=g([],{}),m,r;m=0;for(r=a.length;m<r;m++)c.hash_put(d,a[m],!0);m=0;for(r=this.length;m<
r;m++)a=this[m],void 0!==c.hash_delete(d,a)&&b.push(a);return b},R.$$arity=1);c.defn(k,"$|",H=function(a){var b;a=(b=c.const_get(q,"Array",!0,!0)["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?c.Opal.$coerce_to(a,c.const_get(q,"Array",!0,!0),"to_ary").$to_a():a.$to_a();b=g([],{});var d,m;d=0;for(m=this.length;d<m;d++)c.hash_put(b,this[d],!0);d=0;for(m=a.length;d<m;d++)c.hash_put(b,a[d],!0);return b.$keys()},H.$$arity=1);c.defn(k,"$*",M=function(a){var b;if((b=a["$respond_to?"]("to_str"))!==l&&null!=
b&&(!b.$$is_boolean||1==b))return this.$join(a.$to_str());a=c.Opal.$coerce_to(a,c.Integer,"to_int");(b=0>a)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(q,"ArgumentError",!0,!0),"negative argument");b=[];for(var d=this.$to_a(),m=0;m<a;m++)b=b.concat(d);return p(b,this.$class())},M.$$arity=1);c.defn(k,"$+",u=function(a){var b;a=(b=c.const_get(q,"Array",!0,!0)["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?c.Opal.$coerce_to(a,c.const_get(q,"Array",!0,!0),"to_ary").$to_a():a.$to_a();return this.concat(a)},
u.$$arity=1);c.defn(k,"$-",fa=function(a){var b;a=(b=c.const_get(q,"Array",!0,!0)["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?c.Opal.$coerce_to(a,c.const_get(q,"Array",!0,!0),"to_ary").$to_a():a.$to_a();if((b=0===this.length)!==l&&null!=b&&(!b.$$is_boolean||1==b))return[];if((b=0===a.length)!==l&&null!=b&&(!b.$$is_boolean||1==b))return this.slice();b=[];var d=g([],{}),m,r;m=0;for(r=a.length;m<r;m++)c.hash_put(d,a[m],!0);m=0;for(r=this.length;m<r;m++)a=this[m],void 0===c.hash_get(d,a)&&b.push(a);
return b},fa.$$arity=1);c.defn(k,"$<<",v=function(a){this.push(a);return this},v.$$arity=1);c.defn(k,"$<=>",la=function(a){var b;if((b=c.const_get(q,"Array",!0,!0)["$==="](a))===l||null==b||b.$$is_boolean&&1!=b){if((b=a["$respond_to?"]("to_ary"))===l||null==b||b.$$is_boolean&&1!=b)return l;a=a.$to_ary().$to_a()}else a=a.$to_a();if(this.$hash()===a.$hash())return 0;b=Math.min(this.length,a.length);for(var d=0;d<b;d++){var m=this[d]["$<=>"](a[d]);if(0!==m)return m}return this.length["$<=>"](a.length)},
la.$$arity=1);c.defn(k,"$==",U=function(a){function b(a,m){var g,r,f,h;if(a===m)return!0;if(!m.$$is_array)return c.Opal["$respond_to?"](m,"to_ary")?m["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());m.constructor!==Array&&(m=m.$to_a());if(a.length!==m.length)return!1;d[a.$object_id()]=!0;g=0;for(r=a.length;g<r;g++)if(f=a[g],h=m[g],f.$$is_array){if(h.$$is_array&&h.length!==f.length||!d.hasOwnProperty(f.$object_id())&&!b(f,h))return!1}else if(!f["$=="](h))return!1;return!0}var d={};return b(this,a)},
U.$$arity=1);c.defn(k,"$[]",ea=function(a,b){var d=this.length,m,g,r;if(a.$$is_range){m=a.exclude;g=c.Opal.$coerce_to(a.begin,c.Integer,"to_int");r=c.Opal.$coerce_to(a.end,c.Integer,"to_int");if(0>g&&(g+=d,0>g)||g>d)return l;if(0>r&&(r+=d,0>r))return[];m||(r+=1);d=this.slice(g,r)}else{a=c.Opal.$coerce_to(a,c.Integer,"to_int");if(0>a&&(a+=d,0>a))return l;if(void 0===b)return a>=d||0>a?l:this[a];b=c.Opal.$coerce_to(b,c.Integer,"to_int");if(0>b||a>d||0>a)return l;d=this.slice(a,a+b)}return p(d,this.$class())},
ea.$$arity=-2);c.defn(k,"$[]=",ca=function(a,b,d){var m,g=l,r=l,f;f=this.length;if((m=c.const_get(q,"Range",!0,!0)["$==="](a))===l||null==m||m.$$is_boolean&&1!=m){(m=void 0===d)===l||null==m||m.$$is_boolean&&1!=m?(r=b,b=d,g=(m=c.const_get(q,"Array",!0,!0)["$==="](b))===l||null==m||m.$$is_boolean&&1!=m?(m=b["$respond_to?"]("to_ary"))===l||null==m||m.$$is_boolean&&1!=m?[b]:b.$to_ary().$to_a():b.$to_a()):r=1;a=c.Opal.$coerce_to(a,c.Integer,"to_int");r=c.Opal.$coerce_to(r,c.Integer,"to_int");0>a&&(m=
a,a+=f,0>a&&this.$raise(c.const_get(q,"IndexError",!0,!0),"index "+m+" too small for array; minimum "+-this.length));0>r&&this.$raise(c.const_get(q,"IndexError",!0,!0),"negative length ("+r+")");if(a>f)for(;f<a;f++)this[f]=l;void 0===d?this[a]=b:this.splice.apply(this,[a,r].concat(g))}else{g=(m=c.const_get(q,"Array",!0,!0)["$==="](b))===l||null==m||m.$$is_boolean&&1!=m?(m=b["$respond_to?"]("to_ary"))===l||null==m||m.$$is_boolean&&1!=m?[b]:b.$to_ary().$to_a():b.$to_a();m=a.exclude;d=c.Opal.$coerce_to(a.begin,
c.Integer,"to_int");r=c.Opal.$coerce_to(a.end,c.Integer,"to_int");0>d&&(d+=f,0>d&&this.$raise(c.const_get(q,"RangeError",!0,!0),""+a.$inspect()+" out of range"));0>r&&(r+=f);m||(r+=1);if(d>f)for(;f<d;f++)this[f]=l;0>r?this.splice.apply(this,[d,0].concat(g)):this.splice.apply(this,[d,r-d].concat(g))}return b},ca.$$arity=-3);c.defn(k,"$any?",A=function(){var a,b=A.$$p,d=l,m=l,r=l;b&&(A.$$p=null);m=0;r=arguments.length;for(d=Array(r);m<r;m++)d[m]=arguments[m];return(a=this["$empty?"]())===l||null==a||
a.$$is_boolean&&1!=a?h(this,c.find_super_dispatcher(this,"any?",A,!1),d,b):!1},A.$$arity=0);c.defn(k,"$assoc",V=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&d[0]["$=="](a))return d;return l},V.$$arity=1);c.defn(k,"$at",W=function(a){a=c.Opal.$coerce_to(a,c.Integer,"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?l:this[a]},W.$$arity=1);c.defn(k,"$bsearch_index",Q=function(){var a=Q.$$p,b=a||l;a&&(Q.$$p=null);if(b===l)return this.$enum_for("bsearch_index");for(var a=
0,d=this.length,m,r,g=!1,f=l;a<d;){m=a+Math.floor((d-a)/2);r=this[m];r=c.yield1(b,r);if(!0===r)f=m,g=!0;else if(!1===r||r===l)g=!1;else if(r.$$is_number){if(0===r)return m;g=0>r}else this.$raise(c.const_get(q,"TypeError",!0,!0),"wrong argument type "+r.$class()+" (must be numeric, true, false or nil)");g?d=m:a=m+1}return f},Q.$$arity=0);c.defn(k,"$bsearch",G=function(){var a=G.$$p,b=a||l,c=l;a&&(G.$$p=null);if(b===l)return this.$enum_for("bsearch");c=h(this,"bsearch_index",[],b.$to_proc());return null!=
c&&c.$$is_number?this[c]:c},G.$$arity=0);c.defn(k,"$cycle",O=function(a){var b,d,m,r=O.$$p,g=r||l;null==a&&(a=l);r&&(O.$$p=null);if(g===l)return h(this,"enum_for",["cycle",a],(b=function(){var d=b.$$s||this,m;if(a["$=="](l))return c.const_get([c.const_get(q,"Float",!0,!0).$$scope],"INFINITY",!0,!0);a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");if((m=w(a,0))===l||null==m||m.$$is_boolean&&1!=m)return 0;d=d.$enumerator_size();return"number"===typeof d&&"number"===typeof a?d*a:d["$*"](a)},b.$$s=this,
b.$$arity=0,b));if((d=!1!==(m=this["$empty?"]())&&m!==l&&null!=m?m:a["$=="](0))!==l&&null!=d&&(!d.$$is_boolean||1==d))return l;if(a===l)for(;;)for(d=0,m=this.length;d<m;d++)c.yield1(g,this[d]);else{a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");if(0>=a)return this;for(;0<a;){d=0;for(m=this.length;d<m;d++)c.yield1(g,this[d]);a--}}return this},O.$$arity=-1);c.defn(k,"$clear",F=function(){this.splice(0,this.length);return this},F.$$arity=0);c.defn(k,"$count",L=function(a){var b,d,m=L.$$p,r=m||l,g=l,f=
l,k=l;null==a&&(a=l);m&&(L.$$p=null);f=0;k=arguments.length;for(g=Array(k);f<k;f++)g[f]=arguments[f];return(b=!1!==(d=a)&&d!==l&&null!=d?d:r)===l||null==b||b.$$is_boolean&&1!=b?this.$size():h(this,c.find_super_dispatcher(this,"count",L,!1),g,m)},L.$$arity=-1);c.defn(k,"$initialize_copy",D=function(a){return this.$replace(a)},D.$$arity=1);c.defn(k,"$collect",ba=function(){var a,b=ba.$$p,d=b||l;b&&(ba.$$p=null);if(d===l)return h(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$size()},
a.$$s=this,a.$$arity=0,a));for(var b=[],m=0,r=this.length;m<r;m++){var g=c.yield1(d,this[m]);b.push(g)}return b},ba.$$arity=0);c.defn(k,"$collect!",ia=function(){var a,b=ia.$$p,d=b||l;b&&(ia.$$p=null);if(d===l)return h(this,"enum_for",["collect!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,m=this.length;b<m;b++){var r=c.yield1(d,this[b]);this[b]=r}return this},ia.$$arity=0);c.defn(k,"$combination",na=function(a){var d,m=na.$$p,r=m||l,g=l;m&&(na.$$p=null);g=c.Opal["$coerce_to!"](a,
c.Integer,"to_int");if(r===l)return h(this,"enum_for",["combination",g],(d=function(){return b((d.$$s||this).length,g)},d.$$s=this,d.$$arity=0,d));var f,k;if(0===g)c.yield1(r,[]);else if(1===g)for(m=0,a=this.length;m<a;m++)c.yield1(r,[this[m]]);else if(g===this.length)c.yield1(r,this.slice());else if(0<=g&&g<this.length){a=[];for(m=0;m<=g+1;m++)a.push(0);m=[];f=0;k=!1;for(a[0]=-1;!k;){for(m[f]=this[a[f+1]];f<g-1;)f++,k=a[f+1]=a[f]+1,m[f]=this[k];c.yield1(r,m.slice());f++;do k=0===f,a[f]++,f--;while(a[f+
1]+g===this.length+f+1)}}return this},na.$$arity=1);c.defn(k,"$repeated_combination",y=function(a){function d(a,b,m,r){if(m.length==a)a=m.slice(),c.yield1(g,a);else for(;b<r.length;b++)m.push(r[b]),d(a,b,m,r),m.pop()}var m,r=y.$$p,g=r||l,f=l;r&&(y.$$p=null);f=c.Opal["$coerce_to!"](a,c.Integer,"to_int");if(g===l)return h(this,"enum_for",["repeated_combination",f],(m=function(){return b((m.$$s||this).length+f-1,f)},m.$$s=this,m.$$arity=0,m));0<=f&&d(f,0,[],this);return this},y.$$arity=1);c.defn(k,"$compact",
ja=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==l&&a.push(d);return a},ja.$$arity=0);c.defn(k,"$compact!",K=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===l&&(this.splice(b,1),c--,b--);return this.length===a?l:this},K.$$arity=0);c.defn(k,"$concat",ga=function(a){var b;a=(b=c.const_get(q,"Array",!0,!0)["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?c.Opal.$coerce_to(a,c.const_get(q,"Array",!0,!0),"to_ary").$to_a():a.$to_a();b=0;for(var d=a.length;b<d;b++)this.push(a[b]);
return this},ga.$$arity=1);c.defn(k,"$delete",ha=function(a){var b=ha.$$p,d=b||l;b&&(ha.$$p=null);for(var b=this.length,m=0,r=b;m<r;m++)this[m]["$=="](a)&&(this.splice(m,1),r--,m--);return this.length===b?d!==l?c.yieldX(d,[]):l:a},ha.$$arity=1);c.defn(k,"$delete_at",X=function(a){a=c.Opal.$coerce_to(a,c.Integer,"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return l;var b=this[a];this.splice(a,1);return b},X.$$arity=1);c.defn(k,"$delete_if",ma=function(){var a,b=ma.$$p,c=b||l;b&&(ma.$$p=null);
if(c===l)return h(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,m;b<d;b++)m=c(this[b]),!1!==m&&m!==l&&(this.splice(b,1),d--,b--);return this},ma.$$arity=0);c.defn(k,"$dig",ka=function(a,b){var d,m,r=l,r=arguments.length;m=r-1;0>m&&(m=0);m=Array(m);for(var g=1;g<r;g++)m[g-1]=arguments[g];r=this["$[]"](a);if(r===l||0===m.length)return r;((d=r["$respond_to?"]("dig"))===l||null==d||d.$$is_boolean&&1!=d)&&this.$raise(c.const_get(q,
"TypeError",!0,!0),""+r.$class()+" does not have #dig method");return h(r,"dig",c.to_a(m))},ka.$$arity=-2);c.defn(k,"$drop",sa=function(a){0>a&&this.$raise(c.const_get(q,"ArgumentError",!0,!0));return this.slice(a)},sa.$$arity=1);c.defn(k,"$dup",B=function(){var a=B.$$p,b=l,d=l,m=l;a&&(B.$$p=null);d=0;m=arguments.length;for(b=Array(m);d<m;d++)b[d]=arguments[d];return this.$$class===c.Array&&this.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):
h(this,c.find_super_dispatcher(this,"dup",B,!1),b,a)},B.$$arity=0);c.defn(k,"$each",xa=function(){var a,b=xa.$$p,d=b||l;b&&(xa.$$p=null);if(d===l)return h(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,m=this.length;b<m;b++)c.yield1(d,this[b]);return this},xa.$$arity=0);c.defn(k,"$each_index",ra=function(){var a,b=ra.$$p,d=b||l;b&&(ra.$$p=null);if(d===l)return h(this,"enum_for",["each_index"],(a=function(){return(a.$$s||this).$size()},a.$$s=
this,a.$$arity=0,a));for(var b=0,m=this.length;b<m;b++)c.yield1(d,b);return this},ra.$$arity=0);c.defn(k,"$empty?",va=function(){return 0===this.length},va.$$arity=0);c.defn(k,"$eql?",oa=function(a){function b(a,d){var m,r,g,f;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;c[a.$object_id()]=!0;m=0;for(r=a.length;m<r;m++)if(g=a[m],f=d[m],g.$$is_array){if(f.$$is_array&&f.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,f))return!1}else if(!g["$eql?"](f))return!1;return!0}
var c={};return b(this,a)},oa.$$arity=1);c.defn(k,"$fetch",ta=function(a,b){var d=ta.$$p,m=d||l;d&&(ta.$$p=null);d=a;a=c.Opal.$coerce_to(a,c.Integer,"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(m!==l)return m(d);if(null!=b)return b;0===this.length?this.$raise(c.const_get(q,"IndexError",!0,!0),"index "+d+" outside of array bounds: 0...0"):this.$raise(c.const_get(q,"IndexError",!0,!0),"index "+d+" outside of array bounds: -"+this.length+"..."+this.length)},ta.$$arity=-2);
c.defn(k,"$fill",E=function(a){var b,d,m,r=(d=E.$$p)||l,g=m=l,f=l,h=l,g=l,h=arguments.length;m=h-0;0>m&&(m=0);m=Array(m);for(g=0;g<h;g++)m[g-0]=arguments[g];d&&(E.$$p=null);!1!==r&&r!==l&&null!=r?((b=2<m.length)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(q,"ArgumentError",!0,!0),"wrong number of arguments ("+m.$length()+" for 0..2)"),d=m,b=c.to_ary(d),m=null==b[0]?l:b[0],g=null==b[1]?l:b[1]):((b=0==m.length)===l||null==b||b.$$is_boolean&&1!=b?(b=3<m.length)===l||null==b||b.$$is_boolean&&
1!=b||this.$raise(c.const_get(q,"ArgumentError",!0,!0),"wrong number of arguments ("+m.$length()+" for 1..3)"):this.$raise(c.const_get(q,"ArgumentError",!0,!0),"wrong number of arguments (0 for 1..3)"),d=m,b=c.to_ary(d),f=null==b[0]?l:b[0],m=null==b[1]?l:b[1],g=null==b[2]?l:b[2]);d;if((b=c.const_get(q,"Range",!0,!0)["$==="](m))===l||null==b||b.$$is_boolean&&1!=b)if(!1!==m&&m!==l&&null!=m)if(h=c.Opal.$coerce_to(m,c.Integer,"to_int"),(b=0>h)===l||null==b||b.$$is_boolean&&1!=b||(h+=this.length),(b=0>
h)===l||null==b||b.$$is_boolean&&1!=b||(h=0),!1!==g&&g!==l&&null!=g){g=c.Opal.$coerce_to(g,c.Integer,"to_int");if((b=0==g)!==l&&null!=b&&(!b.$$is_boolean||1==b))return this;g+=h}else g=this.length;else h=0,g=this.length;else{!1!==g&&g!==l&&null!=g&&this.$raise(c.const_get(q,"TypeError",!0,!0),"length invalid with range");h=c.Opal.$coerce_to(m.$begin(),c.Integer,"to_int");(b=0>h)===l||null==b||b.$$is_boolean&&1!=b||(h+=this.length);(b=0>h)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(q,
"RangeError",!0,!0),""+m.$inspect()+" out of range");g=c.Opal.$coerce_to(m.$end(),c.Integer,"to_int");(b=0>g)===l||null==b||b.$$is_boolean&&1!=b||(g+=this.length);if((b=m["$exclude_end?"]())===l||null==b||b.$$is_boolean&&1!=b)g+=1;if((b=g<=h)!==l&&null!=b&&(!b.$$is_boolean||1==b))return this}if((b=h>this.length)!==l&&null!=b&&(!b.$$is_boolean||1==b))for(d=this.length;d<g;d++)this[d]=l;(b=g>this.length)===l||null==b||b.$$is_boolean&&1!=b||(this.length=g);if(!1!==r&&r!==l&&null!=r)for(;h<g;h++)b=r(h),
this[h]=b;else for(;h<g;h++)this[h]=f;return this},E.$$arity=-1);c.defn(k,"$first",S=function(a){if(null==a)return 0===this.length?l:this[0];a=c.Opal.$coerce_to(a,c.Integer,"to_int");0>a&&this.$raise(c.const_get(q,"ArgumentError",!0,!0),"negative array size");return this.slice(0,a)},S.$$arity=-1);c.defn(k,"$flatten",Y=function(a){function b(a,m){var g=[],r,f,h,k;a=a.$to_a();r=0;for(f=a.length;r<f;r++)if(h=a[r],c.Opal["$respond_to?"](h,"to_ary"))if(k=h.$to_ary(),k===l)g.push(h);else switch(k.$$is_array||
d.$raise(c.const_get(q,"TypeError",!0,!0)),k===d&&d.$raise(c.const_get(q,"ArgumentError",!0,!0)),m){case void 0:g=g.concat(b(k));break;case 0:g.push(k);break;default:g.push.apply(g,b(k,m-1))}else g.push(h);return g}var d=this;void 0!==a&&(a=c.Opal.$coerce_to(a,c.Integer,"to_int"));return p(b(d,a),d.$class())},Y.$$arity=-1);c.defn(k,"$flatten!",aa=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return l}this.$replace(a);return this},
aa.$$arity=-1);c.defn(k,"$hash",ya=function(){var a=void 0==c.hash_ids,b=["A"],d=this.$object_id(),m,g,r;try{a&&(c.hash_ids={});if(c.hash_ids.hasOwnProperty(d))return"self";for(r in c.hash_ids)if(c.hash_ids.hasOwnProperty(r)&&(m=c.hash_ids[r],this["$eql?"](m)))return"self";c.hash_ids[d]=this;for(g=0;g<this.length;g++)m=this[g],b.push(m.$hash());return b.join(",")}finally{a&&delete c.hash_ids}},ya.$$arity=0);c.defn(k,"$include?",Aa=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;
return!1},Aa.$$arity=1);c.defn(k,"$index",Ba=function(a){var b=Ba.$$p,c=b||l;b&&(Ba.$$p=null);var d;if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==l)for(b=0,d=this.length;b<d;b++){if(a=c(this[b]),!1!==a&&a!==l)return b}else return this.$enum_for("index");return l},Ba.$$arity=-1);c.defn(k,"$insert",Ca=function(a,b){var d,m=arguments.length;d=m-1;0>d&&(d=0);d=Array(d);for(var g=1;g<m;g++)d[g-1]=arguments[g];a=c.Opal.$coerce_to(a,c.Integer,"to_int");if(0<d.length){0>
a&&(a+=this.length+1,0>a&&this.$raise(c.const_get(q,"IndexError",!0,!0),""+a+" is out of bounds"));if(a>this.length)for(m=this.length;m<a;m++)this.push(l);this.splice.apply(this,[a,0].concat(d))}return this},Ca.$$arity=-2);c.defn(k,"$inspect",za=function(){for(var a=[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var m=this["$[]"](c);m.$__id__()===b?a.push("[...]"):a.push(m.$inspect())}return"["+a.join(", ")+"]"},za.$$arity=0);c.defn(k,"$join",Da=function(a){var b;null==t[","]&&(t[","]=l);null==a&&
(a=l);if((b=0===this.length)!==l&&null!=b&&(!b.$$is_boolean||1==b))return"";(b=a===l)===l||null==b||b.$$is_boolean&&1!=b||(a=t[","]);b=[];var d,m,g,r;d=0;for(m=this.length;d<m;d++){g=this[d];if(c.Opal["$respond_to?"](g,"to_str")&&(r=g.$to_str(),r!==l)){b.push(r.$to_s());continue}if(c.Opal["$respond_to?"](g,"to_ary")&&(r=g.$to_ary(),r===this&&this.$raise(c.const_get(q,"ArgumentError",!0,!0)),r!==l)){b.push(r.$join(a));continue}if(c.Opal["$respond_to?"](g,"to_s")&&(r=g.$to_s(),r!==l)){b.push(r);continue}this.$raise(c.const_get(q,
"NoMethodError",!0,!0).$new(""+c.Opal.$inspect(g)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===l?b.join(""):b.join(c.Opal["$coerce_to!"](a,c.String,"to_str").$to_s())},Da.$$arity=-1);c.defn(k,"$keep_if",Ga=function(){var a,b=Ga.$$p,c=b||l;b&&(Ga.$$p=null);if(c===l)return h(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,m;b<d;b++)if(m=c(this[b]),!1===m||m===l)this.splice(b,1),d--,b--;return this},
Ga.$$arity=0);c.defn(k,"$last",r=function(a){if(null==a)return 0===this.length?l:this[this.length-1];a=c.Opal.$coerce_to(a,c.Integer,"to_int");0>a&&this.$raise(c.const_get(q,"ArgumentError",!0,!0),"negative array size");a>this.length&&(a=this.length);return this.slice(this.length-a,this.length)},r.$$arity=-1);c.defn(k,"$length",m=function(){return this.length},m.$$arity=0);c.alias(k,"map","collect");c.alias(k,"map!","collect!");c.defn(k,"$permutation",Ea=function(a){var b,d=this,m=Ea.$$p,g=m||l,r=
l,f=l;m&&(Ea.$$p=null);if(g===l)return h(d,"enum_for",["permutation",a],(b=function(){for(var c=b.$$s||this,d=c.length,c=void 0===a?c.length:a,m=0<=c?1:0;c;)m*=d,d--,c--;return m},b.$$s=d,b.$$arity=0,b));var k,T;a=void 0===a?d.length:c.Opal.$coerce_to(a,c.Integer,"to_int");if(!(0>a||d.length<a))if(0===a)c.yield1(g,[]);else if(1===a)for(r=0;r<d.length;r++)c.yield1(g,[d[r]]);else r=c.const_get(q,"Array",!0,!0).$new(a),f=c.const_get(q,"Array",!0,!0).$new(d.length,!1),k=function(a,b,m,g,r){d=this;for(var f=
0;f<d.length;f++)if(g["$[]"](f)["$!"]())if(b[m]=f,m<a-1)g[f]=!0,k.call(d,a,b,m+1,g,r),g[f]=!1;else{T=[];for(var h=0;h<b.length;h++)T.push(d[b[h]]);c.yield1(r,T)}},g!==l?(m=d.slice(),k.call(m,a,r,0,f,g)):k.call(d,a,r,0,f,g);return d},Ea.$$arity=-1);c.defn(k,"$repeated_permutation",Ha=function(a){function b(a,d,m){if(d.length==a)a=d.slice(),c.yield1(g,a);else for(var r=0;r<m.length;r++)d.push(m[r]),b(a,d,m),d.pop()}var d,m=Ha.$$p,g=m||l,r=l;m&&(Ha.$$p=null);r=c.Opal["$coerce_to!"](a,c.Integer,"to_int");
if(g===l)return h(this,"enum_for",["repeated_permutation",r],(d=function(){var a=d.$$s||this,b;return(b="number"===typeof r?0<=r:r["$>="](0))===l||null==b||b.$$is_boolean&&1!=b?0:a.$size()["$**"](r)},d.$$s=this,d.$$arity=0,d));b(r,[],this.slice());return this},Ha.$$arity=1);c.defn(k,"$pop",Ka=function(a){var b;if((b=void 0===a)!==l&&null!=b&&(!b.$$is_boolean||1==b))return(b=0===this.length)===l||null==b||b.$$is_boolean&&1!=b?this.pop():l;a=c.Opal.$coerce_to(a,c.Integer,"to_int");(b=0>a)===l||null==
b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(q,"ArgumentError",!0,!0),"negative array size");return(b=0===this.length)===l||null==b||b.$$is_boolean&&1!=b?(b=a>this.length)===l||null==b||b.$$is_boolean&&1!=b?this.splice(this.length-a,this.length):this.splice(0,this.length):[]},Ka.$$arity=-1);c.defn(k,"$product",qa=function(a){var b,d=qa.$$p,m=d||l,g=arguments.length;b=g-0;0>b&&(b=0);b=Array(b);for(var r=0;r<g;r++)b[r-0]=arguments[r];d&&(qa.$$p=null);var d=m!==l?null:[],g=b.length+1,r=Array(g),
f=Array(g),h=Array(g),k,T=1;h[0]=this;for(k=1;k<g;k++)h[k]=c.Opal.$coerce_to(b[k-1],c.const_get(q,"Array",!0,!0),"to_ary");for(k=0;k<g;k++){b=h[k].length;if(0===b)return d||this;T*=b;2147483647<T&&this.$raise(c.const_get(q,"RangeError",!0,!0),"too big to product");f[k]=b;r[k]=0}a:for(;;){b=[];for(k=0;k<g;k++)b.push(h[k][r[k]]);d?d.push(b):c.yield1(m,b);b=g-1;for(r[b]++;r[b]===f[b];){r[b]=0;if(0>--b)break a;r[b]++}}return d||this},qa.$$arity=-1);c.defn(k,"$push",Ia=function(a){var b,c=arguments.length;
b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];c=0;for(d=b.length;c<d;c++)this.push(b[c]);return this},Ia.$$arity=-1);c.defn(k,"$rassoc",P=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return l},P.$$arity=1);c.defn(k,"$reject",Ja=function(){var a,b=Ja.$$p,c=b||l;b&&(Ja.$$p=null);if(c===l)return h(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=[],d=0,m=this.length,
g;d<m;d++)g=c(this[d]),!1!==g&&g!==l||b.push(this[d]);return b},Ja.$$arity=0);c.defn(k,"$reject!",La=function(){var a,b=La.$$p,c=b||l,d=l;b&&(La.$$p=null);if(c===l)return h(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));d=this.$length();h(this,"delete_if",[],c.$to_proc());return this.$length()["$=="](d)?l:this},La.$$arity=0);c.defn(k,"$replace",da=function(a){var b;a=(b=c.const_get(q,"Array",!0,!0)["$==="](a))===l||null==b||b.$$is_boolean&&1!=b?c.Opal.$coerce_to(a,
c.const_get(q,"Array",!0,!0),"to_ary").$to_a():a.$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},da.$$arity=1);c.defn(k,"$reverse",ua=function(){return this.slice(0).reverse()},ua.$$arity=0);c.defn(k,"$reverse!",Z=function(){return this.reverse()},Z.$$arity=0);c.defn(k,"$reverse_each",I=function(){var a,b=I.$$p,c=b||l;b&&(I.$$p=null);if(c===l)return h(this,"enum_for",["reverse_each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));h(this.$reverse(),"each",
[],c.$to_proc());return this},I.$$arity=0);c.defn(k,"$rindex",N=function(a){var b=N.$$p,c=b||l;b&&(N.$$p=null);if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==l)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),!1!==a&&a!==l)return b}else if(null==a)return this.$enum_for("rindex");return l},N.$$arity=-1);c.defn(k,"$rotate",T=function(a){null==a&&(a=1);a=c.Opal.$coerce_to(a,c.Integer,"to_int");var b,d;if(1===this.length)return this.slice();
if(0===this.length)return[];b=this.slice();d=a%b.length;a=b.slice(d);b=b.slice(0,d);return a.concat(b)},T.$$arity=-1);c.defn(k,"$rotate!",Fa=function(a){var b=l;null==a&&(a=1);if(0===this.length||1===this.length)return this;a=c.Opal.$coerce_to(a,c.Integer,"to_int");b=this.$rotate(a);return this.$replace(b)},Fa.$$arity=-1);(function(b,$super,d){function m(){}b=m=a(b,$super,"SampleRandom",m);var g=b.$$proto,r=b.$$scope,f=d.slice().concat(r),h,k;g.rng=l;c.defn(b,"$initialize",h=function(a){return this.rng=
a},h.$$arity=1);return(c.defn(b,"$rand",k=function(a){var b,d=l,d=c.Opal.$coerce_to(this.rng.$rand(a),c.Integer,"to_int");(b=0>d)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(f,"RangeError",!0,!0),"random value must be >= 0");((b=d<a)===l||null==b||b.$$is_boolean&&1!=b)&&this.$raise(c.const_get(f,"RangeError",!0,!0),"random value must be less than Array size");return d},k.$$arity=1),l)&&"rand"})(x.base,null,q);c.defn(k,"$sample",ab=function(a,b){var d,m=l,g=l;if((d=void 0===a)!==l&&
null!=d&&(!d.$$is_boolean||1==d))return this.$at(c.const_get(q,"Kernel",!0,!0).$rand(this.length));(d=void 0===b)===l||null==d||d.$$is_boolean&&1!=d?(a=c.Opal.$coerce_to(a,c.Integer,"to_int"),b=c.Opal.$coerce_to(b,c.const_get(q,"Hash",!0,!0),"to_hash")):(d=m=c.Opal["$coerce_to?"](a,c.const_get(q,"Hash",!0,!0),"to_hash"))===l||null==d||d.$$is_boolean&&1!=d?(b=l,a=c.Opal.$coerce_to(a,c.Integer,"to_int")):(b=m,a=l);(d=!1!==a&&a!==l&&null!=a?0>a:a)===l||null==d||d.$$is_boolean&&1!=d||this.$raise(c.const_get(q,
"ArgumentError",!0,!0),"count must be greater than 0");!1!==b&&b!==l&&null!=b&&(g=b["$[]"]("random"));g=(d=!1!==g&&g!==l&&null!=g?g["$respond_to?"]("rand"):g)===l||null==d||d.$$is_boolean&&1!=d?c.const_get(q,"Kernel",!0,!0):c.const_get(q,"SampleRandom",!0,!0).$new(g);if(!1===a||a===l||null==a)return this[g.$rand(this.length)];var r,f,h,k;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[g.$rand(this.length)]];case 2:return f=g.$rand(this.length),h=g.$rand(this.length),f===
h&&(h=0===f?f+1:f-1),[this[f],this[h]];default:if(3<this.length/a){m=!1;r=0;d=c.const_get(q,"Array",!0,!0).$new(a);f=1;for(d[0]=g.$rand(this.length);f<a;){k=g.$rand(this.length);for(h=0;h<f;){for(;k===d[h];){r++;if(100<r){m=!0;break}k=g.$rand(this.length)}if(m)break;h++}if(m)break;d[f]=k;f++}if(!m){for(f=0;f<a;)d[f]=this[d[f]],f++;return d}}d=this.slice();for(f=0;f<a;f++)m=g.$rand(this.length),r=d[f],d[f]=d[m],d[m]=r;return a===this.length?d:d["$[]"](0,a)}},ab.$$arity=-1);c.defn(k,"$select",Qa=function(){var a,
b=Qa.$$p,d=b||l;b&&(Qa.$$p=null);if(d===l)return h(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=[],m=0,g=this.length,r,f;m<g;m++)r=this[m],f=c.yield1(d,r),!1!==f&&f!==l&&b.push(r);return b},Qa.$$arity=0);c.defn(k,"$select!",Ra=function(){var a,b=Ra.$$p,c=b||l;b&&(Ra.$$p=null);if(c===l)return h(this,"enum_for",["select!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));b=this.length;h(this,"keep_if",[],c.$to_proc());
return this.length===b?l:this},Ra.$$arity=0);c.defn(k,"$shift",Wa=function(a){var b;if((b=void 0===a)!==l&&null!=b&&(!b.$$is_boolean||1==b))return(b=0===this.length)===l||null==b||b.$$is_boolean&&1!=b?this.shift():l;a=c.Opal.$coerce_to(a,c.Integer,"to_int");(b=0>a)===l||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(q,"ArgumentError",!0,!0),"negative array size");return(b=0===this.length)===l||null==b||b.$$is_boolean&&1!=b?this.splice(0,a):[]},Wa.$$arity=-1);c.alias(k,"size","length");c.defn(k,
"$shuffle",Xa=function(a){return this.$dup().$to_a()["$shuffle!"](a)},Xa.$$arity=-1);c.defn(k,"$shuffle!",bb=function(a){var b,d=this.length,m;void 0!==a&&(a=c.Opal["$coerce_to?"](a,c.const_get(q,"Hash",!0,!0),"to_hash"),a!==l&&(a=a["$[]"]("random"),a!==l&&a["$respond_to?"]("rand")&&(b=a)));for(;d;)b?(a=b.$rand(d).$to_int(),0>a&&this.$raise(c.const_get(q,"RangeError",!0,!0),"random number too small "+a),a>=d&&this.$raise(c.const_get(q,"RangeError",!0,!0),"random number too big "+a)):a=this.$rand(d),
m=this[--d],this[d]=this[a],this[a]=m;return this},bb.$$arity=-1);c.alias(k,"slice","[]");c.defn(k,"$slice!",cb=function(a,b){var d,m=l,g=l,r=l,f=l,g=l;if((d=void 0===b)===l||null==d||d.$$is_boolean&&1!=d){g=c.Opal.$coerce_to(a,c.Integer,"to_int");b=c.Opal.$coerce_to(b,c.Integer,"to_int");if(0>b)return l;m=this["$[]"](g,b);0>g&&(g+=this.length);g+b>this.length&&(b=this.length-g);g<this.length&&0<=g&&this.splice(g,b)}else if((d=c.const_get(q,"Range",!0,!0)["$==="](a))===l||null==d||d.$$is_boolean&&
1!=d){g=c.Opal.$coerce_to(a,c.Integer,"to_int");0>g&&(g+=this.length);if(0>g||g>=this.length)return l;m=this[g];0===g?this.shift():this.splice(g,1)}else g=a,m=this["$[]"](g),r=c.Opal.$coerce_to(g.$begin(),c.Integer,"to_int"),f=c.Opal.$coerce_to(g.$end(),c.Integer,"to_int"),0>r&&(r+=this.length),0>f?f+=this.length:f>=this.length&&(f=this.length-1,g.exclude&&(f+=1)),d=f-r,g.exclude?--f:d+=1,r<this.length&&0<=r&&f<this.length&&0<=f&&0<d&&this.splice(r,d);return m},cb.$$arity=-2);c.defn(k,"$sort",Oa=
function(){var a,b=this,d=Oa.$$p,m=d||l;d&&(Oa.$$p=null);if((a=1<b.length)===l||null==a||a.$$is_boolean&&1!=a)return b;m===l&&(m=function(a,b){return a["$<=>"](b)});return b.slice().sort(function(a,d){var g=m(a,d);g===l&&b.$raise(c.const_get(q,"ArgumentError",!0,!0),"comparison of "+a.$inspect()+" with "+d.$inspect()+" failed");return w(g,0)?1:("number"===typeof g?0>g:g["$<"](0))?-1:0})},Oa.$$arity=0);c.defn(k,"$sort!",Pa=function(){var a=Pa.$$p,b=a||l;a&&(Pa.$$p=null);for(var a=b!==l?h(this.slice(),
"sort",[],b.$to_proc()):this.slice().$sort(),b=this.length=0,c=a.length;b<c;b++)this.push(a[b]);return this},Pa.$$arity=0);c.defn(k,"$sort_by!",Sa=function(){var a,b=Sa.$$p,c=b||l;b&&(Sa.$$p=null);return c===l?h(this,"enum_for",["sort_by!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a)):this.$replace(h(this,"sort_by",[],c.$to_proc()))},Sa.$$arity=0);c.defn(k,"$take",db=function(a){0>a&&this.$raise(c.const_get(q,"ArgumentError",!0,!0));return this.slice(0,a)},db.$$arity=1);c.defn(k,
"$take_while",Ta=function(){var a=Ta.$$p,b=a||l;a&&(Ta.$$p=null);for(var a=[],c=0,d=this.length,m,g;c<d;c++){m=this[c];g=b(m);if(!1===g||g===l)break;a.push(m)}return a},Ta.$$arity=0);c.defn(k,"$to_a",eb=function(){return this},eb.$$arity=0);c.alias(k,"to_ary","to_a");c.defn(k,"$to_h",fb=function(){var a,b=this.length,d,m,r=g([],{});for(a=0;a<b;a++)d=c.Opal["$coerce_to?"](this[a],c.const_get(q,"Array",!0,!0),"to_ary"),d.$$is_array||this.$raise(c.const_get(q,"TypeError",!0,!0),"wrong element type "+
d.$class()+" at "+a+" (expected array)"),2!==d.length&&this.$raise(c.const_get(q,"ArgumentError",!0,!0),"wrong array length at "+a+" (expected 2, was "+d.$length()+")"),m=d[0],d=d[1],c.hash_put(r,m,d);return r},fb.$$arity=0);c.alias(k,"to_s","inspect");c.defn(k,"$transpose",gb=function(){var a,b,d=l,m=l;if((a=this["$empty?"]())!==l&&null!=a&&(!a.$$is_boolean||1==a))return[];d=[];m=l;h(this,"each",[],(b=function(a){var g=b.$$s||this,r,f;null==a&&(a=l);a=(r=c.const_get(q,"Array",!0,!0)["$==="](a))===
l||null==r||r.$$is_boolean&&1!=r?c.Opal.$coerce_to(a,c.const_get(q,"Array",!0,!0),"to_ary").$to_a():a.$to_a();!1!==(r=m)&&r!==l&&null!=r?r:m=a.length;(r=a.length["$!="](m))===l||null==r||r.$$is_boolean&&1!=r||g.$raise(c.const_get(q,"IndexError",!0,!0),"element size differs ("+a.length+" should be "+m);return h(a.length,"times",[],(f=function(b){var c,m,g,r=l;null==b&&(b=l);r=(c=b,m=d,!1!==(g=m["$[]"](c))&&g!==l&&null!=g?g:m["$[]="](c,[]));return r["$<<"](a.$at(b))},f.$$s=g,f.$$arity=1,f))},b.$$s=
this,b.$$arity=1,b));return d},gb.$$arity=0);c.defn(k,"$uniq",Ua=function(){var a=Ua.$$p,b=a||l;a&&(Ua.$$p=null);var a=g([],{}),d,m,r,f;if(b===l)for(d=0,m=this.length;d<m;d++)r=this[d],void 0===c.hash_get(a,r)&&c.hash_put(a,r,r);else for(d=0,m=this.length;d<m;d++)r=this[d],f=c.yield1(b,r),void 0===c.hash_get(a,f)&&c.hash_put(a,f,r);return p(a.$values(),this.$class())},Ua.$$arity=0);c.defn(k,"$uniq!",Va=function(){var a=Va.$$p,b=a||l;a&&(Va.$$p=null);var a=this.length,d=g([],{}),m,r,f,h;m=0;for(r=
a;m<r;m++)f=this[m],h=b===l?f:c.yield1(b,f),void 0===c.hash_get(d,h)?c.hash_put(d,h,f):(this.splice(m,1),r--,m--);return this.length===a?l:this},Va.$$arity=0);c.defn(k,"$unshift",hb=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(c=b.length-1;0<=c;c--)this.unshift(b[c]);return this},hb.$$arity=-1);c.defn(k,"$values_at",Za=function(a){var b,d,m=l,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var r=0;r<g;r++)d[r-0]=arguments[r];m=[];
h(d,"each",[],(b=function(a){var d=b.$$s||this,g,r,f=l,k=l,f=l;null==a&&(a=l);if((g=a["$kind_of?"](c.const_get(q,"Range",!0,!0)))===l||null==g||g.$$is_boolean&&1!=g)return f=c.Opal.$coerce_to(a,c.Integer,"to_int"),m["$<<"](d.$at(f));f=c.Opal.$coerce_to(a.$last(),c.Integer,"to_int");k=c.Opal.$coerce_to(a.$first(),c.Integer,"to_int");if(0>k)return k+=d.length,l;0>f&&(f+=d.length);a["$exclude_end?"]()&&f--;return f<k?l:h(k,"upto",[f],(r=function(a){var b=r.$$s||this;null==a&&(a=l);return m["$<<"](b.$at(a))},
r.$$s=d,r.$$arity=1,r))},b.$$s=this,b.$$arity=1,b));return m},Za.$$arity=-1);c.defn(k,"$zip",Na=function(a){var b,d,m=Na.$$p,g=m||l,r=arguments.length;d=r-0;0>d&&(d=0);d=Array(d);for(var f=0;f<r;f++)d[f-0]=arguments[f];m&&(Na.$$p=null);var m=[],r=this.length,h,k,T;k=0;for(T=d.length;k<T;k++)f=d[k],f.$$is_array||(f.$$is_enumerator?Infinity===f.$size()?d[k]=f.$take(r):d[k]=f.$to_a():d[k]=(!1!==(b=c.Opal["$coerce_to?"](f,c.const_get(q,"Array",!0,!0),"to_ary"))&&b!==l&&null!=b?b:c.Opal["$coerce_to!"](f,
c.const_get(q,"Enumerator",!0,!0),"each")).$to_a());for(h=0;h<r;h++){b=[this[h]];k=0;for(T=d.length;k<T;k++)f=d[k][h],null==f&&(f=l),b[k+1]=f;m[h]=b}if(g!==l){for(h=0;h<r;h++)g(m[h]);return l}return m},Na.$$arity=-1);c.defs(k,"$inherited",Ya=function(a){a.$$proto.$to_a=function(){return this.slice(0,this.length)}},Ya.$$arity=1);c.defn(k,"$instance_variables",Ma=function(){var a,b=Ma.$$p,d=l,m=l,g=l;b&&(Ma.$$p=null);m=0;g=arguments.length;for(d=Array(g);m<g;m++)d[m]=arguments[m];return h(h(this,c.find_super_dispatcher(this,
"instance_variables",Ma,!1),d,b),"reject",[],(a=function(a){var b;null==a&&(a=l);return!1!==(b=/^@\d+$/.test(a))&&b!==l&&null!=b?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},Ma.$$arity=0);return c.Opal.$pristine(k,"allocate","copy_instance_variables","initialize_dup")}(c.base,Array,B)};Opal.modules["corelib/hash"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}var y=c.top,B=[c],l=c.nil,a=c.klass,g=c.send;c.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $lambda? $abs $arity $call $enum_for $size $respond_to? $class $dig $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $alias_method $proc".split(" "));
y.$require("corelib/enumerable");return function(h,$super,k){function e(){}h=e=a(h,$super,"Hash",e);var d=h.$$proto,f=h.$$scope,p=k.slice().concat(f),b,n,x,q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,y,ja,K,ga,ha,X,ma,ka,sa,B,xa,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za;h.$include(c.const_get(p,"Enumerable",!0,!0));d.$$is_hash=!0;c.defs(h,"$[]",b=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];var e=b.length,g;if(1===e){d=c.Opal["$coerce_to?"](b["$[]"](0),
c.const_get(p,"Hash",!0,!0),"to_hash");if(d!==l)return this.$allocate()["$merge!"](d);b=c.Opal["$coerce_to?"](b["$[]"](0),c.const_get(p,"Array",!0,!0),"to_ary");b===l&&this.$raise(c.const_get(p,"ArgumentError",!0,!0),"odd number of arguments for Hash");e=b.length;d=this.$allocate();for(g=0;g<e;g++)if(b[g].$$is_array)switch(b[g].length){case 1:d.$store(b[g][0],l);break;case 2:d.$store(b[g][0],b[g][1]);break;default:this.$raise(c.const_get(p,"ArgumentError",!0,!0),"invalid number of elements ("+b[g].length+
" for 1..2)")}return d}0!==e%2&&this.$raise(c.const_get(p,"ArgumentError",!0,!0),"odd number of arguments for Hash");d=this.$allocate();for(g=0;g<e;g+=2)d.$store(b[g],b[g+1]);return d},b.$$arity=-1);c.defs(h,"$allocate",n=function(){var a=new this.$$alloc;c.hash_init(a);a.$$none=l;a.$$proc=l;return a},n.$$arity=0);c.defs(h,"$try_convert",x=function(a){return c.Opal["$coerce_to?"](a,c.const_get(p,"Hash",!0,!0),"to_hash")},x.$$arity=1);c.defn(h,"$initialize",q=function(a){var b=q.$$p,d=b||l;b&&(q.$$p=
null);void 0!==a&&d!==l&&this.$raise(c.const_get(p,"ArgumentError",!0,!0),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?l:a;this.$$proc=d;return this},q.$$arity=-1);c.defn(h,"$==",C=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var b=0,d=this.$$keys,e=d.length,g,f;b<e;b++)if(g=d[b],g.$$is_string?(f=this.$$smap[g],g=a.$$smap[g]):(f=g.value,g=c.hash_get(a,g.key)),void 0===g||!f["$eql?"](g))return!1;return!0},C.$$arity=1);c.defn(h,
"$>=",z=function(a){var b,d=l;a=c.Opal["$coerce_to!"](a,c.const_get(p,"Hash",!0,!0),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;d=!0;g(a,"each",[],(b=function(a,c){var e=b.$$s||this,g=l;null==a&&(a=l);null==c&&(c=l);g=e.$fetch(a,null);if(null==g||g!==c)d=!1},b.$$s=this,b.$$arity=2,b));return d},z.$$arity=1);c.defn(h,"$>",J=function(a){a=c.Opal["$coerce_to!"](a,c.const_get(p,"Hash",!0,!0),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:w(this,a)},J.$$arity=1);c.defn(h,"$<",R=
function(a){a=c.Opal["$coerce_to!"](a,c.const_get(p,"Hash",!0,!0),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},R.$$arity=1);c.defn(h,"$<=",H=function(a){a=c.Opal["$coerce_to!"](a,c.const_get(p,"Hash",!0,!0),"to_hash");return w(a,this)},H.$$arity=1);c.defn(h,"$[]",M=function(a){var b=c.hash_get(this,a);return void 0!==b?b:this.$default(a)},M.$$arity=1);c.defn(h,"$[]=",u=function(a,b){c.hash_put(this,a,b);return b},u.$$arity=2);c.defn(h,"$assoc",fa=function(a){for(var b=
0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],e.$$is_string){if(e["$=="](a))return[e,this.$$smap[e]]}else if(e.key["$=="](a))return[e.key,e.value];return l},fa.$$arity=1);c.defn(h,"$clear",v=function(){c.hash_init(this);return this},v.$$arity=0);c.defn(h,"$clone",la=function(){var a=new this.$$class.$$alloc;c.hash_init(a);c.hash_clone(this,a);return a},la.$$arity=0);c.defn(h,"$default",U=function(a){return void 0!==a&&this.$$proc!==l&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?
l:this.$$none},U.$$arity=-1);c.defn(h,"$default=",ea=function(a){this.$$proc=l;return this.$$none=a},ea.$$arity=1);c.defn(h,"$default_proc",ca=function(){return void 0!==this.$$proc?this.$$proc:l},ca.$$arity=0);c.defn(h,"$default_proc=",A=function(a){var b=a;b!==l&&(b=c.Opal["$coerce_to!"](b,c.const_get(p,"Proc",!0,!0),"to_proc"),b["$lambda?"]()&&2!==b.$arity().$abs()&&this.$raise(c.const_get(p,"TypeError",!0,!0),"default_proc takes two arguments"));this.$$none=l;this.$$proc=b;return a},A.$$arity=
1);c.defn(h,"$delete",V=function(a){var b=V.$$p,d=b||l;b&&(V.$$p=null);b=c.hash_delete(this,a);return void 0!==b?b:d!==l?d.$call(a):l},V.$$arity=1);c.defn(h,"$delete_if",W=function(){var a,b=W.$$p,d=b||l;b&&(W.$$p=null);if(!1===d||d===l||null==d)return g(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.$$keys,f=e.length,h,k;b<f;b++)h=e[b],h.$$is_string?k=this.$$smap[h]:(k=h.value,h=h.key),k=d(h,k),!1!==k&&k!==l&&void 0!==c.hash_delete(this,
h)&&(f--,b--);return this},W.$$arity=0);c.alias(h,"dup","clone");c.defn(h,"$dig",Q=function(a,b){var d,e,f=l,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var h=1;h<f;h++)e[h-1]=arguments[h];f=this["$[]"](a);if(f===l||0===e.length)return f;((d=f["$respond_to?"]("dig"))===l||null==d||d.$$is_boolean&&1!=d)&&this.$raise(c.const_get(p,"TypeError",!0,!0),""+f.$class()+" does not have #dig method");return g(f,"dig",c.to_a(e))},Q.$$arity=-2);c.defn(h,"$each",G=function(){var a,b=G.$$p,d=b||l;b&&(G.$$p=
null);if(!1===d||d===l||null==d)return g(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.$$keys,f=e.length,h,k;b<f;b++)h=e[b],h.$$is_string?k=this.$$smap[h]:(k=h.value,h=h.key),c.yield1(d,[h,k]);return this},G.$$arity=0);c.defn(h,"$each_key",O=function(){var a,b=O.$$p,c=b||l;b&&(O.$$p=null);if(!1===c||c===l||null==c)return g(this,"enum_for",["each_key"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=
0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],c(f.$$is_string?f:f.key);return this},O.$$arity=0);c.alias(h,"each_pair","each");c.defn(h,"$each_value",F=function(){var a,b=F.$$p,c=b||l;b&&(F.$$p=null);if(!1===c||c===l||null==c)return g(this,"enum_for",["each_value"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],c(f.$$is_string?this.$$smap[f]:f.value);return this},F.$$arity=0);c.defn(h,"$empty?",L=function(){return 0===this.$$keys.length},
L.$$arity=0);c.alias(h,"eql?","==");c.defn(h,"$fetch",D=function(a,b){var d=D.$$p,e=d||l;d&&(D.$$p=null);d=c.hash_get(this,a);return void 0!==d?d:e!==l?e(a):void 0!==b?b:this.$raise(c.const_get(p,"KeyError",!0,!0),"key not found: "+a.$inspect())},D.$$arity=-2);c.defn(h,"$fetch_values",ba=function(a){var b,c,d=ba.$$p,e=d||l,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(ba.$$p=null);return g(c,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=l);return g(c,
"fetch",[a],e.$to_proc())},b.$$s=this,b.$$arity=1,b))},ba.$$arity=-1);c.defn(h,"$flatten",ia=function(a){null==a&&(a=1);a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");for(var b=[],d=0,e=this.$$keys,g=e.length,f,h;d<g;d++)f=e[d],f.$$is_string?h=this.$$smap[f]:(h=f.value,f=f.key),b.push(f),h.$$is_array?1===a?b.push(h):b=b.concat(h.$flatten(a-2)):b.push(h);return b},ia.$$arity=-1);c.defn(h,"$has_key?",na=function(a){return void 0!==c.hash_get(this,a)},na.$$arity=1);c.defn(h,"$has_value?",y=function(a){for(var b=
0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],(e.$$is_string?this.$$smap[e]:e.value)["$=="](a))return!0;return!1},y.$$arity=1);c.defn(h,"$hash",ja=function(){var a=void 0===c.hash_ids,b=this.$object_id(),d=["Hash"],e,g;try{a&&(c.hash_ids={});if(c.hash_ids.hasOwnProperty(b))return"self";for(e in c.hash_ids)if(c.hash_ids.hasOwnProperty(e)&&(g=c.hash_ids[e],this["$eql?"](g)))return"self";c.hash_ids[b]=this;for(var b=0,f=this.$$keys,h=f.length;b<h;b++)e=f[b],e.$$is_string?d.push([e,this.$$smap[e].$hash()]):
d.push([e.key_hash,e.value.$hash()]);return d.sort().join()}finally{a&&delete c.hash_ids}},ja.$$arity=0);c.alias(h,"include?","has_key?");c.defn(h,"$index",K=function(a){for(var b=0,c=this.$$keys,d=c.length,e,g;b<d;b++)if(e=c[b],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),g["$=="](a))return e;return l},K.$$arity=1);c.defn(h,"$indexes",ga=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];for(var d=[],e=0,g=b.length,f;e<g;e++)f=b[e],f=c.hash_get(this,
f),void 0===f?d.push(this.$default()):d.push(f);return d},ga.$$arity=-1);c.alias(h,"indices","indexes");var Da;c.defn(h,"$inspect",ha=function(){var a=void 0===Da,b=this.$object_id(),c=[];try{a&&(Da={});if(Da.hasOwnProperty(b))return"{...}";Da[b]=!0;for(var b=0,d=this.$$keys,e=d.length,g,f;b<e;b++)g=d[b],g.$$is_string?f=this.$$smap[g]:(f=g.value,g=g.key),c.push(g.$inspect()+"=>"+f.$inspect());return"{"+c.join(", ")+"}"}finally{a&&(Da=void 0)}},ha.$$arity=0);c.defn(h,"$invert",X=function(){for(var a=
c.hash(),b=0,d=this.$$keys,e=d.length,g,f;b<e;b++)g=d[b],g.$$is_string?f=this.$$smap[g]:(f=g.value,g=g.key),c.hash_put(a,f,g);return a},X.$$arity=0);c.defn(h,"$keep_if",ma=function(){var a,b=ma.$$p,d=b||l;b&&(ma.$$p=null);if(!1===d||d===l||null==d)return g(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,e=this.$$keys,f=e.length,h,k;b<f;b++)h=e[b],h.$$is_string?k=this.$$smap[h]:(k=h.value,h=h.key),k=d(h,k),!1!==k&&k!==l||void 0===c.hash_delete(this,
h)||(f--,b--);return this},ma.$$arity=0);c.alias(h,"key","index");c.alias(h,"key?","has_key?");c.defn(h,"$keys",ka=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(e):a.push(e.key);return a},ka.$$arity=0);c.defn(h,"$length",sa=function(){return this.$$keys.length},sa.$$arity=0);c.alias(h,"member?","has_key?");c.defn(h,"$merge",B=function(a){var b=B.$$p,c=b||l;b&&(B.$$p=null);return g(this.$dup(),"merge!",[a],c.$to_proc())},B.$$arity=1);c.defn(h,"$merge!",
xa=function(a){var b=xa.$$p,d=b||l;b&&(xa.$$p=null);a.$$is_hash||(a=c.Opal["$coerce_to!"](a,c.const_get(p,"Hash",!0,!0),"to_hash"));var e=a.$$keys,g=e.length,f,h,k;if(d===l){for(b=0;b<g;b++)f=e[b],f.$$is_string?k=a.$$smap[f]:(k=f.value,f=f.key),c.hash_put(this,f,k);return this}for(b=0;b<g;b++)f=e[b],f.$$is_string?k=a.$$smap[f]:(k=f.value,f=f.key),h=c.hash_get(this,f),void 0===h?c.hash_put(this,f,k):c.hash_put(this,f,d(f,h,k));return this},xa.$$arity=1);c.defn(h,"$rassoc",ra=function(a){for(var b=
0,c=this.$$keys,d=c.length,e,g;b<d;b++)if(e=c[b],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),g["$=="](a))return[e,g];return l},ra.$$arity=1);c.defn(h,"$rehash",va=function(){c.hash_rehash(this);return this},va.$$arity=0);c.defn(h,"$reject",oa=function(){var a,b=oa.$$p,d=b||l;b&&(oa.$$p=null);if(!1===d||d===l||null==d)return g(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=c.hash(),e=0,f=this.$$keys,h=f.length,k,q,n;e<h;e++)k=f[e],
k.$$is_string?q=this.$$smap[k]:(q=k.value,k=k.key),n=d(k,q),!1!==n&&n!==l||c.hash_put(b,k,q);return b},oa.$$arity=0);c.defn(h,"$reject!",ta=function(){var a,b=ta.$$p,d=b||l;b&&(ta.$$p=null);if(!1===d||d===l||null==d)return g(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=!1,e=0,f=this.$$keys,h=f.length,k,q;e<h;e++)k=f[e],k.$$is_string?q=this.$$smap[k]:(q=k.value,k=k.key),q=d(k,q),!1!==q&&q!==l&&void 0!==c.hash_delete(this,k)&&(b=!0,h--,
e--);return b?this:l},ta.$$arity=0);c.defn(h,"$replace",E=function(a){var b,d=l;a=c.Opal["$coerce_to!"](a,c.const_get(p,"Hash",!0,!0),"to_hash");c.hash_init(this);for(var d=0,e=a.$$keys,f=e.length,h,k;d<f;d++)h=e[d],h.$$is_string?k=a.$$smap[h]:(k=h.value,h=h.key),c.hash_put(this,h,k);(b=a.$default_proc())===l||null==b||b.$$is_boolean&&1!=b?(d=[a.$default()],g(this,"default=",c.to_a(d))):(d=[a.$default_proc()],g(this,"default_proc=",c.to_a(d)));a=d;b=d.length;b="number"===typeof b?b-1:b["$-"](1);a[b];
return this},E.$$arity=1);c.defn(h,"$select",S=function(){var a,b=S.$$p,d=b||l;b&&(S.$$p=null);if(!1===d||d===l||null==d)return g(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=c.hash(),e=0,f=this.$$keys,h=f.length,k,q,n;e<h;e++)k=f[e],k.$$is_string?q=this.$$smap[k]:(q=k.value,k=k.key),n=d(k,q),!1!==n&&n!==l&&c.hash_put(b,k,q);return b},S.$$arity=0);c.defn(h,"$select!",Y=function(){var a,b=Y.$$p,d=b||l;b&&(Y.$$p=null);if(!1===d||d===l||null==
d)return g(this,"enum_for",["select!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=l,e=0,f=this.$$keys,h=f.length,k,q;e<h;e++)if(k=f[e],k.$$is_string?q=this.$$smap[k]:(q=k.value,k=k.key),q=d(k,q),!1===q||q===l)void 0!==c.hash_delete(this,k)&&(h--,e--),b=this;return b},Y.$$arity=0);c.defn(h,"$shift",aa=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,c.hash_delete(this,a)]):this.$default(l)},aa.$$arity=0);c.alias(h,"size","length");
h.$alias_method("store","[]=");c.defn(h,"$to_a",ya=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e,g;b<d;b++)e=c[b],e.$$is_string?g=this.$$smap[e]:(g=e.value,e=e.key),a.push([e,g]);return a},ya.$$arity=0);c.defn(h,"$to_h",Aa=function(){if(this.$$class===c.Hash)return this;var a=new c.Hash.$$alloc;c.hash_init(a);c.hash_clone(this,a);return a},Aa.$$arity=0);c.defn(h,"$to_hash",Ba=function(){return this},Ba.$$arity=0);c.defn(h,"$to_proc",Ca=function(){var a;return g(this,"proc",[],(a=function(b){var d=
a.$$s||this;null==b&&d.$raise(c.const_get(p,"ArgumentError",!0,!0),"no key given");return d["$[]"](b)},a.$$s=this,a.$$arity=-1,a))},Ca.$$arity=0);c.alias(h,"to_s","inspect");c.alias(h,"update","merge!");c.alias(h,"value?","has_value?");c.alias(h,"values_at","indexes");return(c.defn(h,"$values",za=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(this.$$smap[e]):a.push(e.value);return a},za.$$arity=0),l)&&"values"}(c.base,null,B)};Opal.modules["corelib/number"]=
function(c){function w(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function y(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function a(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var h=c.top,t=[c],k=c.nil,
e=c.klass,d=c.send,f=c.hash2;c.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));h.$require("corelib/numeric");(function(h,$super,n){function t(){}h=t=e(h,$super,"Number",t);var q=h.$$scope,C=n.slice().concat(q),z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa,ta,
E,S,Y,aa,ya,Aa,Ba,Ca,za,Da,Ga,r,m,Ea,Ha,Ka,qa,Ia,P,Ja,La,da,ua,Z,I,N;c.Opal.$bridge(h,Number);Number.prototype.$$is_number=!0;h.$$is_number_class=!0;c.defn(h,"$coerce",z=function(a){if(a!==k){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[c.Opal["$coerce_to!"](a,c.const_get(C,"Float",!0,!0),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(c.const_get(C,"TypeError",!0,!0),"can't convert "+a.$class()+" into Float")},z.$$arity=1);c.defn(h,"$__id__",J=function(){return 2*
this+1},J.$$arity=0);c.alias(h,"object_id","__id__");c.defn(h,"$+",R=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},R.$$arity=1);c.defn(h,"$-",H=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},H.$$arity=1);c.defn(h,"$*",M=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},M.$$arity=1);c.defn(h,"$/",u=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},u.$$arity=1);c.alias(h,"fdiv","/");c.defn(h,"$%",fa=function(a){if(a.$$is_number){if(-Infinity==
a)return a;if(0==a)this.$raise(c.const_get(C,"ZeroDivisionError",!0,!0),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},fa.$$arity=1);c.defn(h,"$&",v=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},v.$$arity=1);c.defn(h,"$|",la=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},la.$$arity=1);c.defn(h,"$^",U=function(a){return a.$$is_number?this^a:this.$__coerced__("^",a)},U.$$arity=1);c.defn(h,"$<",ea=function(a){return a.$$is_number?
this<a:this.$__coerced__("<",a)},ea.$$arity=1);c.defn(h,"$<=",ca=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},ca.$$arity=1);c.defn(h,"$>",A=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},A.$$arity=1);c.defn(h,"$>=",V=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},V.$$arity=1);c.defn(h,"$<=>",W=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?k:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(d){if(c.rescue(d,[c.const_get(C,
"ArgumentError",!0,!0)]))try{return k}finally{c.pop_exception()}else throw d;}},W.$$arity=1);c.defn(h,"$<<",Q=function(a){a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");return 0<a?this<<a:this>>-a},Q.$$arity=1);c.defn(h,"$>>",G=function(a){a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");return 0<a?this>>a:this<<-a},G.$$arity=1);c.defn(h,"$[]",O=function(a){a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},O.$$arity=1);c.defn(h,"$+@",F=function(){return+this},F.$$arity=
0);c.defn(h,"$-@",L=function(){return-this},L.$$arity=0);c.defn(h,"$~",D=function(){return~this},D.$$arity=0);c.defn(h,"$**",ba=function(a){var d,m,e;return(d=c.Integer["$==="](a))===k||null==d||d.$$is_boolean&&1!=d?(d=y(this,0)?!1!==(e=c.const_get(C,"Float",!0,!0)["$==="](a))&&e!==k&&null!=e?e:c.const_get(C,"Rational",!0,!0)["$==="](a):y(this,0))===k||null==d||d.$$is_boolean&&1!=d?(d=null!=a.$$is_number)===k||null==d||d.$$is_boolean&&1!=d?this.$__coerced__("**",a):Math.pow(this,a):c.const_get(C,
"Complex",!0,!0).$new(this,0)["$**"](a.$to_f()):(d=!1!==(m=c.Integer["$==="](this)["$!"]())&&m!==k&&null!=m?m:w(a,0))===k||null==d||d.$$is_boolean&&1!=d?c.const_get(C,"Rational",!0,!0).$new(this,1)["$**"](a):Math.pow(this,a)},ba.$$arity=1);c.defn(h,"$===",ia=function(a){return a.$$is_number?this.valueOf()===a.valueOf():this["$=="](a)},ia.$$arity=1);c.defn(h,"$==",na=function(a){return a.$$is_number?this==Number(a):a["$respond_to?"]("==")?a["$=="](this):!1},na.$$arity=1);c.defn(h,"$abs",pa=function(){return Math.abs(this)},
pa.$$arity=0);c.defn(h,"$abs2",ja=function(){return Math.abs(this*this)},ja.$$arity=0);c.defn(h,"$angle",K=function(){var a;return(a=this["$nan?"]())===k||null==a||a.$$is_boolean&&1!=a?0==this?0<1/this?0:Math.PI:0>this?Math.PI:0:this},K.$$arity=0);c.alias(h,"arg","angle");c.alias(h,"phase","angle");c.defn(h,"$bit_length",ga=function(){var a;((a=c.Integer["$==="](this))===k||null==a||a.$$is_boolean&&1!=a)&&this.$raise(c.const_get(C,"NoMethodError",!0,!0).$new("undefined method `bit_length` for "+this+
":Float","bit_length"));if(0===this||-1===this)return 0;a=0;for(var d=0>this?~this:this;0!=d;)a+=1,d>>>=1;return a},ga.$$arity=0);c.defn(h,"$ceil",ha=function(){return Math.ceil(this)},ha.$$arity=0);c.defn(h,"$chr",X=function(a){return String.fromCharCode(this)},X.$$arity=-1);c.defn(h,"$denominator",ma=function(){var a,m,e=ma.$$p,g=k,f=k,r=k;e&&(ma.$$p=null);f=0;r=arguments.length;for(g=Array(r);f<r;f++)g[f]=arguments[f];return(a=!1!==(m=this["$nan?"]())&&m!==k&&null!=m?m:this["$infinite?"]())===
k||null==a||a.$$is_boolean&&1!=a?d(this,c.find_super_dispatcher(this,"denominator",ma,!1),g,e):1},ma.$$arity=0);c.defn(h,"$downto",ka=function(a){var m,e=ka.$$p,g=e||k;e&&(ka.$$p=null);if(g===k)return d(this,"enum_for",["downto",a],(m=function(){var d=m.$$s||this,e;((e=c.const_get(C,"Numeric",!0,!0)["$==="](a))===k||null==e||e.$$is_boolean&&1!=e)&&d.$raise(c.const_get(C,"ArgumentError",!0,!0),"comparison of "+d.$class()+" with "+a.$class()+" failed");return(e=w(a,d))===k||null==e||e.$$is_boolean&&
1!=e?B(l(d,a),1):0},m.$$s=this,m.$$arity=0,m));a.$$is_number||this.$raise(c.const_get(C,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(e=this;e>=a;e--)g(e);return this},ka.$$arity=1);c.alias(h,"eql?","==");c.defn(h,"$equal?",sa=function(a){var c;return!1!==(c=this["$=="](a))&&c!==k&&null!=c?c:isNaN(this)&&isNaN(a)},sa.$$arity=1);c.defn(h,"$even?",wa=function(){return 0===this%2},wa.$$arity=0);c.defn(h,"$floor",xa=function(){return Math.floor(this)},xa.$$arity=
0);c.defn(h,"$gcd",ra=function(a){var d;((d=c.Integer["$==="](a))===k||null==d||d.$$is_boolean&&1!=d)&&this.$raise(c.const_get(C,"TypeError",!0,!0),"not an integer");d=Math.abs(this);for(a=Math.abs(a);0<d;){var m=d;d=a%d;a=m}return a},ra.$$arity=1);c.defn(h,"$gcdlcm",va=function(a){return[this.$gcd(),this.$lcm()]},va.$$arity=1);c.defn(h,"$integer?",oa=function(){return 0===this%1},oa.$$arity=0);c.defn(h,"$is_a?",ta=function(a){var m,e=ta.$$p,g=k,f=k,r=k;e&&(ta.$$p=null);f=0;r=arguments.length;for(g=
Array(r);f<r;f++)g[f]=arguments[f];return((m=a["$=="](c.const_get(C,"Fixnum",!0,!0))?c.Integer["$==="](this):a["$=="](c.const_get(C,"Fixnum",!0,!0)))===k||null==m||m.$$is_boolean&&1!=m)&&((m=a["$=="](c.Integer)?c.Integer["$==="](this):a["$=="](c.Integer))===k||null==m||m.$$is_boolean&&1!=m)&&((m=a["$=="](c.const_get(C,"Float",!0,!0))?c.const_get(C,"Float",!0,!0)["$==="](this):a["$=="](c.const_get(C,"Float",!0,!0)))===k||null==m||m.$$is_boolean&&1!=m)?d(this,c.find_super_dispatcher(this,"is_a?",ta,
!1),g,e):!0},ta.$$arity=1);c.alias(h,"kind_of?","is_a?");c.defn(h,"$instance_of?",E=function(a){var m,e=E.$$p,g=k,f=k,r=k;e&&(E.$$p=null);f=0;r=arguments.length;for(g=Array(r);f<r;f++)g[f]=arguments[f];return((m=a["$=="](c.const_get(C,"Fixnum",!0,!0))?c.Integer["$==="](this):a["$=="](c.const_get(C,"Fixnum",!0,!0)))===k||null==m||m.$$is_boolean&&1!=m)&&((m=a["$=="](c.Integer)?c.Integer["$==="](this):a["$=="](c.Integer))===k||null==m||m.$$is_boolean&&1!=m)&&((m=a["$=="](c.const_get(C,"Float",!0,!0))?
c.const_get(C,"Float",!0,!0)["$==="](this):a["$=="](c.const_get(C,"Float",!0,!0)))===k||null==m||m.$$is_boolean&&1!=m)?d(this,c.find_super_dispatcher(this,"instance_of?",E,!1),g,e):!0},E.$$arity=1);c.defn(h,"$lcm",S=function(a){var d;((d=c.Integer["$==="](a))===k||null==d||d.$$is_boolean&&1!=d)&&this.$raise(c.const_get(C,"TypeError",!0,!0),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},S.$$arity=1);c.alias(h,"magnitude","abs");c.alias(h,"modulo","%");c.defn(h,"$next",Y=function(){return this+
1},Y.$$arity=0);c.defn(h,"$nonzero?",aa=function(){return 0==this?k:this},aa.$$arity=0);c.defn(h,"$numerator",ya=function(){var a,m,e=ya.$$p,g=k,f=k,r=k;e&&(ya.$$p=null);f=0;r=arguments.length;for(g=Array(r);f<r;f++)g[f]=arguments[f];return(a=!1!==(m=this["$nan?"]())&&m!==k&&null!=m?m:this["$infinite?"]())===k||null==a||a.$$is_boolean&&1!=a?d(this,c.find_super_dispatcher(this,"numerator",ya,!1),g,e):this},ya.$$arity=0);c.defn(h,"$odd?",Aa=function(){return 0!==this%2},Aa.$$arity=0);c.defn(h,"$ord",
Ba=function(){return this},Ba.$$arity=0);c.defn(h,"$pred",Ca=function(){return this-1},Ca.$$arity=0);c.defn(h,"$quo",za=function(m){var e,g=za.$$p,f=k,r=k,h=k;g&&(za.$$p=null);r=0;h=arguments.length;for(f=Array(h);r<h;r++)f[r]=arguments[r];return(e=c.Integer["$==="](this))===k||null==e||e.$$is_boolean&&1!=e?a(this,m):d(this,c.find_super_dispatcher(this,"quo",za,!1),f,g)},za.$$arity=1);c.defn(h,"$rationalize",Da=function(a){var d,m,e=k,f=k;1<arguments.length&&this.$raise(c.const_get(C,"ArgumentError",
!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)");if((d=c.Integer["$==="](this))===k||null==d||d.$$is_boolean&&1!=d){if((d=this["$infinite?"]())===k||null==d||d.$$is_boolean&&1!=d){if((d=this["$nan?"]())===k||null==d||d.$$is_boolean&&1!=d){if((d=null==a)===k||null==d||d.$$is_boolean&&1!=d)return this.$to_r().$rationalize(a);m=c.const_get(C,"Math",!0,!0).$frexp(this);d=c.to_ary(m);e=null==d[0]?k:d[0];f=null==d[1]?k:d[1];m;e=c.const_get(C,"Math",!0,!0).$ldexp(e,c.const_get([c.const_get(C,
"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)).$to_i();f=l(f,c.const_get([c.const_get(C,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0));return c.const_get(C,"Rational",!0,!0).$new(g(2,e),1["$<<"](l(1,f))).$rationalize(c.const_get(C,"Rational",!0,!0).$new(1,1["$<<"](l(1,f))))}return this.$raise(c.const_get(C,"FloatDomainError",!0,!0),"NaN")}return this.$raise(c.const_get(C,"FloatDomainError",!0,!0),"Infinity")}return c.const_get(C,"Rational",!0,!0).$new(this,1)},Da.$$arity=-1);c.defn(h,"$round",Ga=function(d){var m,
e,g=k;if((m=c.Integer["$==="](this))===k||null==m||m.$$is_boolean&&1!=m){(m=(e=this["$nan?"](),!1!==e&&e!==k&&null!=e?null==d:e))===k||null==m||m.$$is_boolean&&1!=m||this.$raise(c.const_get(C,"FloatDomainError",!0,!0),"NaN");d=c.Opal["$coerce_to!"](d||0,c.Integer,"to_int");if((m="number"===typeof d?0>=d:d["$<="](0))===k||null==m||m.$$is_boolean&&1!=m){if(d["$=="](0))return Math.round(this);if((m=!1!==(e=this["$nan?"]())&&e!==k&&null!=e?e:this["$infinite?"]())!==k&&null!=m&&(!m.$$is_boolean||1==m))return this}else(m=
this["$nan?"]())===k||null==m||m.$$is_boolean&&1!=m?(m=this["$infinite?"]())===k||null==m||m.$$is_boolean&&1!=m||this.$raise(c.const_get(C,"FloatDomainError",!0,!0),"Infinity"):this.$raise(c.const_get(C,"RangeError",!0,!0),"NaN");e=c.const_get(C,"Math",!0,!0).$frexp(this);m=c.to_ary(e);g=null==m[1]?k:m[1];e;var f=l(B(c.const_get([c.const_get(C,"Float",!0,!0).$$scope],"DIG",!0,!0),2),(e=w(g,0))===k||null==e||e.$$is_boolean&&1!=e?l(a(g,3),1):a(g,4));return(m="number"===typeof d&&"number"===typeof f?
d>=f:d["$>="](f))===k||null==m||m.$$is_boolean&&1!=m?(m=y(d,((e=w(g,0))===k||null==e||e.$$is_boolean&&1!=e?a(g,4):B(a(g,3),1))["$-@"]()))===k||null==m||m.$$is_boolean&&1!=m?Math.round(this*Math.pow(10,d))/Math.pow(10,d):0:this}if((m=null==d)!==k&&null!=m&&(!m.$$is_boolean||1==m))return this;(m=(e=c.const_get(C,"Float",!0,!0)["$==="](d),!1!==e&&e!==k&&null!=e?d["$infinite?"]():e))===k||null==m||m.$$is_boolean&&1!=m||this.$raise(c.const_get(C,"RangeError",!0,!0),"Infinity");d=c.Opal["$coerce_to!"](d,
c.Integer,"to_int");(m=y(d,c.const_get([c.Integer.$$scope],"MIN",!0,!0)))===k||null==m||m.$$is_boolean&&1!=m||this.$raise(c.const_get(C,"RangeError",!0,!0),"out of bounds");if((m=0<=d)!==k&&null!=m&&(!m.$$is_boolean||1==m))return this;d=d["$-@"]();if(.415241*d-.125>this.$size())return 0;d=Math.pow(10,d);f=Math.floor((Math.abs(f)+d/2)/d)*d;return 0>this?-f:f},Ga.$$arity=-1);c.defn(h,"$step",r=function(a,m,e){function g(){0===v&&I.$raise(c.const_get(C,"ArgumentError",!0,!0),"step cannot be 0");!1!==
(q=t)&&q!==k&&null!=q?q:t=D;!1!==(q=v)&&q!==k&&null!=q?q:v=!1!==(n=da)&&n!==k&&null!=n?n:1;t.$$is_number||I.$raise(c.const_get(C,"ArgumentError",!0,!0),"limit must be a number");v.$$is_number||I.$raise(c.const_get(C,"ArgumentError",!0,!0),"step must be a number")}function h(){if(0<v&&I>t||0>v&&I<t)return 0;if(Infinity===v||-Infinity===v)return 1;var a=Math.abs,d=Math.floor,a=(a(I)+a(t)+a(t-I))/a(v)*c.const_get([c.const_get(C,"Float",!0,!0).$$scope],"EPSILON",!0,!0);if(Infinity===a||-Infinity===a)return 0;
.5<a&&(a=.5);return d((t-I)/v+a)+1}function l(){g();if(0===v)return Infinity;if(0!==v%1)return h();if(0<v&&I>t||0>v&&I<t)return 0;var a=Math.ceil,c=Math.abs,d=c(I-t)+1,c=c(v);return a(d/c)}var q,n,N,I=this,Z,D,da,t,v,p=r.$$p,P=p||k;Z=c.slice.call(arguments,0,arguments.length);e=c.extract_kwargs(Z);if(null==e||!e.$$is_hash)if(null==e)e=f([],{});else throw c.ArgumentError.$new("expected kwargs");null==(D=e.$$smap.to)&&(D=k);null==(da=e.$$smap.by)&&(da=k);0<Z.length&&(t=Z.splice(0,1)[0]);null==t&&(t=
k);0<Z.length&&(v=Z.splice(0,1)[0]);null==v&&(v=k);p&&(r.$$p=null);t!==k&&D!==k&&I.$raise(c.const_get(C,"ArgumentError",!0,!0),"to is given twice");v!==k&&da!==k&&I.$raise(c.const_get(C,"ArgumentError",!0,!0),"step is given twice");if(P===k)return d(I,"enum_for",["step",t,v,f(["to","by"],{to:D,by:da})],(N=function(){return l()},N.$$s=I,N.$$arity=0,N));g();if(0===v)for(;;)P(I);if(0!==I%1||0!==t%1||0!==v%1){if(N=h(),0<N)if(Infinity===v||-Infinity===v)P(I);else if(Z=0,0<v)for(;Z<N;)p=Z*v+I,t<p&&(p=t),
P(p),Z+=1;else for(;Z<N;)p=Z*v+I,t>p&&(p=t),P(p),Z+=1}else if(N=I,0<v)for(;N<=t;)P(N),N+=v;else for(;N>=t;)P(N),N+=v;return I},r.$$arity=-1);c.alias(h,"succ","next");c.defn(h,"$times",m=function(){var a,c=m.$$p,e=c||k;c&&(m.$$p=null);if(!1===e||e===k||null==e)return d(this,"enum_for",["times"],(a=function(){return a.$$s||this},a.$$s=this,a.$$arity=0,a));for(c=0;c<this;c++)e(c);return this},m.$$arity=0);c.defn(h,"$to_f",Ea=function(){return this},Ea.$$arity=0);c.defn(h,"$to_i",Ha=function(){return parseInt(this,
10)},Ha.$$arity=0);c.alias(h,"to_int","to_i");c.defn(h,"$to_r",Ka=function(){var a,d,m=k,e=k;return(a=c.Integer["$==="](this))===k||null==a||a.$$is_boolean&&1!=a?(d=c.const_get(C,"Math",!0,!0).$frexp(this),a=c.to_ary(d),m=null==a[0]?k:a[0],e=null==a[1]?k:a[1],d,m=c.const_get(C,"Math",!0,!0).$ldexp(m,c.const_get([c.const_get(C,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)).$to_i(),e=l(e,c.const_get([c.const_get(C,"Float",!0,!0).$$scope],"MANT_DIG",!0,!0)),g(m,c.const_get([c.const_get(C,"Float",!0,!0).$$scope],
"RADIX",!0,!0)["$**"](e)).$to_r()):c.const_get(C,"Rational",!0,!0).$new(this,1)},Ka.$$arity=0);c.defn(h,"$to_s",qa=function(a){var d,m;null==a&&(a=10);(d=!1!==(m=y(a,2))&&m!==k&&null!=m?m:w(a,36))===k||null==d||d.$$is_boolean&&1!=d||this.$raise(c.const_get(C,"ArgumentError",!0,!0),"base must be between 2 and 36");return this.toString(a)},qa.$$arity=-1);c.alias(h,"truncate","to_i");c.alias(h,"inspect","to_s");c.defn(h,"$divmod",Ia=function(a){var m,e,g=Ia.$$p,f=k,r=k,h=k;g&&(Ia.$$p=null);r=0;h=arguments.length;
for(f=Array(h);r<h;r++)f[r]=arguments[r];return(m=!1!==(e=this["$nan?"]())&&e!==k&&null!=e?e:a["$nan?"]())===k||null==m||m.$$is_boolean&&1!=m?(m=this["$infinite?"]())===k||null==m||m.$$is_boolean&&1!=m?d(this,c.find_super_dispatcher(this,"divmod",Ia,!1),f,g):this.$raise(c.const_get(C,"FloatDomainError",!0,!0),"Infinity"):this.$raise(c.const_get(C,"FloatDomainError",!0,!0),"NaN")},Ia.$$arity=1);c.defn(h,"$upto",P=function(a){var m,e=P.$$p,g=e||k;e&&(P.$$p=null);if(g===k)return d(this,"enum_for",["upto",
a],(m=function(){var d=m.$$s||this,e;((e=c.const_get(C,"Numeric",!0,!0)["$==="](a))===k||null==e||e.$$is_boolean&&1!=e)&&d.$raise(c.const_get(C,"ArgumentError",!0,!0),"comparison of "+d.$class()+" with "+a.$class()+" failed");return(e=y(a,d))===k||null==e||e.$$is_boolean&&1!=e?B(l(a,d),1):0},m.$$s=this,m.$$arity=0,m));a.$$is_number||this.$raise(c.const_get(C,"ArgumentError",!0,!0),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(e=this;e<=a;e++)g(e);return this},P.$$arity=1);c.defn(h,
"$zero?",Ja=function(){return 0==this},Ja.$$arity=0);c.defn(h,"$size",La=function(){return 4},La.$$arity=0);c.defn(h,"$nan?",da=function(){return isNaN(this)},da.$$arity=0);c.defn(h,"$finite?",ua=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},ua.$$arity=0);c.defn(h,"$infinite?",Z=function(){return Infinity==this?1:-Infinity==this?-1:k},Z.$$arity=0);c.defn(h,"$positive?",I=function(){return 0!=this&&(Infinity==this||0<1/this)},I.$$arity=0);return(c.defn(h,"$negative?",N=function(){return-Infinity==
this||0>1/this},N.$$arity=0),k)&&"negative?"})(c.base,c.const_get(t,"Numeric",!0,!0),t);c.cdecl(c,"Fixnum",c.const_get(t,"Number",!0,!0));(function(a,$super,d){function g(){}a=g=e(a,$super,"Integer",g);var f=a.$$scope;d.slice().concat(f);var h;a.$$is_number_class=!0;c.defs(a,"$===",h=function(a){return a.$$is_number?0===a%1:!1},h.$$arity=1);c.cdecl(f,"MAX",Math.pow(2,30)-1);return c.cdecl(f,"MIN",-Math.pow(2,30))})(c.base,c.const_get(t,"Numeric",!0,!0),t);return function(a,$super,d){function g(){}
a=g=e(a,$super,"Float",g);var f=a.$$scope;d.slice().concat(f);var h;a.$$is_number_class=!0;c.defs(a,"$===",h=function(a){return!!a.$$is_number},h.$$arity=1);c.cdecl(f,"INFINITY",Infinity);c.cdecl(f,"MAX",Number.MAX_VALUE);c.cdecl(f,"MIN",Number.MIN_VALUE);c.cdecl(f,"NAN",NaN);c.cdecl(f,"DIG",15);c.cdecl(f,"MANT_DIG",53);c.cdecl(f,"RADIX",2);return c.cdecl(f,"EPSILON",Number.EPSILON||2.220446049250313E-16)}(c.base,c.const_get(t,"Numeric",!0,!0),t)};Opal.modules["corelib/range"]=function(c){function w(a,
c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function B(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var a=c.top,g=[c],h=c.nil,t=c.klass,k=c.send;c.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
a.$require("corelib/enumerable");return function(a,$super,g){function p(){}a=p=t(a,$super,"Range",p);var b=a.$$proto,n=a.$$scope,x=g.slice().concat(n),q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q;b.begin=b.end=b.exclude=h;a.$include(c.const_get(x,"Enumerable",!0,!0));b.$$is_range=!0;a.$attr_reader("begin","end");c.defn(a,"$initialize",q=function(a,b,e){var g;null==e&&(e=!1);(g=this.begin)===h||null==g||g.$$is_boolean&&1!=g||this.$raise(c.const_get(x,"NameError",!0,!0),"'initialize' called twice");((g=
a["$<=>"](b))===h||null==g||g.$$is_boolean&&1!=g)&&this.$raise(c.const_get(x,"ArgumentError",!0,!0),"bad value for range");this.begin=a;this.end=b;return this.exclude=e},q.$$arity=-3);c.defn(a,"$==",C=function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1},C.$$arity=1);c.defn(a,"$===",z=function(a){return this["$include?"](a)},z.$$arity=1);c.defn(a,"$cover?",J=function(a){var b,c=h,c=h,c=this.begin["$<=>"](a);if((b=!1!==c&&c!==h&&null!=c?w(c,0):c)===h||null==
b||b.$$is_boolean&&1!=b)return!1;c=a["$<=>"](this.end);return(b=this.exclude)===h||null==b||b.$$is_boolean&&1!=b?!1!==c&&c!==h&&null!=c?w(c,0):c:!1!==c&&c!==h&&null!=c?y(c,0):c},J.$$arity=1);c.defn(a,"$each",R=function(){var a,b,e=R.$$p,g=e||h,f=h,l=h;e&&(R.$$p=null);if(g===h)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(c.const_get(x,"TypeError",!0,!0),"can't iterate from Float");b=this.begin;for(e=this.end+((a=this.exclude)===
h||null==a||a.$$is_boolean&&1!=a?1:0);b<e;b++)g(b);return this}if(this.begin.$$is_string&&this.end.$$is_string)return k(this.begin,"upto",[this.end,this.exclude],g.$to_proc()),this;f=this.begin;l=this.end;for(((a=f["$respond_to?"]("succ"))===h||null==a||a.$$is_boolean&&1!=a)&&this.$raise(c.const_get(x,"TypeError",!0,!0),"can't iterate from "+f.$class());(b=y(f["$<=>"](l),0))!==h&&null!=b&&(!b.$$is_boolean||1==b);)c.yield1(g,f),f=f.$succ();(a=(b=this.exclude["$!"](),!1!==b&&b!==h&&null!=b?f["$=="](l):
b))===h||null==a||a.$$is_boolean&&1!=a||c.yield1(g,f);return this},R.$$arity=0);c.defn(a,"$eql?",H=function(a){var b,e;return(b=c.const_get(x,"Range",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b?!1:(b=(e=this.exclude["$==="](a["$exclude_end?"]()),!1!==e&&e!==h&&null!=e?this.begin["$eql?"](a.$begin()):e),!1!==b&&b!==h&&null!=b?this.end["$eql?"](a.$end()):b)},H.$$arity=1);c.defn(a,"$exclude_end?",M=function(){return this.exclude},M.$$arity=0);c.defn(a,"$first",u=function(a){var b,e=u.$$p,g=
h,f=h,l=h;e&&(u.$$p=null);f=0;l=arguments.length;for(g=Array(l);f<l;f++)g[f]=arguments[f];return(b=null==a)===h||null==b||b.$$is_boolean&&1!=b?k(this,c.find_super_dispatcher(this,"first",u,!1),g,e):this.begin},u.$$arity=-1);c.alias(a,"include?","cover?");c.defn(a,"$last",fa=function(a){var b;return(b=null==a)===h||null==b||b.$$is_boolean&&1!=b?this.$to_a().$last(a):this.end},fa.$$arity=-1);c.defn(a,"$max",v=function(){var a,b,e=v.$$p,g=e||h,f=h,l=h,q=h;e&&(v.$$p=null);l=0;q=arguments.length;for(f=
Array(q);l<q;l++)f[l]=arguments[l];return g!==h?k(this,c.find_super_dispatcher(this,"max",v,!1),f,e):(a=B(this.begin,this.end))===h||null==a||a.$$is_boolean&&1!=a?(a=(b=this.exclude,!1!==b&&b!==h&&null!=b?this.begin["$=="](this.end):b))===h||null==a||a.$$is_boolean&&1!=a?this.exclude?this.end-1:this.end:h:h},v.$$arity=0);c.alias(a,"member?","cover?");c.defn(a,"$min",la=function(){var a,b,e=la.$$p,g=e||h,f=h,l=h,q=h;e&&(la.$$p=null);l=0;q=arguments.length;for(f=Array(q);l<q;l++)f[l]=arguments[l];return g!==
h?k(this,c.find_super_dispatcher(this,"min",la,!1),f,e):(a=B(this.begin,this.end))===h||null==a||a.$$is_boolean&&1!=a?(a=(b=this.exclude,!1!==b&&b!==h&&null!=b?this.begin["$=="](this.end):b))===h||null==a||a.$$is_boolean&&1!=a?this.begin:h:h},la.$$arity=0);c.defn(a,"$size",U=function(){var a,b,e=h,g=h,f=h,e=this.begin,g=this.end;(a=this.exclude)===h||null==a||a.$$is_boolean&&1!=a||(g="number"===typeof g?g-1:g["$-"](1));if((a=(b=c.const_get(x,"Numeric",!0,!0)["$==="](e),!1!==b&&b!==h&&null!=b?c.const_get(x,
"Numeric",!0,!0)["$==="](g):b))===h||null==a||a.$$is_boolean&&1!=a)return h;if((a=y(g,e))!==h&&null!=a&&(!a.$$is_boolean||1==a))return 0;f=c.const_get([c.const_get(x,"Float",!0,!0).$$scope],"INFINITY",!0,!0);return(a=!1!==(b=f["$=="](e.$abs()))&&b!==h&&null!=b?b:g.$abs()["$=="](f))===h||null==a||a.$$is_boolean&&1!=a?(Math.abs(g-e)+1).$to_i():f},U.$$arity=0);c.defn(a,"$step",ea=function(a){function b(){a.$$is_number||(a=c.Opal["$coerce_to!"](a,c.Integer,"to_int"));0>a?t.$raise(c.const_get(x,"ArgumentError",
!0,!0),"step can't be negative"):0===a&&t.$raise(c.const_get(x,"ArgumentError",!0,!0),"step can't be 0")}function e(){if(!t.begin["$respond_to?"]("succ")||t.begin.$$is_string&&t.end.$$is_string)return h;if(0===a%1){var b=t.$size();return("number"===typeof b&&"number"===typeof a?b/a:b["$/"](a)).$ceil()}var b=t.begin,g=t.end,f=Math.abs,k=Math.floor,f=(f(b)+f(g)+f(g-b))/f(a)*c.const_get([c.const_get(x,"Float",!0,!0).$$scope],"EPSILON",!0,!0);.5<f&&(f=.5);t.exclude?(k=k((g-b)/a-f),k*a+b<g&&k++):k=k((g-
b)/a+f)+1;return k}var g,f,q,n,t=this,v=ea.$$p,p=v||h,A=h;null==a&&(a=1);v&&(ea.$$p=null);if(p===h)return k(t,"enum_for",["step",a],(g=function(){b();return e()},g.$$s=t,g.$$arity=0,g));b();(f=t.begin.$$is_number&&t.end.$$is_number)===h||null==f||f.$$is_boolean&&1!=f?(t.begin.$$is_string&&t.end.$$is_string&&0!==a%1&&t.$raise(c.const_get(x,"TypeError",!0,!0),"no implicit conversion to float from string"),k(t,"each_with_index",[],(n=function(b,e){null==b&&(b=h);null==e&&(e=h);return e["$%"](a)["$=="](0)?
c.yield1(p,b):h},n.$$s=t,n.$$arity=2,n))):(A=0,function(){var b=c.new_brk();try{return k(t,"loop",[],(q=function(){var e=q.$$s||this,g,f=h;null==e.begin&&(e.begin=h);null==e.exclude&&(e.exclude=h);null==e.end&&(e.end=h);f=l(e.begin,"number"===typeof A&&"number"===typeof a?A*a:A["$*"](a));(g=e.exclude)===h||null==g||g.$$is_boolean&&1!=g?(g=B(f,e.end))===h||null==g||g.$$is_boolean&&1!=g||c.brk(h,b):(e=e.end,(g="number"===typeof f&&"number"===typeof e?f>=e:f["$>="](e))===h||null==g||g.$$is_boolean&&
1!=g||c.brk(h,b));c.yield1(p,f);return A=l(A,1)},q.$$s=t,q.$$brk=b,q.$$arity=0,q))}catch(e){if(e===b)return e.$v;throw e;}}());return t},ea.$$arity=-1);c.defn(a,"$bsearch",ca=function(){var a,b=ca.$$p,e=b||h;b&&(ca.$$p=null);if(e===h)return this.$enum_for("bsearch");((a=this.begin.$$is_number&&this.end.$$is_number)===h||null==a||a.$$is_boolean&&1!=a)&&this.$raise(c.const_get(x,"TypeError",!0,!0),"can't do binary search for "+this.begin.$class());return k(this.$to_a(),"bsearch",[],e.$to_proc())},ca.$$arity=
0);c.defn(a,"$to_s",A=function(){var a;return""+this.begin+((a=this.exclude)===h||null==a||a.$$is_boolean&&1!=a?"..":"...")+this.end},A.$$arity=0);c.defn(a,"$inspect",V=function(){var a;return""+this.begin.$inspect()+((a=this.exclude)===h||null==a||a.$$is_boolean&&1!=a?"..":"...")+this.end.$inspect()},V.$$arity=0);c.defn(a,"$marshal_load",W=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.exclude=a["$[]"]("excl")},W.$$arity=1);return(c.defn(a,"$hash",Q=function(){return[this.begin,
this.end,this.exclude].$hash()},Q.$$arity=0),h)&&"hash"}(c.base,null,g)};Opal.modules["corelib/proc"]=function(c){var w=[c],y=c.nil,B=c.slice,l=c.klass;c.add_stubs(["$raise","$coerce_to!"]);return function(a,$super,h){function t(){}a=t=l(a,$super,"Proc",t);var k=a.$$proto,e=a.$$scope,d=h.slice().concat(e),f,p,b,n,x,q,C,z,J,R;k.$$is_proc=!0;k.$$is_lambda=!1;c.defs(a,"$new",f=function(){var a=f.$$p,b=a||y;a&&(f.$$p=null);!1!==b&&b!==y&&null!=b||this.$raise(c.const_get(d,"ArgumentError",!0,!0),"tried to create a Proc object without a block");
return b},f.$$arity=0);c.defn(a,"$call",p=function(a){var b,d=p.$$p,e=d||y,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];d&&(p.$$p=null);e!==y&&(this.$$p=e);var k;if(d=this.$$brk)try{k=this.$$is_lambda?this.apply(null,b):c.yieldX(this,b)}catch(l){if(l===d)return d.$v;throw l;}else k=this.$$is_lambda?this.apply(null,b):c.yieldX(this,b);return k},p.$$arity=-1);c.alias(a,"[]","call");c.alias(a,"===","call");c.alias(a,"yield","call");c.defn(a,"$to_proc",b=function(){return this},
b.$$arity=0);c.defn(a,"$lambda?",n=function(){return!!this.$$is_lambda},n.$$arity=0);c.defn(a,"$arity",x=function(){return this.$$is_curried?-1:this.$$arity},x.$$arity=0);c.defn(a,"$source_location",q=function(){return y},q.$$arity=0);c.defn(a,"$binding",C=function(){this.$$is_curried&&this.$raise(c.const_get(d,"ArgumentError",!0,!0),"Can't create Binding");return y},C.$$arity=0);c.defn(a,"$parameters",z=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;
var a=[],b,c;b=0;for(c=this.$$parameters.length;b<c;b++){var d=this.$$parameters[b];"req"===d[0]&&(d=["opt",d[1]]);a.push(d)}return a}return[]},z.$$arity=0);c.defn(a,"$curry",J=function(a){function b(){var f=B.call(arguments),h=f.length;h>a&&e.$$is_lambda&&!e.$$is_curried&&e.$raise(c.const_get(d,"ArgumentError",!0,!0),"wrong number of arguments ("+h+" for "+a+")");if(h>=a)return e.$call.apply(e,f);h=function(){return b.apply(null,f.concat(B.call(arguments)))};h.$$is_lambda=e.$$is_lambda;h.$$is_curried=
!0;return h}var e=this;void 0===a?a=e.length:(a=c.Opal["$coerce_to!"](a,c.Integer,"to_int"),e.$$is_lambda&&a!==e.length&&e.$raise(c.const_get(d,"ArgumentError",!0,!0),"wrong number of arguments ("+a+" for "+e.length+")"));b.$$is_lambda=e.$$is_lambda;b.$$is_curried=!0;return b},J.$$arity=-1);c.defn(a,"$dup",R=function(){var a=this.$$original_proc||this,b=function(){return a.apply(this,arguments)},c;for(c in this)this.hasOwnProperty(c)&&(b[c]=this[c]);return b},R.$$arity=0);return c.alias(a,"clone",
"dup")}(c.base,Function,w)};Opal.modules["corelib/method"]=function(c){var w=[c],y=c.nil,B=c.klass;c.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(l,$super,g){function h(){}l=h=B(l,$super,"Method",h);var t=l.$$proto,k=l.$$scope,e=g.slice().concat(k),d,f,p,b,n,x,q,C,z;t.method=t.receiver=t.owner=t.name=y;l.$attr_reader("owner","receiver","name");c.defn(l,"$initialize",d=function(b,c,d,e){this.receiver=b;this.owner=c;this.name=e;return this.method=d},
d.$$arity=4);c.defn(l,"$arity",f=function(){return this.method.$arity()},f.$$arity=0);c.defn(l,"$parameters",p=function(){return this.method.$$parameters},p.$$arity=0);c.defn(l,"$source_location",b=function(){var b;return!1!==(b=this.method.$$source_location)&&b!==y&&null!=b?b:["(eval)",0]},b.$$arity=0);c.defn(l,"$comments",n=function(){var b;return!1!==(b=this.method.$$comments)&&b!==y&&null!=b?b:[]},n.$$arity=0);c.defn(l,"$call",x=function(b){var c,d=x.$$p,e=d||y,g=arguments.length;c=g-0;0>c&&(c=
0);c=Array(c);for(var f=0;f<g;f++)c[f-0]=arguments[f];d&&(x.$$p=null);this.method.$$p=e;return this.method.apply(this.receiver,c)},x.$$arity=-1);c.alias(l,"[]","call");c.defn(l,"$unbind",q=function(){return c.const_get(e,"UnboundMethod",!0,!0).$new(this.receiver.$class(),this.owner,this.method,this.name)},q.$$arity=0);c.defn(l,"$to_proc",C=function(){var b=this.$call.bind(this);b.$$unbound=this.method;b.$$is_lambda=!0;return b},C.$$arity=0);return(c.defn(l,"$inspect",z=function(){return"#<"+this.$class()+
": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},z.$$arity=0),y)&&"inspect"})(c.base,null,w);return function(l,$super,g){function h(){}l=h=B(l,$super,"UnboundMethod",h);var t=l.$$proto,k=l.$$scope,e=g.slice().concat(k),d,f,p,b,n,x,q;t.method=t.owner=t.name=t.source=y;l.$attr_reader("source","owner","name");c.defn(l,"$initialize",d=function(b,c,d,e){this.source=b;this.owner=c;this.method=d;return this.name=e},d.$$arity=4);c.defn(l,
"$arity",f=function(){return this.method.$arity()},f.$$arity=0);c.defn(l,"$parameters",p=function(){return this.method.$$parameters},p.$$arity=0);c.defn(l,"$source_location",b=function(){var b;return!1!==(b=this.method.$$source_location)&&b!==y&&null!=b?b:["(eval)",0]},b.$$arity=0);c.defn(l,"$comments",n=function(){var b;return!1!==(b=this.method.$$comments)&&b!==y&&null!=b?b:[]},n.$$arity=0);c.defn(l,"$bind",x=function(b){if(this.owner.$$is_module||c.is_a(b,this.owner))return c.const_get(e,"Method",
!0,!0).$new(b,this.owner,this.method,this.name);this.$raise(c.const_get(e,"TypeError",!0,!0),"can't bind singleton method to a different class (expected "+b+".kind_of?("+this.owner+" to be true)")},x.$$arity=1);return(c.defn(l,"$inspect",q=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},q.$$arity=0),y)&&"inspect"}(c.base,null,w)};Opal.modules["corelib/variables"]=function(c){var w=[c],y=c.nil,B=c.gvars,l=
c.hash2;c.add_stubs(["$new"]);B["&"]=B["~"]=B["`"]=B["'"]=y;B.LOADED_FEATURES=B['"']=c.loaded_features;B.LOAD_PATH=B[":"]=[];B["/"]="\n";B[","]=y;c.cdecl(c,"ARGV",[]);c.cdecl(c,"ARGF",c.const_get(w,"Object",!0,!0).$new());c.cdecl(c,"ENV",l([],{}));B.VERBOSE=!1;B.DEBUG=!1;return B.SAFE=0};Opal.modules["opal/regexp_anchors"]=function(c){var w=[c],y=c.nil,B=c.module;c.add_stubs(["$==","$new"]);B=B(c.base,"Opal").$$scope;w=w.slice().concat(B);c.cdecl(B,"REGEXP_START",c.const_get(w,"RUBY_ENGINE",!0,!0)["$=="]("opal")?
"^":y);c.cdecl(B,"REGEXP_END",c.const_get(w,"RUBY_ENGINE",!0,!0)["$=="]("opal")?"$":y);c.cdecl(B,"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.cdecl(B,"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.cdecl(B,"INLINE_IDENTIFIER_REGEXP",c.const_get(w,"Regexp",!0,!0).$new("[^"+c.const_get(w,"FORBIDDEN_STARTING_IDENTIFIER_CHARS",!0,!0)+"]*[^"+c.const_get(w,
"FORBIDDEN_ENDING_IDENTIFIER_CHARS",!0,!0)+"]"));c.cdecl(B,"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");c.cdecl(B,"CONST_NAME_REGEXP",c.const_get(w,"Regexp",!0,!0).$new(""+c.const_get(w,"REGEXP_START",!0,!0)+"(::)?[A-Z][^"+c.const_get(w,"FORBIDDEN_CONST_NAME_CHARS",!0,!0)+"]*"+c.const_get(w,"REGEXP_END",!0,!0)))};Opal.modules["opal/mini"]=function(c){var w=c.top;c.add_stubs(["$require"]);w.$require("opal/base");w.$require("corelib/nil");
w.$require("corelib/boolean");w.$require("corelib/string");w.$require("corelib/comparable");w.$require("corelib/enumerable");w.$require("corelib/enumerator");w.$require("corelib/array");w.$require("corelib/hash");w.$require("corelib/number");w.$require("corelib/range");w.$require("corelib/proc");w.$require("corelib/method");w.$require("corelib/regexp");w.$require("corelib/variables");return w.$require("opal/regexp_anchors")};Opal.modules["corelib/string/inheritance"]=function(c){var w=c.top,y=[c],
B=c.nil,l=c.klass,a=c.send,g=c.gvars;c.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));w.$require("corelib/string");(function(a,$super,g){function e(){}a=e=l(a,$super,"String",e);var d=a.$$scope,f=g.slice().concat(d),p;return c.defs(a,"$inherited",p=function(a){var d=B,d=c.const_get(f,"Class",!0,!0).$new(c.const_get([c.String.$$scope],"Wrapper",!0,!0));a.$$proto=d.$$proto;a.$$proto.$$class=
a;a.$$alloc=d.$$alloc;a.$$parent=c.const_get([c.String.$$scope],"Wrapper",!0,!0);a.$allocate=d.$allocate;a.$new=d.$new},p.$$arity=1)})(c.base,null,y);return function(h,$super,k){function e(){}h=e=l(h,$super,"Wrapper",e);var d=h.$$proto,f=h.$$scope;k.slice().concat(f);var p,b,n,x,q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca;d.literal=B;d.$$is_string=!0;c.defs(h,"$allocate",p=function(b){var d=p.$$p,g=B;null==b&&(b="");d&&(p.$$p=null);g=a(this,c.find_super_dispatcher(this,"allocate",p,!1,e),[],null);g.literal=b;
return g},p.$$arity=-1);c.defs(h,"$new",b=function(d){var e,g=b.$$p,f=g||B,h=B,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var k=0;k<h;k++)e[k-0]=arguments[k];g&&(b.$$p=null);h=this.$allocate();a(h,"initialize",c.to_a(e),f.$to_proc());return h},b.$$arity=-1);c.defs(h,"$[]",n=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$allocate(b)},n.$$arity=-1);c.defn(h,"$initialize",x=function(a){null==a&&(a="");return this.literal=
a},x.$$arity=-1);c.defn(h,"$method_missing",q=function(b){var d,e,g=q.$$p,f=g||B,h=B,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var k=0;k<h;k++)e[k-0]=arguments[k];g&&(q.$$p=null);h=a(this.literal,"__send__",c.to_a(e),f.$to_proc());return(d=null!=h.$$is_string)===B||null==d||d.$$is_boolean&&1!=d?h:(d=h==this.literal)===B||null==d||d.$$is_boolean&&1!=d?this.$class().$allocate(h):this},q.$$arity=-1);c.defn(h,"$initialize_copy",C=function(a){return this.literal=a.literal.$clone()},C.$$arity=
1);c.defn(h,"$respond_to?",z=function(b,d){var e,g=z.$$p,f=B,h=B,k=B;g&&(z.$$p=null);h=0;k=arguments.length;for(f=Array(k);h<k;h++)f[h]=arguments[h];return!1!==(e=a(this,c.find_super_dispatcher(this,"respond_to?",z,!1),f,g))&&e!==B&&null!=e?e:this.literal["$respond_to?"](b)},z.$$arity=-2);c.defn(h,"$==",J=function(a){return this.literal["$=="](a)},J.$$arity=1);c.alias(h,"eql?","==");c.alias(h,"===","==");c.defn(h,"$to_s",R=function(){return this.literal},R.$$arity=0);c.alias(h,"to_str","to_s");c.defn(h,
"$inspect",H=function(){return this.literal.$inspect()},H.$$arity=0);c.defn(h,"$+",M=function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)},M.$$arity=1);c.defn(h,"$*",u=function(a){var b=this.literal;a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):a},u.$$arity=1);c.defn(h,"$split",fa=function(b,c){var d;return a(this.literal.$split(b,c),"map",[],(d=function(a){var b=d.$$s||this;null==a&&(a=B);return b.$class().$allocate(a)},
d.$$s=this,d.$$arity=1,d))},fa.$$arity=-1);c.defn(h,"$replace",v=function(a){return this.literal=a},v.$$arity=1);c.defn(h,"$each_line",la=function(b){var d,e=la.$$p,f=e||B;null==g["/"]&&(g["/"]=B);null==b&&(b=g["/"]);e&&(la.$$p=null);return f===B?this.$enum_for("each_line",b):a(this.literal,"each_line",[b],(d=function(a){var b=d.$$s||this;null==a&&(a=B);return c.yield1(f,b.$class().$allocate(a))},d.$$s=this,d.$$arity=1,d))},la.$$arity=-1);c.defn(h,"$lines",U=function(b){var c=U.$$p,d=c||B,e=B;null==
g["/"]&&(g["/"]=B);null==b&&(b=g["/"]);c&&(U.$$p=null);e=a(this,"each_line",[b],d.$to_proc());return!1!==d&&d!==B&&null!=d?this:e.$to_a()},U.$$arity=-1);c.defn(h,"$%",ea=function(a){return this.literal["$%"](a)},ea.$$arity=1);return(c.defn(h,"$instance_variables",ca=function(){var b=ca.$$p,d=B,e=B,g=B;b&&(ca.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];b=a(this,c.find_super_dispatcher(this,"instance_variables",ca,!1),d,b);d=["@literal"];return"number"===typeof b&&"number"===
typeof d?b-d:b["$-"](d)},ca.$$arity=0),B)&&"instance_variables"}(c.String,null,y)};Opal.modules["corelib/string/encoding"]=function(c){function w(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var y,B,l,a,g,h=c.top,t=[c],k=c.nil,e=c.klass,d=c.send,f=c.hash2;c.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $constants $const_get $=== $== $name $include? $names $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
h.$require("corelib/string");(function(a,$super,g){function h(){}a=h=e(a,$super,"Encoding",h);var l=a.$$proto,t=a.$$scope,z=g.slice().concat(t),J,R,H,M,u,fa,v,la,U,ea;l.ascii=l.dummy=l.name=k;c.defs(a,"$register",J=function(a,e){var g,h,l=J.$$p,q=l||k,n=k,t=k;null==e&&(e=f([],{}));l&&(J.$$p=null);n=w([a],!1!==(g=e["$[]"]("aliases"))&&g!==k&&null!=g?g:[]);t=d(c.const_get(z,"Class",!0,!0),"new",[this],q.$to_proc()).$new(a,n,!1!==(g=e["$[]"]("ascii"))&&g!==k&&null!=g?g:!1,!1!==(g=e["$[]"]("dummy"))&&
g!==k&&null!=g?g:!1);return d(n,"each",[],(h=function(a){var c=h.$$s||this;null==a&&(a=k);return c.$const_set(a.$sub("-","_"),t)},h.$$s=this,h.$$arity=1,h))},J.$$arity=-2);c.defs(a,"$find",R=function(a){try{var e,g=k,g=a.$upcase();d(this.$constants(),"each",[],(e=function(a){var d=e.$$s||this,f,h,l=k;null==a&&(a=k);l=d.$const_get(a);if((f=c.const_get(z,"Encoding",!0,!0)["$==="](l))===k||null==f||f.$$is_boolean&&1!=f||(f=!1!==(h=l.$name()["$=="](g))&&h!==k&&null!=h?h:l.$names()["$include?"](g))===
k||null==f||f.$$is_boolean&&1!=f)return k;c.ret(l)},e.$$s=this,e.$$arity=1,e));return this.$raise(c.const_get(z,"ArgumentError",!0,!0),"unknown encoding name - "+a)}catch(f){if(f===c.returner)return f.$v;throw f;}},R.$$arity=1);(function(a,c){c.slice().concat(a);return a.$attr_accessor("default_external")})(c.get_singleton_class(a),z);a.$attr_reader("name","names");c.defn(a,"$initialize",H=function(a,c,d,e){this.name=a;this.names=c;this.ascii=d;return this.dummy=e},H.$$arity=4);c.defn(a,"$ascii_compatible?",
M=function(){return this.ascii},M.$$arity=0);c.defn(a,"$dummy?",u=function(){return this.dummy},u.$$arity=0);c.defn(a,"$to_s",fa=function(){return this.name},fa.$$arity=0);c.defn(a,"$inspect",v=function(){var a;return"#<Encoding:"+this.name+((a=this.dummy)===k||null==a||a.$$is_boolean&&1!=a?k:" (dummy)")+">"},v.$$arity=0);c.defn(a,"$each_byte",la=function(a){return this.$raise(c.const_get(z,"NotImplementedError",!0,!0))},la.$$arity=-1);c.defn(a,"$getbyte",U=function(a){return this.$raise(c.const_get(z,
"NotImplementedError",!0,!0))},U.$$arity=-1);c.defn(a,"$bytesize",ea=function(a){return this.$raise(c.const_get(z,"NotImplementedError",!0,!0))},ea.$$arity=-1);(function(a,$super,c){function d(){}a=(d=e(a,$super,"EncodingError",d)).$$scope;c.slice().concat(a);return k})(t.base,c.const_get(z,"StandardError",!0,!0),z);return function(a,$super,c){function d(){}a=(d=e(a,$super,"CompatibilityError",d)).$$scope;c.slice().concat(a);return k}(t.base,c.const_get(z,"EncodingError",!0,!0),z)})(c.base,null,t);
d(c.const_get(t,"Encoding",!0,!0),"register",["UTF-8",f(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(y=function(){var a=y.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,e=d||k;d&&(b.$$p=null);for(var d=0,g=a.length;d<g;d++){var f=a.charCodeAt(d);if(127>=f)c.yield1(e,f);else for(var f=encodeURIComponent(a.charAt(d)).substr(1).split("%"),h=0,l=f.length;h<l;h++)c.yield1(e,parseInt(f[h],16))}},b.$$arity=1);return(c.def(a,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=
1),k)&&"bytesize"},y.$$s=h,y.$$arity=0,y));d(c.const_get(t,"Encoding",!0,!0),"register",["UTF-16LE"],(B=function(){var a=B.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,e=d||k;d&&(b.$$p=null);for(var d=0,g=a.length;d<g;d++){var f=a.charCodeAt(d);c.yield1(e,f&255);c.yield1(e,f>>8)}},b.$$arity=1);return(c.def(a,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),k)&&"bytesize"},B.$$s=h,B.$$arity=0,B));d(c.const_get(t,"Encoding",!0,!0),"register",["UTF-16BE"],(l=function(){var a=
l.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,e=d||k;d&&(b.$$p=null);for(var d=0,g=a.length;d<g;d++){var f=a.charCodeAt(d);c.yield1(e,f>>8);c.yield1(e,f&255)}},b.$$arity=1);return(c.def(a,"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),k)&&"bytesize"},l.$$s=h,l.$$arity=0,l));d(c.const_get(t,"Encoding",!0,!0),"register",["UTF-32LE"],(a=function(){var d=a.$$s||this,b,e;c.def(d,"$each_byte",b=function(a){var d=b.$$p,e=d||k;d&&(b.$$p=null);for(var d=0,g=a.length;d<
g;d++){var f=a.charCodeAt(d);c.yield1(e,f&255);c.yield1(e,f>>8)}},b.$$arity=1);return(c.def(d,"$bytesize",e=function(a){return a.$bytes().$length()},e.$$arity=1),k)&&"bytesize"},a.$$s=h,a.$$arity=0,a));d(c.const_get(t,"Encoding",!0,!0),"register",["ASCII-8BIT",f(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(g=function(){var a=g.$$s||this,b,d;c.def(a,"$each_byte",b=function(a){var d=b.$$p,e=d||k;d&&(b.$$p=null);for(var d=0,g=a.length;d<g;d++)c.yield1(e,a.charCodeAt(d)&255)},b.$$arity=1);return(c.def(a,
"$bytesize",d=function(a){return a.$bytes().$length()},d.$$arity=1),k)&&"bytesize"},g.$$s=h,g.$$arity=0,g));return function(a,$super,g){function f(){}a=f=e(a,$super,"String",f);var h=a.$$proto,l=a.$$scope,t=g.slice().concat(l),J,R,H,M,u,fa,v,la;h.encoding=k;String.prototype.encoding=c.const_get([c.const_get(t,"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0);c.defn(a,"$bytes",J=function(){return this.$each_byte().$to_a()},J.$$arity=0);c.defn(a,"$bytesize",R=function(){return this.encoding.$bytesize(this)},
R.$$arity=0);c.defn(a,"$each_byte",H=function(){var a=H.$$p,c=a||k;a&&(H.$$p=null);if(c===k)return this.$enum_for("each_byte");d(this.encoding,"each_byte",[this],c.$to_proc());return this},H.$$arity=0);c.defn(a,"$encode",M=function(a){return this.$dup().$force_encoding(a)},M.$$arity=1);c.defn(a,"$encoding",u=function(){return this.encoding},u.$$arity=0);c.defn(a,"$force_encoding",fa=function(a){var d;if(a===this.encoding)return this;a=c.Opal["$coerce_to!"](a,c.String,"to_s");a=c.const_get(t,"Encoding",
!0,!0).$find(a);if(a["$=="](this.encoding))return this;(d=a["$nil?"]())===k||null==d||d.$$is_boolean&&1!=d||this.$raise(c.const_get(t,"ArgumentError",!0,!0),"unknown encoding name - "+a);d=new String(this);d.encoding=a;return d},fa.$$arity=1);c.defn(a,"$getbyte",v=function(a){return this.encoding.$getbyte(this,a)},v.$$arity=1);return(c.defn(a,"$valid_encoding?",la=function(){return!0},la.$$arity=0),k)&&"valid_encoding?"}(c.base,null,t)};Opal.modules["corelib/math"]=function(c){var w=[c],y=c.nil,B=
c.module;c.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(l,a){var g=B(l,"Math"),h=g.$$scope,t=a.slice().concat(h),k,e,d,f,p,b,n,x,q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L;c.cdecl(h,"E",Math.E);c.cdecl(h,"PI",Math.PI);c.cdecl(h,"DomainError",c.const_get(t,"Class",!0,!0).$new(c.const_get(t,"StandardError",!0,!0)));c.defs(g,"$checked",k=function(a,b){var d,e=arguments.length;d=e-1;0>d&&(d=
0);d=Array(d);for(var g=1;g<e;g++)d[g-1]=arguments[g];if(isNaN(d[0])||2==d.length&&isNaN(d[1]))return NaN;e=Math[a].apply(null,d);isNaN(e)&&this.$raise(c.const_get(t,"DomainError",!0,!0),'Numerical argument is out of domain - "'+a+'"');return e},k.$$arity=-2);c.defs(g,"$float!",e=function(a){try{return this.$Float(a)}catch(b){if(c.rescue(b,[c.const_get(t,"ArgumentError",!0,!0)]))try{return this.$raise(c.Opal.$type_error(a,c.const_get(t,"Float",!0,!0)))}finally{c.pop_exception()}else throw b;}},e.$$arity=
1);c.defs(g,"$integer!",d=function(a){try{return this.$Integer(a)}catch(b){if(c.rescue(b,[c.const_get(t,"ArgumentError",!0,!0)]))try{return this.$raise(c.Opal.$type_error(a,c.Integer))}finally{c.pop_exception()}else throw b;}},d.$$arity=1);g.$module_function();c.defn(g,"$acos",f=function(a){return c.const_get(t,"Math",!0,!0).$checked("acos",c.const_get(t,"Math",!0,!0)["$float!"](a))},f.$$arity=1);if((p="undefined"!==typeof Math.acosh)===y||null==p||p.$$is_boolean&&1!=p)Math.acosh=function(a){return Math.log(a+
Math.sqrt(a*a-1))};c.defn(g,"$acosh",b=function(a){return c.const_get(t,"Math",!0,!0).$checked("acosh",c.const_get(t,"Math",!0,!0)["$float!"](a))},b.$$arity=1);c.defn(g,"$asin",n=function(a){return c.const_get(t,"Math",!0,!0).$checked("asin",c.const_get(t,"Math",!0,!0)["$float!"](a))},n.$$arity=1);if((p="undefined"!==typeof Math.asinh)===y||null==p||p.$$is_boolean&&1!=p)Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))};c.defn(g,"$asinh",x=function(a){return c.const_get(t,"Math",!0,!0).$checked("asinh",
c.const_get(t,"Math",!0,!0)["$float!"](a))},x.$$arity=1);c.defn(g,"$atan",q=function(a){return c.const_get(t,"Math",!0,!0).$checked("atan",c.const_get(t,"Math",!0,!0)["$float!"](a))},q.$$arity=1);c.defn(g,"$atan2",C=function(a,b){return c.const_get(t,"Math",!0,!0).$checked("atan2",c.const_get(t,"Math",!0,!0)["$float!"](a),c.const_get(t,"Math",!0,!0)["$float!"](b))},C.$$arity=2);if((p="undefined"!==typeof Math.atanh)===y||null==p||p.$$is_boolean&&1!=p)Math.atanh=function(a){return.5*Math.log((1+a)/
(1-a))};c.defn(g,"$atanh",z=function(a){return c.const_get(t,"Math",!0,!0).$checked("atanh",c.const_get(t,"Math",!0,!0)["$float!"](a))},z.$$arity=1);if((p="undefined"!==typeof Math.cbrt)===y||null==p||p.$$is_boolean&&1!=p)Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,c=0;.125>b;)b*=8,c--;for(;1<b;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;0<c;)b*=2,c--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/3*b+1/3*a/(b*
b)};c.defn(g,"$cbrt",J=function(a){return c.const_get(t,"Math",!0,!0).$checked("cbrt",c.const_get(t,"Math",!0,!0)["$float!"](a))},J.$$arity=1);c.defn(g,"$cos",R=function(a){return c.const_get(t,"Math",!0,!0).$checked("cos",c.const_get(t,"Math",!0,!0)["$float!"](a))},R.$$arity=1);if((p="undefined"!==typeof Math.cosh)===y||null==p||p.$$is_boolean&&1!=p)Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2};c.defn(g,"$cosh",H=function(a){return c.const_get(t,"Math",!0,!0).$checked("cosh",c.const_get(t,
"Math",!0,!0)["$float!"](a))},H.$$arity=1);if((p="undefined"!==typeof Math.erf)===y||null==p||p.$$is_boolean&&1!=p)Math.erf=function(a){var b=1;0>a&&(b=-1);a=Math.abs(a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))};c.defn(g,"$erf",M=function(a){return c.const_get(t,"Math",!0,!0).$checked("erf",c.const_get(t,"Math",!0,!0)["$float!"](a))},M.$$arity=1);if((p="undefined"!==typeof Math.erfc)===y||null==p||p.$$is_boolean&&
1!=p)Math.erfc=function(a){var b=Math.abs(a),c=1/(.5*b+1),b=c*Math.exp(-b*b-1.26551223+c*(c*(c*(c*(c*(c*(c*(c*(.17087277*c+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-b:b};c.defn(g,"$erfc",u=function(a){return c.const_get(t,"Math",!0,!0).$checked("erfc",c.const_get(t,"Math",!0,!0)["$float!"](a))},u.$$arity=1);c.defn(g,"$exp",fa=function(a){return c.const_get(t,"Math",!0,!0).$checked("exp",c.const_get(t,"Math",!0,!0)["$float!"](a))},fa.$$arity=
1);c.defn(g,"$frexp",v=function(a){a=c.const_get(t,"Math",!0,!0)["$float!"](a);if(isNaN(a))return[NaN,0];var b=Math.floor(Math.log(Math.abs(a))/Math.log(2))+1;return[a/Math.pow(2,b),b]},v.$$arity=1);c.defn(g,"$gamma",la=function(a){a=c.const_get(t,"Math",!0,!0)["$float!"](a);var b,d,e,g;e=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,
-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(a))return NaN;if(0===a&&0>1/a)return-Infinity;-1!==a&&-Infinity!==a||this.$raise(c.const_get(t,"DomainError",!0,!0),'Numerical argument is out of domain - "gamma"');if(c.Integer["$==="](a)){if(0>=a)return isFinite(a)?Infinity:NaN;if(171<a)return Infinity;d=a-2;for(--a;1<d;)a*=d,d--;0==a&&(a=1);return a}if(.5>a)return Math.PI/(Math.sin(Math.PI*a)*c.const_get(t,"Math",!0,!0).$gamma("number"===typeof a?
1-a:1["$-"](a)));if(171.35<=a)return Infinity;if(85<a)return d=a*a,b=d*a,e=b*a,g=e*a,Math.sqrt(2*Math.PI/a)*Math.pow(a/Math.E,a)*(1+1/(12*a)+1/(288*d)-139/(51840*b)-571/(2488320*e)+163879/(209018880*g)+5246819/(75246796800*g*a));--a;d=e[0];for(b=1;b<e.length;++b)d+=e[b]/(a+b);b=a+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(b,a+.5)*Math.exp(-b)*d},la.$$arity=1);if((p="undefined"!==typeof Math.hypot)===y||null==p||p.$$is_boolean&&1!=p)Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)};c.defn(g,
"$hypot",U=function(a,b){return c.const_get(t,"Math",!0,!0).$checked("hypot",c.const_get(t,"Math",!0,!0)["$float!"](a),c.const_get(t,"Math",!0,!0)["$float!"](b))},U.$$arity=2);c.defn(g,"$ldexp",ea=function(a,b){a=c.const_get(t,"Math",!0,!0)["$float!"](a);b=c.const_get(t,"Math",!0,!0)["$integer!"](b);isNaN(b)&&this.$raise(c.const_get(t,"RangeError",!0,!0),"float NaN out of range of integer");return a*Math.pow(2,b)},ea.$$arity=2);c.defn(g,"$lgamma",ca=function(a){return-1==a?[Infinity,1]:[Math.log(Math.abs(c.const_get(t,
"Math",!0,!0).$gamma(a))),0>c.const_get(t,"Math",!0,!0).$gamma(a)?-1:1]},ca.$$arity=1);c.defn(g,"$log",A=function(a,b){var d;(d=c.String["$==="](a))===y||null==d||d.$$is_boolean&&1!=d||this.$raise(c.Opal.$type_error(a,c.const_get(t,"Float",!0,!0)));if((d=null==b)===y||null==d||d.$$is_boolean&&1!=d){(d=c.String["$==="](b))===y||null==d||d.$$is_boolean&&1!=d||this.$raise(c.Opal.$type_error(b,c.const_get(t,"Float",!0,!0)));d=c.const_get(t,"Math",!0,!0).$checked("log",c.const_get(t,"Math",!0,!0)["$float!"](a));
var e=c.const_get(t,"Math",!0,!0).$checked("log",c.const_get(t,"Math",!0,!0)["$float!"](b));return"number"===typeof d&&"number"===typeof e?d/e:d["$/"](e)}return c.const_get(t,"Math",!0,!0).$checked("log",c.const_get(t,"Math",!0,!0)["$float!"](a))},A.$$arity=-2);if((p="undefined"!==typeof Math.log10)===y||null==p||p.$$is_boolean&&1!=p)Math.log10=function(a){return Math.log(a)/Math.LN10};c.defn(g,"$log10",V=function(a){var b;(b=c.String["$==="](a))===y||null==b||b.$$is_boolean&&1!=b||this.$raise(c.Opal.$type_error(a,
c.const_get(t,"Float",!0,!0)));return c.const_get(t,"Math",!0,!0).$checked("log10",c.const_get(t,"Math",!0,!0)["$float!"](a))},V.$$arity=1);if((p="undefined"!==typeof Math.log2)===y||null==p||p.$$is_boolean&&1!=p)Math.log2=function(a){return Math.log(a)/Math.LN2};c.defn(g,"$log2",W=function(a){var b;(b=c.String["$==="](a))===y||null==b||b.$$is_boolean&&1!=b||this.$raise(c.Opal.$type_error(a,c.const_get(t,"Float",!0,!0)));return c.const_get(t,"Math",!0,!0).$checked("log2",c.const_get(t,"Math",!0,!0)["$float!"](a))},
W.$$arity=1);c.defn(g,"$sin",Q=function(a){return c.const_get(t,"Math",!0,!0).$checked("sin",c.const_get(t,"Math",!0,!0)["$float!"](a))},Q.$$arity=1);if((p="undefined"!==typeof Math.sinh)===y||null==p||p.$$is_boolean&&1!=p)Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2};c.defn(g,"$sinh",G=function(a){return c.const_get(t,"Math",!0,!0).$checked("sinh",c.const_get(t,"Math",!0,!0)["$float!"](a))},G.$$arity=1);c.defn(g,"$sqrt",O=function(a){return c.const_get(t,"Math",!0,!0).$checked("sqrt",
c.const_get(t,"Math",!0,!0)["$float!"](a))},O.$$arity=1);c.defn(g,"$tan",F=function(a){var b;a=c.const_get(t,"Math",!0,!0)["$float!"](a);return(b=a["$infinite?"]())===y||null==b||b.$$is_boolean&&1!=b?c.const_get(t,"Math",!0,!0).$checked("tan",c.const_get(t,"Math",!0,!0)["$float!"](a)):c.const_get([c.const_get(t,"Float",!0,!0).$$scope],"NAN",!0,!0)},F.$$arity=1);if((p="undefined"!==typeof Math.tanh)===y||null==p||p.$$is_boolean&&1!=p)Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-
Math.exp(-a))/(Math.exp(a)+Math.exp(-a))};c.defn(g,"$tanh",L=function(a){return c.const_get(t,"Math",!0,!0).$checked("tanh",c.const_get(t,"Math",!0,!0)["$float!"](a))},L.$$arity=1)}(c.base,w)};Opal.modules["corelib/complex"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function B(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function l(a,c){return"number"===
typeof a&&"number"===typeof c?a/c:a["$/"](c)}var a=c.top,g=[c],h=c.nil,t=c.klass,k=c.module;c.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $infinite?".split(" "));a.$require("corelib/numeric");(function(a,$super,g){function k(){}a=k=t(a,$super,
"Complex",k);var b=a.$$proto,n=a.$$scope,x=g.slice().concat(n),q,C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K;b.real=b.imag=h;c.defs(a,"$rect",q=function(a,b){var e,g,f,k;null==b&&(b=0);((e=(g=(f=(k=c.const_get(x,"Numeric",!0,!0)["$==="](a),!1!==k&&k!==h&&null!=k?a["$real?"]():k),!1!==f&&f!==h&&null!=f?c.const_get(x,"Numeric",!0,!0)["$==="](b):f),!1!==g&&g!==h&&null!=g?b["$real?"]():g))===h||null==e||e.$$is_boolean&&1!=e)&&this.$raise(c.const_get(x,"TypeError",!0,!0),"not a real");
return this.$new(a,b)},q.$$arity=-2);(function(a,b){b.slice().concat(a);return c.alias(a,"rectangular","rect")})(c.get_singleton_class(a),x);c.defs(a,"$polar",C=function(a,b){var e,g,f,k;null==b&&(b=0);((e=(g=(f=(k=c.const_get(x,"Numeric",!0,!0)["$==="](a),!1!==k&&k!==h&&null!=k?a["$real?"]():k),!1!==f&&f!==h&&null!=f?c.const_get(x,"Numeric",!0,!0)["$==="](b):f),!1!==g&&g!==h&&null!=g?b["$real?"]():g))===h||null==e||e.$$is_boolean&&1!=e)&&this.$raise(c.const_get(x,"TypeError",!0,!0),"not a real");
return this.$new(w(a,c.const_get(x,"Math",!0,!0).$cos(b)),w(a,c.const_get(x,"Math",!0,!0).$sin(b)))},C.$$arity=-2);a.$attr_reader("real","imag");c.defn(a,"$initialize",z=function(a,b){null==b&&(b=0);this.real=a;return this.imag=b},z.$$arity=-2);c.defn(a,"$coerce",J=function(a){var b,e;return(b=c.const_get(x,"Complex",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b?(b=(e=c.const_get(x,"Numeric",!0,!0)["$==="](a),!1!==e&&e!==h&&null!=e?a["$real?"]():e))===h||null==b||b.$$is_boolean&&1!=b?this.$raise(c.const_get(x,
"TypeError",!0,!0),""+a.$class()+" can't be coerced into Complex"):[c.const_get(x,"Complex",!0,!0).$new(a,0),this]:[a,this]},J.$$arity=1);c.defn(a,"$==",R=function(a){var b,e;return(b=c.const_get(x,"Complex",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b?(b=(e=c.const_get(x,"Numeric",!0,!0)["$==="](a),!1!==e&&e!==h&&null!=e?a["$real?"]():e))===h||null==b||b.$$is_boolean&&1!=b?a["$=="](this):this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):
this.real["$=="](a.$real())},R.$$arity=1);c.defn(a,"$-@",H=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},H.$$arity=0);c.defn(a,"$+",M=function(a){var b,e;return(b=c.const_get(x,"Complex",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b?(b=(e=c.const_get(x,"Numeric",!0,!0)["$==="](a),!1!==e&&e!==h&&null!=e?a["$real?"]():e))===h||null==b||b.$$is_boolean&&1!=b?this.$__coerced__("+",a):this.$Complex(y(this.real,a),this.imag):this.$Complex(y(this.real,a.$real()),y(this.imag,
a.$imag()))},M.$$arity=1);c.defn(a,"$-",u=function(a){var b,e;return(b=c.const_get(x,"Complex",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b?(b=(e=c.const_get(x,"Numeric",!0,!0)["$==="](a),!1!==e&&e!==h&&null!=e?a["$real?"]():e))===h||null==b||b.$$is_boolean&&1!=b?this.$__coerced__("-",a):this.$Complex(B(this.real,a),this.imag):this.$Complex(B(this.real,a.$real()),B(this.imag,a.$imag()))},u.$$arity=1);c.defn(a,"$*",fa=function(a){var b,e;return(b=c.const_get(x,"Complex",!0,!0)["$==="](a))===
h||null==b||b.$$is_boolean&&1!=b?(b=(e=c.const_get(x,"Numeric",!0,!0)["$==="](a),!1!==e&&e!==h&&null!=e?a["$real?"]():e))===h||null==b||b.$$is_boolean&&1!=b?this.$__coerced__("*",a):this.$Complex(w(this.real,a),w(this.imag,a)):this.$Complex(B(w(this.real,a.$real()),w(this.imag,a.$imag())),y(w(this.real,a.$imag()),w(this.imag,a.$real())))},fa.$$arity=1);c.defn(a,"$/",v=function(a){var b,e,g,f,k;return(b=c.const_get(x,"Complex",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b?(b=(e=c.const_get(x,
"Numeric",!0,!0)["$==="](a),!1!==e&&e!==h&&null!=e?a["$real?"]():e))===h||null==b||b.$$is_boolean&&1!=b?this.$__coerced__("/",a):this.$Complex(this.real.$quo(a),this.imag.$quo(a)):(b=!1!==(e=!1!==(g=!1!==(f=(k=c.const_get(x,"Number",!0,!0)["$==="](this.real),!1!==k&&k!==h&&null!=k?this.real["$nan?"]():k))&&f!==h&&null!=f?f:(k=c.const_get(x,"Number",!0,!0)["$==="](this.imag),!1!==k&&k!==h&&null!=k?this.imag["$nan?"]():k))&&g!==h&&null!=g?g:(f=c.const_get(x,"Number",!0,!0)["$==="](a.$real()),!1!==f&&
f!==h&&null!=f?a.$real()["$nan?"]():f))&&e!==h&&null!=e?e:(g=c.const_get(x,"Number",!0,!0)["$==="](a.$imag()),!1!==g&&g!==h&&null!=g?a.$imag()["$nan?"]():g))===h||null==b||b.$$is_boolean&&1!=b?l(w(this,a.$conj()),a.$abs2()):c.const_get(x,"Complex",!0,!0).$new(c.const_get([c.const_get(x,"Float",!0,!0).$$scope],"NAN",!0,!0),c.const_get([c.const_get(x,"Float",!0,!0).$$scope],"NAN",!0,!0))},v.$$arity=1);c.defn(a,"$**",la=function(a){var b,e,g,f,k,q=h,n=h,t=h,v=h,p=h,v=t=n=q=p=q=h;if(a["$=="](0))return c.const_get(x,
"Complex",!0,!0).$new(1,0);if((b=c.const_get(x,"Complex",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b){if((b=c.Integer["$==="](a))===h||null==b||b.$$is_boolean&&1!=b){if((b=!1!==(e=c.const_get(x,"Float",!0,!0)["$==="](a))&&e!==h&&null!=e?e:c.const_get(x,"Rational",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b)return this.$__coerced__("**",a);e=this.$polar();b=c.to_ary(e);q=null==b[0]?h:b[0];n=null==b[1]?h:b[1];e;return c.const_get(x,"Complex",!0,!0).$polar(q["$**"](a),w(n,a))}if((b=
"number"===typeof a?0<a:a["$>"](0))===h||null==b||b.$$is_boolean&&1!=b)return l(c.const_get(x,"Rational",!0,!0).$new(1,1),this)["$**"](a["$-@"]());q=p=this;for(n=B(a,1);(e=n["$!="](0))!==h&&null!=e&&(!e.$$is_boolean||1==e);){for(;(g=(k=n.$divmod(2),f=c.to_ary(k),t=null==f[0]?h:f[0],v=null==f[1]?h:f[1],k,v["$=="](0)))!==h&&null!=g&&(!g.$$is_boolean||1==g);)p=this.$Complex(B(w(p.$real(),p.$real()),w(p.$imag(),p.$imag())),w(w(2,p.$real()),p.$imag())),n=t;q=w(q,p);n=B(n,1)}return q}e=this.$polar();b=
c.to_ary(e);q=null==b[0]?h:b[0];n=null==b[1]?h:b[1];e;t=a.$real();v=a.$imag();p=c.const_get(x,"Math",!0,!0).$exp(B(w(t,c.const_get(x,"Math",!0,!0).$log(q)),w(v,n)));q=y(w(n,t),w(v,c.const_get(x,"Math",!0,!0).$log(q)));return c.const_get(x,"Complex",!0,!0).$polar(p,q)},la.$$arity=1);c.defn(a,"$abs",U=function(){return c.const_get(x,"Math",!0,!0).$hypot(this.real,this.imag)},U.$$arity=0);c.defn(a,"$abs2",ea=function(){return y(w(this.real,this.real),w(this.imag,this.imag))},ea.$$arity=0);c.defn(a,"$angle",
ca=function(){return c.const_get(x,"Math",!0,!0).$atan2(this.imag,this.real)},ca.$$arity=0);c.alias(a,"arg","angle");c.defn(a,"$conj",A=function(){return this.$Complex(this.real,this.imag["$-@"]())},A.$$arity=0);c.alias(a,"conjugate","conj");c.defn(a,"$denominator",V=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},V.$$arity=0);c.alias(a,"divide","/");c.defn(a,"$eql?",W=function(a){var b,e;return b=(e=c.const_get(x,"Complex",!0,!0)["$==="](a),!1!==e&&e!==h&&null!=e?this.real.$class()["$=="](this.imag.$class()):
e),!1!==b&&b!==h&&null!=b?this["$=="](a):b},W.$$arity=1);c.defn(a,"$fdiv",Q=function(a){var b;((b=c.const_get(x,"Numeric",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b)&&this.$raise(c.const_get(x,"TypeError",!0,!0),""+a.$class()+" can't be coerced into Complex");return l(this,a)},Q.$$arity=1);c.defn(a,"$hash",G=function(){return"Complex:"+this.real+":"+this.imag},G.$$arity=0);c.alias(a,"imaginary","imag");c.defn(a,"$inspect",O=function(){return"("+this.$to_s()+")"},O.$$arity=0);c.alias(a,
"magnitude","abs");c.udef(a,"$negative?");c.defn(a,"$numerator",F=function(){var a=h,a=this.$denominator();return this.$Complex(w(this.real.$numerator(),l(a,this.real.$denominator())),w(this.imag.$numerator(),l(a,this.imag.$denominator())))},F.$$arity=0);c.alias(a,"phase","arg");c.defn(a,"$polar",L=function(){return[this.$abs(),this.$arg()]},L.$$arity=0);c.udef(a,"$positive?");c.alias(a,"quo","/");c.defn(a,"$rationalize",D=function(a){var b;1<arguments.length&&this.$raise(c.const_get(x,"ArgumentError",
!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)");(b=this.imag["$!="](0))===h||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(x,"RangeError",!0,!0),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},D.$$arity=-1);c.defn(a,"$real?",ba=function(){return!1},ba.$$arity=0);c.defn(a,"$rect",ia=function(){return[this.real,this.imag]},ia.$$arity=0);c.alias(a,"rectangular","rect");c.defn(a,"$to_f",na=function(){this.imag["$=="](0)||this.$raise(c.const_get(x,
"RangeError",!0,!0),"can't convert "+this+" into Float");return this.real.$to_f()},na.$$arity=0);c.defn(a,"$to_i",pa=function(){this.imag["$=="](0)||this.$raise(c.const_get(x,"RangeError",!0,!0),"can't convert "+this+" into Integer");return this.real.$to_i()},pa.$$arity=0);c.defn(a,"$to_r",ja=function(){this.imag["$=="](0)||this.$raise(c.const_get(x,"RangeError",!0,!0),"can't convert "+this+" into Rational");return this.real.$to_r()},ja.$$arity=0);c.defn(a,"$to_s",K=function(){var a,b,e,g,f=h,f=this.real.$inspect(),
f=(a=!1!==(b=!1!==(e=(g=c.const_get(x,"Number",!0,!0)["$==="](this.imag),!1!==g&&g!==h&&null!=g?this.imag["$nan?"]():g))&&e!==h&&null!=e?e:this.imag["$positive?"]())&&b!==h&&null!=b?b:this.imag["$zero?"]())===h||null==a||a.$$is_boolean&&1!=a?y(f,"-"):y(f,"+"),f=y(f,this.imag.$abs().$inspect());(a=(b=c.const_get(x,"Number",!0,!0)["$==="](this.imag),!1!==b&&b!==h&&null!=b?!1!==(e=this.imag["$nan?"]())&&e!==h&&null!=e?e:this.imag["$infinite?"]():b))===h||null==a||a.$$is_boolean&&1!=a||(f=y(f,"*"));return y(f,
"i")},K.$$arity=0);return c.cdecl(n,"I",a.$new(0,1))})(c.base,c.const_get(g,"Numeric",!0,!0),g);return function(a,d){var g=k(a,"Kernel"),l=g.$$scope,b=d.slice().concat(l),n;c.defn(g,"$Complex",n=function(a,d){null==d&&(d=h);return!1!==d&&d!==h&&null!=d?c.const_get(b,"Complex",!0,!0).$new(a,d):c.const_get(b,"Complex",!0,!0).$new(a,0)},n.$$arity=-2)}(c.base,g)};Opal.modules["corelib/rational"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function y(a,c){return"number"===
typeof a&&"number"===typeof c?a/c:a["$/"](c)}function B(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var g=c.top,h=[c],t=c.nil,k=c.klass,e=c.module;c.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));
g.$require("corelib/numeric");(function(d,$super,e){function b(){}d=b=k(d,$super,"Rational",b);var g=d.$$proto,h=d.$$scope,q=e.slice().concat(h),C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa;g.num=g.den=t;c.defs(d,"$reduce",C=function(a,b){var d,e=t;a=a.$to_i();b=b.$to_i();if(b["$=="](0))this.$raise(c.const_get(q,"ZeroDivisionError",!0,!0),"divided by 0");else if((d=w(b,0))!==t&&null!=d&&(!d.$$is_boolean||1==d))a=a["$-@"](),b=b["$-@"]();else if(b["$=="](1))return this.$new(a,b);e=a.$gcd(b);
return this.$new(y(a,e),y(b,e))},C.$$arity=2);c.defs(d,"$convert",z=function(a,b){var d,e,g;(d=!1!==(e=a["$nil?"]())&&e!==t&&null!=e?e:b["$nil?"]())===t||null==d||d.$$is_boolean&&1!=d||this.$raise(c.const_get(q,"TypeError",!0,!0),"cannot convert nil into Rational");if((d=(e=c.Integer["$==="](a),!1!==e&&e!==t&&null!=e?c.Integer["$==="](b):e))!==t&&null!=d&&(!d.$$is_boolean||1==d))return this.$reduce(a,b);(d=!1!==(e=!1!==(g=c.const_get(q,"Float",!0,!0)["$==="](a))&&g!==t&&null!=g?g:c.String["$==="](a))&&
e!==t&&null!=e?e:c.const_get(q,"Complex",!0,!0)["$==="](a))===t||null==d||d.$$is_boolean&&1!=d||(a=a.$to_r());(d=!1!==(e=!1!==(g=c.const_get(q,"Float",!0,!0)["$==="](b))&&g!==t&&null!=g?g:c.String["$==="](b))&&e!==t&&null!=e?e:c.const_get(q,"Complex",!0,!0)["$==="](b))===t||null==d||d.$$is_boolean&&1!=d||(b=b.$to_r());return(d=(e=b["$equal?"](1),!1!==e&&e!==t&&null!=e?c.Integer["$==="](a)["$!"]():e))===t||null==d||d.$$is_boolean&&1!=d?(d=(e=c.const_get(q,"Numeric",!0,!0)["$==="](a),!1!==e&&e!==t&&
null!=e?c.const_get(q,"Numeric",!0,!0)["$==="](b):e))===t||null==d||d.$$is_boolean&&1!=d?this.$reduce(a,b):y(a,b):c.Opal["$coerce_to!"](a,c.const_get(q,"Rational",!0,!0),"to_r")},z.$$arity=2);d.$attr_reader("numerator","denominator");c.defn(d,"$initialize",J=function(a,b){this.num=a;return this.den=b},J.$$arity=2);c.defn(d,"$numerator",R=function(){return this.num},R.$$arity=0);c.defn(d,"$denominator",H=function(){return this.den},H.$$arity=0);c.defn(d,"$coerce",M=function(a){var b=t,b=a;return c.const_get(q,
"Rational",!0,!0)["$==="](b)?[a,this]:c.Integer["$==="](b)?[a.$to_r(),this]:c.const_get(q,"Float",!0,!0)["$==="](b)?[a,this.$to_f()]:t},M.$$arity=1);c.defn(d,"$==",u=function(a){var b=t,b=a;return c.const_get(q,"Rational",!0,!0)["$==="](b)?this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):c.Integer["$==="](b)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):c.const_get(q,"Float",!0,!0)["$==="](b)?this.$to_f()["$=="](a):a["$=="](this)},u.$$arity=
1);c.defn(d,"$<=>",fa=function(a){var b=t,b=a;return c.const_get(q,"Rational",!0,!0)["$==="](b)?B(l(this.num,a.$denominator()),l(this.den,a.$numerator()))["$<=>"](0):c.Integer["$==="](b)?B(this.num,l(this.den,a))["$<=>"](0):c.const_get(q,"Float",!0,!0)["$==="](b)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},fa.$$arity=1);c.defn(d,"$+",v=function(b){var d=t,e=d=t;d=b;c.const_get(q,"Rational",!0,!0)["$==="](d)?(d=a(l(this.num,b.$denominator()),l(this.den,b.$numerator())),e=l(this.den,b.$denominator()),
b=this.$Rational(d,e)):b=c.Integer["$==="](d)?this.$Rational(a(this.num,l(b,this.den)),this.den):c.const_get(q,"Float",!0,!0)["$==="](d)?a(this.$to_f(),b):this.$__coerced__("+",b);return b},v.$$arity=1);c.defn(d,"$-",la=function(a){var b=t,d=b=t;b=a;c.const_get(q,"Rational",!0,!0)["$==="](b)?(b=B(l(this.num,a.$denominator()),l(this.den,a.$numerator())),d=l(this.den,a.$denominator()),a=this.$Rational(b,d)):a=c.Integer["$==="](b)?this.$Rational(B(this.num,l(a,this.den)),this.den):c.const_get(q,"Float",
!0,!0)["$==="](b)?B(this.$to_f(),a):this.$__coerced__("-",a);return a},la.$$arity=1);c.defn(d,"$*",U=function(a){var b=t,d=b=t;b=a;c.const_get(q,"Rational",!0,!0)["$==="](b)?(b=l(this.num,a.$numerator()),d=l(this.den,a.$denominator()),a=this.$Rational(b,d)):a=c.Integer["$==="](b)?this.$Rational(l(this.num,a),this.den):c.const_get(q,"Float",!0,!0)["$==="](b)?l(this.$to_f(),a):this.$__coerced__("*",a);return a},U.$$arity=1);c.defn(d,"$/",ea=function(a){var b=t,d=b=t;b=a;c.const_get(q,"Rational",!0,
!0)["$==="](b)?(b=l(this.num,a.$denominator()),d=l(this.den,a.$numerator()),a=this.$Rational(b,d)):a=c.Integer["$==="](b)?a["$=="](0)?y(this.$to_f(),0):this.$Rational(this.num,l(this.den,a)):c.const_get(q,"Float",!0,!0)["$==="](b)?y(this.$to_f(),a):this.$__coerced__("/",a);return a},ea.$$arity=1);c.defn(d,"$**",ca=function(a){var b,d=t,d=a;return c.Integer["$==="](d)?(b=this["$=="](0)?w(a,0):this["$=="](0))===t||null==b||b.$$is_boolean&&1!=b?(b="number"===typeof a?0<a:a["$>"](0))===t||null==b||b.$$is_boolean&&
1!=b?(b=w(a,0))===t||null==b||b.$$is_boolean&&1!=b?this.$Rational(1,1):this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(this.num["$**"](a),this.den["$**"](a)):c.const_get([c.const_get(q,"Float",!0,!0).$$scope],"INFINITY",!0,!0):c.const_get(q,"Float",!0,!0)["$==="](d)?this.$to_f()["$**"](a):c.const_get(q,"Rational",!0,!0)["$==="](d)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?(b=w(a,0))===t||null==b||b.$$is_boolean&&1!=b?this.$Rational(this.num["$**"](a.$numerator()),
this.den["$**"](a.$numerator())):this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):(b=this["$=="](0)?w(a,0):this["$=="](0))===t||null==b||b.$$is_boolean&&1!=b?this.$to_f()["$**"](a):this.$raise(c.const_get(q,"ZeroDivisionError",!0,!0),"divided by 0"):this.$__coerced__("**",a)},ca.$$arity=1);c.defn(d,"$abs",A=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},A.$$arity=0);c.defn(d,"$ceil",V=function(a){null==a&&(a=0);return a["$=="](0)?y(this.num["$-@"](),
this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},V.$$arity=-1);c.alias(d,"divide","/");c.defn(d,"$floor",W=function(a){null==a&&(a=0);return a["$=="](0)?y(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",a)},W.$$arity=-1);c.defn(d,"$hash",Q=function(){return"Rational:"+this.num+":"+this.den},Q.$$arity=0);c.defn(d,"$inspect",G=function(){return"("+this.$to_s()+")"},G.$$arity=0);c.alias(d,"quo","/");c.defn(d,"$rationalize",O=function(b){1<arguments.length&&this.$raise(c.const_get(q,
"ArgumentError",!0,!0),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==b)return this;for(var d=b.$abs(),e=B(this,d),d=a(this,d),g=0,h=1,k=1,l=0,n,t,v;;){n=e.$ceil();if("number"===typeof n&&"number"===typeof d?n<=d:n["$<="](d))break;v=n-1;n=v*h+g;t=v*l+k;g=y(1,B(d,v));d=y(1,B(e,v));e=g;g=h;k=l;h=n;l=t}return this.$Rational(n*h+g,n*l+k)},O.$$arity=-1);c.defn(d,"$round",F=function(b){var c,d=t,e=t,d=t;null==b&&(b=0);if(!b["$=="](0))return this.$with_precision("round",b);if(this.num["$=="](0))return 0;
if(this.den["$=="](1))return this.num;d=a(l(this.num.$abs(),2),this.den);e=l(this.den,2);d=y(d,e).$truncate();return(c=w(this.num,0))===t||null==c||c.$$is_boolean&&1!=c?d:d["$-@"]()},F.$$arity=-1);c.defn(d,"$to_f",L=function(){return y(this.num,this.den)},L.$$arity=0);c.defn(d,"$to_i",D=function(){return this.$truncate()},D.$$arity=0);c.defn(d,"$to_r",ba=function(){return this},ba.$$arity=0);c.defn(d,"$to_s",ia=function(){return""+this.num+"/"+this.den},ia.$$arity=0);c.defn(d,"$truncate",na=function(a){var b;
null==a&&(a=0);return a["$=="](0)?(b=w(this.num,0))===t||null==b||b.$$is_boolean&&1!=b?this.$floor():this.$ceil():this.$with_precision("truncate",a)},na.$$arity=-1);return(c.defn(d,"$with_precision",pa=function(a,b){var d,e=t,g=t;((d=c.Integer["$==="](b))===t||null==d||d.$$is_boolean&&1!=d)&&this.$raise(c.const_get(q,"TypeError",!0,!0),"not an Integer");e=10["$**"](b);g=l(this,e);return(d=w(b,1))===t||null==d||d.$$is_boolean&&1!=d?this.$Rational(g.$send(a),e):y(g.$send(a),e).$to_i()},pa.$$arity=2),
t)&&"with_precision"})(c.base,c.const_get(h,"Numeric",!0,!0),h);return function(a,g){var h=e(a,"Kernel"),b=h.$$scope,k=g.slice().concat(b),l;c.defn(h,"$Rational",l=function(a,b){null==b&&(b=1);return c.const_get(k,"Rational",!0,!0).$convert(a,b)},l.$$arity=-2)}(c.base,h)};Opal.modules["corelib/time"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)}function B(a,c){return"number"===
typeof a&&"number"===typeof c?a-c:a["$-"](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var a=c.top,g=[c],h=c.nil,t=c.slice,k=c.klass,e=c.range;c.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
a.$require("corelib/comparable");return function(a,$super,g){function b(){}function n(a,b,d,e,g,r){a=a.$$is_string?parseInt(a,10):c.Opal["$coerce_to!"](a,c.Integer,"to_int");if(b===h)b=1;else if(!b.$$is_number)if(b["$respond_to?"]("to_str"))switch(b=b.$to_str(),b.toLowerCase()){case "jan":b=1;break;case "feb":b=2;break;case "mar":b=3;break;case "apr":b=4;break;case "may":b=5;break;case "jun":b=6;break;case "jul":b=7;break;case "aug":b=8;break;case "sep":b=9;break;case "oct":b=10;break;case "nov":b=
11;break;case "dec":b=12;break;default:b=b.$to_i()}else b=c.Opal["$coerce_to!"](b,c.Integer,"to_int");(1>b||12<b)&&x.$raise(c.const_get(q,"ArgumentError",!0,!0),"month out of range: "+b);--b;d=d===h?1:d.$$is_string?parseInt(d,10):c.Opal["$coerce_to!"](d,c.Integer,"to_int");(1>d||31<d)&&x.$raise(c.const_get(q,"ArgumentError",!0,!0),"day out of range: "+d);e=e===h?0:e.$$is_string?parseInt(e,10):c.Opal["$coerce_to!"](e,c.Integer,"to_int");(0>e||24<e)&&x.$raise(c.const_get(q,"ArgumentError",!0,!0),"hour out of range: "+
e);g=g===h?0:g.$$is_string?parseInt(g,10):c.Opal["$coerce_to!"](g,c.Integer,"to_int");(0>g||59<g)&&x.$raise(c.const_get(q,"ArgumentError",!0,!0),"min out of range: "+g);r===h?r=0:r.$$is_number||(r=r.$$is_string?parseInt(r,10):c.Opal["$coerce_to!"](r,c.Integer,"to_int"));(0>r||60<r)&&x.$raise(c.const_get(q,"ArgumentError",!0,!0),"sec out of range: "+r);return[a,b,d,e,g,r]}var x=b=k(a,$super,"Time",b);a=x.$$scope;var q=g.slice().concat(a),C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,
ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa,ta,E,S;x.$include(c.const_get(q,"Comparable",!0,!0));var Y="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),aa="Sun Mon Tue Wed Thu Fri Sat".split(" "),ya="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Aa="January February March April May June July August September October November December".split(" ");c.defs(x,"$at",C=function(a,b){var d;if(c.const_get(q,"Time",!0,!0)["$==="](a))return void 0!==b&&this.$raise(c.const_get(q,
"TypeError",!0,!0),"can't convert Time into an exact number"),d=new Date(a.getTime()),d.is_utc=a.is_utc,d;a.$$is_number||(a=c.Opal["$coerce_to!"](a,c.Integer,"to_int"));if(void 0===b)return new Date(1E3*a);b.$$is_number||(b=c.Opal["$coerce_to!"](b,c.Integer,"to_int"));return new Date(1E3*a+b/1E3)},C.$$arity=-2);c.defs(x,"$new",z=function(a,b,d,e,g,r,m){null==b&&(b=h);null==d&&(d=h);null==e&&(e=h);null==g&&(g=h);null==r&&(r=h);null==m&&(m=h);if(void 0===a)return new Date;m!==h&&this.$raise(c.const_get(q,
"ArgumentError",!0,!0),"Opal does not support explicitly specifying UTC offset for Time");r=n(a,b,d,e,g,r);a=r[0];b=r[1];d=r[2];e=r[3];g=r[4];r=r[5];b=new Date(a,b,d,e,g,0,1E3*r);100>a&&b.setFullYear(a);return b},z.$$arity=-1);c.defs(x,"$local",J=function(a,b,c,d,e,g,m,k,l,q){null==b&&(b=h);null==c&&(c=h);null==d&&(d=h);null==e&&(e=h);null==g&&(g=h);null==m&&(m=h);null==k&&(k=h);null==l&&(l=h);null==q&&(q=h);var v;10===arguments.length&&(v=t.call(arguments),a=v[5],b=v[4],c=v[3],d=v[2],e=v[1],g=v[0]);
v=n(a,b,c,d,e,g);a=v[0];b=v[1];c=v[2];d=v[3];e=v[4];g=v[5];v=new Date(a,b,c,d,e,0,1E3*g);100>a&&v.setFullYear(a);return v},J.$$arity=-2);c.defs(x,"$gm",R=function(a,b,c,d,e,g,m,k,l,q){null==b&&(b=h);null==c&&(c=h);null==d&&(d=h);null==e&&(e=h);null==g&&(g=h);null==m&&(m=h);null==k&&(k=h);null==l&&(l=h);null==q&&(q=h);var v;10===arguments.length&&(v=t.call(arguments),a=v[5],b=v[4],c=v[3],d=v[2],e=v[1],g=v[0]);v=n(a,b,c,d,e,g);a=v[0];b=v[1];c=v[2];d=v[3];e=v[4];g=v[5];v=new Date(Date.UTC(a,b,c,d,e,
0,1E3*g));100>a&&v.setUTCFullYear(a);v.is_utc=!0;return v},R.$$arity=-2);(function(a,b){b.slice().concat(a);c.alias(a,"mktime","local");return c.alias(a,"utc","gm")})(c.get_singleton_class(x),q);c.defs(x,"$now",H=function(){return this.$new()},H.$$arity=0);c.defn(x,"$+",M=function(a){var b;(b=c.const_get(q,"Time",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(q,"TypeError",!0,!0),"time + time?");a.$$is_number||(a=c.Opal["$coerce_to!"](a,c.Integer,"to_int"));a=new Date(this.getTime()+
1E3*a);a.is_utc=this.is_utc;return a},M.$$arity=1);c.defn(x,"$-",u=function(a){var b;if((b=c.const_get(q,"Time",!0,!0)["$==="](a))!==h&&null!=b&&(!b.$$is_boolean||1==b))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=c.Opal["$coerce_to!"](a,c.Integer,"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},u.$$arity=1);c.defn(x,"$<=>",fa=function(a){var b,d=h;return(b=c.const_get(q,"Time",!0,!0)["$==="](a))===h||null==b||b.$$is_boolean&&1!=b?(d=a["$<=>"](this),(b=d["$nil?"]())===
h||null==b||b.$$is_boolean&&1!=b?(b="number"===typeof d?0<d:d["$>"](0))===h||null==b||b.$$is_boolean&&1!=b?(b="number"===typeof d?0>d:d["$<"](0))===h||null==b||b.$$is_boolean&&1!=b?0:1:-1:h):this.$to_f()["$<=>"](a.$to_f())},fa.$$arity=1);c.defn(x,"$==",v=function(a){var b;return b=c.const_get(q,"Time",!0,!0)["$==="](a),!1!==b&&b!==h&&null!=b?this.$to_f()===a.$to_f():b},v.$$arity=1);c.defn(x,"$asctime",la=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},la.$$arity=0);c.alias(x,"ctime","asctime");
c.defn(x,"$day",U=function(){return this.is_utc?this.getUTCDate():this.getDate()},U.$$arity=0);c.defn(x,"$yday",ea=function(){var a=h,b=h,d=h,a=c.const_get(q,"Time",!0,!0).$new(this.$year()).$to_i(),b=c.const_get(q,"Time",!0,!0).$new(this.$year(),this.$month(),this.$day()).$to_i(),d=86400;return w(y(B(b,a),d).$round(),1)},ea.$$arity=0);c.defn(x,"$isdst",ca=function(){var a=new Date(this.getFullYear(),0,1),b=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),
b.getTimezoneOffset())},ca.$$arity=0);c.alias(x,"dst?","isdst");c.defn(x,"$dup",A=function(){var a=h,a=new Date(this.getTime());a.$copy_instance_variables(this);a.$initialize_dup(this);return a},A.$$arity=0);c.defn(x,"$eql?",V=function(a){var b;return b=a["$is_a?"](c.const_get(q,"Time",!0,!0)),!1!==b&&b!==h&&null!=b?this["$<=>"](a)["$zero?"]():b},V.$$arity=1);c.defn(x,"$friday?",W=function(){return 5==this.$wday()},W.$$arity=0);c.defn(x,"$hash",Q=function(){return"Time:"+this.getTime()},Q.$$arity=
0);c.defn(x,"$hour",G=function(){return this.is_utc?this.getUTCHours():this.getHours()},G.$$arity=0);c.defn(x,"$inspect",O=function(){var a;return(a=this["$utc?"]())===h||null==a||a.$$is_boolean&&1!=a?this.$strftime("%Y-%m-%d %H:%M:%S %z"):this.$strftime("%Y-%m-%d %H:%M:%S UTC")},O.$$arity=0);c.alias(x,"mday","day");c.defn(x,"$min",F=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},F.$$arity=0);c.defn(x,"$mon",L=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+
1},L.$$arity=0);c.defn(x,"$monday?",D=function(){return 1==this.$wday()},D.$$arity=0);c.alias(x,"month","mon");c.defn(x,"$saturday?",ba=function(){return 6==this.$wday()},ba.$$arity=0);c.defn(x,"$sec",ia=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},ia.$$arity=0);c.defn(x,"$succ",na=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},na.$$arity=0);c.defn(x,"$usec",pa=function(){return 1E3*this.getMilliseconds()},pa.$$arity=0);c.defn(x,"$zone",ja=function(){var a=
this.toString(),b;b=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==b&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:b},ja.$$arity=0);c.defn(x,"$getgm",K=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},K.$$arity=0);c.alias(x,"getutc","getgm");c.defn(x,"$gmtime",ga=function(){this.is_utc=!0;return this},ga.$$arity=0);c.alias(x,"utc","gmtime");c.defn(x,"$gmt?",ha=function(){return!0===this.is_utc},ha.$$arity=0);c.defn(x,"$gmt_offset",X=function(){return 60*
-this.getTimezoneOffset()},X.$$arity=0);c.defn(x,"$strftime",ma=function(a){var b=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,c,d,g,m){g="";var h=-1!==c.indexOf("0"),k=-1===c.indexOf("-"),l=-1!==c.indexOf("_"),q=-1!==c.indexOf("^"),n=-1!==c.indexOf("#"),t=(c.match(":")||[]).length;d=parseInt(d,10);h&&l&&(c.indexOf("0")<c.indexOf("_")?h=!1:l=!1);switch(m){case "Y":g+=b.$year();break;case "C":h=!l;g+=Math.round(b.$year()/100);break;case "y":h=!l;g+=b.$year()%100;break;case "m":h=
!l;g+=b.$mon();break;case "B":g+=Aa[b.$mon()-1];break;case "b":case "h":l=!h;g+=ya[b.$mon()-1];break;case "d":h=!l;g+=b.$day();break;case "e":l=!h;g+=b.$day();break;case "j":g+=b.$yday();break;case "H":h=!l;g+=b.$hour();break;case "k":l=!h;g+=b.$hour();break;case "I":h=!l;g+=b.$hour()%12||12;break;case "l":l=!h;g+=b.$hour()%12||12;break;case "P":g+=12<=b.$hour()?"pm":"am";break;case "p":g+=12<=b.$hour()?"PM":"AM";break;case "M":h=!l;g+=b.$min();break;case "S":h=!l;g+=b.$sec();break;case "L":h=!l;
d=isNaN(d)?3:d;g+=b.getMilliseconds();break;case "N":d=isNaN(d)?9:d;g+=b.getMilliseconds().toString().$rjust(3,"0");g=g.$ljust(d,"0");break;case "z":a=b.getTimezoneOffset();c=Math.floor(Math.abs(a)/60);m=Math.abs(a)%60;g=g+(0>a?"+":"-")+(10>c?"0":"");g+=c;0<t&&(g+=":");g+=10>m?"0":"";g+=m;1<t&&(g+=":00");break;case "Z":g+=b.$zone();break;case "A":g+=Y[b.$wday()];break;case "a":g+=aa[b.$wday()];break;case "u":g+=b.$wday()+1;break;case "w":g+=b.$wday();break;case "V":g+=b.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,
"0");break;case "G":g+=b.$cweek_cyear()["$[]"](1);break;case "g":g+=b.$cweek_cyear()["$[]"](1)["$[]"](e(-2,-1,!1));break;case "s":g+=b.$to_i();break;case "n":g+="\n";break;case "t":g+="\t";break;case "%":g+="%";break;case "c":g+=b.$strftime("%a %b %e %T %Y");break;case "D":case "x":g+=b.$strftime("%m/%d/%y");break;case "F":g+=b.$strftime("%Y-%m-%d");break;case "v":g+=b.$strftime("%e-%^b-%4Y");break;case "r":g+=b.$strftime("%I:%M:%S %p");break;case "R":g+=b.$strftime("%H:%M");break;case "T":case "X":g+=
b.$strftime("%H:%M:%S");break;default:return a}q&&(g=g.toUpperCase());n&&(g=g.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));k&&(h||l)&&(g=g.$rjust(isNaN(d)?2:d,l?" ":"0"));return g})},ma.$$arity=1);c.defn(x,"$sunday?",ka=function(){return 0==this.$wday()},ka.$$arity=0);c.defn(x,"$thursday?",sa=function(){return 4==this.$wday()},sa.$$arity=0);c.defn(x,"$to_a",wa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),
this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},wa.$$arity=0);c.defn(x,"$to_f",xa=function(){return this.getTime()/1E3},xa.$$arity=0);c.defn(x,"$to_i",ra=function(){return parseInt(this.getTime()/1E3,10)},ra.$$arity=0);c.alias(x,"to_s","inspect");c.defn(x,"$tuesday?",va=function(){return 2==this.$wday()},va.$$arity=0);c.alias(x,"tv_sec","to_i");c.alias(x,"tv_usec","usec");c.alias(x,"utc?","gmt?");c.alias(x,"gmtoff","gmt_offset");c.alias(x,"utc_offset","gmt_offset");c.defn(x,"$wday",oa=function(){return this.is_utc?
this.getUTCDay():this.getDay()},oa.$$arity=0);c.defn(x,"$wednesday?",ta=function(){return 3==this.$wday()},ta.$$arity=0);c.defn(x,"$year",E=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},E.$$arity=0);return(c.defn(x,"$cweek_cyear",S=function(){var a,b,d=h,e=h,g=e=e=d=h,g=h,d=c.const_get(q,"Time",!0,!0).$new(this.$year(),1,1),e=d.$wday(),d=this.$year();(a=(b=l(e,4),!1!==b&&b!==h&&null!=b?e["$!="](0):b))===h||null==a||a.$$is_boolean&&1!=a?(e=B(B(e,7),1),e["$=="](-8)&&(e=-1)):
e=B(e,1);e=y(w(this.$yday(),e),7).$ceil();if((a=l(e,0))!==h&&null!=a&&(!a.$$is_boolean||1==a))return c.const_get(q,"Time",!0,!0).$new(B(this.$year(),1),12,31).$cweek_cyear();e["$=="](53)&&(g=c.const_get(q,"Time",!0,!0).$new(this.$year(),12,31),g=g.$wday(),(a=(b=l(g,3),!1!==b&&b!==h&&null!=b?g["$!="](0):b))===h||null==a||a.$$is_boolean&&1!=a||(e=1,d=w(d,1)));return[e,d]},S.$$arity=0),h)&&"cweek_cyear"}(c.base,Date,g)};Opal.modules["corelib/struct"]=function(c){function w(a,c){return"number"===typeof a&&
"number"===typeof c?a>c:a["$>"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function B(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function a(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var g=c.top,h=[c],t=c.nil,k=c.klass,e=c.send,d=c.hash2;c.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $> $length $class $each_with_index $[] $[]= $- $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $join $each_pair $inspect $inject $flatten $to_a $respond_to? $dig $values_at".split(" "));
g.$require("corelib/enumerable");return function(g,$super,b){function h(){}g=h=k(g,$super,"Struct",h);var x=g.$$scope,q=b.slice().concat(x),C,z,J,R,H,M,u,fa,v,la,U,ea,ca,A,V,W,Q,G,O,F;g.$include(c.const_get(q,"Enumerable",!0,!0));c.defs(g,"$new",C=function(a,b){var d,g,f,h=C.$$p,k=h||t,l=t,l=arguments.length,n=l-1;0>n&&(n=0);f=Array(n);for(n=1;n<l;n++)f[n-1]=arguments[n];h&&(C.$$p=null);if(!1!==a&&a!==t&&null!=a)try{a=c.Opal["$const_name!"](a)}catch(v){if(c.rescue(v,[c.const_get(q,"TypeError",!0,
!0),c.const_get(q,"NameError",!0,!0)]))try{f.$unshift(a),a=t}finally{c.pop_exception()}else throw v;}e(f,"map",[],(d=function(a){null==a&&(a=t);return c.Opal["$coerce_to!"](a,c.String,"to_str")},d.$$s=this,d.$$arity=1,d));l=e(c.const_get(q,"Class",!0,!0),"new",[this],(g=function(){var a=g.$$s||this,b;e(f,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=t);return c.$define_struct_attribute(a)},b.$$s=a,b.$$arity=1,b));return function(a,b){b.slice().concat(a);var d;c.defn(a,"$new",d=function(a){var b,
d=t,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var g=0;g<d;g++)b[g-0]=arguments[g];d=this.$allocate();d.$$data={};e(d,"initialize",c.to_a(b));return d},d.$$arity=-1);return c.alias(a,"[]","new")}(c.get_singleton_class(a),q)},g.$$s=this,g.$$arity=0,g));!1!==k&&k!==t&&null!=k&&e(l,"module_eval",[],k.$to_proc());!1!==a&&a!==t&&null!=a&&c.const_get(q,"Struct",!0,!0).$const_set(a,l);return l},C.$$arity=-2);c.defs(g,"$define_struct_attribute",z=function(a){var b,d;this["$=="](c.const_get(q,"Struct",
!0,!0))&&this.$raise(c.const_get(q,"ArgumentError",!0,!0),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);e(this,"define_method",[a],(b=function(){return(b.$$s||this).$$data[a]},b.$$s=this,b.$$arity=0,b));return e(this,"define_method",[""+a+"="],(d=function(b){var c=d.$$s||this;null==b&&(b=t);return c.$$data[a]=b},d.$$s=this,d.$$arity=1,d))},z.$$arity=1);c.defs(g,"$members",J=function(){var a;null==this.members&&(this.members=t);this["$=="](c.const_get(q,"Struct",!0,
!0))&&this.$raise(c.const_get(q,"ArgumentError",!0,!0),"the Struct class has no members");return!1!==(a=this.members)&&a!==t&&null!=a?a:this.members=[]},J.$$arity=0);c.defs(g,"$inherited",R=function(a){var b,c=t;null==this.members&&(this.members=t);c=this.members;return e(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=c},b.$$s=this,b.$$arity=0,b))},R.$$arity=1);c.defn(g,"$initialize",H=function(a){var b,d,g,f=arguments.length,h=f-0;0>h&&(h=0);g=Array(h);for(h=0;h<f;h++)g[h-0]=arguments[h];
(b=w(g.$length(),this.$class().$members().$length()))===t||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(q,"ArgumentError",!0,!0),"struct size differs");return e(this.$class().$members(),"each_with_index",[],(d=function(a,b){var f=d.$$s||this,h=t;null==a&&(a=t);null==b&&(b=t);h=[a,g["$[]"](b)];e(f,"[]=",c.to_a(h));return h[y(h.length,1)]},d.$$s=this,d.$$arity=2,d))},H.$$arity=-1);c.defn(g,"$members",M=function(){return this.$class().$members()},M.$$arity=0);c.defn(g,"$hash",u=function(){return c.const_get(q,
"Hash",!0,!0).$new(this.$$data).$hash()},u.$$arity=0);c.defn(g,"$[]",fa=function(a){var b;(b=c.Integer["$==="](a))===t||null==b||b.$$is_boolean&&1!=b?(b=c.String["$==="](a))===t||null==b||b.$$is_boolean&&1!=b?this.$raise(c.const_get(q,"TypeError",!0,!0),"no implicit conversion of "+a.$class()+" into Integer"):this.$$data.hasOwnProperty(a)||this.$raise(c.const_get(q,"NameError",!0,!0).$new("no member '"+a+"' in struct",a)):((b=B(a,this.$class().$members().$size()["$-@"]()))===t||null==b||b.$$is_boolean&&
1!=b||this.$raise(c.const_get(q,"IndexError",!0,!0),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),(b=l(a,this.$class().$members().$size()))===t||null==b||b.$$is_boolean&&1!=b||this.$raise(c.const_get(q,"IndexError",!0,!0),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a));a=c.Opal["$coerce_to!"](a,c.String,"to_str");return this.$$data[a]},fa.$$arity=1);c.defn(g,"$[]=",v=function(a,b){var d;(d=c.Integer["$==="](a))===
t||null==d||d.$$is_boolean&&1!=d?(d=c.String["$==="](a))===t||null==d||d.$$is_boolean&&1!=d?this.$raise(c.const_get(q,"TypeError",!0,!0),"no implicit conversion of "+a.$class()+" into Integer"):((d=this.$class().$members()["$include?"](a.$to_sym()))===t||null==d||d.$$is_boolean&&1!=d)&&this.$raise(c.const_get(q,"NameError",!0,!0).$new("no member '"+a+"' in struct",a)):((d=B(a,this.$class().$members().$size()["$-@"]()))===t||null==d||d.$$is_boolean&&1!=d||this.$raise(c.const_get(q,"IndexError",!0,
!0),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),(d=l(a,this.$class().$members().$size()))===t||null==d||d.$$is_boolean&&1!=d||this.$raise(c.const_get(q,"IndexError",!0,!0),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a));a=c.Opal["$coerce_to!"](a,c.String,"to_str");return this.$$data[a]=b},v.$$arity=2);c.defn(g,"$==",la=function(a){function b(a,d){var f,h,k;e[a.$__id__()]=!0;g[d.$__id__()]=!0;
for(f in a.$$data)if(h=a.$$data[f],k=d.$$data[f],c.const_get(q,"Struct",!0,!0)["$==="](h)){if(!(e.hasOwnProperty(h.$__id__())&&g.hasOwnProperty(k.$__id__())||b(h,k)))return!1}else if(!h["$=="](k))return!1;return!0}var d;if((d=a["$instance_of?"](this.$class()))===t||null==d||d.$$is_boolean&&1!=d)return!1;var e={},g={};return b(this,a)},la.$$arity=1);c.defn(g,"$eql?",U=function(a){function b(a,d){var f,h,k;e[a.$__id__()]=!0;g[d.$__id__()]=!0;for(f in a.$$data)if(h=a.$$data[f],k=d.$$data[f],c.const_get(q,
"Struct",!0,!0)["$==="](h)){if(!(e.hasOwnProperty(h.$__id__())&&g.hasOwnProperty(k.$__id__())||b(h,k)))return!1}else if(!h["$eql?"](k))return!1;return!0}var d;if((d=a["$instance_of?"](this.$class()))===t||null==d||d.$$is_boolean&&1!=d)return!1;var e={},g={};return b(this,a)},U.$$arity=1);c.defn(g,"$each",ea=function(){var a,b,d=ea.$$p,g=d||t;d&&(ea.$$p=null);if(g===t)return e(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));e(this.$class().$members(),
"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=t);return c.yield1(g,d["$[]"](a))},b.$$s=this,b.$$arity=1,b));return this},ea.$$arity=0);c.defn(g,"$each_pair",ca=function(){var a,b,d=ca.$$p,g=d||t;d&&(ca.$$p=null);if(g===t)return e(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));e(this.$class().$members(),"each",[],(b=function(a){var d=b.$$s||this;null==a&&(a=t);return c.yield1(g,[a,d["$[]"](a)])},b.$$s=this,b.$$arity=1,b));return this},ca.$$arity=
0);c.defn(g,"$length",A=function(){return this.$class().$members().$length()},A.$$arity=0);c.alias(g,"size","length");c.defn(g,"$to_a",V=function(){var a;return e(this.$class().$members(),"map",[],(a=function(b){var c=a.$$s||this;null==b&&(b=t);return c["$[]"](b)},a.$$s=this,a.$$arity=1,a))},V.$$arity=0);c.alias(g,"values","to_a");c.defn(g,"$inspect",W=function(){var b,d,g,f=t,f="#<struct ";(b=(d=c.const_get(q,"Struct",!0,!0)["$==="](this),!1!==d&&d!==t&&null!=d?this.$class().$name():d))===t||null==
b||b.$$is_boolean&&1!=b||(f=a(f,""+this.$class()+" "));f=a(f,e(this.$each_pair(),"map",[],(g=function(a,b){null==a&&(a=t);null==b&&(b=t);return""+a+"="+b.$inspect()},g.$$s=this,g.$$arity=2,g)).$join(", "));return f=a(f,">")},W.$$arity=0);c.alias(g,"to_s","inspect");c.defn(g,"$to_h",Q=function(){var a;return e(this.$class().$members(),"inject",[d([],{})],(a=function(b,d){var g=a.$$s||this,f=t;null==b&&(b=t);null==d&&(d=t);f=[d,g["$[]"](d)];e(b,"[]=",c.to_a(f));f[y(f.length,1)];return b},a.$$s=this,
a.$$arity=2,a))},Q.$$arity=0);c.defn(g,"$values_at",G=function(a){var b,d,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var f=0;f<g;f++)d[f-0]=arguments[f];d=e(d,"map",[],(b=function(a){null==a&&(a=t);return a.$$is_range?a.$to_a():a},b.$$s=this,b.$$arity=1,b)).$flatten();b=[];g=0;for(f=d.length;g<f;g++)d[g].$$is_number||this.$raise(c.const_get(q,"TypeError",!0,!0),"no implicit conversion of "+d[g].$class()+" into Integer"),b.push(this["$[]"](d[g]));return b},G.$$arity=-1);c.defn(g,"$dig",O=function(a,
b){var d,g,f=t,f=arguments.length;g=f-1;0>g&&(g=0);g=Array(g);for(var h=1;h<f;h++)g[h-1]=arguments[h];f=(d=a.$$is_string&&this.$$data.hasOwnProperty(a))===t||null==d||d.$$is_boolean&&1!=d?t:this.$$data[a]||t;if(f===t||0===g.length)return f;((d=f["$respond_to?"]("dig"))===t||null==d||d.$$is_boolean&&1!=d)&&this.$raise(c.const_get(q,"TypeError",!0,!0),""+f.$class()+" does not have #dig method");return e(f,"dig",c.to_a(g))},O.$$arity=-2);return c.defs(g,"$_load",F=function(a){var b=t,b=e(a,"values_at",
c.to_a(this.$members()));return e(this,"new",c.to_a(b))},F.$$arity=1)}(c.base,null,h)};Opal.modules["corelib/io"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var y=[c],B=c.nil,l=c.klass,a=c.module,g=c.send,h=c.gvars,t=B;c.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(e,$super,f){function k(){}e=k=l(e,$super,"IO",k);var b=e.$$proto,n=e.$$scope;f=
f.slice().concat(n);var t,q,C,z;b.tty=b.closed=B;c.cdecl(n,"SEEK_SET",0);c.cdecl(n,"SEEK_CUR",1);c.cdecl(n,"SEEK_END",2);c.defn(e,"$tty?",t=function(){return this.tty},t.$$arity=0);c.defn(e,"$closed?",q=function(){return this.closed},q.$$arity=0);e.$attr_accessor("write_proc");c.defn(e,"$write",C=function(a){this.write_proc(a);return a.$size()},C.$$arity=1);e.$attr_accessor("sync","tty");c.defn(e,"$flush",z=function(){return B},z.$$arity=0);(function(b,e){var f=a(b,"Writable"),k=f.$$scope;e.slice().concat(k);
var l,q,n;c.defn(f,"$<<",l=function(a){this.$write(a);return this},l.$$arity=1);c.defn(f,"$print",q=function(a){var b,c;null==h[","]&&(h[","]=B);var e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];this.$write(g(c,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=B);return c.$String(a)},b.$$s=this,b.$$arity=1,b)).$join(h[","]));return B},q.$$arity=-1);c.defn(f,"$puts",n=function(a){var b,c,e,f=B;null==h["/"]&&(h["/"]=B);f=arguments.length;e=f-0;0>e&&(e=0);
e=Array(e);for(var k=0;k<f;k++)e[k-0]=arguments[k];f=h["/"];(b=e["$empty?"]())===B||null==b||b.$$is_boolean&&1!=b?this.$write(g(e,"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=B);return b.$String(a).$chomp()},c.$$s=this,c.$$arity=1,c)).$concat([B]).$join(f)):this.$write(h["/"]);return B},n.$$arity=-1)})(n.base,f);return function(b,e){var g=a(b,"Readable"),f=g.$$scope,k=e.slice().concat(f),l,q,n,t;c.defn(g,"$readbyte",l=function(){return this.$getbyte()},l.$$arity=0);c.defn(g,"$readchar",q=
function(){return this.$getc()},q.$$arity=0);c.defn(g,"$readline",n=function(a){null==h["/"]&&(h["/"]=B);return this.$raise(c.const_get(k,"NotImplementedError",!0,!0))},n.$$arity=-1);c.defn(g,"$readpartial",t=function(a,b){return this.$raise(c.const_get(k,"NotImplementedError",!0,!0))},t.$$arity=-2)}(n.base,f)})(c.base,null,y);c.cdecl(c,"STDERR",h.stderr=c.const_get(y,"IO",!0,!0).$new());c.cdecl(c,"STDIN",h.stdin=c.const_get(y,"IO",!0,!0).$new());c.cdecl(c,"STDOUT",h.stdout=c.const_get(y,"IO",!0,
!0).$new());var k=c.global.console,t=["object"===typeof process?function(a){process.stdout.write(a)}:function(a){k.log(a)}];g(c.const_get(y,"STDOUT",!0,!0),"write_proc=",c.to_a(t));t[w(t.length,1)];t=["object"===typeof process?function(a){process.stderr.write(a)}:function(a){k.warn(a)}];g(c.const_get(y,"STDERR",!0,!0),"write_proc=",c.to_a(t));t[w(t.length,1)];c.const_get(y,"STDOUT",!0,!0).$extend(c.const_get([c.const_get(y,"IO",!0,!0).$$scope],"Writable",!0,!0));return c.const_get(y,"STDERR",!0,!0).$extend(c.const_get([c.const_get(y,
"IO",!0,!0).$$scope],"Writable",!0,!0))};Opal.modules["corelib/main"]=function(c){var w,y,B=c.top,l=[c];c.add_stubs(["$include"]);c.defs(B,"$to_s",w=function(){return"main"},w.$$arity=0);return c.defs(B,"$include",y=function(a){return c.const_get(l,"Object",!0,!0).$include(a)},y.$$arity=1)};Opal.modules["corelib/dir"]=function(c){var w=[c],y=c.nil,B=c.klass;c.add_stubs(["$[]"]);return function(l,$super,g){function h(){}l=h=B(l,$super,"Dir",h);var t=l.$$scope;g=g.slice().concat(t);return function(g,
e){var d=e.slice().concat(g),f,h,b;c.defn(g,"$chdir",f=function(b){var d=f.$$p,e=d||y,g=y;d&&(f.$$p=null);var h;a:{try{g=c.current_dir;c.current_dir=b;h=c.yieldX(e,[]);break a}finally{c.current_dir=g}h=void 0}return h},f.$$arity=1);c.defn(g,"$pwd",h=function(){return c.current_dir||"."},h.$$arity=0);c.alias(g,"getwd","pwd");return(c.defn(g,"$home",b=function(){var b;return!1!==(b=c.const_get(d,"ENV",!0,!0)["$[]"]("HOME"))&&b!==y&&null!=b?b:"."},b.$$arity=0),y)&&"home"}(c.get_singleton_class(l),g)}(c.base,
null,w)};Opal.modules["corelib/file"]=function(c){function w(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function y(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var B=[c],l=c.nil,a=c.klass,g=c.send,h=c.range;c.add_stubs("$join $compact $split $== $first $home $[]= $- $pwd $each $pop $<< $respond_to? $coerce_to! $+ $basename $empty? $rindex $[] $nil? $length $gsub $find $=~ $map $each_with_index $flatten $reject $end_with? $start_with? $sub".split(" "));
return function(t,$super,e){function d(){}t=d=a(t,$super,"File",d);var f=t.$$scope;e=e.slice().concat(f);c.cdecl(f,"Separator",c.cdecl(f,"SEPARATOR","/"));c.cdecl(f,"ALT_SEPARATOR",l);c.cdecl(f,"PATH_SEPARATOR",":");c.cdecl(f,"FNM_SYSCASE",0);return function(a,b){function d(a){(z=a["$respond_to?"]("to_path"))===l||null==z||z.$$is_boolean&&1!=z||(a=a.$to_path());return a=c.Opal["$coerce_to!"](a,c.String,"to_str")}function e(){return c.const_get(f,"ALT_SEPARATOR",!0,!0)===l?c.escape_regexp(c.const_get(f,
"SEPARATOR",!0,!0)):c.escape_regexp(y(c.const_get(f,"SEPARATOR",!0,!0),c.const_get(f,"ALT_SEPARATOR",!0,!0)))}var f=b.slice().concat(a),t,z,J,R,H,M,u,fa,v;c.defn(a,"$expand_path",t=function(a,b){var d,e=l,h=l,n=l;null==b&&(b=l);a=[b,a].$compact().$join(c.const_get(f,"SEPARATOR",!0,!0));e=a.$split(c.const_get(f,"SEPARATOR",!0,!0));h=[];e.$first()["$=="]("~")&&(n=[0,c.const_get(f,"Dir",!0,!0).$home()],g(e,"[]=",c.to_a(n)),n[w(n.length,1)]);e.$first()["$=="](".")&&(n=[0,c.const_get(f,"Dir",!0,!0).$pwd()],
g(e,"[]=",c.to_a(n)),n[w(n.length,1)]);g(e,"each",[],(d=function(a){null==a&&(a=l);return a["$=="]("..")?h.$pop():h["$<<"](a)},d.$$s=this,d.$$arity=1,d));return h.$join(c.const_get(f,"SEPARATOR",!0,!0))},t.$$arity=-2);c.alias(a,"realpath","expand_path");c.defn(a,"$dirname",J=function(a){var b=l,b=e();a=d(a);var c=a.match(new RegExp("^["+b+"]"));a=a.replace(new RegExp("["+b+"]+$"),"");a=a.replace(new RegExp("[^"+b+"]+$"),"");a=a.replace(new RegExp("["+b+"]+$"),"");return""===a?c?"/":".":a},J.$$arity=
1);c.defn(a,"$basename",R=function(a,b){var g=l;null==b&&(b=l);g=e();a=d(a);if(0==a.length)return a;b=b!==l?c.Opal["$coerce_to!"](b,c.String,"to_str"):null;a=a.replace(new RegExp("(.)["+g+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+g+"])?([^"+g+"]+)$"),"$1");".*"===b?a=a.replace(/\.[^\.]+$/,""):null!==b&&(b=c.escape_regexp(b),a=a.replace(new RegExp(""+b+"$"),""));return a},R.$$arity=-2);c.defn(a,"$extname",H=function(a){var b,e,g=l,f=l;a=d(a);g=this.$basename(a);if((b=g["$empty?"]())!==l&&null!=
b&&(!b.$$is_boolean||1==b))return"";f=g["$[]"](h(1,-1,!1)).$rindex(".");return(b=!1!==(e=f["$nil?"]())&&e!==l&&null!=e?e:y(f,1)["$=="](w(g.$length(),1)))===l||null==b||b.$$is_boolean&&1!=b?g["$[]"](c.Range.$new(y(f,1),-1,!1)):""},H.$$arity=1);c.defn(a,"$exist?",M=function(a){return null!=c.modules[a]},M.$$arity=1);c.alias(a,"exists?","exist?");c.defn(a,"$directory?",u=function(a){var b,d=l,d=l,d=[],e;for(e in c.modules)d.push(e);a=a.$gsub(new RegExp("(^."+c.const_get(f,"SEPARATOR",!0,!0)+"+|"+c.const_get(f,
"SEPARATOR",!0,!0)+"+$)"));return d=g(d,"find",[],(b=function(b){null==b&&(b=l);return b["$=~"](new RegExp("^"+a))},b.$$s=this,b.$$arity=1,b))},u.$$arity=1);c.defn(a,"$join",fa=function(a){var b,d,e,h,n=l,t=arguments.length,v=t-0;0>v&&(v=0);h=Array(v);for(v=0;v<t;v++)h[v-0]=arguments[v];if(h.$length()["$=="](0))return"";n="";h=g(h.$flatten().$each_with_index(),"map",[],(b=function(a,b){var d;null==a&&(a=l);null==b&&(b=l);return(d=b["$=="](0)?a["$empty?"]():b["$=="](0))===l||null==d||d.$$is_boolean&&
1!=d?(d=h.$length()["$=="](y(b,1))?a["$empty?"]():h.$length()["$=="](y(b,1)))===l||null==d||d.$$is_boolean&&1!=d?a:c.const_get(f,"SEPARATOR",!0,!0):c.const_get(f,"SEPARATOR",!0,!0)},b.$$s=this,b.$$arity=2,b));h=g(h,"reject",[],(d=function(a){null==a&&(a=l);return a["$empty?"]()},d.$$s=this,d.$$arity=1,d));g(h,"each_with_index",[],(e=function(a,b){var d,e,g=l;null==a&&(a=l);null==b&&(b=l);g=h["$[]"](y(b,1));return(d=g["$nil?"]())===l||null==d||d.$$is_boolean&&1!=d?((d=(e=a["$end_with?"](c.const_get(f,
"SEPARATOR",!0,!0)),!1!==e&&e!==l&&null!=e?g["$start_with?"](c.const_get(f,"SEPARATOR",!0,!0)):e))===l||null==d||d.$$is_boolean&&1!=d||(a=a.$sub(new RegExp(""+c.const_get(f,"SEPARATOR",!0,!0)+"+$"),"")),(d=!1!==(e=a["$end_with?"](c.const_get(f,"SEPARATOR",!0,!0)))&&e!==l&&null!=e?e:g["$start_with?"](c.const_get(f,"SEPARATOR",!0,!0)))===l||null==d||d.$$is_boolean&&1!=d?n=""+n+a+c.const_get(f,"SEPARATOR",!0,!0):n=""+n+a):n=""+n+a},e.$$s=this,e.$$arity=2,e));return n},fa.$$arity=-1);return(c.defn(a,
"$split",v=function(a){return a.$split(c.const_get(f,"SEPARATOR",!0,!0))},v.$$arity=1),l)&&"split"}(c.get_singleton_class(t),e)}(c.base,c.const_get(B,"IO",!0,!0),B)};Opal.modules["corelib/process"]=function(c){var w=[c],y=c.nil,B=c.klass;c.add_stubs(["$to_f","$now","$new"]);(function(l,$super,g){function h(){}l=h=B(l,$super,"Process",h);var t=l.$$scope,k=g.slice().concat(t),e,d,f;c.cdecl(t,"CLOCK_REALTIME",0);c.cdecl(t,"CLOCK_MONOTONIC",1);c.defs(l,"$pid",e=function(){return 0},e.$$arity=0);c.defs(l,
"$times",d=function(){var d=y,d=c.const_get(k,"Time",!0,!0).$now().$to_f();return c.const_get([c.const_get(k,"Benchmark",!0,!0).$$scope],"Tms",!0,!0).$new(d,d,d,d,d)},d.$$arity=0);return c.defs(l,"$clock_gettime",f=function(d,b){return c.const_get(k,"Time",!0,!0).$now().$to_f()},f.$$arity=-2)})(c.base,null,w);(function(l,$super,g){function h(){}l=h=B(l,$super,"Signal",h);var t=l.$$scope;g.slice().concat(t);var k;return c.defs(l,"$trap",k=function(c){return y},k.$$arity=-1)})(c.base,null,w);return function(l,
$super,g){function h(){}l=h=B(l,$super,"GC",h);var t=l.$$scope;g.slice().concat(t);var k;return c.defs(l,"$start",k=function(){return y},k.$$arity=0)}(c.base,null,w)};Opal.modules["corelib/random/seedrandom"]=function(c){var w=c.klass;return function(c,$super,l){function a(){}c=(a=w(c,$super,"Random",a)).$$scope;l.slice().concat(c);!function(a,c){function l(n,t,v){var x=[];t=1==t?{entropy:!0}:t||{};n=f(d(t.entropy?[n,b(a)]:null==n?p():n,3),x);var U=new k(x),x=function(){for(var a=U.g(C),b=J,c=0;a<
R;)a=(a+c)*q,b*=q,c=U.g(1);for(;a>=H;)a/=2,b/=2,c>>>=1;return(a+c)/b};return x.int32=function(){return 0|U.g(4)},x.quick=function(){return U.g(4)/4294967296},x["double"]=x,f(b(U.S),a),(t.pass||v||function(a,b,d,g){return g&&(g.S&&e(g,U),a.state=function(){return e(U,{})}),d?(c[z]=a,b):a})(x,n,"global"in t?t.global:this==c,t.state)}function k(a){var b,c=a.length,d=this,e=0,g=d.i=d.j=0,f=d.S=[];for(c||(a=[c++]);e<q;)f[e]=e++;for(e=0;e<q;e++)f[e]=f[g=M&g+a[e%c]+(b=f[e])],f[g]=b;(d.g=function(a){for(var b,
c=0,e=d.i,g=d.j,f=d.S;a--;)b=f[e=M&e+1],c=c*q+f[M&(f[e]=f[g=M&g+b])+(f[g]=b)];return d.i=e,d.j=g,c})(q)}function e(a,b){return b.i=a.i,b.j=a.j,b.S=a.S.slice(),b}function d(a,b){var c,e=[],g=typeof a;if(b&&"object"==g)for(c in a)if(a.hasOwnProperty(c))try{e.push(d(a[c],b-1))}catch(f){}return e.length?e:"string"==g?a:a+"\x00"}function f(a,c){for(var d,e=a+"",g=0;g<e.length;)c[M&g]=M&(d^=19*c[M&g])+e.charCodeAt(g++);return b(c)}function p(){try{if(n)return b(n.randomBytes(q));var c=new Uint8Array(q);
return(x.crypto||x.msCrypto).getRandomValues(c),b(c)}catch(d){return c=x.navigator,[+new Date,x,c&&c.plugins,x.screen,b(a)]}}function b(a){return String.fromCharCode.apply(0,a)}var n,x=this,q=256,C=6,z="random",J=c.pow(q,C),R=c.pow(2,52),H=2*R,M=q-1;if(c["seed"+z]=l,f(c.random(),a),"object"==typeof module&&module.exports){module.exports=l;try{n=require("crypto")}catch(u){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return l})}([],Math)}(c.base,null,[c])};Opal.modules["corelib/random"]=
function(c){var w=c.top,y=[c],B=c.nil,l=c.klass,a=c.send;c.add_stubs("$require $attr_reader $coerce_to! $reseed $new_seed $rand $seed $new $=== $== $state $encode $join $map $times $chr $raise".split(" "));w.$require("corelib/random/seedrandom.js");return function(g,$super,t){function k(){}g=k=l(g,$super,"Random",k);var e=g.$$scope,d=t.slice().concat(e),f,p,b,n,x,q,C,z;g.$attr_reader("seed","state");c.defn(g,"$initialize",f=function(a){null==a&&(a=c.const_get(d,"Random",!0,!0).$new_seed());this.state=
a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");return this.$reseed(a)},f.$$arity=-1);c.defn(g,"$reseed",p=function(a){this.seed=a;return this.$rng=new Math.seedrandom(a)},p.$$arity=1);var J=new Math.seedrandom("opal",{entropy:!0});c.defs(g,"$new_seed",b=function(){return Math.abs(J.int32())},b.$$arity=0);c.defs(g,"$rand",n=function(a){return c.const_get(d,"DEFAULT",!0,!0).$rand(a)},n.$$arity=-1);c.defs(g,"$srand",x=function(a){var b=B;null==a&&(a=c.const_get(d,"Random",!0,!0).$new_seed());a=c.Opal["$coerce_to!"](a,
c.Integer,"to_int");b=c.const_get(d,"DEFAULT",!0,!0).$seed();c.const_get(d,"DEFAULT",!0,!0).$reseed(a);return b},x.$$arity=-1);c.cdecl(e,"DEFAULT",g.$new(g.$new_seed()));c.defn(g,"$==",q=function(a){var b;return(b=c.const_get(d,"Random",!0,!0)["$==="](a))===B||null==b||b.$$is_boolean&&1!=b?!1:this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed())},q.$$arity=1);c.defn(g,"$bytes",C=function(b){var e;b=c.Opal["$coerce_to!"](b,c.Integer,"to_int");return a(b.$times(),
"map",[],(e=function(){return(e.$$s||this).$rand(255).$chr()},e.$$s=this,e.$$arity=0,e)).$join().$encode(c.const_get([c.const_get(d,"Encoding",!0,!0).$$scope],"ASCII_8BIT",!0,!0))},C.$$arity=1);return(c.defn(g,"$rand",z=function(a){function b(){g.state++;return g.$rng.quick()}function e(){var b=a.begin,c=a.end;if(b===B||c===B)return B;var d=c-b;if(0>d)return B;if(0===d)return b;0!==c%1||0!==b%1||a.exclude||d++;return g.$rand(d)+b}var g=this;if(null==a)return b();if(a.$$is_range)return e();if(a.$$is_number)return 0>=
a&&g.$raise(c.const_get(d,"ArgumentError",!0,!0),"invalid argument - "+a),0===a%1?Math.floor(b()*a):b()*a;a=c.Opal["$coerce_to!"](a,c.Integer,"to_int");0>=a&&g.$raise(c.const_get(d,"ArgumentError",!0,!0),"invalid argument - "+a);return Math.floor(b()*a)},z.$$arity=-1),B)&&"rand"}(c.base,null,y)};Opal.modules["corelib/unsupported"]=function(c){function w(e){switch(c.config.unsupported_features_severity){case "error":c.const_get(a,"Kernel",!0,!0).$raise(c.const_get(a,"NotImplementedError",!0,!0),e);
break;case "warning":k[e]||(k[e]=!0,l.$warn(e))}}var y,B,l=c.top,a=[c],g=c.nil,h=c.klass,t=c.module;c.add_stubs(["$raise","$warn","$%"]);var k={};(function(a,$super,f){function k(){}a=k=h(a,$super,"String",k);var b=a.$$scope,l=f.slice().concat(b),t,q,C,z,J,R,H,M,u,y,v,la,U,ea,ca,A,V,W;c.defn(a,"$<<",t=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},t.$$arity=-1);c.defn(a,"$capitalize!",
q=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},q.$$arity=-1);c.defn(a,"$chomp!",C=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},C.$$arity=-1);c.defn(a,"$chop!",z=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},
z.$$arity=-1);c.defn(a,"$downcase!",J=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},J.$$arity=-1);c.defn(a,"$gsub!",R=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},R.$$arity=-1);c.defn(a,"$lstrip!",H=function(a){return this.$raise(c.const_get(l,"NotImplementedError",
!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},H.$$arity=-1);c.defn(a,"$next!",M=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},M.$$arity=-1);c.defn(a,"$reverse!",u=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},
u.$$arity=-1);c.defn(a,"$slice!",y=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},y.$$arity=-1);c.defn(a,"$squeeze!",v=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},v.$$arity=-1);c.defn(a,"$strip!",la=function(a){return this.$raise(c.const_get(l,"NotImplementedError",
!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},la.$$arity=-1);c.defn(a,"$sub!",U=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},U.$$arity=-1);c.defn(a,"$succ!",ea=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},
ea.$$arity=-1);c.defn(a,"$swapcase!",ca=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},ca.$$arity=-1);c.defn(a,"$tr!",A=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},A.$$arity=-1);c.defn(a,"$tr_s!",V=function(a){return this.$raise(c.const_get(l,"NotImplementedError",
!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},V.$$arity=-1);return(c.defn(a,"$upcase!",W=function(a){return this.$raise(c.const_get(l,"NotImplementedError",!0,!0),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},W.$$arity=-1),g)&&"upcase!"})(c.base,null,a);(function(a,d){var g=t(a,"Kernel"),h=g.$$scope;d.slice().concat(h);var b,k;c.defn(g,"$freeze",b=function(){w("Object freezing is not supported by Opal");
return this},b.$$arity=0);c.defn(g,"$frozen?",k=function(){w("Object freezing is not supported by Opal");return!1},k.$$arity=0)})(c.base,a);(function(a,d){var g=t(a,"Kernel"),h=g.$$scope;d.slice().concat(h);var b,k,l;c.defn(g,"$taint",b=function(){w("Object tainting is not supported by Opal");return this},b.$$arity=0);c.defn(g,"$untaint",k=function(){w("Object tainting is not supported by Opal");return this},k.$$arity=0);c.defn(g,"$tainted?",l=function(){w("Object tainting is not supported by Opal");
return!1},l.$$arity=0)})(c.base,a);(function(a,$super,f){function k(){}a=k=h(a,$super,"Module",k);var b=a.$$scope;f.slice().concat(b);var l,t,q,C;c.defn(a,"$public",l=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];0===b.length&&(this.$$module_function=!1);return g},l.$$arity=-1);c.alias(a,"private","public");c.alias(a,"protected","public");c.alias(a,"nesting","public");c.defn(a,"$private_class_method",t=function(a){return this},t.$$arity=-1);
c.alias(a,"public_class_method","private_class_method");c.defn(a,"$private_method_defined?",q=function(a){return!1},q.$$arity=1);c.defn(a,"$private_constant",C=function(a){return g},C.$$arity=-1);c.alias(a,"protected_method_defined?","private_method_defined?");c.alias(a,"public_instance_methods","instance_methods");return c.alias(a,"public_method_defined?","method_defined?")})(c.base,null,a);(function(a,d){var g=t(a,"Kernel"),h=g.$$scope;d.slice().concat(h);var b;c.defn(g,"$private_methods",b=function(a){return[]},
b.$$arity=-1);c.alias(g,"private_instance_methods","private_methods")})(c.base,a);(function(a,d){var g=t(a,"Kernel"),h=g.$$scope,b=d.slice().concat(h),k;c.defn(g,"$eval",k=function(a){return this.$raise(c.const_get(b,"NotImplementedError",!0,!0),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+c.const_get(b,"RUBY_ENGINE_VERSION",!0,!0)+"/docs/opal_parser.md for details."))},k.$$arity=-1)})(c.base,a);c.defs(l,"$public",y=function(a){return g},y.$$arity=
-1);return c.defs(l,"$private",B=function(a){return g},B.$$arity=-1)};Opal.modules.opal=function(c){var w=c.top;c.add_stubs(["$require"]);w.$require("opal/base");w.$require("opal/mini");w.$require("corelib/string/inheritance");w.$require("corelib/string/encoding");w.$require("corelib/math");w.$require("corelib/complex");w.$require("corelib/rational");w.$require("corelib/time");w.$require("corelib/struct");w.$require("corelib/io");w.$require("corelib/main");w.$require("corelib/dir");w.$require("corelib/file");
w.$require("corelib/process");w.$require("corelib/random");return w.$require("corelib/unsupported")};Opal.require("opal")}
(function(c,w){"object"===typeof module&&module.exports?module.exports=w:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(c){return w(c.config())}):c.Asciidoctor=w})(this,function(c){Opal.modules.set=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var k=[a],e=a.nil,d=a.klass,
f=a.send,p=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(b,$super,k){function q(){}b=q=d(b,$super,"Set",q);var p=b.$$proto,z=b.$$scope,J=k.slice().concat(z),R,H,M,u,y,v,la,U,ea,ca,A,V,W,Q,G,O,F,L,D,ba,ia,
w,B,ja,K,ga,ha,X;p.hash=e;b.$include(a.const_get(J,"Enumerable",!0,!0));a.defs(b,"$[]",R=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$new(b)},R.$$arity=-1);a.defn(b,"$initialize",H=function(b){var c,d,g=H.$$p,h=g||e;null==b&&(b=e);g&&(H.$$p=null);this.hash=a.const_get(J,"Hash",!0,!0).$new();if((c=b["$nil?"]())!==e&&null!=c&&(!c.$$is_boolean||1==c))return e;((c=a.const_get(J,"Enumerable",!0,!0)["$==="](b))===e||null==c||c.$$is_boolean&&
1!=c)&&this.$raise(a.const_get(J,"ArgumentError",!0,!0),"value must be enumerable");return!1!==h&&h!==e&&null!=h?f(b,"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b.$add(h.$call(a))},d.$$s=this,d.$$arity=1,d)):this.$merge(b)},H.$$arity=-1);a.defn(b,"$dup",M=function(){var a=e,a=this.$class().$new();return a.$merge(this)},M.$$arity=0);a.defn(b,"$-",u=function(b){var c;((c=b["$respond_to?"]("each"))===e||null==c||c.$$is_boolean&&1!=c)&&this.$raise(a.const_get(J,"ArgumentError",!0,
!0),"value must be enumerable");return this.$dup().$subtract(b)},u.$$arity=1);a.alias(b,"difference","-");a.defn(b,"$inspect",y=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},y.$$arity=0);a.defn(b,"$==",v=function(b){var c,d,g;return(c=this["$equal?"](b))===e||null==c||c.$$is_boolean&&1!=c?(c=b["$instance_of?"](this.$class()))===e||null==c||c.$$is_boolean&&1!=c?(c=(d=b["$is_a?"](a.const_get(J,"Set",!0,!0)),!1!==d&&d!==e&&null!=d?this.$size()["$=="](b.$size()):d))===e||null==c||c.$$is_boolean&&
1!=c?!1:f(b,"all?",[],(g=function(a){var b=g.$$s||this;null==b.hash&&(b.hash=e);null==a&&(a=e);return b.hash["$include?"](a)},g.$$s=this,g.$$arity=1,g)):this.hash["$=="](b.$instance_variable_get("@hash")):!0},v.$$arity=1);a.defn(b,"$add",la=function(b){var d=e,d=[b,!0];f(this.hash,"[]=",a.to_a(d));d[c(d.length,1)];return this},la.$$arity=1);a.alias(b,"<<","add");a.defn(b,"$classify",U=function(){var b,d,h=U.$$p,k=h||e,l=e;h&&(U.$$p=null);if(k===e)return this.$enum_for("classify");l=f(a.const_get(J,
"Hash",!0,!0),"new",[],(b=function(d,h){var k=b.$$s||this,l=e;null==d&&(d=e);null==h&&(h=e);l=[h,k.$class().$new()];f(d,"[]=",a.to_a(l));return l[c(l.length,1)]},b.$$s=this,b.$$arity=2,b));f(this,"each",[],(d=function(b){null==b&&(b=e);return l["$[]"](a.yield1(k,b)).$add(b)},d.$$s=this,d.$$arity=1,d));return l},U.$$arity=0);a.defn(b,"$collect!",ea=function(){var b,c=ea.$$p,d=c||e,g=e;c&&(ea.$$p=null);if(d===e)return this.$enum_for("collect!");g=this.$class().$new();f(this,"each",[],(b=function(b){null==
b&&(b=e);return g["$<<"](a.yield1(d,b))},b.$$s=this,b.$$arity=1,b));return this.$replace(g)},ea.$$arity=0);a.alias(b,"map!","collect!");a.defn(b,"$delete",ca=function(a){this.hash.$delete(a);return this},ca.$$arity=1);a.defn(b,"$delete?",A=function(a){var b;if((b=this["$include?"](a))===e||null==b||b.$$is_boolean&&1!=b)return e;this.$delete(a);return this},A.$$arity=1);a.defn(b,"$delete_if",V=function(){try{var b,c,d,g=V.$$p,h=g||e;g&&(V.$$p=null);!1!==(b=h!==e)&&b!==e&&null!=b?b:a.ret(this.$enum_for("delete_if"));
f(f(this,"select",[],(c=function(b){null==b&&(b=e);return a.yield1(h,b)},c.$$s=this,c.$$arity=1,c)),"each",[],(d=function(a){var b=d.$$s||this;null==b.hash&&(b.hash=e);null==a&&(a=e);return b.hash.$delete(a)},d.$$s=this,d.$$arity=1,d));return this}catch(k){if(k===a.returner)return k.$v;throw k;}},V.$$arity=0);a.defn(b,"$add?",W=function(a){var b;return(b=this["$include?"](a))===e||null==b||b.$$is_boolean&&1!=b?this.$add(a):e},W.$$arity=1);a.defn(b,"$each",Q=function(){var a=Q.$$p,b=a||e;a&&(Q.$$p=
null);if(b===e)return this.$enum_for("each");f(this.hash,"each_key",[],b.$to_proc());return this},Q.$$arity=0);a.defn(b,"$empty?",G=function(){return this.hash["$empty?"]()},G.$$arity=0);a.defn(b,"$eql?",O=function(a){var b;return this.hash["$eql?"](f(a,"instance_eval",[],(b=function(){var a=b.$$s||this;null==a.hash&&(a.hash=e);return a.hash},b.$$s=this,b.$$arity=0,b)))},O.$$arity=1);a.defn(b,"$clear",F=function(){this.hash.$clear();return this},F.$$arity=0);a.defn(b,"$include?",L=function(a){return this.hash["$include?"](a)},
L.$$arity=1);a.alias(b,"member?","include?");a.defn(b,"$merge",D=function(a){var b;f(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=e);return c.$add(a)},b.$$s=this,b.$$arity=1,b));return this},D.$$arity=1);a.defn(b,"$replace",ba=function(a){this.$clear();this.$merge(a);return this},ba.$$arity=1);a.defn(b,"$size",ia=function(){return this.hash.$size()},ia.$$arity=0);a.alias(b,"length","size");a.defn(b,"$subtract",w=function(a){var b;f(a,"each",[],(b=function(a){var c=b.$$s||this;null==a&&
(a=e);return c.$delete(a)},b.$$s=this,b.$$arity=1,b));return this},w.$$arity=1);a.defn(b,"$|",B=function(b){var c;((c=b["$respond_to?"]("each"))===e||null==c||c.$$is_boolean&&1!=c)&&this.$raise(a.const_get(J,"ArgumentError",!0,!0),"value must be enumerable");return this.$dup().$merge(b)},B.$$arity=1);a.defn(b,"$superset?",ja=function(b){var c,d;!1!==(c=b["$is_a?"](a.const_get(J,"Set",!0,!0)))&&c!==e&&null!=c?c:this.$raise(a.const_get(J,"ArgumentError",!0,!0),"value must be a set");return(c=h(this.$size(),
b.$size()))===e||null==c||c.$$is_boolean&&1!=c?f(b,"all?",[],(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d)):!1},ja.$$arity=1);a.alias(b,">=","superset?");a.defn(b,"$proper_superset?",K=function(b){var c,d;!1!==(c=b["$is_a?"](a.const_get(J,"Set",!0,!0)))&&c!==e&&null!=c?c:this.$raise(a.const_get(J,"ArgumentError",!0,!0),"value must be a set");return(c=l(this.$size(),b.$size()))===e||null==c||c.$$is_boolean&&1!=c?f(b,"all?",[],(d=function(a){var b=
d.$$s||this;null==a&&(a=e);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d)):!1},K.$$arity=1);a.alias(b,">","proper_superset?");a.defn(b,"$subset?",ga=function(b){var c,d;!1!==(c=b["$is_a?"](a.const_get(J,"Set",!0,!0)))&&c!==e&&null!=c?c:this.$raise(a.const_get(J,"ArgumentError",!0,!0),"value must be a set");return(c=h(b.$size(),this.$size()))===e||null==c||c.$$is_boolean&&1!=c?f(this,"all?",[],(d=function(a){null==a&&(a=e);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d)):!1},ga.$$arity=1);
a.alias(b,"<=","subset?");a.defn(b,"$proper_subset?",ha=function(b){var c,d;!1!==(c=b["$is_a?"](a.const_get(J,"Set",!0,!0)))&&c!==e&&null!=c?c:this.$raise(a.const_get(J,"ArgumentError",!0,!0),"value must be a set");return(c=l(b.$size(),this.$size()))===e||null==c||c.$$is_boolean&&1!=c?f(this,"all?",[],(d=function(a){null==a&&(a=e);return b["$include?"](a)},d.$$s=this,d.$$arity=1,d)):!1},ha.$$arity=1);a.alias(b,"<","proper_subset?");a.alias(b,"+","|");a.alias(b,"union","|");return(a.defn(b,"$to_a",
X=function(){return this.hash.$keys()},X.$$arity=0),e)&&"to_a"})(a.base,null,k);return function(b,c){var d=p(b,"Enumerable"),g=d.$$scope,h=c.slice().concat(g),k;a.defn(d,"$to_set",k=function(b,c){var d,g=k.$$p,l=g||e;null==b&&(b=a.const_get(h,"Set",!0,!0));var q=arguments.length;d=q-1;0>d&&(d=0);d=Array(d);for(var n=1;n<q;n++)d[n-1]=arguments[n];g&&(k.$$p=null);return f(b,"new",[this].concat(a.to_a(d)),l.$to_proc())},k.$$arity=-1)}(a.base,k)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var c=
[a],h=a.nil,l=a.module,k=a.send,e=a.klass,d=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $== $read $size $to_enum $chomp $each_line $readlines $split $===".split(" "));(function(c,d){var b=l(c,"Kernel"),e=b.$$scope,g=d.slice().concat(e),q;a.defn(b,"$open",q=function(b,c){var d,e=q.$$p,f=e||h,l=h,l=arguments.length;d=l-1;0>d&&(d=0);d=Array(d);for(var n=1;n<l;n++)d[n-1]=arguments[n];e&&(q.$$p=null);l=k(a.const_get(g,"File",!0,!0),"new",[b].concat(a.to_a(d)));return f!==h?a.yield1(f,l):l},q.$$arity=
-2)})(a.base,c);(function(c,$super,b){function g(){}c=g=e(c,$super,"File",g);var k=c.$$proto,l=c.$$scope,t=b.slice().concat(l),z,J,y,H,M,u,fa,v;k.eof=k.path=h;c.$attr_reader("eof");c.$attr_reader("lineno");c.$attr_reader("path");a.defn(c,"$initialize",z=function(b,c){var d=h;null==c&&(c="r");this.path=b;this.contents=h;this.eof=!1;this.lineno=0;c=c.$delete("b");d=/:(.*)/;this.flags=c=c.$gsub(d,"");return a.const_get(t,"JAVASCRIPT_IO_MODULE",!0,!0)["$=="]("node")?this.fd=require("fs").openSync(b,c):
h},z.$$arity=-2);a.defn(c,"$read",J=function(){var b,c=h;return(b=this.eof)===h||null==b||b.$$is_boolean&&1!=b?(c=a.const_get(t,"File",!0,!0).$read(this.path),this.eof=!0,this.lineno=c.$size(),c):""},J.$$arity=0);a.defn(c,"$each_line",y=function(b){var c,e=y.$$p,g=e||h,f=h;null==d["/"]&&(d["/"]=h);null==b&&(b=d["/"]);e&&(y.$$p=null);if((c=this.eof)!==h&&null!=c&&(!c.$$is_boolean||1==c))return g!==h?this:[].$to_enum();if(g!==h){f=a.const_get(t,"File",!0,!0).$read(this.path);this.eof=!1;this.lineno=
0;c=f.$chomp();f=f.length!=c.length;c=c.split(b);for(var e=0,k=c.length;e<k;e++)this.lineno+=1,e<k-1||f?a.yield1(g,c[e]+b):a.yield1(g,c[e]);this.eof=!0;return this}return this.$read().$each_line()},y.$$arity=-1);a.defn(c,"$readlines",H=function(){return a.const_get(t,"File",!0,!0).$readlines(this.path)},H.$$arity=0);a.defs(c,"$readlines",M=function(b,c){var e=h;null==d["/"]&&(d["/"]=h);null==c&&(c=d["/"]);e=a.const_get(t,"File",!0,!0).$read(b);return e.$split(c)},M.$$arity=-2);a.defs(c,"$file?",u=
function(a){return!0},u.$$arity=1);a.defs(c,"$readable?",fa=function(a){return!0},fa.$$arity=1);return a.defs(c,"$read",v=function(b){var c=h;return function(){c=a.const_get(t,"JAVASCRIPT_IO_MODULE",!0,!0);if("node"["$==="](c))return require("fs").readFileSync(b,"utf8");if("phantomjs"["$==="](c))return require("fs").read(b);if("java_nio"["$==="](c)){var d=Java.type("java.nio.file.Paths"),e=[];Java.type("java.nio.file.Files").readAllLines(d.get(b),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){e.push(a)});
return e.join("\n")}if("xmlhttprequest"["$==="](c)){var e="",g=-1;try{d=new XMLHttpRequest,d.open("GET",b,!1),d.addEventListener("load",function(){g=this.status;if(0==g||200==g)e=this.responseText}),d.overrideMimeType("text/plain"),d.send()}catch(f){g=0}if(404==g||0==g&&""==e)throw a.const_get(t,"IOError",!0,!0).$new("No such file or directory: "+b);return e}return"spidermonkey"["$==="](c)?read(b):""}()},v.$$arity=1)})(a.base,null,c);return function(c,$super,b){function d(){}c=d=e(c,$super,"IO",d);
var g=c.$$scope,h=b.slice().concat(g),k;return a.defs(c,"$read",k=function(b){return a.const_get(h,"File",!0,!0).$read(b)},k.$$arity=1)}(a.base,null,c)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var c=[a],h=a.nil,l=a.klass,k=a.send;a.add_stubs(["$[]=","$-"]);return function(c,$super,g){function p(){}c=p=l(c,$super,"MatchData",p);var b=c.$$proto,n=c.$$scope;g.slice().concat(n);var x;b.matches=h;return(a.defn(c,"$[]=",x=function(b,c){var e=h,e=[b,c];k(this.matches,"[]=",a.to_a(e));
var g=e,e=e.length,e="number"===typeof e?e-1:e["$-"](1);return g[e]},x.$$arity=2),h)&&"[]="}(a.base,null,c)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var c=a.module;return function(h,l){var k=c(h,"Kernel"),e=k.$$scope;l.slice().concat(e);var d;a.defn(k,"$freeze",d=function(){return this},d.$$arity=0)}(a.base,[a])};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(a){var c=[a],h=a.nil,l=a.module,k=a.klass;(function(a,c){var g=l(a,"ThreadSafe").$$scope;c.slice().concat(g);
h})(a.base,c);return function(a,$super,c){function g(){}a=(g=k(a,$super,"Cache",g)).$$scope;c.slice().concat(a);return h}(a.base,a.const_get([a.Object.$$scope],"Hash",!0,!0),c)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var c=[a],h=a.nil,l=a.klass,k=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));return function(c,$super,g){function p(){}c=p=l(c,$super,"String",p);var b=c.$$scope;g.slice().concat(b);
var n,x,q;((n=c["$method_defined?"]("limit_bytesize"))===h||null==n||n.$$is_boolean&&1!=n)&&a.defn(c,"$limit_bytesize",x=function(a){var b,c=h,c=this.$bytes().$length();if((b="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c))===h||null==b||b.$$is_boolean&&1!=b)return this.$to_s();c=this.$byteslice(0,a);return c.$to_s()},x.$$arity=1);((n=c["$method_defined?"]("limit"))===h||null==n||n.$$is_boolean&&1!=n)&&a.alias(c,"limit","limit_bytesize");a.alias(c,"_original_unpack","unpack");return(a.defn(c,
"$unpack",q=function(a){var b;return a["$=="]("C3")?k(this["$[]"](0,3).$bytes().$select(),"with_index",[],(b=function(a,b){null==b&&(b=h);return b["$even?"]()},b.$$s=this,b.$$arity=2,b)):this.$_original_unpack(a)},q.$$arity=1),h)&&"unpack"}(a.base,null,c)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function c(a,e){return"number"===typeof a&&"number"===typeof e?a-e:a["$-"](e)}var h=a.nil,l=a.send,k=a.gvars,e=h;null==k.stdout&&(k.stdout=h);null==k.stderr&&(k.stderr=h);a.add_stubs(["$write_proc=",
"$-"]);e=[function(a){print(a)}];l(k.stdout,"write_proc=",a.to_a(e));e[c(e.length,1)];e=[function(a){print(a)}];l(k.stderr,"write_proc=",a.to_a(e));return e[c(e.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(a){function c(a,e){return"number"===typeof a&&"number"===typeof e?a-e:a["$-"](e)}var h=a.nil,l=a.send,k=a.gvars,e=h;null==k.stdout&&(k.stdout=h);null==k.stderr&&(k.stderr=h);a.add_stubs(["$write_proc=","$-"]);e=[function(a){console.log(a)}];l(k.stdout,"write_proc=",a.to_a(e));
e[c(e.length,1)];e=[function(a){console.error(a)}];l(k.stderr,"write_proc=",a.to_a(e));return e[c(e.length,1)]};Opal.modules["asciidoctor/js/opal_ext/node/io"]=function(a){function c(g){try{return g()}catch(h){if("EACCES"===h.code||"EISDIR"===h.code||"EMFILE"===h.code||"ENOENT"===h.code||"EPERM"===h.code)throw a.IOError.$new(h.message);throw h;}}var h=a.klass;return function(l,$super,e){function d(){}l=d=h(l,$super,"IO",d);var f=l.$$scope;e.slice().concat(f);var p;return a.defs(l,"$binread",p=function(a){return c(function(){return require("fs").readFileSync(a).toString("binary")})},
p.$$arity=1)}(a.base,null,[a])};Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(a){var c=[a],h=a.nil,l=a.klass;a.add_stubs(["$exist?"]);return function(c,$super,d){function g(){}c=g=l(c,$super,"File",g);var p=c.$$scope;d.slice().concat(p);var b;return a.defs(c,"$readable?",b=function(a){var b;return(b=this["$exist?"](a))===h||null==b||b.$$is_boolean&&1!=b?!1:"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    "},
b.$$arity=1)}(a.base,null,c)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var g=a.top,h=[a],l=a.nil;a.add_stubs(["$require","$=="]);var k="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,e="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),d="object"===typeof window,f="object"===typeof Java&&Java.type,p="object"===typeof java,b="object"===typeof window&&"object"===typeof window.phantom,n=
"function"===typeof importScripts,x="object"===typeof JSRuntime,q,C,z,J;a.load("pathname");a.load("base64");"object"===typeof c&&"object"===typeof c.runtime&&(J=c.runtime,q=J.platform,C=J.engine,z=J.framework,J=J.ioModule);"undefined"===typeof q&&(k?(q=q||"node",C=C||"v8",e&&(z=z||"electron")):f?(q=plaform||"java",C=C||"nashorn"):p?(q=q||"java",C=C||"rhino"):x?(q=q||"standalone",z=z||"spidermonkey"):d&&(q=q||"browser",b&&(z=z||"phantomjs")),n&&(z=z||"webworker"));if("undefined"===typeof q)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");
"undefined"===typeof z&&(z="");"undefined"===typeof C&&(C="");if("undefined"!==typeof J){if("spidermonkey"!=J&&"phantomjs"!=J&&"node"!=J&&"java_nio"!=J&&"xmlhttprequest"!=J)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");}else if("spidermonkey"===z)J="spidermonkey";else if("phantomjs"===z)J="phantomjs";else if("node"===q)J="node";else if("nashorn"===C)J="java_nio";else if("browser"===q||"undefined"!==typeof XmlHTTPRequest)J=
"xmlhttprequest";else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.cdecl(a,"JAVASCRIPT_IO_MODULE",J);a.cdecl(a,"JAVASCRIPT_PLATFORM",q);a.cdecl(a,"JAVASCRIPT_ENGINE",C);a.cdecl(a,"JAVASCRIPT_FRAMEWORK",z);g.$require("asciidoctor/js/opal_ext/file");g.$require("asciidoctor/js/opal_ext/match_data");g.$require("asciidoctor/js/opal_ext/kernel");g.$require("asciidoctor/js/opal_ext/thread_safe");g.$require("asciidoctor/js/opal_ext/string");
a.const_get(h,"JAVASCRIPT_ENGINE",!0,!0)["$=="]("nashorn")&&g.$require("asciidoctor/js/opal_ext/nashorn/io");a.const_get(h,"JAVASCRIPT_FRAMEWORK",!0,!0)["$=="]("electron")&&g.$require("asciidoctor/js/opal_ext/electron/io");return a.const_get(h,"JAVASCRIPT_PLATFORM",!0,!0)["$=="]("node")?(g.$require("asciidoctor/js/opal_ext/node/io"),g.$require("asciidoctor/js/opal_ext/node/file"),a.load("nodejs")):l};Opal.modules["asciidoctor/js/rx"]=function(a){var c=a.module,h=[a],c=c(a.base,"Asciidoctor").$$scope,
h=h.slice().concat(c);a.cdecl(c,"P_L","A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b4\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ad\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc");
a.cdecl(c,"P_Nl","\u16ee-\u16f0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303a\ua6e6-\ua6ef");a.cdecl(c,"P_Nd","0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19");
a.cdecl(c,"P_Pc","_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f");a.cdecl(c,"CC_ALPHA",""+a.const_get(h,"P_L",!0,!0)+a.const_get(h,"P_Nl",!0,!0));a.cdecl(c,"CG_ALPHA","["+a.const_get(h,"CC_ALPHA",!0,!0)+"]");a.cdecl(c,"CC_ALNUM",""+a.const_get(h,"CC_ALPHA",!0,!0)+a.const_get(h,"P_Nd",!0,!0));a.cdecl(c,"CG_ALNUM","["+a.const_get(h,"CC_ALNUM",!0,!0)+"]");a.cdecl(c,"CC_WORD",""+a.const_get(h,"CC_ALNUM",!0,!0)+a.const_get(h,"P_Pc",!0,!0));a.cdecl(c,"CG_WORD","["+a.const_get(h,"CC_WORD",!0,!0)+"]");
a.cdecl(c,"CG_BLANK","[ \\t]");a.cdecl(c,"CC_EOL","(?=\\n|$)");a.cdecl(c,"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]");a.cdecl(c,"CC_ALL","[\\s\\S]")};Opal.modules.strscan=function(a){var c=[a],h=a.nil,l=a.klass,k=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(c,$super,g){function p(){}c=p=l(c,$super,"StringScanner",p);var b=c.$$proto,n=c.$$scope;g.slice().concat(n);var x,q,C,z,J,y,H,M,u,fa,v,w,U,B,ca,A,V,W,Q,G,O,F,L,D,ba;b.pos=b.string=
b.working=b.matched=b.prev_pos=b.match=h;c.$attr_reader("pos");c.$attr_reader("matched");a.defn(c,"$initialize",x=function(a){this.string=a;this.pos=0;this.matched=h;this.working=a;return this.match=[]},x.$$arity=1);c.$attr_reader("string");a.defn(c,"$beginning_of_line?",q=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},q.$$arity=0);a.alias(c,"bol?","beginning_of_line?");a.defn(c,"$scan",C=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:"object"===
typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):h},C.$$arity=1);a.defn(c,"$scan_until",z=function(a){a=this.$anchor(a);for(var b=this.pos,c=this.working,e;;)if(e=a.exec(c),b+=1,c=c.substr(1),null==e){if(0===c.length)return this.matched=h}else return this.matched=this.string.substr(this.pos,b-this.pos-1+e[0].length),this.prev_pos=
b-1,this.pos=b,this.working=c.substr(e[0].length),this.matched},z.$$arity=1);a.defn(c,"$[]",J=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?h:b[a]},J.$$arity=1);a.defn(c,"$check",y=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:this.matched=a[0]},y.$$arity=1);a.defn(c,"$check_until",H=function(a){var b=this.prev_pos,c=this.pos;a=this.$scan_until(a);a!==h&&(this.matched=a.substr(-1),this.working=this.string.substr(c));this.prev_pos=
b;this.pos=c;return a},H.$$arity=1);a.defn(c,"$peek",M=function(a){return this.working.substring(0,a)},M.$$arity=1);a.defn(c,"$eos?",u=function(){return 0===this.working.length},u.$$arity=0);a.defn(c,"$exist?",fa=function(a){a=a.exec(this.working);return null==a?h:0==a.index?0:a.index+1},fa.$$arity=1);a.defn(c,"$skip",v=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=h;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);
return b},v.$$arity=1);a.defn(c,"$skip_until",w=function(a){a=this.$scan_until(a);if(a===h)return h;this.matched=a.substr(-1);return a.length},w.$$arity=1);a.defn(c,"$get_byte",U=function(){var a=h;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=h;return a},U.$$arity=0);a.alias(c,"getch","get_byte");a.defn(c,"$match?",B=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return h;
this.prev_pos=this.pos;return a[0].length},B.$$arity=1);a.defn(c,"$pos=",ca=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},ca.$$arity=1);a.defn(c,"$matched_size",A=function(){return this.matched===h?h:this.matched.length},A.$$arity=0);a.defn(c,"$post_match",V=function(){return this.matched===h?h:this.string.substr(this.pos)},V.$$arity=0);a.defn(c,"$pre_match",W=function(){return this.matched===h?h:this.string.substr(0,this.prev_pos)},W.$$arity=0);
a.defn(c,"$reset",Q=function(){this.working=this.string;this.matched=h;return this.pos=0},Q.$$arity=0);a.defn(c,"$rest",G=function(){return this.working},G.$$arity=0);a.defn(c,"$rest?",O=function(){return 0!==this.working.length},O.$$arity=0);a.defn(c,"$rest_size",F=function(){return this.$rest().$size()},F.$$arity=0);a.defn(c,"$terminate",L=function(){var b=h;this.match=h;b=[this.string.$length()];k(this,"pos=",a.to_a(b));var c=b,b=b.length,b="number"===typeof b?b-1:b["$-"](1);return c[b]},L.$$arity=
0);a.defn(c,"$unscan",D=function(){this.pos=this.prev_pos;this.match=this.prev_pos=h;return this},D.$$arity=0);c.$private();return(a.defn(c,"$anchor",ba=function(a){var b=a.toString().match(/\/([^\/]+)$/),b=b?b[1]:void 0;return new RegExp("^(?:"+a.source+")",b)},ba.$$arity=1),h)&&"anchor"}(a.base,null,c)};Opal.modules["asciidoctor/js"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/js/opal_ext");c.$require("asciidoctor/js/rx");return c.$require("strscan")};Opal.modules["asciidoctor/converter/base"]=
function(a){var c=[a],h=a.nil,l=a.module,k=a.klass,e=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(c,g){var p=l(c,"Asciidoctor").$$scope,b=g.slice().concat(p);(function(a,b){var c=l(a,"Converter").$$scope;b.slice().concat(c);h})(p.base,b);(function(b,$super,c){function d(){}b=d=k(b,$super,"Base",d);var e=b.$$scope;c=c.slice().concat(e);return b.$include(a.const_get(c,"Converter",!0,!0))})(a.const_get(b,"Converter",!0,!0),null,b);(function(b,$super,c){function d(){}
b=d=k(b,$super,"BuiltIn",d);var g=b.$$scope;c.slice().concat(g);var f,l,t,p;a.defn(b,"$initialize",f=function(a,b){null==b&&e([],{});return h},f.$$arity=-2);a.defn(b,"$convert",l=function(a,b,c){var d;null==b&&(b=h);null==c&&(c=e([],{}));!1!==(d=b)&&d!==h&&null!=d?d:b=a.$node_name();return(d=c["$empty?"]())===h||null==d||d.$$is_boolean&&1!=d?this.$send(b,a,c):this.$send(b,a)},l.$$arity=-2);a.alias(b,"handles?","respond_to?");a.defn(b,"$content",t=function(a){return a.$content()},t.$$arity=1);a.alias(b,
"pass","content");return(a.defn(b,"$skip",p=function(a){return h},p.$$arity=1),h)&&"skip"})(a.const_get(b,"Converter",!0,!0),null,b)}(a.base,c)};Opal.modules["asciidoctor/converter/factory"]=function(a){var c=[a],h=a.nil,l=a.module,k=a.klass,e=a.hash2,d=a.send;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $key?".split(" "));return function(c,g){var b=l(c,"Asciidoctor").$$scope,n=g.slice().concat(b);
(function(b,c){var g=l(b,"Converter").$$scope,f=c.slice().concat(g);(function(b,$super,c){function g(){}b=g=k(b,$super,"Factory",g);var f=b.$$proto,l=b.$$scope,q=c.slice().concat(l),n,t,p,x,A;f.converters=f.star_converter=h;b.__default__=h;(function(b,c){c.slice().concat(b);var d,g,f,k,l,q;a.defn(b,"$default",d=function(b){var c,d;null==this.__default__&&(this.__default__=h);null==b&&(b=!0);if(!1===b||b===h||null==b)return!1!==(c=this.__default__)&&c!==h&&null!=c?c:this.$new();if(!1!==(c=this.__default__)&&
c!==h&&null!=c)b=c;else{var e;a:{try{((d=a.const_get([a.Object.$$scope],"ThreadSafe",!0,!1)?"constant":h)===h||null==d||d.$$is_boolean&&1!=d)&&this.$require("thread_safe".$to_s());e=this.$new(a.const_get([a.const_get([a.Object.$$scope],"ThreadSafe",!0,!0).$$scope],"Cache",!0,!0).$new());break a}catch(g){if(a.rescue(g,[a.const_get([a.Object.$$scope],"LoadError",!0,!0)]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
e=this.$new();break a}finally{a.pop_exception()}else throw g;}e=void 0}b=this.__default__=e}return b},d.$$arity=-1);a.defn(b,"$register",g=function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,b)},g.$$arity=-2);a.defn(b,"$resolve",f=function(a){return this.$default().$resolve(a)},f.$$arity=1);a.defn(b,"$create",k=function(a,b){null==b&&(b=e([],{}));return this.$default().$create(a,b)},k.$$arity=-2);a.defn(b,"$converters",l=function(){return this.$default().$converters()},l.$$arity=0);
return(a.defn(b,"$unregister_all",q=function(){return this.$default().$unregister_all()},q.$$arity=0),h)&&"unregister_all"})(a.get_singleton_class(b),q);b.$attr_reader("converters");a.defn(b,"$initialize",n=function(a){var b;null==a&&(a=h);this.converters=!1!==(b=a)&&b!==h&&null!=b?b:e([],{});return this.star_converter=h},n.$$arity=-1);a.defn(b,"$register",t=function(b,c){var e;null==c&&(c=["*"]);d(c,"each",[],(e=function(c){var g=e.$$s||this,f=h;null==g.converters&&(g.converters=h);null==c&&(c=h);
f=[c,b];d(g.converters,"[]=",a.to_a(f));var k=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1);k[f];return c["$=="]("*")?g.star_converter=b:h},e.$$s=this,e.$$arity=1,e));return h},t.$$arity=-2);a.defn(b,"$resolve",p=function(a){var b,c;return b=this.converters,!1!==b&&b!==h&&null!=b?!1!==(c=this.converters["$[]"](a))&&c!==h&&null!=c?c:this.star_converter:b},p.$$arity=1);a.defn(b,"$unregister_all",x=function(){this.converters.$clear();return this.star_converter=h},x.$$arity=0);return(a.defn(b,"$create",
A=function(b,c){var d,g,f,k,l,n,t,p,x,u,A,C,H,M=this,X=h,z=X=h,J=h;null==c&&(c=e([],{}));if((d=X=M.$resolve(b))!==h&&null!=d&&(!d.$$is_boolean||1==d))return(d=a.const_get([a.Object.$$scope],"Class",!0,!0)["$==="](X))===h||null==d||d.$$is_boolean&&1!=d?X:X.$new(b,c);X=function(){z=b;return"html5"["$==="](z)?(((d=(f=a.const_get([a.Object.$$scope],"Asciidoctor",!0,!1))&&f.$$scope&&(g=a.const_get([f.$$scope],"Converter",!0,!1))&&g.$$scope&&a.const_get([g.$$scope],"Html5Converter",!0,!1)?"constant":h)===
h||null==d||d.$$is_boolean&&1!=d)&&M.$require("asciidoctor/converter/html5".$to_s()),a.const_get(q,"Html5Converter",!0,!0).$new(b,c)):"docbook5"["$==="](z)?(((d=(l=a.const_get([a.Object.$$scope],"Asciidoctor",!0,!1))&&l.$$scope&&(k=a.const_get([l.$$scope],"Converter",!0,!1))&&k.$$scope&&a.const_get([k.$$scope],"DocBook5Converter",!0,!1)?"constant":h)===h||null==d||d.$$is_boolean&&1!=d)&&M.$require("asciidoctor/converter/docbook5".$to_s()),a.const_get(q,"DocBook5Converter",!0,!0).$new(b,c)):"docbook45"["$==="](z)?
(((d=(t=a.const_get([a.Object.$$scope],"Asciidoctor",!0,!1))&&t.$$scope&&(n=a.const_get([t.$$scope],"Converter",!0,!1))&&n.$$scope&&a.const_get([n.$$scope],"DocBook45Converter",!0,!1)?"constant":h)===h||null==d||d.$$is_boolean&&1!=d)&&M.$require("asciidoctor/converter/docbook45".$to_s()),a.const_get(q,"DocBook45Converter",!0,!0).$new(b,c)):"manpage"["$==="](z)?(((d=(x=a.const_get([a.Object.$$scope],"Asciidoctor",!0,!1))&&x.$$scope&&(p=a.const_get([x.$$scope],"Converter",!0,!1))&&p.$$scope&&a.const_get([p.$$scope],
"ManPageConverter",!0,!1)?"constant":h)===h||null==d||d.$$is_boolean&&1!=d)&&M.$require("asciidoctor/converter/manpage".$to_s()),a.const_get(q,"ManPageConverter",!0,!0).$new(b,c)):h}();if((d=c["$key?"]("template_dirs"))===h||null==d||d.$$is_boolean&&1!=d)return X;((d=(A=a.const_get([a.Object.$$scope],"Asciidoctor",!0,!1))&&A.$$scope&&(u=a.const_get([A.$$scope],"Converter",!0,!1))&&u.$$scope&&a.const_get([u.$$scope],"TemplateConverter",!0,!1)?"constant":h)===h||null==d||d.$$is_boolean&&1!=d)&&M.$require("asciidoctor/converter/template".$to_s());
((d=(H=a.const_get([a.Object.$$scope],"Asciidoctor",!0,!1))&&H.$$scope&&(C=a.const_get([H.$$scope],"Converter",!0,!1))&&C.$$scope&&a.const_get([C.$$scope],"CompositeConverter",!0,!1)?"constant":h)===h||null==d||d.$$is_boolean&&1!=d)&&M.$require("asciidoctor/converter/composite".$to_s());J=a.const_get(q,"TemplateConverter",!0,!0).$new(b,c["$[]"]("template_dirs"),c);return a.const_get(q,"CompositeConverter",!0,!0).$new(b,J,X)},A.$$arity=-2),h)&&"create"})(g.base,null,f)})(b.base,n)}(a.base,c)};Opal.modules["asciidoctor/converter"]=
function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}var h=a.top,l=[a],k=a.nil,e=a.module,d=a.send,f=a.range,p=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(b,h){var l=e(b,"Asciidoctor").$$scope,q=h.slice().concat(l);(function(b,h){var l=e(b,"Converter"),q=l.$$scope,n=h.slice().concat(q),t,x;(function(b,c){var g=
e(b,"Config"),f=g.$$scope,h=c.slice().concat(f),l;a.defn(g,"$register_for",l=function(b){var c,e,g,f=k,f=arguments.length,l=f-0;0>l&&(l=0);g=Array(l);for(l=0;l<f;l++)g[l-0]=arguments[l];a.const_get(h,"Factory",!0,!0).$register(this,g);f=function(a,b){b.slice().concat(a);return a}(a.get_singleton_class(this),h);g["$=="](["*"])?d(f,"send",["define_method","converts?"],(c=function(a){return!0},c.$$s=this,c.$$arity=1,c)):d(f,"send",["define_method","converts?"],(e=function(a){null==a&&(a=k);return g["$include?"](a)},
e.$$s=this,e.$$arity=1,e));return k},l.$$arity=-1)})(q.base,n);(function(b,h){var l=e(b,"BackendInfo"),q=l.$$scope,n=h.slice().concat(q),t,x,u,C,H,G;a.defn(l,"$backend_info",t=function(){var a;null==this.backend_info&&(this.backend_info=k);return!1!==(a=this.backend_info)&&a!==k&&null!=a?a:this.backend_info=this.$setup_backend_info()},t.$$arity=0);a.defn(l,"$setup_backend_info",x=function(){var b,c=k,d=k,e=k,g=k;null==this.backend&&(this.backend=k);((b=this.backend)===k||null==b||b.$$is_boolean&&
1!=b)&&this.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0),"Cannot determine backend for converter: "+this.$class());c=this.backend.$sub(a.const_get(n,"TrailingDigitsRx",!0,!0),"");(b=d=a.const_get(n,"DEFAULT_EXTENSIONS",!0,!0)["$[]"](c))===k||null==b||b.$$is_boolean&&1!=b?(c="html",d=".html",g=e="html"):e=d["$[]"](f(1,-1,!1));return p(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:c,outfilesuffix:d,filetype:e,htmlsyntax:g})},x.$$arity=0);a.defn(l,"$filetype",u=
function(b){var e=k;null==b&&(b=k);return!1!==b&&b!==k&&null!=b?(e=["filetype",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("filetype")},u.$$arity=-1);a.defn(l,"$basebackend",C=function(b){var e=k;null==b&&(b=k);return!1!==b&&b!==k&&null!=b?(e=["basebackend",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},C.$$arity=-1);a.defn(l,"$outfilesuffix",H=function(b){var e=k;null==b&&(b=k);return!1!==b&&b!==
k&&null!=b?(e=["outfilesuffix",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},H.$$arity=-1);a.defn(l,"$htmlsyntax",G=function(b){var e=k;null==b&&(b=k);return!1!==b&&b!==k&&null!=b?(e=["htmlsyntax",b],d(this.$backend_info(),"[]=",a.to_a(e)),e[c(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},G.$$arity=-1)})(q.base,n);(function(b,c){var d=c.slice().concat(b),e;return(a.defn(b,"$included",e=function(b){return b.$extend(a.const_get(d,
"Config",!0,!0))},e.$$arity=1),k)&&"included"})(a.get_singleton_class(l),n);l.$include(a.const_get(n,"Config",!0,!0));l.$include(a.const_get(n,"BackendInfo",!0,!0));a.defn(l,"$initialize",t=function(a,b){null==b&&p([],{});this.backend=a;return this.$setup_backend_info()},t.$$arity=-2);a.defn(l,"$convert",x=function(b,c,d){null==d&&p([],{});return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},x.$$arity=-2);a.alias(l,"convert_with_options","convert")})(l.base,q);(function(b,
c){var g=e(b,"Writer"),f=g.$$scope,h=c.slice().concat(f),l;a.defn(g,"$write",l=function(b,c){var e,g;(e=c["$respond_to?"]("write"))===k||null==e||e.$$is_boolean&&1!=e?d(a.const_get([a.Object.$$scope],"File",!0,!0),"open",[c,"w"],(g=function(a){null==a&&(a=k);return a.$write(b)},g.$$s=this,g.$$arity=1,g)):(c.$write(b.$chomp()),c.$write(a.const_get(h,"EOL",!0,!0)));return k},l.$$arity=2)})(l.base,q);(function(b,c){var d=e(b,"VoidWriter"),g=d.$$scope,g=c.slice().concat(g),f;d.$include(a.const_get(g,
"Writer",!0,!0));a.defn(d,"$write",f=function(a,b){return k},f.$$arity=2)})(l.base,q)})(a.base,l);h.$require("asciidoctor/converter/base");return h.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/converter/composite"]=function(a){var c=[a],h=a.nil,l=a.module,k=a.klass,e=a.send,d=a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $[]= $find_converter $handles? $raise".split(" "));return function(c,g){var b=l(c,
"Asciidoctor").$$scope,b=g.slice().concat(b);(function(b,$super,c){function g(){}b=g=k(b,$super,"CompositeConverter",g);var f=b.$$proto,l=b.$$scope;c.slice().concat(l);var t,p,M,u;f.converter_map=f.converters=h;b.$attr_reader("converters");a.defn(b,"$initialize",t=function(a,b){var c,g,f=arguments.length;g=f-1;0>g&&(g=0);g=Array(g);for(var k=1;k<f;k++)g[k-1]=arguments[k];this.backend=a;e(this.converters=g.$flatten().$compact(),"each",[],(c=function(a){var b=c.$$s||this,d;null==a&&(a=h);return(d=a["$respond_to?"]("composed"))===
h||null==d||d.$$is_boolean&&1!=d?h:a.$composed(b)},c.$$s=this,c.$$arity=1,c));return this.converter_map=d([],{})},t.$$arity=-2);a.defn(b,"$convert",p=function(a,b,c){var e;null==b&&(b=h);null==c&&(c=d([],{}));!1!==(e=b)&&e!==h&&null!=e?e:b=a.$node_name();return this.$converter_for(b).$convert(a,b,c)},p.$$arity=-2);a.alias(b,"convert_with_options","convert");a.defn(b,"$converter_for",M=function(a){var b,c;return b=this.converter_map,!1!==(c=b["$[]"](a))&&c!==h&&null!=c?c:b["$[]="](a,this.$find_converter(a))},
M.$$arity=1);return(a.defn(b,"$find_converter",u=function(b){try{var c;e(this.converters,"each",[],(c=function(c){var d;null==c&&(c=h);if((d=c["$handles?"](b))===h||null==d||d.$$is_boolean&&1!=d)return h;a.ret(c)},c.$$s=this,c.$$arity=1,c));return this.$raise("Could not find a converter to handle transform: "+b)}catch(d){if(d===a.returner)return d.$v;throw d;}},u.$$arity=1),h)&&"find_converter"})(a.const_get(b,"Converter",!0,!0),a.const_get([a.const_get(b,"Converter",!0,!0).$$scope],"Base",!0,!0),
b)}(a.base,c)};Opal.modules["asciidoctor/converter/html5"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function d(a,b){return"number"===typeof a&&
"number"===typeof b?a<b:a["$<"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var p=[a],b=a.nil,n=a.module,x=a.klass,q=a.send,C=a.hash2;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $select $rows $colspan $rowspan $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match $length".split(" "));
return function(p,y){var w=n(p,"Asciidoctor").$$scope,w=y.slice().concat(w);(function(n,$super,p){function y(){}n=y=x(n,$super,"Html5Converter",y);var v=n.$$proto,z=n.$$scope,U=p.slice().concat(z),J,w,A,V,W,Q,G,O,F,L,D,ba,B,R,pa,ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za,Da,Ga;p=b;v.xml_mode=v.void_element_slash=v.stylesheets=b;p=[[b,b,b]];q(a.cdecl(z,"QUOTE_TAGS",C("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>",
"</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>","</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(p));p[c(p.length,1)];a.cdecl(z,"SvgPreambleRx",/^.*?(?=<svg\b)/m);a.cdecl(z,"SvgStartTagRx",/^<svg[^>]*>/);a.cdecl(z,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(n,
"$initialize",J=function(c,d){var e;null==d&&(d=C([],{}));this.xml_mode=d["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(e=this.xml_mode)===b||null==e||e.$$is_boolean&&1!=e?b:"/";return this.stylesheets=a.const_get(U,"Stylesheets",!0,!0).$instance()},J.$$arity=-2);a.defn(n,"$document",w=function(c){var d,e,g,f,n,v,P=b,E=b,p=b,da=b,ua=b,Z=b,I=b,N=Z=I=Z=I=da=I=da=I=b,E=E=Z=Z=I=b,P=[],E=this.void_element_slash,p="<br"+E+">";if((d=(da=c.$attr("asset-uri-scheme","https"))["$empty?"]())===
b||null==d||d.$$is_boolean&&1!=d)da=""+da+":";ua=""+da+"//cdnjs.cloudflare.com/ajax/libs";Z=!1!==(d=h(c.$safe(),a.const_get([a.const_get(U,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))&&d!==b&&null!=d?d:c["$attr?"]("linkcss");P["$<<"]("<!DOCTYPE html>");I=(d=c["$attr?"]("nolang"))===b||null==d||d.$$is_boolean&&1!=d?' lang="'+c.$attr("lang","en")+'"':b;P["$<<"]("<html"+((d=this.xml_mode)===b||null==d||d.$$is_boolean&&1!=d?b:' xmlns="http://www.w3.org/1999/xhtml"')+I+">");P["$<<"]('<head>\n<meta charset="'+
c.$attr("encoding","UTF-8")+'"'+E+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+E+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+E+'>\n<meta name="generator" content="Asciidoctor '+c.$attr("asciidoctor-version")+'"'+E+">");if((d=c["$attr?"]("app-name"))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"]('<meta name="application-name" content="'+c.$attr("app-name")+'"'+E+">");if((d=c["$attr?"]("description"))!==b&&null!=d&&(!d.$$is_boolean||
1==d))P["$<<"]('<meta name="description" content="'+c.$attr("description")+'"'+E+">");if((d=c["$attr?"]("keywords"))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"]('<meta name="keywords" content="'+c.$attr("keywords")+'"'+E+">");if((d=c["$attr?"]("authors"))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"]('<meta name="author" content="'+c.$attr("authors")+'"'+E+">");if((d=c["$attr?"]("copyright"))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"]('<meta name="copyright" content="'+c.$attr("copyright")+
'"'+E+">");P["$<<"]("<title>"+c.$doctitle(C(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((d=a.const_get(U,"DEFAULT_STYLESHEET_KEYS",!0,!0)["$include?"](c.$attr("stylesheet")))!==b&&null!=d&&(!d.$$is_boolean||1==d)){if((d=I=c.$attr("webfonts"))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"]('<link rel="stylesheet" href="'+da+"//fonts.googleapis.com/css?family="+((d=I["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?I:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+
'"'+E+">");if(!1!==Z&&Z!==b&&null!=Z)P["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(a.const_get(U,"DEFAULT_STYLESHEET_NAME",!0,!0),c.$attr("stylesdir",""),!1)+'"'+E+">");else P["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((d=c["$attr?"]("stylesheet"))!==b&&null!=d&&(!d.$$is_boolean||1==d))if(!1!==Z&&Z!==b&&null!=Z)P["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(c.$attr("stylesheet"),c.$attr("stylesdir",""))+'"'+E+">");else P["$<<"]("<style>\n"+c.$read_asset(c.$normalize_system_path(c.$attr("stylesheet"),
c.$attr("stylesdir","")),C(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((d=c["$attr?"]("icons","font"))!==b&&null!=d&&(!d.$$is_boolean||1==d))if((d=c["$attr?"]("iconfont-remote"))===b||null==d||d.$$is_boolean&&1!=d)da=""+c.$attr("iconfont-name","font-awesome")+".css",P["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(da,c.$attr("stylesdir",""),!1)+'"'+E+">");else P["$<<"]('<link rel="stylesheet" href="'+c.$attr("iconfont-cdn",""+ua+"/font-awesome/4.6.3/css/font-awesome.min.css")+
'"'+E+">");I=da=c.$attr("source-highlighter");if("coderay"["$==="](I)){if(c.$attr("coderay-css","class")["$=="]("class"))if(!1!==Z&&Z!==b&&null!=Z)P["$<<"]('<link rel="stylesheet" href="'+c.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),c.$attr("stylesdir",""),!1)+'"'+E+">");else P["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](I)&&c.$attr("pygments-css","class")["$=="]("class"))if(I=c.$attr("pygments-style"),!1!==Z&&Z!==b&&null!=Z)P["$<<"]('<link rel="stylesheet" href="'+
c.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(I),c.$attr("stylesdir",""),!1)+'"'+E+">");else P["$<<"](this.stylesheets.$embed_pygments_stylesheet(I));if((d=(Z=c.$docinfo())["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d)P["$<<"](Z);P["$<<"]("</head>");I=[];if((d=c.$id())!==b&&null!=d&&(!d.$$is_boolean||1==d))I["$<<"]('id="'+c.$id()+'"');if((d=(e=(g=(f=Z=c["$sections?"](),!1!==f&&f!==b&&null!=f?c["$attr?"]("toc-class"):f),!1!==g&&g!==b&&null!=g?c["$attr?"]("toc"):g),!1!==e&&e!==
b&&null!=e?c["$attr?"]("toc-placement","auto"):e))===b||null==d||d.$$is_boolean&&1!=d)I["$<<"]('class="'+c.$doctype()+'"');else I["$<<"]('class="'+c.$doctype()+" "+c.$attr("toc-class")+" toc-"+c.$attr("toc-position","header")+'"');if((d=c["$attr?"]("max-width"))!==b&&null!=d&&(!d.$$is_boolean||1==d))I["$<<"]('style="max-width: '+c.$attr("max-width")+';"');P["$<<"]("<body "+l(I," ")+">");if((d=c.$noheader())===b||null==d||d.$$is_boolean&&1!=d){P["$<<"]('<div id="header">');if(c.$doctype()["$=="]("manpage")){P["$<<"]("<h1>"+
c.$doctitle()+" Manual Page</h1>");if((d=(e=(g=!1!==Z&&Z!==b&&null!=Z)?c["$attr?"]("toc"):Z,!1!==e&&e!==b&&null!=e?c["$attr?"]("toc-placement","auto"):e))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"]('<div id="toc" class="'+c.$attr("toc-class","toc")+'">\n<div id="toctitle">'+c.$attr("toc-title")+"</div>\n"+this.$outline(c)+"\n</div>");P["$<<"]("<h2>"+c.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+c.$attr("manname")+" - "+c.$attr("manpurpose")+"</p>\n</div>")}else{if((d=c["$has_header?"]())!==
b&&null!=d&&(!d.$$is_boolean||1==d)){if((d=c.$notitle())===b||null==d||d.$$is_boolean&&1!=d)P["$<<"]("<h1>"+c.$header().$title()+"</h1>");N=[];if((d=c["$attr?"]("author"))!==b&&null!=d&&(!d.$$is_boolean||1==d)){N["$<<"]('<span id="author" class="author">'+c.$attr("author")+"</span>"+p);if((d=c["$attr?"]("email"))!==b&&null!=d&&(!d.$$is_boolean||1==d))N["$<<"]('<span id="email" class="email">'+c.$sub_macros(c.$attr("email"))+"</span>"+p);(d=k(I=c.$attr("authorcount").$to_i(),1))===b||null==d||d.$$is_boolean&&
1!=d||q(a.Range.$new(2,I,!1),"each",[],(n=function(a){var d;null==a&&(a=b);N["$<<"]('<span id="author'+a+'" class="author">'+c.$attr("author_"+a)+"</span>"+p);return(d=c["$attr?"]("email_"+a))===b||null==d||d.$$is_boolean&&1!=d?b:N["$<<"]('<span id="email'+a+'" class="email">'+c.$sub_macros(c.$attr("email_"+a))+"</span>"+p)},n.$$s=this,n.$$arity=1,n))}if((d=c["$attr?"]("revnumber"))!==b&&null!=d&&(!d.$$is_boolean||1==d))N["$<<"]('<span id="revnumber">'+(!1!==(d=c.$attr("version-label"))&&d!==b&&null!=
d?d:"").$downcase()+" "+c.$attr("revnumber")+((d=c["$attr?"]("revdate"))===b||null==d||d.$$is_boolean&&1!=d?"":",")+"</span>");if((d=c["$attr?"]("revdate"))!==b&&null!=d&&(!d.$$is_boolean||1==d))N["$<<"]('<span id="revdate">'+c.$attr("revdate")+"</span>");if((d=c["$attr?"]("revremark"))!==b&&null!=d&&(!d.$$is_boolean||1==d))N["$<<"](""+p+'<span id="revremark">'+c.$attr("revremark")+"</span>");if((d=N["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d)P["$<<"]('<div class="details">'),P.$concat(N),P["$<<"]("</div>")}if((d=
(e=(g=!1!==Z&&Z!==b&&null!=Z)?c["$attr?"]("toc"):Z,!1!==e&&e!==b&&null!=e?c["$attr?"]("toc-placement","auto"):e))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"]('<div id="toc" class="'+c.$attr("toc-class","toc")+'">\n<div id="toctitle">'+c.$attr("toc-title")+"</div>\n"+this.$outline(c)+"\n</div>")}P["$<<"]("</div>")}P["$<<"]('<div id="content">\n'+c.$content()+"\n</div>");(d=(e=c["$footnotes?"](),!1!==e&&e!==b&&null!=e?c["$attr?"]("nofootnotes")["$!"]():e))===b||null==d||d.$$is_boolean&&1!=d||(P["$<<"]('<div id="footnotes">\n<hr'+
E+">"),q(c.$footnotes(),"each",[],(v=function(a){null==a&&(a=b);return P["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},v.$$s=this,v.$$arity=1,v)),P["$<<"]("</div>"));if((d=c.$nofooter())===b||null==d||d.$$is_boolean&&1!=d){P["$<<"]('<div id="footer">');P["$<<"]('<div id="footer-text">');if((d=c["$attr?"]("revnumber"))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"](""+c.$attr("version-label")+" "+c.$attr("revnumber")+
p);if((d=(e=c["$attr?"]("last-update-label"),!1!==e&&e!==b&&null!=e?c["$attr?"]("reproducible")["$!"]():e))!==b&&null!=d&&(!d.$$is_boolean||1==d))P["$<<"](""+c.$attr("last-update-label")+" "+c.$attr("docdatetime"));P["$<<"]("</div>");P["$<<"]("</div>")}if((d=(Z=c.$docinfo("footer"))["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d)P["$<<"](Z);I=da;"highlightjs"["$==="](I)||"highlight.js"["$==="](I)?(Z=c.$attr("highlightjsdir",""+ua+"/highlight.js/8.9.1"),P["$<<"]('<link rel="stylesheet" href="'+Z+
"/styles/"+c.$attr("highlightjs-theme","github")+'.min.css"'+E+">"),P["$<<"]('<script src="'+Z+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](I)&&(Z=c.$attr("prettifydir",""+ua+"/prettify/r298"),P["$<<"]('<link rel="stylesheet" href="'+Z+"/"+c.$attr("prettify-theme","prettify")+'.min.css"'+E+">"),P["$<<"]('<script src="'+Z+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(d=c["$attr?"]("stem"))===b||null==d||d.$$is_boolean&&
1!=d||(E=c.$attr("eqnums","none"),(d=E["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d||(E="AMS"),E=' equationNumbers: { autoNumber: "'+E+'" } ',P["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+a.const_get(U,"INLINE_MATH_DELIMITERS",!0,!0)["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+a.const_get(U,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+
a.const_get(U,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+E+'}\n});\n\x3c/script>\n<script src="'+ua+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));P["$<<"]("</body>");P["$<<"]("</html>");return l(P,a.const_get(U,"EOL",!0,!0))},w.$$arity=1);a.defn(n,"$embedded",A=function(c){var d,e,g,f,h,k=b,n=b,v=b,k=[];if(c.$doctype()["$=="]("manpage")){if((d=c.$notitle())===b||null==d||d.$$is_boolean&&1!=d)n=
(d=c.$id())===b||null==d||d.$$is_boolean&&1!=d?b:' id="'+c.$id()+'"',k["$<<"]("<h1"+n+">"+c.$doctitle()+" Manual Page</h1>");k["$<<"]("<h2>"+c.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+c.$attr("manname")+" - "+c.$attr("manpurpose")+"</p>\n</div>")}else(d=(e=c["$has_header?"](),!1!==e&&e!==b&&null!=e?c.$notitle()["$!"]():e))===b||null==d||d.$$is_boolean&&1!=d||(n=(d=c.$id())===b||null==d||d.$$is_boolean&&1!=d?b:' id="'+c.$id()+'"',k["$<<"]("<h1"+n+">"+c.$header().$title()+"</h1>"));
if((d=(e=(g=(f=c["$sections?"](),!1!==f&&f!==b&&null!=f?c["$attr?"]("toc"):f),!1!==g&&g!==b&&null!=g?(v=c.$attr("toc-placement"))["$!="]("macro"):g),!1!==e&&e!==b&&null!=e?v["$!="]("preamble"):e))!==b&&null!=d&&(!d.$$is_boolean||1==d))k["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+c.$attr("toc-title")+"</div>\n"+this.$outline(c)+"\n</div>");k["$<<"](c.$content());(d=(e=c["$footnotes?"](),!1!==e&&e!==b&&null!=e?c["$attr?"]("nofootnotes")["$!"]():e))===b||null==d||d.$$is_boolean&&1!=d||
(k["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),q(c.$footnotes(),"each",[],(h=function(a){null==a&&(a=b);return k["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},h.$$s=this,h.$$arity=1,h)),k["$<<"]("</div>"));return l(k,a.const_get(U,"EOL",!0,!0))},A.$$arity=1);a.defn(n,"$outline",V=function(c,g){var f,h,k=b,n=b,v=b,E=b,p=b,Y=b;null==g&&(g=C([],{}));if((f=c["$sections?"]())===b||null==
f||f.$$is_boolean&&1!=f)return b;k=!1!==(f=g["$[]"]("sectnumlevels"))&&f!==b&&null!=f?f:c.$document().$attr("sectnumlevels",3).$to_i();n=!1!==(f=g["$[]"]("toclevels"))&&f!==b&&null!=f?f:c.$document().$attr("toclevels",2).$to_i();v=[];E=c.$sections();p=(Y=E["$[]"](0)).$level();(f=p["$=="](0)?Y.$special():p["$=="](0))===b||null==f||f.$$is_boolean&&1!=f||(p=1);v["$<<"]('<ul class="sectlevel'+p+'">');q(E,"each",[],(h=function(a){var c=h.$$s||this,g,f,m,r=b,l=b;null==a&&(a=b);r=(g=(f=(m=a.$numbered(),
!1!==m&&m!==b&&null!=m?a.$caption()["$!"]():m),!1!==f&&f!==b&&null!=f?e(a.$level(),k):f))===b||null==g||g.$$is_boolean&&1!=g?b:""+a.$sectnum()+" ";if((g=(f=d(a.$level(),n),!1!==f&&f!==b&&null!=f?l=c.$outline(a,C(["toclevels","secnumlevels"],{toclevels:n,secnumlevels:k})):f))===b||null==g||g.$$is_boolean&&1!=g)return v["$<<"]('<li><a href="#'+a.$id()+'">'+r+a.$captioned_title()+"</a></li>");v["$<<"]('<li><a href="#'+a.$id()+'">'+r+a.$captioned_title()+"</a>");v["$<<"](l);return v["$<<"]("</li>")},
h.$$s=this,h.$$arity=1,h));v["$<<"]("</ul>");return l(v,a.const_get(U,"EOL",!0,!0))},V.$$arity=-2);a.defn(n,"$section",W=function(a){var c,d,g,h=b,k=b,l=b,q=b,n=b,t=b,da=b,v=b,Z=da=b,v=b,h=a.$level();(c=(d=h["$=="](0))?a.$special():h["$=="](0))===b||null==c||c.$$is_boolean&&1!=c||(h=1);k="h"+f(h,1);l=q=n=t=b;(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c||(l=' id="'+(da=a.$id())+'"',(c=(v=a.$document())["$attr?"]("sectanchors"))===b||null==c||c.$$is_boolean&&1!=c||(q='<a class="anchor" href="#'+da+
'"></a>'),(c=v["$attr?"]("sectlinks"))===b||null==c||c.$$is_boolean&&1!=c||(n='<a class="link" href="#'+da+'">',t="</a>"));if(h["$=="](0))return"<h1"+l+' class="sect0">'+q+n+a.$title()+t+"</h1>\n"+a.$content();da=(c=Z=a.$role())===b||null==c||c.$$is_boolean&&1!=c?' class="sect'+h+'"':' class="sect'+h+" "+Z+'"';v=(c=(d=(g=a.$numbered(),!1!==g&&g!==b&&null!=g?a.$caption()["$!"]():g),!1!==d&&d!==b&&null!=d?e(h,a.$document().$attr("sectnumlevels",3).$to_i()):d))===b||null==c||c.$$is_boolean&&1!=c?b:""+
a.$sectnum()+" ";return"<div"+da+">\n<"+k+l+">"+q+n+v+a.$captioned_title()+t+"</"+k+">\n"+(h["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},W.$$arity=1);a.defn(n,"$admonition",Q=function(a){var c,d,e=b,g=b,f=b,h=b,k=b,e=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',g=a.$attr("name"),f=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?b:'<div class="title">'+a.$title()+"</div>\n",h=(c=a.$document()["$attr?"]("icons"))===b||null==
c||c.$$is_boolean&&1!=c?'<div class="title">'+a.$caption()+"</div>":(c=(d=a.$document()["$attr?"]("icons","font"),!1!==d&&d!==b&&null!=d?a["$attr?"]("icon")["$!"]():d))===b||null==c||c.$$is_boolean&&1!=c?'<img src="'+a.$icon_uri(g)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+g+'" title="'+a.$caption()+'"></i>';return"<div"+e+' class="admonitionblock '+g+(c=k=a.$role(),!1!==c&&c!==b&&null!=c?" "+k:c)+'">\n<table>\n<tr>\n<td class="icon">\n'+h+'\n</td>\n<td class="content">\n'+
f+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},Q.$$arity=1);a.defn(n,"$audio",G=function(a){var c,d=b,e=b,g=b,f=g=b,d=this.xml_mode,e=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',g=["audioblock",a.$role()].$compact(),g=' class="'+l(g," ")+'"',f=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?b:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+e+g+">\n"+f+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((c=a["$option?"]("autoplay"))===
b||null==c||c.$$is_boolean&&1!=c?b:this.$append_boolean_attribute("autoplay",d))+((c=a["$option?"]("nocontrols"))===b||null==c||c.$$is_boolean&&1!=c?this.$append_boolean_attribute("controls",d):b)+((c=a["$option?"]("loop"))===b||null==c||c.$$is_boolean&&1!=c?b:this.$append_boolean_attribute("loop",d))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},G.$$arity=1);a.defn(n,"$colist",O=function(c){var d,e,g,h=b,k=b,n=b,v=n=b,h=[],k=(d=c.$id())===b||null==d||d.$$is_boolean&&
1!=d?b:' id="'+c.$id()+'"',n=["colist",c.$style(),c.$role()].$compact(),n=' class="'+l(n," ")+'"';h["$<<"]("<div"+k+n+">");if((d=c["$title?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))h["$<<"]('<div class="title">'+c.$title()+"</div>");(d=c.$document()["$attr?"]("icons"))===b||null==d||d.$$is_boolean&&1!=d?(h["$<<"]("<ol>"),q(c.$items(),"each",[],(g=function(a){null==a&&(a=b);return h["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},g.$$s=this,g.$$arity=1,g)),h["$<<"]("</ol>")):(h["$<<"]("<table>"),v=
c.$document()["$attr?"]("icons","font"),q(c.$items(),"each_with_index",[],(e=function(a,d){var g=e.$$s||this,m=b,m=b;null==g.void_element_slash&&(g.void_element_slash=b);null==a&&(a=b);null==d&&(d=b);m=f(d,1);m=!1!==v&&v!==b&&null!=v?'<i class="conum" data-value="'+m+'"></i><b>'+m+"</b>":'<img src="'+c.$icon_uri("callouts/"+m)+'" alt="'+m+'"'+g.void_element_slash+">";return h["$<<"]("<tr>\n<td>"+m+"</td>\n<td>"+a.$text()+"</td>\n</tr>")},e.$$s=this,e.$$arity=2,e)),h["$<<"]("</table>"));h["$<<"]("</div>");
return l(h,a.const_get(U,"EOL",!0,!0))},O.$$arity=1);a.defn(n,"$dlist",F=function(c){var d,e,g,f,h,k=b,n=b,v=b,E=v=v=b,da=n=b,k=[],n=(d=c.$id())===b||null==d||d.$$is_boolean&&1!=d?b:' id="'+c.$id()+'"',v=c.$style(),v=("qanda"["$==="](v)?["qlist","qanda",c.$role()]:"horizontal"["$==="](v)?["hdlist",c.$role()]:["dlist",c.$style(),c.$role()]).$compact(),v=' class="'+l(v," ")+'"';k["$<<"]("<div"+n+v+">");if((d=c["$title?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))k["$<<"]('<div class="title">'+c.$title()+
"</div>");v=c.$style();"qanda"["$==="](v)?(k["$<<"]("<ol>"),q(c.$items(),"each",[],(e=function(c,d){var g=e.$$s||this,f,m;null==c&&(c=b);null==d&&(d=b);k["$<<"]("<li>");q([].concat(a.to_a(c)),"each",[],(f=function(a){null==a&&(a=b);return k["$<<"]("<p><em>"+a.$text()+"</em></p>")},f.$$s=g,f.$$arity=1,f));if(!1!==d&&d!==b&&null!=d){if((m=d["$text?"]())!==b&&null!=m&&(!m.$$is_boolean||1==m))k["$<<"]("<p>"+d.$text()+"</p>");if((m=d["$blocks?"]())!==b&&null!=m&&(!m.$$is_boolean||1==m))k["$<<"](d.$content())}return k["$<<"]("</li>")},
e.$$s=this,e.$$arity=2,e)),k["$<<"]("</ol>")):"horizontal"["$==="](v)?(E=this.void_element_slash,k["$<<"]("<table>"),(d=!1!==(g=c["$attr?"]("labelwidth"))&&g!==b&&null!=g?g:c["$attr?"]("itemwidth"))===b||null==d||d.$$is_boolean&&1!=d||(k["$<<"]("<colgroup>"),n=(d=c["$attr?"]("labelwidth"))===b||null==d||d.$$is_boolean&&1!=d?b:' style="width: '+c.$attr("labelwidth").$chomp("%")+'%;"',k["$<<"]("<col"+n+E+">"),n=(d=c["$attr?"]("itemwidth"))===b||null==d||d.$$is_boolean&&1!=d?b:' style="width: '+c.$attr("itemwidth").$chomp("%")+
'%;"',k["$<<"]("<col"+n+E+">"),k["$<<"]("</colgroup>")),q(c.$items(),"each",[],(f=function(d,e){var g=f.$$s||this,m,h,l=b,n=b;null==d&&(d=b);null==e&&(e=b);k["$<<"]("<tr>");k["$<<"]('<td class="hdlist1'+((m=c["$option?"]("strong"))===b||null==m||m.$$is_boolean&&1!=m?b:" strong")+'">');l=[].concat(a.to_a(d));n=l["$[]"](-1);q(l,"each",[],(h=function(a){var c;null==a&&(a=b);k["$<<"](a.$text());return(c=a["$!="](n))===b||null==c||c.$$is_boolean&&1!=c?b:k["$<<"]("<br"+E+">")},h.$$s=g,h.$$arity=1,h));k["$<<"]("</td>");
k["$<<"]('<td class="hdlist2">');if(!1!==e&&e!==b&&null!=e){if((m=e["$text?"]())!==b&&null!=m&&(!m.$$is_boolean||1==m))k["$<<"]("<p>"+e.$text()+"</p>");if((m=e["$blocks?"]())!==b&&null!=m&&(!m.$$is_boolean||1==m))k["$<<"](e.$content())}k["$<<"]("</td>");return k["$<<"]("</tr>")},f.$$s=this,f.$$arity=2,f)),k["$<<"]("</table>")):(k["$<<"]("<dl>"),da=(d=c.$style())===b||null==d||d.$$is_boolean&&1!=d?' class="hdlist1"':b,q(c.$items(),"each",[],(h=function(c,d){var e=h.$$s||this,g,f;null==c&&(c=b);null==
d&&(d=b);q([].concat(a.to_a(c)),"each",[],(g=function(a){null==a&&(a=b);return k["$<<"]("<dt"+da+">"+a.$text()+"</dt>")},g.$$s=e,g.$$arity=1,g));if(!1!==d&&d!==b&&null!=d){k["$<<"]("<dd>");if((f=d["$text?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f))k["$<<"]("<p>"+d.$text()+"</p>");if((f=d["$blocks?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f))k["$<<"](d.$content());return k["$<<"]("</dd>")}return b},h.$$s=this,h.$$arity=2,h)),k["$<<"]("</dl>"));k["$<<"]("</div>");return l(k,a.const_get(U,"EOL",!0,!0))},
F.$$arity=1);a.defn(n,"$example",L=function(a){var c,d=b,e=b,g=b,d=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',e=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?b:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+d+' class="'+((c=g=a.$role())===b||null==c||c.$$is_boolean&&1!=c?"exampleblock":l(["exampleblock",g]," "))+'">\n'+e+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},L.$$arity=1);a.defn(n,"$floating_title",D=function(a){var c,d=b,e=
b,g=b,d="h"+f(a.$level(),1),e=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',g=[a.$style(),a.$role()].$compact();return"<"+d+e+' class="'+l(g," ")+'">'+a.$title()+"</"+d+">"},D.$$arity=1);a.defn(n,"$image",ba=function(c){var e,g,f,h,k=b,n=b,q=b,v=b,E=b,da=b,p=b,Z=b,p=q=q=n=n=k=b,k=c.$attr("target"),n=(e=c["$attr?"]("width"))===b||null==e||e.$$is_boolean&&1!=e?b:' width="'+c.$attr("width")+'"',q=(e=c["$attr?"]("height"))===b||null==e||e.$$is_boolean&&1!=e?b:' height="'+c.$attr("height")+
'"';(e=(g=(f=!1!==(h=c["$attr?"]("format","svg",!1))&&h!==b&&null!=h?h:k["$include?"](".svg"),!1!==f&&f!==b&&null!=f?d(c.$document().$safe(),a.const_get([a.const_get(U,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):f),!1!==g&&g!==b&&null!=g?!1!==(f=v=c["$option?"]("inline"))&&f!==b&&null!=f?f:E=c["$option?"]("interactive"):g))===b||null==e||e.$$is_boolean&&1!=e||(!1!==v&&v!==b&&null!=v?da=!1!==(e=this.$read_svg_contents(c,k))&&e!==b&&null!=e?e:'<span class="alt">'+c.$attr("alt")+"</span>":!1!==E&&E!==
b&&null!=E&&(p=(e=c["$attr?"]("fallback"))===b||null==e||e.$$is_boolean&&1!=e?'<span class="alt">'+c.$attr("alt")+"</span>":'<img src="'+c.$image_uri(c.$attr("fallback"))+'" alt="'+c.$attr("alt")+'"'+n+q+this.void_element_slash+">",da='<object type="image/svg+xml" data="'+c.$image_uri(k)+'"'+n+q+">"+p+"</object>"));!1!==(e=da)&&e!==b&&null!=e?e:da='<img src="'+c.$image_uri(k)+'" alt="'+c.$attr("alt")+'"'+n+q+this.void_element_slash+">";(e=Z=c.$attr("link"))===b||null==e||e.$$is_boolean&&1!=e||(da=
'<a class="image" href="'+Z+'">'+da+"</a>");k=(e=c.$id())===b||null==e||e.$$is_boolean&&1!=e?b:' id="'+c.$id()+'"';n=["imageblock",c.$role()].$compact();n=' class="'+l(n," ")+'"';q=[];if((e=c["$attr?"]("align"))!==b&&null!=e&&(!e.$$is_boolean||1==e))q["$<<"]("text-align: "+c.$attr("align"));if((e=c["$attr?"]("float"))!==b&&null!=e&&(!e.$$is_boolean||1==e))q["$<<"]("float: "+c.$attr("float"));q=(e=q["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e?' style="'+l(q,";")+'"':b;p=(e=c["$title?"]())===b||
null==e||e.$$is_boolean&&1!=e?b:'\n<div class="title">'+c.$captioned_title()+"</div>";return"<div"+k+n+q+'>\n<div class="content">\n'+da+"\n</div>"+p+"\n</div>"},ba.$$arity=1);a.defn(n,"$listing",B=function(a){var c,d=b,e=b,g=b,f=b,h=f=d=g=d=b,k=b,d=!1!==(c=a.$document()["$attr?"]("prewrap")["$!"]())&&c!==b&&null!=c?c:a["$option?"]("nowrap");a.$style()["$=="]("source")?(g=(c=e=a.$attr("language",b,!1))===b||null==c||c.$$is_boolean&&1!=c?b:' data-lang="'+e+'"',f=a.$document().$attr("source-highlighter"),
"coderay"["$==="](f)?d=' class="CodeRay highlight'+(!1!==d&&d!==b&&null!=d?" nowrap":b)+'"':"pygments"["$==="](f)?d=' class="pygments highlight'+(!1!==d&&d!==b&&null!=d?" nowrap":b)+'"':"highlightjs"["$==="](f)||"highlight.js"["$==="](f)?(d=' class="highlightjs highlight'+(!1!==d&&d!==b&&null!=d?" nowrap":b)+'"',!1!==e&&e!==b&&null!=e&&(g=' class="language-'+e+'"'+g)):"prettify"["$==="](f)?(d=' class="prettyprint highlight'+(!1!==d&&d!==b&&null!=d?" nowrap":b)+((c=a["$attr?"]("linenums"))===b||null==
c||c.$$is_boolean&&1!=c?b:" linenums")+'"',!1!==e&&e!==b&&null!=e&&(g=' class="language-'+e+'"'+g)):"html-pipeline"["$==="](f)?(d=!1!==e&&e!==b&&null!=e?' lang="'+e+'"':b,g=b):(d=' class="highlight'+(!1!==d&&d!==b&&null!=d?" nowrap":b)+'"',!1!==e&&e!==b&&null!=e&&(g=' class="language-'+e+'"'+g)),g="<pre"+d+"><code"+g+">",d="</code></pre>"):(g="<pre"+(!1!==d&&d!==b&&null!=d?' class="nowrap"':b)+">",d="</pre>");f=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"';h=(c=a["$title?"]())===
b||null==c||c.$$is_boolean&&1!=c?b:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+f+' class="listingblock'+(c=k=a.$role(),!1!==c&&c!==b&&null!=c?" "+k:c)+'">\n'+h+'<div class="content">\n'+g+a.$content()+d+"\n</div>\n</div>"},B.$$arity=1);a.defn(n,"$literal",R=function(a){var c,d=b,e=b,g=b,f=b,d=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',e=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?b:'<div class="title">'+a.$title()+"</div>\n",g=!1!==(c=a.$document()["$attr?"]("prewrap")["$!"]())&&
c!==b&&null!=c?c:a["$option?"]("nowrap");return"<div"+d+' class="literalblock'+(c=f=a.$role(),!1!==c&&c!==b&&null!=c?" "+f:c)+'">\n'+e+'<div class="content">\n<pre'+(!1!==g&&g!==b&&null!=g?' class="nowrap"':b)+">"+a.$content()+"</pre>\n</div>\n</div>"},R.$$arity=1);a.defn(n,"$stem",pa=function(c){var d,e,g=b,f=b,h=b,k=b,q=b,n=b,g=(d=c.$id())===b||null==d||d.$$is_boolean&&1!=d?b:' id="'+c.$id()+'"',f=(d=c["$title?"]())===b||null==d||d.$$is_boolean&&1!=d?b:'<div class="title">'+c.$title()+"</div>\n";
e=a.const_get(U,"BLOCK_MATH_DELIMITERS",!0,!0)["$[]"](c.$style().$to_sym());d=a.to_ary(e);h=null==d[0]?b:d[0];k=null==d[1]?b:d[1];e;if((d=(e=(q=c.$content())["$start_with?"](h),!1!==e&&e!==b&&null!=e?q["$end_with?"](k):e))===b||null==d||d.$$is_boolean&&1!=d)q=""+h+q+k;return"<div"+g+' class="'+((d=n=c.$role())===b||null==d||d.$$is_boolean&&1!=d?"stemblock":l(["stemblock",n]," "))+'">\n'+f+'<div class="content">\n'+q+"\n</div>\n</div>"},pa.$$arity=1);a.defn(n,"$olist",ja=function(c){var d,e,g=b,f=
b,h=b,k=f=h=b,n=h=b,g=[],f=(d=c.$id())===b||null==d||d.$$is_boolean&&1!=d?b:' id="'+c.$id()+'"',h=["olist",c.$style(),c.$role()].$compact(),h=' class="'+l(h," ")+'"';g["$<<"]("<div"+f+h+">");if((d=c["$title?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))g["$<<"]('<div class="title">'+c.$title()+"</div>");f=(d=k=c.$list_marker_keyword())===b||null==d||d.$$is_boolean&&1!=d?b:' type="'+k+'"';h=(d=c["$attr?"]("start"))===b||null==d||d.$$is_boolean&&1!=d?b:' start="'+c.$attr("start")+'"';n=(d=c["$option?"]("reversed"))===
b||null==d||d.$$is_boolean&&1!=d?b:this.$append_boolean_attribute("reversed",this.xml_mode);g["$<<"]('<ol class="'+c.$style()+'"'+f+h+n+">");q(c.$items(),"each",[],(e=function(a){var c;null==a&&(a=b);g["$<<"]("<li>");g["$<<"]("<p>"+a.$text()+"</p>");if((c=a["$blocks?"]())!==b&&null!=c&&(!c.$$is_boolean||1==c))g["$<<"](a.$content());return g["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e));g["$<<"]("</ol>");g["$<<"]("</div>");return l(g,a.const_get(U,"EOL",!0,!0))},ja.$$arity=1);a.defn(n,"$open",K=function(a){var c,
d,e,g=b,f=b,h=b,l=b;if((g=a.$style())["$=="]("abstract")){if((c=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===b||null==c||c.$$is_boolean&&1!=c)return f=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',h=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?b:'<div class="title">'+a.$title()+"</div>\n","<div"+f+' class="quoteblock abstract'+(c=l=a.$role(),!1!==c&&c!==b&&null!=c?" "+l:c)+'">\n'+h+"<blockquote>\n"+a.$content()+
"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((c=g["$=="]("partintro")?!1!==(d=!1!==(e=k(a.$level(),0))&&e!==b&&null!=e?e:a.$parent().$context()["$!="]("section"))&&d!==b&&null!=d?d:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro"))===b||null==c||c.$$is_boolean&&1!=c)return f=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',h=(c=a["$title?"]())===
b||null==c||c.$$is_boolean&&1!=c?b:'<div class="title">'+a.$title()+"</div>\n","<div"+f+' class="openblock'+((c=!1!==g&&g!==b&&null!=g?g["$!="]("open"):g)===b||null==c||c.$$is_boolean&&1!=c?"":" "+g)+(c=l=a.$role(),!1!==c&&c!==b&&null!=c?" "+l:c)+'">\n'+h+'<div class="content">\n'+a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");return""},K.$$arity=1);a.defn(n,"$page_break",
ga=function(a){return'<div style="page-break-after: always;"></div>'},ga.$$arity=1);a.defn(n,"$paragraph",ha=function(a){var c,d=b,d=b,d=(c=a.$role())===b||null==c||c.$$is_boolean&&1!=c?'class="paragraph"':'class="paragraph '+a.$role()+'"',d=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?d:'id="'+a.$id()+'" '+d;return(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?"<div "+d+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+d+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>"},
ha.$$arity=1);a.defn(n,"$preamble",X=function(a){var c,d,e,g=b,f=b,f=(c=(d=(e=(g=a.$document())["$attr?"]("toc-placement","preamble"),!1!==e&&e!==b&&null!=e?g["$sections?"]():e),!1!==d&&d!==b&&null!=d?g["$attr?"]("toc"):d))===b||null==c||c.$$is_boolean&&1!=c?b:'\n<div id="toc" class="'+g.$attr("toc-class","toc")+'">\n<div id="toctitle">'+g.$attr("toc-title")+"</div>\n"+this.$outline(g)+"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+f+"\n</div>"},X.$$arity=
1);a.defn(n,"$quote",ma=function(a){var c,d,e=b,g=b,f=g=b,h=b,k=b,q=b,q=h=b,e=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',g=["quoteblock",a.$role()].$compact(),g=' class="'+l(g," ")+'"',f=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?b:'\n<div class="title">'+a.$title()+"</div>",h=(c=a["$attr?"]("attribution"))===b||null==c||c.$$is_boolean&&1!=c?b:a.$attr("attribution"),k=(c=a["$attr?"]("citetitle"))===b||null==c||c.$$is_boolean&&1!=c?b:a.$attr("citetitle");(c=!1!==
(d=h)&&d!==b&&null!=d?d:k)===b||null==c||c.$$is_boolean&&1!=c?q=b:(q=!1!==k&&k!==b&&null!=k?"<cite>"+k+"</cite>":b,h=!1!==h&&h!==b&&null!=h?"&#8212; "+h+(!1!==k&&k!==b&&null!=k?"<br"+this.void_element_slash+">\n":b):b,q='\n<div class="attribution">\n'+h+q+"\n</div>");return"<div"+e+g+">"+f+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+q+"\n</div>"},ma.$$arity=1);a.defn(n,"$thematic_break",ka=function(a){return"<hr"+this.void_element_slash+">"},ka.$$arity=1);a.defn(n,"$sidebar",sa=function(a){var c,
d=b,e=b,g=b,d=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',e=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?b:'<div class="title">'+a.$title()+"</div>\n";return"<div"+d+' class="'+((c=g=a.$role())===b||null==c||c.$$is_boolean&&1!=c?"sidebarblock":l(["sidebarblock",g]," "))+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},sa.$$arity=1);a.defn(n,"$table",wa=function(c){var d,e,g,f,h,n,v=b,E=b,p=b,da=b,ua=b,Z=da=p=b,I=b,v=[],E=(d=c.$id())===b||null==d||
d.$$is_boolean&&1!=d?b:' id="'+c.$id()+'"',p=["tableblock","frame-"+c.$attr("frame","all"),"grid-"+c.$attr("grid","all")],da=[];if((d=(e=c["$option?"]("autowidth"),!1!==e&&e!==b&&null!=e?c["$attr?"]("width",b,!1)["$!"]():e))===b||null==d||d.$$is_boolean&&1!=d)if((d=c["$attr?"]("tablepcwidth",100))===b||null==d||d.$$is_boolean&&1!=d)da["$<<"]("width: "+c.$attr("tablepcwidth")+"%;");else p["$<<"]("spread");if((d=ua=c.$role())!==b&&null!=d&&(!d.$$is_boolean||1==d))p["$<<"](ua);p=' class="'+l(p," ")+
'"';if((d=c["$attr?"]("float"))!==b&&null!=d&&(!d.$$is_boolean||1==d))da["$<<"]("float: "+c.$attr("float")+";");da=(d=da["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?' style="'+l(da," ")+'"':b;v["$<<"]("<table"+E+p+da+">");if((d=c["$title?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))v["$<<"]('<caption class="title">'+c.$captioned_title()+"</caption>");(d=k(c.$attr("rowcount"),0))===b||null==d||d.$$is_boolean&&1!=d||(Z=this.void_element_slash,v["$<<"]("<colgroup>"),(d=c["$option?"]("autowidth"))===
b||null==d||d.$$is_boolean&&1!=d?q(c.$columns(),"each",[],(f=function(a){null==a&&(a=b);return v["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+Z+">")},f.$$s=this,f.$$arity=1,f)):(I="<col"+Z+">",q(c.$columns().$size(),"times",[],(g=function(){return v["$<<"](I)},g.$$s=this,g.$$arity=0,g))),v["$<<"]("</colgroup>"),q(q(["head","foot","body"],"select",[],(h=function(a){null==a&&(a=b);return c.$rows()["$[]"](a)["$empty?"]()["$!"]()},h.$$s=this,h.$$arity=1,h)),"each",[],(n=function(a){var d=
n.$$s||this,e;null==a&&(a=b);v["$<<"]("<t"+a+">");q(c.$rows()["$[]"](a),"each",[],(e=function(d){var g=e.$$s||this,f;null==d&&(d=b);v["$<<"]("<tr>");q(d,"each",[],(f=function(d){var e=f.$$s||this,g,m,h,k=b,l=b,n=l=b,I=b,t=b,Z=b;null==d&&(d=b);a["$=="]("head")?k=d.$text():(l=d.$style(),"asciidoc"["$==="](l)?k="<div>"+d.$content()+"</div>":"verse"["$==="](l)?k='<div class="verse">'+d.$text()+"</div>":"literal"["$==="](l)?k='<div class="literal"><pre>'+d.$text()+"</pre></div>":(k="",q(d.$content(),"each",
[],(g=function(a){null==a&&(a=b);return k=""+k+'<p class="tableblock">'+a+"</p>"},g.$$s=e,g.$$arity=1,g))));l=(m=!1!==(h=a["$=="]("head"))&&h!==b&&null!=h?h:d.$style()["$=="]("header"))===b||null==m||m.$$is_boolean&&1!=m?"td":"th";n=' class="tableblock halign-'+d.$attr("halign")+" valign-"+d.$attr("valign")+'"';I=(m=d.$colspan())===b||null==m||m.$$is_boolean&&1!=m?b:' colspan="'+d.$colspan()+'"';t=(m=d.$rowspan())===b||null==m||m.$$is_boolean&&1!=m?b:' rowspan="'+d.$rowspan()+'"';Z=(m=c.$document()["$attr?"]("cellbgcolor"))===
b||null==m||m.$$is_boolean&&1!=m?b:' style="background-color: '+c.$document().$attr("cellbgcolor")+';"';return v["$<<"]("<"+l+n+I+t+Z+">"+k+"</"+l+">")},f.$$s=g,f.$$arity=1,f));return v["$<<"]("</tr>")},e.$$s=d,e.$$arity=1,e));return v["$<<"]("</t"+a+">")},n.$$s=this,n.$$arity=1,n)));v["$<<"]("</table>");return l(v,a.const_get(U,"EOL",!0,!0))},wa.$$arity=1);a.defn(n,"$toc",xa=function(a){var c,d,e,g=b,f=b,h=b,k=b,l=b,n=b;if((c=(d=(e=(g=a.$document())["$attr?"]("toc-placement","macro"),!1!==e&&e!==
b&&null!=e?g["$sections?"]():e),!1!==d&&d!==b&&null!=d?g["$attr?"]("toc"):d))===b||null==c||c.$$is_boolean&&1!=c)return"\x3c!-- toc disabled --\x3e";(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?(f=' id="toc"',h=' id="toctitle"'):(f=' id="'+a.$id()+'"',h=' id="'+a.$id()+'title"');k=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?g.$attr("toc-title"):a.$title();l=(c=a["$attr?"]("levels"))===b||null==c||c.$$is_boolean&&1!=c?b:a.$attr("levels").$to_i();n=(c=a["$role?"]())===b||null==c||c.$$is_boolean&&
1!=c?g.$attr("toc-class","toc"):a.$role();return"<div"+f+' class="'+n+'">\n<div'+h+' class="title">'+k+"</div>\n"+this.$outline(g,C(["toclevels"],{toclevels:l}))+"\n</div>"},xa.$$arity=1);a.defn(n,"$ulist",ra=function(c){var d,e,g=b,f=b,h=b,k=b,n=b,v=b,E=b,g=[],f=(d=c.$id())===b||null==d||d.$$is_boolean&&1!=d?b:' id="'+c.$id()+'"',h=["ulist",c.$style(),c.$role()].$compact(),n=k=b;(d=v=c["$option?"]("checklist"))===b||null==d||d.$$is_boolean&&1!=d?E=(d=c.$style())===b||null==d||d.$$is_boolean&&1!=
d?b:' class="'+c.$style()+'"':(h.$insert(1,"checklist"),E=' class="checklist"',(d=c["$option?"]("interactive"))===b||null==d||d.$$is_boolean&&1!=d?(d=c.$document()["$attr?"]("icons","font"))===b||null==d||d.$$is_boolean&&1!=d?(k="&#10003; ",n="&#10063; "):(k='<i class="fa fa-check-square-o"></i> ',n='<i class="fa fa-square-o"></i> '):(d=this.xml_mode)===b||null==d||d.$$is_boolean&&1!=d?(k='<input type="checkbox" data-item-complete="1" checked> ',n='<input type="checkbox" data-item-complete="0"> '):
(k='<input type="checkbox" data-item-complete="1" checked="checked"/> ',n='<input type="checkbox" data-item-complete="0"/> '));g["$<<"]("<div"+f+' class="'+l(h," ")+'">');if((d=c["$title?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d))g["$<<"]('<div class="title">'+c.$title()+"</div>");g["$<<"]("<ul"+E+">");q(c.$items(),"each",[],(e=function(a){var c;null==a&&(a=b);g["$<<"]("<li>");if((c=!1!==v&&v!==b&&null!=v?a["$attr?"]("checkbox"):v)===b||null==c||c.$$is_boolean&&1!=c)g["$<<"]("<p>"+a.$text()+"</p>");
else g["$<<"]("<p>"+((c=a["$attr?"]("checked"))===b||null==c||c.$$is_boolean&&1!=c?n:k)+a.$text()+"</p>");if((c=a["$blocks?"]())!==b&&null!=c&&(!c.$$is_boolean||1==c))g["$<<"](a.$content());return g["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e));g["$<<"]("</ul>");g["$<<"]("</div>");return l(g,a.const_get(U,"EOL",!0,!0))},ra.$$arity=1);a.defn(n,"$verse",va=function(a){var c,d,e=b,g=b,f=g=b,h=b,k=b,n=b,n=h=b,e=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="'+a.$id()+'"',g=["verseblock",a.$role()].$compact(),
g=' class="'+l(g," ")+'"',f=(c=a["$title?"]())===b||null==c||c.$$is_boolean&&1!=c?b:'\n<div class="title">'+a.$title()+"</div>",h=(c=a["$attr?"]("attribution"))===b||null==c||c.$$is_boolean&&1!=c?b:a.$attr("attribution"),k=(c=a["$attr?"]("citetitle"))===b||null==c||c.$$is_boolean&&1!=c?b:a.$attr("citetitle");(c=!1!==(d=h)&&d!==b&&null!=d?d:k)===b||null==c||c.$$is_boolean&&1!=c?n=b:(n=!1!==k&&k!==b&&null!=k?"<cite>"+k+"</cite>":b,h=!1!==h&&h!==b&&null!=h?"&#8212; "+h+(!1!==k&&k!==b&&null!=k?"<br"+
this.void_element_slash+">\n":b):b,n='\n<div class="attribution">\n'+h+n+"\n</div>");return"<div"+e+g+">"+f+'\n<pre class="content">'+a.$content()+"</pre>"+n+"\n</div>"},va.$$arity=1);a.defn(n,"$video",oa=function(c){var d,e,g=this,f=b,h=b,k=b,n=b,q=b,v=b,da=b,E=b,Z=b,I=b,N=b,T=b,p=b,Y=b,x=b,S=b,D=b,u=b,A=b,C=b,F=b,L=b,ta=b,aa=b,V=b,X=b,G=b,Q=b,O=b,H=b,ba=b,f=g.xml_mode,h=(d=c.$id())===b||null==d||d.$$is_boolean&&1!=d?b:' id="'+c.$id()+'"',k=["videoblock",c.$role()].$compact(),n=' class="'+l(k," ")+
'"',q=(d=c["$title?"]())===b||null==d||d.$$is_boolean&&1!=d?b:'\n<div class="title">'+c.$captioned_title()+"</div>",v=(d=c["$attr?"]("width"))===b||null==d||d.$$is_boolean&&1!=d?b:' width="'+c.$attr("width")+'"',da=(d=c["$attr?"]("height"))===b||null==d||d.$$is_boolean&&1!=d?b:' height="'+c.$attr("height")+'"';return function(){E=c.$attr("poster");if("vimeo"["$==="](E)){if((d=(Z=c.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d)Z=""+Z+":";I=(d=c["$attr?"]("start",
b,!1))===b||null==d||d.$$is_boolean&&1!=d?b:"#at="+c.$attr("start");N="?";T=(d=c["$option?"]("autoplay"))===b||null==d||d.$$is_boolean&&1!=d?b:""+N+"autoplay=1";!1!==T&&T!==b&&null!=T&&(N="&amp;");p=(d=c["$option?"]("loop"))===b||null==d||d.$$is_boolean&&1!=d?b:""+N+"loop=1";return"<div"+h+n+">"+q+'\n<div class="content">\n<iframe'+v+da+' src="'+Z+"//player.vimeo.com/video/"+c.$attr("target")+I+T+p+'" frameborder="0"'+((d=c["$option?"]("nofullscreen"))===b||null==d||d.$$is_boolean&&1!=d?g.$append_boolean_attribute("allowfullscreen",
f):b)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](E)){if((d=(Z=c.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d)Z=""+Z+":";Y=(d=c["$option?"]("related"))===b||null==d||d.$$is_boolean&&1!=d?0:1;x=(d=c["$attr?"]("start",b,!1))===b||null==d||d.$$is_boolean&&1!=d?b:"&amp;start="+c.$attr("start");S=(d=c["$attr?"]("end",b,!1))===b||null==d||d.$$is_boolean&&1!=d?b:"&amp;end="+c.$attr("end");T=(d=c["$option?"]("autoplay"))===b||null==d||d.$$is_boolean&&
1!=d?b:"&amp;autoplay=1";p=(d=c["$option?"]("loop"))===b||null==d||d.$$is_boolean&&1!=d?b:"&amp;loop=1";D=(d=c["$option?"]("nocontrols"))===b||null==d||d.$$is_boolean&&1!=d?b:"&amp;controls=0";(d=c["$option?"]("nofullscreen"))===b||null==d||d.$$is_boolean&&1!=d?(u=b,A=g.$append_boolean_attribute("allowfullscreen",f)):(u="&amp;fs=0",A=b);C=(d=c["$option?"]("modest"))===b||null==d||d.$$is_boolean&&1!=d?b:"&amp;modestbranding=1";F=(d=c["$attr?"]("theme",b,!1))===b||null==d||d.$$is_boolean&&1!=d?b:"&amp;theme="+
c.$attr("theme");L=(d=c["$attr?"]("lang"))===b||null==d||d.$$is_boolean&&1!=d?b:"&amp;hl="+c.$attr("lang");e=c.$attr("target").$split("/",2);d=a.to_ary(e);ta=null==d[0]?b:d[0];aa=null==d[1]?b:d[1];e;(d=!1!==(e=aa)&&e!==b&&null!=e?e:aa=c.$attr("list",b,!1))===b||null==d||d.$$is_boolean&&1!=d?(e=ta.$split(",",2),d=a.to_ary(e),ta=null==d[0]?b:d[0],X=null==d[1]?b:d[1],e,V=(d=!1!==(e=X)&&e!==b&&null!=e?e:X=c.$attr("playlist",b,!1))===b||null==d||d.$$is_boolean&&1!=d?!1!==p&&p!==b&&null!=p?"&amp;playlist="+
ta:b:"&amp;playlist="+X):V="&amp;list="+aa;return"<div"+h+n+">"+q+'\n<div class="content">\n<iframe'+v+da+' src="'+Z+"//www.youtube.com/embed/"+ta+"?rel="+Y+x+S+T+p+D+V+u+C+F+L+'" frameborder="0"'+A+"></iframe>\n</div>\n</div>"}G=(d=(""+(Q=c.$attr("poster")))["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?' poster="'+c.$media_uri(Q)+'"':b;O=c.$attr("start",b,!1);H=c.$attr("end",b,!1);ba=(d=!1!==(e=O)&&e!==b&&null!=e?e:H)===b||null==d||d.$$is_boolean&&1!=d?b:"#t="+O+(!1!==H&&H!==b&&null!=H?",":b)+
H;return"<div"+h+n+">"+q+'\n<div class="content">\n<video src="'+c.$media_uri(c.$attr("target"))+ba+'"'+v+da+G+((d=c["$option?"]("autoplay"))===b||null==d||d.$$is_boolean&&1!=d?b:g.$append_boolean_attribute("autoplay",f))+((d=c["$option?"]("nocontrols"))===b||null==d||d.$$is_boolean&&1!=d?g.$append_boolean_attribute("controls",f):b)+((d=c["$option?"]("loop"))===b||null==d||d.$$is_boolean&&1!=d?b:g.$append_boolean_attribute("loop",f))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},
oa.$$arity=1);a.defn(n,"$inline_anchor",ta=function(a){var c,d,e=this,g=b,f=b,h=b,k=b,l=b,n=b,g=a.$target();return function(){f=a.$type();if("xref"["$==="](f))return h=!1!==(c=a.$attributes()["$[]"]("refid"))&&c!==b&&null!=c?c:g,k=!1!==(c=a.$text())&&c!==b&&null!=c?c:!1!==(d=a.$document().$references()["$[]"]("ids")["$[]"](h))&&d!==b&&null!=d?d:"["+h+"]",'<a href="'+g+'">'+k+"</a>";if("ref"["$==="](f))return'<a id="'+g+'"></a>';if("link"["$==="](f)){l=[];if((c=a.$id())!==b&&null!=c&&(!c.$$is_boolean||
1==c))l["$<<"](' id="'+a.$id()+'"');if((c=n=a.$role())!==b&&null!=c&&(!c.$$is_boolean||1==c))l["$<<"](' class="'+n+'"');if((c=a["$attr?"]("title",b,!1))!==b&&null!=c&&(!c.$$is_boolean||1==c))l["$<<"](' title="'+a.$attr("title")+'"');if((c=a["$attr?"]("window",b,!1))!==b&&null!=c&&(!c.$$is_boolean||1==c))l["$<<"](' target="'+a.$attr("window")+'"');return'<a href="'+g+'"'+l.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](f)?'<a id="'+g+'"></a>['+g+"]":e.$warn("asciidoctor: WARNING: unknown anchor type: "+
a.$type().$inspect())}()},ta.$$arity=1);a.defn(n,"$inline_break",E=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},E.$$arity=1);a.defn(n,"$inline_button",S=function(a){return'<b class="button">'+a.$text()+"</b>"},S.$$arity=1);a.defn(n,"$inline_callout",Y=function(a){var c,d=b;if((c=a.$document()["$attr?"]("icons","font"))===b||null==c||c.$$is_boolean&&1!=c){if((c=a.$document()["$attr?"]("icons"))===b||null==c||c.$$is_boolean&&1!=c)return'<b class="conum">('+a.$text()+")</b>";d=a.$icon_uri("callouts/"+
a.$text());return'<img src="'+d+'" alt="'+a.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>"},Y.$$arity=1);a.defn(n,"$inline_footnote",aa=function(a){var c,d=b,e=b;if((c=d=a.$attr("index"))===b||null==c||c.$$is_boolean&&1!=c)return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":b;if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+
d+'" title="View footnote.">'+d+"</a>]</sup>";e=(c=a.$id())===b||null==c||c.$$is_boolean&&1!=c?b:' id="_footnote_'+a.$id()+'"';return'<sup class="footnote"'+e+'>[<a id="_footnoteref_'+d+'" class="footnote" href="#_footnote_'+d+'" title="View footnote.">'+d+"</a>]</sup>"},aa.$$arity=1);a.defn(n,"$inline_image",ya=function(c){var e,g,f,h,k,l,n,t=b,v=b,da=b,E=da=b,Z=b,I=b,N=b,T=E=g=b,t=b;(e=(g=(t=c.$type())["$=="]("icon"))?c.$document()["$attr?"]("icons","font"):(t=c.$type())["$=="]("icon"))===b||null==
e||e.$$is_boolean&&1!=e?(e=(g=t["$=="]("icon"))?c.$document()["$attr?"]("icons")["$!"]():t["$=="]("icon"))===b||null==e||e.$$is_boolean&&1!=e?(E=c.$target(),Z=q(["width","height","title"],"map",[],(h=function(a){var d;null==a&&(a=b);return(d=c["$attr?"](a))===b||null==d||d.$$is_boolean&&1!=d?b:" "+a+'="'+c.$attr(a)+'"'},h.$$s=this,h.$$arity=1,h)).$join(),(e=(g=(k=(l=t["$!="]("icon"),!1!==l&&l!==b&&null!=l?!1!==(n=c["$attr?"]("format","svg",!1))&&n!==b&&null!=n?n:E["$include?"](".svg"):l),!1!==k&&
k!==b&&null!=k?d(c.$document().$safe(),a.const_get([a.const_get(U,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):k),!1!==g&&g!==b&&null!=g?!1!==(k=I=c["$option?"]("inline"))&&k!==b&&null!=k?k:N=c["$option?"]("interactive"):g))===b||null==e||e.$$is_boolean&&1!=e||(!1!==I&&I!==b&&null!=I?da=!1!==(e=this.$read_svg_contents(c,E))&&e!==b&&null!=e?e:'<span class="alt">'+c.$attr("alt")+"</span>":!1!==N&&N!==b&&null!=N&&(g=(e=c["$attr?"]("fallback"))===b||null==e||e.$$is_boolean&&1!=e?'<span class="alt">'+c.$attr("alt")+
"</span>":'<img src="'+c.$image_uri(c.$attr("fallback"))+'" alt="'+c.$attr("alt")+'"'+Z+this.void_element_slash+">",da='<object type="image/svg+xml" data="'+c.$image_uri(E)+'"'+Z+">"+g+"</object>")),!1!==(e=da)&&e!==b&&null!=e?e:da='<img src="'+(t["$=="]("icon")?c.$icon_uri(E):c.$image_uri(E))+'" alt="'+c.$attr("alt")+'"'+Z+this.void_element_slash+">"):da="["+c.$attr("alt")+"]":(v="fa fa-"+c.$target(),q(C(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(f=function(a,
d){var e;null==a&&(a=b);null==d&&(d=b);return(e=c["$attr?"](a))===b||null==e||e.$$is_boolean&&1!=e?b:v=""+v+" "+d+c.$attr(a)},f.$$s=this,f.$$arity=2,f)),da=(e=c["$attr?"]("title"))===b||null==e||e.$$is_boolean&&1!=e?b:' title="'+c.$attr("title")+'"',da='<i class="'+v+'"'+da+"></i>");(e=c["$attr?"]("link"))===b||null==e||e.$$is_boolean&&1!=e||(E=(e=c["$attr?"]("window"))===b||null==e||e.$$is_boolean&&1!=e?b:' target="'+c.$attr("window")+'"',da='<a class="image" href="'+c.$attr("link")+'"'+E+">"+da+
"</a>");v=(e=T=c.$role())===b||null==e||e.$$is_boolean&&1!=e?t:""+t+" "+T;t=(e=c["$attr?"]("float"))===b||null==e||e.$$is_boolean&&1!=e?b:' style="float: '+c.$attr("float")+'"';return'<span class="'+v+'"'+t+">"+da+"</span>"},ya.$$arity=1);a.defn(n,"$inline_indexterm",Aa=function(a){return a.$type()["$=="]("visible")?a.$text():""},Aa.$$arity=1);a.defn(n,"$inline_kbd",Ba=function(a){var c,d=b,d=b;if((d=a.$attr("keys")).$size()["$=="](1))return"<kbd>"+d["$[]"](0)+"</kbd>";d=q(d,"map",[],(c=function(a){null==
a&&(a=b);return"<kbd>"+a+"</kbd>+"},c.$$s=this,c.$$arity=1,c)).$join().$chop();return'<span class="keyseq">'+d+"</span>"},Ba.$$arity=1);a.defn(n,"$inline_menu",Ca=function(a){var c,d,e=b,g=b,f=g=b,e=a.$attr("menu");if((c=(g=a.$attr("submenus"))["$empty?"]()["$!"]())===b||null==c||c.$$is_boolean&&1!=c)return(c=f=a.$attr("menuitem"))===b||null==c||c.$$is_boolean&&1!=c?'<span class="menu">'+e+"</span>":'<span class="menuseq"><span class="menu">'+e+'</span>&#160;&#9656; <span class="menuitem">'+f+"</span></span>";
g=q(g,"map",[],(d=function(a){null==a&&(a=b);return'<span class="submenu">'+a+"</span>&#160;&#9656; "},d.$$s=this,d.$$arity=1,d)).$join().$chop();return'<span class="menuseq"><span class="menu">'+e+"</span>&#160;&#9656; "+g+' <span class="menuitem">'+a.$attr("menuitem")+"</span></span>"},Ca.$$arity=1);a.defn(n,"$inline_quoted",za=function(c){var d,e,g=b,f=b,h=b,k=b;e=b;e=a.const_get(U,"QUOTE_TAGS",!0,!0)["$[]"](c.$type());d=a.to_ary(e);g=null==d[0]?b:d[0];f=null==d[1]?b:d[1];h=null==d[2]?b:d[2];e;
e=(d=k=c.$role())===b||null==d||d.$$is_boolean&&1!=d?""+g+c.$text()+f:!1!==h&&h!==b&&null!=h?""+g.$chop()+' class="'+k+'">'+c.$text()+f:'<span class="'+k+'">'+g+c.$text()+f+"</span>";return(d=c.$id())===b||null==d||d.$$is_boolean&&1!=d?e:'<a id="'+c.$id()+'"></a>'+e},za.$$arity=1);a.defn(n,"$append_boolean_attribute",Da=function(a,c){return!1!==c&&c!==b&&null!=c?" "+a+'="'+a+'"':" "+a},Da.$$arity=2);return(a.defn(n,"$read_svg_contents",Ga=function(c,d){var e,g,f=b,h=b,k=b;if((e=f=c.$read_contents(d,
C(["start","normalize","label"],{start:c.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))!==b&&null!=e&&(!e.$$is_boolean||1==e)){if((e=f["$start_with?"]("<svg"))===b||null==e||e.$$is_boolean&&1!=e)f=f.$sub(a.const_get(U,"SvgPreambleRx",!0,!0),"");h=k=b;q(["width","height"],"each",[],(g=function(d){var e;null==d&&(d=b);if((e=c["$attr?"](d))===b||null==e||e.$$is_boolean&&1!=e)return b;if(!1===k||k===b||null==k)k=(h=f.$match(a.const_get(U,"SvgStartTagRx",!0,!0))["$[]"](0)).$gsub(a.const_get(U,
"DimensionAttributeRx",!0,!0),"");return k=""+k.$chop()+" "+d+'="'+c.$attr(d)+'px">'},g.$$s=this,g.$$arity=1,g));!1!==k&&k!==b&&null!=k&&(f=""+k+f["$[]"](a.Range.$new(h.$length(),-1,!1)))}return f},Ga.$$arity=2),b)&&"read_svg_contents"})(a.const_get(w,"Converter",!0,!0),a.const_get([a.const_get(w,"Converter",!0,!0).$$scope],"BuiltIn",!0,!0),w)}(a.base,p)};Opal.modules["asciidoctor/extensions"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===
typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var k=[a],e=a.nil,d=a.module,f=a.klass,p=a.hash2,b=a.send,n=a.range,x=a.hash;a.add_stubs("$[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $new $create_block $=== $has_more_lines? $next_block $dup $<< $each $define_method $send $insert $call $attr_accessor $[] $option $to_set $flatten $resolve_regexp $== $attr $method $register $+ $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $! $any? $select $add_syntax_processor $to_sym $include? $private $tr $to_s $join $map $split $upcase $chr $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $class_for_name $< $update_config $unshift $as_symbol $name= $pop $size $> $fill $-@ $next_auto_id $generate_name $length $empty? $const_defined?".split(" "));
return function(k,C){var z=d(k,"Asciidoctor").$$scope,y=C.slice().concat(z);(function(k,q){var C=d(k,"Extensions"),u=C.$$scope,z=q.slice().concat(u);(function(d,$super,h){function k(){}d=k=f(d,$super,"Processor",k);var l=d.$$proto,n=d.$$scope,q=h.slice().concat(n),t,x,u,C,F,L,D,z;l.config=e;(function(d,f){f.slice().concat(d);var h,k,l;a.defn(d,"$config",h=function(){var a;null==this.config&&(this.config=e);return!1!==(a=this.config)&&a!==e&&null!=a?a:this.config=p([],{})},h.$$arity=0);a.defn(d,"$option",
k=function(d,f){var h=e,h=[d,f];b(this.$config(),"[]=",a.to_a(h));return h[c(h.length,1)]},k.$$arity=2);a.defn(d,"$use_dsl",l=function(){var a;return(a=this.$name()["$nil_or_empty?"]())===e||null==a||a.$$is_boolean&&1!=a?(a=this.$constants().$grep("DSL"))===e||null==a||a.$$is_boolean&&1!=a?e:this.$extend(this.$const_get("DSL")):(a=this.$constants().$grep("DSL"))===e||null==a||a.$$is_boolean&&1!=a?e:this.$include(this.$const_get("DSL"))},l.$$arity=0);a.alias(d,"extend_dsl","use_dsl");return a.alias(d,
"include_dsl","use_dsl")})(a.get_singleton_class(d),q);d.$attr_reader("config");a.defn(d,"$initialize",t=function(a){null==a&&(a=p([],{}));return this.config=this.$class().$config().$merge(a)},t.$$arity=-1);a.defn(d,"$update_config",x=function(a){return this.config.$update(a)},x.$$arity=1);a.defn(d,"$process",u=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},u.$$arity=
-1);a.defn(d,"$create_block",C=function(b,c,d,e,g){null==g&&(g=p([],{}));return a.const_get(q,"Block",!0,!0).$new(b,c,p(["source","attributes"],{source:d,attributes:e}).$merge(g))},C.$$arity=-5);a.defn(d,"$create_image_block",F=function(a,b,c){null==c&&(c=p([],{}));return this.$create_block(a,"image",e,b,c)},F.$$arity=-3);a.defn(d,"$create_inline",L=function(b,c,d,e){null==e&&(e=p([],{}));return a.const_get(q,"Inline",!0,!0).$new(b,c,d,e)},L.$$arity=-4);a.defn(d,"$parse_content",D=function(b,c,d){var g,
f,h=e,k=e;null==d&&(d=e);for(h=(g=a.const_get(q,"Reader",!0,!0)["$==="](c))===e||null==g||g.$$is_boolean&&1!=g?a.const_get(q,"Reader",!0,!0).$new(c):c;(f=h["$has_more_lines?"]())!==e&&null!=f&&(!f.$$is_boolean||1==f);)if(k=a.const_get(q,"Parser",!0,!0).$next_block(h,b,!1!==d&&d!==e&&null!=d?d.$dup():p([],{})),!1!==k&&k!==e&&null!=k)b["$<<"](k);return b},D.$$arity=-3);return b([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block",
"example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(z=function(c,d,g){var f=z.$$s||this,h;null==c&&(c=e);null==d&&(d=e);null==g&&(g=e);return b(f,"define_method",[c],(h=function(c){var e=h.$$s||this,f,k=arguments.length;f=k-0;0>f&&(f=0);f=Array(f);for(var l=0;l<k;l++)f[l-0]=arguments[l];return b(e,"send",[d].concat(a.to_a(f.$dup().$insert(1,
g))))},h.$$s=f,h.$$arity=-1,h))},z.$$s=d,z.$$arity=3,z))})(u.base,null,z);(function(f,h){var k=d(f,"ProcessorDsl"),l=k.$$scope;h.slice().concat(l);var n,q,t;a.defn(k,"$option",n=function(d,f){var h=e,h=[d,f];b(this.$config(),"[]=",a.to_a(h));return h[c(h.length,1)]},n.$$arity=2);a.defn(k,"$process",q=function(c){var d,g,f=q.$$p,h=f||e;null==this.process_block&&(this.process_block=e);var k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var l=0;l<k;l++)g[l-0]=arguments[l];f&&(q.$$p=null);return h!==
e?this.process_block=h:(d=this.process_block)===e||null==d||d.$$is_boolean&&1!=d?this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0)):b(this.process_block,"call",a.to_a(g))},q.$$arity=-1);a.defn(k,"$process_block_given?",t=function(){var a;return(a=this.process_block,null!=a&&a!==e)?"instance-variable":e},t.$$arity=0)})(u.base,z);(function(b,$super,c){function d(){}b=d=f(b,$super,"Preprocessor",d);var g=b.$$scope;c.slice().concat(g);var h;return(a.defn(b,"$process",h=function(b,
c){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},h.$$arity=2),e)&&"process"})(u.base,a.const_get(z,"Processor",!0,!0),z);a.casgn(a.const_get(z,"Preprocessor",!0,!0),"DSL",a.const_get(z,"ProcessorDsl",!0,!0));(function(b,$super,c){function d(){}b=d=f(b,$super,"Treeprocessor",d);var g=b.$$scope;c.slice().concat(g);var h;return(a.defn(b,"$process",h=function(b){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},h.$$arity=1),e)&&"process"})(u.base,
a.const_get(z,"Processor",!0,!0),z);a.casgn(a.const_get(z,"Treeprocessor",!0,!0),"DSL",a.const_get(z,"ProcessorDsl",!0,!0));(function(b,$super,c){function d(){}b=d=f(b,$super,"Postprocessor",d);var g=b.$$scope;c.slice().concat(g);var h;return(a.defn(b,"$process",h=function(b,c){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},h.$$arity=2),e)&&"process"})(u.base,a.const_get(z,"Processor",!0,!0),z);a.casgn(a.const_get(z,"Postprocessor",!0,!0),"DSL",a.const_get(z,"ProcessorDsl",
!0,!0));(function(b,$super,c){function d(){}b=d=f(b,$super,"IncludeProcessor",d);var g=b.$$scope;c.slice().concat(g);var h,k;a.defn(b,"$process",h=function(b,c,d,e){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},h.$$arity=4);return(a.defn(b,"$handles?",k=function(a){return!0},k.$$arity=1),e)&&"handles?"})(u.base,a.const_get(z,"Processor",!0,!0),z);a.casgn(a.const_get(z,"IncludeProcessor",!0,!0),"DSL",a.const_get(z,"ProcessorDsl",!0,!0));(function(c,$super,d){function g(){}
c=g=f(c,$super,"DocinfoProcessor",g);var h=c.$$proto,k=c.$$scope;d.slice().concat(k);var l,n;h.config=e;c.$attr_accessor("location");a.defn(c,"$initialize",l=function(c){var d,g,f=l.$$p;null==c&&(c=p([],{}));f&&(l.$$p=null);b(this,a.find_super_dispatcher(this,"initialize",l,!1),[c],null);return d=this.config,!1!==(g=d["$[]"]("location"))&&g!==e&&null!=g?g:d["$[]="]("location","head")},l.$$arity=-1);return(a.defn(c,"$process",n=function(b){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",
!0,!0))},n.$$arity=1),e)&&"process"})(u.base,a.const_get(z,"Processor",!0,!0),z);(function(b,c){var e=d(b,"DocinfoProcessorDsl"),g=e.$$scope,g=c.slice().concat(g),f;e.$include(a.const_get(g,"ProcessorDsl",!0,!0));a.defn(e,"$at_location",f=function(a){return this.$option("location",a)},f.$$arity=1)})(u.base,z);a.casgn(a.const_get(z,"DocinfoProcessor",!0,!0),"DSL",a.const_get(z,"DocinfoProcessorDsl",!0,!0));(function(d,$super,h){function k(){}d=k=f(d,$super,"BlockProcessor",k);var l=d.$$proto,n=d.$$scope;
h.slice().concat(n);var q,t;l.config=e;d.$attr_accessor("name");a.defn(d,"$initialize",q=function(d,f){var h,k,l,n=q.$$p,t=e,t=e;null==d&&(d=e);null==f&&(f=p([],{}));n&&(q.$$p=null);b(this,a.find_super_dispatcher(this,"initialize",q,!1),[f],null);this.name=!1!==(h=d)&&h!==e&&null!=h?h:this.config["$[]"]("name");t=this.config["$[]"]("contexts");a.const_get([a.Object.$$scope],"NilClass",!0,!0)["$==="](t)?(h="contexts",k=this.config,!1!==(l=k["$[]"](h))&&l!==e&&null!=l?l:k["$[]="](h,["open","paragraph"].$to_set())):
(t=a.const_get([a.Object.$$scope],"Symbol",!0,!0)["$==="](t)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],b(this.config,"[]=",a.to_a(t)),t[c(t.length,1)]);return h="content_model",k=this.config,!1!==(l=k["$[]"](h))&&l!==e&&null!=l?l:k["$[]="](h,"compound")},q.$$arity=-1);return(a.defn(d,"$process",t=function(b,c,d){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},t.$$arity=3),e)&&"process"})(u.base,a.const_get(z,
"Processor",!0,!0),z);(function(b,c){var g=d(b,"BlockProcessorDsl"),f=g.$$scope,h=c.slice().concat(f),k,l,n,q,t;g.$include(a.const_get(h,"ProcessorDsl",!0,!0));a.defn(g,"$named",k=function(b){var c;return(c=a.const_get(h,"Processor",!0,!0)["$==="](this))===e||null==c||c.$$is_boolean&&1!=c?this.$option("name",b):this.name=b},k.$$arity=1);a.alias(g,"match_name","named");a.alias(g,"bind_to","named");a.defn(g,"$contexts",l=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<
c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten())},l.$$arity=-1);a.alias(g,"on_contexts","contexts");a.alias(g,"on_context","contexts");a.defn(g,"$content_model",n=function(a){return this.$option("content_model",a)},n.$$arity=1);a.alias(g,"parse_content_as","content_model");a.defn(g,"$positional_attributes",q=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},q.$$arity=-1);a.alias(g,
"pos_attrs","positional_attributes");a.alias(g,"name_attributes","positional_attributes");a.alias(g,"name_positional_attributes","positional_attributes");a.defn(g,"$default_attrs",t=function(a){return this.$option("default_attrs",a)},t.$$arity=1);a.alias(g,"seed_attributes_with","default_attrs")})(u.base,z);a.casgn(a.const_get(z,"BlockProcessor",!0,!0),"DSL",a.const_get(z,"BlockProcessorDsl",!0,!0));(function(c,$super,d){function g(){}c=g=f(c,$super,"MacroProcessor",g);var h=c.$$proto,k=c.$$scope;
d.slice().concat(k);var l,n;h.config=e;c.$attr_accessor("name");a.defn(c,"$initialize",l=function(c,d){var g,f,h,k=l.$$p;null==c&&(c=e);null==d&&(d=p([],{}));k&&(l.$$p=null);b(this,a.find_super_dispatcher(this,"initialize",l,!1),[d],null);this.name=!1!==(g=c)&&g!==e&&null!=g?g:this.config["$[]"]("name");return g="content_model",f=this.config,!1!==(h=f["$[]"](g))&&h!==e&&null!=h?h:f["$[]="](g,"attributes")},l.$$arity=-1);return(a.defn(c,"$process",n=function(b,c,d){return this.$raise(a.const_get([a.Object.$$scope],
"NotImplementedError",!0,!0))},n.$$arity=3),e)&&"process"})(u.base,a.const_get(z,"Processor",!0,!0),z);(function(b,c){var g=d(b,"MacroProcessorDsl"),f=g.$$scope,h=c.slice().concat(f),k,l,n,q;g.$include(a.const_get(h,"ProcessorDsl",!0,!0));a.defn(g,"$named",k=function(b){var c;return(c=a.const_get(h,"Processor",!0,!0)["$==="](this))===e||null==c||c.$$is_boolean&&1!=c?this.$option("name",b):this.name=b},k.$$arity=1);a.alias(g,"match_name","named");a.alias(g,"bind_to","named");a.defn(g,"$content_model",
l=function(a){return this.$option("content_model",a)},l.$$arity=1);a.alias(g,"parse_content_as","content_model");a.defn(g,"$positional_attributes",n=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},n.$$arity=-1);a.alias(g,"pos_attrs","positional_attributes");a.alias(g,"name_attributes","positional_attributes");a.alias(g,"name_positional_attributes","positional_attributes");a.defn(g,"$default_attrs",
q=function(a){return this.$option("default_attrs",a)},q.$$arity=1);a.alias(g,"seed_attributes_with","default_attrs")})(u.base,z);(function(a,$super,b){function c(){}a=(c=f(a,$super,"BlockMacroProcessor",c)).$$scope;b.slice().concat(a);return e})(u.base,a.const_get(z,"MacroProcessor",!0,!0),z);a.casgn(a.const_get(z,"BlockMacroProcessor",!0,!0),"DSL",a.const_get(z,"MacroProcessorDsl",!0,!0));(function(b,$super,c){function d(){}b=d=f(b,$super,"InlineMacroProcessor",d);var g=b.$$proto,h=b.$$scope;c.slice().concat(h);
var k,l;g.config=g.name=e;a.defn(b,"$regexp",k=function(){var a,b;return a=this.config,!1!==(b=a["$[]"]("regexp"))&&b!==e&&null!=b?b:a["$[]="]("regexp",this.$resolve_regexp(this.name,this.config["$[]"]("format")))},k.$$arity=0);return(a.defn(b,"$resolve_regexp",l=function(a,b){return b["$=="]("short")?new RegExp("\\\\?"+a+":\\[((?:\\\\\\]|[^\\]])*?)\\]"):new RegExp("\\\\?"+a+":(\\S+?)\\[((?:\\\\\\]|[^\\]])*?)\\]")},l.$$arity=2),e)&&"resolve_regexp"})(u.base,a.const_get(z,"MacroProcessor",!0,!0),z);
(function(b,c){var e=d(b,"InlineMacroProcessorDsl"),g=e.$$scope,g=c.slice().concat(g),f,h;e.$include(a.const_get(g,"MacroProcessorDsl",!0,!0));a.defn(e,"$using_format",f=function(a){return this.$option("format",a)},f.$$arity=1);a.defn(e,"$match",h=function(a){return this.$option("regexp",a)},h.$$arity=1)})(u.base,z);a.casgn(a.const_get(z,"InlineMacroProcessor",!0,!0),"DSL",a.const_get(z,"InlineMacroProcessorDsl",!0,!0));(function(b,$super,c){function d(){}b=d=f(b,$super,"Extension",d);var g=b.$$scope;
c.slice().concat(g);var h;b.$attr("kind");b.$attr("config");b.$attr("instance");return(a.defn(b,"$initialize",h=function(a,b,c){this.kind=a;this.instance=b;return this.config=c},h.$$arity=3),e)&&"initialize"})(u.base,null,z);(function(c,$super,d){function g(){}c=g=f(c,$super,"ProcessorExtension",g);var h=c.$$scope;d.slice().concat(h);var k;c.$attr("process_method");return(a.defn(c,"$initialize",k=function(c,d,g){var f,h=k.$$p;null==g&&(g=e);h&&(k.$$p=null);b(this,a.find_super_dispatcher(this,"initialize",
k,!1),[c,d,d.$config()],null);return this.process_method=!1!==(f=g)&&f!==e&&null!=f?f:d.$method("process")},k.$$arity=-3),e)&&"initialize"})(u.base,a.const_get(z,"Extension",!0,!0),z);(function(b,$super,c){function d(){}b=d=f(b,$super,"Group",d);var g=b.$$scope;c=c.slice().concat(g);var h;(function(b,c){var d=c.slice().concat(b),g;return(a.defn(b,"$register",g=function(b){null==b&&(b=e);return a.const_get(d,"Extensions",!0,!0).$register(b,this)},g.$$arity=-1),e)&&"register"})(a.get_singleton_class(b),
c);return(a.defn(b,"$activate",h=function(b){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},h.$$arity=1),e)&&"activate"})(u.base,null,z);(function(d,$super,k){function q(){}d=q=f(d,$super,"Registry",q);var x=d.$$proto,u=d.$$scope,C=k.slice().concat(u),z,H,M,y,F,L,D,ba,w,J,B,R,K,ga,fa,X,ma,ka,sa,wa,xa,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za;x.groups=x.preprocessor_extensions=x.treeprocessor_extensions=x.postprocessor_extensions=x.include_processor_extensions=x.docinfo_processor_extensions=
x.block_extensions=x.block_macro_extensions=x.inline_macro_extensions=e;d.$attr_reader("document");d.$attr_reader("groups");a.defn(d,"$initialize",z=function(a){null==a&&(a=p([],{}));this.groups=a;return this.document=this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.treeprocessor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=e},z.$$arity=-1);a.defn(d,"$activate",H=function(c){var d;
this.document=c;b(h(a.const_get(C,"Extensions",!0,!0).$groups().$values(),this.groups.$values()),"each",[],(d=function(c){var g=d.$$s||this,f=e;null==c&&(c=e);f=c;a.const_get([a.Object.$$scope],"Proc",!0,!0)["$==="](f)?(f=c.$arity(),c=0["$==="](f)||-1["$==="](f)?b(g,"instance_exec",[],c.$to_proc()):1["$==="](f)?c.$call(g):e):c=a.const_get([a.Object.$$scope],"Class",!0,!0)["$==="](f)?c.$new().$activate(g):c.$activate(g);return c},d.$$s=this,d.$$arity=1,d));return this},H.$$arity=1);a.defn(d,"$preprocessor",
M=function(a){var c,d=M.$$p,g=d||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(M.$$p=null);return b(this,"add_document_processor",["preprocessor",c],g.$to_proc())},M.$$arity=-1);a.defn(d,"$preprocessors?",y=function(){return this.preprocessor_extensions["$!"]()["$!"]()},y.$$arity=0);a.defn(d,"$preprocessors",F=function(){return this.preprocessor_extensions},F.$$arity=0);a.defn(d,"$treeprocessor",L=function(a){var c,d=L.$$p,g=d||e,f=arguments.length;c=
f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(L.$$p=null);return b(this,"add_document_processor",["treeprocessor",c],g.$to_proc())},L.$$arity=-1);a.defn(d,"$treeprocessors?",D=function(){return this.treeprocessor_extensions["$!"]()["$!"]()},D.$$arity=0);a.defn(d,"$treeprocessors",ba=function(){return this.treeprocessor_extensions},ba.$$arity=0);a.defn(d,"$postprocessor",w=function(a){var c,d=w.$$p,g=d||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-
0]=arguments[h];d&&(w.$$p=null);return b(this,"add_document_processor",["postprocessor",c],g.$to_proc())},w.$$arity=-1);a.defn(d,"$postprocessors?",J=function(){return this.postprocessor_extensions["$!"]()["$!"]()},J.$$arity=0);a.defn(d,"$postprocessors",B=function(){return this.postprocessor_extensions},B.$$arity=0);a.defn(d,"$include_processor",R=function(a){var c,d=R.$$p,g=d||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(R.$$p=null);return b(this,
"add_document_processor",["include_processor",c],g.$to_proc())},R.$$arity=-1);a.defn(d,"$include_processors?",K=function(){return this.include_processor_extensions["$!"]()["$!"]()},K.$$arity=0);a.defn(d,"$include_processors",ga=function(){return this.include_processor_extensions},ga.$$arity=0);a.defn(d,"$docinfo_processor",fa=function(a){var c,d=fa.$$p,g=d||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(fa.$$p=null);return b(this,"add_document_processor",
["docinfo_processor",c],g.$to_proc())},fa.$$arity=-1);a.defn(d,"$docinfo_processors?",X=function(a){var c,d;null==a&&(a=e);return(c=this.docinfo_processor_extensions)===e||null==c||c.$$is_boolean&&1!=c?!1:!1!==a&&a!==e&&null!=a?b(this.docinfo_processor_extensions,"any?",[],(d=function(b){null==b&&(b=e);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d.$$arity=1,d)):!0},X.$$arity=-1);a.defn(d,"$docinfo_processors",ma=function(a){var c,d;null==a&&(a=e);return(c=this.docinfo_processor_extensions)===
e||null==c||c.$$is_boolean&&1!=c?e:!1!==a&&a!==e&&null!=a?b(this.docinfo_processor_extensions,"select",[],(d=function(b){null==b&&(b=e);return b.$config()["$[]"]("location")["$=="](a)},d.$$s=this,d.$$arity=1,d)):this.docinfo_processor_extensions},ma.$$arity=-1);a.defn(d,"$block",ka=function(a){var c,d=ka.$$p,g=d||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(ka.$$p=null);return b(this,"add_syntax_processor",["block",c],g.$to_proc())},ka.$$arity=-1);a.defn(d,
"$blocks?",sa=function(){return this.block_extensions["$!"]()["$!"]()},sa.$$arity=0);a.defn(d,"$registered_for_block?",wa=function(a,b){var c,d=e;return(c=d=this.block_extensions["$[]"](a.$to_sym()))===e||null==c||c.$$is_boolean&&1!=c?!1:(c=d.$config()["$[]"]("contexts")["$include?"](b))===e||null==c||c.$$is_boolean&&1!=c?!1:d},wa.$$arity=2);a.defn(d,"$find_block_extension",xa=function(a){return this.block_extensions["$[]"](a.$to_sym())},xa.$$arity=1);a.defn(d,"$block_macro",ra=function(a){var c,
d=ra.$$p,g=d||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(ra.$$p=null);return b(this,"add_syntax_processor",["block_macro",c],g.$to_proc())},ra.$$arity=-1);a.defn(d,"$block_macros?",va=function(){return this.block_macro_extensions["$!"]()["$!"]()},va.$$arity=0);a.defn(d,"$registered_for_block_macro?",oa=function(a){var b,c=e;return(b=c=this.block_macro_extensions["$[]"](a.$to_sym()))===e||null==b||b.$$is_boolean&&1!=b?!1:c},oa.$$arity=1);a.defn(d,"$find_block_macro_extension",
ta=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},ta.$$arity=1);a.defn(d,"$inline_macro",E=function(a){var c,d=E.$$p,g=d||e,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var h=0;h<f;h++)c[h-0]=arguments[h];d&&(E.$$p=null);return b(this,"add_syntax_processor",["inline_macro",c],g.$to_proc())},E.$$arity=-1);a.defn(d,"$inline_macros?",S=function(){return this.inline_macro_extensions["$!"]()["$!"]()},S.$$arity=0);a.defn(d,"$registered_for_inline_macro?",Y=function(a){var b,c=
e;return(b=c=this.inline_macro_extensions["$[]"](a.$to_sym()))===e||null==b||b.$$is_boolean&&1!=b?!1:c},Y.$$arity=1);a.defn(d,"$find_inline_macro_extension",aa=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},aa.$$arity=1);a.defn(d,"$inline_macros",ya=function(){return this.inline_macro_extensions.$values()},ya.$$arity=0);d.$private();a.defn(d,"$add_document_processor",Aa=function(c,d){var g,f,h,k,q=this,E=Aa.$$p,v=E||e,p=e,Y=e,x=e,da=e,ua=Y=e,Z=e,I=e,N=e;E&&(Aa.$$p=null);p=c.$to_s().$tr("_",
" ");Y=b(p.$split(" "),"map",[],(g=function(a){null==a&&(a=e);return""+a.$chr().$upcase()+a["$[]"](n(1,-1,!1))},g.$$s=q,g.$$arity=1,g)).$join().$to_sym();x=a.const_get(C,"Extensions",!0,!0).$const_get(Y);da=(f=a.const_get([a.Object.$$scope],"AsciidoctorJ",!0,!1)?"constant":e)===e||null==f||f.$$is_boolean&&1!=f?e:a.const_get([a.const_get([a.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$const_get(Y);Y=!1!==(f=q.$instance_variable_get(("@"+c+"_extensions").$to_sym()))&&f!==e&&null!=
f?f:q.$instance_variable_set(("@"+c+"_extensions").$to_sym(),[]);ua=function(){if(v!==e)return Z=q.$resolve_args(d,1),I=x.$new(Z),(f=x.$constants().$grep("DSL"))===e||null==f||f.$$is_boolean&&1!=f||I.$extend(x.$const_get("DSL")),b(I,"instance_exec",[],v.$to_proc()),I.$freeze(),((f=I["$process_block_given?"]())===e||null==f||f.$$is_boolean&&1!=f)&&q.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("No block specified to process "+p+" extension at "+v.$source_location())),a.const_get(C,
"ProcessorExtension",!0,!0).$new(c,I);h=q.$resolve_args(d,2);f=a.to_ary(h);I=null==f[0]?e:f[0];Z=null==f[1]?e:f[1];h;if((f=!1!==(h=a.const_get([a.Object.$$scope],"Class",!0,!0)["$==="](I))&&h!==e&&null!=h?h:(k=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](I),!1!==k&&k!==e&&null!=k?I=a.const_get(C,"Extensions",!0,!0).$class_for_name(I):k))===e||null==f||f.$$is_boolean&&1!=f){if((f=!1!==(h=x["$==="](I))&&h!==e&&null!=h?h:(k=!1!==da&&da!==e&&null!=da)?da["$==="](I):da)===e||null==f||f.$$is_boolean&&
1!=f)return q.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("Invalid arguments specified for registering "+p+" extension: "+d));I.$update_config(Z);I.$freeze();return a.const_get(C,"ProcessorExtension",!0,!0).$new(c,I)}((f=!1!==(h=l(I,x))&&h!==e&&null!=h?h:(k=!1!==da&&da!==e&&null!=da)?l(I,da):da)===e||null==f||f.$$is_boolean&&1!=f)&&q.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("Invalid type for "+p+" extension: "+I));N=I.$new(Z);N.$freeze();return a.const_get(C,
"ProcessorExtension",!0,!0).$new(c,N)}();return ua.$config()["$[]"]("position")["$=="](">>")?Y.$unshift(ua):Y["$<<"](ua)},Aa.$$arity=2);a.defn(d,"$add_syntax_processor",Ba=function(d,f){var h,k,q,E=Ba.$$p,v=E||e,Y=e,x=e,S=x=e,u=e,D=x=e,da=e,ua=e,S=S=e;E&&(Ba.$$p=null);Y=d.$to_s().$tr("_"," ");x=b(Y.$split(" "),"map",[],(h=function(a){null==a&&(a=e);return""+a.$chr().$upcase()+a["$[]"](n(1,-1,!1))},h.$$s=this,h.$$arity=1,h)).$join();x=(""+x+"Processor").$to_sym();S=a.const_get(C,"Extensions",!0,!0).$const_get(x);
u=(k=a.const_get([a.Object.$$scope],"AsciidoctorJ",!0,!1)?"constant":e)===e||null==k||k.$$is_boolean&&1!=k?e:a.const_get([a.const_get([a.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$const_get(x);x=!1!==(k=this.$instance_variable_get(("@"+d+"_extensions").$to_sym()))&&k!==e&&null!=k?k:this.$instance_variable_set(("@"+d+"_extensions").$to_sym(),p([],{}));if(v!==e)return h=this.$resolve_args(f,2),k=a.to_ary(h),D=null==k[0]?e:k[0],da=null==k[1]?e:k[1],h,ua=S.$new(this.$as_symbol(D),
da),(k=S.$constants().$grep("DSL"))===e||null==k||k.$$is_boolean&&1!=k||ua.$extend(S.$const_get("DSL")),v.$arity()["$=="](1)?a.yield1(v,ua):b(ua,"instance_exec",[],v.$to_proc()),((k=D=this.$as_symbol(ua.$name()))===e||null==k||k.$$is_boolean&&1!=k)&&this.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("No name specified for "+Y+" extension at "+v.$source_location())),((k=ua["$process_block_given?"]())===e||null==k||k.$$is_boolean&&1!=k)&&this.$raise(a.const_get([a.Object.$$scope],
"NoMethodError",!0,!0).$new("No block specified to process "+Y+" extension at "+v.$source_location())),ua.$freeze(),S=[D,a.const_get(C,"ProcessorExtension",!0,!0).$new(d,ua)],b(x,"[]=",a.to_a(S)),S[c(S.length,1)];h=this.$resolve_args(f,3);k=a.to_ary(h);ua=null==k[0]?e:k[0];D=null==k[1]?e:k[1];da=null==k[2]?e:k[2];h;if((k=!1!==(h=a.const_get([a.Object.$$scope],"Class",!0,!0)["$==="](ua))&&h!==e&&null!=h?h:(q=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](ua),!1!==q&&q!==e&&null!=q?ua=a.const_get(C,
"Extensions",!0,!0).$class_for_name(ua):q))===e||null==k||k.$$is_boolean&&1!=k){if((k=!1!==(h=S["$==="](ua))&&h!==e&&null!=h?h:(q=!1!==u&&u!==e&&null!=u)?u["$==="](ua):u)===e||null==k||k.$$is_boolean&&1!=k)return this.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("Invalid arguments specified for registering "+Y+" extension: "+f));ua.$update_config(da);!1!==D&&D!==e&&null!=D?(S=[this.$as_symbol(D)],b(ua,"name=",a.to_a(S)),q=S[c(S.length,1)]):q=this.$as_symbol(ua.$name());((k=D=
q)===e||null==k||k.$$is_boolean&&1!=k)&&this.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("No name specified for "+Y+" extension: "+ua));ua.$freeze();S=[D,a.const_get(C,"ProcessorExtension",!0,!0).$new(d,ua)];b(x,"[]=",a.to_a(S));return S[c(S.length,1)]}((k=!1!==(h=l(ua,S))&&h!==e&&null!=h?h:(q=!1!==u&&u!==e&&null!=u)?l(ua,u):u)===e||null==k||k.$$is_boolean&&1!=k)&&this.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("Class specified for "+Y+" extension does not inherit from "+
S+": "+ua));S=ua.$new(this.$as_symbol(D),da);((k=D=this.$as_symbol(S.$name()))===e||null==k||k.$$is_boolean&&1!=k)&&this.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("No name specified for "+Y+" extension: "+ua));ua.$freeze();S=[D,a.const_get(C,"ProcessorExtension",!0,!0).$new(d,S)];b(x,"[]=",a.to_a(S));return S[c(S.length,1)]},Ba.$$arity=2);a.defn(d,"$resolve_args",Ca=function(b,d){var f,h=e,k=e,n=e,h=(f=a.const_get([a.Object.$$scope],"Hash",!0,!0)["$==="](b["$[]"](-1)))===e||
null==f||f.$$is_boolean&&1!=f?p([],{}):b.$pop();if(d["$=="](1))return h;var k=b.$size(),q=n=c(c(d,1),k);(f="number"===typeof q?0<q:q["$>"](0))===e||null==f||f.$$is_boolean&&1!=f?(f=l(n,0))===e||null==f||f.$$is_boolean&&1!=f||b.$pop(n["$-@"]()):b.$fill(e,k,n);b["$<<"](h);return b},Ca.$$arity=2);return(a.defn(d,"$as_symbol",za=function(a){return!1!==a&&a!==e&&null!=a?a.$to_sym():e},za.$$arity=1),e)&&"as_symbol"})(u.base,null,z);(function(d,f){var k=f.slice().concat(d),l,n,q,t,u,C,z,H;a.defn(d,"$generate_name",
l=function(){return"extgrp"+this.$next_auto_id()},l.$$arity=0);a.defn(d,"$next_auto_id",n=function(){var a;null==this.auto_id&&(this.auto_id=e);!1!==(a=this.auto_id)&&a!==e&&null!=a?a:this.auto_id=-1;return this.auto_id=h(this.auto_id,1)},n.$$arity=0);a.defn(d,"$groups",q=function(){var a;null==this.groups&&(this.groups=e);return!1!==(a=this.groups)&&a!==e&&null!=a?a:this.groups=p([],{})},q.$$arity=0);a.defn(d,"$build_registry",t=function(b){var c,d=t.$$p,g=d||e;null==b&&(b=e);d&&(t.$$p=null);return g!==
e?(!1!==(c=b)&&c!==e&&null!=c?c:b=this.$generate_name(),a.const_get(k,"Registry",!0,!0).$new(x(b,g))):a.const_get(k,"Registry",!0,!0).$new()},t.$$arity=-1);a.defn(d,"$register",u=function(d){var f,h,k=u.$$p,l=k||e,n=e,q=e,t=q=e;h=t=e;n=arguments.length;h=n-0;0>h&&(h=0);h=Array(h);for(q=0;q<n;q++)h[q-0]=arguments[q];k&&(u.$$p=null);n=h.$length();l!==e?k=l:(f=(q=h.$pop())["$!"]())===e||null==f||f.$$is_boolean&&1!=f?(t=q,k=a.const_get([a.Object.$$scope],"Class",!0,!0)["$==="](t)?q:a.const_get([a.Object.$$scope],
"String",!0,!0)["$==="](t)?this.$class_for_name(q):a.const_get([a.Object.$$scope],"Symbol",!0,!0)["$==="](t)?this.$class_for_name(q.$to_s()):q):k=this.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("Extension group to register not specified"));q=k;t=!1!==(f=h.$pop())&&f!==e&&null!=f?f:this.$generate_name();((f=h["$empty?"]())===e||null==f||f.$$is_boolean&&1!=f)&&this.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0).$new("Wrong number of arguments ("+n+" for 1..2)"));
h=[t,q];b(this.$groups(),"[]=",a.to_a(h));return h[c(h.length,1)]},u.$$arity=-1);a.defn(d,"$unregister_all",C=function(){return this.groups=p([],{})},C.$$arity=0);a.defn(d,"$resolve_class",z=function(b){var c;return(c=a.const_get([a.Object.$$scope],"Class",!0,!0)["$==="](b))===e||null==c||c.$$is_boolean&&1!=c?this.$class_for_name(b.$to_s()):b},z.$$arity=1);return(a.defn(d,"$class_for_name",H=function(c){var d,g=e,g=a.const_get([a.Object.$$scope],"Object",!0,!0);b(c.$split("::"),"each",[],(d=function(a){var b=
d.$$s||this,f;null==a&&(a=e);return(f=a["$empty?"]())===e||null==f||f.$$is_boolean&&1!=f?(f=g["$const_defined?"](a))===e||null==f||f.$$is_boolean&&1!=f?b.$raise("Could not resolve class for name: "+c):g=g.$const_get(a):e},d.$$s=this,d.$$arity=1,d));return g},H.$$arity=1),e)&&"class_for_name"})(a.get_singleton_class(C),z)})(z.base,y)}(a.base,k)};Opal.modules["asciidoctor/js/postscript"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/converter");c.$require("asciidoctor/converter/composite");
c.$require("asciidoctor/converter/html5");return c.$require("asciidoctor/extensions")};Opal.modules["asciidoctor/opal_ext"]=function(a){var c=a.top;a.add_stubs(["$require"]);c.$require("asciidoctor/js");return c.$require("asciidoctor/js/postscript")};Opal.modules["asciidoctor/version"]=function(a){var c=a.module,h=[a],c=c(a.base,"Asciidoctor").$$scope;h.slice().concat(c);a.cdecl(c,"VERSION","1.5.5")};Opal.modules["asciidoctor/timings"]=function(a){function c(a,b){return"number"===typeof a&&"number"===
typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[a],e=a.nil,d=a.module,f=a.klass,p=a.hash2,b=a.send,n=a.gvars;a.add_stubs("$now $[]= $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(k,q){var C=d(k,"Asciidoctor").$$scope,z=q.slice().concat(C);(function(d,$super,k){function q(){}d=q=f(d,$super,"Timings",q);
var x=d.$$proto,C=d.$$scope;k.slice().concat(C);var v,z,y,w,B,A,V,W;x.timers=x.log=e;a.defn(d,"$initialize",v=function(){this.log=p([],{});return this.timers=p([],{})},v.$$arity=0);a.defn(d,"$start",z=function(d){var f=e,f=[d,a.const_get([a.Object.$$scope],"Time",!0,!0).$now()];b(this.timers,"[]=",a.to_a(f));return f[c(f.length,1)]},z.$$arity=1);a.defn(d,"$record",y=function(d){var f=e,f=[d,c(a.const_get([a.Object.$$scope],"Time",!0,!0).$now(),this.timers.$delete(d))];b(this.log,"[]=",a.to_a(f));
return f[c(f.length,1)]},y.$$arity=1);a.defn(d,"$read_parse",w=function(){var a,b,c=e;return(a=h(c=l(!1!==(b=this.log["$[]"]("read"))&&b!==e&&null!=b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==e&&null!=b?b:0),0))===e||null==a||a.$$is_boolean&&1!=a?e:c},w.$$arity=0);a.defn(d,"$convert",B=function(){var a;return!1!==(a=this.log["$[]"]("convert"))&&a!==e&&null!=a?a:0},B.$$arity=0);a.defn(d,"$read_parse_convert",A=function(){var a,b,c=e;return(a=h(c=l(l(!1!==(b=this.log["$[]"]("read"))&&b!==e&&null!=
b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==e&&null!=b?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==e&&null!=b?b:0),0))===e||null==a||a.$$is_boolean&&1!=a?e:c},A.$$arity=0);a.defn(d,"$total",V=function(){var a,b,c=e;return(a=h(c=l(l(l(!1!==(b=this.log["$[]"]("read"))&&b!==e&&null!=b?b:0,!1!==(b=this.log["$[]"]("parse"))&&b!==e&&null!=b?b:0),!1!==(b=this.log["$[]"]("convert"))&&b!==e&&null!=b?b:0),!1!==(b=this.log["$[]"]("write"))&&b!==e&&null!=b?b:0),0))===e||null==a||a.$$is_boolean&&1!=a?e:c},
V.$$arity=0);return(a.defn(d,"$print_report",W=function(a,b){null==n.stdout&&(n.stdout=e);null==a&&(a=n.stdout);null==b&&(b=e);!1!==b&&b!==e&&null!=b&&a.$puts("Input file: "+b);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},W.$$arity=-1),e)&&"print_report"})(C.base,null,
z)}(a.base,k)};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var c=[a],h=a.nil,l=a.klass;a.add_stubs(["$method_defined?"]);(function(c,$super,d){function g(){}c=g=l(c,$super,"NilClass",g);var p=c.$$scope;d.slice().concat(p);var b;return(b=c["$method_defined?"]("nil_or_empty?"))===h||null==b||b.$$is_boolean&&1!=b?a.alias(c,"nil_or_empty?","nil?"):h})(a.base,null,c);(function(c,$super,d){function g(){}c=g=l(c,$super,"String",g);var p=c.$$scope;d.slice().concat(p);var b;return(b=c["$method_defined?"]("nil_or_empty?"))===
h||null==b||b.$$is_boolean&&1!=b?a.alias(c,"nil_or_empty?","empty?"):h})(a.base,null,c);(function(c,$super,d){function g(){}c=g=l(c,$super,"Array",g);var p=c.$$scope;d.slice().concat(p);var b;return(b=c["$method_defined?"]("nil_or_empty?"))===h||null==b||b.$$is_boolean&&1!=b?a.alias(c,"nil_or_empty?","empty?"):h})(a.base,null,c);(function(c,$super,d){function g(){}c=g=l(c,$super,"Hash",g);var p=c.$$scope;d.slice().concat(p);var b;return(b=c["$method_defined?"]("nil_or_empty?"))===h||null==b||b.$$is_boolean&&
1!=b?a.alias(c,"nil_or_empty?","empty?"):h})(a.base,null,c);return function(c,$super,d){function g(){}c=g=l(c,$super,"Numeric",g);var p=c.$$scope;d.slice().concat(p);var b;return(b=c["$method_defined?"]("nil_or_empty?"))===h||null==b||b.$$is_boolean&&1!=b?a.alias(c,"nil_or_empty?","nil?"):h}(a.base,null,c)};Opal.modules["asciidoctor/core_ext/string/limit"]=function(a){var c=[a],h=a.nil,l=a.klass;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));
return function(c,$super,d){function g(){}c=g=l(c,$super,"String",g);var p=c.$$scope;d.slice().concat(p);var b,n;return(b=c["$method_defined?"]("limit"))===h||null==b||b.$$is_boolean&&1!=b?(a.defn(c,"$limit",n=function(b){var c,d,g=h,g=this.$bytesize();if((c="number"===typeof b&&"number"===typeof g?b<g:b["$<"](g))===h||null==c||c.$$is_boolean&&1!=c)return this;for(;(d=(g=this.$byteslice(0,b)).$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0))["$valid_encoding?"]())===
h||null==d||d.$$is_boolean&&1!=d;)b="number"===typeof b?b-1:b["$-"](1);return g},n.$$arity=1),h)&&"limit":h}(a.base,null,c)};Opal.modules["asciidoctor/core_ext"]=function(a){var c,h=a.top,l=[a],k=a.nil;a.add_stubs(["$require","$!="]);h.$require("asciidoctor/core_ext/nil_or_empty");return(c=a.const_get(l,"RUBY_MIN_VERSION_1_9",!0,!0))===k||null==c||c.$$is_boolean&&1!=c?(a.const_get(l,"RUBY_ENGINE",!0,!0)["$!="]("opal"),k):h.$require("asciidoctor/core_ext/string/limit")};Opal.modules["asciidoctor/helpers"]=
function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=[a],l=a.nil,k=a.module,e=a.range,d=a.send,f=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $lines $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $each_line $include? $=~ $gsub $each_byte $sprintf $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));
return function(h,b){var n=k(h,"Asciidoctor").$$scope,x=b.slice().concat(n);(function(b,h){var n=k(b,"Helpers"),p=n.$$scope,x=h.slice().concat(p),H,M,u,y,v,w,B,ea,ca,A;a.defs(n,"$require_library",H=function(b,c,d){var e=l,g=l;null==c&&(c=!0);null==d&&(d="abort");try{return this.$require(b)}catch(f){if(a.rescue(f,[a.const_get([a.Object.$$scope],"LoadError",!0,!0)])){e=f;try{if(!1!==c&&c!==l&&null!=c)return c["$=="](!0)&&(c=b),g=d,"abort"["$==="](g)?this.$fail("asciidoctor: FAILED: required gem '"+
c+"' is not installed. Processing aborted."):"warn"["$==="](g)?this.$warn("asciidoctor: WARNING: optional gem '"+c+"' is not installed. Functionality disabled."):l;g=d;return"abort"["$==="](g)?this.$fail("asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](g)?this.$warn("asciidoctor: WARNING: "+e.$message().$chomp(".")+". Functionality disabled."):l}finally{a.pop_exception()}}else throw f;}},H.$$arity=-2);a.defs(n,"$normalize_lines",M=function(b){return b.$class()["$=="](a.const_get([a.Object.$$scope],
"String",!0,!0))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)},M.$$arity=1);a.defs(n,"$normalize_lines_array",u=function(b){var f,h,k,n,q,v=l,p=l,u=l,C=l,v=l;if((f=b["$empty?"]())!==l&&null!=f&&(!f.$$is_boolean||1==f))return[];v=(p=b["$[]"](0))["$[]"](e(0,2,!1)).$bytes().$to_a();if((f=a.const_get(x,"COERCE_ENCODING",!0,!0))===l||null==f||f.$$is_boolean&&1!=f)return v["$=="](a.const_get(x,"BOM_BYTES_UTF_8",!0,!0))&&(v=[0,p["$[]"](e(3,-1,!1))],d(b,"[]=",a.to_a(v)),v[c(v.length,
1)]),d(b,"map",[],(q=function(a){null==a&&(a=l);return a.$rstrip()},q.$$s=this,q.$$arity=1,q));u=a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0);if((C=v["$[]"](e(0,1,!1)))["$=="](a.const_get(x,"BOM_BYTES_UTF_16LE",!0,!0)))return d(b.$join().$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0))["$[]"](e(1,-1,!1)).$encode(u).$lines(),"map",[],(h=function(a){null==a&&(a=l);return a.$rstrip()},h.$$s=this,h.$$arity=
1,h));if(C["$=="](a.const_get(x,"BOM_BYTES_UTF_16BE",!0,!0)))return v=[0,p.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0))["$[]"](e(1,-1,!1))],d(b,"[]=",a.to_a(v)),v[c(v.length,1)],d(b,"map",[],(k=function(b){null==b&&(b=l);return""+b.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0)).$encode(u).$rstrip()},k.$$s=this,k.$$arity=1,k));v["$[]"](e(0,2,!1))["$=="](a.const_get(x,"BOM_BYTES_UTF_8",
!0,!0))&&(v=[0,p.$force_encoding(u)["$[]"](e(1,-1,!1))],d(b,"[]=",a.to_a(v)),v[c(v.length,1)]);return d(b,"map",[],(n=function(a){null==a&&(a=l);return a.$encoding()["$=="](u)?a.$rstrip():a.$force_encoding(u).$rstrip()},n.$$s=this,n.$$arity=1,n))},u.$$arity=1);a.defs(n,"$normalize_lines_from_string",y=function(b){var c,g,f=l,h=l,k=l;if((c=b["$nil_or_empty?"]())!==l&&null!=c&&(!c.$$is_boolean||1==c))return[];(c=a.const_get(x,"COERCE_ENCODING",!0,!0))===l||null==c||c.$$is_boolean&&1!=c?b["$[]"](e(0,
2,!1)).$bytes().$to_a()["$=="](a.const_get(x,"BOM_BYTES_UTF_8",!0,!0))&&(b=b["$[]"](e(3,-1,!1))):(f=a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0),h=b["$[]"](e(0,2,!1)).$bytes().$to_a(),(k=h["$[]"](e(0,1,!1)))["$=="](a.const_get(x,"BOM_BYTES_UTF_16LE",!0,!0))?b=b.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_16LE",!0,!0))["$[]"](e(1,-1,!1)).$encode(f):k["$=="](a.const_get(x,"BOM_BYTES_UTF_16BE",!0,!0))?b=b.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],
"Encoding",!0,!0).$$scope],"UTF_16BE",!0,!0))["$[]"](e(1,-1,!1)).$encode(f):h["$[]"](e(0,2,!1))["$=="](a.const_get(x,"BOM_BYTES_UTF_8",!0,!0))?b=b.$encoding()["$=="](f)?b["$[]"](e(1,-1,!1)):b.$force_encoding(f)["$[]"](e(1,-1,!1)):b.$encoding()["$=="](f)||(b=b.$force_encoding(f)));return d(b.$each_line(),"map",[],(g=function(a){null==a&&(a=l);return a.$rstrip()},g.$$s=this,g.$$arity=1,g))},y.$$arity=1);a.defs(n,"$uriish?",v=function(b){var c;return c=b["$include?"](":"),!1!==c&&c!==l&&null!=c?b["$=~"](a.const_get(x,
"UriSniffRx",!0,!0)):c},v.$$arity=1);a.defs(n,"$uri_prefix",w=function(b){var c,d;return(c=(d=b["$include?"](":"),!1!==d&&d!==l&&null!=d?b["$=~"](a.const_get(x,"UriSniffRx",!0,!0)):d))===l||null==c||c.$$is_boolean&&1!=c?l:(c=f["~"])===l?l:c["$[]"](0)},w.$$arity=1);a.cdecl(p,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(n,"$encode_uri",B=function(b){var c;return d(b,"gsub",[a.const_get(x,"REGEXP_ENCODE_URI_CHARS",!0,!0)],(c=function(){var a=c.$$s||this,b,e;return d(((b=f["~"])===l?
l:b["$[]"](0)).$each_byte(),"map",[],(e=function(a){var b=e.$$s||this;null==a&&(a=l);return b.$sprintf("%%%02X",a)},e.$$s=a,e.$$arity=1,e)).$join()},c.$$s=this,c.$$arity=0,c))},B.$$arity=1);a.defs(n,"$rootname",ea=function(b){var c,d=l;return(c=(d=a.const_get([a.Object.$$scope],"File",!0,!0).$extname(b))["$empty?"]())===l||null==c||c.$$is_boolean&&1!=c?b["$[]"](a.Range.$new(0,d.$length()["$-@"](),!0)):b},ea.$$arity=1);a.defs(n,"$basename",ca=function(b,c){null==c&&(c=!1);return!1!==c&&c!==l&&null!=
c?a.const_get([a.Object.$$scope],"File",!0,!0).$basename(b,a.const_get([a.Object.$$scope],"File",!0,!0).$extname(b)):a.const_get([a.Object.$$scope],"File",!0,!0).$basename(b)},ca.$$arity=-2);a.defs(n,"$mkdir_p",A=function(b){var c,d,e=l;return(c=a.const_get([a.Object.$$scope],"File",!0,!0)["$directory?"](b))===l||null==c||c.$$is_boolean&&1!=c?(e=a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(b),(c=(d=a.const_get([a.Object.$$scope],"File",!0,!0)["$directory?"](e=a.const_get([a.Object.$$scope],
"File",!0,!0).$dirname(b))["$!"](),!1!==d&&d!==l&&null!=d?e["$!="]("."):d))===l||null==c||c.$$is_boolean&&1!=c||this.$mkdir_p(e),a.const_get([a.Object.$$scope],"Dir",!0,!0).$mkdir(b)):l},A.$$arity=1)})(n.base,x)}(a.base,h)};Opal.modules["asciidoctor/substitutors"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}
function k(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var e=[a],d=a.nil,f=a.slice,p=a.module,b=a.hash2,n=a.send,x=a.gvars,q=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $size $unescape_brackets $resolve_pass_subs $[]= $- $> $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $config $process_method $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $references $id $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(e,z){var y=p(e,"Asciidoctor").$$scope,w=z.slice().concat(y);(function(e,C){var u=p(e,"Substitutors"),z=u.$$scope,v=C.slice().concat(z),y,w,B,J,A,V,R,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa;a.cdecl(z,"SPECIAL_CHARS",b(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(z,"SPECIAL_CHARS_PATTERN",new RegExp("["+a.const_get(v,"SPECIAL_CHARS",!0,!0).$keys().$join()+"]"));a.cdecl(z,"SUBS",b("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],
normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),header:["specialcharacters","attributes"],pass:[]}));a.cdecl(z,"COMPOSITE_SUBS",b(["none","normal","verbatim","specialchars"],{none:[],normal:a.const_get(v,"SUBS",!0,!0)["$[]"]("normal"),verbatim:a.const_get(v,"SUBS",!0,!0)["$[]"]("verbatim"),specialchars:["specialcharacters"]}));
a.cdecl(z,"SUB_SYMBOLS",b("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(z,"SUB_OPTIONS",b(["block","inline"],{block:c(c(a.const_get(v,"COMPOSITE_SUBS",!0,!0).$keys(),a.const_get(v,"SUBS",!0,!0)["$[]"]("normal")),["callouts"]),inline:c(a.const_get(v,"COMPOSITE_SUBS",!0,!0).$keys(),a.const_get(v,"SUBS",!0,!0)["$[]"]("normal"))}));a.cdecl(z,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(z,"PASS_START",
"\u0096");a.cdecl(z,"PASS_END","\u0097");a.cdecl(z,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(z,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);u.$attr_reader("passthroughs");a.defn(u,"$apply_subs",y=function(b,e,f){var k,l,q,t=d,p=d,x=d,u=d;null==this.passthroughs&&(this.passthroughs=d);null==e&&(e="normal");null==f&&(f=!1);if((k=e["$!"]())!==d&&null!=k&&(!k.$$is_boolean||1==k))return b;e["$=="]("normal")?e=a.const_get(v,"SUBS",!0,!0)["$[]"]("normal"):!1!==f&&
f!==d&&null!=f&&((k=a.const_get([a.Object.$$scope],"Symbol",!0,!0)["$==="](e))===d||null==k||k.$$is_boolean&&1!=k?(t=[],n(e,"each",[],(l=function(b){var e;null==b&&(b=d);return(e=a.const_get(v,"COMPOSITE_SUBS",!0,!0)["$has_key?"](b))===d||null==e||e.$$is_boolean&&1!=e?t["$<<"](b):t=c(t,a.const_get(v,"COMPOSITE_SUBS",!0,!0)["$[]"](b))},l.$$s=this,l.$$arity=1,l)),e=t):e=!1!==(k=a.const_get(v,"COMPOSITE_SUBS",!0,!0)["$[]"](e))&&k!==d&&null!=k?k:[e]);if((k=e["$empty?"]())!==d&&null!=k&&(!k.$$is_boolean||
1==k))return b;p=(k=x=a.const_get([a.Object.$$scope],"Array",!0,!0)["$==="](b))===d||null==k||k.$$is_boolean&&1!=k?b:h(b,a.const_get(v,"EOL",!0,!0));(k=u=e["$include?"]("macros"))===d||null==k||k.$$is_boolean&&1!=k||(p=this.$extract_passthroughs(p),(k=this.passthroughs["$empty?"]())===d||null==k||k.$$is_boolean&&1!=k||(u=!1));n(e,"each",[],(q=function(b){var c=q.$$s||this,g,f=d;null==b&&(b=d);f=b;return"specialcharacters"["$==="](f)?p=c.$sub_specialchars(p):"quotes"["$==="](f)?p=c.$sub_quotes(p):
"attributes"["$==="](f)?p=h(c.$sub_attributes(p.$split(a.const_get(v,"EOL",!0,!0))),a.const_get(v,"EOL",!0,!0)):"replacements"["$==="](f)?p=c.$sub_replacements(p):"macros"["$==="](f)?p=c.$sub_macros(p):"highlight"["$==="](f)?p=c.$highlight_source(p,e["$include?"]("callouts")):"callouts"["$==="](f)?(g=e["$include?"]("highlight"))===d||null==g||g.$$is_boolean&&1!=g?p=c.$sub_callouts(p):d:"post_replacements"["$==="](f)?p=c.$sub_post_replacements(p):c.$warn("asciidoctor: WARNING: unknown substitution type "+
b)},q.$$s=this,q.$$arity=1,q));!1!==u&&u!==d&&null!=u&&(p=this.$restore_passthroughs(p));return!1!==x&&x!==d&&null!=x?p.$split(a.const_get(v,"EOL",!0,!0)):p},y.$$arity=-2);a.defn(u,"$apply_normal_subs",w=function(b){var c;return this.$apply_subs((c=a.const_get([a.Object.$$scope],"Array",!0,!0)["$==="](b))===d||null==c||c.$$is_boolean&&1!=c?b:h(b,a.const_get(v,"EOL",!0,!0)))},w.$$arity=1);a.defn(u,"$apply_title_subs",B=function(b){return this.$apply_subs(b,a.const_get(v,"SUBS",!0,!0)["$[]"]("title"))},
B.$$arity=1);a.defn(u,"$apply_header_subs",J=function(b){return this.$apply_subs(b,a.const_get(v,"SUBS",!0,!0)["$[]"]("header"))},J.$$arity=1);a.defn(u,"$extract_passthroughs",A=function(c){var e,g,f,p,u,D,C=d,A=d,F=d,L=d;null==this.document&&(this.document=d);C=this.document.$compat_mode();(e=!1!==(g=!1!==(f=c["$include?"]("++"))&&f!==d&&null!=f?f:c["$include?"]("$$"))&&g!==d&&null!=g?g:c["$include?"]("ss:"))===d||null==e||e.$$is_boolean&&1!=e||(c=n(c,"gsub",[a.const_get(v,"PassInlineMacroRx",!0,
!0)],(p=function(){var c=p.$$s||this,e,g=d,f=d,E=d,S=d,u=S=E=d,Y=d,P=d,g=d;null==c.passthroughs&&(c.passthroughs=d);null==x["~"]&&(x["~"]=d);g=x["~"];f=d;if((e=(E=g["$[]"](4))["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e){if((e=!1!==C&&C!==d&&null!=C?E["$=="]("++"):C)!==d&&null!=e&&(!e.$$is_boolean||1==e))return(e=g["$[]"](2)["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?""+g["$[]"](1)+"["+g["$[]"](2)+"]"+g["$[]"](3)+"++"+c.$extract_passthroughs(g["$[]"](5))+"++":""+g["$[]"](1)+
g["$[]"](3)+"++"+c.$extract_passthroughs(g["$[]"](5))+"++";S=g["$[]"](2);(e=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===d||null==e||e.$$is_boolean&&1!=e||S["$=="]("")&&(S=d);u=g["$[]"](3).$size();Y=g["$[]"](5);P=!1;if(!1!==S&&S!==d&&null!=S)if((e=k(u,0))===d||null==e||e.$$is_boolean&&1!=e)g["$[]"](1)["$=="]("\\")?(f="["+S+"]",S=d):((e=E["$=="]("++")?S["$end_with?"]("x-"):E["$=="]("++"))===d||null==e||e.$$is_boolean&&1!=e||(P=!0,S=S["$[]"](q(0,-2,!0))),S=c.$parse_attributes(S));else return""+
g["$[]"](1)+"["+S+"]"+h("\\",l(u,1))+E+g["$[]"](5)+E+")";else if((e=k(u,0))!==d&&null!=e&&(!e.$$is_boolean||1==e))return""+g["$[]"](1)+"["+S+"]"+h("\\",l(u,1))+E+g["$[]"](5)+E;g=E["$=="]("+++")?[]:["specialcharacters"];E=c.passthroughs.$size();S=!1!==S&&S!==d&&null!=S?!1!==P&&P!==d&&null!=P?[E,b(["text","subs","type","attributes"],{text:Y,subs:a.const_get(v,"SUBS",!0,!0)["$[]"]("normal"),type:"monospaced",attributes:S})]:[E,b(["text","subs","type","attributes"],{text:Y,subs:g,type:"unquoted",attributes:S})]:
[E,b(["text","subs"],{text:Y,subs:g})]}else{if(g["$[]"](6)["$=="]("\\"))return g["$[]"](0)["$[]"](q(1,-1,!1));S=[E=c.passthroughs.$size(),b(["text","subs"],{text:c.$unescape_brackets(g["$[]"](8)),subs:(e=g["$[]"](7)["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?c.$resolve_pass_subs(g["$[]"](7)):[]})]}n(c.passthroughs,"[]=",a.to_a(S));S[l(S.length,1)];return""+f+a.const_get(v,"PASS_START",!0,!0)+E+a.const_get(v,"PASS_END",!0,!0)},p.$$s=this,p.$$arity=0,p)));g=a.const_get(v,"PassInlineRx",
!0,!0)["$[]"](C);e=a.to_ary(g);A=null==e[0]?d:e[0];F=null==e[1]?d:e[1];L=null==e[2]?d:e[2];g;(e=!1!==(g=c["$include?"](A))&&g!==d&&null!=g?g:(f=!1!==F&&F!==d&&null!=F)?c["$include?"](F):F)===d||null==e||e.$$is_boolean&&1!=e||(c=n(c,"gsub",[L],(u=function(){var c=u.$$s||this,e,g=d,f=d,h=d,k=d,E=d,p=d,S=d,E=h=g=d;null==c.passthroughs&&(c.passthroughs=d);null==x["~"]&&(x["~"]=d);g=x["~"];f=g["$[]"](1);h=g["$[]"](2);k=(e=g["$[]"](3)["$start_with?"]("\\"))===d||null==e||e.$$is_boolean&&1!=e?d:"\\";E=g["$[]"](4);
p=g["$[]"](5);(e=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===d||null==e||e.$$is_boolean&&1!=e||h["$=="]("")&&(h=d);!1!==C&&C!==d&&null!=C?S=!0:(e=S=!1!==h&&h!==d&&null!=h?h["$end_with?"]("x-"):h)===d||null==e||e.$$is_boolean&&1!=e||(h=h["$[]"](q(0,-2,!0)));if(!1!==h&&h!==d&&null!=h){if((e=E["$=="]("`")?S["$!"]():E["$=="]("`"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return""+f+"["+h+"]"+k+"`"+c.$extract_passthroughs(p)+"`";if(!1!==k&&k!==d&&null!=k)return""+f+"["+h+"]"+g["$[]"](3)["$[]"](q(1,
-1,!1));f["$=="]("\\")?(f="["+h+"]",h=d):h=c.$parse_attributes(h)}else{if((e=E["$=="]("`")?S["$!"]():E["$=="]("`"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return""+f+k+"`"+c.$extract_passthroughs(p)+"`";if(!1!==k&&k!==d&&null!=k)return""+f+g["$[]"](3)["$[]"](q(1,-1,!1))}g=c.passthroughs.$size();!1!==C&&C!==d&&null!=C?h=[g,b(["text","subs","attributes","type"],{text:p,subs:["specialcharacters"],attributes:h,type:"monospaced"})]:!1!==h&&h!==d&&null!=h?!1!==S&&S!==d&&null!=S?(E=E["$=="]("`")?["specialcharacters"]:
a.const_get(v,"SUBS",!0,!0)["$[]"]("normal"),h=[g,b(["text","subs","attributes","type"],{text:p,subs:E,attributes:h,type:"monospaced"})]):h=[g,b(["text","subs","attributes","type"],{text:p,subs:["specialcharacters"],attributes:h,type:"unquoted"})]:h=[g,b(["text","subs"],{text:p,subs:["specialcharacters"]})];n(c.passthroughs,"[]=",a.to_a(h));h[l(h.length,1)];return""+f+a.const_get(v,"PASS_START",!0,!0)+g+a.const_get(v,"PASS_END",!0,!0)},u.$$s=this,u.$$arity=0,u)));(e=(g=c["$include?"](":"),!1!==g&&
g!==d&&null!=g?!1!==(f=c["$include?"]("stem:"))&&f!==d&&null!=f?f:c["$include?"]("math:"):g))===d||null==e||e.$$is_boolean&&1!=e||(c=n(c,"gsub",[a.const_get(v,"StemInlineMacroRx",!0,!0)],(D=function(){var c=D.$$s||this,e,g=d,f=d,h=d,k=d,E=d,g=f=d;null==c.document&&(c.document=d);null==c.passthroughs&&(c.passthroughs=d);null==x["~"]&&(x["~"]=d);g=x["~"];if((e=g["$[]"](0)["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return g["$[]"](0)["$[]"](q(1,-1,!1));(f=g["$[]"](1).$to_sym())["$=="]("stem")&&
(f=((e=(h=c.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?h:"asciimath").$to_sym());k=c.$unescape_brackets(g["$[]"](3));E=(e=g["$[]"](2)["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?c.$resolve_pass_subs(g["$[]"](2)):(e=c.document["$basebackend?"]("html"))===d||null==e||e.$$is_boolean&&1!=e?[]:["specialcharacters"];f=[g=c.passthroughs.$size(),b(["text","subs","type"],{text:k,subs:E,type:f})];n(c.passthroughs,"[]=",a.to_a(f));f[l(f.length,
1)];return""+a.const_get(v,"PASS_START",!0,!0)+g+a.const_get(v,"PASS_END",!0,!0)},D.$$s=this,D.$$arity=0,D)));return c},A.$$arity=1);a.defn(u,"$restore_passthroughs",V=function(c,e){var g,f,h,k=this;null==k.passthroughs&&(k.passthroughs=d);null==e&&(e=!0);return function(){try{return(g=!1!==e&&e!==d&&null!=e?!1!==(f=k.passthroughs["$empty?"]())&&f!==d&&null!=f?f:c["$include?"](a.const_get(v,"PASS_START",!0,!0))["$!"]():e)===d||null==g||g.$$is_boolean&&1!=g?n(c,"gsub",[a.const_get(v,"PASS_MATCH",!0,
!0)],(h=function(){var c=h.$$s||this,e,g=d,f=d,k=d,l=d;null==c.passthroughs&&(c.passthroughs=d);null==x["~"]&&(x["~"]=d);g=c.passthroughs["$[]"](x["~"]["$[]"](1).$to_i());f=(e=k=g["$[]"]("subs"))===d||null==e||e.$$is_boolean&&1!=e?g["$[]"]("text"):c.$apply_subs(g["$[]"]("text"),k);(e=l=g["$[]"]("type"))===d||null==e||e.$$is_boolean&&1!=e||(f=a.const_get(v,"Inline",!0,!0).$new(c,"quoted",f,b(["type","attributes"],{type:l,attributes:g["$[]"]("attributes")})).$convert());return(e=f["$include?"](a.const_get(v,
"PASS_START",!0,!0)))===d||null==e||e.$$is_boolean&&1!=e?f:c.$restore_passthroughs(f,!1)},h.$$s=k,h.$$arity=0,h)):c}finally{!1!==e&&e!==d&&null!=e&&k.passthroughs.$clear()}}()},V.$$arity=-2);a.defn(u,"$sub_specialchars",R=function(b){var c,e;return(c=a.const_get(v,"SUPPORTS_GSUB_RESULT_HASH",!0,!0))===d||null==c||c.$$is_boolean&&1!=c?n(b,"gsub",[a.const_get(v,"SPECIAL_CHARS_PATTERN",!0,!0)],(e=function(){var b;return a.const_get(v,"SPECIAL_CHARS",!0,!0)["$[]"]((b=x["~"])===d?d:b["$[]"](0))},e.$$s=
this,e.$$arity=0,e)):b.$gsub(a.const_get(v,"SPECIAL_CHARS_PATTERN",!0,!0),a.const_get(v,"SPECIAL_CHARS",!0,!0))},R.$$arity=1);a.alias(u,"sub_specialcharacters","sub_specialchars");a.const_get(v,"RUBY_ENGINE",!0,!0)["$=="]("opal")?(a.defn(u,"$sub_quotes",Q=function(b){var c;null==this.document&&(this.document=d);n(a.const_get(v,"QUOTE_SUBS",!0,!0)["$[]"](this.document.$compat_mode()),"each",[],(c=function(a,e,g){var f=c.$$s||this,h;null==a&&(a=d);null==e&&(e=d);null==g&&(g=d);return b=n(b,"gsub",[g],
(h=function(){var b=h.$$s||this;null==x["~"]&&(x["~"]=d);return b.$convert_quoted_text(x["~"],a,e)},h.$$s=f,h.$$arity=0,h))},c.$$s=this,c.$$arity=3,c));return b},Q.$$arity=1),a.defn(u,"$sub_replacements",G=function(b){var c;n(a.const_get(v,"REPLACEMENTS",!0,!0),"each",[],(c=function(a,e,g){var f=c.$$s||this,h;null==a&&(a=d);null==e&&(e=d);null==g&&(g=d);return b=n(b,"gsub",[a],(h=function(){var a=h.$$s||this;null==x["~"]&&(x["~"]=d);return a.$do_replacement(x["~"],e,g)},h.$$s=f,h.$$arity=0,h))},c.$$s=
this,c.$$arity=3,c));return b},G.$$arity=1)):d;a.defn(u,"$do_replacement",O=function(a,b,c){var e,g=d,g=d;(e=(g=a["$[]"](0))["$include?"]("\\"))===d||null==e||e.$$is_boolean&&1!=e?(g=c,a="none"["$==="](g)?b:"leading"["$==="](g)?""+a["$[]"](1)+b:"bounding"["$==="](g)?""+a["$[]"](1)+b+a["$[]"](2):d):a=g.$tr("\\","");return a},O.$$arity=3);a.defn(u,"$sub_attributes",F=function(e,f){var k,l,q=this,t=d,p=d,u=d,D=d;null==q.document&&(q.document=d);null==f&&(f=b([],{}));if((k=e["$nil_or_empty?"]())!==d&&
null!=k&&(!k.$$is_boolean||1==k))return e;(k=t=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](e))===d||null==k||k.$$is_boolean&&1!=k||(e=[e]);p=q.document.$attributes();u=d;D=[];(function(){var b=a.new_brk();try{return n(e,"each",[],(l=function(b){var e=l.$$s||this,h,k,q,t=d,S=d;null==b&&(b=d);S=t=!1;(h=b["$include?"]("{"))===d||null==h||h.$$is_boolean&&1!=h||(b=function(){var h=a.new_brk();try{return n(b,"gsub",[a.const_get(v,"AttributeReferenceRx",!0,!0)],(k=function(){var b=k.$$s||this,
e,l,n,q=d,r=d,Z=d,I=d,N=d,T=d,Fa=d,Y=d,D=d;null==b.document&&(b.document=d);null==x["~"]&&(x["~"]=d);q=x["~"];if((e=!1!==(l=q["$[]"](1)["$=="]("\\"))&&l!==d&&null!=l?l:q["$[]"](4)["$=="]("\\"))===d||null==e||e.$$is_boolean&&1!=e){if((e=q["$[]"](3)["$nil_or_empty?"]()["$!"]())===d||null==e||e.$$is_boolean&&1!=e)return(e=p["$key?"](D=q["$[]"](2).$downcase()))===d||null==e||e.$$is_boolean&&1!=e?(e=a.const_get(v,"INTRINSIC_ATTRIBUTES",!0,!0)["$key?"](D))===d||null==e||e.$$is_boolean&&1!=e?function(){N=
!1!==(e=u)&&e!==d&&null!=e?e:u=!1!==(l=f["$[]"]("attribute_missing"))&&l!==d&&null!=l?l:p.$fetch("attribute-missing",a.const_get(v,"Compliance",!0,!0).$attribute_missing());if("skip"["$==="](N))return q["$[]"](0);if("drop-line"["$==="](N))b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+D),t=!0,a.brk("",h);else{if("warn"["$==="](N))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+D),q["$[]"](0);S=!0;return""}}():a.const_get(v,
"INTRINSIC_ATTRIBUTES",!0,!0)["$[]"](D):p["$[]"](D);r=c((Z=q["$[]"](3)).$length(),1);I=q["$[]"](2)["$[]"](a.Range.$new(r,-1,!1));return function(){N=Z;if("set"["$==="](N))return T=I.$split(":"),l=a.const_get(v,"Parser",!0,!0).$store_attribute(T["$[]"](0),!1!==(n=T["$[]"](1))&&n!==d&&null!=n?n:"",b.document),e=a.to_ary(l),Fa=null==e[1]?d:e[1],l,!1!==Fa&&Fa!==d&&null!=Fa||!p.$fetch("attribute-undefined",a.const_get(v,"Compliance",!0,!0).$attribute_undefined())["$=="]("drop-line")||(t=!0,a.brk("",h)),
S=!0,"";if("counter"["$==="](N)||"counter2"["$==="](N))return T=I.$split(":"),Y=b.document.$counter(T["$[]"](0),T["$[]"](1)),Z["$=="]("counter2")?(S=!0,""):Y;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+q["$[]"](3));return q["$[]"](0)}()}return"{"+q["$[]"](2)+"}"},k.$$s=e,k.$$brk=h,k.$$arity=0,k))}catch(l){if(l===h)return l.$v;throw l;}}());return(h=!1!==(q=t)&&q!==d&&null!=q?q:!1!==S&&S!==d&&null!=S?b["$empty?"]():S)===d||null==h||h.$$is_boolean&&1!=h?D["$<<"](b):d},l.$$s=q,l.$$brk=
b,l.$$arity=1,l))}catch(h){if(h===b)return h.$v;throw h;}})();return!1!==t&&t!==d&&null!=t?h(D,a.const_get(v,"EOL",!0,!0)):D},F.$$arity=-2);a.defn(u,"$sub_macros",L=function(c){var e,g,h,k,p,u,D,C,A,F,L,r,m,X=d,z=d,H=d,qa=d,M=d,P=d,y=d;null==this.document&&(this.document=d);if((e=c["$nil_or_empty?"]())!==d&&null!=e&&(!e.$$is_boolean||1==e))return c;X=b([],{});z=["square_bracket",c["$include?"]("[")];n(X,"[]=",a.to_a(z));z[l(z.length,1)];z=["round_bracket",c["$include?"]("(")];n(X,"[]=",a.to_a(z));
z[l(z.length,1)];z=["colon",H=c["$include?"](":")];n(X,"[]=",a.to_a(z));z[l(z.length,1)];z=["macroish",(e=X["$[]"]("square_bracket"),!1!==e&&e!==d&&null!=e?H:e)];n(X,"[]=",a.to_a(z));z[l(z.length,1)];z=["macroish_short_form",(e=(g=X["$[]"]("square_bracket"),!1!==g&&g!==d&&null!=g?H:g),!1!==e&&e!==d&&null!=e?c["$include?"](":["):e)];n(X,"[]=",a.to_a(z));z[l(z.length,1)];qa=this.document.$attributes()["$has_key?"]("linkattrs");M=this.document.$attributes()["$has_key?"]("experimental");P=""+c;!1!==M&&
M!==d&&null!=M&&((e=(g=X["$[]"]("macroish_short_form"),!1!==g&&g!==d&&null!=g?!1!==(h=P["$include?"]("kbd:"))&&h!==d&&null!=h?h:P["$include?"]("btn:"):g))===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"KbdBtnInlineMacroRx",!0,!0)],(k=function(){var c=k.$$s||this,e,g,f=d,h=d,f=f=d;null==x["~"]&&(x["~"]=d);f=x["~"];if((e=(h=f["$[]"](0))["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return h["$[]"](q(1,-1,!1));if((e=h["$start_with?"]("kbd"))===d||null==e||e.$$is_boolean&&
1!=e){if((e=h["$start_with?"]("btn"))===d||null==e||e.$$is_boolean&&1!=e)return d;f=c.$unescape_bracketed_text(f["$[]"](1));return a.const_get(v,"Inline",!0,!0).$new(c,"button",f).$convert()}f=c.$unescape_bracketed_text(f["$[]"](1));f=f["$=="]("+")?["+"]:n(f.$split(a.const_get(v,"KbdDelimiterRx",!0,!0)),"inject",[[]],(g=function(a,b){var c;null==a&&(a=d);null==b&&(b=d);if((c=b["$end_with?"]("++"))===d||null==c||c.$$is_boolean&&1!=c)a["$<<"](b.$strip());else a["$<<"](b["$[]"](q(0,-3,!1)).$strip()),
a["$<<"]("+");return a},g.$$s=c,g.$$arity=2,g));return a.const_get(v,"Inline",!0,!0).$new(c,"kbd",d,b(["attributes"],{attributes:b(["keys"],{keys:f})})).$convert()},k.$$s=this,k.$$arity=0,k))),(e=(g=X["$[]"]("macroish"),!1!==g&&g!==d&&null!=g?P["$include?"]("menu:"):g))===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"MenuInlineMacroRx",!0,!0)],(p=function(){var c=p.$$s||this,e,g,f,h=d,k=d,l=h=k=d,l=h=d;null==x["~"]&&(x["~"]=d);h=x["~"];if((e=(k=h["$[]"](0))["$start_with?"]("\\"))!==
d&&null!=e&&(!e.$$is_boolean||1==e))return k["$[]"](q(1,-1,!1));k=h["$[]"](1);h=h["$[]"](2);(e=h["$!"]())===d||null==e||e.$$is_boolean&&1!=e?(e=l=(g=h["$include?"]("&gt;"))===d||null==g||g.$$is_boolean&&1!=g?(g=h["$include?"](","))===d||null==g||g.$$is_boolean&&1!=g?d:",":"&gt;")===d||null==e||e.$$is_boolean&&1!=e?(l=[],h=h.$rstrip()):(l=n(h.$split(l),"map",[],(f=function(a){null==a&&(a=d);return a.$strip()},f.$$s=c,f.$$arity=1,f)),h=l.$pop()):(l=[],h=d);return a.const_get(v,"Inline",!0,!0).$new(c,
"menu",d,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:k,submenus:l,menuitem:h})})).$convert()},p.$$s=this,p.$$arity=0,p))),(e=(g=P["$include?"]('"'),!1!==g&&g!==d&&null!=g?P["$include?"]("&gt;"):g))===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"MenuInlineRx",!0,!0)],(u=function(){var c=u.$$s||this,e,g,h,k=d,l=d;g=l=k=k=d;null==x["~"]&&(x["~"]=d);k=x["~"];if((e=(l=k["$[]"](0))["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return l["$[]"](q(1,
-1,!1));k=k["$[]"](1);g=n(k.$split("&gt;"),"map",[],(h=function(a){null==a&&(a=d);return a.$strip()},h.$$s=c,h.$$arity=1,h));e=a.to_ary(g);k=null==e[0]?d:e[0];l=f.call(e,1);g;g=l.$pop();return a.const_get(v,"Inline",!0,!0).$new(c,"menu",d,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:k,submenus:l,menuitem:g})})).$convert()},u.$$s=this,u.$$arity=0,u))));(e=(g=y=this.document.$extensions(),!1!==g&&g!==d&&null!=g?y["$inline_macros?"]():g))===d||null==e||e.$$is_boolean&&1!=e||n(y.$inline_macros(),
"each",[],(D=function(a){var c=D.$$s||this,e;null==a&&(a=d);return P=n(P,"gsub",[a.$instance().$regexp()],(e=function(){var c=e.$$s||this,g,f=d,h=d,f=d;null==x["~"]&&(x["~"]=d);f=x["~"];if((g=f["$[]"](0)["$start_with?"]("\\"))!==d&&null!=g&&(!g.$$is_boolean||1==g))return f["$[]"](0)["$[]"](q(1,-1,!1));h=f["$[]"](1);f=a.$config()["$[]"]("format")["$=="]("short")?b([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?c.$parse_attributes(f["$[]"](2),!1!==(g=a.$config()["$[]"]("pos_attrs"))&&
g!==d&&null!=g?g:[],b(["sub_input","unescape_input"],{sub_input:!0,unescape_input:!0})):b(["text"],{text:c.$unescape_bracketed_text(f["$[]"](2))});return a.$process_method()["$[]"](c,h,f)},e.$$s=c,e.$$arity=0,e))},D.$$s=this,D.$$arity=1,D));(e=(g=X["$[]"]("macroish"),!1!==g&&g!==d&&null!=g?!1!==(h=P["$include?"]("image:"))&&h!==d&&null!=h?h:P["$include?"]("icon:"):g))===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"ImageInlineMacroRx",!0,!0)],(C=function(){var c=C.$$s||this,e,g,
f,h=d,k=g=d,l=d,l=h=d;null==c.document&&(c.document=d);null==x["~"]&&(x["~"]=d);h=x["~"];if((e=h["$[]"](0)["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return h["$[]"](0)["$[]"](q(1,-1,!1));g=c.$unescape_bracketed_text(h["$[]"](2));(e=h["$[]"](0)["$start_with?"]("icon:"))===d||null==e||e.$$is_boolean&&1!=e?(k="image",l=["alt","width","height"]):(k="icon",l=["size"]);h=c.$sub_attributes(h["$[]"](1));k["$=="]("icon")||c.document.$register("images",h);l=c.$parse_attributes(g,l);e="alt";
g=l;!1!==(f=g["$[]"](e))&&f!==d&&null!=f?f:g["$[]="](e,a.const_get(v,"Helpers",!0,!0).$basename(h,!0).$tr("_-"," "));return a.const_get(v,"Inline",!0,!0).$new(c,"image",d,b(["type","target","attributes"],{type:k,target:h,attributes:l})).$convert()},C.$$s=this,C.$$arity=0,C)));(e=!1!==(g=X["$[]"]("macroish_short_form"))&&g!==d&&null!=g?g:X["$[]"]("round_bracket"))===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"IndextermInlineMacroRx",!0,!0)],(A=function(){var c=A.$$s||this,e,g,f=
d,h=d,k=d,m=d,f=f=d;null==c.document&&(c.document=d);null==x["~"]&&(x["~"]=d);f=x["~"];if((e=f["$[]"](0)["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return f["$[]"](0)["$[]"](q(1,-1,!1));(e=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===d||null==e||e.$$is_boolean&&1!=e||!f["$[]"](1)["$=="]("")||(z=[1,d],n(f,"[]=",a.to_a(z)),z[l(z.length,1)]);h=0;k=d;if((e=m=f["$[]"](1))===d||null==e||e.$$is_boolean&&1!=e)k=f["$[]"](3),(e=(g=k["$start_with?"]("("),!1!==g&&g!==d&&null!=
g?k["$end_with?"](")"):g))===d||null==e||e.$$is_boolean&&1!=e?h=2:(k=k["$[]"](q(1,-1,!0)),h=3);if((e=!1!==(g=m["$=="]("indexterm"))&&g!==d&&null!=g?g:h["$=="](3))===d||null==e||e.$$is_boolean&&1!=e)return f=(e=m["$!"]())===d||null==e||e.$$is_boolean&&1!=e?c.$normalize_string(f["$[]"](2),!0):c.$normalize_string(k),c.document.$register("indexterms",[f]),a.const_get(v,"Inline",!0,!0).$new(c,"indexterm",f,b(["type"],{type:"visible"})).$convert();f=(e=m["$!"]())===d||null==e||e.$$is_boolean&&1!=e?c.$split_simple_csv(c.$normalize_string(f["$[]"](2),
!0)):c.$split_simple_csv(c.$normalize_string(k));c.document.$register("indexterms",[].concat(a.to_a(f)));return a.const_get(v,"Inline",!0,!0).$new(c,"indexterm",d,b(["attributes"],{attributes:b(["terms"],{terms:f})})).$convert()},A.$$s=this,A.$$arity=0,A)));(e=(g=!1!==H&&H!==d&&null!=H)?P["$include?"]("://"):H)===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"LinkInlineRx",!0,!0)],(F=function(){var c=F.$$s||this,e,g,f,h,k=d,m=d,r=d,p=d,E=d,u=E=d,k=d;null==c.document&&(c.document=
d);null==x["~"]&&(x["~"]=d);k=x["~"];if((e=k["$[]"](2)["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return""+k["$[]"](1)+k["$[]"](2)["$[]"](q(1,-1,!1))+k["$[]"](3);(e=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===d||null==e||e.$$is_boolean&&1!=e||!k["$[]"](3)["$=="]("")||(z=[3,d],n(k,"[]=",a.to_a(z)),z[l(z.length,1)]);if((e=(g=k["$[]"](1)["$=="]("link:"))?k["$[]"](3)["$!"]():k["$[]"](1)["$=="]("link:"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return k["$[]"](0);m=(e=k["$[]"](1)["$!="]("link:"))===
d||null==e||e.$$is_boolean&&1!=e?"":k["$[]"](1);r=k["$[]"](2);p="";if((e=!1!==(g=k["$[]"](3))&&g!==d&&null!=g?g:r["$!~"](a.const_get(v,"UriTerminator",!0,!0)))===d||null==e||e.$$is_boolean&&1!=e)E=x["~"]["$[]"](0),")"["$==="](E)?(r=r["$[]"](q(0,-2,!1)),p=")"):";"["$==="](E)?(e=(g=m["$start_with?"]("&lt;"),!1!==g&&g!==d&&null!=g?r["$end_with?"]("&gt;"):g))===d||null==e||e.$$is_boolean&&1!=e?(e=r["$end_with?"](");"))===d||null==e||e.$$is_boolean&&1!=e?(r=r["$[]"](q(0,-2,!1)),p=";"):(r=r["$[]"](q(0,
-3,!1)),p=");"):(m=m["$[]"](q(4,-1,!1)),r=r["$[]"](q(0,-5,!1))):":"["$==="](E)&&((e=r["$end_with?"]("):"))===d||null==e||e.$$is_boolean&&1!=e?(r=r["$[]"](q(0,-2,!1)),p=":"):(r=r["$[]"](q(0,-3,!1)),p="):"));c.document.$register("links",r);E=b(["type","target"],{type:"link",target:r});u=d;(e=k["$[]"](3)["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?((e=!1!==qa&&qa!==d&&null!=qa?!1!==(f=k["$[]"](3)["$start_with?"]('"'))&&f!==d&&null!=f?f:(h=k["$[]"](3)["$include?"](","),!1!==h&&h!==d&&null!=
h?k["$[]"](3)["$include?"]("="):h):qa)===d||null==e||e.$$is_boolean&&1!=e?k=c.$sub_attributes(k["$[]"](3).$gsub("\\]","]")):(u=c.$parse_attributes(c.$sub_attributes(k["$[]"](3).$gsub("\\]","]")),[]),(e=u["$has_key?"]("id"))===d||null==e||e.$$is_boolean&&1!=e||(z=["id",u.$delete("id")],n(E,"[]=",a.to_a(z)),z[l(z.length,1)]),k=!1!==(e=u["$[]"](1))&&e!==d&&null!=e?e:""),(e=k["$end_with?"]("^"))===d||null==e||e.$$is_boolean&&1!=e||(k=k.$chop(),!1!==u&&u!==d&&null!=u?(e="window",g=u,!1!==(f=g["$[]"](e))&&
f!==d&&null!=f?f:g["$[]="](e,"_blank")):u=b(["window"],{window:"_blank"}))):k="";(e=k["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e||(k=(e=c.document["$attr?"]("hide-uri-scheme"))===d||null==e||e.$$is_boolean&&1!=e?r:r.$sub(a.const_get(v,"UriSniffRx",!0,!0),""),!1!==u&&u!==d&&null!=u?(z=["role",("bare "+u["$[]"]("role")).$chomp(" ")],n(u,"[]=",a.to_a(z)),z[l(z.length,1)]):u=b(["role"],{role:"bare"}));!1!==u&&u!==d&&null!=u&&(z=["attributes",u],n(E,"[]=",a.to_a(z)),z[l(z.length,1)]);return""+m+
a.const_get(v,"Inline",!0,!0).$new(c,"anchor",k,E).$convert()+p},F.$$s=this,F.$$arity=0,F)));(e=!1!==(g=(h=X["$[]"]("macroish"),!1!==h&&h!==d&&null!=h?P["$include?"]("link:"):h))&&g!==d&&null!=g?g:P["$include?"]("mailto:"))===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"LinkInlineMacroRx",!0,!0)],(L=function(){var c=L.$$s||this,e,g,f,h=d,k=d,m=d,r=g=d,p=d,h=d;null==c.document&&(c.document=d);null==x["~"]&&(x["~"]=d);h=x["~"];if((e=h["$[]"](0)["$start_with?"]("\\"))!==d&&null!=e&&
(!e.$$is_boolean||1==e))return h["$[]"](0)["$[]"](q(1,-1,!1));k=h["$[]"](1);m=h["$[]"](0)["$start_with?"]("mailto:");g=!1!==m&&m!==d&&null!=m?"mailto:"+k:k;r=b(["type","target"],{type:"link",target:g});p=d;(e=!1!==qa&&qa!==d&&null!=qa?!1!==(f=h["$[]"](2)["$start_with?"]('"'))&&f!==d&&null!=f?f:h["$[]"](2)["$include?"](","):qa)===d||null==e||e.$$is_boolean&&1!=e?h=c.$sub_attributes(h["$[]"](2).$gsub("\\]","]")):(p=c.$parse_attributes(c.$sub_attributes(h["$[]"](2).$gsub("\\]","]")),[]),(e=p["$key?"]("id"))===
d||null==e||e.$$is_boolean&&1!=e||(z=["id",p.$delete("id")],n(r,"[]=",a.to_a(z)),z[l(z.length,1)]),!1===m||m===d||null==m||(e=p["$key?"](2))===d||null==e||e.$$is_boolean&&1!=e||(g=(z=["target",""+g+"?subject="+a.const_get(v,"Helpers",!0,!0).$encode_uri(p["$[]"](2))],n(r,"[]=",a.to_a(z)),z[l(z.length,1)]),(e=p["$key?"](3))===d||null==e||e.$$is_boolean&&1!=e||(g=(z=["target",""+g+"&amp;body="+a.const_get(v,"Helpers",!0,!0).$encode_uri(p["$[]"](3))],n(r,"[]=",a.to_a(z)),z[l(z.length,1)]))),h=p["$[]"](1));
c.document.$register("links",g);(e=h["$end_with?"]("^"))===d||null==e||e.$$is_boolean&&1!=e||(h=h.$chop(),!1!==p&&p!==d&&null!=p?(e="window",g=p,!1!==(f=g["$[]"](e))&&f!==d&&null!=f?f:g["$[]="](e,"_blank")):p=b(["window"],{window:"_blank"}));(e=h["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e||(!1!==m&&m!==d&&null!=m?h=k:(h=(e=c.document["$attr?"]("hide-uri-scheme"))===d||null==e||e.$$is_boolean&&1!=e?k:k.$sub(a.const_get(v,"UriSniffRx",!0,!0),""),!1!==p&&p!==d&&null!=p?(z=["role",("bare "+p["$[]"]("role")).$chomp(" ")],
n(p,"[]=",a.to_a(z)),z[l(z.length,1)]):p=b(["role"],{role:"bare"})));!1!==p&&p!==d&&null!=p&&(z=["attributes",p],n(r,"[]=",a.to_a(z)),z[l(z.length,1)]);return a.const_get(v,"Inline",!0,!0).$new(c,"anchor",h,r).$convert()},L.$$s=this,L.$$arity=0,L)));(e=P["$include?"]("@"))===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"EmailInlineMacroRx",!0,!0)],(r=function(){var c=r.$$s||this,e,g=d,f=d,g=g=d;null==c.document&&(c.document=d);null==x["~"]&&(x["~"]=d);g=x["~"];f=g["$[]"](0);if((e=
g=g["$[]"](1))!==d&&null!=e&&(!e.$$is_boolean||1==e))return"\\"["$==="](g)?f["$[]"](q(1,-1,!1)):f;g="mailto:"+f;c.document.$register("links",g);return a.const_get(v,"Inline",!0,!0).$new(c,"anchor",f,b(["type","target"],{type:"link",target:g})).$convert()},r.$$s=this,r.$$arity=0,r)));(e=(g=X["$[]"]("macroish_short_form"),!1!==g&&g!==d&&null!=g?P["$include?"]("footnote"):g))===d||null==e||e.$$is_boolean&&1!=e||(P=n(P,"gsub",[a.const_get(v,"FootnoteInlineMacroRx",!0,!0)],(m=function(){var c=m.$$s||this,
e,g,f,h=d,k=d,l=g=h=d,t=d,h=d;null==c.document&&(c.document=d);null==x["~"]&&(x["~"]=d);h=x["~"];if((e=h["$[]"](0)["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return h["$[]"](0)["$[]"](q(1,-1,!1));h["$[]"](1)["$=="]("footnote")?(k=d,h=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(h["$[]"](2),!0))),!1),g=c.document.$counter("footnote-number"),c.document.$register("footnotes",a.const_get([a.const_get(v,"Document",!0,!0).$$scope],"Footnote",!0,
!0).$new(g,k,h)),t=l=d):(g=h["$[]"](2).$split(",",2),e=a.to_ary(g),k=null==e[0]?d:e[0],h=null==e[1]?d:e[1],g,k=k.$strip(),(e=h["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?(h=c.$restore_passthroughs(c.$sub_inline_xrefs(c.$sub_inline_anchors(c.$normalize_string(h,!0))),!1),g=c.document.$counter("footnote-number"),c.document.$register("footnotes",a.const_get([a.const_get(v,"Document",!0,!0).$$scope],"Footnote",!0,!0).$new(g,k,h)),l="ref",t=d):((e=h=n(c.document.$references()["$[]"]("footnotes"),
"find",[],(f=function(a){null==a&&(a=d);return a.$id()["$=="](k)},f.$$s=c,f.$$arity=1,f)))===d||null==e||e.$$is_boolean&&1!=e?(g=d,h=k):(g=h.$index(),h=h.$text()),t=k,k=d,l="xref"));return a.const_get(v,"Inline",!0,!0).$new(c,"footnote",h,b(["attributes","id","target","type"],{attributes:b(["index"],{index:g}),id:k,target:t,type:l})).$convert()},m.$$s=this,m.$$arity=0,m)));return this.$sub_inline_xrefs(this.$sub_inline_anchors(P,X),X)},L.$$arity=1);a.defn(u,"$sub_inline_anchors",D=function(c,e){var g,
f,h,k,p,u;null==e&&(e=d);(g=(f=!1!==(h=e["$!"]())&&h!==d&&null!=h?h:e["$[]"]("square_bracket"),!1!==f&&f!==d&&null!=f?c["$include?"]("[[["):f))===d||null==g||g.$$is_boolean&&1!=g||(c=n(c,"gsub",[a.const_get(v,"InlineBiblioAnchorRx",!0,!0)],(k=function(){var c=k.$$s||this,e,g=d,f=g=d;null==x["~"]&&(x["~"]=d);g=x["~"];if((e=g["$[]"](0)["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return g["$[]"](0)["$[]"](q(1,-1,!1));g=f=g["$[]"](1);return a.const_get(v,"Inline",!0,!0).$new(c,"anchor",
f,b(["type","target"],{type:"bibref",target:g})).$convert()},k.$$s=this,k.$$arity=0,k)));(g=!1!==(f=(h=!1!==(p=e["$!"]())&&p!==d&&null!=p?p:e["$[]"]("square_bracket"),!1!==h&&h!==d&&null!=h?c["$include?"]("[["):h))&&f!==d&&null!=f?f:(h=!1!==(p=e["$!"]())&&p!==d&&null!=p?p:e["$[]"]("macroish"),!1!==h&&h!==d&&null!=h?c["$include?"]("anchor:"):h))===d||null==g||g.$$is_boolean&&1!=g||(c=n(c,"gsub",[a.const_get(v,"InlineAnchorRx",!0,!0)],(u=function(){var c=u.$$s||this,e,g,f=d,h=d,f=h=d;null==x["~"]&&
(x["~"]=d);f=x["~"];if((e=f["$[]"](0)["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return f["$[]"](0)["$[]"](q(1,-1,!1));(e=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===d||null==e||e.$$is_boolean&&1!=e||(f["$[]"](1)["$=="]("")&&(h=[1,d],n(f,"[]=",a.to_a(h)),h[l(h.length,1)]),f["$[]"](2)["$=="]("")&&(h=[2,d],n(f,"[]=",a.to_a(h)),h[l(h.length,1)]),f["$[]"](4)["$=="]("")&&(h=[4,d],n(f,"[]=",a.to_a(h)),h[l(h.length,1)]));h=!1!==(e=f["$[]"](1))&&e!==d&&null!=e?e:f["$[]"](3);
f=!1!==(e=!1!==(g=f["$[]"](2))&&g!==d&&null!=g?g:f["$[]"](4))&&e!==d&&null!=e?e:"["+h+"]";return a.const_get(v,"Inline",!0,!0).$new(c,"anchor",f,b(["type","target"],{type:"ref",target:h})).$convert()},u.$$s=this,u.$$arity=0,u)));return c},D.$$arity=-2);a.defn(u,"$sub_inline_xrefs",ba=function(c,e){var g,f,h,k;null==e&&(e=d);(g=!1!==(f=!1!==(h=e["$!"]())&&h!==d&&null!=h?h:e["$[]"]("macroish"))&&f!==d&&null!=f?f:c["$include?"]("&lt;&lt;"))===d||null==g||g.$$is_boolean&&1!=g||(c=n(c,"gsub",[a.const_get(v,
"XrefInlineMacroRx",!0,!0)],(k=function(){var c=k.$$s||this,e,g,f,h,p,r=d,m=d,E=m=d,u=m=r=d,D=d,u=d;null==c.document&&(c.document=d);null==x["~"]&&(x["~"]=d);r=x["~"];if((e=r["$[]"](0)["$start_with?"]("\\"))!==d&&null!=e&&(!e.$$is_boolean||1==e))return r["$[]"](0)["$[]"](q(1,-1,!1));(e=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0))===d||null==e||e.$$is_boolean&&1!=e||!r["$[]"](1)["$=="]("")||(m=[1,d],n(r,"[]=",a.to_a(m)),m[l(m.length,1)]);if((e=r["$[]"](1))===d||null==e||e.$$is_boolean&&
1!=e){if(m=r["$[]"](2),(e=r["$[]"](3)["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e)E=r["$[]"](3)}else g=n(r["$[]"](1).$split(",",2),"map",[],(f=function(a){null==a&&(a=d);return a.$strip()},f.$$s=c,f.$$arity=1,f)),e=a.to_ary(g),m=null==e[0]?d:e[0],E=null==e[1]?d:e[1],g,m=m.$sub(a.const_get(v,"DoubleQuotedRx",!0,!0),"\\2"),E=(e=E["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e?E.$sub(a.const_get(v,"DoubleQuotedMultiRx",!0,!0),"\\2"):d;(e=m["$include?"]("#"))===d||null==e||e.$$is_boolean&&
1!=e?r=d:(g=m.$split("#"),e=a.to_ary(g),r=null==e[0]?d:e[0],m=null==e[1]?d:e[1],g);!1!==r&&r!==d&&null!=r?(r=a.const_get(v,"Helpers",!0,!0).$rootname(r),(e=!1!==(g=c.document.$attributes()["$[]"]("docname")["$=="](r))&&g!==d&&null!=g?g:c.document.$references()["$[]"]("includes")["$include?"](r))===d||null==e||e.$$is_boolean&&1!=e?(u=!1!==m&&m!==d&&null!=m?""+r+"#"+m:r,r=""+c.document.$attributes()["$[]"]("relfileprefix")+r+c.document.$attributes().$fetch("outfilesuffix",".html"),D=!1!==m&&m!==d&&
null!=m?""+r+"#"+m:r):(u=m,r=d,D="#"+m)):((e=(g=(h=c.document.$references()["$[]"]("ids")["$has_key?"](m)["$!"](),!1!==h&&h!==d&&null!=h?!1!==(p=m["$include?"](" "))&&p!==d&&null!=p?p:m.$downcase()["$!="](m):h),!1!==g&&g!==d&&null!=g?u=(h=a.const_get(v,"RUBY_MIN_VERSION_1_9",!0,!0))===d||null==h||h.$$is_boolean&&1!=h?c.document.$references()["$[]"]("ids").$index(m):c.document.$references()["$[]"]("ids").$key(m):g))===d||null==e||e.$$is_boolean&&1!=e||(m=u),u=m,D="#"+m);return a.const_get(v,"Inline",
!0,!0).$new(c,"anchor",E,b(["type","target","attributes"],{type:"xref",target:D,attributes:b(["path","fragment","refid"],{path:r,fragment:m,refid:u})})).$convert()},k.$$s=this,k.$$arity=0,k)));return c},ba.$$arity=-2);a.defn(u,"$sub_callouts",ia=function(c){var e,g,f=d,f=(e=this["$attr?"]("line-comment"))===d||null==e||e.$$is_boolean&&1!=e?a.const_get(v,"CalloutSourceRx",!0,!0):new RegExp("(?:"+a.const_get([a.Object.$$scope],"Regexp",!0,!0).$escape(this.$attr("line-comment"))+" )?"+a.const_get(v,
"CalloutSourceRxt",!0,!0));return n(c,"gsub",[f],(g=function(){var c=g.$$s||this,e=d;null==c.document&&(c.document=d);null==x["~"]&&(x["~"]=d);e=x["~"];return e["$[]"](1)["$=="]("\\")?e["$[]"](0).$sub("\\",""):a.const_get(v,"Inline",!0,!0).$new(c,"callout",e["$[]"](3),b(["id"],{id:c.document.$callouts().$read_next_id()})).$convert()},g.$$s=this,g.$$arity=0,g))},ia.$$arity=1);a.defn(u,"$sub_post_replacements",na=function(c){var e,g,f,k,l=d,q=d;null==this.document&&(this.document=d);null==this.attributes&&
(this.attributes=d);if((e=!1!==(g=this.document.$attributes()["$has_key?"]("hardbreaks"))&&g!==d&&null!=g?g:this.attributes["$has_key?"]("hardbreaks-option"))===d||null==e||e.$$is_boolean&&1!=e)return(e=c["$include?"]("+"))===d||null==e||e.$$is_boolean&&1!=e?c:n(c,"gsub",[a.const_get(v,"LineBreakRx",!0,!0)],(k=function(){var c=k.$$s||this;null==x["~"]&&(x["~"]=d);return a.const_get(v,"Inline",!0,!0).$new(c,"break",x["~"]["$[]"](1),b(["type"],{type:"line"})).$convert()},k.$$s=this,k.$$arity=0,k));
l=c.$split(a.const_get(v,"EOL",!0,!0));if(l.$size()["$=="](1))return c;q=l.$pop();return h(n(l,"map",[],(f=function(c){var e=f.$$s||this;null==c&&(c=d);return a.const_get(v,"Inline",!0,!0).$new(e,"break",c.$rstrip().$chomp(a.const_get(v,"LINE_BREAK",!0,!0)),b(["type"],{type:"line"})).$convert()},f.$$s=this,f.$$arity=1,f)).$push(q),a.const_get(v,"EOL",!0,!0))},na.$$arity=1);a.defn(u,"$convert_quoted_text",pa=function(c,e,g){var f,h=d,k=d,l=h=d,h=d;if((f=c["$[]"](0)["$start_with?"]("\\"))!==d&&null!=
f&&(!f.$$is_boolean||1==f)){if((f=g["$=="]("constrained")?(k=c["$[]"](2))["$nil_or_empty?"]()["$!"]():g["$=="]("constrained"))===d||null==f||f.$$is_boolean&&1!=f)return c["$[]"](0)["$[]"](q(1,-1,!1));h="["+k+"]"}if(g["$=="]("constrained")){if(!1!==h&&h!==d&&null!=h)return""+h+a.const_get(v,"Inline",!0,!0).$new(this,"quoted",c["$[]"](3),b(["type"],{type:e})).$convert();(f=h=this.$parse_quoted_text_attributes(c["$[]"](2)))===d||null==f||f.$$is_boolean&&1!=f?l=d:(l=h.$delete("id"),e["$=="]("mark")&&
(e="unquoted"));return""+c["$[]"](1)+a.const_get(v,"Inline",!0,!0).$new(this,"quoted",c["$[]"](3),b(["type","id","attributes"],{type:e,id:l,attributes:h})).$convert()}(f=h=this.$parse_quoted_text_attributes(c["$[]"](1)))===d||null==f||f.$$is_boolean&&1!=f?l=d:(l=h.$delete("id"),e["$=="]("mark")&&(e="unquoted"));return a.const_get(v,"Inline",!0,!0).$new(this,"quoted",c["$[]"](2),b(["type","id","attributes"],{type:e,id:l,attributes:h})).$convert()},pa.$$arity=3);a.defn(u,"$parse_quoted_text_attributes",
ja=function(c){var e,g,q,p=d,u=d,x=d,u=x=p=d;if(!1===c||c===d||null==c)return d;if((e=c["$empty?"]())!==d&&null!=e&&(!e.$$is_boolean||1==e))return b([],{});(e=c["$include?"]("{"))===d||null==e||e.$$is_boolean&&1!=e||(c=this.$sub_attributes(c));c=c.$strip();(e=c["$include?"](","))===d||null==e||e.$$is_boolean&&1!=e||(g=c.$split(",",2),e=a.to_ary(g),c=null==e[0]?d:e[0],g);if((e=c["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e){if((e=(g=!1!==(q=c["$start_with?"]("."))&&q!==d&&null!=q?q:c["$start_with?"]("#"),
!1!==g&&g!==d&&null!=g?a.const_get(v,"Compliance",!0,!0).$shorthand_property_syntax():g))===d||null==e||e.$$is_boolean&&1!=e)return b(["role"],{role:c});p=c.$split("#",2);(e=k(p.$length(),1))===d||null==e||e.$$is_boolean&&1!=e?(u=d,x=[]):(g=p["$[]"](1).$split("."),e=a.to_ary(g),u=null==e[0]?d:e[0],x=f.call(e,1),g);p=(e=p["$[]"](0)["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e?p["$[]"](0).$split("."):[];(e=k(p.$length(),1))===d||null==e||e.$$is_boolean&&1!=e||p.$shift();(e=k(x.$length(),0))===d||
null==e||e.$$is_boolean&&1!=e||p.$concat(x);x=b([],{});!1!==u&&u!==d&&null!=u&&(u=["id",u],n(x,"[]=",a.to_a(u)),u[l(u.length,1)]);if((e=p["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e)u=["role",h(p," ")],n(x,"[]=",a.to_a(u)),u[l(u.length,1)];return x}return b([],{})},ja.$$arity=1);a.defn(u,"$parse_attributes",K=function(c,e,g){var f,h=d,k=d;null==this.document&&(this.document=d);null==e&&(e=["role"]);null==g&&(g=b([],{}));if(!1===c||c===d||null==c)return d;if((f=c["$empty?"]())!==d&&null!=f&&(!f.$$is_boolean||
1==f))return b([],{});(f=g["$[]"]("sub_input"))===d||null==f||f.$$is_boolean&&1!=f||(c=this.document.$sub_attributes(c));(f=g["$[]"]("unescape_input"))===d||null==f||f.$$is_boolean&&1!=f||(c=this.$unescape_bracketed_text(c));h=d;(f=g.$fetch("sub_result",!0))===d||null==f||f.$$is_boolean&&1!=f||(h=this);return(f=k=g["$[]"]("into"))===d||null==f||f.$$is_boolean&&1!=f?a.const_get(v,"AttributeList",!0,!0).$new(c,h).$parse(e):a.const_get(v,"AttributeList",!0,!0).$new(c,h).$parse_into(k,e)},K.$$arity=-2);
a.defn(u,"$unescape_bracketed_text",ga=function(b){var c;return(c=b["$empty?"]())===d||null==c||c.$$is_boolean&&1!=c?b.$strip().$tr(a.const_get(v,"EOL",!0,!0)," ").$gsub("\\]","]"):""},ga.$$arity=1);a.defn(u,"$normalize_string",ha=function(b,c){var e;null==c&&(c=!1);return(e=b["$empty?"]())===d||null==e||e.$$is_boolean&&1!=e?!1!==c&&c!==d&&null!=c?this.$unescape_brackets(b.$strip().$tr(a.const_get(v,"EOL",!0,!0)," ")):b.$strip().$tr(a.const_get(v,"EOL",!0,!0)," "):""},ha.$$arity=-2);a.defn(u,"$unescape_brackets",
X=function(a){var b;return(b=a["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""},X.$$arity=1);a.defn(u,"$split_simple_csv",ma=function(a){var b,c,e,g=d,f=d,h=d;(b=a["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"]('"'))===d||null==b||b.$$is_boolean&&1!=b?g=n(a.$split(","),"map",[],(e=function(a){null==a&&(a=d);return a.$strip()},e.$$s=this,e.$$arity=1,e)):(g=[],f=[],h=!1,n(a,"each_char",[],(c=function(a){var b=d;null==a&&(a=d);return function(){b=a;if(","["$==="](b)){if(!1!==
h&&h!==d&&null!=h)return f.$push(a);g["$<<"](f.$join().$strip());return f=[]}return'"'["$==="](b)?h=h["$!"]():f.$push(a)}()},c.$$s=this,c.$$arity=1,c)),g["$<<"](f.$join().$strip())):g=[];return g},ma.$$arity=1);a.defn(u,"$resolve_subs",ka=function(b,e,f,p){var u,x,D=d,C=d,A=d,z=d;null==e&&(e="block");null==f&&(f=d);null==p&&(p=d);if((u=b["$nil_or_empty?"]())!==d&&null!=u&&(!u.$$is_boolean||1==u))return[];D=d;C=a.const_get(v,"SubModifierSniffRx",!0,!0)["$=~"](b);n(b.$tr(" ","").$split(","),"each",
[],(x=function(b){var h,k,m,n=d,p=k=k=k=d,n=d;null==b&&(b=d);n=d;!1!==C&&C!==d&&null!=C&&((k=b.$chr())["$=="]("+")?(n="append",b=b["$[]"](q(1,-1,!1))):k["$=="]("-")?(n="remove",b=b["$[]"](q(1,-1,!1))):(h=b["$end_with?"]("+"))===d||null==h||h.$$is_boolean&&1!=h||(n="prepend",b=b.$chop()));b=b.$to_sym();(h=(k=e["$=="]("inline"))?!1!==(m=b["$=="]("verbatim"))&&m!==d&&null!=m?m:b["$=="]("v"):e["$=="]("inline"))===d||null==h||h.$$is_boolean&&1!=h?(h=a.const_get(v,"COMPOSITE_SUBS",!0,!0)["$key?"](b))===
d||null==h||h.$$is_boolean&&1!=h?(h=(k=e["$=="]("inline")?b.$length()["$=="](1):e["$=="]("inline"),!1!==k&&k!==d&&null!=k?a.const_get(v,"SUB_SYMBOLS",!0,!0)["$key?"](b):k))===d||null==h||h.$$is_boolean&&1!=h?k=[b]:(k=a.const_get(v,"SUB_SYMBOLS",!0,!0)["$[]"](b),k=(h=p=a.const_get(v,"COMPOSITE_SUBS",!0,!0)["$[]"](k))===d||null==h||h.$$is_boolean&&1!=h?[k]:p):k=a.const_get(v,"COMPOSITE_SUBS",!0,!0)["$[]"](b):k=["specialcharacters"];if(!1!==n&&n!==d&&null!=n)return!1!==(h=D)&&h!==d&&null!=h?h:D=!1!==
f&&f!==d&&null!=f?f.$dup():[],"append"["$==="](n)?D=c(D,k):"prepend"["$==="](n)?D=c(k,D):"remove"["$==="](n)?D=l(D,k):d;!1!==(h=D)&&h!==d&&null!=h?h:D=[];return D=c(D,k)},x.$$s=this,x.$$arity=1,x));A=D["$&"](a.const_get(v,"SUB_OPTIONS",!0,!0)["$[]"](e));if((u=l(D,A)["$empty?"]())===d||null==u||u.$$is_boolean&&1!=u)z=l(D,A),this.$warn("asciidoctor: WARNING: invalid substitution type"+((u=k(z.$size(),1))===d||null==u||u.$$is_boolean&&1!=u?"":"s")+(!1!==p&&p!==d&&null!=p?" for ":d)+p+": "+h(z,", "));
return A},ka.$$arity=-2);a.defn(u,"$resolve_block_subs",sa=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},sa.$$arity=3);a.defn(u,"$resolve_pass_subs",wa=function(a){return this.$resolve_subs(a,"inline",d,"passthrough macro")},wa.$$arity=1);a.defn(u,"$highlight_source",xa=function(e,f,k){var q,p,u,D,C=d,A=d,z=d,X=d,F=d,r=d,m=d,L=A=d,H=d,M=C=d,qa=d,y=d;null==this.document&&(this.document=d);null==this.passthroughs&&(this.passthroughs=d);null==k&&(k=d);C=!1!==(q=k)&&q!==d&&null!=q?q:k=this.document.$attributes()["$[]"]("source-highlighter");
if("coderay"["$==="](C)){if((q=!1!==(p=A=a.const_get([a.Object.$$scope],"CodeRay",!0,!1)?"constant":d)&&p!==d&&null!=p?p:this.document.$attributes()["$[]"]("coderay-unavailable"))===d||null==q||q.$$is_boolean&&1!=q)(q=a.const_get(v,"Helpers",!0,!0).$require_library("coderay",!0,"warn")["$nil?"]())===d||null==q||q.$$is_boolean&&1!=q?A=!0:this.document.$set_attr("coderay-unavailable","")}else if("pygments"["$==="](C)){if((q=!1!==(p=A=a.const_get([a.Object.$$scope],"Pygments",!0,!1)?"constant":d)&&p!==
d&&null!=p?p:this.document.$attributes()["$[]"]("pygments-unavailable"))===d||null==q||q.$$is_boolean&&1!=q)(q=a.const_get(v,"Helpers",!0,!0).$require_library("pygments","pygments.rb","warn")["$nil?"]())===d||null==q||q.$$is_boolean&&1!=q?A=!0:this.document.$set_attr("pygments-unavailable","")}else A=!1;if(!1===A||A===d||null==A)return this.$sub_source(e,f);z=0;X=!1;!1!==f&&f!==d&&null!=f?(F=b([],{}),r=-1,m=(q=this["$attr?"]("line-comment"))===d||null==q||q.$$is_boolean&&1!=q?a.const_get(v,"CalloutExtractRx",
!0,!0):new RegExp("(?:"+a.const_get([a.Object.$$scope],"Regexp",!0,!0).$escape(this.$attr("line-comment"))+" )?"+a.const_get(v,"CalloutExtractRxt",!0,!0)),e=h(n(e.$split(a.const_get(v,"EOL",!0,!0)),"map",[],(u=function(a){var b=u.$$s||this,e;null==a&&(a=d);z=c(z,1);return n(a,"gsub",[m],(e=function(){var a,b,c,e=d;null==x["~"]&&(x["~"]=d);e=x["~"];if(e["$[]"](1)["$=="]("\\"))return e["$[]"](0).$sub("\\","");(a=z,b=F,!1!==(c=b["$[]"](a))&&c!==d&&null!=c?c:b["$[]="](a,[]))["$<<"](e["$[]"](3));r=z;return d},
e.$$s=b,e.$$arity=0,e))},u.$$s=this,u.$$arity=1,u)),a.const_get(v,"EOL",!0,!0)),X=r["$=="](z),(q=F["$empty?"]())===d||null==q||q.$$is_boolean&&1!=q||(F=d)):F=d;L=A=d;C=k;"coderay"["$==="](C)?((q=A=(p=this["$attr?"]("linenums"))===d||null==p||p.$$is_boolean&&1!=p?d:(!1!==(p=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&p!==d&&null!=p?p:"table").$to_sym())===d||null==q||q.$$is_boolean&&1!=q||(q=this["$attr?"]("highlight",d,!1))===d||null==q||q.$$is_boolean&&1!=q||(L=this.$resolve_highlight_lines(this.$attr("highlight",
d,!1))),H=a.const_get([a.const_get([a.Object.$$scope],"CodeRay",!0,!0).$$scope],"Duo",!0,!0)["$[]"](this.$attr("language","text",!1).$to_sym(),"html",b(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(q=this.document.$attributes()["$[]"]("coderay-css"))&&q!==d&&null!=q?q:"class").$to_sym(),line_numbers:A,line_number_anchors:!1,highlight_lines:L,bold_every:!1})).$highlight(e)):"pygments"["$==="](C)&&(C=!1!==(q=a.const_get([a.const_get([a.Object.$$scope],"Pygments",
!0,!0).$$scope],"Lexer",!0,!0)["$[]"](this.$attr("language",d,!1)))&&q!==d&&null!=q?q:a.const_get([a.const_get([a.Object.$$scope],"Pygments",!0,!0).$$scope],"Lexer",!0,!0)["$[]"]("text"),M=b(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0}),(!1!==(q=this.document.$attributes()["$[]"]("pygments-css"))&&q!==d&&null!=q?q:"class")["$=="]("class")||(qa=["noclasses",!0],n(M,"[]=",a.to_a(qa)),qa[l(qa.length,1)],qa=["style",!1!==(q=this.document.$attributes()["$[]"]("pygments-style"))&&
q!==d&&null!=q?q:a.const_get([a.const_get(v,"Stylesheets",!0,!0).$$scope],"DEFAULT_PYGMENTS_STYLE",!0,!0)],n(M,"[]=",a.to_a(qa)),qa[l(qa.length,1)]),(q=this["$attr?"]("highlight",d,!1))===d||null==q||q.$$is_boolean&&1!=q||!((q=(L=this.$resolve_highlight_lines(this.$attr("highlight",d,!1)))["$empty?"]())===d||null==q||q.$$is_boolean&&1!=q)||(qa=["hl_lines",h(L," ")],n(M,"[]=",a.to_a(qa)),qa[l(qa.length,1)]),(q=this["$attr?"]("linenums"))===d||null==q||q.$$is_boolean&&1!=q?(qa=["nowrap",!0],n(M,"[]=",
a.to_a(qa)),qa[l(qa.length,1)],H=C.$highlight(e,b(["options"],{options:M}))):(qa=["linenos",!1!==(q=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&q!==d&&null!=q?q:"table"],n(M,"[]=",a.to_a(qa)),qa[l(qa.length,1)])["$=="]("table")?(A="table",H=C.$highlight(e,b(["options"],{options:M})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):H=C.$highlight(e,b(["options"],{options:M})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1"));if((q=
this.passthroughs["$empty?"]())===d||null==q||q.$$is_boolean&&1!=q)H=H.$gsub(a.const_get(v,"PASS_MATCH_HI",!0,!0),""+a.const_get(v,"PASS_START",!0,!0)+"\\1"+a.const_get(v,"PASS_END",!0,!0));if((q=(p=!1!==f&&f!==d&&null!=f)?F:f)===d||null==q||q.$$is_boolean&&1!=q)return H;z=0;y=A["$!="]("table");return h(n(H.$split(a.const_get(v,"EOL",!0,!0)),"map",[],(D=function(e){var f=D.$$s||this,k,l,m=d,q=d,I=d,m=d;null==f.document&&(f.document=d);null==e&&(e=d);if(!1===y||y===d||null==y){if((k=e["$include?"]('<td class="code">'))===
d||null==k||k.$$is_boolean&&1!=k)return e;y=!0}z=c(z,1);if((k=m=F.$delete(z))===d||null==k||k.$$is_boolean&&1!=k)return e;q=d;(k=!1!==X&&X!==d&&null!=X?F["$empty?"]():X)===d||null==k||k.$$is_boolean&&1!=k||((k=I=e.$index("</pre>"))===d||null==k||k.$$is_boolean&&1!=k?e=""+e.$chomp(" ")+" ":(q=e["$[]"](a.Range.$new(I,-1,!1)),e=""+e["$[]"](a.Range.$new(0,I,!0)).$chomp(" ")+" "));if(m.$size()["$=="](1))return""+e+a.const_get(v,"Inline",!0,!0).$new(f,"callout",m["$[]"](0),b(["id"],{id:f.document.$callouts().$read_next_id()})).$convert()+
q;m=h(n(m,"map",[],(l=function(c){var e=l.$$s||this;null==e.document&&(e.document=d);null==c&&(c=d);return a.const_get(v,"Inline",!0,!0).$new(e,"callout",c,b(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()},l.$$s=f,l.$$arity=1,l))," ");return""+e+m+q},D.$$s=this,D.$$arity=1,D)),a.const_get(v,"EOL",!0,!0))},xa.$$arity=-3);a.defn(u,"$resolve_highlight_lines",ra=function(b){var c,e=d,e=[];n(b.$delete(" ").$split(a.const_get(v,"DataDelimiterRx",!0,!0)),"map",[],(c=function(b){var c,g=
d,f=d,h=d,f=d;null==b&&(b=d);g=!1;(c=b["$start_with?"]("!"))===d||null==c||c.$$is_boolean&&1!=c||(b=b["$[]"](q(1,-1,!1)),g=!0);if((c=b["$include?"]("-"))===d||null==c||c.$$is_boolean&&1!=c)return!1!==g&&g!==d&&null!=g?e.$delete(b.$to_i()):e["$<<"](b.$to_i());b=b.$split("-",2);c=a.to_ary(b);f=null==c[0]?d:c[0];h=null==c[1]?d:c[1];b;f=a.Range.$new(f.$to_i(),h.$to_i(),!1).$to_a();return!1!==g&&g!==d&&null!=g?e=l(e,f):e.$concat(f)},c.$$s=this,c.$$arity=1,c));return e.$sort().$uniq()},ra.$$arity=1);a.defn(u,
"$sub_source",va=function(a,b){return!1!==b&&b!==d&&null!=b?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},va.$$arity=2);a.defn(u,"$lock_in_subs",oa=function(){var b,c,e,g,f,h=d,k=h=d;null==this.default_subs&&(this.default_subs=d);null==this.content_model&&(this.content_model=d);null==this.context&&(this.context=d);null==this.attributes&&(this.attributes=d);null==this.style&&(this.style=d);null==this.document&&(this.document=d);null==this.subs&&(this.subs=d);if((b=this.default_subs)===
d||null==b||b.$$is_boolean&&1!=b)if(h=this.content_model,"simple"["$==="](h))h=a.const_get(v,"SUBS",!0,!0)["$[]"]("normal");else if("verbatim"["$==="](h))h=(b=!1!==(c=this.context["$=="]("listing"))&&c!==d&&null!=c?c:(e=this.context["$=="]("literal"))?this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===d||null==b||b.$$is_boolean&&1!=b?this.context["$=="]("verse")?a.const_get(v,"SUBS",!0,!0)["$[]"]("normal"):a.const_get(v,"SUBS",!0,!0)["$[]"]("basic"):a.const_get(v,"SUBS",!0,
!0)["$[]"]("verbatim");else if("raw"["$==="](h))h=this.context["$=="]("stem")?a.const_get(v,"SUBS",!0,!0)["$[]"]("basic"):a.const_get(v,"SUBS",!0,!0)["$[]"]("pass");else return d;else h=this.default_subs;(b=k=this.attributes["$[]"]("subs"))===d||null==b||b.$$is_boolean&&1!=b?this.subs=h.$dup():this.subs=this.$resolve_block_subs(k,h,this.context);return(b=(c=(e=(g=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==g&&g!==d&&null!=g?this.attributes["$[]"]("language"):
g),!1!==e&&e!==d&&null!=e?this.document["$basebackend?"]("html"):e),!1!==c&&c!==d&&null!=c?a.const_get(v,"SUB_HIGHLIGHT",!0,!0)["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):c))===d||null==b||b.$$is_boolean&&1!=b?d:this.subs=n(this.subs,"map",[],(f=function(a){null==a&&(a=d);return a["$=="]("specialcharacters")?"highlight":a},f.$$s=this,f.$$arity=1,f))},oa.$$arity=0)})(y.base,w)}(a.base,e)};Opal.modules["asciidoctor/abstract_node"]=function(a){function c(a,b){return"number"===
typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var k=[a],e=a.nil,d=a.module,f=a.klass,p=a.hash2,b=a.send,n=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $- $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path".split(" "));
return function(k,q){var C=d(k,"Asciidoctor").$$scope,z=q.slice().concat(C);(function(d,$super,k){function q(){}d=q=f(d,$super,"AbstractNode",q);var u=d.$$proto,x=d.$$scope,v=k.slice().concat(x),C,z,y,w,A,B,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa;u.document=u.attributes=u.path_resolver=e;d.$include(a.const_get(v,"Substitutors",!0,!0));d.$attr_reader("parent");d.$attr_reader("document");d.$attr_reader("context");d.$attr_reader("node_name");d.$attr_accessor("id");d.$attr_reader("attributes");
a.defn(d,"$initialize",C=function(a,b,c){var d;null==c&&(c=p([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==e&&null!=a?(this.parent=a,this.document=a.$document()):this.document=this.parent=e;this.context=b;this.node_name=b.$to_s();this.attributes=(d=c["$key?"]("attributes"))===e||null==d||d.$$is_boolean&&1!=d?p([],{}):c["$[]"]("attributes").$dup();return this.passthroughs=p([],{})},C.$$arity=-3);a.defn(d,"$parent=",z=function(a){this.parent=a;this.document=a.$document();return e},z.$$arity=
1);a.defn(d,"$inline?",y=function(){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},y.$$arity=0);a.defn(d,"$block?",w=function(){return this.$raise(a.const_get([a.Object.$$scope],"NotImplementedError",!0,!0))},w.$$arity=0);a.defn(d,"$attr",A=function(b,c,d){var g,f;null==c&&(c=e);null==d&&(d=!0);(g=a.const_get([a.Object.$$scope],"Symbol",!0,!0)["$==="](b))===e||null==g||g.$$is_boolean&&1!=g||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return!1!==d&&d!==e&&null!=
d?!1!==(g=!1!==(f=this.attributes["$[]"](b))&&f!==e&&null!=f?f:this.document.$attributes()["$[]"](b))&&g!==e&&null!=g?g:c:!1!==(g=this.attributes["$[]"](b))&&g!==e&&null!=g?g:c},A.$$arity=-2);a.defn(d,"$attr?",B=function(b,c,d){var g;null==c&&(c=e);null==d&&(d=!0);(g=a.const_get([a.Object.$$scope],"Symbol",!0,!0)["$==="](b))===e||null==g||g.$$is_boolean&&1!=g||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return(g=c["$nil?"]())===e||null==g||g.$$is_boolean&&1!=g?!1!==d&&d!==e&&null!=d?c["$=="](!1!==
(g=this.attributes["$[]"](b))&&g!==e&&null!=g?g:this.document.$attributes()["$[]"](b)):c["$=="](this.attributes["$[]"](b)):!1!==(g=this.attributes["$has_key?"](b))&&g!==e&&null!=g?g:!1!==d&&d!==e&&null!=d?this.document.$attributes()["$has_key?"](b):d},B.$$arity=-2);a.defn(d,"$set_attr",W=function(d,f,h){var k,l=e;null==h&&(h=!0);return(k=h["$=="](!1)?this.attributes["$key?"](d):h["$=="](!1))===e||null==k||k.$$is_boolean&&1!=k?(l=[d,f],b(this.attributes,"[]=",a.to_a(l)),l[c(l.length,1)],!0):!1},W.$$arity=
-3);a.defn(d,"$set_option",Q=function(d){var f,h=e,h=(f=this.attributes["$has_key?"]("options"))===e||null==f||f.$$is_boolean&&1!=f?["options",d]:["options",""+this.attributes["$[]"]("options")+","+d];b(this.attributes,"[]=",a.to_a(h));h[c(h.length,1)];h=[""+d+"-option",""];b(this.attributes,"[]=",a.to_a(h));return h[c(h.length,1)]},Q.$$arity=1);a.defn(d,"$option?",G=function(a){return this.attributes["$has_key?"](""+a+"-option")},G.$$arity=1);a.defn(d,"$update_attributes",O=function(a){this.attributes.$update(a);
return e},O.$$arity=1);a.defn(d,"$converter",F=function(){return this.document.$converter()},F.$$arity=0);a.defn(d,"$role?",L=function(a){var b;null==a&&(a=e);return!1!==a&&a!==e&&null!=a?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==e&&null!=b?b:this.document.$attributes()["$[]"]("role")):!1!==(b=this.attributes["$has_key?"]("role"))&&b!==e&&null!=b?b:this.document.$attributes()["$has_key?"]("role")},L.$$arity=-1);a.defn(d,"$role",D=function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&
a!==e&&null!=a?a:this.document.$attributes()["$[]"]("role")},D.$$arity=0);a.defn(d,"$has_role?",ba=function(a){var b,c,d=e;return(b=d=!1!==(c=this.attributes["$[]"]("role"))&&c!==e&&null!=c?c:this.document.$attributes()["$[]"]("role"))===e||null==b||b.$$is_boolean&&1!=b?!1:d.$split(" ")["$include?"](a)},ba.$$arity=1);a.defn(d,"$roles",ia=function(){var a,b,c=e;return(a=c=!1!==(b=this.attributes["$[]"]("role"))&&b!==e&&null!=b?b:this.document.$attributes()["$[]"]("role"))===e||null==a||a.$$is_boolean&&
1!=a?[]:c.$split(" ")},ia.$$arity=0);a.defn(d,"$add_role",na=function(d){var f,k,l=e,l=e;return(f=(l=(!1!==(k=this.attributes["$[]"]("role"))&&k!==e&&null!=k?k:"").$split(" "))["$include?"](d))===e||null==f||f.$$is_boolean&&1!=f?(l=["role",h(l.$push(d)," ")],b(this.attributes,"[]=",a.to_a(l)),l[c(l.length,1)]):e},na.$$arity=1);a.defn(d,"$remove_role",pa=function(d){var f,k,l=e,l=e;if((f=(l=(!1!==(k=this.attributes["$[]"]("role"))&&k!==e&&null!=k?k:"").$split(" "))["$include?"](d))===e||null==f||f.$$is_boolean&&
1!=f)return e;l.$delete(d);l=["role",h(l," ")];b(this.attributes,"[]=",a.to_a(l));return l[c(l.length,1)]},pa.$$arity=1);a.defn(d,"$reftext?",ja=function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==e&&null!=a?a:this.document.$attributes()["$has_key?"]("reftext")},ja.$$arity=0);a.defn(d,"$reftext",K=function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&a!==e&&null!=a?a:this.document.$attributes()["$[]"]("reftext")},K.$$arity=0);a.defn(d,"$icon_uri",ga=function(b){var c,
d=e;return(c=this["$attr?"]("icon"))===e||null==c||c.$$is_boolean&&1!=c?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(c=a.const_get([a.Object.$$scope],"File",!0,!0).$extname(d=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c?d:""+d+"."+this.document.$attr("icontype","png")},ga.$$arity=1);a.defn(d,"$media_uri",ha=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==e&&null!=b?this.document.$attr(b):
e)},ha.$$arity=-2);a.defn(d,"$image_uri",X=function(b,c){var d,g,f,h,k=e,q=e;null==c&&(c="imagesdir");return(d=(g=l((k=this.document).$safe(),a.const_get([a.const_get(v,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)),!1!==g&&g!==e&&null!=g?k["$attr?"]("data-uri"):g))===e||null==d||d.$$is_boolean&&1!=d?this.$normalize_web_path(b,!1!==c&&c!==e&&null!=c?k.$attr(c):e):(d=!1!==(g=a.const_get(v,"Helpers",!0,!0)["$uriish?"](b))&&g!==e&&null!=g?g:(f=(h=!1!==c&&c!==e&&null!=c?q=k.$attr(c):c,!1!==h&&h!==e&&null!=
h?a.const_get(v,"Helpers",!0,!0)["$uriish?"](q):h),!1!==f&&f!==e&&null!=f?b=this.$normalize_web_path(b,q,!1):f))===e||null==d||d.$$is_boolean&&1!=d?this.$generate_data_uri(b,c):(d=k["$attr?"]("allow-uri-read"))===e||null==d||d.$$is_boolean&&1!=d?b:this.$generate_data_uri_from_uri(b,k["$attr?"]("cache-uri"))},X.$$arity=-2);a.defn(d,"$generate_data_uri",ma=function(c,d){var g,f,h=e,k=h=e,l=e;null==d&&(d=e);h=a.const_get([a.Object.$$scope],"File",!0,!0).$extname(c);h=h["$=="](".svg")?"image/svg+xml":
"image/"+h["$[]"](n(1,-1,!1));k=!1!==d&&d!==e&&null!=d?this.$normalize_system_path(c,this.document.$attr(d),e,p(["target_name"],{target_name:"image"})):this.$normalize_system_path(c);if((g=a.const_get([a.Object.$$scope],"File",!0,!0)["$readable?"](k))===e||null==g||g.$$is_boolean&&1!=g)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+k),"data:"+h+":base64,";l=e;l=(g=a.const_get([a.Object.$$scope],"IO",!0,!0)["$respond_to?"]("binread"))===e||null==g||g.$$is_boolean&&
1!=g?b(a.const_get([a.Object.$$scope],"File",!0,!0),"open",[k,"rb"],(f=function(a){null==a&&(a=e);return a.$read()},f.$$s=this,f.$$arity=1,f)):a.const_get([a.Object.$$scope],"IO",!0,!0).$binread(k);return"data:"+h+";base64,"+a.const_get([a.Object.$$scope],"Base64",!0,!0).$encode64(l).$delete(a.const_get(v,"EOL",!0,!0))},ma.$$arity=-2);a.defn(d,"$generate_data_uri_from_uri",ka=function(c,d){var g,f,h=e,k=e;null==d&&(d=!1);!1!==d&&d!==e&&null!=d?a.const_get(v,"Helpers",!0,!0).$require_library("open-uri/cached",
"open-uri-cached"):(g=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())===e||null==g||g.$$is_boolean&&1!=g||a.const_get([a.Object.$$scope],"OpenURI",!0,!0);try{return h=e,k=b(this,"open",[c,"rb"],(f=function(a){null==a&&(a=e);h=a.$content_type();return a.$read()},f.$$s=this,f.$$arity=1,f)),"data:"+h+";base64,"+a.const_get([a.Object.$$scope],"Base64",!0,!0).$encode64(k).$delete(a.const_get(v,"EOL",!0,!0))}catch(l){if(a.rescue(l,[a.const_get(v,"StandardError",!0,!0)]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+
c),c}finally{a.pop_exception()}else throw l;}},ka.$$arity=-2);a.defn(d,"$read_contents",sa=function(c,d){var g,f,k,l,q,n=e,t=e,u=e;null==d&&(d=p([],{}));n=this.document;if((g=!1!==(f=a.const_get(v,"Helpers",!0,!0)["$uriish?"](c))&&f!==e&&null!=f?f:(k=(l=t=d["$[]"]("start"),!1!==l&&l!==e&&null!=l?a.const_get(v,"Helpers",!0,!0)["$uriish?"](t):l),!1!==k&&k!==e&&null!=k?c=(!1!==(l=this.path_resolver)&&l!==e&&null!=l?l:this.path_resolver=a.const_get(v,"PathResolver",!0,!0).$new()).$web_path(c,t):k))===
e||null==g||g.$$is_boolean&&1!=g)c=this.$normalize_system_path(c,d["$[]"]("start"),e,p(["target_name"],{target_name:!1!==(g=d["$[]"]("label"))&&g!==e&&null!=g?g:"asset"})),u=this.$read_asset(c,p(["normalize","warn_on_failure"],{normalize:d["$[]"]("normalize"),warn_on_failure:d.$fetch("warn_on_failure",!0)}));else if((g=n["$attr?"]("allow-uri-read"))===e||null==g||g.$$is_boolean&&1!=g)(g=d.$fetch("warn_on_failure",!0))===e||null==g||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+
(!1!==(g=d["$[]"]("label"))&&g!==e&&null!=g?g:"asset")+" at URI: "+c+" (allow-uri-read attribute not enabled)"),u=e;else{(g=n["$attr?"]("cache-uri"))===e||null==g||g.$$is_boolean&&1!=g||a.const_get(v,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached");try{u=b(a.const_get([a.Object.$$scope],"OpenURI",!0,!0),"open_uri",[c],(q=function(a){null==a&&(a=e);return a.$read()},q.$$s=this,q.$$arity=1,q)),(g=d["$[]"]("normalize"))===e||null==g||g.$$is_boolean&&1!=g||(u=h(a.const_get(v,"Helpers",
!0,!0).$normalize_lines_from_string(u),a.const_get(v,"EOL",!0,!0)))}catch(x){if(a.rescue(x,[a.const_get(v,"StandardError",!0,!0)]))try{(g=d.$fetch("warn_on_failure",!0))===e||null==g||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==(g=d["$[]"]("label"))&&g!==e&&null!=g?g:"asset")+" at URI: "+c),u=e}finally{a.pop_exception()}else throw x;}}return u},sa.$$arity=-2);a.defn(d,"$read_asset",wa=function(b,c){var d;null==c&&(c=p([],{}));if((d=a.const_get([a.Object.$$scope],
"Hash",!0,!0)["$==="](c))===e||null==d||d.$$is_boolean&&1!=d)c=p(["warn_on_failure"],{warn_on_failure:c["$!="](!1)});return(d=a.const_get([a.Object.$$scope],"File",!0,!0)["$readable?"](b))===e||null==d||d.$$is_boolean&&1!=d?((d=c["$[]"]("warn_on_failure"))===e||null==d||d.$$is_boolean&&1!=d||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+b),e):(d=c["$[]"]("normalize"))===e||null==d||d.$$is_boolean&&1!=d?a.const_get([a.Object.$$scope],"IO",!0,!0).$read(b):h(a.const_get(v,
"Helpers",!0,!0).$normalize_lines_from_string(a.const_get([a.Object.$$scope],"IO",!0,!0).$read(b)),a.const_get(v,"EOL",!0,!0))},wa.$$arity=-2);a.defn(d,"$normalize_web_path",xa=function(b,c,d){var g;null==c&&(c=e);null==d&&(d=!0);return(g=!1!==d&&d!==e&&null!=d?a.const_get(v,"Helpers",!0,!0)["$uriish?"](b):d)===e||null==g||g.$$is_boolean&&1!=g?(!1!==(g=this.path_resolver)&&g!==e&&null!=g?g:this.path_resolver=a.const_get(v,"PathResolver",!0,!0).$new()).$web_path(b,c):b},xa.$$arity=-2);a.defn(d,"$normalize_system_path",
ra=function(b,c,d,g){var f,h=e,k=e;null==c&&(c=e);null==d&&(d=e);null==g&&(g=p([],{}));h=!1!==(f=this.path_resolver)&&f!==e&&null!=f?f:this.path_resolver=a.const_get(v,"PathResolver",!0,!0).$new();if((f=l((k=this.document).$safe(),a.const_get([a.const_get(v,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===e||null==f||f.$$is_boolean&&1!=f){if(!1===c||c===e||null==c)c=k.$base_dir();if(!1===d||d===e||null==d)d=k.$base_dir()}else if(!1!==c&&c!==e&&null!=c){if((f=h["$is_root?"](c))===e||null==f||f.$$is_boolean&&
1!=f)c=a.const_get([a.Object.$$scope],"File",!0,!0).$join(k.$base_dir(),c)}else c=k.$base_dir();return h.$system_path(b,c,d,g)},ra.$$arity=-2);a.defn(d,"$normalize_asset_path",va=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),e,p(["target_name","recover"],{target_name:b,recover:c}))},va.$$arity=-2);return(a.defn(d,"$is_uri?",oa=function(b){return a.const_get(v,"Helpers",!0,!0)["$uriish?"](b)},oa.$$arity=1),e)&&"is_uri?"})(C.base,
null,z)}(a.base,k)};Opal.modules["asciidoctor/abstract_block"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var k=[a],e=a.nil,d=a.module,f=a.klass,p=a.send,b=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $- $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));
return function(k,x){var q=d(k,"Asciidoctor").$$scope,C=x.slice().concat(q);(function(d,$super,k){function q(){}d=q=f(d,$super,"AbstractBlock",q);var n=d.$$proto,u=d.$$scope,x=k.slice().concat(u),v,C,y,w,B,A,V,W,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha;n.document=n.attributes=n.blocks=n.source_location=n.subs=n.title=n.subbed_title=n.caption=n.next_section_index=n.context=n.style=n.id=n.header=n.next_section_number=e;d.$attr_accessor("content_model");d.$attr_reader("subs");d.$attr_reader("blocks");d.$attr_accessor("level");
d.$attr_writer("title");d.$attr_accessor("style");d.$attr_accessor("caption");d.$attr_accessor("source_location");a.defn(d,"$initialize",v=function(c,d,g){var f,h=v.$$p,k=e,l=e,q=e;null==g&&(g=b([],{}));h&&(v.$$p=null);l=0;q=arguments.length;for(k=Array(q);l<q;l++)k[l]=arguments[l];p(this,a.find_super_dispatcher(this,"initialize",v,!1),k,h);this.content_model="compound";this.subs=[];this.default_subs=e;this.blocks=[];this.style=this.caption=this.title=this.id=e;this.level=d["$=="]("document")?0:(f=
!1!==c&&c!==e&&null!=c?d["$!="]("section"):c)===e||null==f||f.$$is_boolean&&1!=f?e:c.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=e},v.$$arity=-3);a.defn(d,"$block?",C=function(){return!0},C.$$arity=0);a.defn(d,"$inline?",y=function(){return!1},y.$$arity=0);a.defn(d,"$context=",w=function(a){this.context=a;return this.node_name=a.$to_s()},w.$$arity=1);a.defn(d,"$convert",B=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},
B.$$arity=0);a.alias(d,"render","convert");a.defn(d,"$content",A=function(){var b;return c(p(this.blocks,"map",[],(b=function(a){null==a&&(a=e);return a.$convert()},b.$$s=this,b.$$arity=1,b)),a.const_get(x,"EOL",!0,!0))},A.$$arity=0);a.defn(d,"$file",V=function(){var a;return(a=this.source_location)===e||null==a||a.$$is_boolean&&1!=a?e:this.source_location.$file()},V.$$arity=0);a.defn(d,"$lineno",W=function(){var a;return(a=this.source_location)===e||null==a||a.$$is_boolean&&1!=a?e:this.source_location.$lineno()},
W.$$arity=0);a.defn(d,"$sub?",Q=function(a){return this.subs["$include?"](a)},Q.$$arity=1);a.defn(d,"$title?",G=function(){return this.title["$nil_or_empty?"]()["$!"]()},G.$$arity=0);a.defn(d,"$title",O=function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==e)?"instance-variable":e)===e||null==a||a.$$is_boolean&&1!=a?(a=this.title)===e||null==a||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title},O.$$arity=0);a.defn(d,"$captioned_title",F=
function(){return""+this.caption+this.$title()},F.$$arity=0);a.defn(d,"$blocks?",L=function(){return this.blocks["$empty?"]()["$!"]()},L.$$arity=0);a.defn(d,"$<<",D=function(a){this.blocks["$<<"](a);return this},D.$$arity=1);a.alias(d,"append","<<");a.defn(d,"$sections",ba=function(){var a;return p(this.blocks,"select",[],(a=function(a){null==a&&(a=e);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},ba.$$arity=0);a.defn(d,"$sections?",ia=function(){var a=this.next_section_index;
return"number"===typeof a?0<a:a["$>"](0)},ia.$$arity=0);a.defn(d,"$find_by",na=function(c){var d,g,f,h,k,l,q,n=na.$$p,t=n||e,v=e,u=e,x=e,D=e,C=e,A=e;null==c&&(c=b([],{}));n&&(na.$$p=null);v=[];if((d=(g=(f=(h=!1!==(k=u=(x=c["$[]"]("context"))["$!"]())&&k!==e&&null!=k?k:x["$=="](this.context),!1!==h&&h!==e&&null!=h?!1!==(k=(D=c["$[]"]("style"))["$!"]())&&k!==e&&null!=k?k:D["$=="](this.style):h),!1!==f&&f!==e&&null!=f?!1!==(h=(C=c["$[]"]("role"))["$!"]())&&h!==e&&null!=h?h:this["$has_role?"](C):f),!1!==
g&&g!==e&&null!=g?!1!==(f=(A=c["$[]"]("id"))["$!"]())&&f!==e&&null!=f?f:A["$=="](this.id):g))!==e&&null!=d&&(!d.$$is_boolean||1==d)){if(!1!==A&&A!==e&&null!=A)return t!==e?(d=a.yield1(t,this))===e||null==d||d.$$is_boolean&&1!=d?v:[this]:[this];if(t!==e){if((d=a.yield1(t,this))!==e&&null!=d&&(!d.$$is_boolean||1==d))v["$<<"](this)}else v["$<<"](this)}(d=(g=(f=this.context["$=="]("document"))?!1!==(h=u)&&h!==e&&null!=h?h:x["$=="]("section"):this.context["$=="]("document"),!1!==g&&g!==e&&null!=g?this["$header?"]():
g))===e||null==d||d.$$is_boolean&&1!=d||v.$concat(p(this.header,"find_by",[c],t.$to_proc()));x["$=="]("document")||(this.context["$=="]("dlist")?(d=!1!==(g=u)&&g!==e&&null!=g?g:x["$!="]("section"))===e||null==d||d.$$is_boolean&&1!=d||p(this.blocks.$flatten(),"each",[],(l=function(a){null==a&&(a=e);return!1!==a&&a!==e&&null!=a?v.$concat(p(a,"find_by",[c],t.$to_proc())):e},l.$$s=this,l.$$arity=1,l)):d=p(this.blocks,"each",[],(q=function(a){var b;null==a&&(a=e);return(b=x["$=="]("section")?a.$context()["$!="]("section"):
x["$=="]("section"))===e||null==b||b.$$is_boolean&&1!=b?v.$concat(p(a,"find_by",[c],t.$to_proc())):e},q.$$s=this,q.$$arity=1,q)));return v},na.$$arity=-1);a.alias(d,"query","find_by");a.defn(d,"$remove_sub",pa=function(a){this.subs.$delete(a);return e},pa.$$arity=1);a.defn(d,"$assign_caption",ja=function(a,b){var c,d,g=e,f=g=g=e;null==a&&(a=e);null==b&&(b=e);if((c=!1!==(d=this["$title?"]())&&d!==e&&null!=d?d:this.caption["$!"]())===e||null==c||c.$$is_boolean&&1!=c)return e;!1!==a&&a!==e&&null!=a?
this.caption=a:(c=g=this.document.$attributes()["$[]"]("caption"))===e||null==c||c.$$is_boolean&&1!=c?(c=this["$title?"]())===e||null==c||c.$$is_boolean&&1!=c||(!1!==(c=b)&&c!==e&&null!=c?c:b=this.context.$to_s(),g=""+b+"-caption",(c=g=this.document.$attributes()["$[]"](g))===e||null==c||c.$$is_boolean&&1!=c||(f=this.document.$counter_increment(""+b+"-number",this),this.caption=""+g+" "+f+". ")):this.caption=g;return e},ja.$$arity=-1);a.defn(d,"$list_marker_keyword",K=function(b){var c;null==b&&(b=
e);return a.const_get(x,"ORDERED_LIST_KEYWORDS",!0,!0)["$[]"](!1!==(c=b)&&c!==e&&null!=c?c:this.style)},K.$$arity=-1);a.defn(d,"$assign_index",ga=function(b){var c,d,g,f=e,k=e,q=e,f=[this.next_section_index];p(b,"index=",a.to_a(f));f[h(f.length,1)];this.next_section_index=l(this.next_section_index,1);if(b.$sectname()["$=="]("appendix"))return k=this.document.$counter("appendix-number","A"),(c=b.$numbered())===e||null==c||c.$$is_boolean&&1!=c||(f=[k],p(b,"number=",a.to_a(f)),f[h(f.length,1)]),f=(c=
(q=this.document.$attr("appendix-caption",""))["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c?[""+q+" "+k+": "]:[""+k+". "],p(b,"caption=",a.to_a(f)),f[h(f.length,1)];if((c=b.$numbered())===e||null==c||c.$$is_boolean&&1!=c)return e;if((c=(d=!1!==(g=b.$level()["$=="](1))&&g!==e&&null!=g?g:b.$level()["$=="](0)?b.$special():b.$level()["$=="](0),!1!==d&&d!==e&&null!=d?this.document.$doctype()["$=="]("book"):d))===e||null==c||c.$$is_boolean&&1!=c)return f=[this.next_section_number],p(b,"number=",a.to_a(f)),
f[h(f.length,1)],this.next_section_number=l(this.next_section_number,1);f=[this.document.$counter("chapter-number",1)];p(b,"number=",a.to_a(f));return f[h(f.length,1)]},ga.$$arity=1);return(a.defn(d,"$reindex_sections",ha=function(){var a;this.next_section_number=this.next_section_index=0;return p(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=e);return b.$context()["$=="]("section")?(c.$assign_index(b),b.$reindex_sections()):e},a.$$s=this,a.$$arity=1,a))},ha.$$arity=0),e)&&"reindex_sections"})(q.base,
a.const_get(C,"AbstractNode",!0,!0),C)}(a.base,k)};Opal.modules["asciidoctor/attribute_list"]=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var l=[a],k=a.nil,e=a.module,d=a.klass,f=a.hash2,p=a.send;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(b,l){var t=e(b,"Asciidoctor").$$scope,q=l.slice().concat(t);(function(b,$super,e){function l(){}b=l=d(b,$super,"AttributeList",l);var q=b.$$proto,n=b.$$scope,t=e.slice().concat(n),x,v,y,w,B,ca,A,V,W,Q,G,O;q.attributes=q.scanner=q.delimiter=q.block=q.delimiter_skip_pattern=q.delimiter_boundary_pattern=k;a.const_get([a.Object.$$scope],"RUBY_ENGINE",!0,!0)["$=="]("opal")&&(a.cdecl(n,"CG_BLANK","[ \\t]"),a.cdecl(n,"CC_WORD","a-zA-Z0-9_"),a.cdecl(n,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(n,
"BoundaryRxs",f(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+a.const_get(t,"CG_BLANK",!0,!0)+"*(,|$))")}));a.cdecl(n,"EscapedQuoteRxs",f(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.cdecl(n,"NameRx",new RegExp(""+a.const_get(t,"CG_WORD",!0,!0)+"["+a.const_get(t,"CC_WORD",!0,!0)+"\\-.]*"));a.cdecl(n,"BlankRx",new RegExp(""+a.const_get(t,"CG_BLANK",!0,!0)+"+"));a.cdecl(n,"SkipRxs",f(["blank",","],{blank:a.const_get(t,"BlankRx",!0,!0),",":new RegExp(""+a.const_get(t,"CG_BLANK",
!0,!0)+"*(,|$)")}));a.defn(b,"$initialize",x=function(b,c,d){null==c&&(c=k);null==d&&(d=",");this.scanner=a.const_get([a.Object.$$scope],"StringScanner",!0,!0).$new(b);this.block=c;this.delimiter=d;this.delimiter_skip_pattern=a.const_get(t,"SkipRxs",!0,!0)["$[]"](d);this.delimiter_boundary_pattern=a.const_get(t,"BoundaryRxs",!0,!0)["$[]"](d);return this.attributes=k},x.$$arity=-2);a.defn(b,"$parse_into",v=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},v.$$arity=-2);a.defn(b,"$parse",
y=function(a){var b,d,e=k;null==a&&(a=[]);if((b=this.attributes)!==k&&null!=b&&(!b.$$is_boolean||1==b))return this.attributes;this.attributes=f([],{});for(e=0;(d=this.$parse_attribute(e,a))!==k&&null!=d&&(!d.$$is_boolean||1==d)&&((d=this.scanner["$eos?"]())===k||null==d||d.$$is_boolean&&1!=d);)this.$skip_delimiter(),e=c(e,1);return this.attributes},y.$$arity=-1);a.defn(b,"$rekey",w=function(b){return a.const_get(t,"AttributeList",!0,!0).$rekey(this.attributes,b)},w.$$arity=1);a.defs(b,"$rekey",B=
function(b,d){var e;p(d,"each_with_index",[],(e=function(d,e){var f,l=k,l=l=k;null==d&&(d=k);null==e&&(e=k);if(!1===d||d===k||null==d)return k;l=c(e,1);if((f=l=b["$[]"](l))===k||null==f||f.$$is_boolean&&1!=f)return k;l=[d,l];p(b,"[]=",a.to_a(l));return l[h(l.length,1)]},e.$$s=this,e.$$arity=2,e));return b},B.$$arity=2);a.defn(b,"$parse_attribute",ca=function(b,d){var e,f,l,q=k,n=k,t=n=k,v=k,u=k,n=q=n=v=k;null==b&&(b=0);null==d&&(d=[]);q=!1;this.$skip_blank();if((n=this.scanner.$peek(1))["$=="]('"'))n=
this.$parse_attribute_value(this.scanner.$get_byte()),t=k;else if(n["$=="]("'"))n=this.$parse_attribute_value(this.scanner.$get_byte()),t=k,q=!0;else{n=this.$scan_name();v=0;u=k;if((e=this.scanner["$eos?"]())===k||null==e||e.$$is_boolean&&1!=e)v=!1!==(e=this.$skip_blank())&&e!==k&&null!=e?e:0,u=this.scanner.$get_byte();else if(!1===n||n===k||null==n)return!1;if((e=!1!==(f=u["$!"]())&&f!==k&&null!=f?f:u["$=="](this.delimiter))===k||null==e||e.$$is_boolean&&1!=e)if((e=!1!==(f=u["$!="]("="))&&f!==k&&
null!=f?f:n["$!"]())===k||null==e||e.$$is_boolean&&1!=e){if(this.$skip_blank(),(e=this.scanner.$peek(1))!==k&&null!=e&&(!e.$$is_boolean||1==e))if((u=this.scanner.$get_byte())["$=="]('"'))t=this.$parse_attribute_value(u);else if(u["$=="]("'"))t=this.$parse_attribute_value(u),q=!0;else if(u["$=="](this.delimiter))t=k;else if(t=""+u+this.$scan_to_delimiter(),t["$=="]("None"))return!0}else n=""+n+" "["$*"](v)+u+this.$scan_to_delimiter(),t=k;else t=k}!1!==t&&t!==k&&null!=t?(v=n,"options"["$==="](v)||"opts"["$==="](v)?
(n="options",p(t.$tr(" ","").$split(","),"each",[],(l=function(b){var c=l.$$s||this,d=k;null==c.attributes&&(c.attributes=k);null==b&&(b=k);d=[""+b+"-option",""];p(c.attributes,"[]=",a.to_a(d));return d[h(d.length,1)]},l.$$s=this,l.$$arity=1,l)),n=[n,t]):n="title"["$==="](v)?[n,t]:[n,(e=(f=!1!==q&&q!==k&&null!=q?t["$empty?"]()["$!"]():q,!1!==f&&f!==k&&null!=f?this.block:f))===k||null==e||e.$$is_boolean&&1!=e?t:this.block.$apply_normal_subs(t)]):(q=(e=(f=!1!==q&&q!==k&&null!=q?n["$empty?"]()["$!"]():
q,!1!==f&&f!==k&&null!=f?this.block:f))===k||null==e||e.$$is_boolean&&1!=e?n:this.block.$apply_normal_subs(n),(e=n=d["$[]"](b))===k||null==e||e.$$is_boolean&&1!=e||(n=[n,q],p(this.attributes,"[]=",a.to_a(n)),n[h(n.length,1)]),n=[c(b,1),q]);p(this.attributes,"[]=",a.to_a(n));n[h(n.length,1)];return!0},ca.$$arity=-1);a.defn(b,"$parse_attribute_value",A=function(b){var c,d=k;if(this.scanner.$peek(1)["$=="](b))return this.scanner.$get_byte(),"";if((c=d=this.$scan_to_quote(b))===k||null==c||c.$$is_boolean&&
1!=c)return""+b+this.$scan_to_delimiter();this.scanner.$get_byte();return d.$gsub(a.const_get(t,"EscapedQuoteRxs",!0,!0)["$[]"](b),b)},A.$$arity=1);a.defn(b,"$skip_blank",V=function(){return this.scanner.$skip(a.const_get(t,"BlankRx",!0,!0))},V.$$arity=0);a.defn(b,"$skip_delimiter",W=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},W.$$arity=0);a.defn(b,"$scan_name",Q=function(){return this.scanner.$scan(a.const_get(t,"NameRx",!0,!0))},Q.$$arity=0);a.defn(b,"$scan_to_delimiter",
G=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},G.$$arity=0);return(a.defn(b,"$scan_to_quote",O=function(b){return this.scanner.$scan(a.const_get(t,"BoundaryRxs",!0,!0)["$[]"](b))},O.$$arity=1),k)&&"scan_to_quote"})(t.base,null,q)}(a.base,l)};Opal.modules["asciidoctor/block"]=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a-d:a["$-"](d)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}var l=[a],k=a.nil,e=a.module,d=
a.klass,f=a.send,p=a.hash2;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(b,l){var t=e(b,"Asciidoctor").$$scope,q=l.slice().concat(t);(function(b,$super,e){function l(){}b=l=d(b,$super,"Block",l);var q=b.$$proto,n=b.$$scope,t=e.slice().concat(n),x,v,y,w;e=k;q.attributes=q.content_model=q.lines=
q.subs=q.blocks=q.context=q.style=k;e=["simple"];f(a.cdecl(n,"DEFAULT_CONTENT_MODEL",p("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"})),"default=",a.to_a(e));e[c(e.length,1)];a.alias(b,"blockname","context");b.$attr_accessor("lines");a.defn(b,"$initialize",x=function(b,d,e){var h,l=x.$$p,q=k,n=q=k,
v=q=k,C=k;null==e&&(e=p([],{}));l&&(x.$$p=null);v=0;C=arguments.length;for(q=Array(C);v<C;v++)q[v]=arguments[v];f(this,a.find_super_dispatcher(this,"initialize",x,!1),q,l);this.content_model=!1!==(h=e["$[]"]("content_model"))&&h!==k&&null!=h?h:a.const_get(t,"DEFAULT_CONTENT_MODEL",!0,!0)["$[]"](d);(h=e["$key?"]("subs"))===k||null==h||h.$$is_boolean&&1!=h?(this.subs=[],this.default_subs=k):(h=q=e["$[]"]("subs"))===k||null==h||h.$$is_boolean&&1!=h?(this.subs=[],this.default_subs=[],this.attributes.$delete("subs")):
(q["$=="]("default")?this.default_subs=e["$[]"]("default_subs"):(h=a.const_get([a.Object.$$scope],"Array",!0,!0)["$==="](q))===k||null==h||h.$$is_boolean&&1!=h?(this.default_subs=k,q=["subs",""+q],f(this.attributes,"[]=",a.to_a(q)),q[c(q.length,1)]):(this.default_subs=q.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(h=(n=e["$[]"]("source"))["$nil_or_empty?"]())===k||null==h||h.$$is_boolean&&1!=h?(h=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](n))===k||null==h||h.$$is_boolean&&
1!=h?this.lines=n.$dup():this.lines=a.const_get(t,"Helpers",!0,!0).$normalize_lines_from_string(n):this.lines=[]},x.$$arity=-3);a.defn(b,"$content",v=function(){var b,c,d,e=this,g=v.$$p,l=k,q=k,n=k,p=k,x=k,D=k,C=k;g&&(v.$$p=null);D=0;C=arguments.length;for(x=Array(C);D<C;D++)x[D]=arguments[D];return function(){l=e.content_model;if("compound"["$==="](l))return f(e,a.find_super_dispatcher(e,"content",v,!1),x,g);if("simple"["$==="](l))return e.$apply_subs(h(e.lines,a.const_get(t,"EOL",!0,!0)),e.subs);
if("verbatim"["$==="](l)||"raw"["$==="](l)){q=e.$apply_subs(e.lines,e.subs);var D=q.$size();if((b="number"===typeof D?2>D:D["$<"](2))===k||null==b||b.$$is_boolean&&1!=b){for(;(c=(d=n=q["$[]"](0),!1!==d&&d!==k&&null!=d?n.$rstrip()["$empty?"]():d))!==k&&null!=c&&(!c.$$is_boolean||1==c);)q.$shift();for(;(c=(d=p=q["$[]"](-1),!1!==d&&d!==k&&null!=d?p.$rstrip()["$empty?"]():d))!==k&&null!=c&&(!c.$$is_boolean||1==c);)q.$pop();return h(q,a.const_get(t,"EOL",!0,!0))}return q["$[]"](0)}e.content_model["$=="]("empty")||
e.$warn("Unknown content model '"+e.content_model+"' for block: "+e.$to_s());return k}()},v.$$arity=0);a.defn(b,"$source",y=function(){return h(this.lines,a.const_get(t,"EOL",!0,!0))},y.$$arity=0);return(a.defn(b,"$to_s",w=function(){var a=k,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+
", "+a+"}>"},w.$$arity=0),k)&&"to_s"})(t.base,a.const_get(q,"AbstractBlock",!0,!0),q)}(a.base,l)};Opal.modules["asciidoctor/callouts"]=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var l=[a],k=a.nil,e=a.module,d=a.klass,f=a.hash2,p=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));
return function(b,l){var t=e(b,"Asciidoctor").$$scope,q=l.slice().concat(t);(function(b,$super,e){function l(){}b=l=d(b,$super,"Callouts",l);var q=b.$$proto,n=b.$$scope;e.slice().concat(n);var t,x,v,y,w,B,ca,A,V;q.co_index=q.lists=q.list_index=k;a.defn(b,"$initialize",t=function(){this.lists=[];this.list_index=0;return this.$next_list()},t.$$arity=0);a.defn(b,"$register",x=function(a){var b=k;this.$current_list()["$<<"](f(["ordinal","id"],{ordinal:a.$to_i(),id:b=this.$generate_next_callout_id()}));
this.co_index=c(this.co_index,1);return b},x.$$arity=1);a.defn(b,"$read_next_id",v=function(){var a,b=k,d=k,b=k,d=this.$current_list(),e=this.co_index,f=d.$size();(a="number"===typeof e&&"number"===typeof f?e<=f:e["$<="](f))===k||null==a||a.$$is_boolean&&1!=a||(b=d["$[]"](h(this.co_index,1))["$[]"]("id"));this.co_index=c(this.co_index,1);return b},v.$$arity=0);a.defn(b,"$callout_ids",y=function(a){var b;return p(this.$current_list(),"map",[],(b=function(b){null==b&&(b=k);return b["$[]"]("ordinal")["$=="](a)?
""+b["$[]"]("id")+" ":k},b.$$s=this,b.$$arity=1,b)).$join().$chop()},y.$$arity=1);a.defn(b,"$current_list",w=function(){return this.lists["$[]"](h(this.list_index,1))},w.$$arity=0);a.defn(b,"$next_list",B=function(){var a;this.list_index=c(this.list_index,1);var b=this.lists.$size(),d=this.list_index;if((a="number"===typeof b&&"number"===typeof d?b<d:b["$<"](d))!==k&&null!=a&&(!a.$$is_boolean||1==a))this.lists["$<<"]([]);this.co_index=1;return k},B.$$arity=0);a.defn(b,"$rewind",ca=function(){this.co_index=
this.list_index=1;return k},ca.$$arity=0);a.defn(b,"$generate_next_callout_id",A=function(){return this.$generate_callout_id(this.list_index,this.co_index)},A.$$arity=0);return(a.defn(b,"$generate_callout_id",V=function(a,b){return"CO"+a+"-"+b},V.$$arity=2),k)&&"generate_callout_id"})(t.base,null,q)}(a.base,l)};Opal.modules["asciidoctor/document"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?
a>=b:a["$>="](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var e=[a],d=a.nil,f=a.module,p=a.klass,b=a.hash2,n=a.send,x=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $references $== $- $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $key? $freeze $attribute_undefined $attribute_missing $find $constants $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $parse $restore_attributes $update_backend_attributes $utc $at $now $strftime $join $build_registry $to_proc $activate $preprocessors? $preprocessors $process_method $treeprocessors? $treeprocessors $!= $nil_or_empty? $nextval $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $limit $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(e,C){var z=f(e,"Asciidoctor").$$scope,y=C.slice().concat(z);(function(e,$super,f){function q(){}e=q=p(e,$super,"Document",q);var C=e.$$proto,v=e.$$scope,z=f.slice().concat(v),y,w,B,A,V,J,Q,G,O,F,L,D,ba,ia,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za,Da,Ga,r,m,Ea,Ha,Ka;C.attributes=C.safe=C.reader=C.base_dir=C.parsed=C.parent_document=C.extensions=C.options=C.counters=C.references=C.doctype=C.backend=C.header=C.blocks=C.attributes_modified=C.id=C.callouts=C.header_attributes=
C.max_attribute_value_size=C.attribute_overrides=C.converter=C.outfilesuffix=C.docinfo_processor_extensions=C.document=d;a.cdecl(v,"Footnote",a.const_get([a.Object.$$scope],"Struct",!0,!0).$new("index","id","text"));(function(b,$super,c){function e(){}b=e=p(b,$super,"AttributeEntry",e);var g=b.$$scope;c.slice().concat(g);var f,h;b.$attr_reader("name","value","negate");a.defn(b,"$initialize",f=function(a,b,c){var e;null==c&&(c=d);this.name=a;this.value=b;return this.negate=(e=c["$nil?"]())===d||null==
e||e.$$is_boolean&&1!=e?c:b["$nil?"]()},f.$$arity=-3);return(a.defn(b,"$save_to",h=function(a){var b;return(!1!==(b=a["$[]"]("attribute_entries"))&&b!==d&&null!=b?b:a["$[]="]("attribute_entries",[]))["$<<"](this)},h.$$arity=1),d)&&"save_to"})(v.base,null,z);(function(c,$super,e){function g(){}c=g=p(c,$super,"Title",g);var f=c.$$proto,h=c.$$scope,k=e.slice().concat(h),l,q,m,n;f.sanitized=f.subtitle=f.combined=d;c.$attr_reader("main");a.alias(c,"title","main");c.$attr_reader("subtitle");c.$attr_reader("combined");
a.defn(c,"$initialize",l=function(c,e){var g,f,h,l=d;null==e&&(e=b([],{}));(g=(f=this.sanitized=e["$[]"]("sanitize"),!1!==f&&f!==d&&null!=f?c["$include?"]("<"):f))===d||null==g||g.$$is_boolean&&1!=g||(c=c.$gsub(a.const_get(k,"XmlSanitizeRx",!0,!0),"").$tr_s(" "," ").$strip());(g=!1!==(f=(l=!1!==(h=e["$[]"]("separator"))&&h!==d&&null!=h?h:":")["$empty?"]())&&f!==d&&null!=f?f:c["$include?"](l=""+l+" ")["$!"]())===d||null==g||g.$$is_boolean&&1!=g?(f=c.$rpartition(l),g=a.to_ary(f),this.main=null==g[0]?
d:g[0],this.subtitle=null==g[2]?d:g[2],f):(this.main=c,this.subtitle=d);return this.combined=c},l.$$arity=-2);a.defn(c,"$sanitized?",q=function(){return this.sanitized},q.$$arity=0);a.defn(c,"$subtitle?",m=function(){return this.subtitle["$!"]()["$!"]()},m.$$arity=0);return(a.defn(c,"$to_s",n=function(){return this.combined},n.$$arity=0),d)&&"to_s"})(v.base,null,z);e.$attr_reader("safe");e.$attr_reader("compat_mode");e.$attr_reader("sourcemap");e.$attr_reader("references");e.$attr_reader("counters");
e.$attr_reader("callouts");e.$attr_reader("header");e.$attr_reader("base_dir");e.$attr_reader("options");e.$attr_reader("outfilesuffix");e.$attr_reader("parent_document");e.$attr_reader("reader");e.$attr_reader("converter");e.$attr_reader("extensions");a.defn(e,"$initialize",y=function(e,f){var k,q,m,p,r,Z,I,N,T,v,u,D=y.$$p,C=d,A=d,E=d,L=E=d,F=d,w=d,M=d,B=L=L=d,X=E=M=L=C=d;null==e&&(e=d);null==f&&(f=b([],{}));D&&(y.$$p=null);n(this,a.find_super_dispatcher(this,"initialize",y,!1),[this,"document"],
null);if((k=C=f.$delete("parent"))===d||null==k||k.$$is_boolean&&1!=k){this.parent_document=d;this.references=b("ids footnotes links images indexterms includes".split(" "),{ids:b([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.const_get([a.Object.$$scope],"Set",!0,!0).$new()});this.callouts=a.const_get(z,"Callouts",!0,!0).$new();A=b([],{});n(!1!==(k=f["$[]"]("attributes"))&&k!==d&&null!=k?k:b([],{}),"each",[],(Z=function(b,e){var f,h=d;null==b&&(b=d);null==e&&(e=d);(f=b["$start_with?"]("!"))===
d||null==f||f.$$is_boolean&&1!=f?(f=b["$end_with?"]("!"))===d||null==f||f.$$is_boolean&&1!=f||(b=b.$chop(),e=d):(b=b["$[]"](x(1,-1,!1)),e=d);h=[b.$downcase(),e];n(A,"[]=",a.to_a(h));return h[c(h.length,1)]},Z.$$s=this,Z.$$arity=2,Z));this.attribute_overrides=A;if((k=(E=f["$[]"]("safe"))["$!"]())===d||null==k||k.$$is_boolean&&1!=k)if((k=a.const_get([a.Object.$$scope],"Integer",!0,!0)["$==="](E))===d||null==k||k.$$is_boolean&&1!=k)try{this.safe=a.const_get(z,"SafeMode",!0,!0).$const_get(E.$to_s().$upcase())}catch(ga){if(a.rescue(ga,
[a.const_get(z,"StandardError",!0,!0)]))try{this.safe=a.const_get([a.const_get(z,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)}finally{a.pop_exception()}else throw ga;}else this.safe=E;else this.safe=a.const_get([a.const_get(z,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0);this.compat_mode=A["$key?"]("compat-mode");this.sourcemap=f["$[]"]("sourcemap");this.converter=d;E=(q=a.const_get([a.Object.$$scope],"Asciidoctor",!0,!1))&&q.$$scope&&(k=a.const_get([q.$$scope],"Extensions",!0,!1))?"constant":d;this.extensions=
d}else this.parent_document=C,k="base_dir",q=f,!1!==(m=q["$[]"](k))&&m!==d&&null!=m?m:q["$[]="](k,C.$base_dir()),this.references=n(C.$references(),"inject",[b([],{})],(p=function(b,e){var f,h;h=d;null==e&&(e=d);e=a.to_ary(e);f=a.slice.call(e,0,e.length);h=f.splice(0,1)[0];null==h&&(h=d);f=f.splice(0,1)[0];null==f&&(f=d);null==b&&(b=d);h=h["$=="]("footnotes")?["footnotes",[]]:[h,f];n(b,"[]=",a.to_a(h));h[c(h.length,1)];return b},p.$$s=this,p.$$arity=2,p.$$has_top_level_mlhs_arg=!0,p)),this.callouts=
C.$callouts(),A=C.$attributes().$dup(),n(["doctype","compat-mode","toc","toc-placement","toc-position"],"each",[],(r=function(a){null==a&&(a=d);return A.$delete(a)},r.$$s=this,r.$$arity=1,r)),this.attribute_overrides=A,this.safe=C.$safe(),this.compat_mode=C.$compat_mode(),this.sourcemap=C.$sourcemap(),this.converter=C.$converter(),E=!1,this.extensions=C.$extensions();this.parsed=!1;this.header=d;this.counters=b([],{});this.attributes_modified=a.const_get([a.Object.$$scope],"Set",!0,!0).$new();this.options=
f;this.docinfo_processor_extensions=b([],{});L=(m="header_footer",I=f,!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,!1));f.$freeze();F=this.attributes;w=["sectids",""];n(F,"[]=",a.to_a(w));w[c(w.length,1)];if(!1===L||L===d||null==L)w=["notitle",""],n(F,"[]=",a.to_a(w)),w[c(w.length,1)];w=["toc-placement","auto"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["stylesheet",""];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["webfonts",""];n(F,"[]=",a.to_a(w));w[c(w.length,1)];!1!==L&&L!==d&&null!=L&&(w=["copycss",
""],n(F,"[]=",a.to_a(w)),w[c(w.length,1)]);w=["prewrap",""];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["attribute-undefined",a.const_get(z,"Compliance",!0,!0).$attribute_undefined()];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["attribute-missing",a.const_get(z,"Compliance",!0,!0).$attribute_missing()];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["iconfont-remote",""];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["caution-caption","Caution"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["important-caption","Important"];
n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["note-caption","Note"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["tip-caption","Tip"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["warning-caption","Warning"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["appendix-caption","Appendix"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["example-caption","Example"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["figure-caption","Figure"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["table-caption","Table"];n(F,"[]=",a.to_a(w));w[c(w.length,
1)];w=["toc-title","Table of Contents"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["manname-title","NAME"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["untitled-label","Untitled"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["version-label","Version"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["last-update-label","Last updated"];n(F,"[]=",a.to_a(w));w[c(w.length,1)];w=["asciidoctor",""];n(A,"[]=",a.to_a(w));w[c(w.length,1)];w=["asciidoctor-version",a.const_get(z,"VERSION",!0,!0)];n(A,"[]=",a.to_a(w));w[c(w.length,
1)];M=n(a.const_get(z,"SafeMode",!0,!0).$constants(),"find",[],(T=function(b){var c=T.$$s||this;null==c.safe&&(c.safe=d);null==b&&(b=d);return a.const_get(z,"SafeMode",!0,!0).$const_get(b)["$=="](c.safe)},T.$$s=this,T.$$arity=1,T)).$to_s().$downcase();w=["safe-mode-name",M];n(A,"[]=",a.to_a(w));w[c(w.length,1)];w=["safe-mode-"+M,""];n(A,"[]=",a.to_a(w));w[c(w.length,1)];w=["safe-mode-level",this.safe];n(A,"[]=",a.to_a(w));w[c(w.length,1)];w=["embedded",!1!==L&&L!==d&&null!=L?d:""];n(A,"[]=",a.to_a(w));
w[c(w.length,1)];m="max-include-depth";I=A;!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,64);m="allow-uri-read";I=A;!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,d);w=["user-home",a.const_get(z,"USER_HOME",!0,!0)];n(A,"[]=",a.to_a(w));w[c(w.length,1)];(m=A["$key?"]("numbered"))===d||null==m||m.$$is_boolean&&1!=m||(w=["sectnums",A.$delete("numbered")],n(A,"[]=",a.to_a(w)),w[c(w.length,1)]);(m=f["$[]"]("base_dir"))===d||null==m||m.$$is_boolean&&1!=m?(m=A["$[]"]("docdir"))===d||null==m||m.$$is_boolean&&
1!=m?this.base_dir=(w=["docdir",a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(a.const_get([a.Object.$$scope],"Dir",!0,!0).$pwd())],n(A,"[]=",a.to_a(w)),w[c(w.length,1)]):this.base_dir=(w=["docdir",a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(A["$[]"]("docdir"))],n(A,"[]=",a.to_a(w)),w[c(w.length,1)]):this.base_dir=(w=["docdir",a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(f["$[]"]("base_dir"))],n(A,"[]=",a.to_a(w)),w[c(w.length,1)]);(m=L=f["$[]"]("backend"))===
d||null==m||m.$$is_boolean&&1!=m||(w=["backend",""+L],n(A,"[]=",a.to_a(w)),w[c(w.length,1)]);(m=L=f["$[]"]("doctype"))===d||null==m||m.$$is_boolean&&1!=m||(w=["doctype",""+L],n(A,"[]=",a.to_a(w)),w[c(w.length,1)]);if(!((m=h(this.safe,a.const_get([a.const_get(z,"SafeMode",!0,!0).$$scope],"SERVER",!0,!0)))===d||null==m||m.$$is_boolean&&1!=m||(m="copycss",I=A,!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,d),m="source-highlighter",I=A,!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,d),m="backend",
I=A,!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,a.const_get(z,"DEFAULT_BACKEND",!0,!0)),(m=(I=C["$!"](),!1!==I&&I!==d&&null!=I?A["$key?"]("docfile"):I))===d||null==m||m.$$is_boolean&&1!=m||(w=["docfile",A["$[]"]("docfile")["$[]"](a.Range.$new(l(A["$[]"]("docdir").$length(),1),-1,!1))],n(A,"[]=",a.to_a(w)),w[c(w.length,1)]),w=["docdir",""],n(A,"[]=",a.to_a(w)),w[c(w.length,1)],w=["user-home","."],n(A,"[]=",a.to_a(w)),w[c(w.length,1)],(m=h(this.safe,a.const_get([a.const_get(z,"SafeMode",!0,!0).$$scope],
"SECURE",!0,!0)))===d||null==m||m.$$is_boolean&&1!=m))){if((m=A["$key?"]("max-attribute-value-size"))===d||null==m||m.$$is_boolean&&1!=m)w=["max-attribute-value-size",4096],n(A,"[]=",a.to_a(w)),w[c(w.length,1)];if((m=A.$fetch("linkcss","")["$nil?"]())===d||null==m||m.$$is_boolean&&1!=m)w=["linkcss",""],n(A,"[]=",a.to_a(w)),w[c(w.length,1)];m="icons";I=A;!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,d)}this.max_attribute_value_size=(m=B=(I="max-attribute-value-size",N=A,!1!==(v=N["$[]"](I))&&
v!==d&&null!=v?v:N["$[]="](I,d)))===d||null==m||m.$$is_boolean&&1!=m?d:B.$to_i().$abs();n(A,"delete_if",[],(u=function(b,e){var f,h,k=d;null==b&&(b=d);null==e&&(e=d);k=!1;(f=e["$nil?"]())===d||null==f||f.$$is_boolean&&1!=f?((f=(h=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](e),!1!==h&&h!==d&&null!=h?e["$end_with?"]("@"):h))===d||null==f||f.$$is_boolean&&1!=f||(e=e.$chop(),k=!0),w=[b,e],n(F,"[]=",a.to_a(w)),w[c(w.length,1)]):F.$delete(b);return k},u.$$s=this,u.$$arity=2,u));if(!1!==C&&C!==
d&&null!=C)return m="doctype",I=F,!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,a.const_get(z,"DEFAULT_DOCTYPE",!0,!0)),this.reader=a.const_get(z,"Reader",!0,!0).$new(e,f["$[]"]("cursor")),a.const_get(z,"Parser",!0,!0).$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;(m="backend",I=F,!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,a.const_get(z,"DEFAULT_BACKEND",!0,!0)))["$=="]("manpage")?(w=["doctype",(w=["doctype","manpage"],n(A,"[]=",a.to_a(w)),w[c(w.length,1)])],n(F,
"[]=",a.to_a(w)),w[c(w.length,1)]):(m="doctype",I=F,!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,a.const_get(z,"DEFAULT_DOCTYPE",!0,!0)));this.$update_backend_attributes(F["$[]"]("backend"),!0);C=(m=a.const_get([a.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))===d||null==m||m.$$is_boolean&&1!=m?a.const_get([a.Object.$$scope],"Time",!0,!0).$now():a.const_get([a.Object.$$scope],"Time",!0,!0).$at(a.const_get([a.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc();
L=(m="localdate",I=F,!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,C.$strftime("%Y-%m-%d")));if((m=M=F["$[]"]("localtime"))===d||null==m||m.$$is_boolean&&1!=m)try{M=(w=["localtime",C.$strftime("%H:%M:%S %Z")],n(F,"[]=",a.to_a(w)),w[c(w.length,1)])}catch(ga){if(a.rescue(ga,[a.const_get(z,"StandardError",!0,!0)]))try{M=(w=["localtime",C.$strftime("%H:%M:%S %z")],n(F,"[]=",a.to_a(w)),w[c(w.length,1)])}finally{a.pop_exception()}else throw ga;}m="localdatetime";I=F;!1!==(N=I["$[]"](m))&&N!==d&&null!=
N?N:I["$[]="](m,""+L+" "+M);m="docdate";I=F;!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,L);m="doctime";I=F;!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,M);m="docdatetime";I=F;!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,""+L+" "+M);m="stylesdir";I=F;!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,".");m="iconsdir";I=F;!1!==(N=I["$[]"](m))&&N!==d&&null!=N?N:I["$[]="](m,a.const_get([a.Object.$$scope],"File",!0,!0).$join(F.$fetch("imagesdir","./images"),"icons"));if(!1!==E&&E!==
d&&null!=E){if((m=E=f["$[]"]("extensions_registry"))===d||null==m||m.$$is_boolean&&1!=m)E=(m=a.const_get([a.Object.$$scope],"Proc",!0,!0)["$==="](X=f["$[]"]("extensions")))===d||null==m||m.$$is_boolean&&1!=m?a.const_get([a.const_get(z,"Extensions",!0,!0).$$scope],"Registry",!0,!0).$new():n(a.const_get(z,"Extensions",!0,!0),"build_registry",[],X.$to_proc());else if((m=!1!==(I=a.const_get([a.const_get(z,"Extensions",!0,!0).$$scope],"Registry",!0,!0)["$==="](E))&&I!==d&&null!=I?I:(N=a.const_get([a.Object.$$scope],
"RUBY_ENGINE_JRUBY",!0,!0),!1!==N&&N!==d&&null!=N?a.const_get([a.const_get([a.const_get([a.Object.$$scope],"AsciidoctorJ",!0,!0).$$scope],"Extensions",!0,!0).$$scope],"ExtensionRegistry",!0,!0)["$==="](E):N))===d||null==m||m.$$is_boolean&&1!=m)E=a.const_get([a.const_get(z,"Extensions",!0,!0).$$scope],"Registry",!0,!0).$new();this.extensions=E.$activate(this)}return this.reader=a.const_get(z,"PreprocessorReader",!0,!0).$new(this,e,a.const_get([a.const_get(z,"Reader",!0,!0).$$scope],"Cursor",!0,!0).$new(F["$[]"]("docfile"),
this.base_dir))},y.$$arity=-1);a.defn(e,"$parse",w=function(c){var e,g,f,h,k,l=d,m=d;null==c&&(c=d);return(e=this.parsed)===d||null==e||e.$$is_boolean&&1!=e?(l=this,!1!==c&&c!==d&&null!=c&&(this.reader=a.const_get(z,"PreprocessorReader",!0,!0).$new(l,c,a.const_get([a.const_get(z,"Reader",!0,!0).$$scope],"Cursor",!0,!0).$new(this.attributes["$[]"]("docfile"),this.base_dir))),(e=(g=m=(f=this.parent_document)===d||null==f||f.$$is_boolean&&1!=f?this.extensions:d,!1!==g&&g!==d&&null!=g?m["$preprocessors?"]():
g))===d||null==e||e.$$is_boolean&&1!=e||n(m.$preprocessors(),"each",[],(h=function(a){var b=h.$$s||this,c;null==b.reader&&(b.reader=d);null==a&&(a=d);return b.reader=!1!==(c=a.$process_method()["$[]"](l,b.reader))&&c!==d&&null!=c?c:b.reader},h.$$s=this,h.$$arity=1,h)),a.const_get(z,"Parser",!0,!0).$parse(this.reader,l,b(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(e=(g=!1!==m&&m!==d&&null!=m)?m["$treeprocessors?"]():m)===d||null==
e||e.$$is_boolean&&1!=e||n(m.$treeprocessors(),"each",[],(k=function(b){var c,e,g,f=d;null==b&&(b=d);return(c=(e=(g=f=b.$process_method()["$[]"](l),!1!==g&&g!==d&&null!=g?a.const_get(z,"Document",!0,!0)["$==="](f):g),!1!==e&&e!==d&&null!=e?f["$!="](l):e))===d||null==c||c.$$is_boolean&&1!=c?d:l=f},k.$$s=this,k.$$arity=1,k)),this.parsed=!0,l):this},w.$$arity=-1);a.defn(e,"$counter",B=function(b,e){var f,h,k=d,l=d,k=d;null==e&&(e=d);(f=(h=k=(l=this.attributes["$[]"](b))["$nil_or_empty?"]()["$!"](),!1!==
h&&h!==d&&null!=h?this.counters["$key?"](b):h))===d||null==f||f.$$is_boolean&&1!=f?((f=e["$nil?"]())===d||null==f||f.$$is_boolean&&1!=f?e.$to_i().$to_s()["$=="](e)&&(e=e.$to_i()):e=this.$nextval(!1!==k&&k!==d&&null!=k?l:0),k=[b,e]):k=[b,this.$nextval(l)];n(this.counters,"[]=",a.to_a(k));k[c(k.length,1)];k=[b,this.counters["$[]"](b)];n(this.attributes,"[]=",a.to_a(k));return k[c(k.length,1)]},B.$$arity=-2);a.defn(e,"$counter_increment",A=function(b,c){var e=d,e=this.$counter(b);a.const_get(z,"AttributeEntry",
!0,!0).$new(b,e).$save_to(c.$attributes());return e},A.$$arity=2);a.defn(e,"$nextval",V=function(b){var c,e=d;return(c=a.const_get([a.Object.$$scope],"Integer",!0,!0)["$==="](b))===d||null==c||c.$$is_boolean&&1!=c?(e=b.$to_i(),(c=e.$to_s()["$!="](b.$to_s()))===d||null==c||c.$$is_boolean&&1!=c?l(e,1):l(b["$[]"](0).$ord(),1).$chr()):l(b,1)},V.$$arity=1);a.defn(e,"$register",J=function(b,e,f){var h,k,m,q=this,p=d,I=d,N=d,T=d;null==f&&(f=!1);return function(){p=b;return"ids"["$==="](p)?(h=[].concat(a.to_a(e)),
I=null==h[0]?d:h[0],N=null==h[1]?d:h[1],h,!1!==(h=N)&&h!==d&&null!=h?h:N=l(l("[",I),"]"),!1!==f&&f!==d&&null!=f?(T=[I,N],n(q.references["$[]"]("ids"),"[]=",a.to_a(T)),T[c(T.length,1)]):(h=I,k=q.references["$[]"]("ids"),!1!==(m=k["$[]"](h))&&m!==d&&null!=m?m:k["$[]="](h,N))):"footnotes"["$==="](p)||"indexterms"["$==="](p)?q.references["$[]"](b)["$<<"](e):(h=q.options["$[]"]("catalog_assets"))===d||null==h||h.$$is_boolean&&1!=h?d:q.references["$[]"](b)["$<<"](e)}()},J.$$arity=-3);a.defn(e,"$footnotes?",
Q=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},Q.$$arity=0);a.defn(e,"$footnotes",G=function(){return this.references["$[]"]("footnotes")},G.$$arity=0);a.defn(e,"$nested?",O=function(){return this.parent_document["$!"]()["$!"]()},O.$$arity=0);a.defn(e,"$embedded?",F=function(){return this.attributes["$key?"]("embedded")},F.$$arity=0);a.defn(e,"$extensions?",L=function(){return this.extensions["$!"]()["$!"]()},L.$$arity=0);a.defn(e,"$source",D=function(){var a;return(a=
this.reader)===d||null==a||a.$$is_boolean&&1!=a?d:this.reader.$source()},D.$$arity=0);a.defn(e,"$source_lines",ba=function(){var a;return(a=this.reader)===d||null==a||a.$$is_boolean&&1!=a?d:this.reader.$source_lines()},ba.$$arity=0);a.defn(e,"$doctype",ia=function(){var a;return!1!==(a=this.doctype)&&a!==d&&null!=a?a:this.doctype=this.attributes["$[]"]("doctype")},ia.$$arity=0);a.defn(e,"$backend",na=function(){var a;return!1!==(a=this.backend)&&a!==d&&null!=a?a:this.backend=this.attributes["$[]"]("backend")},
na.$$arity=0);a.defn(e,"$basebackend?",pa=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},pa.$$arity=1);a.defn(e,"$title",ja=function(){return this.attributes["$[]"]("title")},ja.$$arity=0);a.defn(e,"$title=",K=function(b){var e,f=d;!1!==(e=this.header)&&e!==d&&null!=e?e:this.header=a.const_get(z,"Section",!0,!0).$new(this,0);f=[b];n(this.header,"title=",a.to_a(f));return f[c(f.length,1)]},K.$$arity=1);a.defn(e,"$doctitle",ga=function(c){var e,g,f=d,h=d,k=d;null==c&&(c=b([],{}));
if((e=(f=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==d&&null!=e&&(!e.$$is_boolean||1==e))f=this.$title();else if((e=(g=h=this.$first_section(),!1!==g&&g!==d&&null!=g?h["$title?"]():g))!==d&&null!=e&&(!e.$$is_boolean||1==e))f=h.$title();else if((e=(g=c["$[]"]("use_fallback"),!1!==g&&g!==d&&null!=g?f=this.attributes["$[]"]("untitled-label"):g))===d||null==e||e.$$is_boolean&&1!=e)return d;return(e=k=c["$[]"]("partition"))===d||null==e||e.$$is_boolean&&1!=e?(e=(g=c["$[]"]("sanitize"),
!1!==g&&g!==d&&null!=g?f["$include?"]("<"):g))===d||null==e||e.$$is_boolean&&1!=e?f:f.$gsub(a.const_get(z,"XmlSanitizeRx",!0,!0),"").$tr_s(" "," ").$strip():a.const_get(z,"Title",!0,!0).$new(f,c.$merge(b(["separator"],{separator:k["$=="](!0)?this.attributes["$[]"]("title-separator"):k})))},ga.$$arity=-1);a.alias(e,"name","doctitle");a.defn(e,"$author",ha=function(){return this.attributes["$[]"]("author")},ha.$$arity=0);a.defn(e,"$revdate",X=function(){return this.attributes["$[]"]("revdate")},X.$$arity=
0);a.defn(e,"$notitle",ma=function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==d&&null!=a?this.attributes["$key?"]("notitle"):a},ma.$$arity=0);a.defn(e,"$noheader",ka=function(){return this.attributes["$key?"]("noheader")},ka.$$arity=0);a.defn(e,"$nofooter",sa=function(){return this.attributes["$key?"]("nofooter")},sa.$$arity=0);a.defn(e,"$first_section",wa=function(){var a,b;return(a=this["$has_header?"]())===d||null==a||a.$$is_boolean&&1!=a?n(!1!==(a=this.blocks)&&
a!==d&&null!=a?a:[],"find",[],(b=function(a){null==a&&(a=d);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b)):this.header},wa.$$arity=0);a.defn(e,"$has_header?",xa=function(){var a;return(a=this.header)===d||null==a||a.$$is_boolean&&1!=a?!1:!0},xa.$$arity=0);a.alias(e,"header?","has_header?");a.defn(e,"$<<",ra=function(b){var c=ra.$$p,e=d,g=d,f=d;c&&(ra.$$p=null);g=0;f=arguments.length;for(e=Array(f);g<f;g++)e[g]=arguments[g];b.$context()["$=="]("section")&&this.$assign_index(b);return n(this,
a.find_super_dispatcher(this,"<<",ra,!1),e,c)},ra.$$arity=1);a.defn(e,"$finalize_header",va=function(b,e){var f=d;null==e&&(e=!0);this.$clear_playback_attributes(b);this.$save_attributes();if(!1===e||e===d||null==e)f=["invalid-header",!0],n(b,"[]=",a.to_a(f)),f[c(f.length,1)];return b},va.$$arity=-2);a.defn(e,"$save_attributes",oa=function(){var b,e,f,h,k=d,l=d,m=d,q=d,t=l=d,p=d,T=d,l=q=d;if((k=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((b=!1!==(e=this["$attribute_locked?"]("toc"))&&
e!==d&&null!=e?e:this.attributes_modified["$include?"]("toc"))===d||null==b||b.$$is_boolean&&1!=b)l=["toc",""],n(k,"[]=",a.to_a(l)),l[c(l.length,1)];if((b=!1!==(e=this["$attribute_locked?"]("sectnums"))&&e!==d&&null!=e?e:this.attributes_modified["$include?"]("sectnums"))===d||null==b||b.$$is_boolean&&1!=b)l=["sectnums",""],n(k,"[]=",a.to_a(l)),l[c(l.length,1)]}if((b=!1!==(e=k["$key?"]("doctitle"))&&e!==d&&null!=e?e:(m=this.$doctitle())["$!"]())===d||null==b||b.$$is_boolean&&1!=b)l=["doctitle",m],
n(k,"[]=",a.to_a(l)),l[c(l.length,1)];if((b=this.id)===d||null==b||b.$$is_boolean&&1!=b)this.id=k["$[]"]("css-signature");q=(b=l=(e=k.$delete("toc2"))===d||null==e||e.$$is_boolean&&1!=e?k["$[]"]("toc"):"left")===d||null==b||b.$$is_boolean&&1!=b?d:(b=(e=t=k.$fetch("toc-placement","macro"),!1!==e&&e!==d&&null!=e?t["$!="]("auto"):e))===d||null==b||b.$$is_boolean&&1!=b?k["$[]"]("toc-position"):t;(b=(e=!1!==l&&l!==d&&null!=l)?!1!==(f=l["$empty?"]()["$!"]())&&f!==d&&null!=f?f:q["$nil_or_empty?"]()["$!"]():
l)===d||null==b||b.$$is_boolean&&1!=b||(p="left",T="toc2",q=(b=q["$nil_or_empty?"]()["$!"]())===d||null==b||b.$$is_boolean&&1!=b?(b=l["$empty?"]()["$!"]())===d||null==b||b.$$is_boolean&&1!=b?p:l:q,l=["toc",""],n(k,"[]=",a.to_a(l)),l[c(l.length,1)],l=["toc-placement","auto"],n(k,"[]=",a.to_a(l)),l[c(l.length,1)],l=q,"left"["$==="](l)||"<"["$==="](l)||"&lt;"["$==="](l)?(l=["toc-position","left"],n(k,"[]=",a.to_a(l)),l[c(l.length,1)]):"right"["$==="](l)||">"["$==="](l)||"&gt;"["$==="](l)?(l=["toc-position",
"right"],n(k,"[]=",a.to_a(l)),l[c(l.length,1)]):"top"["$==="](l)||"^"["$==="](l)?(l=["toc-position","top"],n(k,"[]=",a.to_a(l)),l[c(l.length,1)]):"bottom"["$==="](l)||"v"["$==="](l)?(l=["toc-position","bottom"],n(k,"[]=",a.to_a(l)),l[c(l.length,1)]):("preamble"["$==="](l)||"macro"["$==="](l)?(l=["toc-position","content"],n(k,"[]=",a.to_a(l)),l[c(l.length,1)],l=["toc-placement",q],n(k,"[]=",a.to_a(l)),l[c(l.length,1)]):k.$delete("toc-position"),T=d),!1!==T&&T!==d&&null!=T&&(b="toc-class",e=k,!1!==
(f=e["$[]"](b))&&f!==d&&null!=f?f:e["$[]="](b,T)));(b=k["$key?"]("compat-mode"))===d||null==b||b.$$is_boolean&&1!=b?this.compat_mode=!1:((b=k["$has_key?"]("language"))===d||null==b||b.$$is_boolean&&1!=b||(l=["source-language",k["$[]"]("language")],n(k,"[]=",a.to_a(l)),l[c(l.length,1)]),this.compat_mode=!0);this.outfilesuffix=k["$[]"]("outfilesuffix");this.header_attributes=k.$dup();return(b=this.parent_document)===d||null==b||b.$$is_boolean&&1!=b?n(a.const_get(z,"FLEXIBLE_ATTRIBUTES",!0,!0),"each",
[],(h=function(a){var b=h.$$s||this,c,e;null==b.attribute_overrides&&(b.attribute_overrides=d);null==a&&(a=d);return(c=(e=b.attribute_overrides["$key?"](a),!1!==e&&e!==d&&null!=e?b.attribute_overrides["$[]"](a):e))===d||null==c||c.$$is_boolean&&1!=c?d:b.attribute_overrides.$delete(a)},h.$$s=this,h.$$arity=1,h)):d},oa.$$arity=0);a.defn(e,"$restore_attributes",ta=function(){var a;((a=this.parent_document)===d||null==a||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes},
ta.$$arity=0);a.defn(e,"$clear_playback_attributes",E=function(a){return a.$delete("attribute_entries")},E.$$arity=1);a.defn(e,"$playback_attributes",S=function(b){var e,f;return(e=b["$key?"]("attribute_entries"))===d||null==e||e.$$is_boolean&&1!=e?d:n(b["$[]"]("attribute_entries"),"each",[],(f=function(b){var e=f.$$s||this,h,k=d,l=d;null==e.attributes&&(e.attributes=d);null==b&&(b=d);k=b.$name();if((h=b.$negate())===d||null==h||h.$$is_boolean&&1!=h)return l=[k,b.$value()],n(e.attributes,"[]=",a.to_a(l)),
l[c(l.length,1)],k["$=="]("compat-mode")?e.compat_mode=!0:d;e.attributes.$delete(k);return k["$=="]("compat-mode")?e.compat_mode=!1:d},f.$$s=this,f.$$arity=1,f))},S.$$arity=1);a.defn(e,"$set_attribute",Y=function(b,e){var f,h=d,k=d,h=d;return(f=this["$attribute_locked?"](b))===d||null==f||f.$$is_boolean&&1!=f?(h=(f=this.max_attribute_value_size)===d||null==f||f.$$is_boolean&&1!=f?this.$apply_attribute_value_subs(e):this.$apply_attribute_value_subs(e).$limit(this.max_attribute_value_size),k=b,"backend"["$==="](k)?
this.$update_backend_attributes(h,this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]()):"doctype"["$==="](k)?this.$update_doctype_attributes(h):(h=[b,h],n(this.attributes,"[]=",a.to_a(h)),h[c(h.length,1)]),this.attributes_modified["$<<"](b),!0):!1},Y.$$arity=2);a.defn(e,"$delete_attribute",aa=function(a){var b;return(b=this["$attribute_locked?"](a))===d||null==b||b.$$is_boolean&&1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1},aa.$$arity=1);a.defn(e,"$attribute_locked?",
ya=function(a){return this.attribute_overrides["$key?"](a)},ya.$$arity=1);a.defn(e,"$apply_attribute_value_subs",Aa=function(b){var c,e=d,g=d;if((c=e=a.const_get(z,"AttributeEntryPassMacroRx",!0,!0).$match(b))===d||null==c||c.$$is_boolean&&1!=c)return this.$apply_header_subs(b);if((c=e["$[]"](1)["$empty?"]()["$!"]())===d||null==c||c.$$is_boolean&&1!=c)return e["$[]"](2);g=this.$resolve_pass_subs(e["$[]"](1));return(c=g["$empty?"]())===d||null==c||c.$$is_boolean&&1!=c?this.$apply_subs(e["$[]"](2),
g):e["$[]"](2)},Aa.$$arity=1);a.defn(e,"$update_backend_attributes",Ba=function(b,e){var f,h,k=d,l=d,m=d,q=d,t=d,p=d,T=l=d,r=t=d,t=d;null==e&&(e=!1);if((f=!1!==(h=e)&&h!==d&&null!=h?h:!1!==b&&b!==d&&null!=b?b["$!="](this.attributes["$[]"]("backend")):b)===d||null==f||f.$$is_boolean&&1!=f)return d;k=this.attributes;l=k["$[]"]("backend");m=k["$[]"]("basebackend");q=k["$[]"]("doctype");(f=b["$start_with?"]("xhtml"))===d||null==f||f.$$is_boolean&&1!=f?(f=b["$start_with?"]("html"))===d||null==f||f.$$is_boolean&&
1!=f||k["$[]"]("htmlsyntax")["$=="]("xml")||(t=["htmlsyntax","html"],n(k,"[]=",a.to_a(t)),t[c(t.length,1)]):(t=["htmlsyntax","xml"],n(k,"[]=",a.to_a(t)),t[c(t.length,1)],b=b["$[]"](x(1,-1,!1)));(f=p=a.const_get(z,"BACKEND_ALIASES",!0,!0)["$[]"](b))===d||null==f||f.$$is_boolean&&1!=f||(b=p);!1!==l&&l!==d&&null!=l&&(k.$delete("backend-"+l),!1!==q&&q!==d&&null!=q&&k.$delete("backend-"+l+"-doctype-"+q));!1!==q&&q!==d&&null!=q&&(t=["doctype-"+q,""],n(k,"[]=",a.to_a(t)),t[c(t.length,1)],t=["backend-"+b+
"-doctype-"+q,""],n(k,"[]=",a.to_a(t)),t[c(t.length,1)]);t=["backend",b];n(k,"[]=",a.to_a(t));t[c(t.length,1)];t=["backend-"+b,""];n(k,"[]=",a.to_a(t));t[c(t.length,1)];if((f=a.const_get([a.const_get(z,"Converter",!0,!0).$$scope],"BackendInfo",!0,!0)["$==="](this.converter=this.$create_converter()))===d||null==f||f.$$is_boolean&&1!=f){if(l=b.$sub(a.const_get(z,"TrailingDigitsRx",!0,!0),""),t=!1!==(f=a.const_get(z,"DEFAULT_EXTENSIONS",!0,!0)["$[]"](l))&&f!==d&&null!=f?f:".html",T=t["$[]"](x(1,-1,!1)),
(f=this["$attribute_locked?"]("outfilesuffix"))===d||null==f||f.$$is_boolean&&1!=f)t=["outfilesuffix",t],n(k,"[]=",a.to_a(t)),t[c(t.length,1)]}else{l=this.converter.$basebackend();if((f=this["$attribute_locked?"]("outfilesuffix"))===d||null==f||f.$$is_boolean&&1!=f)t=["outfilesuffix",this.converter.$outfilesuffix()],n(k,"[]=",a.to_a(t)),t[c(t.length,1)];T=this.converter.$filetype()}(f=r=k["$[]"]("filetype"))===d||null==f||f.$$is_boolean&&1!=f||k.$delete("filetype-"+r);t=["filetype",T];n(k,"[]=",a.to_a(t));
t[c(t.length,1)];t=["filetype-"+T,""];n(k,"[]=",a.to_a(t));t[c(t.length,1)];(f=t=a.const_get(z,"DEFAULT_PAGE_WIDTHS",!0,!0)["$[]"](l))===d||null==f||f.$$is_boolean&&1!=f?k.$delete("pagewidth"):(t=["pagewidth",t],n(k,"[]=",a.to_a(t)),t[c(t.length,1)]);(f=l["$!="](m))===d||null==f||f.$$is_boolean&&1!=f||(!1!==m&&m!==d&&null!=m&&(k.$delete("basebackend-"+m),!1!==q&&q!==d&&null!=q&&k.$delete("basebackend-"+m+"-doctype-"+q)),t=["basebackend",l],n(k,"[]=",a.to_a(t)),t[c(t.length,1)],t=["basebackend-"+l,
""],n(k,"[]=",a.to_a(t)),t[c(t.length,1)],!1!==q&&q!==d&&null!=q&&(t=["basebackend-"+l+"-doctype-"+q,""],n(k,"[]=",a.to_a(t)),t[c(t.length,1)]));return this.backend=d},Ba.$$arity=-2);a.defn(e,"$update_doctype_attributes",Ca=function(b){var e,f=d,h=d,k=d,l=d,h=d;if((e=!1!==b&&b!==d&&null!=b?b["$!="](this.attributes["$[]"]("doctype")):b)===d||null==e||e.$$is_boolean&&1!=e)return d;f=this.attributes;h=f["$[]"]("doctype");k=f["$[]"]("backend");l=f["$[]"]("basebackend");!1!==h&&h!==d&&null!=h&&(f.$delete("doctype-"+
h),!1!==k&&k!==d&&null!=k&&f.$delete("backend-"+k+"-doctype-"+h),!1!==l&&l!==d&&null!=l&&f.$delete("basebackend-"+l+"-doctype-"+h));h=["doctype",b];n(f,"[]=",a.to_a(h));h[c(h.length,1)];h=["doctype-"+b,""];n(f,"[]=",a.to_a(h));h[c(h.length,1)];!1!==k&&k!==d&&null!=k&&(h=["backend-"+k+"-doctype-"+b,""],n(f,"[]=",a.to_a(h)),h[c(h.length,1)]);!1!==l&&l!==d&&null!=l&&(h=["basebackend-"+l+"-doctype-"+b,""],n(f,"[]=",a.to_a(h)),h[c(h.length,1)]);return this.doctype=d},Ca.$$arity=1);a.defn(e,"$create_converter",
za=function(){var e,f=this,h=d,k=d,l=d,m=d,q=d,t=d,h=b([],{}),k=["htmlsyntax",f.attributes["$[]"]("htmlsyntax")];n(h,"[]=",a.to_a(k));k[c(k.length,1)];l=function(){if((e=m=f.options["$[]"]("template_dir"))===d||null==e||e.$$is_boolean&&1!=e){if((e=l=f.options["$[]"]("template_dirs"))===d||null==e||e.$$is_boolean&&1!=e)return d;k=["template_dirs",l];n(h,"[]=",a.to_a(k));return k[c(k.length,1)]}k=["template_dirs",[m]];n(h,"[]=",a.to_a(k));return k[c(k.length,1)]}();!1!==l&&l!==d&&null!=l&&(k=["template_cache",
f.options.$fetch("template_cache",!0)],n(h,"[]=",a.to_a(k)),k[c(k.length,1)],k=["template_engine",f.options["$[]"]("template_engine")],n(h,"[]=",a.to_a(k)),k[c(k.length,1)],k=["template_engine_options",f.options["$[]"]("template_engine_options")],n(h,"[]=",a.to_a(k)),k[c(k.length,1)],k=["eruby",f.options["$[]"]("eruby")],n(h,"[]=",a.to_a(k)),k[c(k.length,1)],k=["safe",f.safe],n(h,"[]=",a.to_a(k)),k[c(k.length,1)]);t=(e=q=f.options["$[]"]("converter"))===d||null==e||e.$$is_boolean&&1!=e?a.const_get([a.const_get(z,
"Converter",!0,!0).$$scope],"Factory",!0,!0).$default(!1):a.const_get([a.const_get(z,"Converter",!0,!0).$$scope],"Factory",!0,!0).$new(a.const_get([a.Object.$$scope],"Hash",!0,!0)["$[]"](f.$backend(),q));return t.$create(f.$backend(),h)},za.$$arity=0);a.defn(e,"$convert",Da=function(e){var f,k,l,m=d,q=d,t=d,p=d,I=d;null==e&&(e=b([],{}));((f=this.parsed)===d||null==f||f.$$is_boolean&&1!=f)&&this.$parse();if((f=!1!==(k=h(this.safe,a.const_get([a.const_get(z,"SafeMode",!0,!0).$$scope],"SERVER",!0,!0)))&&
k!==d&&null!=k?k:e["$empty?"]())===d||null==f||f.$$is_boolean&&1!=f)((f=(m=["outfile",e["$[]"]("outfile")],n(this.attributes,"[]=",a.to_a(m)),m[c(m.length,1)]))===d||null==f||f.$$is_boolean&&1!=f)&&this.attributes.$delete("outfile"),((f=(m=["outdir",e["$[]"]("outdir")],n(this.attributes,"[]=",a.to_a(m)),m[c(m.length,1)]))===d||null==f||f.$$is_boolean&&1!=f)&&this.attributes.$delete("outdir");((f=this.converter)===d||null==f||f.$$is_boolean&&1!=f)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+
this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?t=(f=(k=q=this.blocks["$[]"](0),!1!==k&&k!==d&&null!=k?q.$content_model()["$!="]("compound"):k))===d||null==f||f.$$is_boolean&&1!=f?d:q.$content():(p=(f=(k=e["$key?"]("header_footer"))===d||null==k||k.$$is_boolean&&1!=k?this.options["$[]"]("header_footer"):e["$[]"]("header_footer"))===d||null==f||f.$$is_boolean&&1!=f?"embedded":"document",t=this.converter.$convert(this,p));!((f=this.parent_document)===d||null==f||f.$$is_boolean&&
1!=f)||(f=(k=I=this.extensions,!1!==k&&k!==d&&null!=k?I["$postprocessors?"]():k))===d||null==f||f.$$is_boolean&&1!=f||n(I.$postprocessors(),"each",[],(l=function(a){var b=l.$$s||this;null==a&&(a=d);return t=a.$process_method()["$[]"](b,t)},l.$$s=this,l.$$arity=1,l));return t},Da.$$arity=-1);a.alias(e,"render","convert");a.defn(e,"$write",Ga=function(b,c){var e,g;if((e=a.const_get(z,"Writer",!0,!0)["$==="](this.converter))===d||null==e||e.$$is_boolean&&1!=e){if((e=c["$respond_to?"]("write"))===d||
null==e||e.$$is_boolean&&1!=e)n(a.const_get([a.Object.$$scope],"File",!0,!0),"open",[c,"w"],(g=function(a){null==a&&(a=d);return a.$write(b)},g.$$s=this,g.$$arity=1,g));else if((e=b["$nil_or_empty?"]())===d||null==e||e.$$is_boolean&&1!=e)c.$write(b.$chomp()),c.$write(a.const_get(z,"EOL",!0,!0));return d}return this.converter.$write(b,c)},Ga.$$arity=2);a.defn(e,"$content",r=function(){var b=r.$$p,c=d,e=d,g=d;b&&(r.$$p=null);e=0;g=arguments.length;for(c=Array(g);e<g;e++)c[e]=arguments[e];this.attributes.$delete("title");
return n(this,a.find_super_dispatcher(this,"content",r,!1),c,b)},r.$$arity=0);a.defn(e,"$docinfo",m=function(c,e){var g,f,l,m=d,q=d,t=d,p=d,N=m=d,T=d,q=q=d;null==c&&(c="head");null==e&&(e=d);if((g=h(this.$safe(),a.const_get([a.const_get(z,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===d||null==g||g.$$is_boolean&&1!=g){m=c["$=="]("head")?d:"-"+c;if(!1===e||e===d||null==e)e=this.outfilesuffix;q=this.attributes["$[]"]("docinfodir");t=d;p=(g=(p=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===
d||null==g||g.$$is_boolean&&1!=g?n(p.$split(","),"map",[],"strip".$to_proc()):(g=this.attributes["$key?"]("docinfo2"))===d||null==g||g.$$is_boolean&&1!=g?(g=this.attributes["$key?"]("docinfo1"))===d||null==g||g.$$is_boolean&&1!=g?!1!==p&&p!==d&&null!=p?["private"]:d:["shared"]:["private","shared"];if(!1!==p&&p!==d&&null!=p){m="docinfo"+m+e;if((g=p["$&"](["shared","shared-"+c])["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g)N=this.$normalize_system_path(m,q),(g=t=this.$read_asset(N,b(["normalize"],
{normalize:!0})))===d||null==g||g.$$is_boolean&&1!=g||(g=!1!==(f=T)&&f!==d&&null!=f?f:T=this.$resolve_docinfo_subs())===d||null==g||g.$$is_boolean&&1!=g||(t=(g=T["$=="]("attributes"))===d||null==g||g.$$is_boolean&&1!=g?this.$apply_subs(t,T):this.$sub_attributes(t));if((g=!1!==(f=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&f!==d&&null!=f?f:p["$&"](["private","private-"+c])["$empty?"]())===d||null==g||g.$$is_boolean&&1!=g)N=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+
"-"+m,q),(g=q=this.$read_asset(N,b(["normalize"],{normalize:!0})))===d||null==g||g.$$is_boolean&&1!=g||((g=!1!==(f=T)&&f!==d&&null!=f?f:T=this.$resolve_docinfo_subs())===d||null==g||g.$$is_boolean&&1!=g||(q=(g=T["$=="]("attributes"))===d||null==g||g.$$is_boolean&&1!=g?this.$apply_subs(q,T):this.$sub_attributes(q)),t=!1!==t&&t!==d&&null!=t?""+t+a.const_get(z,"EOL",!0,!0)+q:q)}(g=(f=this.extensions,!1!==f&&f!==d&&null!=f?this["$docinfo_processors?"](c):f))===d||null==g||g.$$is_boolean&&1!=g||(q=k(n(this.docinfo_processor_extensions["$[]"](c),
"map",[],(l=function(a){var b=l.$$s||this;null==a&&(a=d);return a.$process_method()["$[]"](b)},l.$$s=this,l.$$arity=1,l)).$compact(),a.const_get(z,"EOL",!0,!0)),t=!1!==t&&t!==d&&null!=t?""+t+a.const_get(z,"EOL",!0,!0)+q:q);return""+t}return""},m.$$arity=-1);a.defn(e,"$resolve_docinfo_subs",Ea=function(){var a,b=d;if((a=this.attributes["$key?"]("docinfosubs"))===d||null==a||a.$$is_boolean&&1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",d,"docinfo");return(a=
b["$empty?"]())===d||null==a||a.$$is_boolean&&1!=a?b:d},Ea.$$arity=0);a.defn(e,"$docinfo_processors?",Ha=function(b){var e,f,h=d;null==b&&(b="head");return(e=this.docinfo_processor_extensions["$key?"](b))===d||null==e||e.$$is_boolean&&1!=e?(e=(f=this.extensions,!1!==f&&f!==d&&null!=f?this.document.$extensions()["$docinfo_processors?"](b):f))===d||null==e||e.$$is_boolean&&1!=e?(h=[b,!1],n(this.docinfo_processor_extensions,"[]=",a.to_a(h)),h[c(h.length,1)]):(h=[b,this.document.$extensions().$docinfo_processors(b)],
n(this.docinfo_processor_extensions,"[]=",a.to_a(h)),h[c(h.length,1)])["$!"]()["$!"]():this.docinfo_processor_extensions["$[]"](b)["$!="](!1)},Ha.$$arity=-1);return(a.defn(e,"$to_s",Ka=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](d))===d||null==a||a.$$is_boolean&&1!=a?d:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"},Ka.$$arity=0),d)&&"to_s"})(z.base,a.const_get(y,"AbstractBlock",
!0,!0),y)}(a.base,e)};Opal.modules["asciidoctor/inline"]=function(a){var c=[a],h=a.nil,l=a.module,k=a.klass,e=a.send,d=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(c,g){var b=l(c,"Asciidoctor").$$scope,n=g.slice().concat(b);(function(b,$super,c){function g(){}b=g=k(b,$super,"Inline",g);var f=b.$$scope;c.slice().concat(f);var l,n,t,p;b.$attr_reader("text");b.$attr_reader("type");b.$attr_accessor("target");a.defn(b,
"$initialize",l=function(b,c,g,f){var k,n=l.$$p,t=h;null==g&&(g=h);null==f&&(f=d([],{}));n&&(l.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",l,!1),[b,c],null);this.node_name="inline_"+c;this.text=g;this.id=f["$[]"]("id");this.type=f["$[]"]("type");this.target=f["$[]"]("target");return(k=(t=f["$[]"]("attributes"))["$nil_or_empty?"]())===h||null==k||k.$$is_boolean&&1!=k?this.$update_attributes(t):h},l.$$arity=-3);a.defn(b,"$block?",n=function(){return!1},n.$$arity=0);a.defn(b,"$inline?",
t=function(){return!0},t.$$arity=0);a.defn(b,"$convert",p=function(){return this.$converter().$convert(this)},p.$$arity=0);return a.alias(b,"render","convert")})(b.base,a.const_get(n,"AbstractNode",!0,!0),n)}(a.base,c)};Opal.modules["asciidoctor/list"]=function(a){var c=[a],h=a.nil,l=a.module,k=a.klass,e=a.send;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));
return function(c,g){var p=l(c,"Asciidoctor").$$scope,b=g.slice().concat(p);(function(b,$super,c){function d(){}b=d=k(b,$super,"List",d);var g=b.$$proto,f=b.$$scope;c.slice().concat(f);var l,t,p,u;g.context=g.document=g.style=h;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",l=function(b,c){var d=l.$$p,g=h,f=h,k=h;d&&(l.$$p=null);f=0;k=arguments.length;for(g=Array(k);f<k;f++)g[f]=arguments[f];return e(this,a.find_super_dispatcher(this,
"initialize",l,!1),g,d)},l.$$arity=2);a.defn(b,"$outline?",t=function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==h&&null!=a?a:this.context["$=="]("olist")},t.$$arity=0);a.defn(b,"$convert",p=function(){var b=p.$$p,c=h,d=c=h,g=h;b&&(p.$$p=null);d=0;g=arguments.length;for(c=Array(g);d<g;d++)c[d]=arguments[d];return this.context["$=="]("colist")?(c=e(this,a.find_super_dispatcher(this,"convert",p,!1),c,b),this.document.$callouts().$next_list(),c):e(this,a.find_super_dispatcher(this,"convert",
p,!1),c,b)},p.$$arity=0);a.alias(b,"render","convert");return(a.defn(b,"$to_s",u=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},u.$$arity=0),h)&&"to_s"})(p.base,a.const_get(b,"AbstractBlock",!0,!0),b);(function(b,$super,c){function d(){}b=d=k(b,$super,"ListItem",d);var g=b.$$proto,f=b.$$scope,l=c.slice().concat(f),t,p,u,w,v,y,B;g.text=g.blocks=h;a.alias(b,"list","parent");b.$attr_accessor("marker");
a.defn(b,"$initialize",t=function(b,c){var d=t.$$p;null==c&&(c=h);d&&(t.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",t,!1),[b,"list_item"],null);this.text=c;return this.level=b.$level()},t.$$arity=-2);a.defn(b,"$text?",p=function(){return this.text["$nil_or_empty?"]()["$!"]()},p.$$arity=0);a.defn(b,"$text",u=function(){return this.$apply_subs(this.text)},u.$$arity=0);a.defn(b,"$simple?",w=function(){var b,c,d=h;return!1!==(b=this.blocks["$empty?"]())&&b!==h&&null!=b?b:(c=this.blocks.$size()["$=="](1)?
a.const_get(l,"List",!0,!0)["$==="](d=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==c&&c!==h&&null!=c?d["$outline?"]():c)},w.$$arity=0);a.defn(b,"$compound?",v=function(){return this["$simple?"]()["$!"]()},v.$$arity=0);a.defn(b,"$fold_first",y=function(b,c){var d,e,g,f,k,q,n=h,t=h;null==b&&(b=!1);null==c&&(c=!1);(d=(e=(g=n=this.blocks["$[]"](0),!1!==g&&g!==h&&null!=g?a.const_get(l,"Block",!0,!0)["$==="](n):g),!1!==e&&e!==h&&null!=e?!1!==(g=n.$context()["$=="]("paragraph")?b["$!"]():n.$context()["$=="]("paragraph"))&&
g!==h&&null!=g?g:(f=(k=!1!==(q=c)&&q!==h&&null!=q?q:b["$!"](),!1!==k&&k!==h&&null!=k?n.$context()["$=="]("literal"):k),!1!==f&&f!==h&&null!=f?n["$option?"]("listparagraph"):f):e))===h||null==d||d.$$is_boolean&&1!=d||(t=this.$blocks().$shift(),((d=this.text["$nil_or_empty?"]())===h||null==d||d.$$is_boolean&&1!=d)&&t.$lines().$unshift(this.text),this.text=t.$source());return h},y.$$arity=-1);return(a.defn(b,"$to_s",B=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+
this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==h&&null!=a?a:[]).$size()+"}>"},B.$$arity=0),h)&&"to_s"})(p.base,a.const_get(b,"AbstractBlock",!0,!0),b)}(a.base,c)};Opal.modules["asciidoctor/parser"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}
function k(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var p=[a],b=a.nil,n=a.module,x=a.klass,q=a.send,w=a.hash2,z=a.hash,y=a.range,B=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $- $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $find $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $map $each_with_index $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_colspecs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer $buffer= $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(p,M){var u=n(p,"Asciidoctor").$$scope,fa=M.slice().concat(u);(function(n,$super,p){function u(){}n=u=x(n,$super,"Parser",u);var H=n.$$scope,A=p.slice().concat(H),M,W,Q,G,O,F,L,D,ba,ia,fa,pa,ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa,ta,E,S,Y,aa,ya,Aa,Ba,Ca,za,Da,Ga,r,m,Ea,Ha,Ka,qa,Ia,P,Ja,La;a.cdecl(H,"BlockMatchData",a.const_get(A,"Struct",!0,!0).$new("context","masq","tip","terminator"));a.cdecl(H,"TabRx",/\t/);a.cdecl(H,"TabIndentRx",/^\t+/);a.cdecl(H,"StartOfBlockProc",q(n,"lambda",
[],(M=function(c){var d=M.$$s||this,e,g;null==c&&(c=b);return!1!==(e=(g=c["$start_with?"]("["),!1!==g&&g!==b&&null!=g?a.const_get(A,"BlockAttributeLineRx",!0,!0)["$=~"](c):g))&&e!==b&&null!=e?e:d["$is_delimited_block?"](c)},M.$$s=n,M.$$arity=1,M)));a.cdecl(H,"StartOfListProc",q(n,"lambda",[],(W=function(c){null==c&&(c=b);return a.const_get(A,"AnyListRx",!0,!0)["$=~"](c)},W.$$s=n,W.$$arity=1,W)));a.cdecl(H,"StartOfBlockOrListProc",q(n,"lambda",[],(Q=function(c){var d=Q.$$s||this,e,g,f;null==c&&(c=
b);return!1!==(e=!1!==(g=d["$is_delimited_block?"](c))&&g!==b&&null!=g?g:(f=c["$start_with?"]("["),!1!==f&&f!==b&&null!=f?a.const_get(A,"BlockAttributeLineRx",!0,!0)["$=~"](c):f))&&e!==b&&null!=e?e:a.const_get(A,"AnyListRx",!0,!0)["$=~"](c)},Q.$$s=n,Q.$$arity=1,Q)));a.cdecl(H,"NoOp",b);a.defn(n,"$initialize",G=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},G.$$arity=0);a.defs(n,"$parse",O=function(c,d,e){var g,f,h=b,k=b;null==e&&(e=w([],{}));
h=this.$parse_document_header(c,d);if((g=e["$[]"]("header_only"))===b||null==g||g.$$is_boolean&&1!=g)for(;(f=c["$has_more_lines?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f);)if(e=this.$next_section(c,d,h),f=a.to_ary(e),k=null==f[0]?b:f[0],h=null==f[1]?b:f[1],e,!1!==k&&k!==b&&null!=k)d["$<<"](k);return d},O.$$arity=-3);a.defs(n,"$parse_document_header",F=function(d,e){var f,h,k=b,l=b,m=b,n=b,t=b,p=b,r=b,u=l=p=b,t=t=b,k=this.$parse_block_metadata_lines(d,e);if((f=(h=l=this["$is_next_line_document_title?"](d,
k),!1!==h&&h!==b&&null!=h?k["$has_key?"]("title"):h))!==b&&null!=f&&(!f.$$is_boolean||1==f))return e.$finalize_header(k,!1);m=b;if((f=(n=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||null==f||f.$$is_boolean&&1!=f)t=[m=n],q(e,"title=",a.to_a(t)),t[c(t.length,1)];p=b;if(!1!==l&&l!==b&&null!=l){(f=e.$sourcemap())===b||null==f||f.$$is_boolean&&1!=f||(r=d.$cursor());h=this.$parse_section_title(d,e);f=a.to_ary(h);e["$id="](null==f[0]?b:f[0]);p=null==f[2]?b:f[2];l=null==f[4]?b:f[4];h;if(!1===
m||m===b||null==m)t=[m=p],q(e,"title=",a.to_a(t)),t[c(t.length,1)];!1!==l&&l!==b&&null!=l||e.$set_attribute("compat-mode","");(f=u=k.$delete("separator"))===b||null==f||f.$$is_boolean&&1!=f||e.$set_attribute("title-separator",u);!1!==r&&r!==b&&null!=r&&(t=[r],q(e.$header(),"source_location=",a.to_a(t)),t[c(t.length,1)]);t=["doctitle",p];q(e.$attributes(),"[]=",a.to_a(t));t[c(t.length,1)];(f=e.$id())===b||null==f||f.$$is_boolean&&1!=f?((f=t=k.$delete(1))===b||null==f||f.$$is_boolean&&1!=f||(t=z(1,
t),this.$parse_style_attribute(t,d),(f=t["$key?"]("id"))===b||null==f||f.$$is_boolean&&1!=f||(t=["id",t["$[]"]("id")],q(k,"[]=",a.to_a(t)),t[c(t.length,1)])),t=[k.$delete("id")],q(e,"id=",a.to_a(t)),t[c(t.length,1)]):(k.$delete(1),k.$delete("id"));this.$parse_header_metadata(d,e)}if((f=!1!==(h=(n=e.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&h!==b&&null!=h?h:n["$=="](p))===b||null==f||f.$$is_boolean&&1!=f)t=[m=n],q(e,"title=",a.to_a(t)),t[c(t.length,1)];!1!==m&&m!==b&&null!=m&&(t=["doctitle",
m],q(e.$attributes(),"[]=",a.to_a(t)),t[c(t.length,1)]);e.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(d,e);return e.$finalize_header(k)},F.$$arity=2);a.defs(n,"$parse_manpage_header",L=function(d,e){var f,h=b,k=b,h=h=b;(f=h=a.const_get(A,"ManpageTitleVolnumRx",!0,!0).$match(e.$attributes()["$[]"]("doctitle")))===b||null==f||f.$$is_boolean&&1!=f?(this.$warn("asciidoctor: ERROR: "+d.$prev_line_info()+": malformed manpage title"),k=["mantitle",e.$attributes()["$[]"]("doctitle")],q(e.$attributes(),
"[]=",a.to_a(k)),k[c(k.length,1)],k=["manvolnum","1"]):(k=["mantitle",e.$sub_attributes(h["$[]"](1).$rstrip().$downcase())],q(e.$attributes(),"[]=",a.to_a(k)),k[c(k.length,1)],k=["manvolnum",h["$[]"](2).$strip()]);q(e.$attributes(),"[]=",a.to_a(k));k[c(k.length,1)];d.$skip_blank_lines();if((f=this["$is_next_line_section?"](d,w([],{})))===b||null==f||f.$$is_boolean&&1!=f)return this.$warn("asciidoctor: ERROR: "+d.$prev_line_info()+": name section expected");h=this.$initialize_section(d,e,w([],{}));
if(h.$level()["$=="](1)){h=d.$read_lines_until(w(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((f=h=a.const_get(A,"ManpageNamePurposeRx",!0,!0).$match(h))===b||null==f||f.$$is_boolean&&1!=f)return this.$warn("asciidoctor: ERROR: "+d.$prev_line_info()+": malformed name section body");k=["manname",e.$sub_attributes(h["$[]"](1))];q(e.$attributes(),"[]=",a.to_a(k));k[c(k.length,1)];k=["manpurpose",h["$[]"](2)];q(e.$attributes(),"[]=",a.to_a(k));k[c(k.length,1)];return e.$backend()["$=="]("manpage")?
(k=["docname",e.$attributes()["$[]"]("manname")],q(e.$attributes(),"[]=",a.to_a(k)),k[c(k.length,1)],k=["outfilesuffix","."+e.$attributes()["$[]"]("manvolnum")],q(e.$attributes(),"[]=",a.to_a(k)),k[c(k.length,1)]):b}return this.$warn("asciidoctor: ERROR: "+d.$prev_line_info()+": name section title must be at level 1")},L.$$arity=2);a.defs(n,"$next_section",D=function(d,e,f){var m,n,p,r,u=b,v=b,x=b,D=b,z=b,y=b,F=b,E=b,L=b,B=y=y=y=E=b,H=b,z=v=b;null==f&&(f=w([],{}));x=v=u=!1;(m=(n=(p=e.$context()["$=="]("document"))?
e.$blocks()["$empty?"]():e.$context()["$=="]("document"),!1!==n&&n!==b&&null!=n?!1!==(p=!1!==(r=D=e["$has_header?"]())&&r!==b&&null!=r?r:f.$delete("invalid-header"))&&p!==b&&null!=p?p:this["$is_next_line_section?"](d,f)["$!"]():n))===b||null==m||m.$$is_boolean&&1!=m?(z=e.$document().$doctype(),F=this.$initialize_section(d,e,f),f=(m=E=f["$[]"]("title"))===b||null==m||m.$$is_boolean&&1!=m?w([],{}):w(["title"],{title:E}),E=F.$level(),(m=(n=E["$=="](0))?z["$=="]("book"):E["$=="](0))===b||null==m||m.$$is_boolean&&
1!=m?L=[h(E,1)]:(v=F.$special()["$!"](),L=(m=(n=F.$special(),!1!==n&&n!==b&&null!=n?["preface","appendix"]["$include?"](F.$sectname()):n))===b||null==m||m.$$is_boolean&&1!=m?[h(E,1)]:[h(E,2)])):(z=e.$doctype(),(m=!1!==(n=D)&&n!==b&&null!=n?n:(p=z["$=="]("book"))?f["$[]"](1)["$!="]("abstract"):z["$=="]("book"))===b||null==m||m.$$is_boolean&&1!=m||(u=x=a.const_get(A,"Block",!0,!0).$new(e,"preamble",w(["content_model"],{content_model:"compound"})),(m=(n=z["$=="]("book"))?e["$attr?"]("preface-title"):
z["$=="]("book"))===b||null==m||m.$$is_boolean&&1!=m||(y=[e.$attr("preface-title")],q(u,"title=",a.to_a(y)),y[c(y.length,1)]),e["$<<"](u)),F=e,E=0,L=(m=e.$attributes()["$has_key?"]("fragment"))===b||null==m||m.$$is_boolean&&1!=m?z["$=="]("book")?[0,1]:[1]:b);for(d.$skip_blank_lines();(n=d["$has_more_lines?"]())!==b&&null!=n&&(!n.$$is_boolean||1==n);){this.$parse_block_metadata_lines(d,F,f);if((n=y=this["$is_next_line_section?"](d,f))===b||null==n||n.$$is_boolean&&1!=n)(y=d.$line_info(),(n=B=this.$next_block(d,
!1!==(p=x)&&p!==b&&null!=p?p:F,f,w(["parse_metadata"],{parse_metadata:!1})))===b||null==n||n.$$is_boolean&&1!=n)||(!1!==v&&v!==b&&null!=v&&((n=F["$blocks?"]()["$!"]())===b||null==n||n.$$is_boolean&&1!=n?F.$blocks().$size()["$=="](1)&&((H=F.$blocks()["$[]"](0),(n=(p=x["$!"](),!1!==p&&p!==b&&null!=p?H.$content_model()["$=="]("compound"):p))===b||null==n||n.$$is_boolean&&1!=n)?(n=H.$content_model()["$!="]("compound"))===b||null==n||n.$$is_boolean&&1!=n||(x=a.const_get(A,"Block",!0,!0).$new(F,"open",
w(["content_model"],{content_model:"compound"})),y=["partintro"],q(x,"style=",a.to_a(y)),y[c(y.length,1)],F.$blocks().$shift(),H.$style()["$=="]("partintro")&&(y=["paragraph"],q(H,"context=",a.to_a(y)),y[c(y.length,1)],y=[b],q(H,"style=",a.to_a(y)),y[c(y.length,1)]),y=[x],q(H,"parent=",a.to_a(y)),y[c(y.length,1)],x["$<<"](H),y=[x],q(B,"parent=",a.to_a(y)),y[c(y.length,1)],F["$<<"](x)):this.$warn("asciidoctor: ERROR: "+y+": illegal block content outside of partintro block")):(n=B.$style()["$!="]("partintro"))===
b||null==n||n.$$is_boolean&&1!=n||(B.$context()["$=="]("paragraph")?(y=["open"],q(B,"context=",a.to_a(y)),y[c(y.length,1)],y=["partintro"],q(B,"style=",a.to_a(y)),y[c(y.length,1)]):(x=a.const_get(A,"Block",!0,!0).$new(F,"open",w(["content_model"],{content_model:"compound"})),y=["partintro"],q(x,"style=",a.to_a(y)),y[c(y.length,1)],y=[x],q(B,"parent=",a.to_a(y)),y[c(y.length,1)],F["$<<"](x)))),(!1!==(n=x)&&n!==b&&null!=n?n:F)["$<<"](B),f=w([],{}));else if(y=h(y,F.$document().$attr("leveloffset",0).$to_i()),
(n=!1!==(p=l(y,E))&&p!==b&&null!=p?p:F.$context()["$=="]("document")?y["$=="](0):F.$context()["$=="]("document"))===b||null==n||n.$$is_boolean&&1!=n){(n=(p=y["$=="](0))?z["$!="]("book"):y["$=="](0))===b||null==n||n.$$is_boolean&&1!=n||this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections");break}else(n=y["$=="](0)?z["$!="]("book"):y["$=="](0))===b||null==n||n.$$is_boolean&&1!=n?(n=!1!==L&&L!==b&&null!=L?L["$include?"](y)["$!"]():L)===b||null==n||n.$$is_boolean&&
1!=n||this.$warn(h(h("asciidoctor: WARNING: "+d.$line_info()+": section title out of sequence: ","expected "+((n=l(L.$size(),1))===b||null==n||n.$$is_boolean&&1!=n?"level":"levels")+" "+k(L," or ")+", "),"got level "+y)):this.$warn("asciidoctor: ERROR: "+d.$line_info()+": only book doctypes can contain level 0 sections"),p=this.$next_section(d,F,f),n=a.to_ary(p),y=null==n[0]?b:n[0],f=null==n[1]?b:n[1],p,F["$<<"](y);d.$skip_blank_lines()}if(!1!==v&&v!==b&&null!=v)((m=(n=F["$blocks?"](),!1!==n&&n!==
b&&null!=n?F.$blocks()["$[]"](-1).$context()["$=="]("section"):n))===b||null==m||m.$$is_boolean&&1!=m)&&this.$warn("asciidoctor: ERROR: "+d.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==u&&u!==b&&null!=u)if(v=e,(m=u["$blocks?"]())===b||null==m||m.$$is_boolean&&1!=m)v.$blocks().$shift();else if((m=(n=(p=a.const_get(A,"Compliance",!0,!0).$unwrap_standalone_preamble(),!1!==p&&p!==b&&null!=p?v.$blocks().$size()["$=="](1):p),!1!==n&&n!==b&&
null!=n?z["$!="]("book"):n))!==b&&null!=m&&(!m.$$is_boolean||1==m))for(v.$blocks().$shift();(n=z=u.$blocks().$shift())!==b&&null!=n&&(!n.$$is_boolean||1==n);)y=[v],q(z,"parent=",a.to_a(y)),y[c(y.length,1)],v["$<<"](z);return[(m=F["$!="](e))===b||null==m||m.$$is_boolean&&1!=m?b:F,f.$dup()]},D.$$arity=-3);a.defs(n,"$next_block",ba=function(d,f,k,m){var n,p,r,u,v,x,D,z,F,E,L=b,B=b,H=b,M=b,ga=b,X=b,ba=b,S=b,K=b,O=b,V=b,ma=b,Y=b,aa=v=b,ja=b,ka=b,Q=b,G=b,ha=Q=b,U=v=Q=v=b,W=Q=K=K=b,P=b,ia=b,R=Q=K=K=W=Q=
v=K=W=b,sa=Y=aa=v=Q=v=Q=b,ca=b,ra=b,wa=Y=aa=aa=b,oa=L=b,fa=b;null==k&&(k=w([],{}));null==m&&(m=w([],{}));L=d.$skip_blank_lines();if((n=d["$has_more_lines?"]())===b||null==n||n.$$is_boolean&&1!=n)return b;(n=(p=B=m["$[]"]("text"),!1!==p&&p!==b&&null!=p?l(L,0):p))===b||null==n||n.$$is_boolean&&1!=n||(m.$delete("text"),B=!1);H=m.$fetch("parse_metadata",!0);M=f.$document();(n=ga=M.$extensions())===b||null==n||n.$$is_boolean&&1!=n?X=ba=!1:(X=ga["$blocks?"](),ba=ga["$block_macros?"]());S=a.const_get(A,
"ListItem",!0,!0)["$==="](f);O=K=b;V=M.$sourcemap();for(ma=b;(p=(r=K["$!"](),!1!==r&&r!==b&&null!=r?d["$has_more_lines?"]():r))!==b&&null!=p&&(!p.$$is_boolean||1==p);)if((p=(r=!1!==H&&H!==b&&null!=H)?this.$parse_block_metadata_line(d,M,k,m):H)===b||null==p||p.$$is_boolean&&1!=p){!1!==V&&V!==b&&null!=V&&(ma=d.$cursor());Y=d.$read_line();v=!1;ka=ja=aa=b;(p=k["$[]"](1))===b||null==p||p.$$is_boolean&&1!=p||(r=this.$parse_style_attribute(k,d),p=a.to_ary(r),O=null==p[0]?b:p[0],r);(p=Q=this["$is_delimited_block?"](Y,
!0))===b||null==p||p.$$is_boolean&&1!=p||((v=!0,aa=ja=Q.$context(),ka=Q.$terminator(),(p=O["$!"]())===b||null==p||p.$$is_boolean&&1!=p)?(p=O["$!="](aa.$to_s()))===b||null==p||p.$$is_boolean&&1!=p||((p=Q.$masq()["$include?"](O))===b||null==p||p.$$is_boolean&&1!=p?(p=(r=Q.$masq()["$include?"]("admonition"),!1!==r&&r!==b&&null!=r?a.const_get(A,"ADMONITION_STYLES",!0,!0)["$include?"](O):r))===b||null==p||p.$$is_boolean&&1!=p?(p=(r=!1!==X&&X!==b&&null!=X)?ga["$registered_for_block?"](O,aa):X)===b||null==
p||p.$$is_boolean&&1!=p?(this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for "+aa+" block: "+O),O=aa.$to_s()):aa=O.$to_sym():aa="admonition":aa=O.$to_sym()):O=(G=["style",aa.$to_s()],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]));if(!1===v||v===b||null==v)for(;(r=!0)!==b&&null!=r&&(!r.$$is_boolean||1==r);){if((r=(u=(v=!1!==O&&O!==b&&null!=O)?a.const_get(A,"Compliance",!0,!0).$strict_verbatim_paragraphs():O,!1!==u&&u!==b&&null!=u?a.const_get(A,"VERBATIM_STYLES",!0,!0)["$include?"](O):
u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){aa=O.$to_sym();d.$unshift_line(Y);break}if(!1===B||B===b||null==B)if(Q=(r=a.const_get(A,"Compliance",!0,!0).$markdown_syntax())===b||null==r||r.$$is_boolean&&1!=r?Y.$chr():Y.$lstrip().$chr(),(r=(u=(v=a.const_get(A,"LAYOUT_BREAK_LINES",!0,!0)["$has_key?"](Q),!1!==v&&v!==b&&null!=v?e(Y.$length(),3):v),!1!==u&&u!==b&&null!=u?((v=a.const_get(A,"Compliance",!0,!0).$markdown_syntax())===b||null==v||v.$$is_boolean&&1!=v?a.const_get(A,"LayoutBreakLineRx",!0,!0):
a.const_get(A,"LayoutBreakLinePlusRx",!0,!0))["$=~"](Y):u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){K=a.const_get(A,"Block",!0,!0).$new(f,a.const_get(A,"LAYOUT_BREAK_LINES",!0,!0)["$[]"](Q),w(["content_model"],{content_model:"empty"}));break}else if((r=(u=Y["$end_with?"]("]"),!1!==u&&u!==b&&null!=u?ha=a.const_get(A,"MediaBlockMacroRx",!0,!0).$match(Y):u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){v=ha["$[]"](1).$to_sym();K=a.const_get(A,"Block",!0,!0).$new(f,v,w(["content_model"],{content_model:"empty"}));
Q=v["$=="]("image")?["alt","width","height"]:v["$=="]("video")?["poster","width","height"]:[];!1!==O&&O!==b&&null!=O&&(v["$=="]("image")&&(G=["alt",O],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]),k.$delete("style"),O=b);K.$parse_attributes(ha["$[]"](3),Q,w(["unescape_input","sub_input","sub_result","into"],{unescape_input:v["$=="]("image"),sub_input:!0,sub_result:!1,into:k}));v=K.$sub_attributes(ha["$[]"](2),w(["attribute_missing"],{attribute_missing:"drop-line"}));if((r=v["$empty?"]())!==b&&null!=r&&(!r.$$is_boolean||
1==r)){if(M.$attributes().$fetch("attribute-missing",a.const_get(A,"Compliance",!0,!0).$attribute_missing())["$=="]("skip"))return a.const_get(A,"Block",!0,!0).$new(f,"paragraph",w(["content_model","source"],{content_model:"simple",source:[Y]}));k.$clear();return b}G=["target",v];q(k,"[]=",a.to_a(G));G[c(G.length,1)];break}else if((r=(u=Q["$=="]("t"))?ha=a.const_get(A,"TocBlockMacroRx",!0,!0).$match(Y):Q["$=="]("t"))!==b&&null!=r&&(!r.$$is_boolean||1==r)){K=a.const_get(A,"Block",!0,!0).$new(f,"toc",
w(["content_model"],{content_model:"empty"}));K.$parse_attributes(ha["$[]"](1),[],w(["sub_result","into"],{sub_result:!1,into:k}));break}else if((r=(u=(v=!1!==ba&&ba!==b&&null!=ba)?ha=a.const_get(A,"GenericBlockMacroRx",!0,!0).$match(Y):ba,!1!==u&&u!==b&&null!=u?U=ga["$registered_for_block_macro?"](ha["$[]"](1)):u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){v=ha["$[]"](2);K=ha["$[]"](3);U.$config()["$[]"]("content_model")["$=="]("attributes")?((r=K["$empty?"]())===b||null==r||r.$$is_boolean&&1!=r)&&
M.$parse_attributes(K,!1!==(r=U.$config()["$[]"]("pos_attrs"))&&r!==b&&null!=r?r:[],w(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:k})):(G=["text",K],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);(r=K=U.$config()["$[]"]("default_attrs"))===b||null==r||r.$$is_boolean&&1!=r||q(K,"each",[],(x=function(a,c){var d,e,g;null==a&&(a=b);null==c&&(c=b);return d=a,e=k,!1!==(g=e["$[]"](d))&&g!==b&&null!=g?g:e["$[]="](d,c)},x.$$s=this,x.$$arity=2,x));if((r=K=U.$process_method()["$[]"](f,v,k.$dup()))===
b||null==r||r.$$is_boolean&&1!=r)return k.$clear(),b;k.$replace(K.$attributes());break}if((r=ha=a.const_get(A,"CalloutListRx",!0,!0).$match(Y))!==b&&null!=r&&(!r.$$is_boolean||1==r)){K=a.const_get(A,"List",!0,!0).$new(f,"colist");G=["style","arabic"];q(k,"[]=",a.to_a(G));G[c(G.length,1)];d.$unshift_line(Y);for(Q=1;(u=!1!==(v=ha)&&v!==b&&null!=v?v:(D=d["$has_more_lines?"](),!1!==D&&D!==b&&null!=D?ha=a.const_get(A,"CalloutListRx",!0,!0).$match(d.$peek_line()):D))!==b&&null!=u&&(!u.$$is_boolean||1==
u);)(u=ha["$[]"](1).$to_i()["$!="](Q))===b||null==u||u.$$is_boolean&&1!=u||this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+c(d.$lineno(),2)+": callout list item index: expected "+Q+" got "+ha["$[]"](1)),W=this.$next_list_item(d,K,ha),Q=h(Q,1),!1!==W&&W!==b&&null!=W&&(K["$<<"](W),P=M.$callouts().$callout_ids(K.$items().$size()),(u=P["$empty?"]()["$!"]())===b||null==u||u.$$is_boolean&&1!=u?this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+c(d.$lineno(),2)+": no callouts refer to list item "+
K.$items().$size()):(G=["coids",P],q(W.$attributes(),"[]=",a.to_a(G)),G[c(G.length,1)])),ha=b;M.$callouts().$next_list();break}else if((r=a.const_get(A,"UnorderedListRx",!0,!0)["$=~"](Y))!==b&&null!=r&&(!r.$$is_boolean||1==r)){d.$unshift_line(Y);K=this.$next_outline_list(d,"ulist",f);break}else if((r=ha=a.const_get(A,"OrderedListRx",!0,!0).$match(Y))!==b&&null!=r&&(!r.$$is_boolean||1==r)){d.$unshift_line(Y);K=this.$next_outline_list(d,"olist",f);(r=(u=k["$[]"]("style")["$!"](),!1!==u&&u!==b&&null!=
u?K.$attributes()["$[]"]("style")["$!"]():u))===b||null==r||r.$$is_boolean&&1!=r||(ia=K.$items()["$[]"](0).$marker(),(r=ia["$start_with?"]("."))===b||null==r||r.$$is_boolean&&1!=r?(O=q(a.const_get(A,"ORDERED_LIST_STYLES",!0,!0),"find",[],(z=function(c){null==c&&(c=b);return a.const_get(A,"OrderedListMarkerRxMap",!0,!0)["$[]"](c)["$=~"](ia)},z.$$s=this,z.$$arity=1,z)),G=["style",(!1!==(r=O)&&r!==b&&null!=r?r:a.const_get(A,"ORDERED_LIST_STYLES",!0,!0)["$[]"](0)).$to_s()]):G=["style",(!1!==(r=a.const_get(A,
"ORDERED_LIST_STYLES",!0,!0)["$[]"](c(ia.$length(),1)))&&r!==b&&null!=r?r:a.const_get(A,"ORDERED_LIST_STYLES",!0,!0)["$[]"](0)).$to_s()],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);break}else if((r=ha=a.const_get(A,"DescriptionListRx",!0,!0).$match(Y))!==b&&null!=r&&(!r.$$is_boolean||1==r)){d.$unshift_line(Y);K=this.$next_labeled_list(d,ha,f);break}else if((r=(u=!1!==(v=O["$=="]("float"))&&v!==b&&null!=v?v:O["$=="]("discrete"),!1!==u&&u!==b&&null!=u?this["$is_section_title?"](Y,(v=a.const_get(A,"Compliance",
!0,!0).$underline_style_section_titles())===b||null==v||v.$$is_boolean&&1!=v?b:d.$peek_line(!0)):u))!==b&&null!=r&&(!r.$$is_boolean||1==r)){d.$unshift_line(Y);u=this.$parse_section_title(d,M);r=a.to_ary(u);W=null==r[0]?b:r[0];K=null==r[1]?b:r[1];v=null==r[2]?b:r[2];Q=null==r[3]?b:r[3];u;!1!==K&&K!==b&&null!=K&&(G=["reftext",K],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);(r=k["$has_key?"]("id"))===b||null==r||r.$$is_boolean&&1!=r||(!1!==(r=W)&&r!==b&&null!=r?r:W=k["$[]"]("id"));K=a.const_get(A,"Block",
!0,!0).$new(f,"floating_title",w(["content_model"],{content_model:"empty"}));(r=W["$nil_or_empty?"]())===b||null==r||r.$$is_boolean&&1!=r?G=[W]:(W=a.const_get(A,"Section",!0,!0).$new(f),G=[v],q(W,"title=",a.to_a(G)),G[c(G.length,1)],G=[W.$generate_id()]);q(K,"id=",a.to_a(G));G[c(G.length,1)];G=[Q];q(K,"level=",a.to_a(G));G[c(G.length,1)];G=[v];q(K,"title=",a.to_a(G));G[c(G.length,1)];break}else if((r=(u=!1!==O&&O!==b&&null!=O)?O["$!="]("normal"):O)!==b&&null!=r&&(!r.$$is_boolean||1==r))if((r=a.const_get(A,
"PARAGRAPH_STYLES",!0,!0)["$include?"](O))===b||null==r||r.$$is_boolean&&1!=r)if((r=a.const_get(A,"ADMONITION_STYLES",!0,!0)["$include?"](O))===b||null==r||r.$$is_boolean&&1!=r)if((r=(u=!1!==X&&X!==b&&null!=X)?ga["$registered_for_block?"](O,"paragraph"):X)===b||null==r||r.$$is_boolean&&1!=r)this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for paragraph: "+O),O=b;else{aa=O.$to_sym();ja="paragraph";d.$unshift_line(Y);break}else{aa="admonition";ja="paragraph";d.$unshift_line(Y);
break}else{aa=O.$to_sym();ja="paragraph";d.$unshift_line(Y);break}K=(r=L["$=="](0))?S:L["$=="](0);if((r=(u=O["$!="]("normal"),!1!==u&&u!==b&&null!=u?a.const_get(A,"LiteralParagraphRx",!0,!0)["$=~"](Y):u))===b||null==r||r.$$is_boolean&&1!=r){d.$unshift_line(Y);K=this.$read_paragraph_lines(d,K,w(["skip_line_comments"],{skip_line_comments:!0}));if((r=K["$empty?"]())!==b&&null!=r&&(!r.$$is_boolean||1==r))return d.$advance(),b;this.$catalog_inline_anchors(K.$join(a.const_get(A,"EOL",!0,!0)),M);Q=K["$[]"](0);
if((r=(u=B["$!"](),!1!==u&&u!==b&&null!=u?R=a.const_get(A,"AdmonitionParagraphRx",!0,!0).$match(Q):u))===b||null==r||r.$$is_boolean&&1!=r)if((r=(u=(v=B["$!"](),!1!==v&&v!==b&&null!=v?a.const_get(A,"Compliance",!0,!0).$markdown_syntax():v),!1!==u&&u!==b&&null!=u?Q["$start_with?"]("> "):u))===b||null==r||r.$$is_boolean&&1!=r)if((r=(u=B["$!"](),!1!==u&&u!==b&&null!=u?this["$blockquote?"](K,Q):u))===b||null==r||r.$$is_boolean&&1!=r){if(O["$=="]("normal"))this["$adjust_indentation!"](K);K=a.const_get(A,
"Block",!0,!0).$new(f,"paragraph",w(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:k}))}else{G=[0,Q["$[]"](y(1,-1,!1))];q(K,"[]=",a.to_a(G));G[c(G.length,1)];u=K.$pop()["$[]"](y(3,-1,!1)).$split(", ",2);r=a.to_ary(u);v=null==r[0]?b:r[0];Q=null==r[1]?b:r[1];for(u;(u=K["$[]"](-1)["$empty?"]())!==b&&null!=u&&(!u.$$is_boolean||1==u);)K.$pop();G=[-1,K["$[]"](-1).$chop()];q(K,"[]=",a.to_a(G));G[c(G.length,1)];G=["style","quote"];q(k,"[]=",a.to_a(G));G[c(G.length,1)];
!1!==v&&v!==b&&null!=v&&(G=["attribution",v],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);!1!==Q&&Q!==b&&null!=Q&&(G=["citetitle",Q],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);K=a.const_get(A,"Block",!0,!0).$new(f,"quote",w(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:k}))}else{q(K,"map!",[],(F=function(a){var c;null==a&&(a=b);return a["$=="](">")?a["$[]"](y(1,-1,!1)):(c=a["$start_with?"]("> "))===b||null==c||c.$$is_boolean&&1!=c?a:a["$[]"](y(2,-1,!1))},F.$$s=this,F.$$arity=
1,F));if((r=K["$[]"](-1)["$start_with?"]("-- "))===b||null==r||r.$$is_boolean&&1!=r)u=b,r=a.to_ary(u),v=null==r[0]?b:r[0],Q=null==r[1]?b:r[1],u;else for(u=K.$pop()["$[]"](y(3,-1,!1)).$split(", ",2),r=a.to_ary(u),v=null==r[0]?b:r[0],Q=null==r[1]?b:r[1],u;(u=K["$[]"](-1)["$empty?"]())!==b&&null!=u&&(!u.$$is_boolean||1==u);)K.$pop();G=["style","quote"];q(k,"[]=",a.to_a(G));G[c(G.length,1)];!1!==v&&v!==b&&null!=v&&(G=["attribution",v],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);!1!==Q&&Q!==b&&null!=Q&&(G=
["citetitle",Q],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);K=this.$build_block("quote","compound",!1,f,a.const_get(A,"Reader",!0,!0).$new(K),k)}else G=[0,R.$post_match().$lstrip()],q(K,"[]=",a.to_a(G)),G[c(G.length,1)],G=["style",R["$[]"](1)],q(k,"[]=",a.to_a(G)),G[c(G.length,1)],G=["name",Q=R["$[]"](1).$downcase()],q(k,"[]=",a.to_a(G)),G[c(G.length,1)],r="caption",u=k,!1!==(v=u["$[]"](r))&&v!==b&&null!=v?v:u["$[]="](r,M.$attributes()["$[]"](""+Q+"-caption")),K=a.const_get(A,"Block",!0,!0).$new(f,"admonition",
w(["content_model","source","attributes"],{content_model:"simple",source:K,attributes:k}))}else d.$unshift_line(Y),K=this.$read_paragraph_lines(d,K,w(["skip_line_comments"],{skip_line_comments:B})),this["$adjust_indentation!"](K),K=a.const_get(A,"Block",!0,!0).$new(f,"literal",w(["content_model","source","attributes"],{content_model:"verbatim",source:K,attributes:k})),!1!==S&&S!==b&&null!=S&&K.$set_option("listparagraph");break}if((p=(r=K["$!"](),!1!==r&&r!==b&&null!=r?aa:r))!==b&&null!=p&&(!p.$$is_boolean||
1==p))if((p=!1!==(r=aa["$=="]("abstract"))&&r!==b&&null!=r?r:aa["$=="]("partintro"))===b||null==p||p.$$is_boolean&&1!=p||(aa="open"),v=aa,"admonition"["$==="](v))G=["name",Q=O.$downcase()],q(k,"[]=",a.to_a(G)),G[c(G.length,1)],p="caption",r=k,!1!==(u=r["$[]"](p))&&u!==b&&null!=u?u:r["$[]="](p,M.$attributes()["$[]"](""+Q+"-caption")),K=this.$build_block(aa,"compound",ka,f,d,k);else{if("comment"["$==="](v))return this.$build_block(aa,"skip",ka,f,d,k),b;if("example"["$==="](v))K=this.$build_block(aa,
"compound",ka,f,d,k);else if("listing"["$==="](v)||"fenced_code"["$==="](v)||"source"["$==="](v)){if(aa["$=="]("fenced_code")){O=(G=["style","source"],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);r=Y["$[]"](y(3,-1,!1)).$tr(" ","").$split(",",2);p=a.to_ary(r);aa=null==p[0]?b:p[0];Y=null==p[1]?b:p[1];r;if((p=aa["$nil_or_empty?"]()["$!"]())===b||null==p||p.$$is_boolean&&1!=p)(p=sa=M.$attributes()["$[]"]("source-language"))===b||null==p||p.$$is_boolean&&1!=p||(G=["language",sa],q(k,"[]=",a.to_a(G)),G[c(G.length,
1)]);else if(G=["language",aa],q(k,"[]=",a.to_a(G)),G[c(G.length,1)],(p=Y["$nil_or_empty?"]())===b||null==p||p.$$is_boolean&&1!=p)G=["linenums",""],q(k,"[]=",a.to_a(G)),G[c(G.length,1)];(p=(r=k["$key?"]("indent")["$!"](),!1!==r&&r!==b&&null!=r?M.$attributes()["$key?"]("source-indent"):r))===b||null==p||p.$$is_boolean&&1!=p||(G=["indent",M.$attributes()["$[]"]("source-indent")],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]);ka=ka["$[]"](y(0,2,!1))}else aa["$=="]("source")&&(a.const_get(A,"AttributeList",!0,
!0).$rekey(k,[b,"language","linenums"]),!((p=k["$key?"]("language"))===b||null==p||p.$$is_boolean&&1!=p)||(p=sa=M.$attributes()["$[]"]("source-language"))===b||null==p||p.$$is_boolean&&1!=p||(G=["language",sa],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]),(p=(r=k["$key?"]("indent")["$!"](),!1!==r&&r!==b&&null!=r?M.$attributes()["$key?"]("source-indent"):r))===b||null==p||p.$$is_boolean&&1!=p||(G=["indent",M.$attributes()["$[]"]("source-indent")],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]));K=this.$build_block("listing",
"verbatim",ka,f,d,k)}else if("literal"["$==="](v))K=this.$build_block(aa,"verbatim",ka,f,d,k);else if("pass"["$==="](v))K=this.$build_block(aa,"raw",ka,f,d,k);else if("stem"["$==="](v)||"latexmath"["$==="](v)||"asciimath"["$==="](v))aa["$=="]("stem")&&(G=["style",(p=ca=k["$[]"](2))===b||null==p||p.$$is_boolean&&1!=p?(p=(ra=M.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||null==p||p.$$is_boolean&&1!=p?ra:"asciimath":(p=ca["$include?"]("tex"))===b||null==p||p.$$is_boolean&&1!=p?"asciimath":
"latexmath"],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]),K=this.$build_block("stem","raw",ka,f,d,k);else if("open"["$==="](v)||"sidebar"["$==="](v))K=this.$build_block(aa,"compound",ka,f,d,k);else if("table"["$==="](v))aa=d.$cursor(),aa=a.const_get(A,"Reader",!0,!0).$new(d.$read_lines_until(w(["terminator","skip_line_comments"],{terminator:ka,skip_line_comments:!0})),aa),v=ka.$chr(),","["$==="](v)?(G=["format","csv"],q(k,"[]=",a.to_a(G)),G[c(G.length,1)]):":"["$==="](v)&&(G=["format","dsv"],q(k,"[]=",
a.to_a(G)),G[c(G.length,1)]),K=this.$next_table(aa,f,k);else if("quote"["$==="](v)||"verse"["$==="](v))a.const_get(A,"AttributeList",!0,!0).$rekey(k,[b,"attribution","citetitle"]),K=this.$build_block(aa,aa["$=="]("verse")?"verbatim":"compound",ka,f,d,k);else if((p=(r=!1!==X&&X!==b&&null!=X)?U=ga["$registered_for_block?"](aa,ja):X)===b||null==p||p.$$is_boolean&&1!=p)this.$raise("Unsupported block type "+aa+" at "+d.$line_info());else if((p=(Y=U.$config()["$[]"]("content_model"))["$!="]("skip"))===
b||null==p||p.$$is_boolean&&1!=p||((p=(wa=!1!==(r=U.$config()["$[]"]("pos_attrs"))&&r!==b&&null!=r?r:[])["$empty?"]()["$!"]())===b||null==p||p.$$is_boolean&&1!=p||a.const_get(A,"AttributeList",!0,!0).$rekey(k,[b].$concat(wa)),(p=K=U.$config()["$[]"]("default_attrs"))===b||null==p||p.$$is_boolean&&1!=p||q(K,"each",[],(E=function(a,c){var d,e,g;null==a&&(a=b);null==c&&(c=b);return d=a,e=k,!1!==(g=e["$[]"](d))&&g!==b&&null!=g?g:e["$[]="](d,c)},E.$$s=this,E.$$arity=2,E))),K=this.$build_block(aa,Y,ka,
f,d,k,w(["extension"],{extension:U})),(p=(r=!1!==K&&K!==b&&null!=K)?Y["$!="]("skip"):K)===b||null==p||p.$$is_boolean&&1!=p)return k.$clear(),b}}else d.$advance();if(!1!==K&&K!==b&&null!=K){!1!==ma&&ma!==b&&null!=ma&&(G=[ma],q(K,"source_location=",a.to_a(G)),G[c(G.length,1)]);if((n=K["$title?"]())===b||null==n||n.$$is_boolean&&1!=n)G=[k["$[]"]("title")],q(K,"title=",a.to_a(G)),G[c(G.length,1)];K.$context()["$=="]("image")?(L=k["$[]"]("target"),K.$document().$register("images",L),n="alt",p=k,!1!==(r=
p["$[]"](n))&&r!==b&&null!=r?r:p["$[]="](n,a.const_get(A,"Helpers",!0,!0).$basename(L,!0).$tr("_-"," ")),G=["alt",K.$sub_specialchars(k["$[]"]("alt"))],q(k,"[]=",a.to_a(G)),G[c(G.length,1)],K.$assign_caption(k.$delete("caption"),"figure"),(n=oa=k["$[]"]("scaledwidth"))===b||null==n||n.$$is_boolean&&1!=n||(n=y(48,57,!1)["$include?"]((!1!==(p=oa["$[]"](-1))&&p!==b&&null!=p?p:0).$ord()))===b||null==n||n.$$is_boolean&&1!=n||(G=["scaledwidth",""+oa+"%"],q(k,"[]=",a.to_a(G)),G[c(G.length,1)])):(n=K,!1!==
(p=n.$caption())&&p!==b&&null!=p?p:n["$caption="](k.$delete("caption")));G=[k["$[]"]("style")];q(K,"style=",a.to_a(G));G[c(G.length,1)];(n=fa=(p=K,!1!==(r=p.$id())&&r!==b&&null!=r?r:p["$id="](k["$[]"]("id"))))===b||null==n||n.$$is_boolean&&1!=n||M.$register("ids",[fa,!1!==(n=k["$[]"]("reftext"))&&n!==b&&null!=n?n:(p=K["$title?"]())===b||null==p||p.$$is_boolean&&1!=p?b:K.$title()]);((n=k["$empty?"]())===b||null==n||n.$$is_boolean&&1!=n)&&K.$attributes().$update(k);K.$lock_in_subs();(n=K["$sub?"]("callouts"))===
b||null==n||n.$$is_boolean&&1!=n||!((n=this.$catalog_callouts(K.$source(),M))===b||null==n||n.$$is_boolean&&1!=n)||K.$remove_sub("callouts")}return K},ba.$$arity=-3);a.defs(n,"$blockquote?",ia=function(a,c){var d,e,g,f;null==c&&(c=b);return d=(e=(g=l(a.$size(),1),!1!==g&&g!==b&&null!=g?(!1!==(f=c)&&f!==b&&null!=f?f:a["$[]"](0))["$start_with?"]('"'):g),!1!==e&&e!==b&&null!=e?a["$[]"](-1)["$start_with?"]("-- "):e),!1!==d&&d!==b&&null!=d?a["$[]"](-2)["$end_with?"]('"'):d},ia.$$arity=-2);a.defs(n,"$read_paragraph_lines",
fa=function(d,e,f){var h,k=b,k=b;null==f&&(f=w([],{}));k=["break_on_blank_lines",!0];q(f,"[]=",a.to_a(k));k[c(k.length,1)];k=["break_on_list_continuation",!0];q(f,"[]=",a.to_a(k));k[c(k.length,1)];k=["preserve_last_line",!0];q(f,"[]=",a.to_a(k));k[c(k.length,1)];k=!1!==e&&e!==b&&null!=e?(h=a.const_get(A,"Compliance",!0,!0).$block_terminates_paragraph())===b||null==h||h.$$is_boolean&&1!=h?a.const_get(A,"StartOfListProc",!0,!0):a.const_get(A,"StartOfBlockOrListProc",!0,!0):(h=a.const_get(A,"Compliance",
!0,!0).$block_terminates_paragraph())===b||null==h||h.$$is_boolean&&1!=h?a.const_get(A,"NoOp",!0,!0):a.const_get(A,"StartOfBlockProc",!0,!0);return q(d,"read_lines_until",[f],k.$to_proc())},fa.$$arity=-3);a.defs(n,"$is_delimited_block?",pa=function(e,h){var m,n,q=b,p=b,r=b,u=b,v=b,r=q=b;null==h&&(h=!1);if((m=(n=l(q=e.$length(),1),!1!==n&&n!==b&&null!=n?a.const_get(A,"DELIMITED_BLOCK_LEADERS",!0,!0)["$include?"](e["$[]"](y(0,1,!1))):n))===b||null==m||m.$$is_boolean&&1!=m)return b;if(q["$=="](2))p=
e,r=2;else{(m=d(q,4))===b||null==m||m.$$is_boolean&&1!=m?(p=e["$[]"](y(0,3,!1)),r=4):(p=e,r=q);u=!1;if((m=a.const_get(A,"Compliance",!0,!0).$markdown_syntax())!==b&&null!=m&&(!m.$$is_boolean||1==m)&&(v=r["$=="](4)?p.$chop():p,v["$=="]("```"))){if((m=r["$=="](4)?p["$end_with?"]("`"):r["$=="](4))!==b&&null!=m&&(!m.$$is_boolean||1==m))return b;p=v;r=3;u=!0}if((m=(n=r["$=="](3))?u["$!"]():r["$=="](3))!==b&&null!=m&&(!m.$$is_boolean||1==m))return b}return(m=a.const_get(A,"DELIMITED_BLOCKS",!0,!0)["$has_key?"](p))===
b||null==m||m.$$is_boolean&&1!=m?b:(m=!1!==(n=f(r,4))&&n!==b&&null!=n?n:r["$=="](q))===b||null==m||m.$$is_boolean&&1!=m?(""+p+k(p["$[]"](y(-1,-1,!1)),c(q,r)))["$=="](e)?!1!==h&&h!==b&&null!=h?(m=[].concat(a.to_a(a.const_get(A,"DELIMITED_BLOCKS",!0,!0)["$[]"](p))),q=null==m[0]?b:m[0],r=null==m[1]?b:m[1],m,a.const_get(A,"BlockMatchData",!0,!0).$new(q,r,p,e)):!0:b:!1!==h&&h!==b&&null!=h?(m=[].concat(a.to_a(a.const_get(A,"DELIMITED_BLOCKS",!0,!0)["$[]"](p))),q=null==m[0]?b:m[0],r=null==m[1]?b:m[1],m,
a.const_get(A,"BlockMatchData",!0,!0).$new(q,r,p,p)):!0},pa.$$arity=-2);a.defs(n,"$build_block",ja=function(d,e,f,h,k,m,n){var p,r,u=b,v=b,x=u=v=b,v=x=x=x=x=b;null==n&&(n=w([],{}));(p=!1!==(r=e["$=="]("skip"))&&r!==b&&null!=r?r:e["$=="]("raw"))===b||null==p||p.$$is_boolean&&1!=p?(u=!1,v=e):(u=e["$=="]("skip"),v="simple");(p=f["$nil?"]())===b||null==p||p.$$is_boolean&&1!=p?(p=v["$!="]("compound"))===b||null==p||p.$$is_boolean&&1!=p?f["$=="](!1)?(v=b,u=k):(v=b,x=k.$cursor(),u=a.const_get(A,"Reader",
!0,!0).$new(k.$read_lines_until(w(["terminator","skip_processing"],{terminator:f,skip_processing:u})),x)):(v=k.$read_lines_until(w(["terminator","skip_processing"],{terminator:f,skip_processing:u})),u=b):(v["$=="]("verbatim")?v=k.$read_lines_until(w(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(e["$=="]("compound")&&(e="simple"),v=this.$read_paragraph_lines(k,!1,w(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),
u=b);if(e["$=="]("skip"))return m.$clear(),v;if(e["$=="]("verbatim"))if((p=x=m["$[]"]("indent"))!==b&&null!=p&&(!p.$$is_boolean||1==p))this["$adjust_indentation!"](v,x,!1!==(p=m["$[]"]("tabsize"))&&p!==b&&null!=p?p:h.$document().$attributes()["$[]"]("tabsize"));else if((p=l(x=(!1!==(r=m["$[]"]("tabsize"))&&r!==b&&null!=r?r:h.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))!==b&&null!=p&&(!p.$$is_boolean||1==p))this["$adjust_indentation!"](v,b,x);if((p=x=n["$[]"]("extension"))===b||null==p||
p.$$is_boolean&&1!=p)x=a.const_get(A,"Block",!0,!0).$new(h,d,w(["content_model","source","attributes"],{content_model:e,source:v,attributes:m}));else{m.$delete("style");if((p=x=x.$process_method()["$[]"](h,!1!==(r=u)&&r!==b&&null!=r?r:a.const_get(A,"Reader",!0,!0).$new(v),m.$dup()))===b||null==p||p.$$is_boolean&&1!=p)return b;m.$replace(x.$attributes());(p=(r=x.$content_model()["$=="]("compound"))?(v=x.$lines())["$nil_or_empty?"]()["$!"]():x.$content_model()["$=="]("compound"))===b||null==p||p.$$is_boolean&&
1!=p||(e="compound",u=a.const_get(A,"Reader",!0,!0).$new(v))}(p=(r=m["$has_key?"]("title"),!1!==r&&r!==b&&null!=r?x.$document()["$attr?"](""+x.$context()+"-caption"):r))===b||null==p||p.$$is_boolean&&1!=p||(v=[m.$delete("title")],q(x,"title=",a.to_a(v)),v[c(v.length,1)],x.$assign_caption(m.$delete("caption")));e["$=="]("compound")&&this.$parse_blocks(u,x);return x},ja.$$arity=-7);a.defs(n,"$parse_blocks",K=function(c,d){for(var e,g=b;(e=c["$has_more_lines?"]())!==b&&null!=e&&(!e.$$is_boolean||1==
e);)if(g=a.const_get(A,"Parser",!0,!0).$next_block(c,d),!1!==g&&g!==b&&null!=g)d["$<<"](g)},K.$$arity=2);a.defs(n,"$next_outline_list",ga=function(d,e,k){var m,n,p=b,r=b,u=b,v=r=b,x=b,w=b,p=a.const_get(A,"List",!0,!0).$new(k,e),r=k.$context()["$=="](e)?[h(k.$level(),1)]:[1];q(p,"level=",a.to_a(r));for(r[c(r.length,1)];(m=(n=d["$has_more_lines?"](),!1!==n&&n!==b&&null!=n?u=a.const_get(A,"ListRxMap",!0,!0)["$[]"](e).$match(d.$peek_line()):n))!==b&&null!=m&&(!m.$$is_boolean||1==m);){r=this.$resolve_list_marker(e,
u["$[]"](1));if((m=(n=p["$items?"](),!1!==n&&n!==b&&null!=n?r["$!="](p.$items()["$[]"](0).$marker()):n))===b||null==m||m.$$is_boolean&&1!=m)v=p.$level();else for(v=h(p.$level(),1),x=k;x.$context()["$=="](e);){if(r["$=="](x.$items()["$[]"](0).$marker())){v=x.$level();break}x=x.$parent()}if((m=!1!==(n=p["$items?"]()["$!"]())&&n!==b&&null!=n?n:v["$=="](p.$level()))!==b&&null!=m&&(!m.$$is_boolean||1==m))w=this.$next_list_item(d,p,u);else if((m=f(v,p.$level()))!==b&&null!=m&&(!m.$$is_boolean||1==m))break;
else if((m=l(v,p.$level()))!==b&&null!=m&&(!m.$$is_boolean||1==m))p.$items()["$[]"](-1)["$<<"](this.$next_block(d,p));if(!1!==w&&w!==b&&null!=w)p["$<<"](w);w=b;d.$skip_blank_lines()}return p},ga.$$arity=3);a.defs(n,"$catalog_callouts",ha=function(c,d){var e,g,f=b,f=!1;(e=c["$include?"]("<"))===b||null==e||e.$$is_boolean&&1!=e||q(c,"scan",[a.const_get(A,"CalloutQuickScanRx",!0,!0)],(g=function(){var a,c=b;null==B["~"]&&(B["~"]=b);c=B["~"];(a=c["$[]"](0).$chr()["$!="]("\\"))===b||null==a||a.$$is_boolean&&
1!=a||d.$callouts().$register(c["$[]"](2));return f=!0},g.$$s=this,g.$$arity=0,g));return f},ha.$$arity=2);a.defs(n,"$catalog_inline_anchors",X=function(c,d){var e,g;(e=c["$include?"]("["))===b||null==e||e.$$is_boolean&&1!=e||q(c,"scan",[a.const_get(A,"InlineAnchorRx",!0,!0)],(g=function(){var a,c=b,e=b,c=b;null==B["~"]&&(B["~"]=b);c=B["~"];if((a=c["$[]"](0)["$start_with?"]("\\"))!==b&&null!=a&&(!a.$$is_boolean||1==a))return b;e=!1!==(a=c["$[]"](1))&&a!==b&&null!=a?a:c["$[]"](3);c=!1!==(a=c["$[]"](2))&&
a!==b&&null!=a?a:c["$[]"](4);return d.$register("ids",[e,c])},g.$$s=this,g.$$arity=0,g));return b},X.$$arity=2);a.defs(n,"$next_labeled_list",ma=function(c,d,e){for(var g,f,h,k=b,l=b,m=b,n=b,q=b,k=a.const_get(A,"List",!0,!0).$new(e,"dlist"),l=b,m=a.const_get(A,"DescriptionListSiblingRx",!0,!0)["$[]"](d["$[]"](2));(g=!1!==(f=d)&&f!==b&&null!=f?f:(h=c["$has_more_lines?"](),!1!==h&&h!==b&&null!=h?d=m.$match(c.$peek_line()):h))!==b&&null!=g&&(!g.$$is_boolean||1==g);){f=this.$next_list_item(c,k,d,m);g=
a.to_ary(f);n=null==g[0]?b:g[0];q=null==g[1]?b:g[1];f;if((g=(f=!1!==l&&l!==b&&null!=l)?l["$[]"](-1)["$!"]():l)===b||null==g||g.$$is_boolean&&1!=g)k.$items()["$<<"](l=[[n],q]);else l.$pop(),l["$[]"](0)["$<<"](n),l["$<<"](q);d=b}return k},ma.$$arity=3);a.defs(n,"$next_list_item",ka=function(d,e,f,h){var k,l,m=b,n=b,p=b,r=b,t=p=b,u=t=t=t=r=b,v=b,x=v=u=b,D=b;null==h&&(h=b);(m=e.$context())["$=="]("dlist")?(n=a.const_get(A,"ListItem",!0,!0).$new(e,f["$[]"](1)),p=a.const_get(A,"ListItem",!0,!0).$new(e,
f["$[]"](3)),r=f["$[]"](3)["$nil_or_empty?"]()["$!"]()):(p=f["$[]"](2),t=!1,(k=(l=m["$=="]("ulist"))?p["$start_with?"]("["):m["$=="]("ulist"))===b||null==k||k.$$is_boolean&&1!=k||((k=p["$start_with?"]("[ ] "))===b||null==k||k.$$is_boolean&&1!=k?(k=!1!==(l=p["$start_with?"]("[x] "))&&l!==b&&null!=l?l:p["$start_with?"]("[*] "))===b||null==k||k.$$is_boolean&&1!=k||(r=t=!0,p=p["$[]"](y(3,-1,!1)).$lstrip()):(t=!0,r=!1,p=p["$[]"](y(3,-1,!1)).$lstrip())),p=a.const_get(A,"ListItem",!0,!0).$new(e,p),!1!==
t&&t!==b&&null!=t&&(t=["checklist-option",""],q(e.$attributes(),"[]=",a.to_a(t)),t[c(t.length,1)],t=["checkbox",""],q(p.$attributes(),"[]=",a.to_a(t)),t[c(t.length,1)],!1!==r&&r!==b&&null!=r&&(t=["checked",""],q(p.$attributes(),"[]=",a.to_a(t)),t[c(t.length,1)])),!1!==(k=h)&&k!==b&&null!=k?k:h=this.$resolve_list_marker(m,f["$[]"](1),e.$items().$size(),!0,d),t=[h],q(p,"marker=",a.to_a(t)),t[c(t.length,1)],r=!0);d.$advance();t=d.$cursor();t=a.const_get(A,"Reader",!0,!0).$new(this.$read_lines_for_list_item(d,
m,h,r),t);if((k=t["$has_more_lines?"]())!==b&&null!=k&&(!k.$$is_boolean||1==k)){u=t.$skip_line_comments();v=t.$peek_line();((k=u["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k)&&t.$unshift_lines(u);(k=v["$nil?"]()["$!"]())===b||null==k||k.$$is_boolean&&1!=k?v=u=!1:(u=v["$empty?"](),(k=(l=u["$!"](),!1!==l&&l!==b&&null!=l?m["$!="]("dlist"):l))===b||null==k||k.$$is_boolean&&1!=k||(r=!1),v=(k=u["$!"](),!1!==k&&k!==b&&null!=k?v["$empty?"]()["$!"]():k));for(x=w(["text"],{text:r["$!"]()});(l=t["$has_more_lines?"]())!==
b&&null!=l&&(!l.$$is_boolean||1==l);)if((l=D=this.$next_block(t,p,w([],{}),x))!==b&&null!=l&&(!l.$$is_boolean||1==l))p["$<<"](D);p.$fold_first(u,v)}if(m["$=="]("dlist")){if((k=!1!==(l=p["$text?"]())&&l!==b&&null!=l?l:p["$blocks?"]())===b||null==k||k.$$is_boolean&&1!=k)p=b;return[n,p]}return p},ka.$$arity=-4);a.defs(n,"$read_lines_for_list_item",sa=function(d,e,f,h){var k,l,m,n,p,t,r,u,v,x=b,D=b,z=b,y=b,F=b,L=b,L=n=n=b;null==B["~"]&&(B["~"]=b);null==f&&(f=b);null==h&&(h=!0);x=[];D="inactive";z=!1;
for(y=b;(l=d["$has_more_lines?"]())!==b&&null!=l&&(!l.$$is_boolean||1==l);){F=d.$read_line();if((l=this["$is_sibling_list_item?"](F,e,f))!==b&&null!=l&&(!l.$$is_boolean||1==l))break;L=(l=x["$empty?"]())===b||null==l||l.$$is_boolean&&1!=l?x["$[]"](-1):b;if(L["$=="](a.const_get(A,"LIST_CONTINUATION",!0,!0))&&(D["$=="]("inactive")&&(D="active",h=!0,!1===z||z===b||null==z)&&(n=[-1,""],q(x,"[]=",a.to_a(n)),n[c(n.length,1)]),F["$=="](a.const_get(A,"LIST_CONTINUATION",!0,!0)))){(l=D["$!="]("frozen"))===
b||null==l||l.$$is_boolean&&1!=l||(D="frozen",x["$<<"](F));F=b;continue}if((l=n=this["$is_delimited_block?"](F,!0))===b||null==l||l.$$is_boolean&&1!=l)if((l=(m=(n=e["$=="]("dlist"))?D["$!="]("active"):e["$=="]("dlist"),!1!==m&&m!==b&&null!=m?a.const_get(A,"BlockAttributeLineRx",!0,!0)["$=~"](F):m))===b||null==l||l.$$is_boolean&&1!=l)if((l=(m=D["$=="]("active"))?F["$empty?"]()["$!"]():D["$=="]("active"))===b||null==l||l.$$is_boolean&&1!=l)if((l=(m=L["$nil?"]()["$!"](),!1!==m&&m!==b&&null!=m?L["$empty?"]():
m))===b||null==l||l.$$is_boolean&&1!=l)(l=F["$empty?"]()["$!"]())===b||null==l||l.$$is_boolean&&1!=l||(h=!0),(l=L=q(!1!==z&&z!==b&&null!=z?["dlist"]:a.const_get(A,"NESTABLE_LIST_CONTEXTS",!0,!0),"find",[],(v=function(c){null==c&&(c=b);return a.const_get(A,"ListRxMap",!0,!0)["$[]"](c)["$=~"](F)},v.$$s=this,v.$$arity=1,v)))===b||null==l||l.$$is_boolean&&1!=l||(z=!0,(l=(m=L["$=="]("dlist"))?B["~"]["$[]"](3)["$nil_or_empty?"]():L["$=="]("dlist"))===b||null==l||l.$$is_boolean&&1!=l||(h=!1)),x["$<<"](F);
else{if(!((l=F["$empty?"]())===b||null==l||l.$$is_boolean&&1!=l||(d.$skip_blank_lines(),F=d.$read_line(),(l=!1!==(m=F["$nil?"]())&&m!==b&&null!=m?m:this["$is_sibling_list_item?"](F,e,f))===b||null==l||l.$$is_boolean&&1!=l)))break;if(F["$=="](a.const_get(A,"LIST_CONTINUATION",!0,!0)))y=x.$size(),x["$<<"](F);else if(!1!==h&&h!==b&&null!=h)if((l=this["$is_sibling_list_item?"](F,e,f))===b||null==l||l.$$is_boolean&&1!=l)if((l=L=q(a.const_get(A,"NESTABLE_LIST_CONTEXTS",!0,!0),"find",[],(r=function(c){null==
c&&(c=b);return a.const_get(A,"ListRxMap",!0,!0)["$[]"](c)["$=~"](F)},r.$$s=this,r.$$arity=1,r)))===b||null==l||l.$$is_boolean&&1!=l)if((l=a.const_get(A,"LiteralParagraphRx",!0,!0)["$=~"](F))===b||null==l||l.$$is_boolean&&1!=l)break;else d.$unshift_line(F),x.$concat(q(d,"read_lines_until",[w(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(u=function(a){var c=u.$$s||this;null==a&&(a=b);return e["$=="]("dlist")?
c["$is_sibling_list_item?"](a,e,f):e["$=="]("dlist")},u.$$s=this,u.$$arity=1,u)));else x["$<<"](F),z=!0,(l=(m=L["$=="]("dlist"))?B["~"]["$[]"](3)["$nil_or_empty?"]():L["$=="]("dlist"))===b||null==l||l.$$is_boolean&&1!=l||(h=!1);else break;else!1!==z&&z!==b&&null!=z||x.$pop(),x["$<<"](F),h=!0}else if((l=a.const_get(A,"LiteralParagraphRx",!0,!0)["$=~"](F))===b||null==l||l.$$is_boolean&&1!=l)if((l=!1!==(m=!1!==(n=a.const_get(A,"BlockTitleRx",!0,!0)["$=~"](F))&&n!==b&&null!=n?n:a.const_get(A,"BlockAttributeLineRx",
!0,!0)["$=~"](F))&&m!==b&&null!=m?m:a.const_get(A,"AttributeEntryRx",!0,!0)["$=~"](F))===b||null==l||l.$$is_boolean&&1!=l)(l=L=q(!1!==z&&z!==b&&null!=z?["dlist"]:a.const_get(A,"NESTABLE_LIST_CONTEXTS",!0,!0),"find",[],(t=function(c){null==c&&(c=b);return a.const_get(A,"ListRxMap",!0,!0)["$[]"](c)["$=~"](F)},t.$$s=this,t.$$arity=1,t)))===b||null==l||l.$$is_boolean&&1!=l||(z=!0,(l=(m=L["$=="]("dlist"))?B["~"]["$[]"](3)["$nil_or_empty?"]():L["$=="]("dlist"))===b||null==l||l.$$is_boolean&&1!=l||(h=!1)),
x["$<<"](F),D="inactive";else x["$<<"](F);else d.$unshift_line(F),x.$concat(q(d,"read_lines_until",[w(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(p=function(a){var c=p.$$s||this;null==a&&(a=b);return e["$=="]("dlist")?c["$is_sibling_list_item?"](a,e,f):e["$=="]("dlist")},p.$$s=this,p.$$arity=1,p))),D="inactive";else break;else if(D["$=="]("active"))x["$<<"](F),x.$concat(d.$read_lines_until(w(["terminator",
"read_last_line"],{terminator:n.$terminator(),read_last_line:!0}))),D="inactive";else break;F=b}!1!==F&&F!==b&&null!=F&&d.$unshift_line(F);for(!1!==y&&y!==b&&null!=y&&x.$delete_at(y);(l=(m=x["$empty?"]()["$!"](),!1!==m&&m!==b&&null!=m?x["$[]"](-1)["$empty?"]():m))!==b&&null!=l&&(!l.$$is_boolean||1==l);)x.$pop();(k=(l=x["$empty?"]()["$!"](),!1!==l&&l!==b&&null!=l?x["$[]"](-1)["$=="](a.const_get(A,"LIST_CONTINUATION",!0,!0)):l))===b||null==k||k.$$is_boolean&&1!=k||x.$pop();return x},sa.$$arity=-3);
a.defs(n,"$initialize_section",wa=function(d,e,f){var h,k,l=b,m=b,n=b,p=b,t=b,r=b,u=n=r=p=b;null==f&&(f=w([],{}));l=e.$document();(h=l.$sourcemap())===b||null==h||h.$$is_boolean&&1!=h||(m=d.$cursor());k=this.$parse_section_title(d,l);h=a.to_ary(k);n=null==h[0]?b:h[0];p=null==h[1]?b:h[1];t=null==h[2]?b:h[2];r=null==h[3]?b:h[3];k;!1!==p&&p!==b&&null!=p&&(p=["reftext",p],q(f,"[]=",a.to_a(p)),p[c(p.length,1)]);r=a.const_get(A,"Section",!0,!0).$new(e,r,l.$attributes()["$has_key?"]("sectnums"));!1!==m&&
m!==b&&null!=m&&(p=[m],q(r,"source_location=",a.to_a(p)),p[c(p.length,1)]);p=[n];q(r,"id=",a.to_a(p));p[c(p.length,1)];p=[t];q(r,"title=",a.to_a(p));p[c(p.length,1)];(h=f["$[]"](1))===b||null==h||h.$$is_boolean&&1!=h?((h=(k=t.$downcase()["$=="]("synopsis"))?l.$doctype()["$=="]("manpage"):t.$downcase()["$=="]("synopsis"))===b||null==h||h.$$is_boolean&&1!=h?p=["sect"+r.$level()]:(p=[!0],q(r,"special=",a.to_a(p)),p[c(p.length,1)],p=["synopsis"]),q(r,"sectname=",a.to_a(p)),p[c(p.length,1)]):(k=this.$parse_style_attribute(f,
d),h=a.to_ary(k),n=null==h[0]?b:h[0],k,!1!==n&&n!==b&&null!=n?(p=[n],q(r,"sectname=",a.to_a(p)),p[c(p.length,1)],p=[!0],q(r,"special=",a.to_a(p)),p[c(p.length,1)],(h=(k=r.$sectname()["$=="]("abstract"))?l.$doctype()["$=="]("book"):r.$sectname()["$=="]("abstract"))===b||null==h||h.$$is_boolean&&1!=h||(p=["sect1"],q(r,"sectname=",a.to_a(p)),p[c(p.length,1)],p=[!1],q(r,"special=",a.to_a(p)),p[c(p.length,1)],p=[1],q(r,"level=",a.to_a(p)),p[c(p.length,1)])):(p=["sect"+r.$level()],q(r,"sectname=",a.to_a(p)),
p[c(p.length,1)]));(h=(k=r.$id()["$!"](),!1!==k&&k!==b&&null!=k?u=f["$[]"]("id"):k))===b||null==h||h.$$is_boolean&&1!=h?(h=r,!1!==(k=h.$id())&&k!==b&&null!=k?k:h["$id="](r.$generate_id())):(p=[u],q(r,"id=",a.to_a(p)),p[c(p.length,1)]);(h=r.$id())===b||null==h||h.$$is_boolean&&1!=h||r.$document().$register("ids",[r.$id(),!1!==(h=f["$[]"]("reftext"))&&h!==b&&null!=h?h:r.$title()]);r.$update_attributes(f);d.$skip_blank_lines();return r},wa.$$arity=-3);a.defs(n,"$section_level",xa=function(b){return a.const_get(A,
"SECTION_LEVELS",!0,!0)["$[]"](b.$chr())},xa.$$arity=1);a.defs(n,"$single_line_section_level",ra=function(a){return c(a.$length(),1)},ra.$$arity=1);a.defs(n,"$is_next_line_section?",va=function(c,d){var e,g,f,h,k=b,l=b;return(e=(g=(f=(k=d["$[]"](1))["$nil?"]()["$!"](),!1!==f&&f!==b&&null!=f?!1!==(h=(l=k["$[]"](0).$ord())["$=="](100))&&h!==b&&null!=h?h:l["$=="](102):f),!1!==g&&g!==b&&null!=g?k["$=~"](a.const_get(A,"FloatingTitleStyleRx",!0,!0)):g))!==b&&null!=e&&(!e.$$is_boolean||1==e)||(e=c["$has_more_lines?"]())===
b||null==e||e.$$is_boolean&&1!=e?!1:(e=a.const_get(A,"Compliance",!0,!0).$underline_style_section_titles())===b||null==e||e.$$is_boolean&&1!=e?this["$is_section_title?"](c.$peek_line()):q(this,"is_section_title?",a.to_a(c.$peek_lines(2)))},va.$$arity=2);a.defs(n,"$is_next_line_document_title?",oa=function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)},oa.$$arity=2);a.defs(n,"$is_section_title?",ta=function(a,c){var d,e=b;null==c&&(c=b);return(d=e=this["$is_single_line_section_title?"](a))===
b||null==d||d.$$is_boolean&&1!=d?(d=!1!==c&&c!==b&&null!=c?e=this["$is_two_line_section_title?"](a,c):c)===b||null==d||d.$$is_boolean&&1!=d?!1:e:e},ta.$$arity=-2);a.defs(n,"$is_single_line_section_title?",E=function(c){var d,e,g,f,h=b,k=b,h=!1!==c&&c!==b&&null!=c?c.$chr():b;return(d=(e=!1!==(g=h["$=="]("="))&&g!==b&&null!=g?g:(f=a.const_get(A,"Compliance",!0,!0).$markdown_syntax(),!1!==f&&f!==b&&null!=f?h["$=="]("#"):f),!1!==e&&e!==b&&null!=e?k=a.const_get(A,"AtxSectionRx",!0,!0).$match(c):e))===
b||null==d||d.$$is_boolean&&1!=d?!1:this.$single_line_section_level(k["$[]"](1))},E.$$arity=1);a.defs(n,"$is_two_line_section_title?",S=function(e,f){var h,k,l,m,n;return(h=(k=(l=(m=(n=!1!==e&&e!==b&&null!=e?f:e,!1!==n&&n!==b&&null!=n?a.const_get(A,"SECTION_LEVELS",!0,!0)["$has_key?"](f.$chr()):n),!1!==m&&m!==b&&null!=m?f["$=~"](a.const_get(A,"SetextSectionLineRx",!0,!0)):m),!1!==l&&l!==b&&null!=l?e["$=~"](a.const_get(A,"SetextSectionTitleRx",!0,!0)):l),!1!==k&&k!==b&&null!=k?d(c(this.$line_length(e),
this.$line_length(f)).$abs(),1):k))===b||null==h||h.$$is_boolean&&1!=h?!1:this.$section_level(f)},S.$$arity=2);a.defs(n,"$parse_section_title",Y=function(f,k){var l,m,n,q,p,r=b,t=b,u=b,v=b,x=b,w=b,D=b,z=b,y=b,F=b,C=b,r=f.$read_line(),u=t=b,v=-1,x=b,w=!0,D=r.$chr();(l=(m=!1!==(n=D["$=="]("="))&&n!==b&&null!=n?n:(q=a.const_get(A,"Compliance",!0,!0).$markdown_syntax(),!1!==q&&q!==b&&null!=q?D["$=="]("#"):q),!1!==m&&m!==b&&null!=m?z=a.const_get(A,"AtxSectionRx",!0,!0).$match(r):m))===b||null==l||l.$$is_boolean&&
1!=l?(l=a.const_get(A,"Compliance",!0,!0).$underline_style_section_titles())===b||null==l||l.$$is_boolean&&1!=l||(l=(m=(n=(q=(p=F=f.$peek_line(!0),!1!==p&&p!==b&&null!=p?a.const_get(A,"SECTION_LEVELS",!0,!0)["$has_key?"](F.$chr()):p),!1!==q&&q!==b&&null!=q?F["$=~"](a.const_get(A,"SetextSectionLineRx",!0,!0)):q),!1!==n&&n!==b&&null!=n?C=a.const_get(A,"SetextSectionTitleRx",!0,!0).$match(r):n),!1!==m&&m!==b&&null!=m?d(c(this.$line_length(r),this.$line_length(F)).$abs(),1):m))===b||null==l||l.$$is_boolean&&
1!=l||(u=C["$[]"](1),(l=(m=u["$end_with?"]("]]"),!1!==m&&m!==b&&null!=m?y=a.const_get(A,"InlineSectionAnchorRx",!0,!0).$match(u):m))===b||null==l||l.$$is_boolean&&1!=l||(l=y["$[]"](2)["$nil?"]())===b||null==l||l.$$is_boolean&&1!=l||(u=y["$[]"](1),t=y["$[]"](3),x=y["$[]"](4)),v=this.$section_level(F),w=!1,f.$advance()):(v=this.$single_line_section_level(z["$[]"](1)),u=z["$[]"](2),(l=(m=u["$end_with?"]("]]"),!1!==m&&m!==b&&null!=m?y=a.const_get(A,"InlineSectionAnchorRx",!0,!0).$match(u):m))===b||null==
l||l.$$is_boolean&&1!=l||(l=y["$[]"](2)["$nil?"]())===b||null==l||l.$$is_boolean&&1!=l||(u=y["$[]"](1),t=y["$[]"](3),x=y["$[]"](4)));(l=e(v,0))===b||null==l||l.$$is_boolean&&1!=l||(v=h(v,k.$attr("leveloffset",0).$to_i()));return[t,x,u,v,w]},Y.$$arity=2);a.defs(n,"$line_length",aa=function(c){var d;return(d=a.const_get(A,"FORCE_UNICODE_LINE_LENGTH",!0,!0))===b||null==d||d.$$is_boolean&&1!=d?c.$length():c.$scan(a.const_get(A,"UnicodeCharScanRx",!0,!0)).$length()},aa.$$arity=1);a.defs(n,"$parse_header_metadata",
ya=function(d,e){var f,k,m,n,p=b,r=b,u=b,v=b,x=v=b,D=b,z=b,F=x=b,u=r=b;null==e&&(e=b);this.$process_attribute_entries(d,e);p=w([],{});u=r=b;if((f=(k=d["$has_more_lines?"](),!1!==k&&k!==b&&null!=k?d["$next_line_empty?"]()["$!"]():k))!==b&&null!=f&&(!f.$$is_boolean||1==f)){v=this.$process_authors(d.$read_line());if((f=v["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f)!1!==e&&e!==b&&null!=e&&(q(v,"each",[],(m=function(d,f){var h,k=b;null==d&&(d=b);null==f&&(f=b);return(h=e.$attributes()["$has_key?"](d))===
b||null==h||h.$$is_boolean&&1!=h?(k=[d,(h=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](f))===b||null==h||h.$$is_boolean&&1!=h?f:e.$apply_header_subs(f)],q(e.$attributes(),"[]=",a.to_a(k)),k[c(k.length,1)]):b},m.$$s=this,m.$$arity=2,m)),r=e.$attributes()["$[]"]("author"),u=e.$attributes()["$[]"]("authors")),p=v;this.$process_attribute_entries(d,e);v=w([],{});if((f=(k=d["$has_more_lines?"](),!1!==k&&k!==b&&null!=k?d["$next_line_empty?"]()["$!"]():k))!==b&&null!=f&&(!f.$$is_boolean||1==f))if(x=
d.$read_line(),(f=D=a.const_get(A,"RevisionInfoLineRx",!0,!0).$match(x))===b||null==f||f.$$is_boolean&&1!=f)d.$unshift_line(x);else{(f=D["$[]"](1))===b||null==f||f.$$is_boolean&&1!=f||(z=["revnumber",D["$[]"](1).$rstrip()],q(v,"[]=",a.to_a(z)),z[c(z.length,1)]);if((f=(x=D["$[]"](2).$strip())["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f)z=(f=(k=D["$[]"](1)["$!"](),!1!==k&&k!==b&&null!=k?x["$start_with?"]("v"):k))===b||null==f||f.$$is_boolean&&1!=f?["revdate",x]:["revnumber",x["$[]"](y(1,-1,!1))],
q(v,"[]=",a.to_a(z)),z[c(z.length,1)];(f=D["$[]"](3))===b||null==f||f.$$is_boolean&&1!=f||(z=["revremark",D["$[]"](3).$rstrip()],q(v,"[]=",a.to_a(z)),z[c(z.length,1)])}if((f=v["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f)!1!==e&&e!==b&&null!=e&&q(v,"each",[],(n=function(d,f){var h;null==d&&(d=b);null==f&&(f=b);return(h=e.$attributes()["$has_key?"](d))===b||null==h||h.$$is_boolean&&1!=h?(z=[d,e.$apply_header_subs(f)],q(e.$attributes(),"[]=",a.to_a(z)),z[c(z.length,1)]):b},n.$$s=this,n.$$arity=
2,n)),p.$update(v);this.$process_attribute_entries(d,e);d.$skip_blank_lines()}if(!1!==e&&e!==b&&null!=e){v=b;if((f=(k=e.$attributes()["$has_key?"]("author"),!1!==k&&k!==b&&null!=k?(F=e.$attributes()["$[]"]("author"))["$!="](r):k))===b||null==f||f.$$is_boolean&&1!=f)if((f=(k=e.$attributes()["$has_key?"]("authors"),!1!==k&&k!==b&&null!=k?(F=e.$attributes()["$[]"]("authors"))["$!="](u):k))===b||null==f||f.$$is_boolean&&1!=f){r=[];for(u="author_"+h(r.$size(),1);(k=e.$attributes()["$has_key?"](u))!==b&&
null!=k&&(!k.$$is_boolean||1==k);)r["$<<"](e.$attributes()["$[]"](u)),u="author_"+h(r.$size(),1);r.$size()["$=="](1)?v=this.$process_authors(r["$[]"](0),!0,!1):(f=l(r.$size(),1))===b||null==f||f.$$is_boolean&&1!=f||(v=this.$process_authors(r.$join("; "),!0))}else v=this.$process_authors(F,!0);else v=this.$process_authors(F,!0,!1);!1!==v&&v!==b&&null!=v&&(e.$attributes().$update(v),(f=(k=e.$attributes()["$has_key?"]("email")["$!"](),!1!==k&&k!==b&&null!=k?e.$attributes()["$has_key?"]("email_1"):k))===
b||null==f||f.$$is_boolean&&1!=f||(z=["email",e.$attributes()["$[]"]("email_1")],q(e.$attributes(),"[]=",a.to_a(z)),z[c(z.length,1)]))}return p},ya.$$arity=-2);a.defs(n,"$process_authors",Aa=function(d,e,f){var k,m,n=this,p=b,r=b,u=b;null==e&&(e=!1);null==f&&(f=!0);p=w([],{});r="author authorinitials firstname middlename lastname email".split(" ");u=function(){return!1!==f&&f!==b&&null!=f?q(d.$split(";"),"map",[],(k=function(a){null==a&&(a=b);return a.$strip()},k.$$s=n,k.$$arity=1,k)):[d]}();q(u,
"each_with_index",[],(m=function(d,f){var k=m.$$s||this,n,u,v,x,D,z=b,F=b,L=b,E=b,I=L=b,K=b;null==d&&(d=b);null==f&&(f=b);if((n=d["$empty?"]())!==b&&null!=n&&(!n.$$is_boolean||1==n))return b;z=w([],{});f["$=="](0)?q(r,"each",[],(u=function(d){var e=b;null==d&&(d=b);e=[d.$to_sym(),d];q(z,"[]=",a.to_a(e));return e[c(e.length,1)]},u.$$s=k,u.$$arity=1,u)):q(r,"each",[],(v=function(d){var e=b;null==d&&(d=b);e=[d.$to_sym(),""+d+"_"+h(f,1)];q(z,"[]=",a.to_a(e));return e[c(e.length,1)]},v.$$s=k,v.$$arity=
1,v));F=b;!1!==e&&e!==b&&null!=e?(n=l((F=d.$split(" ")).$size(),3))===b||null==n||n.$$is_boolean&&1!=n||(F=F["$[]"](y(0,1,!1)).$push(F["$[]"](y(2,-1,!1)).$join(" "))):(n=L=a.const_get(A,"AuthorInfoLineRx",!0,!0).$match(d))===b||null==n||n.$$is_boolean&&1!=n||(F=L.$to_a(),F.$shift());if((n=F["$nil?"]())===b||null==n||n.$$is_boolean&&1!=n){if(E=[z["$[]"]("firstname"),L=F["$[]"](0).$tr("_"," ")],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],E=[z["$[]"]("author"),L],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],E=[z["$[]"]("authorinitials"),
L["$[]"](0,1)],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],(n=(x=F["$[]"](1)["$nil?"]()["$!"](),!1!==x&&x!==b&&null!=x?F["$[]"](2)["$nil?"]()["$!"]():x))===b||null==n||n.$$is_boolean&&1!=n?(n=F["$[]"](1)["$nil?"]()["$!"]())===b||null==n||n.$$is_boolean&&1!=n||(E=[z["$[]"]("lastname"),K=F["$[]"](1).$tr("_"," ")],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],E=[z["$[]"]("author"),[L,K].$join(" ")],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],E=[z["$[]"]("authorinitials"),[L["$[]"](0,1),K["$[]"](0,1)].$join()],q(p,"[]=",
a.to_a(E)),E[c(E.length,1)]):(E=[z["$[]"]("middlename"),I=F["$[]"](1).$tr("_"," ")],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],E=[z["$[]"]("lastname"),K=F["$[]"](2).$tr("_"," ")],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],E=[z["$[]"]("author"),[L,I,K].$join(" ")],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],E=[z["$[]"]("authorinitials"),[L["$[]"](0,1),I["$[]"](0,1),K["$[]"](0,1)].$join()],q(p,"[]=",a.to_a(E)),E[c(E.length,1)]),(n=!1!==(x=e)&&x!==b&&null!=x?x:F["$[]"](3)["$nil?"]())===b||null==n||n.$$is_boolean&&1!=
n)E=[z["$[]"]("email"),F["$[]"](3)],q(p,"[]=",a.to_a(E)),E[c(E.length,1)]}else E=[z["$[]"]("author"),(E=[z["$[]"]("firstname"),L=d.$strip().$tr_s(" "," ")],q(p,"[]=",a.to_a(E)),E[c(E.length,1)])],q(p,"[]=",a.to_a(E)),E[c(E.length,1)],E=[z["$[]"]("authorinitials"),L["$[]"](0,1)],q(p,"[]=",a.to_a(E)),E[c(E.length,1)];E=["authorcount",h(f,1)];q(p,"[]=",a.to_a(E));E[c(E.length,1)];f["$=="](1)&&q(r,"each",[],(D=function(d){var e;null==d&&(d=b);if((e=p["$has_key?"](d))===b||null==e||e.$$is_boolean&&1!=
e)return b;E=[""+d+"_1",p["$[]"](d)];q(p,"[]=",a.to_a(E));return E[c(E.length,1)]},D.$$s=k,D.$$arity=1,D));E=f["$=="](0)?["authors",p["$[]"](z["$[]"]("author"))]:["authors",""+p["$[]"]("authors")+", "+p["$[]"](z["$[]"]("author"))];q(p,"[]=",a.to_a(E));return E[c(E.length,1)]},m.$$s=n,m.$$arity=2,m));return p},Aa.$$arity=-2);a.defs(n,"$parse_block_metadata_lines",Ba=function(a,c,d,e){var f;null==d&&(d=w([],{}));for(null==e&&(e=w([],{}));(f=this.$parse_block_metadata_line(a,c,d,e))!==b&&null!=f&&(!f.$$is_boolean||
1==f);)a.$advance(),a.$skip_blank_lines();return d},Ba.$$arity=-3);a.defs(n,"$parse_block_metadata_line",Ca=function(d,e,f,h){var k,l,m,n=b,p=b,r=b,n=p=n=b;null==h&&(h=w([],{}));if((k=d["$has_more_lines?"]())===b||null==k||k.$$is_boolean&&1!=k)return!1;n=d.$peek_line();if((k=(l=p=n["$start_with?"]("//"),!1!==l&&l!==b&&null!=l?r=a.const_get(A,"CommentBlockRx",!0,!0).$match(n):l))!==b&&null!=k&&(!k.$$is_boolean||1==k))n=r["$[]"](0),d.$read_lines_until(w(["skip_first_line","preserve_last_line","terminator",
"skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:n,skip_processing:!0}));else if((k=(l=!1!==p&&p!==b&&null!=p)?a.const_get(A,"CommentLineRx",!0,!0)["$=~"](n):p)===b||null==k||k.$$is_boolean&&1!=k)if((k=(l=(m=h["$[]"]("text")["$!"](),!1!==m&&m!==b&&null!=m?n["$start_with?"](":"):m),!1!==l&&l!==b&&null!=l?r=a.const_get(A,"AttributeEntryRx",!0,!0).$match(n):l))!==b&&null!=k&&(!k.$$is_boolean||1==k))this.$process_attribute_entry(d,e,f,r);else if((k=(l=p=(m=n["$start_with?"]("["),
!1!==m&&m!==b&&null!=m?n["$end_with?"]("]"):m),!1!==l&&l!==b&&null!=l?r=a.const_get(A,"BlockAnchorRx",!0,!0).$match(n):l))===b||null==k||k.$$is_boolean&&1!=k)if((k=(l=!1!==p&&p!==b&&null!=p)?r=a.const_get(A,"BlockAttributeListRx",!0,!0).$match(n):p)===b||null==k||k.$$is_boolean&&1!=k){if((k=(l=h["$[]"]("text")["$!"](),!1!==l&&l!==b&&null!=l?r=a.const_get(A,"BlockTitleRx",!0,!0).$match(n):l))===b||null==k||k.$$is_boolean&&1!=k)return!1;n=["title",r["$[]"](1)];q(f,"[]=",a.to_a(n));n[c(n.length,1)]}else e.$document().$parse_attributes(r["$[]"](1),
[],w(["sub_input","into"],{sub_input:!0,into:f}));else if((k=r["$[]"](1)["$nil_or_empty?"]())===b||null==k||k.$$is_boolean&&1!=k)if(n=["id",r["$[]"](1)],q(f,"[]=",a.to_a(n)),n[c(n.length,1)],(k=r["$[]"](2)["$nil?"]())===b||null==k||k.$$is_boolean&&1!=k)n=["reftext",r["$[]"](2)],q(f,"[]=",a.to_a(n)),n[c(n.length,1)];return!0},Ca.$$arity=-4);a.defs(n,"$process_attribute_entries",za=function(a,c,d){var e;null==d&&(d=b);for(a.$skip_comment_lines();(e=this.$process_attribute_entry(a,c,d))!==b&&null!=e&&
(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_comment_lines()},za.$$arity=-3);a.defs(n,"$process_attribute_entry",Da=function(c,d,e,f){var g,h,k=b,l=b,m=b,n=b,q=b,p=b;null==e&&(e=b);null==f&&(f=b);!1!==(g=f)&&g!==b&&null!=g?g:f=(h=c["$has_more_lines?"]())===b||null==h||h.$$is_boolean&&1!=h?b:a.const_get(A,"AttributeEntryRx",!0,!0).$match(c.$peek_line());if(!1!==f&&f!==b&&null!=f){k=f["$[]"](1);if(((g=(l=!1!==(h=f["$[]"](2))&&h!==b&&null!=h?h:"")["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g)&&
(g=!1!==(h=l["$end_with?"](m=a.const_get(A,"LINE_CONTINUATION",!0,!0)))&&h!==b&&null!=h?h:l["$end_with?"](m=a.const_get(A,"LINE_CONTINUATION_LEGACY",!0,!0)))!==b&&null!=g&&(!g.$$is_boolean||1==g))for(l=l.$chop().$rstrip();(h=c.$advance())!==b&&null!=h&&(!h.$$is_boolean||1==h)&&((h=(n=c.$peek_line().$strip())["$empty?"]())===b||null==h||h.$$is_boolean&&1!=h)&&((h=q=n["$end_with?"](m))===b||null==h||h.$$is_boolean&&1!=h||(n=n.$chop().$rstrip()),p=(h=l["$end_with?"](a.const_get(A,"LINE_BREAK",!0,!0)))===
b||null==h||h.$$is_boolean&&1!=h?" ":a.const_get(A,"EOL",!0,!0),l=""+l+p+n,!1!==q&&q!==b&&null!=q););this.$store_attribute(k,l,!1!==d&&d!==b&&null!=d?d.$document():b,e);return!0}return!1},Da.$$arity=-3);a.defs(n,"$store_attribute",Ga=function(d,e,f,k){var l,m=b,m=b;null==f&&(f=b);null==k&&(k=b);(l=d["$end_with?"]("!"))===b||null==l||l.$$is_boolean&&1!=l?(l=d["$start_with?"]("!"))===b||null==l||l.$$is_boolean&&1!=l||(e=b,d=d["$[]"](y(1,-1,!1))):(e=b,d=d.$chop());d=this.$sanitize_attribute_name(d);
m=!0;!1!==f&&f!==b&&null!=f&&(d["$=="]("numbered")?d="sectnums":d["$=="]("leveloffset")&&!1!==e&&e!==b&&null!=e&&(m=e.$chr(),"+"["$==="](m)?e=h(f.$attr("leveloffset",0).$to_i(),(!1!==(l=e["$[]"](y(1,-1,!1)))&&l!==b&&null!=l?l:0).$to_i()).$to_s():"-"["$==="](m)&&(e=c(f.$attr("leveloffset",0).$to_i(),(!1!==(l=e["$[]"](y(1,-1,!1)))&&l!==b&&null!=l?l:0).$to_i()).$to_s())),m=!1!==e&&e!==b&&null!=e?f.$set_attribute(d,e):f.$delete_attribute(d));(l=!1!==m&&m!==b&&null!=m?k:m)===b||null==l||l.$$is_boolean&&
1!=l||(!1!==e&&e!==b&&null!=e&&(e=f.$attributes()["$[]"](d)),a.const_get([a.const_get(A,"Document",!0,!0).$$scope],"AttributeEntry",!0,!0).$new(d,e).$save_to(k));return[d,e]},Ga.$$arity=-3);a.defs(n,"$resolve_list_marker",r=function(a,c,d,e,f){var g;null==d&&(d=0);null==e&&(e=!1);null==f&&(f=b);return(g=a["$=="]("olist")?c["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||null==g||g.$$is_boolean&&1!=g?a["$=="]("colist")?"<1>":c:this.$resolve_ordered_list_marker(c,d,e,f)},r.$$arity=-3);a.defs(n,
"$resolve_ordered_list_marker",m=function(c,d,e,f){var g,k,l=b,m=b,n=b,l=b;null==d&&(d=0);null==e&&(e=!1);null==f&&(f=b);l=q(a.const_get(A,"ORDERED_LIST_STYLES",!0,!0),"find",[],(g=function(d){null==d&&(d=b);return a.const_get(A,"OrderedListMarkerRxMap",!0,!0)["$[]"](d)["$=~"](c)},g.$$s=this,g.$$arity=1,g));m=n=b;"arabic"["$==="](l)?(!1!==e&&e!==b&&null!=e&&(m=h(d,1),n=c.$to_i()),c="1."):"loweralpha"["$==="](l)?(!1!==e&&e!==b&&null!=e&&(m=h("a"["$[]"](0).$ord(),d).$chr(),n=c.$chomp(".")),c="a."):
"upperalpha"["$==="](l)?(!1!==e&&e!==b&&null!=e&&(m=h("A"["$[]"](0).$ord(),d).$chr(),n=c.$chomp(".")),c="A."):"lowerroman"["$==="](l)?(!1!==e&&e!==b&&null!=e&&(m=h(d,1),n=this.$roman_numeral_to_int(c.$chomp(")"))),c="i)"):"upperroman"["$==="](l)&&(!1!==e&&e!==b&&null!=e&&(m=h(d,1),n=this.$roman_numeral_to_int(c.$chomp(")"))),c="I)");(k=!1!==e&&e!==b&&null!=e?m["$!="](n):e)===b||null==k||k.$$is_boolean&&1!=k||this.$warn("asciidoctor: WARNING: "+f.$line_info()+": list item index: expected "+m+", got "+
n);return c},m.$$arity=-2);a.defs(n,"$is_sibling_list_item?",Ea=function(c,d,e){var f,g=b,h=b,k=b;(f=a.const_get([a.Object.$$scope],"Regexp",!0,!0)["$==="](e))===b||null==f||f.$$is_boolean&&1!=f?(g=a.const_get(A,"ListRxMap",!0,!0)["$[]"](d),h=e):(g=e,h=!1);return(f=k=g.$match(c))===b||null==f||f.$$is_boolean&&1!=f?!1:!1!==h&&h!==b&&null!=h?h["$=="](this.$resolve_list_marker(d,k["$[]"](1))):!0},Ea.$$arity=3);a.defs(n,"$next_table",Ha=function(d,e,f){var k,l,m,n,p,r,t=b,u=b,v=b,x=b,w=b,D=b,z=b,F=b,
E=b,C=b,L=u=b,K=b,E=b,t=a.const_get(A,"Table",!0,!0).$new(e,f);(k=f["$has_key?"]("title"))===b||null==k||k.$$is_boolean&&1!=k||(u=[f.$delete("title")],q(t,"title=",a.to_a(u)),u[c(u.length,1)],t.$assign_caption(f.$delete("caption")));(k=(l=f["$key?"]("cols"),!1!==l&&l!==b&&null!=l?(v=this.$parse_colspecs(f["$[]"]("cols")))["$empty?"]()["$!"]():l))===b||null==k||k.$$is_boolean&&1!=k?x=!1:(t.$create_columns(v),x=!0);w=d.$skip_blank_lines();D=a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"ParserContext",
!0,!0).$new(d,t,f);z=!1!==(k=f["$key?"]("header-option"))&&k!==b&&null!=k?k:f["$key?"]("noheader-option");for(F=-1;(l=d["$has_more_lines?"]())!==b&&null!=l&&(!l.$$is_boolean||1==l);){F=h(F,1);E=d.$read_line();(l=(m=(n=(p=(r=z["$!"](),!1!==r&&r!==b&&null!=r?w["$=="](0):r),!1!==p&&p!==b&&null!=p?F["$=="](0):p),!1!==n&&n!==b&&null!=n?(C=d.$peek_line())["$nil?"]()["$!"]():n),!1!==m&&m!==b&&null!=m?C["$empty?"]():m))===b||null==l||l.$$is_boolean&&1!=l||(u=[!0],q(t,"has_header_option=",a.to_a(u)),u[c(u.length,
1)],u=["header-option",""],q(f,"[]=",a.to_a(u)),u[c(u.length,1)],u=["options",(l=f["$key?"]("options"))===b||null==l||l.$$is_boolean&&1!=l?"header":""+f["$[]"]("options")+",header"],q(f,"[]=",a.to_a(u)),u[c(u.length,1)]);D.$format()["$=="]("psv")&&((l=D["$starts_with_delimiter?"](E))===b||null==l||l.$$is_boolean&&1!=l?(m=this.$parse_cellspec(E,"start",D.$delimiter()),l=a.to_ary(m),u=null==l[0]?b:l[0],E=null==l[1]?b:l[1],m,(l=u["$nil?"]()["$!"]())===b||null==l||l.$$is_boolean&&1!=l||D.$close_open_cell(u)):
(E=E["$[]"](y(1,-1,!1)),D.$close_open_cell()));for(L=!1;(m=!1!==(n=L["$!"]())&&n!==b&&null!=n?n:E["$empty?"]()["$!"]())!==b&&null!=m&&(!m.$$is_boolean||1==m);)if(L=!0,(m=K=D.$match_delimiter(E))===b||null==m||m.$$is_boolean&&1!=m)u=[""+D.$buffer()+E+a.const_get(A,"EOL",!0,!0)],q(D,"buffer=",a.to_a(u)),u[c(u.length,1)],D.$format()["$=="]("csv")&&(u=[""+D.$buffer().$rstrip()+" "],q(D,"buffer=",a.to_a(u)),u[c(u.length,1)]),E="",(m=!1!==(n=D.$format()["$=="]("psv"))&&n!==b&&null!=n?n:(p=D.$format()["$=="]("csv"))?
D["$buffer_has_unclosed_quotes?"]():D.$format()["$=="]("csv"))===b||null==m||m.$$is_boolean&&1!=m?D.$close_cell(!0):D.$keep_cell_open();else{if(D.$format()["$=="]("csv")){if((m=D["$buffer_has_unclosed_quotes?"](K.$pre_match()))!==b&&null!=m&&(!m.$$is_boolean||1==m)){E=D.$skip_matched_delimiter(K);continue}}else if((m=K.$pre_match()["$end_with?"]("\\"))!==b&&null!=m&&(!m.$$is_boolean||1==m)){if((m=(E=D.$skip_matched_delimiter(K,!0))["$empty?"]())!==b&&null!=m&&(!m.$$is_boolean||1==m)){u=[""+D.$buffer()+
a.const_get(A,"EOL",!0,!0)];q(D,"buffer=",a.to_a(u));u[c(u.length,1)];D.$keep_cell_open();break}continue}D.$format()["$=="]("psv")?(n=this.$parse_cellspec(K.$pre_match(),"end"),m=a.to_ary(n),u=null==m[0]?b:m[0],E=null==m[1]?b:m[1],n,D.$push_cellspec(u),u=[""+D.$buffer()+E]):u=[""+D.$buffer()+K.$pre_match()];q(D,"buffer=",a.to_a(u));u[c(u.length,1)];(m=(E=K.$post_match())["$empty?"]())===b||null==m||m.$$is_boolean&&1!=m||(L=!1);D.$close_cell()}if((l=D["$cell_open?"]())===b||null==l||l.$$is_boolean&&
1!=l)w=d.$skip_blank_lines();if((l=d["$has_more_lines?"]())===b||null==l||l.$$is_boolean&&1!=l)(l=D["$cell_open?"]())===b||null==l||l.$$is_boolean&&1!=l||D.$close_cell(!0)}((k=!1!==(l=(m="colcount",n=t.$attributes(),!1!==(p=n["$[]"](m))&&p!==b&&null!=p?p:n["$[]="](m,t.$columns().$size()))["$=="](0))&&l!==b&&null!=l?l:x)===b||null==k||k.$$is_boolean&&1!=k)&&t.$assign_column_widths();t.$partition_header_footer(f);return t},Ha.$$arity=3);a.defs(n,"$parse_colspecs",Ka=function(d){var e,f,h,k=b;(e=d["$include?"](" "))===
b||null==e||e.$$is_boolean&&1!=e||(d=d.$tr(" ",""));if(d["$=="](d.$to_i().$to_s()))return q(a.const_get([a.Object.$$scope],"Array",!0,!0),"new",[d.$to_i()],(f=function(){return w(["width"],{width:1})},f.$$s=this,f.$$arity=0,f));k=[];q(d.$split(",",-1),"each",[],(h=function(d){var e=h.$$s||this,f,l,m,n=b,p=b,r=b,t=b,r=b;null==d&&(d=b);if((f=d["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f){if((f=n=a.const_get(A,"ColumnSpecRx",!0,!0).$match(d))===b||null==f||f.$$is_boolean&&1!=f)return b;p=w([],{});
(f=n["$[]"](2))===b||null==f||f.$$is_boolean&&1!=f||(l=n["$[]"](2).$split("."),f=a.to_ary(l),r=null==f[0]?b:f[0],t=null==f[1]?b:f[1],l,(f=(l=r["$nil_or_empty?"]()["$!"](),!1!==l&&l!==b&&null!=l?a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$has_key?"](r):l))===b||null==f||f.$$is_boolean&&1!=f||(r=["halign",a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$[]"](r)],q(p,"[]=",a.to_a(r)),r[c(r.length,1)]),(f=(l=t["$nil_or_empty?"]()["$!"](),
!1!==l&&l!==b&&null!=l?a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$has_key?"](t):l))===b||null==f||f.$$is_boolean&&1!=f||(r=["valign",a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$[]"](t)],q(p,"[]=",a.to_a(r)),r[c(r.length,1)]));r=["width",(f=n["$[]"](3))===b||null==f||f.$$is_boolean&&1!=f?1:n["$[]"](3).$to_i()];q(p,"[]=",a.to_a(r));r[c(r.length,1)];(f=(l=n["$[]"](4),!1!==l&&l!==b&&null!=l?a.const_get([a.const_get(A,"Table",
!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$has_key?"](n["$[]"](4)):l))===b||null==f||f.$$is_boolean&&1!=f||(r=["style",a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$[]"](n["$[]"](4))],q(p,"[]=",a.to_a(r)),r[c(r.length,1)]);return(f=n["$[]"](1))===b||null==f||f.$$is_boolean&&1!=f?k["$<<"](p):q(1,"upto",[n["$[]"](1).$to_i()],(m=function(){return k["$<<"](p.$dup())},m.$$s=e,m.$$arity=0,m))}return k["$<<"](w(["width"],{width:1}))},h.$$s=this,h.$$arity=1,h));return k},Ka.$$arity=
1);a.defs(n,"$parse_cellspec",qa=function(d,e,f){var h,k,l=b,m=b,n=b,p=n=l=b,r=b,p=b;null==e&&(e="start");null==f&&(f=b);l=b;m="";n=e;if("start"["$==="](n)){if((h=d["$include?"](f))===b||null==h||h.$$is_boolean&&1!=h)return[b,d];k=d.$split(f,2);h=a.to_ary(k);l=null==h[0]?b:h[0];m=null==h[1]?b:h[1];k;if((h=l=a.const_get(A,"CellSpecStartRx",!0,!0).$match(l))===b||null==h||h.$$is_boolean&&1!=h)return[b,d];if((h=l["$[]"](0)["$empty?"]())!==b&&null!=h&&(!h.$$is_boolean||1==h))return[w([],{}),m]}else if("end"["$==="](n)){if((h=
l=a.const_get(A,"CellSpecEndRx",!0,!0).$match(d))===b||null==h||h.$$is_boolean&&1!=h)return[w([],{}),d];if((h=l["$[]"](0).$lstrip()["$empty?"]())!==b&&null!=h&&(!h.$$is_boolean||1==h))return[w([],{}),d.$rstrip()];m=l.$pre_match()}n=w([],{});(h=l["$[]"](1))===b||null==h||h.$$is_boolean&&1!=h||(k=l["$[]"](1).$split("."),h=a.to_ary(k),p=null==h[0]?b:h[0],r=null==h[1]?b:h[1],k,p=(h=p["$nil_or_empty?"]())===b||null==h||h.$$is_boolean&&1!=h?p.$to_i():1,r=(h=r["$nil_or_empty?"]())===b||null==h||h.$$is_boolean&&
1!=h?r.$to_i():1,l["$[]"](2)["$=="]("+")?(p["$=="](1)||(p=["colspan",p],q(n,"[]=",a.to_a(p)),p[c(p.length,1)]),r["$=="](1)||(p=["rowspan",r],q(n,"[]=",a.to_a(p)),p[c(p.length,1)])):l["$[]"](2)["$=="]("*")&&!p["$=="](1)&&(p=["repeatcol",p],q(n,"[]=",a.to_a(p)),p[c(p.length,1)]));(h=l["$[]"](3))===b||null==h||h.$$is_boolean&&1!=h||(k=l["$[]"](3).$split("."),h=a.to_ary(k),p=null==h[0]?b:h[0],r=null==h[1]?b:h[1],k,(h=(k=p["$nil_or_empty?"]()["$!"](),!1!==k&&k!==b&&null!=k?a.const_get([a.const_get(A,"Table",
!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$has_key?"](p):k))===b||null==h||h.$$is_boolean&&1!=h||(p=["halign",a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("h")["$[]"](p)],q(n,"[]=",a.to_a(p)),p[c(p.length,1)]),(h=(k=r["$nil_or_empty?"]()["$!"](),!1!==k&&k!==b&&null!=k?a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"ALIGNMENTS",!0,!0)["$[]"]("v")["$has_key?"](r):k))===b||null==h||h.$$is_boolean&&1!=h||(p=["valign",a.const_get([a.const_get(A,"Table",!0,!0).$$scope],
"ALIGNMENTS",!0,!0)["$[]"]("v")["$[]"](r)],q(n,"[]=",a.to_a(p)),p[c(p.length,1)]));(h=(k=l["$[]"](4),!1!==k&&k!==b&&null!=k?a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$has_key?"](l["$[]"](4)):k))===b||null==h||h.$$is_boolean&&1!=h||(p=["style",a.const_get([a.const_get(A,"Table",!0,!0).$$scope],"TEXT_STYLES",!0,!0)["$[]"](l["$[]"](4))],q(n,"[]=",a.to_a(p)),p[c(p.length,1)]);return[n,m]},qa.$$arity=-2);a.defs(n,"$parse_style_attribute",Ia=function(d,e){var f,l,m,n,p,r=
b,t=b,u=b,v=b,x=b,D=b,z=t=b,F=b,y=b;null==e&&(e=b);r=d["$[]"]("style");t=d["$[]"](1);if((f=(l=!1!==t&&t!==b&&null!=t?t["$include?"](" ")["$!"]():t,!1!==l&&l!==b&&null!=l?a.const_get(A,"Compliance",!0,!0).$shorthand_property_syntax():l))===b||null==f||f.$$is_boolean&&1!=f)return z=["style",t],q(d,"[]=",a.to_a(z)),z[c(z.length,1)],[t,r];u="style";v=[];x=w([],{});D=q(this,"lambda",[],(m=function(){var d=m.$$s||this,f,h,k=b,k=b;return(f=v["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f?(k=u,"role"["$==="](k)||
"option"["$==="](k)?(f=u,d=x,!1!==(h=d["$[]"](f))&&h!==b&&null!=h?h:d["$[]="](f,[]),x["$[]"](u).$push(v.$join())):("id"["$==="](k)&&((f=x["$has_key?"]("id"))===b||null==f||f.$$is_boolean&&1!=f||d.$warn("asciidoctor: WARNING:"+((f=e["$nil?"]())===b||null==f||f.$$is_boolean&&1!=f?" "+e.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),k=[u,v.$join()],q(x,"[]=",a.to_a(k)),k[c(k.length,1)]),v=[]):(f=u["$!="]("style"))===b||null==f||f.$$is_boolean&&1!=f?b:d.$warn("asciidoctor: WARNING:"+
((f=e["$nil?"]())===b||null==f||f.$$is_boolean&&1!=f?" "+e.$prev_line_info()+":":b)+" invalid empty "+u+" detected in style attribute")},m.$$s=this,m.$$arity=0,m));q(t,"each_char",[],(n=function(a){var c,d,e,f=b;null==a&&(a=b);if((c=!1!==(d=!1!==(e=a["$=="]("."))&&e!==b&&null!=e?e:a["$=="]("#"))&&d!==b&&null!=d?d:a["$=="]("%"))===b||null==c||c.$$is_boolean&&1!=c)return v.$push(a);D.$call();f=a;return"."["$==="](f)?u="role":"#"["$==="](f)?u="id":"%"["$==="](f)?u="option":b},n.$$s=this,n.$$arity=1,
n));u["$=="]("style")?t=(z=["style",t],q(d,"[]=",a.to_a(z)),z[c(z.length,1)]):(D.$call(),t=(f=x["$has_key?"]("style"))===b||null==f||f.$$is_boolean&&1!=f?b:(z=["style",x["$[]"]("style")],q(d,"[]=",a.to_a(z)),z[c(z.length,1)]),(f=x["$has_key?"]("id"))===b||null==f||f.$$is_boolean&&1!=f||(z=["id",x["$[]"]("id")],q(d,"[]=",a.to_a(z)),z[c(z.length,1)]),(f=x["$has_key?"]("role"))===b||null==f||f.$$is_boolean&&1!=f||(z=["role",k(x["$[]"]("role")," ")],q(d,"[]=",a.to_a(z)),z[c(z.length,1)]),(f=x["$has_key?"]("option"))===
b||null==f||f.$$is_boolean&&1!=f||(q(F=x["$[]"]("option"),"each",[],(p=function(e){null==e&&(e=b);z=[""+e+"-option",""];q(d,"[]=",a.to_a(z));return z[c(z.length,1)]},p.$$s=this,p.$$arity=1,p)),z=(f=y=d["$[]"]("options"))===b||null==f||f.$$is_boolean&&1!=f?["options",k(F,",")]:["options",k(h(F,y.$split(",")),",")],q(d,"[]=",a.to_a(z)),z[c(z.length,1)]));return[t,r]},Ia.$$arity=-2);a.defs(n,"$adjust_indentation!",P=function(d,e,f){var m,n,p,r,u,v,x,w=this,D=b,z=b,F=b;null==e&&(e=0);null==f&&(f=0);if((m=
d["$empty?"]())!==b&&null!=m&&(!m.$$is_boolean||1==m))return b;(m=(n=l(f=f.$to_i(),0),!1!==n&&n!==b&&null!=n?d.$join()["$include?"](a.const_get(A,"TAB",!0,!0)):n))===b||null==m||m.$$is_boolean&&1!=m||(D=k(" ",f),q(d,"map!",[],(p=function(d){var e=p.$$s||this,l,m,n,r=b;null==d&&(d=b);if((l=d["$empty?"]())!==b&&null!=l&&(!l.$$is_boolean||1==l))return d;(l=d["$start_with?"](a.const_get(A,"TAB",!0,!0)))===b||null==l||l.$$is_boolean&&1!=l||(d=q(d,"sub",[a.const_get(A,"TabIndentRx",!0,!0)],(m=function(a){null==
a&&(a=b);return k(D,a.$length())},m.$$s=e,m.$$arity=1,m)));if((l=d["$include?"](a.const_get(A,"TAB",!0,!0)))===b||null==l||l.$$is_boolean&&1!=l)return d;r=0;return d=q(d,"gsub",[a.const_get(A,"TabRx",!0,!0)],(n=function(){var a=b,d=b;null==B["~"]&&(B["~"]=b);if((a=h(B["~"].$begin(0),r))["$%"](f)["$=="](0))return r=h(r,c(f,1)),D;(d=c(f,a["$%"](f)))["$=="](1)||(r=h(r,c(d,1)));return k(" ",d)},n.$$s=e,n.$$arity=0,n))},p.$$s=w,p.$$arity=1,p)));if((m=(n=!1!==e&&e!==b&&null!=e)?l(e=e.$to_i(),-1):e)===b||
null==m||m.$$is_boolean&&1!=m)return b;z=b;(function(){var e=a.new_brk();try{return q(d,"each",[],(r=function(d){var f,h=b;null==d&&(d=b);if((f=d["$empty?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f))return b;if((h=c(d.$length(),d.$lstrip().$length()))["$=="](0))z=b,a.brk(b,e);else return(f=!1!==z&&z!==b&&null!=z?l(h,z):z)===b||null==f||f.$$is_boolean&&1!=f?z=h:b},r.$$s=w,r.$$brk=e,r.$$arity=1,r))}catch(f){if(f===e)return f.$v;throw f;}})();e["$=="](0)?!1!==z&&z!==b&&null!=z&&q(d,"map!",[],(u=function(c){var d;
null==c&&(c=b);return(d=c["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?c["$[]"](a.Range.$new(z,-1,!1)):c},u.$$s=w,u.$$arity=1,u)):(F=k(" ",e),!1!==z&&z!==b&&null!=z?q(d,"map!",[],(v=function(c){var d;null==c&&(c=b);return(d=c["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?h(F,c["$[]"](a.Range.$new(z,-1,!1))):c},v.$$s=w,v.$$arity=1,v)):q(d,"map!",[],(x=function(a){var c;null==a&&(a=b);return(c=a["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c?h(F,a):a},x.$$s=w,x.$$arity=1,x)));return b},P.$$arity=
-2);a.defs(n,"$sanitize_attribute_name",Ja=function(b){return b.$gsub(a.const_get(A,"InvalidAttributeNameCharsRx",!0,!0),"").$downcase()},Ja.$$arity=1);return a.defs(n,"$roman_numeral_to_int",La=function(d){var e,k=b,m=b;d=d.$downcase();k=w(["i","v","x"],{i:1,v:5,x:10});m=0;q(a.Range.$new(0,c(d.$length(),1),!1),"each",[],(e=function(e){var n,q,p=b;null==e&&(e=b);p=k["$[]"](d["$[]"](a.Range.$new(e,e,!1)));return(n=(q=f(h(e,1),d.$length()),!1!==q&&q!==b&&null!=q?l(k["$[]"](d["$[]"](a.Range.$new(h(e,
1),h(e,1),!1))),p):q))===b||null==n||n.$$is_boolean&&1!=n?m=h(m,p):m=c(m,p)},e.$$s=this,e.$$arity=1,e));return m},La.$$arity=1)})(u.base,null,fa)}(a.base,p)};Opal.modules["asciidoctor/path_resolver"]=function(a){function c(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}var h=[a],l=a.nil,k=a.module,e=a.klass,d=a.hash2,f=a.range,p=a.send;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $- $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $chomp $uri_prefix $<< $+".split(" "));
return function(b,h){var x=k(b,"Asciidoctor").$$scope,q=h.slice().concat(x);(function(b,$super,h){function k(){}b=k=e(b,$super,"PathResolver",k);var n=b.$$proto,q=b.$$scope,u=h.slice().concat(q),x,v,w,y,B,ca,A,V,W,Q,G;n.file_separator=n._partition_path_web=n._partition_path_sys=n.working_dir=l;a.cdecl(q,"DOT",".");a.cdecl(q,"DOT_DOT","..");a.cdecl(q,"DOT_SLASH","./");a.cdecl(q,"SLASH","/");a.cdecl(q,"BACKSLASH","\\");a.cdecl(q,"DOUBLE_SLASH","//");a.cdecl(q,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);
b.$attr_accessor("file_separator");b.$attr_accessor("working_dir");a.defn(b,"$initialize",x=function(b,c){var e;null==b&&(b=l);null==c&&(c=l);this.file_separator=!1!==b&&b!==l&&null!=b?b:!1!==(e=a.const_get([a.const_get([a.Object.$$scope],"File",!0,!0).$$scope],"ALT_SEPARATOR",!0,!0))&&e!==l&&null!=e?e:a.const_get([a.const_get([a.Object.$$scope],"File",!0,!0).$$scope],"SEPARATOR",!0,!0);this.working_dir=!1!==c&&c!==l&&null!=c?(e=this["$is_root?"](c))===l||null==e||e.$$is_boolean&&1!=e?a.const_get([a.Object.$$scope],
"File",!0,!0).$expand_path(c):c:a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(a.const_get([a.Object.$$scope],"Dir",!0,!0).$pwd());this._partition_path_sys=d([],{});return this._partition_path_web=d([],{})},x.$$arity=-1);a.defn(b,"$is_root?",v=function(b){var c,d,e;return(c=b["$start_with?"](a.const_get(u,"SLASH",!0,!0)))===l||null==c||c.$$is_boolean&&1!=c?(c=this.file_separator["$=="](a.const_get(u,"BACKSLASH",!0,!0))?a.const_get(u,"WindowsRootRx",!0,!0)["$=~"](b):this.file_separator["$=="](a.const_get(u,
"BACKSLASH",!0,!0)))===l||null==c||c.$$is_boolean&&1!=c?(c=(d=(e=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0),!1!==e&&e!==l&&null!=e?a.const_get([a.Object.$$scope],"JAVASCRIPT_PLATFORM",!0,!0)["$=="]("browser"):e),!1!==d&&d!==l&&null!=d?b["$start_with?"]("file://"):d))===l||null==c||c.$$is_boolean&&1!=c?!1:!0:!0:!0},v.$$arity=1);a.defn(b,"$is_unc?",w=function(b){return b["$start_with?"](a.const_get(u,"DOUBLE_SLASH",!0,!0))},w.$$arity=1);a.defn(b,"$is_web_root?",y=function(b){return b["$start_with?"](a.const_get(u,
"SLASH",!0,!0))},y.$$arity=1);a.defn(b,"$posixfy",B=function(b){var c;return(c=b["$nil_or_empty?"]())===l||null==c||c.$$is_boolean&&1!=c?(c=b["$include?"](a.const_get(u,"BACKSLASH",!0,!0)))===l||null==c||c.$$is_boolean&&1!=c?b:b.$tr(a.const_get(u,"BACKSLASH",!0,!0),a.const_get(u,"SLASH",!0,!0)):""},B.$$arity=1);a.defn(b,"$expand_path",ca=function(b){var c,d=l;c=l;b=this.$partition_path(b);c=a.to_ary(b);d=null==c[0]?l:c[0];c=null==c[1]?l:c[1];b;return this.$join_path(d,c)},ca.$$arity=1);a.defn(b,"$partition_path",
A=function(b,c){var d,e=l,g=e=l,h=l,e=l;null==c&&(c=!1);if((d=e=!1!==c&&c!==l&&null!=c?this._partition_path_web["$[]"](b):this._partition_path_sys["$[]"](b))!==l&&null!=d&&(!d.$$is_boolean||1==d))return e;e=this.$posixfy(b);g=!1!==c&&c!==l&&null!=c?(d=this["$is_web_root?"](e))===l||null==d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](a.const_get(u,"DOT_SLASH",!0,!0)))===l||null==d||d.$$is_boolean&&1!=d?l:a.const_get(u,"DOT_SLASH",!0,!0):a.const_get(u,"SLASH",!0,!0):(d=this["$is_root?"](e))===l||null==
d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](a.const_get(u,"DOT_SLASH",!0,!0)))===l||null==d||d.$$is_boolean&&1!=d?l:a.const_get(u,"DOT_SLASH",!0,!0):(d=this["$is_unc?"](e))===l||null==d||d.$$is_boolean&&1!=d?(d=e["$start_with?"](a.const_get(u,"SLASH",!0,!0)))===l||null==d||d.$$is_boolean&&1!=d?e["$[]"](a.Range.$new(0,e.$index(a.const_get(u,"SLASH",!0,!0)),!1)):a.const_get(u,"SLASH",!0,!0):a.const_get(u,"DOUBLE_SLASH",!0,!0);h=e.$split(a.const_get(u,"SLASH",!0,!0));g["$=="](a.const_get(u,"DOUBLE_SLASH",
!0,!0))?h=h["$[]"](f(2,-1,!1)):!1!==g&&g!==l&&null!=g&&h.$shift();h.$delete(a.const_get(u,"DOT",!0,!0));e=[b,[h,g,e]];p(!1!==c&&c!==l&&null!=c?this._partition_path_web:this._partition_path_sys,"[]=",a.to_a(e));d=e;e=e.length;e="number"===typeof e?e-1:e["$-"](1);return d[e]},A.$$arity=-2);a.defn(b,"$join_path",V=function(b,d){null==d&&(d=l);return!1!==d&&d!==l&&null!=d?""+d+c(b,a.const_get(u,"SLASH",!0,!0)):c(b,a.const_get(u,"SLASH",!0,!0))},V.$$arity=-2);a.defn(b,"$system_path",W=function(b,c,e,f){var g,
h,k,n=l,q=l,v=l,x=l,w=l,A=w=v=l,y=l;null==e&&(e=l);null==f&&(f=d([],{}));!1!==e&&e!==l&&null!=e&&(((g=this["$is_root?"](e))===l||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.const_get([a.Object.$$scope],"SecurityError",!0,!0),"Jail is not an absolute path: "+e),e=this.$posixfy(e));(g=b["$nil_or_empty?"]())===l||null==g||g.$$is_boolean&&1!=g?(h=this.$partition_path(b),g=a.to_ary(h),n=null==g[0]?l:g[0],q=null==g[1]?l:g[1],h):n=[];if((g=n["$empty?"]())!==l&&null!=g&&(!g.$$is_boolean||1==g))if((g=c["$nil_or_empty?"]())===
l||null==g||g.$$is_boolean&&1!=g){if((g=this["$is_root?"](c))===l||null==g||g.$$is_boolean&&1!=g)return this.$system_path(c,e,e,f);if(!1===e||e===l||null==e)return this.$expand_path(c)}else return!1!==e&&e!==l&&null!=e?e:this.working_dir;if(!((g=(h=!1!==q&&q!==l&&null!=q)?q["$!="](a.const_get(u,"DOT_SLASH",!0,!0)):q)===l||null==g||g.$$is_boolean&&1!=g||(v=this.$join_path(n,q),(g=!1!==(h=e["$!"]())&&h!==l&&null!=h?h:v["$start_with?"](e))===l||null==g||g.$$is_boolean&&1!=g)))return v;c=(g=c["$nil_or_empty?"]())===
l||null==g||g.$$is_boolean&&1!=g?(g=this["$is_root?"](c))===l||null==g||g.$$is_boolean&&1!=g?this.$system_path(c,e,e,f):this.$posixfy(c):!1!==e&&e!==l&&null!=e?e:this.working_dir;e["$=="](c)?(h=this.$partition_path(e),g=a.to_ary(h),x=null==g[0]?l:g[0],w=null==g[1]?l:g[1],h,v=x.$dup()):(!1!==e&&e!==l&&null!=e?(((g=c["$start_with?"](e))===l||null==g||g.$$is_boolean&&1!=g)&&this.$raise(a.const_get([a.Object.$$scope],"SecurityError",!0,!0),""+(!1!==(g=f["$[]"]("target_name"))&&g!==l&&null!=g?g:"Start path")+
" "+c+" is outside of jail: "+e+" (disallowed in safe mode)"),h=this.$partition_path(c),g=a.to_ary(h),v=null==g[0]?l:g[0],w=null==g[1]?l:g[1],h,h=this.$partition_path(e),g=a.to_ary(h),x=null==g[0]?l:g[0]):(h=this.$partition_path(c),g=a.to_ary(h),v=null==g[0]?l:g[0]),w=null==g[1]?l:g[1],h);A=v.$dup();y=!1;p(n,"each",[],(k=function(c){var d=k.$$s||this,g;null==c&&(c=l);if(c["$=="](a.const_get(u,"DOT_DOT",!0,!0))){if(!1!==e&&e!==l&&null!=e){c=A.$length();var h=x.$length();if((g="number"===typeof c&&
"number"===typeof h?c>h:c["$>"](h))===l||null==g||g.$$is_boolean&&1!=g){if((g=(!1!==l&&l!==l&&null!=l?l:f.$fetch("recover",!0))["$!"]())===l||null==g||g.$$is_boolean&&1!=g){if((g=y["$!"]())===l||null==g||g.$$is_boolean&&1!=g)return l;d.$warn("asciidoctor: WARNING: "+(!1!==(g=f["$[]"]("target_name"))&&g!==l&&null!=g?g:"path")+" has illegal reference to ancestor of jail, auto-recovering");return y=!0}return d.$raise(a.const_get([a.Object.$$scope],"SecurityError",!0,!0),""+(!1!==(g=f["$[]"]("target_name"))&&
g!==l&&null!=g?g:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)")}}return A.$pop()}return A.$push(c)},k.$$s=this,k.$$arity=1,k));return this.$join_path(A,w)},W.$$arity=-3);a.defn(b,"$web_path",Q=function(b,c){var d,e,f,g=l,h=l,k=l,n=l;null==c&&(c=l);b=this.$posixfy(b);c=this.$posixfy(c);g=l;if((d=!1!==(e=c["$nil_or_empty?"]())&&e!==l&&null!=e?e:this["$is_web_root?"](b))===l||null==d||d.$$is_boolean&&1!=d)b=""+c.$chomp("/")+a.const_get(u,"SLASH",!0,!0)+b,(d=g=a.const_get(u,
"Helpers",!0,!0).$uri_prefix(b))===l||null==d||d.$$is_boolean&&1!=d||(b=b["$[]"](a.Range.$new(g.$length(),-1,!1)));e=this.$partition_path(b,!0);d=a.to_ary(e);h=null==d[0]?l:d[0];k=null==d[1]?l:d[1];e;n=[];p(h,"each",[],(f=function(b){var c;null==b&&(b=l);return b["$=="](a.const_get(u,"DOT_DOT",!0,!0))?(c=n["$empty?"]())===l||null==c||c.$$is_boolean&&1!=c?n["$[]"](-1)["$=="](a.const_get(u,"DOT_DOT",!0,!0))?n["$<<"](b):n.$pop():(c=!1!==k&&k!==l&&null!=k?k["$!="](a.const_get(u,"DOT_SLASH",!0,!0)):k)===
l||null==c||c.$$is_boolean&&1!=c?n["$<<"](b):l:n["$<<"](b)},f.$$s=this,f.$$arity=1,f));return!1!==g&&g!==l&&null!=g?""+g+this.$join_path(n,k):this.$join_path(n,k)},Q.$$arity=-2);return(a.defn(b,"$relative_path",G=function(b,c){var d,e,f=l;if((d=(e=this["$is_root?"](b),!1!==e&&e!==l&&null!=e?this["$is_root?"](c):e))===l||null==d||d.$$is_boolean&&1!=d)return b;d=c.$chomp(this.file_separator).$length();f="number"===typeof d?d+1:d["$+"](1);return b["$[]"](a.Range.$new(f,-1,!1))},G.$$arity=2),l)&&"relative_path"})(x.base,
null,q)}(a.base,h)};Opal.modules["asciidoctor/reader"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var d=[a],f=a.nil,p=a.module,b=a.klass,n=a.hash2,
x=a.range,q=a.send;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $none? $any? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(d,w){var y=p(d,"Asciidoctor").$$scope,B=w.slice().concat(y);(function(d,$super,e){function p(){}d=p=b(d,$super,"Reader",p);var v=d.$$proto,w=d.$$scope,z=e.slice().concat(w),y,C,A,B,J,Q,G,O,F,L,D,ba,R,na,pa,ja,K,ga,ha,X,ma,ka,sa,wa,xa,ra,va,oa,ta;v.file=v.dir=v.lines=v.process_lines=v.look_ahead=v.eof=v.unescape_next_line=v.lineno=v.path=v.source_lines=f;(function(c,$super,d){function e(){}c=e=b(c,$super,"Cursor",e);var g=c.$$scope;d.slice().concat(g);var h,k;c.$attr_accessor("file");
c.$attr_accessor("dir");c.$attr_accessor("path");c.$attr_accessor("lineno");a.defn(c,"$initialize",h=function(a,b,c,d){null==b&&(b=f);null==c&&(c=f);null==d&&(d=f);this.file=a;this.dir=b;this.path=c;return this.lineno=d},h.$$arity=-2);a.defn(c,"$line_info",k=function(){return""+this.$path()+": line "+this.$lineno()},k.$$arity=0);return a.alias(c,"to_s","line_info")})(w.base,null,z);d.$attr_reader("file");d.$attr_reader("dir");d.$attr_reader("path");d.$attr_reader("lineno");d.$attr_reader("source_lines");
d.$attr_accessor("process_lines");a.defn(d,"$initialize",y=function(b,c,d){var e;null==b&&(b=f);null==c&&(c=f);null==d&&(d=n(["normalize"],{normalize:!1}));if((e=c["$!"]())===f||null==e||e.$$is_boolean&&1!=e)if((e=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](c))===f||null==e||e.$$is_boolean&&1!=e){this.file=c.$file();this.dir=c.$dir();this.path=!1!==(e=c.$path())&&e!==f&&null!=e?e:"<stdin>";if((e=this.file)!==f&&null!=e&&(!e.$$is_boolean||1==e)){if((e=this.dir)===f||null==e||e.$$is_boolean&&
1!=e)this.dir=a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(this.file),this.dir["$=="](".")&&(this.dir=f);if((e=c.$path())===f||null==e||e.$$is_boolean&&1!=e)this.path=a.const_get([a.Object.$$scope],"File",!0,!0).$basename(this.file)}this.lineno=!1!==(e=c.$lineno())&&e!==f&&null!=e?e:1}else this.file=c,c=a.const_get([a.Object.$$scope],"File",!0,!0).$split(this.file),e=a.to_ary(c),this.dir=null==e[0]?f:e[0],this.path=null==e[1]?f:e[1],c,this.lineno=1;else this.file=this.dir=f,this.path="<stdin>",
this.lineno=1;this.lines=!1!==b&&b!==f&&null!=b?this.$prepare_lines(b,d):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1},y.$$arity=-1);a.defn(d,"$prepare_lines",C=function(b,c){var d;null==c&&(c=n([],{}));return(d=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](b))===f||null==d||d.$$is_boolean&&1!=d?(d=c["$[]"]("normalize"))===f||null==d||d.$$is_boolean&&1!=d?b.$dup():a.const_get(z,"Helpers",
!0,!0).$normalize_lines_array(b):(d=c["$[]"]("normalize"))===f||null==d||d.$$is_boolean&&1!=d?b.$split(a.const_get(z,"EOL",!0,!0)):a.const_get(z,"Helpers",!0,!0).$normalize_lines_from_string(b)},C.$$arity=-2);a.defn(d,"$process_line",A=function(a){var b;(b=this.process_lines)===f||null==b||b.$$is_boolean&&1!=b||(this.look_ahead=c(this.look_ahead,1));return a},A.$$arity=1);a.defn(d,"$has_more_lines?",B=function(){var a;return(!1!==(a=this.eof)&&a!==f&&null!=a?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()},
B.$$arity=0);a.defn(d,"$next_line_empty?",J=function(){return this.$peek_line()["$nil_or_empty?"]()},J.$$arity=0);a.defn(d,"$peek_line",Q=function(a){var b,c,d=f;null==a&&(a=!1);if((b=!1!==(c=a)&&c!==f&&null!=c?c:h(this.look_ahead,0))===f||null==b||b.$$is_boolean&&1!=b){if((b=!1!==(c=this.eof)&&c!==f&&null!=c?c:this.lines["$empty?"]())===f||null==b||b.$$is_boolean&&1!=b)return(b=(d=this.$process_line(this.lines["$[]"](0)))["$!"]())===f||null==b||b.$$is_boolean&&1!=b?d:this.$peek_line();this.eof=!0;
this.look_ahead=0;return f}return(b=this.unescape_next_line)===f||null==b||b.$$is_boolean&&1!=b?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](x(1,-1,!1))},Q.$$arity=-1);a.defn(d,"$peek_lines",G=function(b,c){var d,e,g,h=this,k=f,l=f;null==b&&(b=1);null==c&&(c=!0);k=h.look_ahead;l=[];(function(){var e=a.new_brk();try{return q(b,"times",[],(d=function(){var b,g=f;if((b=g=(d.$$s||this).$read_line(c))===f||null==b||b.$$is_boolean&&1!=b)a.brk(f,e);else return l["$<<"](g)},d.$$s=h,d.$$brk=e,d.$$arity=
0,d))}catch(g){if(g===e)return g.$v;throw g;}})();if((e=l["$empty?"]())===f||null==e||e.$$is_boolean&&1!=e)q(l,"reverse_each",[],(g=function(a){var b=g.$$s||this;null==a&&(a=f);return b.$unshift(a)},g.$$s=h,g.$$arity=1,g)),!1!==c&&c!==f&&null!=c&&(h.look_ahead=k);return l},G.$$arity=-1);a.defn(d,"$read_line",O=function(a){var b,c,d;null==a&&(a=!1);return(b=!1!==(c=!1!==(d=a)&&d!==f&&null!=d?d:h(this.look_ahead,0))&&c!==f&&null!=c?c:this["$has_more_lines?"]())===f||null==b||b.$$is_boolean&&1!=b?f:
this.$shift()},O.$$arity=-1);a.defn(d,"$read_lines",F=function(){for(var a,b=f,b=[];(a=this["$has_more_lines?"]())!==f&&null!=a&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b},F.$$arity=0);a.alias(d,"readlines","read_lines");a.defn(d,"$read",L=function(){return l(this.$read_lines(),a.const_get(z,"EOL",!0,!0))},L.$$arity=0);a.defn(d,"$advance",D=function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()},D.$$arity=-1);a.defn(d,"$unshift_line",ba=function(a){this.$unshift(a);
return f},ba.$$arity=1);a.alias(d,"restore_line","unshift_line");a.defn(d,"$unshift_lines",R=function(a){var b;q(a,"reverse_each",[],(b=function(a){var c=b.$$s||this;null==a&&(a=f);return c.$unshift(a)},b.$$s=this,b.$$arity=1,b));return f},R.$$arity=1);a.alias(d,"restore_lines","unshift_lines");a.defn(d,"$replace_next_line",na=function(a){this.$advance();this.$unshift(a);return f},na.$$arity=1);a.alias(d,"replace_line","replace_next_line");a.defn(d,"$skip_blank_lines",pa=function(){var a,b,d=f,e=
f;if((a=this["$eof?"]())!==f&&null!=a&&(!a.$$is_boolean||1==a))return 0;for(d=0;!((b=e=this.$peek_line())===f||null==b||b.$$is_boolean&&1!=b||(b=e["$empty?"]())===f||null==b||b.$$is_boolean&&1!=b);)this.$advance(),d=c(d,1);return d},pa.$$arity=0);a.defn(d,"$skip_comment_lines",ja=function(b){var c,d,e=f,g=f,h=f,k=f,l=f;null==b&&(b=n([],{}));if((c=this["$eof?"]())!==f&&null!=c&&(!c.$$is_boolean||1==c))return[];e=[];for(g=b["$[]"]("include_blank_lines");(d=h=this.$peek_line())!==f&&null!=d&&(!d.$$is_boolean||
1==d);)if((d=(b=!1!==g&&g!==f&&null!=g)?h["$empty?"]():g)===f||null==d||d.$$is_boolean&&1!=d)if((d=(b=k=h["$start_with?"]("//"),!1!==b&&b!==f&&null!=b?l=a.const_get(z,"CommentBlockRx",!0,!0).$match(h):b))===f||null==d||d.$$is_boolean&&1!=d)if((d=!1!==k&&k!==f&&null!=k?a.const_get(z,"CommentLineRx",!0,!0)["$=~"](h):k)===f||null==d||d.$$is_boolean&&1!=d)break;else e["$<<"](this.$shift());else e["$<<"](this.$shift()),q(e,"push",a.to_a(this.$read_lines_until(n(["terminator","read_last_line","skip_processing"],
{terminator:l["$[]"](0),read_last_line:!0,skip_processing:!0}))));else e["$<<"](this.$shift());return e},ja.$$arity=-1);a.defn(d,"$skip_line_comments",K=function(){var b,c,d=f,e=f;if((b=this["$eof?"]())!==f&&null!=b&&(!b.$$is_boolean||1==b))return[];for(d=[];!((c=e=this.$peek_line())===f||null==c||c.$$is_boolean&&1!=c||(c=a.const_get(z,"CommentLineRx",!0,!0)["$=~"](e))===f||null==c||c.$$is_boolean&&1!=c);)d["$<<"](this.$shift());return d},K.$$arity=0);a.defn(d,"$terminate",ga=function(){this.lineno=
c(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return f},ga.$$arity=0);a.defn(d,"$eof?",ha=function(){return this["$has_more_lines?"]()["$!"]()},ha.$$arity=0);a.alias(d,"empty?","eof?");a.defn(d,"$read_lines_until",X=function(b){var c,d,e,g,h=X.$$p,l=h||f,p=f,t=f,u=f,v=f,r=f,m=f,x=f,w=f,D=f,A=f,y=f;null==b&&(b=n([],{}));h&&(X.$$p=null);p=[];(c=b["$[]"]("skip_first_line"))===f||null==c||c.$$is_boolean&&1!=c||this.$advance();(c=(d=this.process_lines,!1!==d&&d!==
f&&null!=d?b["$[]"]("skip_processing"):d))===f||null==c||c.$$is_boolean&&1!=c?t=!1:(this.process_lines=!1,t=!0);(c=u=b["$[]"]("terminator"))===f||null==c||c.$$is_boolean&&1!=c?(v=b["$[]"]("break_on_blank_lines"),r=b["$[]"]("break_on_list_continuation")):r=v=!1;m=b["$[]"]("skip_line_comments");for(D=w=x=!1;(d=(e=D["$!"](),!1!==e&&e!==f&&null!=e?A=this.$read_line():e))!==f&&null!=d&&(!d.$$is_boolean||1==d);)if(D=function(){for(;(e=!0)!==f&&null!=e&&(!e.$$is_boolean||1==e);)return((e=(g=!1!==u&&u!==
f&&null!=u)?A["$=="](u):u)===f||null==e||e.$$is_boolean&&1!=e)&&((e=(g=!1!==v&&v!==f&&null!=v)?A["$empty?"]():v)===f||null==e||e.$$is_boolean&&1!=e)?(e=(g=!1!==r&&r!==f&&null!=r?x:r,!1!==g&&g!==f&&null!=g?A["$=="](a.const_get(z,"LIST_CONTINUATION",!0,!0)):g))===f||null==e||e.$$is_boolean&&1!=e?(e=(g=l!==f)?a.yield1(l,A):l!==f)===f||null==e||e.$$is_boolean&&1!=e?!1:!0:(y=["preserve_last_line",!0],q(b,"[]=",a.to_a(y)),y[k(y.length,1)],!0):!0;return f}(),!1!==D&&D!==f&&null!=D)(d=b["$[]"]("read_last_line"))===
f||null==d||d.$$is_boolean&&1!=d||(p["$<<"](A),x=!0),(d=b["$[]"]("preserve_last_line"))===f||null==d||d.$$is_boolean&&1!=d||(this.$unshift(A),w=!0);else if((d=(e=(g=!1!==m&&m!==f&&null!=m)?A["$start_with?"]("//"):m,!1!==e&&e!==f&&null!=e?a.const_get(z,"CommentLineRx",!0,!0)["$=~"](A):e))===f||null==d||d.$$is_boolean&&1!=d)p["$<<"](A),x=!0;!1!==t&&t!==f&&null!=t&&(this.process_lines=!0,(c=(d=!1!==w&&w!==f&&null!=w)?u["$!"]():w)===f||null==c||c.$$is_boolean&&1!=c||(this.look_ahead=k(this.look_ahead,
1)));return p},X.$$arity=-1);a.defn(d,"$shift",ma=function(){this.lineno=c(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=k(this.look_ahead,1));return this.lines.$shift()},ma.$$arity=0);a.defn(d,"$unshift",ka=function(a){this.lineno=k(this.lineno,1);this.look_ahead=c(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)},ka.$$arity=1);a.defn(d,"$cursor",sa=function(){return a.const_get(z,"Cursor",!0,!0).$new(this.file,this.dir,this.path,this.lineno)},sa.$$arity=0);a.defn(d,"$line_info",
wa=function(){return""+this.path+": line "+this.lineno},wa.$$arity=0);a.alias(d,"next_line_info","line_info");a.defn(d,"$prev_line_info",xa=function(){return""+this.path+": line "+k(this.lineno,1)},xa.$$arity=0);a.defn(d,"$lines",ra=function(){return this.lines.$dup()},ra.$$arity=0);a.defn(d,"$string",va=function(){return l(this.lines,a.const_get(z,"EOL",!0,!0))},va.$$arity=0);a.defn(d,"$source",oa=function(){return l(this.source_lines,a.const_get(z,"EOL",!0,!0))},oa.$$arity=0);return(a.defn(d,"$to_s",
ta=function(){return this.$line_info()},ta.$$arity=0),f)&&"to_s"})(y.base,null,B);(function(d,$super,p){function w(){}d=w=b(d,$super,"PreprocessorReader",w);var v=d.$$proto,z=d.$$scope,y=p.slice().concat(z),C,B,A,V,J,Q,G,O,F,L,D,ba,R,na,pa;v.document=v.lineno=v.process_lines=v.look_ahead=v.skipping=v.include_stack=v.conditional_stack=v.path=v.include_processor_extensions=v.maxdepth=v.dir=v.lines=v.file=v.includes=v.unescape_next_line=f;d.$attr_reader("include_stack");d.$attr_reader("includes");a.defn(d,
"$initialize",C=function(b,c,d){var e,g,h,k=C.$$p,l=f;null==c&&(c=f);null==d&&(d=f);k&&(C.$$p=null);this.document=b;q(this,a.find_super_dispatcher(this,"initialize",C,!1),[c,d,n(["normalize"],{normalize:!0})],null);l=b.$attributes().$fetch("max-include-depth",64).$to_i();(e="number"===typeof l?0>l:l["$<"](0))===f||null==e||e.$$is_boolean&&1!=e||(l=0);this.maxdepth=n(["abs","rel"],{abs:l,rel:l});this.include_stack=[];this.includes=(e="includes",g=b.$references(),!1!==(h=g["$[]"](e))&&h!==f&&null!=
h?h:g["$[]="](e,[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=f},C.$$arity=-2);a.defn(d,"$prepare_lines",B=function(b,d){var e,h,p,u=B.$$p,v=f,x=f,w=f,z=f,D=f,A=w=v=f;null==d&&(d=n([],{}));u&&(B.$$p=null);w=0;A=arguments.length;for(v=Array(A);w<A;w++)v[w]=arguments[w];v=q(this,a.find_super_dispatcher(this,"prepare_lines",B,!1),v,u);(e=(h=this.document,!1!==h&&h!==f&&null!=h?this.document.$attributes()["$has_key?"]("skip-front-matter"):h))===f||null==e||e.$$is_boolean&&
1!=e||(e=x=this["$skip_front_matter!"](v))===f||null==e||e.$$is_boolean&&1!=e||(w=["front-matter",l(x,a.const_get(y,"EOL",!0,!0))],q(this.document.$attributes(),"[]=",a.to_a(w)),w[k(w.length,1)]);if((e=d.$fetch("condense",!0))!==f&&null!=e&&(!e.$$is_boolean||1==e)){for(;(h=(p=z=v["$[]"](0),!1!==p&&p!==f&&null!=p?z["$empty?"]():p))!==f&&null!=h&&(!h.$$is_boolean||1==h);)h=v.$shift(),!1!==h&&h!==f&&null!=h?this.lineno=c(this.lineno,1):h;for(;(h=(p=D=v["$[]"](-1),!1!==p&&p!==f&&null!=p?D["$empty?"]():
p))!==f&&null!=h&&(!h.$$is_boolean||1==h);)v.$pop()}if((e=d["$[]"]("indent"))!==f&&null!=e&&(!e.$$is_boolean||1==e))a.const_get(y,"Parser",!0,!0)["$adjust_indentation!"](v,d["$[]"]("indent"),this.document.$attr("tabsize"));return v},B.$$arity=-2);a.defn(d,"$process_line",A=function(b){var d,e,h,k=f,l=f;if((d=this.process_lines)===f||null==d||d.$$is_boolean&&1!=d)return b;if((d=b["$empty?"]())!==f&&null!=d&&(!d.$$is_boolean||1==d))return this.look_ahead=c(this.look_ahead,1),"";if((d=(e=(h=b["$end_with?"]("]"),
!1!==h&&h!==f&&null!=h?b["$start_with?"]("[")["$!"]():h),!1!==e&&e!==f&&null!=e?b["$include?"]("::"):e))===f||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===f||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=c(this.look_ahead,1),b;this.$advance();return f}if((d=(e=b["$include?"]("if"),!1!==e&&e!==f&&null!=e?k=a.const_get(y,"ConditionalDirectiveRx",!0,!0).$match(b):e))===f||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===f||null==d||d.$$is_boolean&&1!=d)return(d=(e=!1!==(h=l=b["$start_with?"]("\\include::"))&&
h!==f&&null!=h?h:b["$start_with?"]("include::"),!1!==e&&e!==f&&null!=e?k=a.const_get(y,"IncludeDirectiveRx",!0,!0).$match(b):e))===f||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=c(this.look_ahead,1),b):!1!==l&&l!==f&&null!=l?(this.unescape_next_line=!0,this.look_ahead=c(this.look_ahead,1),b["$[]"](x(1,-1,!1))):(d=this.$preprocess_include(k["$[]"](1),k["$[]"](2).$strip()))===f||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=c(this.look_ahead,1),b):f;this.$advance();return f}if((d=b["$start_with?"]("\\"))===
f||null==d||d.$$is_boolean&&1!=d){if((d=q(this,"preprocess_conditional_inclusion",a.to_a(k.$captures())))===f||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=c(this.look_ahead,1),b;this.$advance();return f}this.unescape_next_line=!0;this.look_ahead=c(this.look_ahead,1);return b["$[]"](x(1,-1,!1))},A.$$arity=1);a.defn(d,"$peek_line",V=function(b){var c,d=V.$$p,e=f,g=e=f,h=f;null==b&&(b=!1);d&&(V.$$p=null);g=0;h=arguments.length;for(e=Array(h);g<h;g++)e[g]=arguments[g];return(c=e=q(this,a.find_super_dispatcher(this,
"peek_line",V,!1),e,d))===f||null==c||c.$$is_boolean&&1!=c?(c=this.include_stack["$empty?"]())===f||null==c||c.$$is_boolean&&1!=c?(this.$pop_include(),this.$peek_line(b)):f:e},V.$$arity=-1);a.defn(d,"$preprocess_conditional_inclusion",J=function(b,c,d,e){var g,k,l,p,t,u,v,x,w=f,z=w=f,D=f,A=D=z=w=f,z=f;if((g=!1!==(k=(l=!1!==(p=b["$=="]("ifdef"))&&p!==f&&null!=p?p:b["$=="]("ifndef"),!1!==l&&l!==f&&null!=l?c["$empty?"]():l))&&k!==f&&null!=k?k:(l=b["$=="]("endif"))?e:b["$=="]("endif"))!==f&&null!=g&&
(!g.$$is_boolean||1==g))return!1;c=c.$downcase();if(b["$=="]("endif"))return w=this.conditional_stack.$size(),(g=h(w,0))===f||null==g||g.$$is_boolean&&1!=g?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+c+"[]"):(w=this.conditional_stack["$[]"](-1),(g=!1!==(k=c["$empty?"]())&&k!==f&&null!=k?k:c["$=="](w["$[]"]("target")))===f||null==g||g.$$is_boolean&&1!=g?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+c+"[], expected endif::"+w["$[]"]("target")+
"[]"):(this.conditional_stack.$pop(),this.skipping=(g=this.conditional_stack["$empty?"]())===f||null==g||g.$$is_boolean&&1!=g?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)),!0;z=!1;if((g=this.skipping)===f||null==g||g.$$is_boolean&&1!=g)if(D=b,"ifdef"["$==="](D))D=d,f["$==="](D)?z=this.document.$attributes()["$has_key?"](c)["$!"]():","["$==="](D)?z=q(c.$split(","),"none?",[],(t=function(a){var b=t.$$s||this;null==b.document&&(b.document=f);null==a&&(a=f);return b.document.$attributes()["$has_key?"](a)},
t.$$s=this,t.$$arity=1,t)):"+"["$==="](D)&&(z=q(c.$split("+"),"any?",[],(u=function(a){var b=u.$$s||this;null==b.document&&(b.document=f);null==a&&(a=f);return b.document.$attributes()["$has_key?"](a)["$!"]()},u.$$s=this,u.$$arity=1,u)));else if("ifndef"["$==="](D))D=d,f["$==="](D)?z=this.document.$attributes()["$has_key?"](c):","["$==="](D)?z=q(c.$split(","),"none?",[],(v=function(a){var b=v.$$s||this;null==b.document&&(b.document=f);null==a&&(a=f);return b.document.$attributes()["$has_key?"](a)["$!"]()},
v.$$s=this,v.$$arity=1,v)):"+"["$==="](D)&&(z=q(c.$split("+"),"any?",[],(x=function(a){var b=x.$$s||this;null==b.document&&(b.document=f);null==a&&(a=f);return b.document.$attributes()["$has_key?"](a)},x.$$s=this,x.$$arity=1,x)));else if("ifeval"["$==="](D)){if((g=!1!==(k=c["$empty?"]()["$!"]())&&k!==f&&null!=k?k:(w=a.const_get(y,"EvalExpressionRx",!0,!0).$match(e.$strip()))["$!"]())!==f&&null!=g&&(!g.$$is_boolean||1==g))return!1;z=this.$resolve_expr_val(w["$[]"](1));D=this.$resolve_expr_val(w["$[]"](3));
z=(A=w["$[]"](2))["$=="]("!=")?z.$send("==",D):z.$send(A.$to_sym(),D)["$!"]()}if((g=!1!==(k=b["$=="]("ifeval"))&&k!==f&&null!=k?k:e["$!"]())!==f&&null!=g&&(!g.$$is_boolean||1==g))!1!==z&&z!==f&&null!=z&&(this.skipping=!0),this.conditional_stack["$<<"](n(["target","skip","skipping"],{target:c,skip:z,skipping:this.skipping}));else if((g=!1!==(k=this.skipping)&&k!==f&&null!=k?k:z)===f||null==g||g.$$is_boolean&&1!=g)z=this.$peek_line(!0),this.$replace_next_line(e.$rstrip()),this.$unshift(z);return!0},
J.$$arity=4);a.defn(d,"$preprocess_include",Q=function(b,d){var p,u,v,x,w,z,D,A,F=this,C=f,B=f,G=f,E=G=f,L=f,H=f,Q=f,O=f,V=f,J=f,W=f,ba=f,R=f,ca=f,r=f;if((p=(C=F.document.$sub_attributes(b,n(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===f||null==p||p.$$is_boolean&&1!=p){if((p=(u=F["$include_processors?"](),!1!==u&&u!==f&&null!=u?B=q(F.include_processor_extensions,"find",[],(v=function(a){null==a&&(a=f);return a.$instance()["$handles?"](C)},v.$$s=F,v.$$arity=1,v)):u))===
f||null==p||p.$$is_boolean&&1!=p){if((p=e(F.document.$safe(),a.const_get([a.const_get(y,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)))===f||null==p||p.$$is_boolean&&1!=p){if((p=h(G=F.maxdepth["$[]"]("abs"),0))===f||null==p||p.$$is_boolean&&1!=p)return!1;if((p=e(F.include_stack.$size(),G))!==f&&null!=p&&(!p.$$is_boolean||1==p))return F.$warn("asciidoctor: ERROR: "+F.$line_info()+": maximum include depth of "+F.maxdepth["$[]"]("rel")+" exceeded"),!1;if((p=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",
!0,!0))===f||null==p||p.$$is_boolean&&1!=p)if((p=a.const_get(y,"Helpers",!0,!0)["$uriish?"](C))===f||null==p||p.$$is_boolean&&1!=p){G="file";E=F.document.$normalize_system_path(C,F.dir,f,n(["target_name"],{target_name:"include file"}));if((p=a.const_get([a.Object.$$scope],"File",!0,!0)["$file?"](E))===f||null==p||p.$$is_boolean&&1!=p)return F.$warn("asciidoctor: WARNING: "+F.$line_info()+": include file not found: "+E),F.$replace_next_line("Unresolved directive in "+F.path+" - include::"+C+"["+d+
"]"),!0;L=a.const_get(y,"PathResolver",!0,!0).$new().$relative_path(E,F.document.$base_dir())}else{if((p=F.document.$attributes()["$has_key?"]("allow-uri-read"))===f||null==p||p.$$is_boolean&&1!=p)return F.$replace_next_line("link:"+C+"[]"),!0;G="uri";E=L=C;(p=F.document.$attributes()["$has_key?"]("cache-uri"))===f||null==p||p.$$is_boolean&&1!=p?(p=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]())===f||null==p||p.$$is_boolean&&1!=p||a.const_get([a.Object.$$scope],"OpenURI",!0,!0):
((p=(x=a.const_get([a.Object.$$scope],"OpenURI",!0,!1))&&x.$$scope&&(u=a.const_get([x.$$scope],"Cache",!0,!1))?"constant":f)===f||null==p||p.$$is_boolean&&1!=p)&&a.const_get(y,"Helpers",!0,!0).$require_library("open-uri/cached","open-uri-cached")}else G="file",E=L=(p=F.include_stack["$empty?"]())===f||null==p||p.$$is_boolean&&1!=p?a.const_get([a.Object.$$scope],"File",!0,!0).$join(F.dir,C):a.const_get([a.Object.$$scope],"Dir",!0,!0).$pwd()["$=="](F.document.$base_dir())?C:a.const_get([a.Object.$$scope],
"File",!0,!0).$join(F.dir,C);Q=H=f;O=n([],{});(p=d["$empty?"]()["$!"]())===f||null==p||p.$$is_boolean&&1!=p||(O=a.const_get(y,"AttributeList",!0,!0).$new(d).$parse(),(p=O["$has_key?"]("lines"))===f||null==p||p.$$is_boolean&&1!=p?(p=O["$has_key?"]("tag"))===f||null==p||p.$$is_boolean&&1!=p?(p=O["$has_key?"]("tags"))===f||null==p||p.$$is_boolean&&1!=p||(Q=O["$[]"]("tags").$split(a.const_get(y,"DataDelimiterRx",!0,!0)).$to_set()):Q=[O["$[]"]("tag")].$to_set():(H=[],q(O["$[]"]("lines").$split(a.const_get(y,
"DataDelimiterRx",!0,!0)),"each",[],(w=function(b){var c,d=f,e=f;null==b&&(b=f);if((c=b["$include?"](".."))===f||null==c||c.$$is_boolean&&1!=c)return H["$<<"](b.$to_i());b=q(b.$split("..",2),"map",[],"to_i".$to_proc());c=a.to_ary(b);d=null==c[0]?f:c[0];e=null==c[1]?f:c[1];b;return e["$=="](-1)?(H["$<<"](d),H["$<<"](1/0)):H.$concat(a.const_get([a.Object.$$scope],"Range",!0,!0).$new(d,e).$to_a())},w.$$s=F,w.$$arity=1,w)),H=H.$sort().$uniq()));if(!1!==H&&H!==f&&null!=H){if((p=H["$empty?"]())===f||null==
p||p.$$is_boolean&&1!=p){V=[];W=J=0;try{(function(){var b=a.new_brk();try{return q(F,"open",[E,"r"],(z=function(b){var d=z.$$s||this,e;null==b&&(b=f);return function(){var h=a.new_brk();try{return q(b,"each_line",[],(e=function(d){var e,k,l=f;null==d&&(d=f);W=c(W,1);l=H["$[]"](0);if((e=(k=a.const_get([a.Object.$$scope],"Float",!0,!0)["$==="](l),!1!==k&&k!==f&&null!=k?l["$infinite?"]():k))===f||null==e||e.$$is_boolean&&1!=e){b.$lineno()["$=="](l)&&(V.$push(d),J["$=="](0)&&(J=W),H.$shift());if((e=H["$empty?"]())===
f||null==e||e.$$is_boolean&&1!=e)return f;a.brk(f,h)}else return V.$push(d),J["$=="](0)?J=W:f},e.$$s=d,e.$$brk=h,e.$$arity=1,e))}catch(k){if(k===h)return k.$v;throw k;}}()},z.$$s=F,z.$$brk=b,z.$$arity=1,z))}catch(d){if(d===b)return d.$v;throw d;}})()}catch(m){if(a.rescue(m,[a.const_get(y,"StandardError",!0,!0)]))try{return F.$warn("asciidoctor: WARNING: "+F.$line_info()+": include "+G+" not readable: "+E),F.$replace_next_line("Unresolved directive in "+F.path+" - include::"+C+"["+d+"]"),!0}finally{a.pop_exception()}else throw m;
}F.$advance();F.$push_include(V,E,L,J,O)}}else if(!1!==Q&&Q!==f&&null!=Q){if((p=Q["$empty?"]())===f||null==p||p.$$is_boolean&&1!=p){V=[];W=J=0;ba=f;R=a.const_get([a.Object.$$scope],"Set",!0,!0).$new();try{(function(){var b=a.new_brk();try{return q(F,"open",[E,"r"],(D=function(b){var d=D.$$s||this,e;null==b&&(b=f);return function(){var h=a.new_brk();try{return q(b,"each_line",[],(e=function(b){var d=e.$$s||this,h,k,l,m=f;null==b&&(b=f);W=c(W,1);(h=a.const_get(y,"FORCE_ENCODING",!0,!0))===f||null==
h||h.$$is_boolean&&1!=h||b.$force_encoding(a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0));b=b.$rstrip();m=b.$chomp("--\x3e").$rstrip();return!1!==ba&&ba!==f&&null!=ba?(h=m["$end_with?"]("end::"+ba+"[]"))===f||null==h||h.$$is_boolean&&1!=h?(((h=(k=m["$end_with?"]("[]"),!1!==k&&k!==f&&null!=k?a.const_get(y,"TagDirectiveRx",!0,!0)["$=~"](m):k))===f||null==h||h.$$is_boolean&&1!=h)&&V.$push(b),J["$=="](0)?J=W:f):ba=f:(h=(k=m["$end_with?"]("[]"),!1!==k&&k!==f&&null!=
k?a.const_get(y,"TagDirectiveRx",!0,!0)["$=~"](m):k))===f||null==h||h.$$is_boolean&&1!=h?f:function(){var b=a.new_brk();try{return q(Q,"each",[],(l=function(c){var d;null==c&&(c=f);if((d=m["$end_with?"]("tag::"+c+"[]"))===f||null==d||d.$$is_boolean&&1!=d)return f;ba=c;R["$<<"](c);a.brk(f,b)},l.$$s=d,l.$$brk=b,l.$$arity=1,l))}catch(c){if(c===b)return c.$v;throw c;}}()},e.$$s=d,e.$$brk=h,e.$$arity=1,e))}catch(k){if(k===h)return k.$v;throw k;}}()},D.$$s=F,D.$$brk=b,D.$$arity=1,D))}catch(d){if(d===b)return d.$v;
throw d;}})()}catch(m){if(a.rescue(m,[a.const_get(y,"StandardError",!0,!0)]))try{return F.$warn("asciidoctor: WARNING: "+F.$line_info()+": include "+G+" not readable: "+E),F.$replace_next_line("Unresolved directive in "+F.path+" - include::"+C+"["+d+"]"),!0}finally{a.pop_exception()}else throw m;}((p=(ca=k(Q.$to_a(),R.$to_a()))["$empty?"]())===f||null==p||p.$$is_boolean&&1!=p)&&F.$warn("asciidoctor: WARNING: "+F.$line_info()+": tag"+((p=h(ca.$size(),1))===f||null==p||p.$$is_boolean&&1!=p?f:"s")+" '"+
l(ca,",")+"' not found in include "+G+": "+E);F.$advance();F.$push_include(V,E,L,J,O)}}else try{r=q(F,"open",[E,"r"],(A=function(a){null==a&&(a=f);return a.$read()},A.$$s=F,A.$$arity=1,A)),F.$advance(),F.$push_include(r,E,L,1,O)}catch(m){if(a.rescue(m,[a.const_get(y,"StandardError",!0,!0)]))try{F.$warn("asciidoctor: WARNING: "+F.$line_info()+": include "+G+" not readable: "+E),F.$replace_next_line("Unresolved directive in "+F.path+" - include::"+C+"["+d+"]")}finally{a.pop_exception()}else throw m;
}return!0}F.$replace_next_line("link:"+C+"[]");return!0}F.$advance();B.$process_method()["$[]"](F.document,F,C,a.const_get(y,"AttributeList",!0,!0).$new(d).$parse());return!0}F.$advance();F.document.$attributes().$fetch("attribute-missing",a.const_get(y,"Compliance",!0,!0).$attribute_missing())["$=="]("skip")&&F.$unshift("Unresolved directive in "+F.path+" - include::"+b+"["+d+"]");return!0},Q.$$arity=2);a.defn(d,"$push_include",G=function(b,d,e,h,l){var p,q=f,t=f;null==d&&(d=f);null==e&&(e=f);null==
h&&(h=1);null==l&&(l=n([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);!1!==d&&d!==f&&null!=d?(this.file=d,this.dir=a.const_get(y,"File",!0,!0).$dirname(d),this.process_lines=a.const_get(y,"ASCIIDOC_EXTENSIONS",!0,!0)["$[]"](a.const_get([a.Object.$$scope],"File",!0,!0).$extname(d))):(this.file=f,this.dir=".",this.process_lines=!0);!1!==e&&e!==f&&null!=e?(this.includes["$<<"](a.const_get(y,"Helpers",!0,!0).$rootname(e)),d=e):
d="<stdin>";this.path=d;this.lineno=h;(p=l["$has_key?"]("depth"))===f||null==p||p.$$is_boolean&&1!=p||(q=l["$[]"]("depth").$to_i(),(p="number"===typeof q?0>=q:q["$<="](0))===f||null==p||p.$$is_boolean&&1!=p||(q=1),this.maxdepth=n(["abs","rel"],{abs:c(k(this.include_stack.$size(),1),q),rel:q}));(p=(this.lines=this.$prepare_lines(b,n(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:l["$[]"]("indent")})))["$empty?"]())===f||null==p||p.$$is_boolean&&1!=p?((p=l["$has_key?"]("leveloffset"))===
f||null==p||p.$$is_boolean&&1!=p||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+l["$[]"]("leveloffset")),this.lines.$push(""),(p=t=this.document.$attr("leveloffset"))===f||null==p||p.$$is_boolean&&1!=p?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+t),this.lineno=k(this.lineno,2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return this},G.$$arity=-2);a.defn(d,"$pop_include",O=function(){var b,c;(b=h(this.include_stack.$size(),0))===f||null==b||b.$$is_boolean&&
1!=b||(c=this.include_stack.$pop(),b=a.to_ary(c),this.lines=null==b[0]?f:b[0],this.file=null==b[1]?f:b[1],this.dir=null==b[2]?f:b[2],this.path=null==b[3]?f:b[3],this.lineno=null==b[4]?f:b[4],this.maxdepth=null==b[5]?f:b[5],this.process_lines=null==b[6]?f:b[6],c,this.eof=this.lines["$empty?"](),this.look_ahead=0);return f},O.$$arity=0);a.defn(d,"$include_depth",F=function(){return this.include_stack.$size()},F.$$arity=0);a.defn(d,"$exceeded_max_depth?",L=function(){var a,b,c=f;return(a=(b=h(c=this.maxdepth["$[]"]("abs"),
0),!1!==b&&b!==f&&null!=b?e(this.include_stack.$size(),c):b))===f||null==a||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")},L.$$arity=0);a.defn(d,"$shift",D=function(){var b,c=D.$$p,d=f,e=f,g=f;c&&(D.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];if((b=this.unescape_next_line)===f||null==b||b.$$is_boolean&&1!=b)return q(this,a.find_super_dispatcher(this,"shift",D,!1),d,c);this.unescape_next_line=!1;return q(this,a.find_super_dispatcher(this,"shift",D,!1),d,c)["$[]"](x(1,
-1,!1))},D.$$arity=0);a.defn(d,"$skip_front_matter!",ba=function(b,d){var e,h,k,l=f,n=f;null==d&&(d=!0);l=f;if(b["$[]"](0)["$=="]("---")){n=b.$dup();l=[];b.$shift();!1!==d&&d!==f&&null!=d&&(this.lineno=c(this.lineno,1));for(;(h=(k=b["$empty?"]()["$!"](),!1!==k&&k!==f&&null!=k?b["$[]"](0)["$!="]("---"):k))!==f&&null!=h&&(!h.$$is_boolean||1==h);)l.$push(b.$shift()),!1!==d&&d!==f&&null!=d&&(this.lineno=c(this.lineno,1));(e=b["$empty?"]())===f||null==e||e.$$is_boolean&&1!=e?(b.$shift(),!1!==d&&d!==f&&
null!=d&&(this.lineno=c(this.lineno,1))):(q(b,"unshift",a.to_a(n)),!1!==d&&d!==f&&null!=d&&(this.lineno=0),l=f)}return l},ba.$$arity=-2);a.defn(d,"$resolve_expr_val",R=function(a){var b,c,d,e=f;(b=!1!==(c=(d=a["$start_with?"]('"'),!1!==d&&d!==f&&null!=d?a["$end_with?"]('"'):d))&&c!==f&&null!=c?c:(d=a["$start_with?"]("'"),!1!==d&&d!==f&&null!=d?a["$end_with?"]("'"):d))===f||null==b||b.$$is_boolean&&1!=b?e=!1:(e=!0,a=a["$[]"](x(1,-1,!0)));(b=a["$include?"]("{"))===f||null==b||b.$$is_boolean&&1!=b||
(a=this.document.$sub_attributes(a,n(["attribute_missing"],{attribute_missing:"drop"})));return!1!==e&&e!==f&&null!=e?a:(b=a["$empty?"]())===f||null==b||b.$$is_boolean&&1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===f||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===f||null==b||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":f},R.$$arity=1);a.defn(d,"$include_processors?",na=function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===f||null==a||
a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==f&&null!=b?this.document.$extensions()["$include_processors?"]():b))===f||null==a||a.$$is_boolean&&1!=a?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()},na.$$arity=0);return(a.defn(d,"$to_s",pa=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+
this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+q(this.include_stack,"map",[],(a=function(a){null==a&&(a=f);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},pa.$$arity=0),f)&&"to_s"})(y.base,a.const_get(B,"Reader",!0,!0),B)}(a.base,d)};Opal.modules["asciidoctor/section"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var l=[a],k=a.nil,
e=a.module,d=a.klass,f=a.send,p=a.hash2,b=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $! $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));return function(l,t){var q=e(l,"Asciidoctor").$$scope,w=t.slice().concat(q);(function(e,$super,l){function n(){}e=n=d(e,$super,"Section",n);var q=e.$$proto,t=e.$$scope,x=l.slice().concat(t),v,w,
y,C,B;q.level=q.document=q.parent=q.number=q.title=q.numbered=q.blocks=k;e.$attr_accessor("index");e.$attr_accessor("number");e.$attr_accessor("sectname");e.$attr_accessor("special");e.$attr_accessor("numbered");a.defn(e,"$initialize",v=function(b,d,e,l){var n=v.$$p;null==b&&(b=k);null==d&&(d=k);null==e&&(e=!0);null==l&&(l=p([],{}));n&&(v.$$p=null);f(this,a.find_super_dispatcher(this,"initialize",v,!1),[b,"section",l],null);this.level=!1!==d&&d!==k&&null!=d?d:!1!==b&&b!==k&&null!=b?c(b.$level(),1):
1;this.numbered=(d=!1!==e&&e!==k&&null!=e)?h(this.level,0):e;this.special=(d=!1!==b&&b!==k&&null!=b?b.$context()["$=="]("section"):b,!1!==d&&d!==k&&null!=d?b.$special():d);this.index=0;return this.number=1},v.$$arity=-1);a.alias(e,"name","title");a.defn(e,"$generate_id",w=function(){var d,e,f,h=k,l=k,n=k,p=l=k;if((d=this.document.$attributes()["$has_key?"]("sectids"))===k||null==d||d.$$is_boolean&&1!=d)return k;h=!1!==(d=this.document.$attributes()["$[]"]("idseparator"))&&d!==k&&null!=d?d:"_";l=!1!==
(d=this.document.$attributes()["$[]"]("idprefix"))&&d!==k&&null!=d?d:"_";n=""+l+this.$title().$downcase().$gsub(a.const_get(x,"InvalidSectionIdCharsRx",!0,!0),h).$tr_s(h,h).$chomp(h);if((d=(e=(f=l["$empty?"](),!1!==f&&f!==k&&null!=f?h["$empty?"]()["$!"]():f),!1!==e&&e!==k&&null!=e?n["$start_with?"](h):e))!==k&&null!=d&&(!d.$$is_boolean||1==d))for(n=n["$[]"](b(1,-1,!1));(e=n["$start_with?"](h))!==k&&null!=e&&(!e.$$is_boolean||1==e);)n=n["$[]"](b(1,-1,!1));l=n;for(p=a.const_get(x,"Compliance",!0,!0).$unique_id_start_index();(e=
this.document.$references()["$[]"]("ids")["$has_key?"](l))!==k&&null!=e&&(!e.$$is_boolean||1==e);)l=""+n+h+p,p=c(p,1);return l},w.$$arity=0);a.defn(e,"$sectnum",y=function(a,b){var c,d,e,f;null==a&&(a=".");null==b&&(b=k);!1!==(c=b)&&c!==k&&null!=c?c:b=b["$=="](!1)?"":a;return(c=(d=(e=(f=this.level,!1!==f&&f!==k&&null!=f?h(this.level,1):f),!1!==e&&e!==k&&null!=e?this.parent:e),!1!==d&&d!==k&&null!=d?this.parent.$context()["$=="]("section"):d))===k||null==c||c.$$is_boolean&&1!=c?""+this.number+b:""+
this.parent.$sectnum(a)+this.number+b},y.$$arity=-1);a.defn(e,"$<<",C=function(b){var c=C.$$p,d=k,e=k,g=k;c&&(C.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];b.$context()["$=="]("section")&&this.$assign_index(b);return f(this,a.find_super_dispatcher(this,"<<",C,!1),d,c)},C.$$arity=1);return(a.defn(e,"$to_s",B=function(){var b,c=B.$$p,d=k,e=d=k,g=k;c&&(B.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];if((b=this.title["$!="](k))===k||null==b||b.$$is_boolean&&
1!=b)return f(this,a.find_super_dispatcher(this,"to_s",B,!1),d,c);d=(b=this.numbered)===k||null==b||b.$$is_boolean&&1!=b?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+d.$inspect()+", blocks: "+this.blocks.$size()+"}>"},B.$$arity=0),k)&&"to_s"})(q.base,a.const_get(w,"AbstractBlock",!0,!0),w)}(a.base,l)};Opal.modules["asciidoctor/stylesheets"]=function(a){var c=[a],h=a.nil,l=a.module,k=a.klass,e=a.send,d=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $primary_stylesheet_name $write $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $[]= $sub $css $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));
return function(c,g){var b=l(c,"Asciidoctor").$$scope,n=g.slice().concat(b);(function(b,$super,c){function f(){}var g=f=k(b,$super,"Stylesheets",f);b=g.$$proto;var l=g.$$scope,n=c.slice().concat(l),p,t,w,v,y,B,ea,ca,A,V,W,Q,G,O;b.primary_stylesheet_data=b.coderay_stylesheet_data=b.pygments_stylesheet_data=h;a.cdecl(l,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(l,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(l,"STYLESHEETS_DATA_PATH",a.const_get([a.Object.$$scope],"File",!0,!0).$join(a.const_get(n,
"DATA_PATH",!0,!0),"stylesheets"));g.__instance__=g.$new();a.defs(g,"$instance",p=function(){null==this.__instance__&&(this.__instance__=h);return this.__instance__},p.$$arity=0);a.defn(g,"$primary_stylesheet_name",t=function(){return a.const_get(n,"DEFAULT_STYLESHEET_NAME",!0,!0)},t.$$arity=0);a.defn(g,"$primary_stylesheet_data",w=function(){var b;b=l.get("JAVASCRIPT_PLATFORM")["$=="]("node")?a.get("File").$join(__dirname,"css"):"css";return!1!==($a=g.primary_stylesheet_data)&&$a!==h&&null!=$a?$a:
g.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(b,"asciidoctor.css")).$chomp()},w.$$arity=0);a.defn(g,"$embed_primary_stylesheet",v=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},v.$$arity=0);a.defn(g,"$write_primary_stylesheet",y=function(b){var c;return e(a.const_get([a.Object.$$scope],"File",!0,!0),"open",[a.const_get([a.Object.$$scope],"File",!0,!0).$join(b,this.$primary_stylesheet_name()),"w"],(c=function(a){var b=c.$$s||this;null==a&&(a=h);return a.$write(b.$primary_stylesheet_data())},
c.$$s=this,c.$$arity=1,c))},y.$$arity=1);a.defn(g,"$coderay_stylesheet_name",B=function(){return"coderay-asciidoctor.css"},B.$$arity=0);a.defn(g,"$coderay_stylesheet_data",ea=function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&b!==h&&null!=b?b:this.coderay_stylesheet_data=a.const_get([a.Object.$$scope],"IO",!0,!0).$read(a.const_get([a.Object.$$scope],"File",!0,!0).$join(a.const_get(n,"STYLESHEETS_DATA_PATH",!0,!0),"coderay-asciidoctor.css")).$chomp()},ea.$$arity=0);a.defn(g,"$embed_coderay_stylesheet",
ca=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},ca.$$arity=0);a.defn(g,"$write_coderay_stylesheet",A=function(b){var c;return e(a.const_get([a.Object.$$scope],"File",!0,!0),"open",[a.const_get([a.Object.$$scope],"File",!0,!0).$join(b,this.$coderay_stylesheet_name()),"w"],(c=function(a){var b=c.$$s||this;null==a&&(a=h);return a.$write(b.$coderay_stylesheet_data())},c.$$s=this,c.$$arity=1,c))},A.$$arity=1);a.defn(g,"$pygments_stylesheet_name",V=function(b){var c;null==
b&&(b=h);return"pygments-"+(!1!==(c=b)&&c!==h&&null!=c?c:a.const_get(n,"DEFAULT_PYGMENTS_STYLE",!0,!0))+".css"},V.$$arity=-1);a.defn(g,"$pygments_stylesheet_data",W=function(b){var c,e,f,g;null==b&&(b=h);return(c=this.$load_pygments())===h||null==c||c.$$is_boolean&&1!=c?"/* Pygments styles disabled. Pygments is not available. */":(c=!1!==(f=b)&&f!==h&&null!=f?f:a.const_get(n,"DEFAULT_PYGMENTS_STYLE",!0,!0),e=!1!==(f=this.pygments_stylesheet_data)&&f!==h&&null!=f?f:this.pygments_stylesheet_data=d([],
{}),!1!==(f=e["$[]"](c))&&f!==h&&null!=f?f:e["$[]="](c,a.const_get([a.Object.$$scope],"Pygments",!0,!0).$css(".listingblock .pygments",d(["classprefix","style"],{classprefix:"tok-",style:!1!==(g=b)&&g!==h&&null!=g?g:a.const_get(n,"DEFAULT_PYGMENTS_STYLE",!0,!0)})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")))},W.$$arity=-1);a.defn(g,"$embed_pygments_stylesheet",Q=function(a){null==a&&(a=h);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},
Q.$$arity=-1);a.defn(g,"$write_pygments_stylesheet",G=function(b,c){var d;null==c&&(c=h);return e(a.const_get([a.Object.$$scope],"File",!0,!0),"open",[a.const_get([a.Object.$$scope],"File",!0,!0).$join(b,this.$pygments_stylesheet_name(c)),"w"],(d=function(a){var b=d.$$s||this;null==a&&(a=h);return a.$write(b.$pygments_stylesheet_data(c))},d.$$s=this,d.$$arity=1,d))},G.$$arity=-2);return(a.defn(g,"$load_pygments",O=function(){var b;return(b=a.const_get([a.Object.$$scope],"Pygments",!0,!1)?"constant":
h)===h||null==b||b.$$is_boolean&&1!=b?a.const_get(n,"Helpers",!0,!0).$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0},O.$$arity=0),h)&&"load_pygments"})(b.base,null,n)}(a.base,c)};Opal.modules["asciidoctor/table"]=function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function k(a,b){return"number"===
typeof a&&"number"===typeof b?a/b:a["$/"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var d=[a],f=a.nil,p=a.module,b=a.klass,n=a.hash2,x=a.send,q=a.range;a.add_stubs("$attr_accessor $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $shift $style= $head= $pop $foot= $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $!= $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cellspec $cell_open? $close_cell $advance $take_cellspec $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_column_visits".split(" "));
return function(d,w){var y=p(d,"Asciidoctor").$$scope,B=w.slice().concat(y);(function(d,$super,p){function q(){}d=q=b(d,$super,"Table",q);var v=d.$$proto,w=d.$$scope,z=p.slice().concat(w),y,B,A,C,J;v.attributes=v.document=v.has_header_option=v.rows=v.columns=f;(function(c,$super,d){function e(){}c=e=b(c,$super,"Rows",e);var f=c.$$scope;d.slice().concat(f);var g;c.$attr_accessor("head","foot","body");a.defn(c,"$initialize",g=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=
a;this.foot=b;return this.body=c},g.$$arity=-1);return a.alias(c,"[]","send")})(w.base,null,z);a.cdecl(w,"DEFAULT_DATA_FORMAT","psv");a.cdecl(w,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(w,"DEFAULT_DELIMITERS",n(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(w,"TEXT_STYLES",n("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(w,"ALIGNMENTS",n(["h","v"],{h:n(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:n(["<",
">","^"],{"<":"top",">":"bottom","^":"middle"})}));d.$attr_accessor("columns");d.$attr_accessor("rows");d.$attr_accessor("has_header_option");a.defn(d,"$initialize",y=function(b,d){var e,n,p,q=f,u=f,v=f;y.$$p&&(y.$$p=null);x(this,a.find_super_dispatcher(this,"initialize",y,!1),[b,"table"],null);this.rows=a.const_get(z,"Rows",!0,!0).$new();this.columns=[];this.has_header_option=d["$key?"]("header-option");(e=q=d["$[]"]("width"))===f||null==e||e.$$is_boolean&&1!=e?u=100:(e=!1!==(n=c(u=q.$to_i(),100))&&
n!==f&&null!=n?n:"number"===typeof u?1>u:u["$<"](1))===f||null==e||e.$$is_boolean&&1!=e||!((e=u["$=="](0)?!1!==(p=q["$=="]("0"))&&p!==f&&null!=p?p:q["$=="]("0%"):u["$=="](0))===f||null==e||e.$$is_boolean&&1!=e)||(u=100);v=["tablepcwidth",u];x(this.attributes,"[]=",a.to_a(v));v[h(v.length,1)];(e=this.document.$attributes()["$key?"]("pagewidth"))===f||null==e||e.$$is_boolean&&1!=e||(e="tableabswidth",n=this.attributes,!1!==(p=n["$[]"](e))&&p!==f&&null!=p?p:n["$[]="](e,l(k(this.attributes["$[]"]("tablepcwidth").$to_f(),
100),this.document.$attributes()["$[]"]("pagewidth")).$round()));if((e=d["$key?"]("rotate-option"))===f||null==e||e.$$is_boolean&&1!=e)return f;v=["orientation","landscape"];x(d,"[]=",a.to_a(v));return v[h(v.length,1)]},y.$$arity=2);a.defn(d,"$header_row?",B=function(){var a;return a=this.has_header_option,!1!==a&&a!==f&&null!=a?this.rows.$body()["$empty?"]():a},B.$$arity=0);a.defn(d,"$create_columns",A=function(b){var c,d,g=f,k=f,l=f,g=[],k=0;x(b,"each",[],(c=function(b){var d=c.$$s||this;null==
b&&(b=f);k=e(k,b["$[]"]("width"));return g["$<<"](a.const_get(z,"Column",!0,!0).$new(d,g.$size(),b))},c.$$s=this,c.$$arity=1,c));if((d=(this.columns=g)["$empty?"]())===f||null==d||d.$$is_boolean&&1!=d)l=["colcount",g.$size()],x(this.attributes,"[]=",a.to_a(l)),l[h(l.length,1)],this.$assign_column_widths(k["$=="](0)?f:k);return f},A.$$arity=1);a.defn(d,"$assign_column_widths",C=function(a){var b,c,d=f,g=f,n=f;null==a&&(a=f);d=10["$**"](4);g=n=0;!1!==a&&a!==f&&null!=a?x(this.columns,"each",[],(b=function(b){null==
b&&(b=f);return g=e(g,n=b.$assign_width(f,a,d))},b.$$s=this,b.$$arity=1,b)):(n=k(k(l(100,d),this.columns.$size()).$to_i(),d),n.$to_i()["$=="](n)&&(n=n.$to_i()),x(this.columns,"each",[],(c=function(a){null==a&&(a=f);return g=e(g,a.$assign_width(n))},c.$$s=this,c.$$arity=1,c)));g["$=="](100)||this.columns["$[]"](-1).$assign_width(k(l(e(h(100,g),n),d).$round(),d));return f},C.$$arity=-1);return(a.defn(d,"$partition_header_footer",J=function(b){var d,e,k,l=f,n=f,p=f,l=["rowcount",this.rows.$body().$size()];
x(this.attributes,"[]=",a.to_a(l));l[h(l.length,1)];n=this.rows.$body().$size();(d=(e=c(n,0),!1!==e&&e!==f&&null!=e?this.has_header_option:e))===f||null==d||d.$$is_boolean&&1!=d||(p=this.rows.$body().$shift(),n=h(n,1),x(p,"each",[],(k=function(b){null==b&&(b=f);l=[f];x(b,"style=",a.to_a(l));return l[h(l.length,1)]},k.$$s=this,k.$$arity=1,k)),l=[[p]],x(this.rows,"head=",a.to_a(l)),l[h(l.length,1)]);(d=(e=c(n,0),!1!==e&&e!==f&&null!=e?b["$key?"]("footer-option"):e))===f||null==d||d.$$is_boolean&&1!=
d||(l=[[this.rows.$body().$pop()]],x(this.rows,"foot=",a.to_a(l)),l[h(l.length,1)]);return f},J.$$arity=1),f)&&"partition_header_footer"})(y.base,a.const_get(B,"AbstractBlock",!0,!0),B);(function(c,$super,d){function g(){}c=g=b(c,$super,"Column",g);var p=c.$$proto,q=c.$$scope;d.slice().concat(q);var w,z;p.attributes=f;c.$attr_accessor("style");a.defn(c,"$initialize",w=function(b,c,d){var g,k=w.$$p,l=f;null==d&&(d=n([],{}));k&&(w.$$p=null);x(this,a.find_super_dispatcher(this,"initialize",w,!1),[b,
"column"],null);this.style=d["$[]"]("style");l=["colnumber",e(c,1)];x(d,"[]=",a.to_a(l));l[h(l.length,1)];b="width";c=d;!1!==(g=c["$[]"](b))&&g!==f&&null!=g?g:c["$[]="](b,1);b="halign";c=d;!1!==(g=c["$[]"](b))&&g!==f&&null!=g?g:c["$[]="](b,"left");b="valign";c=d;!1!==(g=c["$[]"](b))&&g!==f&&null!=g?g:c["$[]="](b,"top");return this.$update_attributes(d)},w.$$arity=-3);a.alias(c,"table","parent");return(a.defn(c,"$assign_width",z=function(b,c,d){var e,g=f;null==c&&(c=f);null==d&&(d=1E4);!1!==c&&c!==
f&&null!=c&&(b=k(l(l(k(this.attributes["$[]"]("width").$to_f(),c),100),d).$to_i(),d),b.$to_i()["$=="](b)&&(b=b.$to_i()));g=["colpcwidth",b];x(this.attributes,"[]=",a.to_a(g));g[h(g.length,1)];(e=this.$parent().$attributes()["$key?"]("tableabswidth"))===f||null==e||e.$$is_boolean&&1!=e||(g=["colabswidth",l(k(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],x(this.attributes,"[]=",a.to_a(g)),g[h(g.length,1)]);return b},z.$$arity=-2),f)&&"assign_width"})(a.const_get(B,"Table",!0,
!0),a.const_get(B,"AbstractNode",!0,!0),B);(function(c,$super,d){function e(){}c=e=b(c,$super,"Cell",e);var g=c.$$proto,k=c.$$scope,l=d.slice().concat(k),p,q,t,w;g.style=g.document=g.text=g.inner_document=g.colspan=g.rowspan=g.attributes=f;c.$attr_accessor("style");c.$attr_accessor("colspan");c.$attr_accessor("rowspan");a.alias(c,"column","parent");c.$attr_reader("inner_document");a.defn(c,"$initialize",p=function(b,c,d,e){var g,k=p.$$p,q=f,t=f,u=f,v=f,q=f;null==d&&(d=n([],{}));null==e&&(e=f);k&&
(p.$$p=null);x(this,a.find_super_dispatcher(this,"initialize",p,!1),[b,"cell"],null);this.text=c;this.rowspan=this.colspan=this.style=f;!1!==b&&b!==f&&null!=b&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==d&&d!==f&&null!=d&&(this.colspan=d.$delete("colspan"),this.rowspan=d.$delete("rowspan"),(g=d["$key?"]("style"))===f||null==g||g.$$is_boolean&&1!=g||(this.style=d["$[]"]("style")),this.$update_attributes(d));if((g=(c=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():
this.style["$=="]("asciidoc"))===f||null==g||g.$$is_boolean&&1!=g)return f;q=this.document.$attributes().$delete("doctitle");t=this.text.$split(a.const_get(l,"EOL",!0,!0));if((g=!1!==(c=t["$empty?"]())&&c!==f&&null!=c?c:t["$[]"](0)["$include?"]("::")["$!"]())===f||null==g||g.$$is_boolean&&1!=g)u=t["$[]"](0),v=a.const_get(l,"PreprocessorReader",!0,!0).$new(this.document,u).$readlines(),(g=v["$!="](u))===f||null==g||g.$$is_boolean&&1!=g||(t.$shift(),x(t,"unshift",a.to_a(v)));this.inner_document=a.const_get(l,
"Document",!0,!0).$new(t,n(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:e}));return(g=q["$nil?"]())===f||null==g||g.$$is_boolean&&1!=g?(q=["doctitle",q],x(this.document.$attributes(),"[]=",a.to_a(q)),q[h(q.length,1)]):f},p.$$arity=-3);a.defn(c,"$text",q=function(){return this.$apply_normal_subs(this.text).$strip()},q.$$arity=0);a.defn(c,"$content",t=function(){var b;return this.style["$=="]("asciidoc")?this.inner_document.$convert():x(this.$text().$split(a.const_get(l,
"BlankLineRx",!0,!0)),"map",[],(b=function(c){var d=b.$$s||this,e,g;null==d.style&&(d.style=f);null==c&&(c=f);return(e=!1!==(g=d.style["$!"]())&&g!==f&&null!=g?g:d.style["$=="]("header"))===f||null==e||e.$$is_boolean&&1!=e?a.const_get(l,"Inline",!0,!0).$new(d.$parent(),"quoted",c,n(["type"],{type:d.style})).$convert():c},b.$$s=this,b.$$arity=1,b))},t.$$arity=0);return(a.defn(c,"$to_s",w=function(){var b,c=w.$$p,d=f,e=f,g=f;c&&(w.$$p=null);e=0;g=arguments.length;for(d=Array(g);e<g;e++)d[e]=arguments[e];
return""+x(this,a.find_super_dispatcher(this,"to_s",w,!1),d,c).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(b=this.colspan)&&b!==f&&null!=b?b:1)+", rowspan: "+(!1!==(b=this.rowspan)&&b!==f&&null!=b?b:1)+", attributes: "+this.attributes+"]"},w.$$arity=0),f)&&"to_s"})(a.const_get(B,"Table",!0,!0),a.const_get(B,"AbstractNode",!0,!0),B);(function(d,$super,k){function l(){}d=l=b(d,$super,"ParserContext",l);var p=d.$$proto,t=d.$$scope,w=k.slice().concat(t),z,y,A,B,C,J,G,O,F,L,D,R,ia,na,pa,ja,K,ga,
ha;p.format=p.delimiter=p.delimiter_re=p.buffer=p.cellspecs=p.cell_open=p.last_cursor=p.table=p.current_row=p.colcount=p.column_visits=p.active_rowspans=p.linenum=f;d.$attr_accessor("table");d.$attr_accessor("format");d.$attr_reader("colcount");d.$attr_accessor("buffer");d.$attr_reader("delimiter");d.$attr_reader("delimiter_re");a.defn(d,"$initialize",z=function(b,c,d){var e,g;null==d&&(d=n([],{}));this.reader=b;this.table=c;this.last_cursor=b.$cursor();(e=this.format=d["$[]"]("format"))===f||null==
e||e.$$is_boolean&&1!=e?this.format=a.const_get([a.const_get(w,"Table",!0,!0).$$scope],"DEFAULT_DATA_FORMAT",!0,!0):((e=a.const_get([a.const_get(w,"Table",!0,!0).$$scope],"DATA_FORMATS",!0,!0)["$include?"](this.format))===f||null==e||e.$$is_boolean&&1!=e)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(e=(g=this.format["$=="]("psv")?d["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==g&&g!==f&&null!=g?c.$document()["$nested?"]():g))===f||null==e||e.$$is_boolean&&1!=e?
!1!==(e=d["$[]"]("separator"))&&e!==f&&null!=e?e:a.const_get([a.const_get(w,"Table",!0,!0).$$scope],"DEFAULT_DELIMITERS",!0,!0)["$[]"](this.format):"!";this.delimiter_re=new RegExp(a.const_get(w,"Regexp",!0,!0).$escape(this.delimiter));this.colcount=(e=c.$columns()["$empty?"]())===f||null==e||e.$$is_boolean&&1!=e?c.$columns().$size():-1;this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},z.$$arity=-3);a.defn(d,
"$starts_with_delimiter?",y=function(a){return a["$start_with?"](this.delimiter)},y.$$arity=1);a.defn(d,"$match_delimiter",A=function(a){return this.delimiter_re.$match(a)},A.$$arity=1);a.defn(d,"$skip_matched_delimiter",B=function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==f&&null!=b?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()},B.$$arity=-2);a.defn(d,"$buffer_has_unclosed_quotes?",C=function(a){var b,c,d=f;null==a&&(a=f);d=(""+this.buffer+a).$strip();
return b=(c=d["$start_with?"]('"'),!1!==c&&c!==f&&null!=c?d["$start_with?"]('""')["$!"]():c),!1!==b&&b!==f&&null!=b?d["$end_with?"]('"')["$!"]():b},C.$$arity=-1);a.defn(d,"$buffer_quoted?",J=function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==f&&null!=a?this.buffer["$start_with?"]('""')["$!"]():a},J.$$arity=0);a.defn(d,"$take_cellspec",G=function(){return this.cellspecs.$shift()},G.$$arity=0);a.defn(d,"$push_cellspec",O=function(a){var b;null==
a&&(a=n([],{}));this.cellspecs["$<<"](!1!==(b=a)&&b!==f&&null!=b?b:n([],{}));return f},O.$$arity=-1);a.defn(d,"$keep_cell_open",F=function(){this.cell_open=!0;return f},F.$$arity=0);a.defn(d,"$mark_cell_closed",L=function(){this.cell_open=!1;return f},L.$$arity=0);a.defn(d,"$cell_open?",D=function(){return this.cell_open},D.$$arity=0);a.defn(d,"$cell_closed?",R=function(){return this.cell_open["$!"]()},R.$$arity=0);a.defn(d,"$close_open_cell",ia=function(a){var b;null==a&&(a=n([],{}));this.$push_cellspec(a);
(b=this["$cell_open?"]())===f||null==b||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return f},ia.$$arity=-1);a.defn(d,"$close_cell",na=function(b){try{var d,k,l,p=f,t=f,u=f;null==b&&(b=!1);p=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(t=this.$take_cellspec(),!1!==t&&t!==f&&null!=t?u=!1!==(d=t.$delete("repeatcol"))&&d!==f&&null!=d?d:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),t=n([],
{}),u=1)):(t=f,u=1,!this.format["$=="]("csv")||(d=(k=p["$empty?"]()["$!"](),!1!==k&&k!==f&&null!=k?p["$include?"]('"'):k))===f||null==d||d.$$is_boolean&&1!=d||((d=(k=p["$start_with?"]('"'),!1!==k&&k!==f&&null!=k?p["$end_with?"]('"'):k))===f||null==d||d.$$is_boolean&&1!=d||(p=p["$[]"](q(1,-1,!0)).$strip()),p=p.$tr_s('"','"')));x(1,"upto",[u],(l=function(d){var k=l.$$s||this,n,q,v,z,y,D=f,A=f,B=f,D=f;null==k.colcount&&(k.colcount=f);null==k.table&&(k.table=f);null==k.current_row&&(k.current_row=f);
null==k.last_cursor&&(k.last_cursor=f);null==k.reader&&(k.reader=f);null==k.column_visits&&(k.column_visits=f);null==k.linenum&&(k.linenum=f);null==d&&(d=f);if(k.colcount["$=="](-1))k.table.$columns()["$<<"](D=a.const_get([a.const_get(w,"Table",!0,!0).$$scope],"Column",!0,!0).$new(k.table,h(e(k.table.$columns().$size(),d),1))),(n=(q=(v=!1!==t&&t!==f&&null!=t)?t["$key?"]("colspan"):t,!1!==q&&q!==f&&null!=q?c(A=h(t["$[]"]("colspan").$to_i(),1),0):q))===f||null==n||n.$$is_boolean&&1!=n||(B=k.table.$columns().$size(),
x(A,"times",[],(z=function(b){var c=z.$$s||this;null==c.table&&(c.table=f);null==b&&(b=f);return c.table.$columns()["$<<"](a.const_get([a.const_get(w,"Table",!0,!0).$$scope],"Column",!0,!0).$new(c.table,e(B,b)))},z.$$s=k,z.$$arity=1,z)));else if((n=D=k.table.$columns()["$[]"](k.current_row.$size()))===f||null==n||n.$$is_boolean&&1!=n)k.$warn("asciidoctor: ERROR: "+k.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(f);D=a.const_get([a.const_get(w,"Table",
!0,!0).$$scope],"Cell",!0,!0).$new(D,p,t,k.last_cursor);k.last_cursor=k.reader.$cursor();((n=!1!==(q=D.$rowspan()["$!"]())&&q!==f&&null!=q?q:D.$rowspan()["$=="](1))===f||null==n||n.$$is_boolean&&1!=n)&&k.$activate_rowspan(D.$rowspan(),!1!==(n=D.$colspan())&&n!==f&&null!=n?n:1);k.column_visits=e(k.column_visits,!1!==(n=D.$colspan())&&n!==f&&null!=n?n:1);k.current_row["$<<"](D);return(n=(q=k["$end_of_row?"](),!1!==q&&q!==f&&null!=q?!1!==(v=!1!==(y=k.colcount["$!="](-1))&&y!==f&&null!=y?y:c(k.linenum,
0))&&v!==f&&null!=v?v:(y=!1!==b&&b!==f&&null!=b)?d["$=="](u):b:q))===f||null==n||n.$$is_boolean&&1!=n?f:k.$close_row()},l.$$s=this,l.$$arity=1,l));this.cell_open=!1;return f}catch(v){if(v===a.returner)return v.$v;throw v;}},na.$$arity=-1);a.defn(d,"$close_row",pa=function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&
b!==f&&null!=b?b:a["$[]="](0,0);return f},pa.$$arity=0);a.defn(d,"$activate_rowspan",ja=function(b,c){var d;x((1).$upto(h(b,1)),"each",[],(d=function(b){var g=d.$$s||this,k,l=f;null==g.active_rowspans&&(g.active_rowspans=f);null==b&&(b=f);l=[b,e(!1!==(k=g.active_rowspans["$[]"](b))&&k!==f&&null!=k?k:0,c)];x(g.active_rowspans,"[]=",a.to_a(l));return l[h(l.length,1)]},d.$$s=this,d.$$arity=1,d));return f},ja.$$arity=2);a.defn(d,"$end_of_row?",K=function(){var a;return!1!==(a=this.colcount["$=="](-1))&&
a!==f&&null!=a?a:this.$effective_column_visits()["$=="](this.colcount)},K.$$arity=0);a.defn(d,"$effective_column_visits",ga=function(){return e(this.column_visits,this.active_rowspans["$[]"](0))},ga.$$arity=0);return(a.defn(d,"$advance",ha=function(){return this.linenum=e(this.linenum,1)},ha.$$arity=0),f)&&"advance"})(a.const_get(B,"Table",!0,!0),null,B)}(a.base,d)};(function(a){function c(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function h(a,b){return"number"===typeof a&&
"number"===typeof b?a*b:a["$*"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function k(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var e,d=a.top,f=[a],p=a.nil,b=a.gvars,n=a.module,x=a.hash2,q=a.send,w=a.range,z=a.hash;null==b[":"]&&(b[":"]=p);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $- $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $utc $at $to_i $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
((e=a.const_get([a],"RUBY_ENGINE",!0,!1)?"constant":p)===p||null==e||e.$$is_boolean&&1!=e)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.const_get(f,"RUBY_ENGINE",!0,!0)["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.const_get(f,"RUBY_ENGINE",!0,!0)["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",c(a.const_get(f,"RUBY_VERSION",!0,!0),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",c(a.const_get(f,"RUBY_VERSION",!0,!0),"2"));d.$require("set");a.const_get(f,"RUBY_ENGINE",!0,!0)["$=="]("opal")?
d.$require("asciidoctor/opal_ext"):p;b[":"].$unshift(a.const_get(f,"File",!0,!0).$dirname("asciidoctor"));(function(b,d){var e=n(b,"Asciidoctor"),f=e.$$scope,u=d.slice().concat(f),y,v,B=p,U=p,ea=p;a.cdecl(f,"RUBY_ENGINE",a.const_get([a.Object.$$scope],"RUBY_ENGINE",!0,!0));(function(b,c){var d=n(b,"SafeMode").$$scope;c.slice().concat(d);a.cdecl(d,"UNSAFE",0);a.cdecl(d,"SAFE",1);a.cdecl(d,"SERVER",10);a.cdecl(d,"SECURE",20)})(f.base,u);(function(b,c){var d=n(b,"Compliance"),e=d.$$scope,f=c.slice().concat(e),
g;d.keys=a.const_get([a.Object.$$scope],"Set",!0,!0).$new();(function(a,b){b.slice().concat(a);return a.$attr("keys")})(a.get_singleton_class(d),f);a.defs(d,"$define",g=function(b,c){null==this.keys&&(this.keys=p);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);f.slice().concat(d);d.$send("attr_accessor",b);this.keys["$<<"](b);return p},g.$$arity=2);d.$define("block_terminates_paragraph",!0);d.$define("strict_verbatim_paragraphs",!0);d.$define("underline_style_section_titles",
!0);d.$define("unwrap_standalone_preamble",!0);d.$define("attribute_missing","skip");d.$define("attribute_undefined","drop-line");d.$define("shorthand_property_syntax",!0);d.$define("unique_id_start_index",2);d.$define("markdown_syntax",!0)})(f.base,u);a.cdecl(f,"ROOT_PATH",a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path("asciidoctor"))));a.cdecl(f,"LIB_PATH",a.const_get([a.Object.$$scope],
"File",!0,!0).$join(a.const_get(u,"ROOT_PATH",!0,!0),"lib"));a.cdecl(f,"DATA_PATH",a.const_get([a.Object.$$scope],"File",!0,!0).$join(a.const_get(u,"ROOT_PATH",!0,!0),"data"));try{a.cdecl(f,"USER_HOME",a.const_get([a.Object.$$scope],"Dir",!0,!0).$home())}catch(ca){if(a.rescue(ca,[a.const_get(u,"StandardError",!0,!0)]))try{a.cdecl(f,"USER_HOME",!1!==(y=a.const_get([a.Object.$$scope],"ENV",!0,!0)["$[]"]("HOME"))&&y!==p&&null!=y?y:a.const_get([a.Object.$$scope],"Dir",!0,!0).$pwd())}finally{a.pop_exception()}else throw ca;
}a.cdecl(f,"COERCE_ENCODING",(y=a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"](),!1!==y&&y!==p&&null!=y?a.const_get([a.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0):y));a.cdecl(f,"FORCE_ENCODING",(y=a.const_get(u,"COERCE_ENCODING",!0,!0),!1!==y&&y!==p&&null!=y?a.const_get([a.Object.$$scope],"Encoding",!0,!0).$default_external()["$!="](a.const_get([a.const_get([a.Object.$$scope],"Encoding",!0,!0).$$scope],"UTF_8",!0,!0)):y));a.cdecl(f,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());
a.cdecl(f,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(f,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(f,"FORCE_UNICODE_LINE_LENGTH",a.const_get([a.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0)["$!"]());a.cdecl(f,"SUPPORTS_GSUB_RESULT_HASH",(y=a.const_get([a.Object.$$scope],"RUBY_MIN_VERSION_1_9",!0,!0),!1!==y&&y!==p&&null!=y?a.const_get([a.Object.$$scope],"RUBY_ENGINE_OPAL",!0,!0)["$!"]():y));a.cdecl(f,"EOL","\n");a.cdecl(f,"NULL","\x00");a.cdecl(f,"TAB","\t");a.cdecl(f,
"DEFAULT_DOCTYPE","article");a.cdecl(f,"DEFAULT_BACKEND","html5");a.cdecl(f,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(f,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(f,"BACKEND_ALIASES",x(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(f,"DEFAULT_PAGE_WIDTHS",x(["docbook"],{docbook:425}));a.cdecl(f,"DEFAULT_EXTENSIONS",x(["html","docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(f,"ASCIIDOC_EXTENSIONS",
x([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(f,"SECTION_LEVELS",x(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(f,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(f,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.cdecl(f,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(f,
"DELIMITED_BLOCKS",x('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.const_get([a.Object.$$scope],"Set",!0,!0).$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],
"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.const_get([a.Object.$$scope],"Set",!0,!0).$new()],",===":["table",a.const_get([a.Object.$$scope],"Set",!0,!0).$new()],":===":["table",a.const_get([a.Object.$$scope],"Set",!0,!0).$new()],"!===":["table",a.const_get([a.Object.$$scope],"Set",!0,!0).$new()],"////":["comment",a.const_get([a.Object.$$scope],"Set",!0,!0).$new()],"```":["fenced_code",a.const_get([a.Object.$$scope],"Set",!0,!0).$new()]}));a.cdecl(f,"DELIMITED_BLOCK_LEADERS",
q(a.const_get(u,"DELIMITED_BLOCKS",!0,!0).$keys(),"map",[],(v=function(a){null==a&&(a=p);return a["$[]"](w(0,1,!1))},v.$$s=e,v.$$arity=1,v)).$to_set());a.cdecl(f,"LAYOUT_BREAK_LINES",x(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(f,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(f,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(f,"ORDERED_LIST_KEYWORDS",
x(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.cdecl(f,"LIST_CONTINUATION","+");a.cdecl(f,"LINE_BREAK"," +");a.cdecl(f,"LINE_CONTINUATION"," \\");a.cdecl(f,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(f,"BLOCK_MATH_DELIMITERS",x(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(f,"INLINE_MATH_DELIMITERS",x(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(f,
"FLEXIBLE_ATTRIBUTES",["sectnums"]);a.const_get(u,"RUBY_ENGINE",!0,!0)["$=="]("opal")?(a.cdecl(f,"CC_ALPHA","a-zA-Z"),a.cdecl(f,"CG_ALPHA","[a-zA-Z]"),a.cdecl(f,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(f,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(f,"CG_BLANK","[ \\t]"),a.cdecl(f,"CC_EOL","(?=\\n|$)"),a.cdecl(f,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(f,"CC_ALL","[\\s\\S]"),a.cdecl(f,"CC_WORD","a-zA-Z0-9_"),a.cdecl(f,"CG_WORD","[a-zA-Z0-9_]")):p;a.cdecl(f,"AuthorInfoLineRx",new RegExp("^("+a.const_get(u,"CG_WORD",!0,!0)+
"["+a.const_get(u,"CC_WORD",!0,!0)+"\\-'.]*)(?: +("+a.const_get(u,"CG_WORD",!0,!0)+"["+a.const_get(u,"CC_WORD",!0,!0)+"\\-'.]*))?(?: +("+a.const_get(u,"CG_WORD",!0,!0)+"["+a.const_get(u,"CC_WORD",!0,!0)+"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(f,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(f,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(f,"ManpageNamePurposeRx",new RegExp("^(.*?)"+a.const_get(u,"CG_BLANK",!0,!0)+"+-"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*)$"));
a.cdecl(f,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(f,"EvalExpressionRx",new RegExp("^(\\S.*?)"+a.const_get(u,"CG_BLANK",!0,!0)+"*(==|!=|<=|>=|<|>)"+a.const_get(u,"CG_BLANK",!0,!0)+"*(\\S.*)$"));a.cdecl(f,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);a.cdecl(f,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(f,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*))?$"));a.cdecl(f,"InvalidAttributeNameCharsRx",
/[^\w\-]/);a.cdecl(f,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(f,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(f,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+a.const_get(u,"CC_ALPHA",!0,!0)+":_]["+a.const_get(u,"CC_WORD",!0,!0)+":.-]*)(?:,"+a.const_get(u,"CG_BLANK",!0,!0)+"*(\\S.*))?)\\]\\]$"));a.cdecl(f,"BlockAttributeListRx",new RegExp("^\\[(|"+a.const_get(u,"CG_BLANK",!0,!0)+"*["+a.const_get(u,"CC_WORD",!0,!0)+"\\{,.#\"'%].*)\\]$"));a.cdecl(f,
"BlockAttributeLineRx",new RegExp("^\\[(|"+a.const_get(u,"CG_BLANK",!0,!0)+"*["+a.const_get(u,"CC_WORD",!0,!0)+"\\{,.#\"'%].*|\\[(?:|["+a.const_get(u,"CC_ALPHA",!0,!0)+":_]["+a.const_get(u,"CC_WORD",!0,!0)+":.-]*(?:,"+a.const_get(u,"CG_BLANK",!0,!0)+"*\\S.*)?)\\])\\]$"));a.cdecl(f,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(f,"AdmonitionParagraphRx",new RegExp("^("+h(a.const_get(u,"ADMONITION_STYLES",!0,!0).$to_a(),"|")+"):"+a.const_get(u,"CG_BLANK",!0,!0)));a.cdecl(f,"LiteralParagraphRx",new RegExp("^("+
a.const_get(u,"CG_BLANK",!0,!0)+"+.*)$"));a.cdecl(f,"CommentBlockRx",/^\/{4,}$/);a.cdecl(f,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(f,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+a.const_get(u,"CG_BLANK",!0,!0)+"+(\\S.*?)(?:"+a.const_get(u,"CG_BLANK",!0,!0)+"+\\1)?$"));a.cdecl(f,"SetextSectionTitleRx",new RegExp("^((?=.*"+a.const_get(u,"CG_WORD",!0,!0)+"+.*)[^.].*?)$"));a.cdecl(f,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(f,"InlineSectionAnchorRx",new RegExp("^(.*?)"+a.const_get(u,"CG_BLANK",
!0,!0)+"+(\\\\)?\\[\\[(["+a.const_get(u,"CC_ALPHA",!0,!0)+":_]["+a.const_get(u,"CC_WORD",!0,!0)+":.-]*)(?:,"+a.const_get(u,"CG_BLANK",!0,!0)+"*(\\S.*?))?\\]\\]$"));a.cdecl(f,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+a.const_get(u,"CC_WORD",!0,!0)+"]+?"));a.cdecl(f,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(f,"AnyListRx",new RegExp("^(?:"+a.const_get(u,"CG_BLANK",!0,!0)+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+a.const_get(u,
"CG_BLANK",!0,!0)+"|"+a.const_get(u,"CG_BLANK",!0,!0)+"*.*?(?::{2,4}|;;)(?:$|"+a.const_get(u,"CG_BLANK",!0,!0)+")|<?\\d+>"+a.const_get(u,"CG_BLANK",!0,!0)+")"));a.cdecl(f,"UnorderedListRx",new RegExp("^"+a.const_get(u,"CG_BLANK",!0,!0)+"*(-|\\*{1,5}|\\u2022{1,5})"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*)$"));a.cdecl(f,"OrderedListRx",new RegExp("^"+a.const_get(u,"CG_BLANK",!0,!0)+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*)$"));a.cdecl(f,"OrderedListMarkerRxMap",
x(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.cdecl(f,"DescriptionListRx",new RegExp("^(?!//)"+a.const_get(u,"CG_BLANK",!0,!0)+"*(.*?)(:{2,4}|;;)(?:"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*))?$"));a.cdecl(f,"DescriptionListSiblingRx",x(["::",":::","::::",";;"],{"::":new RegExp("^(?!//)"+a.const_get(u,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(::)(?:"+a.const_get(u,"CG_BLANK",!0,!0)+
"+(.*))?$"),":::":new RegExp("^(?!//)"+a.const_get(u,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(:::)(?:"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*))?$"),"::::":new RegExp("^(?!//)"+a.const_get(u,"CG_BLANK",!0,!0)+"*((?:.*[^:])?)(::::)(?:"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*))?$"),";;":new RegExp("^(?!//)"+a.const_get(u,"CG_BLANK",!0,!0)+"*(.*)(;;)(?:"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*))?$")}));a.cdecl(f,"CalloutListRx",new RegExp("^<?(\\d+)>"+a.const_get(u,"CG_BLANK",!0,!0)+"+(.*)$"));a.cdecl(f,"CalloutExtractRx",
/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(f,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(f,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+a.const_get(u,"CC_EOL",!0,!0)+")"));a.cdecl(f,"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+a.const_get(u,"CC_EOL",!0,!0)+")"));a.cdecl(f,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+
a.const_get(u,"CC_EOL",!0,!0)+")");a.cdecl(f,"ListRxMap",x(["ulist","olist","dlist","colist"],{ulist:a.const_get(u,"UnorderedListRx",!0,!0),olist:a.const_get(u,"OrderedListRx",!0,!0),dlist:a.const_get(u,"DescriptionListRx",!0,!0),colist:a.const_get(u,"CalloutListRx",!0,!0)}));a.cdecl(f,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(f,"CellSpecStartRx",new RegExp("^"+a.const_get(u,"CG_BLANK",!0,!0)+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(f,"CellSpecEndRx",new RegExp(""+a.const_get(u,"CG_BLANK",!0,!0)+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(f,"GenericBlockMacroRx",new RegExp("^("+a.const_get(u,"CG_WORD",!0,!0)+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(f,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(f,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(f,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+a.const_get(u,
"CC_ALPHA",!0,!0)+":_]["+a.const_get(u,"CC_WORD",!0,!0)+":.-]*)(?:,"+a.const_get(u,"CG_BLANK",!0,!0)+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(f,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+a.const_get(u,"CC_WORD",!0,!0)+":]["+a.const_get(u,"CC_WORD",!0,!0)+":.-]*?)\\]\\]\\]"));a.cdecl(f,"EmailInlineMacroRx",new RegExp("([\\\\>:/])?"+a.const_get(u,"CG_WORD",!0,!0)+"["+a.const_get(u,"CC_WORD",!0,!0)+".%+-]*@"+a.const_get(u,"CG_ALNUM",!0,!0)+"["+a.const_get(u,"CC_ALNUM",
!0,!0)+".-]*\\."+a.const_get(u,"CG_ALPHA",!0,!0)+"{2,4}\\b"));a.cdecl(f,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+a.const_get(u,"CC_ALL",!0,!0)+"*?[^\\\\])\\]","m"));a.cdecl(f,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(f,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+a.const_get(u,"CC_ALL",!0,!0)+"*?[^\\\\])\\]|\\(\\(("+a.const_get(u,"CC_ALL",!0,!0)+"+?)\\)\\)(?!\\)))","m"));a.cdecl(f,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);
a.cdecl(f,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+a.const_get(u,"CG_BLANK",!0,!0)+"*[^\\1])"));a.cdecl(f,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);a.cdecl(f,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(f,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+a.const_get(u,"CC_ALL",!0,!0)+"*?[^\\\\])\\]","m"));a.cdecl(f,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+
a.const_get(u,"CG_WORD",!0,!0)+"|"+a.const_get(u,"CG_WORD",!0,!0)+".*?\\S)\\["+a.const_get(u,"CG_BLANK",!0,!0)+"*(.+?)?\\]"));a.cdecl(f,"MenuInlineRx",new RegExp('\\\\?"('+a.const_get(u,"CG_WORD",!0,!0)+'[^"]*?'+a.const_get(u,"CG_BLANK",!0,!0)+"*&gt;"+a.const_get(u,"CG_BLANK",!0,!0)+'*[^" \\t][^"]*)"'));a.cdecl(f,"PassInlineRx",z(!1,["+","`",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)\\4)(?!"+a.const_get(u,
"CG_WORD",!0,!0)+")","m")],!0,["`",p,new RegExp("(^|[^`"+a.const_get(u,"CC_WORD",!0,!0)+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)\\4)(?![`"+a.const_get(u,"CC_WORD",!0,!0)+"])","m")]));a.cdecl(f,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+a.const_get(u,"CC_ALL",!0,!0)+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+a.const_get(u,"CC_ALL",!0,!0)+"*?[^\\\\])\\])","m"));a.cdecl(f,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+
a.const_get(u,"CC_WORD",!0,!0)+'":./]'+a.const_get(u,"CC_ALL",!0,!0)+"*?)&gt;&gt;|xref:(["+a.const_get(u,"CC_WORD",!0,!0)+'":./]'+a.const_get(u,"CC_ALL",!0,!0)+"*?)\\[("+a.const_get(u,"CC_ALL",!0,!0)+"*?)\\])","m"));a.const_get(u,"RUBY_ENGINE",!0,!0)["$=="]("opal")?a.cdecl(f,"LineBreakRx",/^(.*)[ \t]\+$/m):p;a.cdecl(f,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(f,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(f,"BlankLineRx",new RegExp("^"+a.const_get(u,"CG_BLANK",!0,!0)+
"*\\n"));a.cdecl(f,"DataDelimiterRx",/,|;/);a.cdecl(f,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(f,"DoubleQuotedMultiRx",new RegExp('^("|)('+a.const_get(u,"CC_ALL",!0,!0)+"*)\\1$","m"));a.cdecl(f,"TrailingDigitsRx",/\d+$/);a.cdecl(f,"EscapedSpaceRx",new RegExp("\\\\("+a.const_get(u,"CG_BLANK",!0,!0)+")"));a.cdecl(f,"SpaceDelimiterRx",new RegExp("([^\\\\])"+a.const_get(u,"CG_BLANK",!0,!0)+"+"));a.cdecl(f,"SubModifierSniffRx",/[+-]/);a.cdecl(f,"UnicodeCharScanRx",function(){a.const_get(u,"RUBY_ENGINE",
!0,!0)["$=="]("opal");return p}());a.cdecl(f,"UriSniffRx",new RegExp("^"+a.const_get(u,"CG_ALPHA",!0,!0)+"["+a.const_get(u,"CC_ALNUM",!0,!0)+".+-]+:/{0,2}"));a.cdecl(f,"UriTerminator",/[);:]$/);a.cdecl(f,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(f,"INTRINSIC_ATTRIBUTES",x("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",
tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));B=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+a.const_get(u,"CC_ALL",!0,!0)+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",
!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)\\*(?!"+a.const_get(u,"CG_WORD",!0,!0)+")","m")],["double","constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+a.const_get(u,"CC_ALL",!0,!0)+'*?\\S)`"(?!'+a.const_get(u,"CG_WORD",!0,!0)+")","m")],["single","constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)`'(?!"+a.const_get(u,
"CG_WORD",!0,!0)+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+a.const_get(u,"CC_ALL",!0,!0)+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)`(?!["+a.const_get(u,"CC_WORD",!0,!0)+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+a.const_get(u,"CC_ALL",!0,!0)+"+?)__","m")],["emphasis","constrained",new RegExp("(^|[^"+
a.const_get(u,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)_(?!"+a.const_get(u,"CG_WORD",!0,!0)+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+a.const_get(u,"CC_ALL",!0,!0)+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)#(?!"+a.const_get(u,"CG_WORD",!0,!0)+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],
["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];U=B.$dup();ea=[2,["double","constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)''(?!"+a.const_get(u,"CG_WORD",!0,!0)+")","m")]];q(U,"[]=",a.to_a(ea));ea[l(ea.length,1)];ea=[3,["single","constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)'(?!"+a.const_get(u,"CG_WORD",
!0,!0)+")","m")]];q(U,"[]=",a.to_a(ea));ea[l(ea.length,1)];ea=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+a.const_get(u,"CC_ALL",!0,!0)+"+?)\\+\\+","m")]];q(U,"[]=",a.to_a(ea));ea[l(ea.length,1)];ea=[5,["monospaced","constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)\\+(?!"+a.const_get(u,"CG_WORD",!0,!0)+")","m")]];q(U,"[]=",a.to_a(ea));ea[l(ea.length,1)];U.$insert(3,["emphasis",
"constrained",new RegExp("(^|[^"+a.const_get(u,"CC_WORD",!0,!0)+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+a.const_get(u,"CC_ALL",!0,!0)+"*?\\S)'(?!"+a.const_get(u,"CG_WORD",!0,!0)+")","m")]);a.cdecl(f,"QUOTE_SUBS",z(!1,B,!0,U));U=B=p;a.cdecl(f,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+a.const_get(u,"CG_WORD",!0,!0)+")\\\\?--(?="+a.const_get(u,"CG_WORD",!0,!0)+")"),"&#8212;&#8203;",
"leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+a.const_get(u,"CG_ALNUM",!0,!0)+")\\\\?'(?="+a.const_get(u,"CG_ALPHA",!0,!0)+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,"","bounding"]]);(function(b,d){var e=d.slice().concat(b),f,h,n,u;a.defn(b,"$load",f=function(b,c){var d,f,g,h,k,n,u=this,
v=p,w=p,z=p,y=p,A=p,B=p,C=p,G=p,H=p,J=p,M=p,Q=p,E=p,O=p,R=p;null==c&&(c=x([],{}));try{c=c.$dup();(d=v=c["$[]"]("timings"))===p||null==d||d.$$is_boolean&&1!=d||v.$start("read");w=(z=["attributes",function(){if((d=(y=c["$[]"]("attributes"))["$!"]())===p||null==d||d.$$is_boolean&&1!=d){if((d=!1!==(f=a.const_get([a.Object.$$scope],"Hash",!0,!0)["$==="](y))&&f!==p&&null!=f?f:(g=a.const_get([a.Object.$$scope],"RUBY_ENGINE_JRUBY",!0,!0),!1!==g&&g!==p&&null!=g?a.const_get([a.const_get([a.const_get([a.Object.$$scope],
"Java",!0,!0).$$scope],"JavaUtil",!0,!0).$$scope],"Map",!0,!0)["$==="](y):g))===p||null==d||d.$$is_boolean&&1!=d){if((d=a.const_get([a.Object.$$scope],"Array",!0,!0)["$==="](y))===p||null==d||d.$$is_boolean&&1!=d){if((d=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](y))===p||null==d||d.$$is_boolean&&1!=d){if((d=(f=y["$respond_to?"]("keys"),!1!==f&&f!==p&&null!=f?y["$respond_to?"]("[]"):f))===p||null==d||d.$$is_boolean&&1!=d)return u.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,
!0),"illegal type for attributes option: "+y.$class().$ancestors());B=y;y=x([],{});q(B.$keys(),"each",[],(n=function(b){null==b&&(b=p);z=[b,B["$[]"](b)];q(y,"[]=",a.to_a(z));return z[l(z.length,1)]},n.$$s=u,n.$$arity=1,n));return y}A="\\1";y=y.$gsub(a.const_get(e,"SpaceDelimiterRx",!0,!0),""+A+a.const_get(e,"NULL",!0,!0)).$gsub(a.const_get(e,"EscapedSpaceRx",!0,!0),A);return q(y.$split(a.const_get(e,"NULL",!0,!0)),"inject",[x([],{})],(k=function(b,c){var d,e,f=p,g=p;null==b&&(b=p);null==c&&(c=p);
e=c.$split("=",2);d=a.to_ary(e);f=null==d[0]?p:d[0];g=null==d[1]?p:d[1];e;z=[f,!1!==(d=g)&&d!==p&&null!=d?d:""];q(b,"[]=",a.to_a(z));z[l(z.length,1)];return b},k.$$s=u,k.$$arity=2,k))}return q(y,"inject",[x([],{})],(h=function(b,c){var d,e,f=p,g=p;null==b&&(b=p);null==c&&(c=p);e=c.$split("=",2);d=a.to_ary(e);f=null==d[0]?p:d[0];g=null==d[1]?p:d[1];e;z=[f,!1!==(d=g)&&d!==p&&null!=d?d:""];q(b,"[]=",a.to_a(z));z[l(z.length,1)];return b},h.$$s=u,h.$$arity=2,h))}return y.$dup()}return x([],{})}()],q(c,
"[]=",a.to_a(z)),z[l(z.length,1)]);C=p;if((d=a.const_get([a.Object.$$scope],"File",!0,!0)["$==="](b))===p||null==d||d.$$is_boolean&&1!=d)if((d=b["$respond_to?"]("readlines"))===p||null==d||d.$$is_boolean&&1!=d)(d=a.const_get([a.Object.$$scope],"String",!0,!0)["$==="](b))===p||null==d||d.$$is_boolean&&1!=d?(d=a.const_get([a.Object.$$scope],"Array",!0,!0)["$==="](b))===p||null==d||d.$$is_boolean&&1!=d?u.$raise(a.const_get([a.Object.$$scope],"ArgumentError",!0,!0),"unsupported input type: "+b.$class()):
C=b.$dup():C=b.$lines().$entries();else{try{b.$rewind()}catch(aa){if(a.rescue(aa,[a.const_get(e,"StandardError",!0,!0)]))try{p}finally{a.pop_exception()}else throw aa;}C=b.$readlines()}else G=a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(b.$path()),H=(d=a.const_get([a.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH"))===p||null==d||d.$$is_boolean&&1!=d?b.$mtime():a.const_get([a.Object.$$scope],"Time",!0,!0).$at(a.const_get([a.Object.$$scope],"ENV",!0,!0)["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc(),
C=b.$readlines(),z=["docfile",G],q(w,"[]=",a.to_a(z)),z[l(z.length,1)],z=["docdir",a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(G)],q(w,"[]=",a.to_a(z)),z[l(z.length,1)],z=["docname",a.const_get(e,"Helpers",!0,!0).$basename(G,!0)],q(w,"[]=",a.to_a(z)),z[l(z.length,1)],J=(d="docdate",f=w,!1!==(g=f["$[]"](d))&&g!==p&&null!=g?g:f["$[]="](d,H.$strftime("%Y-%m-%d"))),M=(d="doctime",f=w,!1!==(g=f["$[]"](d))&&g!==p&&null!=g?g:f["$[]="](d,H.$strftime("%H:%M:%S %Z"))),z=["docdatetime",""+J+" "+M],
q(w,"[]=",a.to_a(z)),z[l(z.length,1)];!1!==v&&v!==p&&null!=v&&(v.$record("read"),v.$start("parse"));Q=c["$[]"]("parse")["$=="](!1)?a.const_get(e,"Document",!0,!0).$new(C,c):a.const_get(e,"Document",!0,!0).$new(C,c).$parse();!1!==v&&v!==p&&null!=v&&v.$record("parse");return Q}catch(aa){if(a.rescue(aa,[a.const_get(e,"StandardError",!0,!0)])){E=aa;try{try{O="asciidoctor: FAILED: "+(!1!==(d=w["$[]"]("docfile"))&&d!==p&&null!=d?d:"<stdin>")+": Failed to load AsciiDoc document",(d=E["$respond_to?"]("exception"))===
p||null==d||d.$$is_boolean&&1!=d?(R=E.$class().$new(O,E),z=[E.$stack_trace()],q(R,"stack_trace=",a.to_a(z)),z[l(z.length,1)]):(R=E.$exception(""+O+" - "+E.$message()),R.$set_backtrace(E.$backtrace()))}catch(U){if(a.rescue(U,[a.const_get(e,"StandardError",!0,!0)]))try{R=E}finally{a.pop_exception()}else throw U;}return u.$raise(R)}finally{a.pop_exception()}}else throw aa;}},f.$$arity=-2);a.defn(b,"$load_file",h=function(b,c){null==c&&(c=x([],{}));return this.$load(a.const_get([a.Object.$$scope],"File",
!0,!0).$new(!1!==b&&b!==p&&null!=b?b:""),c)},h.$$arity=-2);a.defn(b,"$convert",n=function(b,d){var f,h,n,u,v,w,z,y=p,A=p,B=p,C=p,G=p,H=p,J=p,M=p,Q=G=p,O=p,R=G=p,U=y=y=M=H=p,E=H=A=p,S=y=J=C=p,W=B=p;null==d&&(d=x([],{}));d=d.$dup();d.$delete("parse");y=d.$delete("to_file");A=d.$delete("to_dir");B=!1!==(f=d.$delete("mkdirs"))&&f!==p&&null!=f?f:!1;C=d["$[]"]("timings");G=y;if((!0)["$==="](G)||p["$==="](G))H=(f=A["$!"](),!1!==f&&f!==p&&null!=f?a.const_get([a.Object.$$scope],"File",!0,!0)["$==="](b):f),
J=!1,M=A,y=p;else if((!1)["$==="](G))M=J=H=!1,y=p;else{if("/dev/null"["$==="](G))return this.$load(b,d);H=!1;J=y["$respond_to?"]("write");M=!1!==J&&J!==p&&null!=J?!1:y}!((f=d["$key?"]("header_footer"))===p||null==f||f.$$is_boolean&&1!=f)||(f=!1!==(h=H)&&h!==p&&null!=h?h:M)===p||null==f||f.$$is_boolean&&1!=f||(G=["header_footer",!0],q(d,"[]=",a.to_a(G)),G[l(G.length,1)]);!1!==H&&H!==p&&null!=H?(Q=a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(b.$path()),G=["to_dir",O=a.const_get([a.Object.$$scope],
"File",!0,!0).$dirname(Q)],q(d,"[]=",a.to_a(G)),G[l(G.length,1)]):!1!==M&&M!==p&&null!=M?!1!==A&&A!==p&&null!=A?(G=!1!==y&&y!==p&&null!=y?["to_dir",a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(a.const_get([a.Object.$$scope],"File",!0,!0).$join(A,y)))]:["to_dir",a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(A)],q(d,"[]=",a.to_a(G)),G[l(G.length,1)]):!1!==y&&y!==p&&null!=y&&(G=["to_dir",a.const_get([a.Object.$$scope],"File",
!0,!0).$dirname(a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(y))],q(d,"[]=",a.to_a(G)),G[l(G.length,1)]):(G=["to_dir",p],q(d,"[]=",a.to_a(G)),G[l(G.length,1)]);G=this.$load(b,d);if(!1!==H&&H!==p&&null!=H)R=a.const_get([a.Object.$$scope],"File",!0,!0).$join(O,""+G.$attributes()["$[]"]("docname")+G.$outfilesuffix()),R["$=="](Q)&&this.$raise(a.const_get([a.Object.$$scope],"IOError",!0,!0),"input file and output file cannot be the same: "+R);else if(!1!==M&&M!==p&&null!=M){if(H=(f=d["$has_key?"]("base_dir"))===
p||null==f||f.$$is_boolean&&1!=f?a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(a.const_get([a.Object.$$scope],"Dir",!0,!0).$pwd()):a.const_get([a.Object.$$scope],"File",!0,!0).$expand_path(d["$[]"]("base_dir")),M=(f=c(G.$safe(),a.const_get([a.const_get(e,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===p||null==f||f.$$is_boolean&&1!=f?p:H,!1!==A&&A!==p&&null!=A?(O=G.$normalize_system_path(A,H,M,x(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==y&&y!==p&&null!=y?(R=G.$normalize_system_path(y,
O,p,x(["target_name","recover"],{target_name:"to_dir",recover:!1})),O=a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(R)):R=a.const_get([a.Object.$$scope],"File",!0,!0).$join(O,""+G.$attributes()["$[]"]("docname")+G.$outfilesuffix())):!1!==y&&y!==p&&null!=y&&(R=G.$normalize_system_path(y,H,M,x(["target_name","recover"],{target_name:"to_dir",recover:!1})),O=a.const_get([a.Object.$$scope],"File",!0,!0).$dirname(R)),(f=a.const_get([a.Object.$$scope],"File",!0,!0)["$directory?"](O))===p||null==
f||f.$$is_boolean&&1!=f)!1!==B&&B!==p&&null!=B?a.const_get(e,"Helpers",!0,!0).$mkdir_p(O):this.$raise(a.const_get([a.Object.$$scope],"IOError",!0,!0),"target directory does not exist: "+A)}else R=y,O=p;!1!==C&&C!==p&&null!=C&&C.$start("convert");y=(f=(h=!1!==R&&R!==p&&null!=R)?J["$!"]():R)===p||null==f||f.$$is_boolean&&1!=f?x([],{}):x(["outfile","outdir"],{outfile:R,outdir:O});y=G.$convert(y);!1!==C&&C!==p&&null!=C&&C.$record("convert");return!1!==R&&R!==p&&null!=R?(!1!==C&&C!==p&&null!=C&&C.$start("write"),
G.$write(y,R),!1!==C&&C!==p&&null!=C&&C.$record("write"),(f=(h=(n=(u=(v=(w=J["$!"](),!1!==w&&w!==p&&null!=w?k(G.$safe(),a.const_get([a.const_get(e,"SafeMode",!0,!0).$$scope],"SECURE",!0,!0)):w),!1!==v&&v!==p&&null!=v?G["$attr?"]("linkcss"):v),!1!==u&&u!==p&&null!=u?G["$attr?"]("copycss"):u),!1!==n&&n!==p&&null!=n?G["$attr?"]("basebackend-html"):n),!1!==h&&h!==p&&null!=h?(n=U=G.$attr("stylesdir"),!1!==n&&n!==p&&null!=n?a.const_get(e,"Helpers",!0,!0)["$uriish?"](U):n)["$!"]():h))===p||null==f||f.$$is_boolean&&
1!=f||(H=A=!1,(f=E=G.$attr("stylesheet"))===p||null==f||f.$$is_boolean&&1!=f||((f=a.const_get(e,"DEFAULT_STYLESHEET_KEYS",!0,!0)["$include?"](E))===p||null==f||f.$$is_boolean&&1!=f?(f=a.const_get(e,"Helpers",!0,!0)["$uriish?"](E)["$!"]())===p||null==f||f.$$is_boolean&&1!=f||(H=!0):A=!0),C=(f=G["$attr?"]("source-highlighter","coderay"),!1!==f&&f!==p&&null!=f?G.$attr("coderay-css","class")["$=="]("class"):f),J=(f=G["$attr?"]("source-highlighter","pygments"),!1!==f&&f!==p&&null!=f?G.$attr("pygments-css",
"class")["$=="]("class"):f),(f=!1!==(h=!1!==(n=!1!==(u=A)&&u!==p&&null!=u?u:H)&&n!==p&&null!=n?n:C)&&h!==p&&null!=h?h:J)===p||null==f||f.$$is_boolean&&1!=f||(y=G.$normalize_system_path(U,O,(f=c(G.$safe(),a.const_get([a.const_get(e,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===p||null==f||f.$$is_boolean&&1!=f?p:O),!1!==B&&B!==p&&null!=B&&a.const_get(e,"Helpers",!0,!0).$mkdir_p(y),!1!==A&&A!==p&&null!=A?a.const_get(e,"Stylesheets",!0,!0).$instance().$write_primary_stylesheet(y):!1!==H&&H!==p&&null!=
H&&(S=(f=(S=G.$attr("copycss"))["$empty?"]())===p||null==f||f.$$is_boolean&&1!=f?G.$normalize_system_path(S):G.$normalize_system_path(E),B=G.$normalize_system_path(E,y,(f=c(G.$safe(),a.const_get([a.const_get(e,"SafeMode",!0,!0).$$scope],"SAFE",!0,!0)))===p||null==f||f.$$is_boolean&&1!=f?p:O),((f=!1!==(h=S["$=="](B))&&h!==p&&null!=h?h:(W=G.$read_asset(S))["$nil?"]())===p||null==f||f.$$is_boolean&&1!=f)&&q(a.const_get([a.Object.$$scope],"File",!0,!0),"open",[B,"w"],(z=function(a){null==a&&(a=p);return a.$write(W)},
z.$$s=this,z.$$arity=1,z))),!1!==C&&C!==p&&null!=C?a.const_get(e,"Stylesheets",!0,!0).$instance().$write_coderay_stylesheet(y):!1!==J&&J!==p&&null!=J&&a.const_get(e,"Stylesheets",!0,!0).$instance().$write_pygments_stylesheet(y,G.$attr("pygments-style")))),G):y},n.$$arity=-2);a.alias(b,"render","convert");a.defn(b,"$convert_file",u=function(b,c){null==c&&(c=x([],{}));return this.$convert(a.const_get([a.Object.$$scope],"File",!0,!0).$new(!1!==b&&b!==p&&null!=b?b:""),c)},u.$$arity=-2);return a.alias(b,
"render_file","convert_file")})(a.get_singleton_class(e),u);a.const_get(u,"RUBY_ENGINE",!0,!0)["$=="]("opal")?(e.$require("asciidoctor/version"),e.$require("asciidoctor/timings")):p})(a.base,f);d.$require("asciidoctor/core_ext");d.$require("asciidoctor/helpers");d.$require("asciidoctor/substitutors");d.$require("asciidoctor/abstract_node");d.$require("asciidoctor/abstract_block");d.$require("asciidoctor/attribute_list");d.$require("asciidoctor/block");d.$require("asciidoctor/callouts");d.$require("asciidoctor/converter");
(e=a.const_get(f,"RUBY_ENGINE_OPAL",!0,!0))===p||null==e||e.$$is_boolean&&1!=e||d.$require("asciidoctor/converter/html5");d.$require("asciidoctor/document");d.$require("asciidoctor/inline");d.$require("asciidoctor/list");d.$require("asciidoctor/parser");d.$require("asciidoctor/path_resolver");d.$require("asciidoctor/reader");d.$require("asciidoctor/section");d.$require("asciidoctor/stylesheets");return d.$require("asciidoctor/table")})(Opal);var w=function(a){return a&&!a.smap?Opal.hash(a):a},y=function(a){if(a=
w(a)){var c=a["$[]"]("attributes");c&&"object"===typeof c&&"Object"===c.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",w(c)))}return a};Opal.Asciidoctor.$$class.$$proto.convert=function(a,c){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var h=this.$convert(a,y(c));return h===Opal.nil?"":h};Opal.Asciidoctor.$$class.$$proto.convertFile=function(a,c){return this.$convert_file(a,y(c))};Opal.Asciidoctor.$$class.$$proto.load=function(a,c){"object"===typeof a&&"Buffer"===
a.constructor.name&&(a=a.toString("utf8"));return this.$load(a,y(c))};Opal.Asciidoctor.$$class.$$proto.loadFile=function(a,c){return this.$load_file(a,y(c))};Opal.Asciidoctor.AbstractBlock.$$proto.getTitle=function(){var a=this.title;return a===Opal.nil?"":a};Opal.Asciidoctor.AbstractBlock.$$proto.getStyle=function(){return this.style};Opal.Asciidoctor.AbstractBlock.$$proto.getCaption=function(){return this.caption};Opal.Asciidoctor.AbstractBlock.$$proto.getLevel=function(){return this.level};Opal.Asciidoctor.AbstractBlock.$$proto.getBlocks=
function(){return this.blocks};Opal.Asciidoctor.AbstractBlock.$$proto.getContent=function(){return this.$content()};Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()};Opal.Asciidoctor.AbstractBlock.$$proto.findBy=function(a,c){return"undefined"===typeof c&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof c?Opal.send(this,"find_by",[w(a)],c):this.$find_by(w(a))};Opal.Asciidoctor.AbstractBlock.$$proto.convert=function(){return this.$convert()};
Opal.Asciidoctor.AbstractNode.$$proto.getAttributes=function(){for(var a={},c=this.attributes,h=0,l=c.$$keys,k=c.$$smap,e=l.length;h<e;h++)c=l[h],a[c]=k[c];return a};Opal.Asciidoctor.AbstractNode.$$proto.getAttribute=function(a,c,h){a=this.$attr(a,c,h);return a===Opal.nil?void 0:a};Opal.Asciidoctor.AbstractNode.$$proto.isAttribute=function(a,c,h){a=this["$attr?"](a,c,h);return a===Opal.nil?void 0:a};Opal.Asciidoctor.AbstractNode.$$proto.setAttribute=function(a,c,h){"undefined"===typeof h&&(h=!0);
return this.$set_attribute(a,c,h)};Opal.Asciidoctor.AbstractNode.$$proto.isInline=function(){return this["$inline?"]()};Opal.Asciidoctor.AbstractNode.$$proto.isBlock=function(){return this["$block?"]()};Opal.Asciidoctor.AbstractNode.$$proto.isRole=function(a){return this["$role?"](a)};Opal.Asciidoctor.AbstractNode.$$proto.getRole=function(){return this.$role()};Opal.Asciidoctor.AbstractNode.$$proto.hasRole=function(a){return this["$has_role?"](a)};Opal.Asciidoctor.AbstractNode.$$proto.getRoles=function(){return this.$roles()};
Opal.Asciidoctor.AbstractNode.$$proto.addRole=function(a){return this.$add_role(a)};Opal.Asciidoctor.AbstractNode.$$proto.removeRole=function(a){return this.$remove_role(a)};Opal.Asciidoctor.AbstractNode.$$proto.isReftext=function(){return this["$reftext?"]()};Opal.Asciidoctor.AbstractNode.$$proto.getReftext=function(){return this.$reftext()};Opal.Asciidoctor.AbstractNode.$$proto.getContext=function(){var a=this.context;return a&&"function"===typeof a.$to_s?a.$to_s():a};Opal.Asciidoctor.AbstractNode.$$proto.getId=
function(){return this.id};Opal.Asciidoctor.AbstractNode.$$proto.isOption=function(a){return this["$option?"](a)};Opal.Asciidoctor.AbstractNode.$$proto.setOption=function(a){return this.$set_option(a)};Opal.Asciidoctor.AbstractNode.$$proto.getIconUri=function(a){return this.$icon_uri(a)};Opal.Asciidoctor.AbstractNode.$$proto.getMediaUri=function(a,c){return this.$media_uri(a,c)};Opal.Asciidoctor.AbstractNode.$$proto.getImageUri=function(a,c){return this.$image_uri(a,c)};Opal.Asciidoctor.AbstractNode.$$proto.getConverter=
function(){return this.$converter()};Opal.Asciidoctor.AbstractNode.$$proto.readContents=function(a,c){return this.$read_contents(a,w(c))};Opal.Asciidoctor.AbstractNode.$$proto.readAsset=function(a,c){return this.$read_asset(a,w(c))};Opal.Asciidoctor.AbstractNode.$$proto.normalizeWebPath=function(a,c,h){return this.$normalize_web_path(a,c,h)};Opal.Asciidoctor.AbstractNode.$$proto.normalizeSystemPath=function(a,c,h,l){return this.$normalize_system_path(a,c,h,w(l))};Opal.Asciidoctor.AbstractNode.$$proto.normalizeAssetPath=
function(a,c,h){return this.$normalize_asset_path(a,c,h)};Opal.Asciidoctor.Document.$$proto.getHeader=function(){return this.header};Opal.Asciidoctor.Document.$$proto.setAttribute=function(a,c){return this.$set_attribute(a,c)};Opal.Asciidoctor.Document.$$proto.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};Opal.Asciidoctor.Document.$$proto.convert=function(a){a=this.$convert(w(a));return a===Opal.nil?"":a};Opal.Asciidoctor.Document.$$proto.write=function(a,
c){return this.$write(a,c)};Opal.Asciidoctor.Document.$$proto.getAuthor=function(){return this.$author()};Opal.Asciidoctor.Document.$$proto.getSource=function(){return this.$source()};Opal.Asciidoctor.Document.$$proto.getSourceLines=function(){return this.$source_lines()};Opal.Asciidoctor.Document.$$proto.isNested=function(){return this["$nested?"]()};Opal.Asciidoctor.Document.$$proto.hasFootnotes=function(){return this["$footnotes?"]()};Opal.Asciidoctor.Document.$$proto.getFootnotes=function(){return this.$footnotes()};
Opal.Asciidoctor.Document.$$proto.isEmbedded=function(){return this["$embedded?"]()};Opal.Asciidoctor.Document.$$proto.hasExtensions=function(){return this["$extensions?"]()};Opal.Asciidoctor.Document.$$proto.getDoctype=function(){return this.$doctype()};Opal.Asciidoctor.Document.$$proto.getBackend=function(){return this.$backend()};Opal.Asciidoctor.Document.$$proto.isBasebackend=function(a){return this["$basebackend?"](a)};Opal.Asciidoctor.Document.$$proto.getTitle=function(){return this.$title()};
Opal.Asciidoctor.Document.$$proto.setTitle=function(a){return this["$title="](a)};Opal.Asciidoctor.Document.$$proto.getDoctitle=Opal.Asciidoctor.Document.$$proto.getDocumentTitle=function(a){return this.$doctitle(w(a))};Opal.Asciidoctor.Document.$$proto.getRevdate=Opal.Asciidoctor.Document.$$proto.getRevisionDate=function(){return this.$revdate()};Opal.Asciidoctor.Document.$$proto.getNotitle=function(){return this.$notitle()};Opal.Asciidoctor.Document.$$proto.getNoheader=function(){return this.$noheader()};
Opal.Asciidoctor.Document.$$proto.getNofooter=function(){return this.$nofooter()};Opal.Asciidoctor.Document.$$proto.hasHeader=function(){return this["$header?"]()};Opal.Asciidoctor.Document.$$proto.deleteAttribute=function(a){return this.$delete_attribute(a)};Opal.Asciidoctor.Document.$$proto.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};Opal.Asciidoctor.Document.$$proto.parse=function(a){return this.$parse(a)};Opal.Asciidoctor.Document.$$proto.getDocinfo=function(a,c){return this.$docinfo(a,
c)};Opal.Asciidoctor.Document.$$proto.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};Opal.Asciidoctor.Document.$$proto.counterIncrement=function(a,c){return this.$counter_increment(a,c)};Opal.Asciidoctor.Document.$$proto.counter=function(a,c){return this.$counter(a,c)};Opal.Asciidoctor.Document.$$proto.getSafe=function(){return this.$safe};Opal.Asciidoctor.Document.$$proto.getCompatMode=function(){return this.$compat_mode};Opal.Asciidoctor.Document.$$proto.getSourcemap=function(){return this.$sourcemap};
Opal.Asciidoctor.Document.$$proto.getReferences=function(){return this.$references};Opal.Asciidoctor.Document.$$proto.getCounters=function(){return this.$counters};Opal.Asciidoctor.Document.$$proto.getCallouts=function(){return this.$callouts};Opal.Asciidoctor.Document.$$proto.getBaseDir=function(){return this.$base_dir};Opal.Asciidoctor.Document.$$proto.getOptions=function(){return this.$options};Opal.Asciidoctor.Document.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix};Opal.Asciidoctor.Document.$$proto.getParentDocument=
function(){return this.$parent_document};Opal.Asciidoctor.Document.$$proto.getReader=function(){return this.$reader};Opal.Asciidoctor.Document.$$proto.getConverter=function(){return this.$converter};Opal.Asciidoctor.Document.$$proto.getExtensions=function(){return this.$extensions};Opal.Asciidoctor.Document.Title.$$proto.getMain=function(){return this.main};Opal.Asciidoctor.Document.Title.$$proto.getCombined=function(){return this.combined};Opal.Asciidoctor.Document.Title.$$proto.getSubtitle=function(){return this.subtitle};
Opal.Asciidoctor.Document.Title.$$proto.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};Opal.Asciidoctor.Document.Title.$$proto.hasSubtitle=function(){return this["$subtitle?"]()};Opal.Asciidoctor.Inline.$$proto.convert=function(){return this.$convert()};var B=function(a){a.$$arity=a.length;return a},l=Opal.Asciidoctor.$$scope.Extensions;l.register=function(a,c){return"function"===typeof a&&"undefined"===typeof c?Opal.send(this,"register",null,B(a)):Opal.send(this,"register",
[a],B(c))};l.Registry.$$proto.block=function(a,c){return"function"===typeof a&&"undefined"===typeof c?Opal.send(this,"block",null,B(a)):Opal.send(this,"block",[a],B(c))};l.Registry.$$proto.inlineMacro=function(a,c){return"function"===typeof a&&"undefined"===typeof c?Opal.send(this,"inline_macro",null,B(a)):Opal.send(this,"inline_macro",[a],B(c))};l.Processor.$$proto.process=function(a){return Opal.send(this,"process",null,B(a))};l.Processor.$$proto.createBlock=function(a,c,h,l,k){return this.$create_block(a,
c,h,w(l),w(k))};l.Processor.$$proto.createInline=function(a,c,h,l){return this.$create_inline(a,c,h,w(l))};l.Processor.$$proto.parseContent=function(a,c,h){return this.$parse_content(a,c,h)};l.BlockProcessor.$$proto.named=function(a){return this.$named(a)};l.BlockProcessor.$$proto.onContext=function(a){return this.$on_context(a)};return Opal.Asciidoctor});
