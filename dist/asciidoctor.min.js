"undefined"===typeof Opal&&"object"===typeof module&&module.exports&&(Opal=require("opal-runtime").Opal);
"undefined"===typeof Opal&&(function(b){function u(){}function B(){}function v(){}function q(){}function p(){}function D(a,b){if(a)return a.$$const[b]}function a(a,b){var c,d,f;if(null!=a)for(f=e.ancestors(a),c=0,d=f.length;c<d;c++)if(f[c].$$const&&S.call(f[c].$$const,b))return f[c].$$const[b]}function m(a,b,d){if(!d)return(a||c).$const_missing(b)}function h(a,b){var c,d,f=b.$instance_methods();for(c=f.length-1;0<=c;c--)d="$"+f[c],e.bridge_method(a,b,d,b.$$proto[d])}var y=this,l;"undefined"!==typeof global&&
(y=global);"undefined"!==typeof window&&(y=window);l="object"===typeof y.console?y.console:null==y.console?y.console={}:{};"log"in l||(l.log=function(){});"warn"in l||(l.warn=l.log);if("undefined"!==typeof this.Opal)return l.warn("Opal already loaded. Loading twice can cause troubles, please fix your setup."),this.Opal;var w,g,c,n,f,e=this.Opal={},d={};e.global=y;y.Opal=e;e.config={missing_require_severity:"error",unsupported_features_severity:"warning",enable_stack_trace:!0};var S=Object.hasOwnProperty;
e.slice=Array.prototype.slice;var t=4;e.uid=function(){return t+=2};e.id=function(a){return a.$$is_number?2*a+1:a.$$id||(a.$$id=e.uid())};e.gvars={};e.exit=function(a){e.gvars.DEBUG&&l.log("Exited with status "+a)};e.exceptions=[];e.pop_exception=function(){e.gvars["!"]=e.exceptions.pop()||w};e.inspect=function(a){return a===b?"undefined":null===a?"null":a.$$class?a.$inspect():a.toString()};e.truthy=function(a){return a!==w&&null!=a&&(!a.$$is_boolean||1==a)};e.falsy=function(a){return a===w||null==
a||a.$$is_boolean&&0==a};e.const_get_local=function(a,b,d){var f;if(null!=a){"::"===a&&(a=c);if(!a.$$is_a_module)throw new e.TypeError(a.toString()+" is not a class/module");f=D(a,b);if(null!=f)return f;f=m(a,b,d);if(null!=f)return f}};e.const_get_qualified=function(b,d,f){var g,h,l=e.const_cache_version;if(null!=b){"::"===b&&(b=c);if(!b.$$is_a_module)throw new e.TypeError(b.toString()+" is not a class/module");h=null==b.$$const_cache?b.$$const_cache=Object.create(null):b.$$const_cache;g=h[d];null==
g||g[0]!==l?(null!=(g=D(b,d))||null!=(g=a(b,d)),h[d]=[l,g]):g=g[1];return null!=g?g:m(b,d,f)}};e.const_cache_version=1;e.const_get_relative=function(b,d,f){var g=b[0],h,l=e.const_cache_version,w;w=null==b.$$const_cache?b.$$const_cache=Object.create(null):b.$$const_cache;h=w[d];if(null==h||h[0]!==l){var t;if(!(t=null!=(h=D(g,d)))){a:{var n;if(0!==b.length)for(h=0,t=b.length;h<t;h++)if(n=b[h].$$const[d],null!=n){b=n;break a}b=void 0}t=null!=(h=b)}t||null!=(h=a(g,d))||(b=null==g||g.$$is_module?a(c,d):
void 0,null!=(h=b));w[d]=[l,h]}else h=h[1];return null!=h?h:m(g,d,f)};e.const_set=function(a,b,d){if(null==a||"::"===a)a=c;if(d.$$is_a_module){if(null==d.$$name||d.$$name===w)d.$$name=b;null==d.$$base_module&&(d.$$base_module=a)}a.$$const=a.$$const||Object.create(null);a.$$const[b]=d;e.const_cache_version++;a===c&&(e[b]=d);return d};e.constants=function(a,b){null==b&&(b=!0);var d,f=[a],g,m,h={},l;b&&(f=f.concat(e.ancestors(a)));b&&a.$$is_module&&(f=f.concat([e.Object]).concat(e.ancestors(e.Object)));
g=0;for(m=f.length;g<m;g++){d=f[g];if(a!==c&&d==c)break;for(l in d.$$const)h[l]=!0}return Object.keys(h)};e.const_remove=function(a,b){e.const_cache_version++;if(null!=a.$$const[b]){var c=a.$$const[b];delete a.$$const[b];return c}if(null!=a.$$autoload&&null!=a.$$autoload[b])return delete a.$$autoload[b],w;throw e.NameError.$new("constant "+a+"::"+a.$name()+" not defined");};e.klass=function(a,b,d,f){var g,m;null==a&&(a=c);a.$$is_class||a.$$is_module||(a=a.$$class);"function"===typeof b&&(m=b,b=c);
if(g=D(a,d)){if(!g.$$is_class)throw e.TypeError.$new(d+" is not a class");if(b&&g.$$super!==b)throw e.TypeError.$new("superclass mismatch for class "+d);return g}null==b&&(b=c);f=m||e.boot_class_alloc(d,f,b);g=e.setup_class_object(d,f,b.$$name,b.constructor);g.$$super=b;g.$$parent=b;e.const_set(a,d,g);a[d]=g;m?e.bridge(g,f):b.$inherited&&b.$inherited(g);return g};e.boot_class_alloc=function(a,b,c){if(c){var d=function(){};d.prototype=c.$$proto||c.prototype;b.prototype=new d}a&&(b.displayName=a+"_alloc");
return b.prototype.constructor=b};e.setup_module_or_class=function(a){a.$$id=e.uid();a.$$is_a_module=!0;a.$$inc=[];a.$$name=w;a.$$const=Object.create(null);a.$$cvars=Object.create(null)};e.setup_class_object=function(a,b,c,d){var g=function(){};g.prototype=d.prototype;g.displayName=c;c=function(){};c.prototype=new g;g=new c;e.setup_module_or_class(g);g.$$alloc=b;g.$$name=a||w;c.displayName="#<Class:"+(a||"#<Class:"+g.$$id+">")+">";g.$$proto=b.prototype;g.$$proto.$$class=g;g.constructor=c;g.$$is_class=
!0;g.$$class=f;return g};e.module=function(b,d){var f;null==b&&(b=c);b.$$is_class||b.$$is_module||(b=b.$$class);f=D(b,d);null==f&&b===c&&(f=a(c,d));if(f){if(!f.$$is_module&&f!==c)throw e.TypeError.$new(d+" is not a module");}else f=e.module_allocate(n),e.const_set(b,d,f);return f};e.module_initialize=function(a,b){if(b!==w){var c=b.$$s;b.$$s=null;b.call(a);b.$$s=c}return w};e.module_allocate=function(a){var b=function(){};b.prototype=a.$$alloc.prototype;var c=function(){};c.prototype=new b;b=new c;
e.setup_module_or_class(b);b.$$included_in=[];c.displayName="#<Class:#<Module:"+b.$$id+">>";b.$$proto={};b.constructor=c;b.$$is_module=!0;b.$$class=n;b.$$super=a;b.$$parent=a;return b};e.get_singleton_class=function(a){return a.$$meta?a.$$meta:a.$$is_class||a.$$is_module?e.build_class_singleton_class(a):e.build_object_singleton_class(a)};e.build_class_singleton_class=function(a){var b,c;if(a.$$meta)return a.$$meta;b=a.constructor;c=a===g?f:e.build_class_singleton_class(a.$$super);b=e.setup_class_object(null,
b,c.$$name,c.constructor);b.$$super=c;b.$$parent=c;b.$$is_singleton=!0;b.$$singleton_of=a;return a.$$meta=b};e.build_object_singleton_class=function(a){var b=a.$$class,c="#<Class:#<"+b.$$name+":"+b.$$id+">>",d=e.boot_class_alloc(c,function(){},b),c=e.setup_class_object(c,d,b.$$name,b.constructor);c.$$super=b;c.$$parent=b;c.$$class=b.$$class;c.$$proto=a;c.$$is_singleton=!0;c.$$singleton_of=a;return a.$$meta=c};e.class_variables=function(a){a=e.ancestors(a);var b,c={};for(b=a.length-1;0<=b;b--){var d=
a[b],f;for(f in d.$$cvars)c[f]=d.$$cvars[f]}return c};e.class_variable_set=function(a,b,c){var d=e.ancestors(a),f;for(f=d.length-2;0<=f;f--){var g=d[f];if(S.call(g.$$cvars,b))return g.$$cvars[b]=c}return a.$$cvars[b]=c};e.bridge_method=function(a,b,c,d){var e,f,g,m;e=a.$$bridge.$ancestors();f=0;for(m=e.length;f<m;f++){g=e[f];if(S.call(g.$$proto,c)&&g.$$proto[c]&&!g.$$proto[c].$$donated&&!g.$$proto[c].$$stub&&g!==b)break;if(g===b){a.prototype[c]=d;break}}};e.bridge_methods=function(a,b){var c,e=d[a.$__id__()];
c=b.$__id__();if(e)for(d[c]=e.slice(),c=e.length-1;0<=c;c--)h(e[c],b)};e.has_cyclic_dep=function ea(a,b,c,d){var e,f,g;for(e=b.length-1;0<=e;e--)if(g=b[e],f=g.$$id,!d[f]&&(d[f]=!0,f===a||ea(a,g[c],c,d)))return!0;return!1};e.append_features=function(a,b){var c,d;for(d=b.$$inc.length-1;0<=d;d--)if(b.$$inc[d]===a)return;if(!b.$$is_class&&e.has_cyclic_dep(b.$$id,[a],"$$inc",{}))throw e.ArgumentError.$new("cyclic include detected");e.const_cache_version++;b.$$inc.push(a);a.$$included_in.push(b);e.bridge_methods(b,
a);b.$$parent={$$name:a.$$name,$$proto:a.$$proto,$$parent:b.$$parent,$$module:a,$$iclass:!0};c=a.$instance_methods();for(d=c.length-1;0<=d;d--)e.update_includer(a,b,"$"+c[d])};e.stubs={};e.bridge=function(a,b){if(b.$$bridge)throw e.ArgumentError.$new("already bridged");e.stub_subscribers.push(b.prototype);for(var c in e.stubs)c in b.prototype||(b.prototype[c]=e.stub_for(c));b.prototype.$$class=a;b.$$bridge=a;c=a.$ancestors();for(var f=c.length-1;0<=f;f--){var g=b,m=c[f].$__id__();d[m]||(d[m]=[]);
d[m].push(g);h(b,c[f])}for(var l in u.prototype){var w=u.prototype[w];!w||!w.$$stub||l in b.prototype||(b.prototype[l]=w)}return a};e.update_includer=function(a,b,c){var d,f,g,m,h,l,w,t;g=a.$$proto[c];d=b.$$proto;f=d[c];if(!d.hasOwnProperty(c)||f.$$donated||f.$$stub)if(d.hasOwnProperty(c)&&!f.$$stub){m=b.$$inc;h=0;for(l=m.length;h<l;h++)m[h]===f.$$donated&&(w=h),m[h]===a&&(t=h);w<=t&&(d[c]=g,d[c].$$donated=a)}else d[c]=g,d[c].$$donated=a;b.$$included_in&&e.update_includers(b,c)};e.update_includers=
function(a,b){var c,d,f,g;if(g=a.$$included_in)for(c=0,d=g.length;c<d;c++)f=g[c],e.update_includer(a,f,b)};e.ancestors=function(a){for(var b=[],c,d,f,g;a;){b.push(a);for(d=a.$$inc.length-1;0<=d;d--)for(c=e.ancestors(a.$$inc[d]),f=0,g=c.length;f<g;f++)b.push(c[f]);a=a.$$is_singleton&&a.$$singleton_of.$$is_module?a.$$singleton_of.$$super:a.$$is_class?a.$$super:null}return b};e.add_stubs=function(a){var b,c=e.stub_subscribers,d,f=a.length,g,m=c.length,h,l,w=e.stubs;for(d=0;d<f;d++)if(h=a[d],!w.hasOwnProperty(h))for(w[h]=
!0,l=e.stub_for(h),g=0;g<m;g++)b=c[g],h in b||(b[h]=l)};e.stub_subscribers=[u.prototype];e.add_stub_for=function(a,b){var c=e.stub_for(b);a[b]=c};e.stub_for=function(a){function b(){this.$method_missing.$$p=b.$$p;b.$$p=null;for(var c=Array(arguments.length),d=0,e=c.length;d<e;d++)c[d]=arguments[d];return this.$method_missing.apply(this,[a.slice(1)].concat(c))}b.$$stub=!0;return b};e.ac=function(a,b,c,d){var f="",f=c.$$is_class||c.$$is_module?f+(c.$$name+"."):f+(c.$$class.$$name+"#");throw e.ArgumentError.$new("["+
(f+d)+"] wrong number of arguments("+a+" for "+b+")");};e.block_ac=function(a,b,c){throw e.ArgumentError.$new("`block in "+c+"': wrong number of arguments ("+a+" for "+b+")");};e.find_super_dispatcher=function(a,b,c,d,f){c=(f?a.$$is_class||a.$$is_module?f.$$super:a.$$class.$$proto:e.find_obj_super_dispatcher(a,b,c))["$"+b];if(!d&&c.$$stub&&e.Kernel.$method_missing===a.$method_missing)throw e.NoMethodError.$new("super: no superclass method `"+b+"' for "+a,b);return c};e.find_iter_super_dispatcher=
function(a,b,c,d,f){if(!c)throw e.RuntimeError.$new("super called outside of method");if(f&&c.$$define_meth)throw e.RuntimeError.$new("implicit argument passing of super from method defined by define_method() is not supported. Specify all arguments explicitly");c.$$def&&(b=c.$$jsid);return e.find_super_dispatcher(a,b,c,d)};e.find_obj_super_dispatcher=function(a,b,c){a=a.$$meta||a.$$class;a=e.find_owning_class(a,c);if(!a)throw Error("could not find current class for super()");return e.find_super_func(a,
"$"+b,c)};e.find_owning_class=function(a,b){for(var c=b.$$owner;!(!a||a.$$iclass&&a.$$module===b.$$donated||a.$$iclass&&a.$$module===c||c.$$is_singleton&&a===c.$$singleton_of.$$class)&&a!==c;)a=a.$$parent;return a};e.find_super_func=function(a,b,c){for(a=a.$$parent;a;){var d=a.$$proto[b];if(d&&d!==c)break;a=a.$$parent}return a.$$proto};e.ret=function(a){e.returner.$v=a;throw e.returner;};e.brk=function(a,b){b.$v=a;throw b;};e.new_brk=function(){return Error("unexpected break")};e.yield1=function(a,
b){if("function"!==typeof a)throw e.LocalJumpError.$new("no block given");var c=a.$$has_top_level_mlhs_arg,d=a.$$has_trailing_comma_in_args;if(1<a.length||(c||d)&&1===a.length)b=e.to_ary(b);return(1<a.length||d&&1===a.length)&&b.$$is_array?a.apply(null,b):a(b)};e.yieldX=function(a,b){if("function"!==typeof a)throw e.LocalJumpError.$new("no block given");if(1<a.length&&1===b.length&&b[0].$$is_array)return a.apply(null,b[0]);if(!b.$$is_array){for(var c=Array(b.length),d=0,f=c.length;d<f;d++)c[d]=b[d];
return a.apply(null,c)}return a.apply(null,b)};e.rescue=function(a,b){for(var c=0;c<b.length;c++){var d=b[c];if(d.$$is_array){if(d=e.rescue(a,d))return d}else if(d===e.JS.Error||d["$==="](a))return d}return null};e.is_a=function(a,b){if(a.$$meta===b||a.$$class===b||a.$$is_number&&b.$$is_number_class)return!0;var c,d,f=e.ancestors(a.$$is_class?e.get_singleton_class(a):a.$$meta||a.$$class);c=0;for(d=f.length;c<d;c++)if(f[c]===b)return!0;return!1};e.to_hash=function(a){if(a.$$is_hash)return a;if(a["$respond_to?"]("to_hash",
!0)){var b=a.$to_hash();if(b.$$is_hash)return b;throw e.TypeError.$new("Can't convert "+a.$$class+" to Hash ("+a.$$class+"#to_hash gives "+b.$$class+")");}throw e.TypeError.$new("no implicit conversion of "+a.$$class+" into Hash");};e.to_ary=function(a){if(a.$$is_array)return a;if(a["$respond_to?"]("to_ary",!0)){var b=a.$to_ary();if(b===w)return[a];if(b.$$is_array)return b;throw e.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_ary gives "+b.$$class+")");}return[a]};e.to_a=
function(a){if(a.$$is_array)return a.slice();if(a["$respond_to?"]("to_a",!0)){var b=a.$to_a();if(b===w)return[a];if(b.$$is_array)return b;throw e.TypeError.$new("Can't convert "+a.$$class+" to Array ("+a.$$class+"#to_a gives "+b.$$class+")");}return[a]};e.extract_kwargs=function(a){var b=a[a.length-1];return null!=b&&b["$respond_to?"]("to_hash",!0)?(Array.prototype.splice.call(a,a.length-1,1),b.$to_hash()):e.hash2([],{})};e.kwrestargs=function(a,b){var c=[],d={},f=null,g=a.$$smap;for(f in g)b[f]||
(c.push(f),d[f]=g[f]);return e.hash2(c,d)};e.send=function(a,b,c,d){var e="string"===typeof b?a["$"+b]:b;return null!=e?(e.$$p=d,e.apply(a,c)):a.$method_missing.apply(a,[b].concat(c))};e.def=function(a,b,c){a.$$eval||!a.$$is_class&&!a.$$is_module?e.defs(a,b,c):e.defn(a,b,c)};e.defn=function(a,b,c){a.$$proto[b]=c;c.$$owner=a;a.$$is_module&&(e.update_includers(a,b),a.$$module_function&&e.defs(a,b,c));var f=a.$__id__&&!a.$__id__.$$stub&&d[a.$__id__()];if(f)for(var g=f.length-1;0<=g;g--)e.bridge_method(f[g],
a,b,c);c=a.$$singleton_of;!a.$method_added||a.$method_added.$$stub||c?c&&c.$singleton_method_added&&!c.$singleton_method_added.$$stub&&c.$singleton_method_added(b.substr(1)):a.$method_added(b.substr(1));return w};e.defs=function(a,b,c){e.defn(e.get_singleton_class(a),b,c)};e.rdef=function(a,b){if(!S.call(a.$$proto,b))throw e.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());delete a.$$proto[b];a.$$is_singleton?a.$$proto.$singleton_method_removed&&!a.$$proto.$singleton_method_removed.$$stub&&
a.$$proto.$singleton_method_removed(b.substr(1)):a.$method_removed&&!a.$method_removed.$$stub&&a.$method_removed(b.substr(1))};e.udef=function(a,b){if(!a.$$proto[b]||a.$$proto[b].$$stub)throw e.NameError.$new("method '"+b.substr(1)+"' not defined in "+a.$name());e.add_stub_for(a.$$proto,b);a.$$is_singleton?a.$$proto.$singleton_method_undefined&&!a.$$proto.$singleton_method_undefined.$$stub&&a.$$proto.$singleton_method_undefined(b.substr(1)):a.$method_undefined&&!a.$method_undefined.$$stub&&a.$method_undefined(b.substr(1))};
e.alias=function(a,b,c){var d="$"+b,f="$"+c,g=a.$$proto["$"+c],m;if(a.$$eval)return e.alias(e.get_singleton_class(a),b,c);if("function"!==typeof g||g.$$stub){for(var h=a.$$super;"function"!==typeof g&&h;)g=h[f],h=h.$$super;if("function"!==typeof g||g.$$stub)throw e.NameError.$new("undefined method `"+c+"' for class `"+a.$name()+"'");}g.$$alias_of&&(g=g.$$alias_of);m=function(){var a=m.$$p,b,c,d;b=Array(arguments.length);c=0;for(d=arguments.length;c<d;c++)b[c]=arguments[c];null!=a&&(m.$$p=null);return e.send(this,
g,b,a)};m.displayName=b;m.length=g.length;m.$$arity=g.$$arity;m.$$parameters=g.$$parameters;m.$$source_location=g.$$source_location;m.$$alias_of=g;m.$$alias_name=b;e.defn(a,d,m);return a};e.alias_native=function(a,b,c){b="$"+b;var d=a.$$proto[c];if("function"!==typeof d||d.$$stub)throw e.NameError.$new("undefined native method `"+c+"' for class `"+a.$name()+"'");e.defn(a,b,d);return a};e.hash_init=function(a){a.$$smap=Object.create(null);a.$$map=Object.create(null);a.$$keys=[]};e.hash_clone=function(a,
b){b.$$none=a.$$none;b.$$proc=a.$$proc;for(var c=0,d=a.$$keys,f=a.$$smap,g=d.length,m,h;c<g;c++)m=d[c],m.$$is_string?h=f[m]:(h=m.value,m=m.key),e.hash_put(b,m,h)};e.hash_put=function(a,c,d){if(c.$$is_string)S.call(a.$$smap,c)||a.$$keys.push(c),a.$$smap[c]=d;else{var f,g,m;f=a.$$by_identity?e.id(c):c.$hash();if(S.call(a.$$map,f)){for(g=a.$$map[f];g;){if(c===g.key||c["$eql?"](g.key)){m=b;g.value=d;break}m=g;g=g.next}m&&(g={key:c,key_hash:f,value:d},a.$$keys.push(g),m.next=g)}else g={key:c,key_hash:f,
value:d},a.$$keys.push(g),a.$$map[f]=g}};e.hash_get=function(a,b){if(b.$$is_string){if(S.call(a.$$smap,b))return a.$$smap[b]}else{var c;c=a.$$by_identity?e.id(b):b.$hash();if(S.call(a.$$map,c))for(c=a.$$map[c];c;){if(b===c.key||b["$eql?"](c.key))return c.value;c=c.next}}};e.hash_delete=function(a,b){var c,d=a.$$keys,e=d.length,f;if(b.$$is_string){if(!S.call(a.$$smap,b))return;for(c=0;c<e;c++)if(d[c]===b){d.splice(c,1);break}f=a.$$smap[b];delete a.$$smap[b];return f}var g=b.$hash();if(S.call(a.$$map,
g))for(var m=a.$$map[g],h;m;){if(b===m.key||b["$eql?"](m.key)){f=m.value;for(c=0;c<e;c++)if(d[c]===m){d.splice(c,1);break}h&&m.next?h.next=m.next:h?delete h.next:m.next?a.$$map[g]=m.next:delete a.$$map[g];return f}h=m;m=m.next}};e.hash_rehash=function(a){for(var c=0,d=a.$$keys.length,e,f,g;c<d;c++)if(!a.$$keys[c].$$is_string&&(e=a.$$keys[c].key.$hash(),e!==a.$$keys[c].key_hash)){f=a.$$map[a.$$keys[c].key_hash];for(g=b;f;){if(f===a.$$keys[c]){g&&f.next?g.next=f.next:g?delete g.next:f.next?a.$$map[a.$$keys[c].key_hash]=
f.next:delete a.$$map[a.$$keys[c].key_hash];break}g=f;f=f.next}a.$$keys[c].key_hash=e;if(S.call(a.$$map,e)){f=a.$$map[e];for(g=b;f;){if(f===a.$$keys[c]){g=b;break}g=f;f=f.next}g&&(g.next=a.$$keys[c])}else a.$$map[e]=a.$$keys[c]}};e.hash=function(){var a=arguments.length,b,c,d,f,g;if(1===a&&arguments[0].$$is_hash)return arguments[0];b=new e.Hash.$$alloc;e.hash_init(b);if(1===a&&arguments[0].$$is_array){a=arguments[0];d=a.length;for(c=0;c<d;c++){if(2!==a[c].length)throw e.ArgumentError.$new("value not of length 2: "+
a[c].$inspect());f=a[c][0];g=a[c][1];e.hash_put(b,f,g)}return b}if(1===a){a=arguments[0];for(f in a)S.call(a,f)&&(g=a[f],e.hash_put(b,f,g));return b}if(0!==a%2)throw e.ArgumentError.$new("odd number of arguments for Hash");for(c=0;c<a;c+=2)f=arguments[c],g=arguments[c+1],e.hash_put(b,f,g);return b};e.hash2=function(a,b){var c=new e.Hash.$$alloc;c.$$smap=b;c.$$map=Object.create(null);c.$$keys=a;return c};e.range=function(a,b,c){var d=new e.Range.$$alloc;d.begin=a;d.end=b;d.exclude=c;return d};e.ivar=
function(a){return"constructor"===a||"displayName"===a||"__count__"===a||"__noSuchMethod__"===a||"__parent__"===a||"__proto__"===a||"hasOwnProperty"===a||"valueOf"===a?a+"$":a};e.escape_regexp=function(a){return a.replace(/([-[\]\/{}()*+?.^$\\| ])/g,"\\$1").replace(/[\n]/g,"\\n").replace(/[\r]/g,"\\r").replace(/[\f]/g,"\\f").replace(/[\t]/g,"\\t")};e.modules={};e.loaded_features=["corelib/runtime"];e.current_dir=".";e.require_table={"corelib/runtime":!0};e.normalize=function(a){var b,c=[];"."!==e.current_dir&&
(a=e.current_dir.replace(/\/*$/,"/")+a);a=a.replace(/\.(rb|opal|js)$/,"");a=a.split("/");for(var d=0,f=a.length;d<f;d++)b=a[d],""!==b&&(".."===b?c.pop():c.push(b));return c.join("/")};e.loaded=function(a){var b,c,d;b=0;for(c=a.length;b<c;b++){d=e.normalize(a[b]);if(e.require_table[d])break;e.loaded_features.push(d);e.require_table[d]=!0}};e.load=function(a){a=e.normalize(a);e.loaded([a]);var b=e.modules[a];if(b)b(e);else if(b=e.config.missing_require_severity,a="cannot load such file -- "+a,"error"===
b)if(e.LoadError)e.LoadError.$new(a);else throw a;else"warning"===b&&l.warn("WARNING: LoadError: "+a);return!0};e.require=function(a){a=e.normalize(a);return e.require_table[a]?!1:e.load(a)};e.boot_class_alloc("BasicObject",u);e.boot_class_alloc("Object",B,u);e.boot_class_alloc("Module",q,B);e.boot_class_alloc("Class",v,q);e.BasicObject=g=e.setup_class_object("BasicObject",u,"Class",v);e.Object=c=e.setup_class_object("Object",B,"BasicObject",g.constructor);e.Module=n=e.setup_class_object("Module",
q,"Object",c.constructor);e.Class=f=e.setup_class_object("Class",v,"Module",n.constructor);g.$$const.BasicObject=g;e.const_set(c,"BasicObject",g);e.const_set(c,"Object",c);e.const_set(c,"Module",n);e.const_set(c,"Class",f);g.$$class=f;c.$$class=f;n.$$class=f;f.$$class=f;g.$$super=null;c.$$super=g;n.$$super=c;f.$$super=n;g.$$parent=null;c.$$parent=g;n.$$parent=c;f.$$parent=n;c.$$proto.toString=function(){return this.$to_s()};c.$$proto.$require=e.require;e.top=new c.$$alloc;e.klass(c,c,"NilClass",p);
w=e.nil=new p;w.$$id=4;w.call=w.apply=function(){throw e.LocalJumpError.$new("no block given");};e.breaker=Error("unexpected break (old)");e.returner=Error("unexpected return");TypeError.$$super=Error}.call(this),Opal.loaded(["corelib/runtime"]),Opal.modules["corelib/helpers"]=function(b){var u=[],B=b.nil,v=b.module,q=b.truthy;b.add_stubs("$new $class $=== $respond_to? $raise $type_error $__send__ $coerce_to $nil? $<=> $coerce_to! $!= $[] $upcase".split(" "));return function(p,u){var a=v(p,"Opal"),
m=[a].concat(u),h,y,l,w,g,c,n,f,e,d,S,t,k,ea;b.defs(a,"$bridge",h=function(a,c){return b.bridge(a,c)},h.$$arity=2);b.defs(a,"$type_error",y=function(a,c,d,e){var f;null==d&&(d=B);null==e&&(e=B);return q(q(f=d)?e:f)?b.const_get_relative(m,"TypeError").$new("can't convert "+a.$class()+" into "+c+" ("+a.$class()+"#"+d+" gives "+e.$class()):b.const_get_relative(m,"TypeError").$new("no implicit conversion of "+a.$class()+" into "+c)},y.$$arity=-3);b.defs(a,"$coerce_to",l=function(a,b,c){if(q(b["$==="](a)))return a;
q(a["$respond_to?"](c))||this.$raise(this.$type_error(a,b));return a.$__send__(c)},l.$$arity=3);b.defs(a,"$coerce_to!",w=function(a,b,c){var d=B,d=this.$coerce_to(a,b,c);q(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},w.$$arity=3);b.defs(a,"$coerce_to?",g=function(a,b,c){var d=B;if(!q(a["$respond_to?"](c)))return B;d=this.$coerce_to(a,b,c);if(q(d["$nil?"]()))return B;q(b["$==="](d))||this.$raise(this.$type_error(a,b,c,d));return d},g.$$arity=3);b.defs(a,"$try_convert",c=function(a,
b,c){return q(b["$==="](a))?a:q(a["$respond_to?"](c))?a.$__send__(c):B},c.$$arity=3);b.defs(a,"$compare",n=function(a,c){var d=B,d=a["$<=>"](c);q(d===B)&&this.$raise(b.const_get_relative(m,"ArgumentError"),"comparison of "+a.$class()+" with "+c.$class()+" failed");return d},n.$$arity=2);b.defs(a,"$destructure",f=function(a){if(1==a.length)return a[0];if(a.$$is_array)return a;for(var b=Array(a.length),c=0,d=b.length;c<d;c++)b[c]=a[c];return b},f.$$arity=1);b.defs(a,"$respond_to?",e=function(a,b){return null!=
a&&a.$$class?a["$respond_to?"](b):!1},e.$$arity=2);b.defs(a,"$inspect_obj",d=function(a){return b.inspect(a)},d.$$arity=1);b.defs(a,"$instance_variable_name!",S=function(a){a=b.const_get_relative(m,"Opal")["$coerce_to!"](a,b.const_get_relative(m,"String"),"to_str");q(/^@[a-zA-Z_][a-zA-Z0-9_]*?$/.test(a))||this.$raise(b.const_get_relative(m,"NameError").$new("'"+a+"' is not allowed as an instance variable name",a));return a},S.$$arity=1);b.defs(a,"$class_variable_name!",t=function(a){a=b.const_get_relative(m,
"Opal")["$coerce_to!"](a,b.const_get_relative(m,"String"),"to_str");q(3>a.length||"@@"!==a.slice(0,2))&&this.$raise(b.const_get_relative(m,"NameError").$new("`"+a+"' is not allowed as a class variable name",a));return a},t.$$arity=1);b.defs(a,"$const_name!",k=function(a){a=b.const_get_relative(m,"Opal")["$coerce_to!"](a,b.const_get_relative(m,"String"),"to_str");q(a["$[]"](0)["$!="](a["$[]"](0).$upcase()))&&this.$raise(b.const_get_relative(m,"NameError"),"wrong constant name "+a);return a},k.$$arity=
1);b.defs(a,"$pristine",ea=function(a,b){var c,d=arguments.length;c=d-1;0>c&&(c=0);c=Array(c);for(var e=1;e<d;e++)c[e-1]=arguments[e];for(e=c.length-1;0<=e;e--)d=c[e],a.$$proto["$"+d].$$pristine=!0;return B},ea.$$arity=-2)}(u[0],u)},Opal.modules["corelib/module"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}
var q=[],p=b.nil,D=b.klass,a=b.truthy,m=b.send,h=b.range,y=b.hash2;b.add_stubs("$=== $raise $equal? $< $> $nil? $attr_reader $attr_writer $class_variable_name! $new $const_name! $=~ $inject $split $const_get $== $! $start_with? $to_proc $lambda $bind $call $class $append_features $included $name $cover? $size $merge $compile $proc $+ $to_s $__id__ $constants $include? $copy_class_variables $copy_constants".split(" "));return function(l,$super,g){function c(){}l=c=D(l,$super,"Module",c);var n=[l].concat(g),
f,e,d,S,t,k,q,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,aa,U,sa,ia,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da;b.defs(l,"$allocate",f=function(){return b.module_allocate(this)},f.$$arity=0);b.defn(l,"$initialize",e=function(){var a=e.$$p,c=a||p;a&&(e.$$p=null);return b.module_initialize(this,c)},e.$$arity=0);b.defn(l,"$===",d=function(c){return a(null==c)?!1:b.is_a(c,this)},d.$$arity=1);b.defn(l,"$<",S=function(c){a(b.const_get_relative(n,"Module")["$==="](c))||this.$raise(b.const_get_relative(n,
"TypeError"),"compared with non class/module");var d,e,f;if(this===c)return!1;e=0;d=b.ancestors(this);for(f=d.length;e<f;e++)if(d[e]===c)return!0;e=0;d=b.ancestors(c);for(f=d.length;e<f;e++)if(d[e]===this)return!1;return p},S.$$arity=1);b.defn(l,"$<=",t=function(b){var c;return a(c=this["$equal?"](b))?c:u(this,b)},t.$$arity=1);b.defn(l,"$>",k=function(c){a(b.const_get_relative(n,"Module")["$==="](c))||this.$raise(b.const_get_relative(n,"TypeError"),"compared with non class/module");return u(c,this)},
k.$$arity=1);b.defn(l,"$>=",q=function(b){var c;return a(c=this["$equal?"](b))?c:B(this,b)},q.$$arity=1);b.defn(l,"$<=>",x=function(c){var d=p;if(this===c)return 0;if(!a(b.const_get_relative(n,"Module")["$==="](c)))return p;d=u(this,c);return a(d["$nil?"]())?p:a(d)?-1:1},x.$$arity=1);b.defn(l,"$alias_method",da=function(a,c){b.alias(this,a,c);return this},da.$$arity=2);b.defn(l,"$alias_native",Q=function(a,c){null==c&&(c=a);b.alias_native(this,a,c);return this},Q.$$arity=-2);b.defn(l,"$ancestors",
r=function(){return b.ancestors(this)},r.$$arity=0);b.defn(l,"$append_features",W=function(a){b.append_features(this,a);return this},W.$$arity=1);b.defn(l,"$attr_accessor",A=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];m(this,"attr_reader",b.to_a(c));return m(this,"attr_writer",b.to_a(c))},A.$$arity=-1);b.alias(l,"attr","attr_accessor");b.defn(l,"$attr_reader",E=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<
d;e++)c[e-0]=arguments[e];d=this.$$proto;for(e=c.length-1;0<=e;e--){var f=c[e],g="$"+f,f=b.ivar(f),m=function(a){return function(){return null==this[a]?p:this[a]}}(f);d[f]=p;m.$$parameters=[];m.$$arity=0;this.$$is_singleton?d.constructor.prototype[g]=m:b.defn(this,g,m)}return p},E.$$arity=-1);b.defn(l,"$attr_writer",C=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=this.$$proto;for(e=c.length-1;0<=e;e--){var f=c[e],g="$"+f+"=",f=b.ivar(f),
m=function(a){return function(b){return this[a]=b}}(f);m.$$parameters=[["req"]];m.$$arity=1;d[f]=p;this.$$is_singleton?d.constructor.prototype[g]=m:b.defn(this,g,m)}return p},C.$$arity=-1);b.defn(l,"$autoload",R=function(a,c){null==this.$$autoload&&(this.$$autoload={});b.const_cache_version++;this.$$autoload[a]=c;return p},R.$$arity=2);b.defn(l,"$class_variables",N=function(){return Object.keys(b.class_variables(this))},N.$$arity=0);b.defn(l,"$class_variable_get",X=function(a){a=b.const_get_relative(n,
"Opal")["$class_variable_name!"](a);var c=b.class_variables(this)[a];null==c&&this.$raise(b.const_get_relative(n,"NameError").$new("uninitialized class variable "+a+" in "+this,a));return c},X.$$arity=1);b.defn(l,"$class_variable_set",P=function(a,c){a=b.const_get_relative(n,"Opal")["$class_variable_name!"](a);return b.class_variable_set(this,a,c)},P.$$arity=2);b.defn(l,"$class_variable_defined?",Z=function(a){a=b.const_get_relative(n,"Opal")["$class_variable_name!"](a);return b.class_variables(this).hasOwnProperty(a)},
Z.$$arity=1);b.defn(l,"$remove_class_variable",V=function(a){a=b.const_get_relative(n,"Opal")["$class_variable_name!"](a);if(b.hasOwnProperty.call(this.$$cvars,a)){var c=this.$$cvars[a];delete this.$$cvars[a];return c}this.$raise(b.const_get_relative(n,"NameError").$new("cannot remove "+a+" for "+this))},V.$$arity=1);b.defn(l,"$constants",K=function(a){null==a&&(a=!0);return b.constants(this,a)},K.$$arity=-1);b.defs(l,"$constants",G=function(a){if(null==a){a=(this.$$nesting||[]).concat(b.Object);
var c,d={},e,f;e=0;for(f=a.length;e<f;e++)for(c in a[e].$$const)d[c]=!0;return Object.keys(d)}return b.constants(this,a)},G.$$arity=-1);b.defs(l,"$nesting",T=function(){return this.$$nesting||[]},T.$$arity=0);b.defn(l,"$const_defined?",ba=function(c,d){null==d&&(d=!0);c=b.const_get_relative(n,"Opal")["$const_name!"](c);a(c["$=~"](b.const_get_qualified(b.const_get_relative(n,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(b.const_get_relative(n,"NameError").$new("wrong constant name "+c,c));var e,f=[this],
g,m;d&&(f=f.concat(b.ancestors(this)),this.$$is_module&&(f=f.concat([b.Object]).concat(b.ancestors(b.Object))));g=0;for(m=f.length;g<m;g++)if(e=f[g],null!=e.$$const[c])return!0;return!1},ba.$$arity=-2);b.defn(l,"$const_get",pa=function(c,d){var e;null==d&&(d=!0);c=b.const_get_relative(n,"Opal")["$const_name!"](c);0===c.indexOf("::")&&"::"!==c&&(c=c.slice(2));if(a(-1!=c.indexOf("::")&&"::"!=c))return m(c.$split("::"),"inject",[this],(e=function(a,b){null==a&&(a=p);null==b&&(b=p);return a.$const_get(b)},
e.$$s=this,e.$$arity=2,e));a(c["$=~"](b.const_get_qualified(b.const_get_relative(n,"Opal"),"CONST_NAME_REGEXP")))||this.$raise(b.const_get_relative(n,"NameError").$new("wrong constant name "+c,c));return d?b.const_get_relative([this],c):b.const_get_local(this,c)},pa.$$arity=-2);b.defn(l,"$const_missing",L=function(a){var c=p;if(this.$$autoload&&(c=this.$$autoload[a]))return this.$require(c),this.$const_get(a);c=this["$=="](b.const_get_relative(n,"Object"))?a:""+this+"::"+a;return this.$raise(b.const_get_relative(n,
"NameError").$new("uninitialized constant "+c,a))},L.$$arity=1);b.defn(l,"$const_set",aa=function(c,d){var e;c=b.const_get_relative(n,"Opal")["$const_name!"](c);a(a(e=c["$=~"](b.const_get_qualified(b.const_get_relative(n,"Opal"),"CONST_NAME_REGEXP"))["$!"]())?e:c["$start_with?"]("::"))&&this.$raise(b.const_get_relative(n,"NameError").$new("wrong constant name "+c,c));b.const_set(this,c,d);return d},aa.$$arity=2);b.defn(l,"$public_constant",U=function(a){return p},U.$$arity=1);b.defn(l,"$define_method",
sa=function(c,d){var e,f,g=this,h=sa.$$p,l=h||p,k=p;h&&(sa.$$p=null);a(void 0===d&&l===p)&&g.$raise(b.const_get_relative(n,"ArgumentError"),"tried to create a Proc object without a block");l=a(e=l)?e:function(){k=d;return b.const_get_relative(n,"Proc")["$==="](k)?d:b.const_get_relative(n,"Method")["$==="](k)?d.$to_proc().$$unbound:b.const_get_relative(n,"UnboundMethod")["$==="](k)?m(g,"lambda",[],(f=function(a){var c=f.$$s||this,e,g=p,g=arguments.length;e=g-0;0>e&&(e=0);e=Array(e);for(var z=0;z<g;z++)e[z-
0]=arguments[z];g=d.$bind(c);return m(g,"call",b.to_a(e))},f.$$s=g,f.$$arity=-1,f)):g.$raise(b.const_get_relative(n,"TypeError"),"wrong argument type "+l.$class()+" (expected Proc/Method)")}();l.$$jsid=c;l.$$s=null;l.$$def=l;l.$$define_meth=!0;b.defn(g,"$"+c,l);return c},sa.$$arity=-2);b.defn(l,"$remove_method",ia=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++)b.rdef(this,"$"+c[d]);return this},ia.$$arity=-1);b.defn(l,
"$singleton_class?",H=function(){return!!this.$$is_singleton},H.$$arity=0);b.defn(l,"$include",Y=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];for(d=c.length-1;0<=d;d--)e=c[d],e.$$is_module||this.$raise(b.const_get_relative(n,"TypeError"),"wrong argument type "+e.$class()+" (expected Module)"),e.$append_features(this),e.$included(this);return this},Y.$$arity=-1);b.defn(l,"$included_modules",ha=function(){var a,b=function(a){for(var c=[],d=
0,e=a.$$inc.length;d<e;d++){var f=a.$$inc[d];c.push(f);c=c.concat(b(f))}return c};a=b(this);if(this.$$is_class)for(var c=this;c;c=c.$$super)a=a.concat(b(c));return a},ha.$$arity=0);b.defn(l,"$include?",ka=function(a){a.$$is_module||this.$raise(b.const_get_relative(n,"TypeError"),"wrong argument type "+a.$class()+" (expected Module)");var c,d,e,f=b.ancestors(this);c=0;for(d=f.length;c<d;c++)if(e=f[c],e===a&&e!==this)return!0;return!1},ka.$$arity=1);b.defn(l,"$instance_method",na=function(a){var c=
this.$$proto["$"+a];c&&!c.$$stub||this.$raise(b.const_get_relative(n,"NameError").$new("undefined method `"+a+"' for class `"+this.$name()+"'",a));return b.const_get_relative(n,"UnboundMethod").$new(this,c.$$owner||this,c,a)},na.$$arity=1);b.defn(l,"$instance_methods",la=function(a){null==a&&(a=!0);var c,d=[],e=this.$$proto,f;for(f in e)if("$"===f.charAt(0)&&"$"!==f.charAt(1)&&(c=e[f],"function"===typeof c&&!c.$$stub)){if(!this.$$is_module){if(this!==b.BasicObject&&c===b.BasicObject.$$proto[f])continue;
if(!a&&!e.hasOwnProperty(f))continue;if(!a&&c.$$donated)continue}d.push(f.substr(1))}return d},la.$$arity=-1);b.defn(l,"$included",Aa=function(a){return p},Aa.$$arity=1);b.defn(l,"$extended",oa=function(a){return p},oa.$$arity=1);b.defn(l,"$method_added",ra=function(a){return p},ra.$$arity=-1);b.defn(l,"$method_removed",qa=function(a){return p},qa.$$arity=-1);b.defn(l,"$method_undefined",ma=function(a){return p},ma.$$arity=-1);b.defn(l,"$module_eval",ja=function(c){var d,e,f,g=ja.$$p,l=g||p,k=p,I=
f=f=f=p,k=arguments.length;f=k-0;0>f&&(f=0);f=Array(f);for(var M=0;M<k;M++)f[M-0]=arguments[M];g&&(ja.$$p=null);a(a(d=l["$nil?"]())?!!b.compile:d)?(a(h(1,3,!1)["$cover?"](f.$size()))||b.const_get_relative(n,"Kernel").$raise(b.const_get_relative(n,"ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(b.to_a(f)),k=null==d[0]?p:d[0],f=null==d[1]?p:d[1],d,f=y(["file","eval"],{file:a(d=f)?d:"(eval)",eval:!0}),f=b.hash({arity_check:!1}).$merge(f),I=b.const_get_relative(n,"Opal").$compile(k,
f),l=m(b.const_get_relative(n,"Kernel"),"proc",[],(e=function(){return function(a){return eval(I)}(e.$$s||this)},e.$$s=this,e.$$arity=0,e))):a(B(f.$size(),0))&&b.const_get_relative(n,"Kernel").$raise(b.const_get_relative(n,"ArgumentError"),v("wrong number of arguments ("+f.$size()+" for 0)","\n\n  NOTE:If you want to enable passing a String argument please add \"require 'opal-parser'\" to your script\n"));d=l.$$s;l.$$s=null;g=l.apply(this,[this]);l.$$s=d;return g},ja.$$arity=-1);b.alias(l,"class_eval",
"module_eval");b.defn(l,"$module_exec",ta=function(a){var c,d=ta.$$p,e=d||p,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(ta.$$p=null);e===p&&this.$raise(b.const_get_relative(n,"LocalJumpError"),"no block given");d=e.$$s;e.$$s=null;c=e.apply(this,c);e.$$s=d;return c},ta.$$arity=-1);b.alias(l,"class_exec","module_exec");b.defn(l,"$method_defined?",fa=function(a){a=this.$$proto["$"+a];return!!a&&!a.$$stub},fa.$$arity=1);b.defn(l,"$module_function",ya=function(a){var c,
d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(0===c.length)this.$$module_function=!0;else for(d=0,e=c.length;d<e;d++){var f="$"+c[d];b.defs(this,f,this.$$proto[f])}return this},ya.$$arity=-1);b.defn(l,"$name",ua=function(){if(this.$$full_name)return this.$$full_name;for(var a=[],c=this;c;){if(c.$$name===p||null==c.$$name)return p;a.unshift(c.$$name);c=c.$$base_module;if(c===b.Object)break}return 0===a.length?p:this.$$full_name=a.join("::")},ua.$$arity=0);
b.defn(l,"$remove_const",za=function(a){return b.const_remove(this,a)},za.$$arity=1);b.defn(l,"$to_s",Ea=function(){var c;return a(c=b.Module.$name.call(this))?c:"#<"+(this.$$is_module?"Module":"Class")+":0x"+this.$__id__().$to_s(16)+">"},Ea.$$arity=0);b.defn(l,"$undef_method",Ga=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++)b.udef(this,"$"+c[d]);return this},Ga.$$arity=-1);b.defn(l,"$instance_variables",Ba=function(){var a=
p,a=(b.Module.$$nesting=n,this.$constants()),c=[],d;for(d in this)this.hasOwnProperty(d)&&"$"!==d.charAt(0)&&"constructor"!==d&&!a["$include?"](d)&&c.push("@"+d);return c},Ba.$$arity=0);b.defn(l,"$dup",Ca=function(){var a=Ca.$$p,c=p,d=c=p,e=p;a&&(Ca.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];c=m(this,b.find_super_dispatcher(this,"dup",Ca,!1),c,a);c.$copy_class_variables(this);c.$copy_constants(this);return c},Ca.$$arity=0);b.defn(l,"$copy_class_variables",Fa=function(a){for(var b in a.$$cvars)this.$$cvars[b]=
a.$$cvars[b]},Fa.$$arity=1);return(b.defn(l,"$copy_constants",Da=function(a){var c;a=a.$$const;for(c in a)b.const_set(this,c,a[c])},Da.$$arity=1),p)&&"copy_constants"}(q[0],null,q)},Opal.modules["corelib/class"]=function(b){var u=b.top,B=[],v=b.nil,q=b.klass,p=b.send;b.add_stubs(["$require","$initialize_copy","$allocate","$name","$to_s"]);u.$require("corelib/module");return function(u,$super,m){function h(){}u=h=q(u,$super,"Class",h);var y=[u].concat(m),l,w,g,c,n,f,e;b.defs(u,"$new",l=function(c){var e=
l.$$p,f=e||v;null==c&&(c=b.const_get_relative(y,"Object"));e&&(l.$$p=null);if(!c.$$is_class)throw b.TypeError.$new("superclass must be a Class");e=b.boot_class_alloc(null,function(){},c);e=b.setup_class_object(null,e,c.$$name,c.constructor);e.$$super=c;e.$$parent=c;c.$inherited(e);b.module_initialize(e,f);return e},l.$$arity=-1);b.defn(u,"$allocate",w=function(){var c=new this.$$alloc;c.$$id=b.uid();return c},w.$$arity=0);b.defn(u,"$inherited",g=function(b){return v},g.$$arity=1);b.defn(u,"$initialize_dup",
c=function(b){this.$initialize_copy(b);this.$$full_name=this.$$name=null},c.$$arity=1);b.defn(u,"$new",n=function(c){var e,f=n.$$p,g=f||v,m=arguments.length;e=m-0;0>e&&(e=0);e=Array(e);for(var h=0;h<m;h++)e[h-0]=arguments[h];f&&(n.$$p=null);f=this.$allocate();b.send(f,f.$initialize,e,g);return f},n.$$arity=-1);b.defn(u,"$superclass",f=function(){return this.$$super||v},f.$$arity=0);return(b.defn(u,"$to_s",e=function(){e.$$p&&(e.$$p=null);var c=this.$$singleton_of;return c&&(c.$$is_class||c.$$is_module)?
"#<Class:"+c.$name()+">":c?"#<Class:#<"+c.$$class.$name()+":0x"+b.id(c).$to_s(16)+">>":p(this,b.find_super_dispatcher(this,"to_s",e,!1),[],null)},e.$$arity=0),v)&&"to_s"}(B[0],null,B)},Opal.modules["corelib/basic_object"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var B=[],v=b.nil,q=b.klass,p=b.truthy,D=b.range,a=b.hash2,m=b.send;b.add_stubs("$== $! $nil? $cover? $size $raise $merge $compile $proc $> $new $inspect".split(" "));return function(h,$super,
l){function w(){}h=w=q(h,$super,"BasicObject",w);[h].concat(l);var g,c,n,f,e,d,S,t,k,ea,x,da,Q;b.defn(h,"$initialize",g=function(a){return v},g.$$arity=-1);b.defn(h,"$==",c=function(a){return this===a},c.$$arity=1);b.defn(h,"$eql?",n=function(a){return this["$=="](a)},n.$$arity=1);b.alias(h,"equal?","==");b.defn(h,"$__id__",f=function(){return this.$$id||(this.$$id=b.uid())},f.$$arity=0);b.defn(h,"$__send__",e=function(a,b){var c,d=e.$$p,f=d||v,g=arguments.length;c=g-1;0>c&&(c=0);c=Array(c);for(var m=
1;m<g;m++)c[m-1]=arguments[m];d&&(e.$$p=null);if(d=this["$"+a])return f!==v&&(d.$$p=f),d.apply(this,c);f!==v&&(this.$method_missing.$$p=f);return this.$method_missing.apply(this,[a].concat(c))},e.$$arity=-2);b.defn(h,"$!",d=function(){return!1},d.$$arity=0);b.defn(h,"$!=",S=function(a){return this["$=="](a)["$!"]()},S.$$arity=1);b.alias(h,"equal?","==");b.defn(h,"$instance_eval",t=function(c){var d,e,f,g=t.$$p,h=g||v,l=v,k=f=f=f=v,l=arguments.length;f=l-0;0>f&&(f=0);f=Array(f);for(var w=0;w<l;w++)f[w-
0]=arguments[w];g&&(t.$$p=null);p(p(d=h["$nil?"]())?!!b.compile:d)?(p(D(1,3,!1)["$cover?"](f.$size()))||b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"wrong number of arguments (0 for 1..3)"),d=[].concat(b.to_a(f)),l=null==d[0]?v:d[0],f=null==d[1]?v:d[1],d,f=a(["file","eval"],{file:p(d=f)?d:"(eval)",eval:!0}),f=b.hash({arity_check:!1}).$merge(f),k=b.const_get_qualified("::","Opal").$compile(l,f),h=m(b.const_get_qualified("::","Kernel"),"proc",[],(e=function(){return function(a){return eval(k)}(e.$$s||
this)},e.$$s=this,e.$$arity=0,e))):p(u(f.$size(),0))&&b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"wrong number of arguments ("+f.$size()+" for 0)");d=h.$$s;var n;h.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{n=h.call(this,this)}finally{this.$$eval=!1}}else n=h.call(this,this);h.$$s=d;return n},t.$$arity=-1);b.defn(h,"$instance_exec",k=function(a){var c,d=k.$$p,e=d||v,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-
0]=arguments[g];d&&(k.$$p=null);p(e)||b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","ArgumentError"),"no block given");var d=e.$$s,m;e.$$s=null;if(this.$$is_class||this.$$is_module){this.$$eval=!0;try{m=e.apply(this,c)}finally{this.$$eval=!1}}else m=e.apply(this,c);e.$$s=d;return m},k.$$arity=-1);b.defn(h,"$singleton_method_added",ea=function(a){return v},ea.$$arity=-1);b.defn(h,"$singleton_method_removed",x=function(a){return v},x.$$arity=-1);b.defn(h,"$singleton_method_undefined",
da=function(a){return v},da.$$arity=-1);return(b.defn(h,"$method_missing",Q=function(a,c){var d,e=Q.$$p,f=arguments.length;d=f-1;0>d&&(d=0);d=Array(d);for(var g=1;g<f;g++)d[g-1]=arguments[g];e&&(Q.$$p=null);return b.const_get_qualified("::","Kernel").$raise(b.const_get_qualified("::","NoMethodError").$new(p(this.$inspect&&!this.$inspect.$$stub)?"undefined method `"+a+"' for "+this.$inspect()+":"+this.$$class:"undefined method `"+a+"' for "+this.$$class,a))},Q.$$arity=-2),v)&&"method_missing"}(B[0],
null,B)},Opal.modules["corelib/kernel"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var v=[],q=b.nil,p=b.module,D=b.truthy,a=b.gvars,m=b.send,h=b.hash2,y=b.klass;b.add_stubs("$raise $new $inspect $! $=~ $== $object_id $class $coerce_to? $<< $allocate $copy_instance_variables $copy_singleton_methods $initialize_clone $initialize_copy $define_method $singleton_class $to_proc $initialize_dup $for $> $size $pop $call $append_features $extended $length $respond_to? $[] $nil? $to_a $to_int $fetch $Integer $Float $to_ary $to_str $coerce_to $to_s $__id__ $instance_variable_name! $coerce_to! $=== $enum_for $result $print $format $puts $each $<= $empty? $exception $kind_of? $rand $respond_to_missing? $try_convert! $expand_path $join $start_with? $srand $new_seed $sym $arg $open $include".split(" "));
(function(l,w){var g=p(l,"Kernel"),c=[g].concat(w),n,f,e,d,y,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,aa,U,sa,ia,H,Y,ha,ka,na,la,v,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da,Ha,Ia,z,va,ca,O,xa,I,M;b.defn(g,"$method_missing",n=function(a,d){var e,f=n.$$p,g=arguments.length;e=g-1;0>e&&(e=0);e=Array(e);for(var m=1;m<g;m++)e[m-1]=arguments[m];f&&(n.$$p=null);return this.$raise(b.const_get_relative(c,"NoMethodError").$new("undefined method `"+a+"' for "+this.$inspect(),a,e))},n.$$arity=-2);
b.defn(g,"$=~",f=function(a){return!1},f.$$arity=1);b.defn(g,"$!~",e=function(a){return this["$=~"](a)["$!"]()},e.$$arity=1);b.defn(g,"$===",d=function(a){var b;return D(b=this.$object_id()["$=="](a.$object_id()))?b:this["$=="](a)},d.$$arity=1);b.defn(g,"$<=>",y=function(a){this.$$comparable=!0;return(a=this["$=="](a))&&a!==q?0:q},y.$$arity=1);b.defn(g,"$method",t=function(a){var d=this["$"+a];d&&!d.$$stub||this.$raise(b.const_get_relative(c,"NameError").$new("undefined method `"+a+"' for class `"+
this.$class()+"'",a));return b.const_get_relative(c,"Method").$new(this,d.$$owner||this.$class(),d,a)},t.$$arity=1);b.defn(g,"$methods",k=function(a){null==a&&(a=!0);var c=[],d;for(d in this)"$"==d[0]&&"function"===typeof this[d]&&(0!=a&&a!==q||b.hasOwnProperty.call(this,d))&&void 0===this[d].$$stub&&c.push(d.substr(1));return c},k.$$arity=-1);b.alias(g,"public_methods","methods");b.defn(g,"$Array",ea=function(a){var d;if(a===q)return[];if(a.$$is_array)return a;d=b.const_get_relative(c,"Opal")["$coerce_to?"](a,
b.const_get_relative(c,"Array"),"to_ary");if(d!==q)return d;d=b.const_get_relative(c,"Opal")["$coerce_to?"](a,b.const_get_relative(c,"Array"),"to_a");return d!==q?d:[a]},ea.$$arity=1);b.defn(g,"$at_exit",x=function(){var b,c=x.$$p,d=c||q;null==a.__at_exit__&&(a.__at_exit__=q);c&&(x.$$p=null);a.__at_exit__=D(b=a.__at_exit__)?b:[];return a.__at_exit__["$<<"](d)},x.$$arity=0);b.defn(g,"$caller",da=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];
return[]},da.$$arity=-1);b.defn(g,"$class",Q=function(){return this.$$class},Q.$$arity=0);b.defn(g,"$copy_instance_variables",r=function(a){var b=Object.keys(a),c,d,e;c=0;for(d=b.length;c<d;c++)e=b[c],"$"!==e.charAt(0)&&a.hasOwnProperty(e)&&(this[e]=a[e])},r.$$arity=1);b.defn(g,"$copy_singleton_methods",W=function(a){var c;if(a.hasOwnProperty("$$meta")){var d=b.get_singleton_class(a).$$proto,e=b.get_singleton_class(this).$$proto;for(c in d)"$"===c.charAt(0)&&d.hasOwnProperty(c)&&(e[c]=d[c])}for(c in a)"$"===
c.charAt(0)&&"$"!==c.charAt(1)&&a.hasOwnProperty(c)&&(this[c]=a[c])},W.$$arity=1);b.defn(g,"$clone",A=function(){var a=q,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$copy_singleton_methods(this);a.$initialize_clone(this);return a},A.$$arity=0);b.defn(g,"$initialize_clone",E=function(a){return this.$initialize_copy(a)},E.$$arity=1);b.defn(g,"$define_singleton_method",C=function(a,b){var c=C.$$p,d=c||q;c&&(C.$$p=null);return m(this.$singleton_class(),"define_method",[a,b],d.$to_proc())},
C.$$arity=-2);b.defn(g,"$dup",R=function(){var a=q,a=this.$class().$allocate();a.$copy_instance_variables(this);a.$initialize_dup(this);return a},R.$$arity=0);b.defn(g,"$initialize_dup",N=function(a){return this.$initialize_copy(a)},N.$$arity=1);b.defn(g,"$enum_for",X=function(a,d){var e,f=X.$$p,g=f||q;null==a&&(a="each");var z=arguments.length;e=z-1;0>e&&(e=0);e=Array(e);for(var F=1;F<z;F++)e[F-1]=arguments[F];f&&(X.$$p=null);return m(b.const_get_relative(c,"Enumerator"),"for",[this,a].concat(b.to_a(e)),
g.$to_proc())},X.$$arity=-1);b.alias(g,"to_enum","enum_for");b.defn(g,"$equal?",P=function(a){return this===a},P.$$arity=1);b.defn(g,"$exit",Z=function(c){var d,e=q;null==a.__at_exit__&&(a.__at_exit__=q);null==c&&(c=!0);for(a.__at_exit__=D(d=a.__at_exit__)?d:[];D(u(a.__at_exit__.$size(),0));)e=a.__at_exit__.$pop(),e.$call();D(!0===c)&&(c=0);b.exit(c);return q},Z.$$arity=-1);b.defn(g,"$extend",V=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];
e=this.$singleton_class();for(f=d.length-1;0<=f;f--){var g=d[f];g.$$is_module||this.$raise(b.const_get_relative(c,"TypeError"),"wrong argument type "+g.$class()+" (expected Module)");g.$append_features(e);g.$extended(this)}return this},V.$$arity=-1);b.defn(g,"$format",K=function(d,e){function f(){p&32&&I.$raise(b.const_get_relative(c,"ArgumentError"),"flag after width");p&128&&I.$raise(b.const_get_relative(c,"ArgumentError"),"flag after precision")}function g(){p&32&&I.$raise(b.const_get_relative(c,
"ArgumentError"),"width given twice");p&128&&I.$raise(b.const_get_relative(c,"ArgumentError"),"width after precision")}function m(a){a>=M.length&&I.$raise(b.const_get_relative(c,"ArgumentError"),"too few arguments");return M[a]}function z(){switch(E){case -1:I.$raise(b.const_get_relative(c,"ArgumentError"),"unnumbered("+R+") mixed with numbered");case -2:I.$raise(b.const_get_relative(c,"ArgumentError"),"unnumbered("+R+") mixed with named")}E=R++;return m(E-1)}function F(a){0<E&&I.$raise(b.const_get_relative(c,
"ArgumentError"),"numbered("+a+") after unnumbered("+E+")");-2===E&&I.$raise(b.const_get_relative(c,"ArgumentError"),"numbered("+a+") after named");1>a&&I.$raise(b.const_get_relative(c,"ArgumentError"),"invalid index - "+a+"$");E=-1;return m(a-1)}function h(){return void 0===S?z():S}function l(a){var e;for(e="";;y++){y===O&&I.$raise(b.const_get_relative(c,"ArgumentError"),"malformed format string - %*[0-9]");if(48>d.charCodeAt(y)||57<d.charCodeAt(y))return y--,e=parseInt(e,10)||0,2147483647<e&&I.$raise(b.const_get_relative(c,
"ArgumentError"),""+a+" too big"),e;e+=d.charAt(y)}}function k(a){a=l(a);"$"===d.charAt(y+1)?(y++,a=F(a)):a=z();return a.$to_int()}var I=this,M,w=q;null==a.DEBUG&&(a.DEBUG=q);var w=arguments.length,n=w-1;0>n&&(n=0);M=Array(n);for(n=1;n<w;n++)M[n-1]=arguments[n];D(M.$length()["$=="](1)?M["$[]"](0)["$respond_to?"]("to_ary"):M.$length()["$=="](1))&&(w=b.const_get_relative(c,"Opal")["$coerce_to?"](M["$[]"](0),b.const_get_relative(c,"Array"),"to_ary"),D(w["$nil?"]())||(M=w.$to_a()));var w="",n=0,t,y,O=
d.length,G,r,A,fa,x,ca,C,K,W,S,R=1,E=0,p;for(y=d.indexOf("%");-1!==y;y=d.indexOf("%",y)){r=void 0;p=0;x=fa=-1;S=void 0;t=y;y++;switch(d.charAt(y)){case "%":n=y;case "":case "\n":case "\x00":y++;continue}a:for(;y<O;y++)switch(d.charAt(y)){case " ":f();p|=16;continue a;case "#":f();p|=1;continue a;case "+":f();p|=4;continue a;case "-":f();p|=2;continue a;case "0":f();p|=8;continue a;case "1":case "2":case "3":case "4":case "5":case "6":case "7":case "8":case "9":G=l("width");if("$"===d.charAt(y+1)){if(y+
2===O){r="%";y++;break a}void 0!==S&&I.$raise(b.const_get_relative(c,"ArgumentError"),"value given twice - %"+G+"$");S=F(G);y++}else g(),p|=32,fa=G;continue a;case "<":case "{":for(A="<"===d.charAt(y)?">":"}",G="",y++;;y++){y===O&&I.$raise(b.const_get_relative(c,"ArgumentError"),"malformed name - unmatched parenthesis");if(d.charAt(y)===A)if(0<E&&I.$raise(b.const_get_relative(c,"ArgumentError"),"named "+G+" after unnumbered("+E+")"),-1===E&&I.$raise(b.const_get_relative(c,"ArgumentError"),"named "+
G+" after numbered"),E=-2,void 0!==M[0]&&M[0].$$is_hash||I.$raise(b.const_get_relative(c,"ArgumentError"),"one hash required"),S=M[0].$fetch(G),">"===A)continue a;else{r=S.toString();-1!==x&&(r=r.slice(0,x));if(p&2)for(;r.length<fa;)r+=" ";else for(;r.length<fa;)r=" "+r;break a}G+=d.charAt(y)}case "*":y++;g();p|=32;fa=k("width");0>fa&&(p|=2,fa=-fa);continue a;case ".":p&128&&I.$raise(b.const_get_relative(c,"ArgumentError"),"precision given twice");p|=192;x=0;y++;if("*"===d.charAt(y)){y++;x=k("precision");
0>x&&(p&=-65);continue a}x=l("precision");continue a;case "d":case "i":case "u":G=I.$Integer(h());if(0<=G){for(r=G.toString();r.length<x;)r="0"+r;if(p&2){if(p&4||p&16)r=(p&4?"+":" ")+r;for(;r.length<fa;)r+=" "}else if(p&8&&-1===x){for(;r.length<fa-(p&4||p&16?1:0);)r="0"+r;if(p&4||p&16)r=(p&4?"+":" ")+r}else{if(p&4||p&16)r=(p&4?"+":" ")+r;for(;r.length<fa;)r=" "+r}}else{for(r=(-G).toString();r.length<x;)r="0"+r;if(p&2)for(r="-"+r;r.length<fa;)r+=" ";else if(p&8&&-1===x){for(;r.length<fa-1;)r="0"+r;
r="-"+r}else for(r="-"+r;r.length<fa;)r=" "+r}break a;case "b":case "B":case "o":case "x":case "X":switch(d.charAt(y)){case "b":case "B":ca=2;C="0b";K=/^1+/;W="1";break;case "o":ca=8;C="0";K=/^3?7+/;W="7";break;case "x":case "X":ca=16,C="0x",K=/^f+/,W="f"}G=I.$Integer(h());if(0<=G){for(r=G.toString(ca);r.length<x;)r="0"+r;if(p&2){if(p&4||p&16)r=(p&4?"+":" ")+r;for(p&1&&0!==G&&(r=C+r);r.length<fa;)r+=" "}else if(p&8&&-1===x){for(;r.length<fa-(p&4||p&16?1:0)-(p&1&&0!==G?C.length:0);)r="0"+r;p&1&&0!==
G&&(r=C+r);if(p&4||p&16)r=(p&4?"+":" ")+r}else{p&1&&0!==G&&(r=C+r);if(p&4||p&16)r=(p&4?"+":" ")+r;for(;r.length<fa;)r=" "+r}}else if(p&4||p&16){for(r=(-G).toString(ca);r.length<x;)r="0"+r;if(p&2)for(p&1&&(r=C+r),r="-"+r;r.length<fa;)r+=" ";else if(p&8&&-1===x){for(;r.length<fa-1-(p&1?2:0);)r="0"+r;p&1&&(r=C+r);r="-"+r}else for(p&1&&(r=C+r),r="-"+r;r.length<fa;)r=" "+r}else{for(r=(G>>>0).toString(ca).replace(K,W);r.length<x-2;)r=W+r;if(p&2)for(r=".."+r,p&1&&(r=C+r);r.length<fa;)r+=" ";else if(p&8&&
-1===x){for(;r.length<fa-2-(p&1?C.length:0);)r=W+r;r=".."+r;p&1&&(r=C+r)}else for(r=".."+r,p&1&&(r=C+r);r.length<fa;)r=" "+r}d.charAt(y)===d.charAt(y).toUpperCase()&&(r=r.toUpperCase());break a;case "f":case "e":case "E":case "g":case "G":G=I.$Float(h());if(0<=G||isNaN(G)){if(Infinity===G)r="Inf";else switch(d.charAt(y)){case "f":r=G.toFixed(-1===x?6:x);break;case "e":case "E":r=G.toExponential(-1===x?6:x);break;case "g":case "G":r=G.toExponential(),A=parseInt(r.split("e")[1],10),-4>A||A>=(-1===x?
6:x)||(r=G.toPrecision(-1===x?p&1?6:void 0:x))}if(p&2){if(p&4||p&16)r=(p&4?"+":" ")+r;for(;r.length<fa;)r+=" "}else if(p&8&&Infinity!==G&&!isNaN(G)){for(;r.length<fa-(p&4||p&16?1:0);)r="0"+r;if(p&4||p&16)r=(p&4?"+":" ")+r}else{if(p&4||p&16)r=(p&4?"+":" ")+r;for(;r.length<fa;)r=" "+r}}else{if(-Infinity===G)r="Inf";else switch(d.charAt(y)){case "f":r=(-G).toFixed(-1===x?6:x);break;case "e":case "E":r=(-G).toExponential(-1===x?6:x);break;case "g":case "G":r=(-G).toExponential(),A=parseInt(r.split("e")[1],
10),-4>A||A>=(-1===x?6:x)||(r=(-G).toPrecision(-1===x?p&1?6:void 0:x))}if(p&2)for(r="-"+r;r.length<fa;)r+=" ";else if(p&8&&-Infinity!==G){for(;r.length<fa-1;)r="0"+r;r="-"+r}else for(r="-"+r;r.length<fa;)r=" "+r}d.charAt(y)!==d.charAt(y).toUpperCase()||Infinity===G||-Infinity===G||isNaN(G)||(r=r.toUpperCase());r=r.replace(/([eE][-+]?)([0-9])$/,"$10$2");break a;case "a":case "A":I.$raise(b.const_get_relative(c,"NotImplementedError"),"`A` and `a` format field types are not implemented in Opal yet");
case "c":G=h();G["$respond_to?"]("to_ary")&&(G=G.$to_ary()[0]);r=G["$respond_to?"]("to_str")?G.$to_str():String.fromCharCode(b.const_get_relative(c,"Opal").$coerce_to(G,b.const_get_relative(c,"Integer"),"to_int"));1!==r.length&&I.$raise(b.const_get_relative(c,"ArgumentError"),"%c requires a character");if(p&2)for(;r.length<fa;)r+=" ";else for(;r.length<fa;)r=" "+r;break a;case "p":r=h().$inspect();-1!==x&&(r=r.slice(0,x));if(p&2)for(;r.length<fa;)r+=" ";else for(;r.length<fa;)r=" "+r;break a;case "s":r=
h().$to_s();-1!==x&&(r=r.slice(0,x));if(p&2)for(;r.length<fa;)r+=" ";else for(;r.length<fa;)r=" "+r;break a;default:I.$raise(b.const_get_relative(c,"ArgumentError"),"malformed format string - %"+d.charAt(y))}void 0===r&&I.$raise(b.const_get_relative(c,"ArgumentError"),"malformed format string - %");w+=d.slice(n,t)+r;n=y+1}a.DEBUG&&0<=E&&R<M.length&&I.$raise(b.const_get_relative(c,"ArgumentError"),"too many arguments for format string");return w+d.slice(n)},K.$$arity=-2);b.defn(g,"$hash",G=function(){return this.$__id__()},
G.$$arity=0);b.defn(g,"$initialize_copy",T=function(a){return q},T.$$arity=1);b.defn(g,"$inspect",ba=function(){return this.$to_s()},ba.$$arity=0);b.defn(g,"$instance_of?",pa=function(a){a.$$is_class||a.$$is_module||this.$raise(b.const_get_relative(c,"TypeError"),"class or module required");return this.$$class===a},pa.$$arity=1);b.defn(g,"$instance_variable_defined?",L=function(a){a=b.const_get_relative(c,"Opal")["$instance_variable_name!"](a);return b.hasOwnProperty.call(this,a.substr(1))},L.$$arity=
1);b.defn(g,"$instance_variable_get",aa=function(a){a=b.const_get_relative(c,"Opal")["$instance_variable_name!"](a);a=this[b.ivar(a.substr(1))];return null==a?q:a},aa.$$arity=1);b.defn(g,"$instance_variable_set",U=function(a,d){a=b.const_get_relative(c,"Opal")["$instance_variable_name!"](a);return this[b.ivar(a.substr(1))]=d},U.$$arity=2);b.defn(g,"$remove_instance_variable",sa=function(a){a=b.const_get_relative(c,"Opal")["$instance_variable_name!"](a);var d=b.ivar(a.substr(1));return this.hasOwnProperty(d)?
(a=this[d],delete this[d],a):this.$raise(b.const_get_relative(c,"NameError"),"instance variable "+a+" not defined")},sa.$$arity=1);b.defn(g,"$instance_variables",ia=function(){var a=[],b,c;for(c in this)this.hasOwnProperty(c)&&"$"!==c.charAt(0)&&(b="$"===c.substr(-1)?c.slice(0,c.length-1):c,a.push("@"+b));return a},ia.$$arity=0);b.defn(g,"$Integer",H=function(a,d){var e=this,f,g;if(!a.$$is_string)return void 0!==d&&e.$raise(b.const_get_relative(c,"ArgumentError"),"base specified for non string value"),
a===q&&e.$raise(b.const_get_relative(c,"TypeError"),"can't convert nil into Integer"),a.$$is_number?((Infinity===a||-Infinity===a||isNaN(a))&&e.$raise(b.const_get_relative(c,"FloatDomainError"),a),Math.floor(a)):a["$respond_to?"]("to_int")&&(f=a.$to_int(),f!==q)?f:b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_i");if("0"===a)return 0;void 0===d?d=0:(d=b.const_get_relative(c,"Opal").$coerce_to(d,b.const_get_relative(c,"Integer"),"to_int"),(1===d||0>d||36<d)&&
e.$raise(b.const_get_relative(c,"ArgumentError"),"invalid radix "+d));f=a.toLowerCase();f=f.replace(/(\d)_(?=\d)/g,"$1");f=f.replace(/^(\s*[+-]?)(0[bodx]?)/,function(f,g,m){switch(m){case "0b":if(0===d||2===d)return d=2,g;case "0":case "0o":if(0===d||8===d)return d=8,g;case "0d":if(0===d||10===d)return d=10,g;case "0x":if(0===d||16===d)return d=16,g}e.$raise(b.const_get_relative(c,"ArgumentError"),'invalid value for Integer(): "'+a+'"')});d=0===d?10:d;g="0-"+(10>=d?d-1:"9a-"+String.fromCharCode(97+
(d-11)));(new RegExp("^\\s*[+-]?["+g+"]+\\s*$")).test(f)||e.$raise(b.const_get_relative(c,"ArgumentError"),'invalid value for Integer(): "'+a+'"');f=parseInt(f,d);isNaN(f)&&e.$raise(b.const_get_relative(c,"ArgumentError"),'invalid value for Integer(): "'+a+'"');return f},H.$$arity=-2);b.defn(g,"$Float",Y=function(a){var d;a===q&&this.$raise(b.const_get_relative(c,"TypeError"),"can't convert nil into Float");if(a.$$is_string){d=a.toString();d=d.replace(/(\d)_(?=\d)/g,"$1");if(/^\s*[-+]?0[xX][0-9a-fA-F]+\s*$/.test(d))return this.$Integer(d);
/^\s*[-+]?[0-9]*\.?[0-9]+([eE][-+]?[0-9]+)?\s*$/.test(d)||this.$raise(b.const_get_relative(c,"ArgumentError"),'invalid value for Float(): "'+a+'"');return parseFloat(d)}return b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Float"),"to_f")},Y.$$arity=1);b.defn(g,"$Hash",ha=function(a){var d;return D(D(d=a["$nil?"]())?d:a["$=="]([]))?h([],{}):D(b.const_get_relative(c,"Hash")["$==="](a))?a:b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Hash"),"to_hash")},
ha.$$arity=1);b.defn(g,"$is_a?",ka=function(a){a.$$is_class||a.$$is_module||this.$raise(b.const_get_relative(c,"TypeError"),"class or module required");return b.is_a(this,a)},ka.$$arity=1);b.defn(g,"$itself",na=function(){return this},na.$$arity=0);b.alias(g,"kind_of?","is_a?");b.defn(g,"$lambda",la=function(){var a=la.$$p,b=a||q;a&&(la.$$p=null);b.$$is_lambda=!0;return b},la.$$arity=0);b.defn(g,"$load",v=function(a){a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"String"),
"to_str");return b.load(a)},v.$$arity=1);b.defn(g,"$loop",oa=function(){var a,d=oa.$$p,e=d||q,f=q;d&&(oa.$$p=null);if(e===q)return m(this,"enum_for",["loop"],(a=function(){return b.const_get_qualified(b.const_get_relative(c,"Float"),"INFINITY")},a.$$s=this,a.$$arity=0,a));for(;D(!0);)try{b.yieldX(e,[])}catch(g){if(b.rescue(g,[b.const_get_relative(c,"StopIteration")])){f=g;try{return f.$result()}finally{b.pop_exception()}}else throw g;}return this},oa.$$arity=0);b.defn(g,"$nil?",ra=function(){return!1},
ra.$$arity=0);b.alias(g,"object_id","__id__");b.defn(g,"$printf",qa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];D(u(c.$length(),0))&&this.$print(m(this,"format",b.to_a(c)));return q},qa.$$arity=-1);b.defn(g,"$proc",ma=function(){var a=ma.$$p,d=a||q;a&&(ma.$$p=null);D(d)||this.$raise(b.const_get_relative(c,"ArgumentError"),"tried to create Proc object without a block");d.$$is_lambda=!1;return d},ma.$$arity=0);b.defn(g,"$puts",ja=function(c){var d;
null==a.stdout&&(a.stdout=q);var e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];return m(a.stdout,"puts",b.to_a(d))},ja.$$arity=-1);b.defn(g,"$p",ta=function(b){var c,d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];m(d,"each",[],(c=function(b){null==a.stdout&&(a.stdout=q);null==b&&(b=q);return a.stdout.$puts(b.$inspect())},c.$$s=this,c.$$arity=1,c));return D(B(d.$length(),1))?d["$[]"](0):d},ta.$$arity=-1);b.defn(g,"$print",
fa=function(c){var d;null==a.stdout&&(a.stdout=q);var e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];return m(a.stdout,"print",b.to_a(d))},fa.$$arity=-1);b.defn(g,"$warn",ya=function(c){var d,e;null==a.VERBOSE&&(a.VERBOSE=q);null==a.stderr&&(a.stderr=q);var f=arguments.length;e=f-0;0>e&&(e=0);e=Array(e);for(var g=0;g<f;g++)e[g-0]=arguments[g];return D(D(d=a.VERBOSE["$nil?"]())?d:e["$empty?"]())?q:m(a.stderr,"puts",b.to_a(e))},ya.$$arity=-1);b.defn(g,"$raise",
ua=function(d,e,f){null==a["!"]&&(a["!"]=q);null==e&&(e=q);if(null==d&&a["!"]!==q)throw a["!"];null==d?d=b.const_get_relative(c,"RuntimeError").$new():d.$$is_string?d=b.const_get_relative(c,"RuntimeError").$new(d):d.$$is_class&&d["$respond_to?"]("exception")?d=d.$exception(e):d["$kind_of?"](b.const_get_relative(c,"Exception"))||(d=b.const_get_relative(c,"TypeError").$new("exception class/object expected"));a["!"]!==q&&b.exceptions.push(a["!"]);a["!"]=d;throw d;},ua.$$arity=-1);b.alias(g,"fail","raise");
b.defn(g,"$rand",za=function(a){if(void 0===a)return b.const_get_qualified(b.const_get_relative(c,"Random"),"DEFAULT").$rand();a.$$is_number&&(0>a&&(a=Math.abs(a)),0!==a%1&&(a=a.$to_i()),0===a&&(a=void 0));return b.const_get_qualified(b.const_get_relative(c,"Random"),"DEFAULT").$rand(a)},za.$$arity=-1);b.defn(g,"$respond_to?",Ea=function(a,b){null==b&&(b=!1);if(D(this["$respond_to_missing?"](a,b)))return!0;var c=this["$"+a];return"function"!==typeof c||c.$$stub?!1:!0},Ea.$$arity=-2);b.defn(g,"$respond_to_missing?",
Ga=function(a,b){return!1},Ga.$$arity=-2);b.defn(g,"$require",Ba=function(a){a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"String"),"to_str");return b.require(a)},Ba.$$arity=1);b.defn(g,"$require_relative",Ca=function(a){b.const_get_relative(c,"Opal")["$try_convert!"](a,b.const_get_relative(c,"String"),"to_str");a=b.const_get_relative(c,"File").$expand_path(b.const_get_relative(c,"File").$join(b.current_file,"..",a));return b.require(a)},Ca.$$arity=1);b.defn(g,"$require_tree",
Fa=function(a){a=b.const_get_relative(c,"File").$expand_path(a);a["$=="](".")&&(a="");for(var d in b.modules)d["$start_with?"](a)&&b.require(d);return q},Fa.$$arity=1);b.alias(g,"send","__send__");b.alias(g,"public_send","__send__");b.defn(g,"$singleton_class",Da=function(){return b.get_singleton_class(this)},Da.$$arity=0);b.defn(g,"$sleep",Ha=function(a){null==a&&(a=q);a===q&&this.$raise(b.const_get_relative(c,"TypeError"),"can't convert NilClass into time interval");a.$$is_number||this.$raise(b.const_get_relative(c,
"TypeError"),"can't convert "+a.$class()+" into time interval");0>a&&this.$raise(b.const_get_relative(c,"ArgumentError"),"time interval must be positive");for(var d=new Date;new Date-d<=1E3*a;);return a},Ha.$$arity=-1);b.alias(g,"sprintf","format");b.defn(g,"$srand",Ia=function(a){null==a&&(a=b.const_get_relative(c,"Random").$new_seed());return b.const_get_relative(c,"Random").$srand(a)},Ia.$$arity=-1);b.defn(g,"$String",z=function(a){var d;return D(d=b.const_get_relative(c,"Opal")["$coerce_to?"](a,
b.const_get_relative(c,"String"),"to_str"))?d:b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"String"),"to_s")},z.$$arity=1);b.defn(g,"$tap",va=function(){var a=va.$$p,c=a||q;a&&(va.$$p=null);b.yield1(c,this);return this},va.$$arity=0);b.defn(g,"$to_proc",ca=function(){return this},ca.$$arity=0);b.defn(g,"$to_s",O=function(){return"#<"+this.$class()+":0x"+this.$__id__().$to_s(16)+">"},O.$$arity=0);b.defn(g,"$catch",xa=function(a){var d=xa.$$p,e=d||q,f=q;d&&(xa.$$p=null);try{return b.yieldX(e,
[])}catch(g){if(b.rescue(g,[b.const_get_relative(c,"UncaughtThrowError")])){f=g;try{return f.$sym()["$=="](a)?f.$arg():this.$raise()}finally{b.pop_exception()}}else throw g;}},xa.$$arity=1);b.defn(g,"$throw",I=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];return this.$raise(b.const_get_relative(c,"UncaughtThrowError").$new(d))},I.$$arity=-1);b.defn(g,"$open",M=function(a){var d,e=M.$$p,f=e||q,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);
for(var z=0;z<g;z++)d[z-0]=arguments[z];e&&(M.$$p=null);return m(b.const_get_relative(c,"File"),"open",b.to_a(d),f.$to_proc())},M.$$arity=-1)})(v[0],v);return function(a,$super,g){function c(){}a=c=y(a,$super,"Object",c);g=[a].concat(g);return a.$include(b.const_get_relative(g,"Kernel"))}(v[0],null,v)},Opal.modules["corelib/error"]=function(b){var u=[],B=b.nil,v=b.klass,q=b.send,p=b.truthy,D=b.module;b.add_stubs("$new $clone $to_s $empty? $class $+ $attr_reader $[] $> $length $inspect".split(" "));
(function(a,$super,h){function y(){}a=y=v(a,$super,"Exception",y);var l=a.$$proto;h=[a].concat(h);var w,g,c,n,f,e,d,S;l.message=B;var t=b.const_get_relative(h,"Kernel").$raise;b.defs(a,"$new",w=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0<c.length?c[0]:B;e=new this.$$alloc(d);e.name=this.$$name;e.message=d;b.send(e,e.$initialize,c);b.config.enable_stack_trace&&Error.captureStackTrace&&Error.captureStackTrace(e,t);return e},w.$$arity=
-1);b.defs(a,"$exception",g=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return q(this,"new",b.to_a(c))},g.$$arity=-1);b.defn(a,"$initialize",c=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.message=0<b.length?b[0]:B},c.$$arity=-1);b.defn(a,"$backtrace",n=function(){var a=this.stack;return"string"===typeof a?a.split("\n").slice(0,15):a?a.slice(0,15):[]},n.$$arity=0);b.defn(a,
"$exception",f=function(a){null==a&&(a=B);if(a===B||this===a)return this;var b=this.$clone();b.message=a;return b},f.$$arity=-1);b.defn(a,"$message",e=function(){return this.$to_s()},e.$$arity=0);b.defn(a,"$inspect",d=function(){var a=B,a=this.$to_s();return p(a["$empty?"]())?this.$class().$to_s():"#<"+this.$class().$to_s()+": "+this.$to_s()+">"},d.$$arity=0);return(b.defn(a,"$to_s",S=function(){var a,b;return p(a=p(b=this.message)?this.message.$to_s():b)?a:this.$class().$to_s()},S.$$arity=0),B)&&
"to_s"})(u[0],Error,u);(function(a,$super,b){function y(){}[y=v(a,$super,"ScriptError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"Exception"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"SyntaxError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"ScriptError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"LoadError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"ScriptError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"NotImplementedError",y)].concat(b);
return B})(u[0],b.const_get_relative(u,"ScriptError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"SystemExit",y)].concat(b);return B})(u[0],b.const_get_relative(u,"Exception"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"NoMemoryError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"Exception"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"SignalException",y)].concat(b);return B})(u[0],b.const_get_relative(u,"Exception"),u);(function(a,$super,b){function y(){}[y=v(a,
$super,"Interrupt",y)].concat(b);return B})(u[0],b.const_get_relative(u,"Exception"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"SecurityError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"Exception"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"StandardError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"Exception"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"ZeroDivisionError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);
(function(a,$super,b){function y(){}[y=v(a,$super,"NameError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"NoMethodError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"NameError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"RuntimeError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"LocalJumpError",y)].concat(b);return B})(u[0],
b.const_get_relative(u,"StandardError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"TypeError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"ArgumentError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"IndexError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,
"StopIteration",y)].concat(b);return B})(u[0],b.const_get_relative(u,"IndexError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"KeyError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"IndexError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"RangeError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"FloatDomainError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"RangeError"),u);(function(a,
$super,b){function y(){}[y=v(a,$super,"IOError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,$super,b){function y(){}[y=v(a,$super,"SystemCallError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,m){var h=[D(a,"Errno")].concat(m);(function(a,$super,m){function g(){}a=g=v(a,$super,"EINVAL",g);[a].concat(m);var c;return b.defs(a,"$new",c=function(a){var f=c.$$p,e=B;null==a&&(a=B);f&&(c.$$p=null);e="Invalid argument";p(a)&&
(a=" - "+a,e="number"===typeof e&&"number"===typeof a?e+a:e["$+"](a));return q(this,b.find_super_dispatcher(this,"new",c,!1,g),[e],null)},c.$$arity=-1)})(h[0],b.const_get_relative(h,"SystemCallError"),h)})(u[0],u);(function(a,$super,h){function y(){}a=y=v(a,$super,"UncaughtThrowError",y);var l=a.$$proto;[a].concat(h);var w;l.sym=B;a.$attr_reader("sym","arg");return(b.defn(a,"$initialize",w=function(a){w.$$p&&(w.$$p=null);this.sym=a["$[]"](0);var c;c=a.$length();c="number"===typeof c?1<c:c["$>"](1);
p(c)&&(this.arg=a["$[]"](1));return q(this,b.find_super_dispatcher(this,"initialize",w,!1),["uncaught throw "+this.sym.$inspect()],null)},w.$$arity=1),B)&&"initialize"})(u[0],b.const_get_relative(u,"ArgumentError"),u);(function(a,$super,h){function y(){}a=y=v(a,$super,"NameError",y);[a].concat(h);var l;a.$attr_reader("name");return(b.defn(a,"$initialize",l=function(a,g){var c=l.$$p;null==g&&(g=B);c&&(l.$$p=null);q(this,b.find_super_dispatcher(this,"initialize",l,!1),[a],null);return this.name=g},
l.$$arity=-2),B)&&"initialize"})(u[0],null,u);(function(a,$super,h){function y(){}a=y=v(a,$super,"NoMethodError",y);[a].concat(h);var l;a.$attr_reader("args");return(b.defn(a,"$initialize",l=function(a,g,c){var h=l.$$p;null==g&&(g=B);null==c&&(c=[]);h&&(l.$$p=null);q(this,b.find_super_dispatcher(this,"initialize",l,!1),[a,g],null);return this.args=c},l.$$arity=-2),B)&&"initialize"})(u[0],null,u);(function(a,$super,b){function y(){}a=y=v(a,$super,"StopIteration",y);[a].concat(b);return a.$attr_reader("result")})(u[0],
null,u);return function(a,b){var h=[D(a,"JS")].concat(b);(function(a,$super,b){function g(){}[g=v(a,$super,"Error",g)].concat(b);return B})(h[0],null,h)}(u[0],u)},Opal.modules["corelib/constants"]=function(b){var u=[];b.const_set(u[0],"RUBY_PLATFORM","opal");b.const_set(u[0],"RUBY_ENGINE","opal");b.const_set(u[0],"RUBY_VERSION","2.3.4");b.const_set(u[0],"RUBY_ENGINE_VERSION","0.11.0.rc1");b.const_set(u[0],"RUBY_RELEASE_DATE","2017-05-01");b.const_set(u[0],"RUBY_PATCHLEVEL",0);b.const_set(u[0],"RUBY_REVISION",
0);b.const_set(u[0],"RUBY_COPYRIGHT","opal - Copyright (C) 2013-2015 Adam Beynon");return b.const_set(u[0],"RUBY_DESCRIPTION","opal "+b.const_get_relative(u,"RUBY_ENGINE_VERSION")+" ("+b.const_get_relative(u,"RUBY_RELEASE_DATE")+" revision "+b.const_get_relative(u,"RUBY_REVISION")+")")},Opal.modules["opal/base"]=function(b){var u=b.top;b.add_stubs(["$require"]);u.$require("corelib/runtime");u.$require("corelib/helpers");u.$require("corelib/module");u.$require("corelib/class");u.$require("corelib/basic_object");
u.$require("corelib/kernel");u.$require("corelib/error");return u.$require("corelib/constants")},Opal.modules["corelib/nil"]=function(b){var u=[],B=b.nil,v=b.klass,q=b.truthy;b.add_stubs("$raise $class $new $> $length $Rational".split(" "));(function(p,$super,a){function m(){}p=m=v(p,$super,"NilClass",m);var h=p.$$proto,y=[p].concat(a),l,w,g,c,n,f,e,d,S,t,k,ea,x,da,Q,r,W,A;h.$$meta=p;b.defn(p,"$!",l=function(){return!0},l.$$arity=0);b.defn(p,"$&",w=function(a){return!1},w.$$arity=1);b.defn(p,"$|",
g=function(a){return!1!==a&&a!==B},g.$$arity=1);b.defn(p,"$^",c=function(a){return!1!==a&&a!==B},c.$$arity=1);b.defn(p,"$==",n=function(a){return a===B},n.$$arity=1);b.defn(p,"$dup",f=function(){return this.$raise(b.const_get_relative(y,"TypeError"),"can't dup "+this.$class())},f.$$arity=0);b.defn(p,"$clone",e=function(){return this.$raise(b.const_get_relative(y,"TypeError"),"can't clone "+this.$class())},e.$$arity=0);b.defn(p,"$inspect",d=function(){return"nil"},d.$$arity=0);b.defn(p,"$nil?",S=function(){return!0},
S.$$arity=0);b.defn(p,"$singleton_class",t=function(){return b.const_get_relative(y,"NilClass")},t.$$arity=0);b.defn(p,"$to_a",k=function(){return[]},k.$$arity=0);b.defn(p,"$to_h",ea=function(){return b.hash()},ea.$$arity=0);b.defn(p,"$to_i",x=function(){return 0},x.$$arity=0);b.alias(p,"to_f","to_i");b.defn(p,"$to_s",da=function(){return""},da.$$arity=0);b.defn(p,"$to_c",Q=function(){return b.const_get_relative(y,"Complex").$new(0,0)},Q.$$arity=0);b.defn(p,"$rationalize",r=function(a){var c,d=arguments.length;
c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=c.$length();d="number"===typeof d?1<d:d["$>"](1);q(d)&&this.$raise(b.const_get_relative(y,"ArgumentError"));return this.$Rational(0,1)},r.$$arity=-1);b.defn(p,"$to_r",W=function(){return this.$Rational(0,1)},W.$$arity=0);return(b.defn(p,"$instance_variables",A=function(){return[]},A.$$arity=0),B)&&"instance_variables"})(u[0],null,u);return b.const_set(u[0],"NIL",B)},Opal.modules["corelib/boolean"]=function(b){var u=[],B=b.nil,v=
b.klass;b.add_stubs(["$raise","$class"]);(function(q,$super,u){function a(){}q=a=v(q,$super,"Boolean",a);var m=q.$$proto,h=[q].concat(u),y,l,w,g,c,n,f,e,d,S;m.$$is_boolean=!0;m.$$meta=q;b.defn(q,"$__id__",y=function(){return this.valueOf()?2:0},y.$$arity=0);b.alias(q,"object_id","__id__");b.defn(q,"$!",l=function(){return 1!=this},l.$$arity=0);b.defn(q,"$&",w=function(a){return 1==this?!1!==a&&a!==B:!1},w.$$arity=1);b.defn(q,"$|",g=function(a){return 1==this?!0:!1!==a&&a!==B},g.$$arity=1);b.defn(q,
"$^",c=function(a){return 1==this?!1===a||a===B:!1!==a&&a!==B},c.$$arity=1);b.defn(q,"$==",n=function(a){return 1==this===a.valueOf()},n.$$arity=1);b.alias(q,"equal?","==");b.alias(q,"eql?","==");b.defn(q,"$singleton_class",f=function(){return b.const_get_relative(h,"Boolean")},f.$$arity=0);b.defn(q,"$to_s",e=function(){return 1==this?"true":"false"},e.$$arity=0);b.defn(q,"$dup",d=function(){return this.$raise(b.const_get_relative(h,"TypeError"),"can't dup "+this.$class())},d.$$arity=0);return(b.defn(q,
"$clone",S=function(){return this.$raise(b.const_get_relative(h,"TypeError"),"can't clone "+this.$class())},S.$$arity=0),B)&&"clone"})(u[0],Boolean,u);b.const_set(u[0],"TrueClass",b.const_get_relative(u,"Boolean"));b.const_set(u[0],"FalseClass",b.const_get_relative(u,"Boolean"));b.const_set(u[0],"TRUE",!0);return b.const_set(u[0],"FALSE",!1)},Opal.modules["corelib/comparable"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function B(a,b){return"number"===
typeof a&&"number"===typeof b?a<b:a["$<"](b)}var v=[],q=b.nil,p=b.module,D=b.truthy;b.add_stubs("$=== $> $< $equal? $<=> $normalize $raise $class".split(" "));return function(a,m){var h=p(a,"Comparable"),y=[h].concat(m),l,w,g,c,n,f,e;b.defs(h,"$normalize",l=function(a){return D(b.const_get_relative(y,"Integer")["$==="](a))?a:D(u(a,0))?1:D(B(a,0))?-1:0},l.$$arity=1);b.defn(h,"$==",w=function(a){var c=q;try{return D(this["$equal?"](a))?!0:this["$<=>"]==b.Kernel["$<=>"]?!1:this.$$comparable?(delete this.$$comparable,
!1):D(c=this["$<=>"](a))?0==b.const_get_relative(y,"Comparable").$normalize(c):!1}catch(e){if(b.rescue(e,[b.const_get_relative(y,"StandardError")]))try{return!1}finally{b.pop_exception()}else throw e;}},w.$$arity=1);b.defn(h,"$>",g=function(a){var c=q;D(c=this["$<=>"](a))||this.$raise(b.const_get_relative(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<b.const_get_relative(y,"Comparable").$normalize(c)},g.$$arity=1);b.defn(h,"$>=",c=function(a){var c=q;D(c=
this["$<=>"](a))||this.$raise(b.const_get_relative(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0<=b.const_get_relative(y,"Comparable").$normalize(c)},c.$$arity=1);b.defn(h,"$<",n=function(a){var c=q;D(c=this["$<=>"](a))||this.$raise(b.const_get_relative(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>b.const_get_relative(y,"Comparable").$normalize(c)},n.$$arity=1);b.defn(h,"$<=",f=function(a){var c=q;D(c=this["$<=>"](a))||
this.$raise(b.const_get_relative(y,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");return 0>=b.const_get_relative(y,"Comparable").$normalize(c)},f.$$arity=1);b.defn(h,"$between?",e=function(a,b){return B(this,a)||u(this,b)?!1:!0},e.$$arity=2)}(v[0],v)},Opal.modules["corelib/regexp"]=function(b){var u=[],B=b.nil,v=b.klass,q=b.send,p=b.truthy,D=b.gvars;b.add_stubs("$nil? $[] $raise $escape $options $to_str $new $join $coerce_to! $! $match $coerce_to? $begin $coerce_to $call $=~ $attr_reader $=== $inspect $to_a".split(" "));
(function(a,$super,b){function y(){}[y=v(a,$super,"RegexpError",y)].concat(b);return B})(u[0],b.const_get_relative(u,"StandardError"),u);(function(a,$super,h){function y(){}a=y=v(a,$super,"Regexp",y);var l=a.$$proto,w=[a].concat(h),g,c,n,f,e,d,S,t,k,ea;b.const_set(w[0],"IGNORECASE",1);b.const_set(w[0],"MULTILINE",4);l.$$is_regexp=!0;(function(a,c){var d=[a].concat(c),e,f,g,h,l;b.defn(a,"$allocate",e=function(){var a=e.$$p,c=B,d=c=B,f=B;a&&(e.$$p=null);d=0;f=arguments.length;for(c=Array(f);d<f;d++)c[d]=
arguments[d];c=q(this,b.find_super_dispatcher(this,"allocate",e,!1),c,a);c.uninitialized=!0;return c},e.$$arity=0);b.defn(a,"$escape",f=function(a){return b.escape_regexp(a)},f.$$arity=1);b.defn(a,"$last_match",g=function(a){null==D["~"]&&(D["~"]=B);null==a&&(a=B);return p(a["$nil?"]())?D["~"]:D["~"]["$[]"](a)},g.$$arity=-1);b.alias(a,"quote","escape");b.defn(a,"$union",h=function(a){var c,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];var g,h;if(0==c.length)return/(?!)/;
e=c[0].$$is_array;1<c.length&&e&&this.$raise(b.const_get_relative(d,"TypeError"),"no implicit conversion of Array into String");e&&(c=c[0]);g=void 0;for(var e=[],l=0;l<c.length;l++)f=c[l],f.$$is_string?e.push(this.$escape(f)):f.$$is_regexp?(h=f.$options(),void 0!=g&&g!=h&&this.$raise(b.const_get_relative(d,"TypeError"),"All expressions must use the same options"),g=h,e.push("("+f.source+")")):e.push(this.$escape(f.$to_str()));return this.$new(e.$join("|"),g)},h.$$arity=-1);return(b.defn(a,"$new",
l=function(a,c){if(a.$$is_regexp)return new RegExp(a);a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"String"),"to_str");"\\"===a.charAt(a.length-1)&&"\\"!==a.charAt(a.length-2)&&this.$raise(b.const_get_relative(d,"RegexpError"),"too short escape sequence: /"+a+"/");if(void 0===c||c["$!"]())return new RegExp(a);if(c.$$is_number){var e="";b.const_get_relative(d,"IGNORECASE")&c&&(e+="i");b.const_get_relative(d,"MULTILINE")&c&&(e+="m");c=e}else c="i";return new RegExp(a,c)},
l.$$arity=-2),B)&&"new"})(b.get_singleton_class(a),w);b.defn(a,"$==",g=function(a){return a.constructor==RegExp&&this.toString()===a.toString()},g.$$arity=1);b.defn(a,"$===",c=function(a){return this.$match(b.const_get_relative(w,"Opal")["$coerce_to?"](a,b.const_get_relative(w,"String"),"to_str"))!==B},c.$$arity=1);b.defn(a,"$=~",n=function(a){var b;null==D["~"]&&(D["~"]=B);return p(b=this.$match(a))?D["~"].$begin(0):b},n.$$arity=1);b.alias(a,"eql?","==");b.defn(a,"$inspect",f=function(){var a=this.toString(),
b=/^\/(.*)\/([^\/]*)$/.exec(a);if(b){for(var a=b[2],b=b[1].split(""),c=b.length,d=!1,e="",f=0;f<c;f++){var g=b[f];d||"/"!=g||(e=e.concat("\\"));e=e.concat(g);d="\\"==g?d?!1:!0:!1}return"/"+e+"/"+a}return a},f.$$arity=0);b.defn(a,"$match",e=function(a,c){var d=e.$$p,f=d||B;null==D["~"]&&(D["~"]=B);d&&(e.$$p=null);this.uninitialized&&this.$raise(b.const_get_relative(w,"TypeError"),"uninitialized Regexp");c=void 0===c?0:b.const_get_relative(w,"Opal").$coerce_to(c,b.const_get_relative(w,"Integer"),"to_int");
if(a===B)return D["~"]=B;a=b.const_get_relative(w,"Opal").$coerce_to(a,b.const_get_relative(w,"String"),"to_str");if(0>c&&(c+=a.length,0>c))return D["~"]=B;var d=this.source,g="g";this.multiline&&(d=d.replace(".","[\\s\\S]"),g+="m");for(g=new RegExp(d,g+(this.ignoreCase?"i":""));;){d=g.exec(a);if(null===d)return D["~"]=B;if(d.index>=c)return D["~"]=b.const_get_relative(w,"MatchData").$new(g,d),f===B?D["~"]:f.$call(D["~"]);g.lastIndex=d.index+1}},e.$$arity=-2);b.defn(a,"$~",d=function(){null==D._&&
(D._=B);return this["$=~"](D._)},d.$$arity=0);b.defn(a,"$source",S=function(){return this.source},S.$$arity=0);b.defn(a,"$options",t=function(){this.uninitialized&&this.$raise(b.const_get_relative(w,"TypeError"),"uninitialized Regexp");var a=0;this.multiline&&(a|=b.const_get_relative(w,"MULTILINE"));this.ignoreCase&&(a|=b.const_get_relative(w,"IGNORECASE"));return a},t.$$arity=0);b.defn(a,"$casefold?",k=function(){return this.ignoreCase},k.$$arity=0);b.alias(a,"to_s","source");return b.defs(a,"$_load",
ea=function(a){return q(this,"new",b.to_a(a))},ea.$$arity=1)})(u[0],RegExp,u);return function(a,$super,h){function y(){}a=y=v(a,$super,"MatchData",y);var l=a.$$proto,w=[a].concat(h),g,c,n,f,e,d,S,t,k,ea,x,da;l.matches=B;a.$attr_reader("post_match","pre_match","regexp","string");b.defn(a,"$initialize",g=function(a,b){D["~"]=this;this.regexp=a;this.begin=b.index;this.string=b.input;this.pre_match=b.input.slice(0,b.index);this.post_match=b.input.slice(b.index+b[0].length);this.matches=[];for(var c=0,
d=b.length;c<d;c++){var e=b[c];null==e?this.matches.push(B):this.matches.push(e)}},g.$$arity=2);b.defn(a,"$[]",c=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return q(this.matches,"[]",b.to_a(c))},c.$$arity=-1);b.defn(a,"$offset",n=function(a){0!==a&&this.$raise(b.const_get_relative(w,"ArgumentError"),"MatchData#offset only supports 0th element");return[this.begin,this.begin+this.matches[a].length]},n.$$arity=1);b.defn(a,"$==",f=function(a){var c,
d,e,f;return p(b.const_get_relative(w,"MatchData")["$==="](a))?p(c=p(d=p(e=p(f=this.string==a.string)?this.regexp.toString()==a.regexp.toString():f)?this.pre_match==a.pre_match:e)?this.post_match==a.post_match:d)?this.begin==a.begin:c:!1},f.$$arity=1);b.alias(a,"eql?","==");b.defn(a,"$begin",e=function(a){0!==a&&this.$raise(b.const_get_relative(w,"ArgumentError"),"MatchData#begin only supports 0th element");return this.begin},e.$$arity=1);b.defn(a,"$end",d=function(a){0!==a&&this.$raise(b.const_get_relative(w,
"ArgumentError"),"MatchData#end only supports 0th element");return this.begin+this.matches[a].length},d.$$arity=1);b.defn(a,"$captures",S=function(){return this.matches.slice(1)},S.$$arity=0);b.defn(a,"$inspect",t=function(){for(var a="#<MatchData "+this.matches[0].$inspect(),b=1,c=this.matches.length;b<c;b++)a+=" "+b+":"+this.matches[b].$inspect();return a+">"},t.$$arity=0);b.defn(a,"$length",k=function(){return this.matches.length},k.$$arity=0);b.alias(a,"size","length");b.defn(a,"$to_a",ea=function(){return this.matches},
ea.$$arity=0);b.defn(a,"$to_s",x=function(){return this.matches[0]},x.$$arity=0);return(b.defn(a,"$values_at",da=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];for(var f,e=[],d=0;d<c.length;d++){c[d].$$is_range&&(f=c[d].$to_a(),f.unshift(d,1),Array.prototype.splice.apply(c,f));f=b.const_get_relative(w,"Opal")["$coerce_to!"](c[d],b.const_get_relative(w,"Integer"),"to_int");if(0>f&&(f+=this.matches.length,0>f)){e.push(B);continue}e.push(this.matches[f])}return e},
da.$$arity=-1),B)&&"values_at"}(u[0],null,u)},Opal.modules["corelib/string"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var v=b.top,q=[],p=b.nil,D=b.klass,a=b.truthy,m=b.send,h=b.gvars;b.add_stubs("$require $include $coerce_to? $coerce_to $raise $=== $format $to_s $respond_to? $to_str $<=> $== $=~ $new $empty? $ljust $ceil $/ $+ $rjust $floor $to_a $each_char $to_proc $coerce_to! $copy_singleton_methods $initialize_clone $initialize_dup $enum_for $size $chomp $[] $to_i $each_line $class $match $captures $proc $succ $escape".split(" "));
v.$require("corelib/comparable");v.$require("corelib/regexp");(function(y,$super,w){function g(){}function c(a){function c(a){var d="",e,g=a.length,m,F;for(e=0;e<g;e++)if(m=a.charAt(e),"-"===m&&0<e&&e<g-1&&!F){F=a.charCodeAt(e-1);m=a.charCodeAt(e+1);F>m&&n.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+F+"-"+m+'" in string transliteration');for(F+=1;F<m+1;F++)d+=String.fromCharCode(F);F=!0;e++}else F="\\"===m,d+=m;return d}function d(a,b){if(0===a.length)return b;var c="",e,f=a.length,
g;for(e=0;e<f;e++)g=a.charAt(e),-1!==b.indexOf(g)&&(c+=g);return c}var e,g,m,z,h="",I="";e=0;for(g=a.length;e<g;e++)m=b.const_get_relative(f,"Opal").$coerce_to(a[e],b.const_get_relative(f,"String"),"to_str"),z="^"===m.charAt(0)&&1<m.length,m=c(z?m.slice(1):m),z?I=d(I,m):h=d(h,m);if(0<h.length&&0<I.length){m="";e=0;for(g=h.length;e<g;e++)a=h.charAt(e),-1===I.indexOf(a)&&(m+=a);h=m;I=""}return 0<h.length?"["+b.const_get_relative(f,"Regexp").$escape(h)+"]":0<I.length?"[^"+b.const_get_relative(f,"Regexp").$escape(I)+
"]":null}var n=g=D(y,$super,"String",g);y=n.$$proto;var f=[n].concat(w),e,d,q,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,aa,U,sa,ia,H,Y,ha,ka,na,la,v,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da,Ha,Ia,z,va,ca,O,xa,I,M,wa,ga,Ja,La,Ka,Ma;y.length=p;n.$include(b.const_get_relative(f,"Comparable"));y.$$is_string=!0;b.defn(n,"$__id__",e=function(){return this.toString()},e.$$arity=0);b.alias(n,"object_id","__id__");b.defs(n,"$try_convert",d=function(a){return b.const_get_relative(f,"Opal")["$coerce_to?"](a,
b.const_get_relative(f,"String"),"to_str")},d.$$arity=1);b.defs(n,"$new",q=function(a){null==a&&(a="");a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str");return new String(a)},q.$$arity=-1);b.defn(n,"$initialize",t=function(a){return void 0===a?this:this.$raise(b.const_get_relative(f,"NotImplementedError"),"Mutable strings are not supported in Opal.")},t.$$arity=-1);b.defn(n,"$%",k=function(c){return a(b.const_get_relative(f,"Array")["$==="](c))?m(this,"format",
[this].concat(b.to_a(c))):this.$format(this,c)},k.$$arity=1);b.defn(n,"$*",ea=function(a){a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(f,"ArgumentError"),"negative argument");if(0===a)return"";var c="",d=this.toString();for(268435456<=d.length*a&&this.$raise(b.const_get_relative(f,"RangeError"),"multiply count must not overflow maximum string size");;){1===(a&1)&&(c+=d);a>>>=1;if(0===a)break;d+=d}return c},ea.$$arity=
1);b.defn(n,"$+",x=function(a){a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str");return this+a.$to_s()},x.$$arity=1);b.defn(n,"$<=>",da=function(b){if(a(b["$respond_to?"]("to_str")))return b=b.$to_str().$to_s(),this>b?1:this<b?-1:0;b=b["$<=>"](this);return b===p?p:0<b?-1:0>b?1:0},da.$$arity=1);b.defn(n,"$==",Q=function(a){return a.$$is_string?this.toString()===a.toString():b.const_get_relative(f,"Opal")["$respond_to?"](a,"to_str")?a["$=="](this):!1},Q.$$arity=
1);b.alias(n,"eql?","==");b.alias(n,"===","==");b.defn(n,"$=~",r=function(a){a.$$is_string&&this.$raise(b.const_get_relative(f,"TypeError"),"type mismatch: String given");return a["$=~"](this)},r.$$arity=1);b.defn(n,"$[]",W=function(a,c){var d=this.length,e;if(a.$$is_range){e=a.exclude;c=b.const_get_relative(f,"Opal").$coerce_to(a.end,b.const_get_relative(f,"Integer"),"to_int");a=b.const_get_relative(f,"Opal").$coerce_to(a.begin,b.const_get_relative(f,"Integer"),"to_int");if(Math.abs(a)>d)return p;
0>a&&(a+=d);0>c&&(c+=d);e||(c+=1);c-=a;0>c&&(c=0);return this.substr(a,c)}if(a.$$is_string)return null!=c&&this.$raise(b.const_get_relative(f,"TypeError")),-1!==this.indexOf(a)?a:p;if(a.$$is_regexp){d=this.match(a);if(null===d)return h["~"]=p;h["~"]=b.const_get_relative(f,"MatchData").$new(a,d);if(null==c)return d[0];c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");return 0>c&&-c<d.length?d[c+d.length]:0<=c&&c<d.length?d[c]:p}a=b.const_get_relative(f,"Opal").$coerce_to(a,
b.const_get_relative(f,"Integer"),"to_int");0>a&&(a+=d);if(null==c)return a>=d||0>a?p:this.substr(a,1);c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");return 0>c||a>d||0>a?p:this.substr(a,c)},W.$$arity=-2);b.alias(n,"byteslice","[]");b.defn(n,"$capitalize",A=function(){return this.charAt(0).toUpperCase()+this.substr(1).toLowerCase()},A.$$arity=0);b.defn(n,"$casecmp",E=function(a){var c=this;a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,
"String"),"to_str").$to_s();var d=/^[\x00-\x7F]*$/;d.test(c)&&d.test(a)&&(c=c.toLowerCase(),a=a.toLowerCase());return c["$<=>"](a)},E.$$arity=1);b.defn(n,"$center",C=function(c,d){null==d&&(d=" ");c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");d=b.const_get_relative(f,"Opal").$coerce_to(d,b.const_get_relative(f,"String"),"to_str").$to_s();a(d["$empty?"]())&&this.$raise(b.const_get_relative(f,"ArgumentError"),"zero width padding");if(a(c<=this.length))return this;
var e=this.$ljust(u(B(c,this.length),2).$ceil(),d);return this.$rjust(u(B(c,this.length),2).$floor(),d)+e.slice(this.length)},C.$$arity=-2);b.defn(n,"$chars",R=function(){var b=R.$$p,c=b||p;b&&(R.$$p=null);return a(c)?m(this,"each_char",[],c.$to_proc()):this.$each_char().$to_a()},R.$$arity=0);b.defn(n,"$chomp",N=function(c){null==h["/"]&&(h["/"]=p);null==c&&(c=h["/"]);if(a(c===p||0===this.length))return this;c=b.const_get_relative(f,"Opal")["$coerce_to!"](c,b.const_get_relative(f,"String"),"to_str").$to_s();
return"\n"===c?this.replace(/\r?\n?$/,""):""===c?this.replace(/(\r?\n)+$/,""):this.length>c.length&&this.substr(this.length-c.length,c.length)===c?this.substr(0,this.length-c.length):this},N.$$arity=-1);b.defn(n,"$chop",X=function(){var a=this.length;return 1>=a?"":"\n"===this.charAt(a-1)&&"\r"===this.charAt(a-2)?this.substr(0,a-2):this.substr(0,a-1)},X.$$arity=0);b.defn(n,"$chr",P=function(){return this.charAt(0)},P.$$arity=0);b.defn(n,"$clone",Z=function(){var a=p,a=this.slice();a.$copy_singleton_methods(this);
a.$initialize_clone(this);return a},Z.$$arity=0);b.defn(n,"$dup",V=function(){var a=p,a=this.slice();a.$initialize_dup(this);return a},V.$$arity=0);b.defn(n,"$count",K=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=0;g<e;g++)d[g-0]=arguments[g];0===d.length&&this.$raise(b.const_get_relative(f,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");e=c(d);return null===e?0:this.length-this.replace(new RegExp(e,"g"),"").length},K.$$arity=-1);b.defn(n,"$delete",
G=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var g=0;g<e;g++)d[g-0]=arguments[g];0===d.length&&this.$raise(b.const_get_relative(f,"ArgumentError"),"ArgumentError: wrong number of arguments (0 for 1+)");e=c(d);return null===e?this:this.replace(new RegExp(e,"g"),"")},G.$$arity=-1);b.defn(n,"$downcase",T=function(){return this.toLowerCase()},T.$$arity=0);b.defn(n,"$each_char",ba=function(){var a,c=ba.$$p,d=c||p;c&&(ba.$$p=null);if(d===p)return m(this,"enum_for",["each_char"],
(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,this.charAt(c));return this},ba.$$arity=0);b.defn(n,"$each_line",pa=function(a){var c=pa.$$p,d=c||p;null==h["/"]&&(h["/"]=p);null==a&&(a=h["/"]);c&&(pa.$$p=null);if(d===p)return this.$enum_for("each_line",a);if(a===p)return b.yield1(d,this),this;a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str");var e,g,m;if(0===a.length){a=this.split(/(\n{2,})/);
c=0;for(e=a.length;c<e;c+=2)(a[c]||a[c+1])&&b.yield1(d,(a[c]||"")+(a[c+1]||""));return this}c=this.$chomp(a);e=this.length!=c.length;m=c.split(a);c=0;for(g=m.length;c<g;c++)c<g-1||e?b.yield1(d,m[c]+a):b.yield1(d,m[c]);return this},pa.$$arity=-1);b.defn(n,"$empty?",L=function(){return 0===this.length},L.$$arity=0);b.defn(n,"$end_with?",aa=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++){var g=b.const_get_relative(f,
"Opal").$coerce_to(c[d],b.const_get_relative(f,"String"),"to_str").$to_s();if(this.length>=g.length&&this.substr(this.length-g.length,g.length)==g)return!0}return!1},aa.$$arity=-1);b.alias(n,"eql?","==");b.alias(n,"equal?","===");b.defn(n,"$gsub",U=function(a,c){var d=this,e=U.$$p,g=e||p;e&&(U.$$p=null);if(void 0===c&&g===p)return d.$enum_for("gsub",a);var e="",m=p,z=0,I,k;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,
"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;;){I=a.exec(d);if(null===I){h["~"]=p;e+=d.slice(z);break}m=b.const_get_relative(f,"MatchData").$new(a,I);void 0===c?k=g(I[0]):c.$$is_hash?k=c["$[]"](I[0]).$to_s():(c.$$is_string||(c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str")),k=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=I.length-1;0<a;a--)if(void 0!==I[a])return b.slice(1)+
I[a];return"";case "&":return b.slice(1)+I[0];case "`":return b.slice(1)+d.slice(0,I.index);case "'":return b.slice(1)+d.slice(I.index+I[0].length);default:return b.slice(1)+(I[c]||"")}}).replace(/\\\\/g,"\\"));a.lastIndex===I.index?(e+=k+d.slice(z,I.index+1),a.lastIndex+=1):e+=d.slice(z,I.index)+k;z=a.lastIndex}h["~"]=m;return e},U.$$arity=-2);b.defn(n,"$hash",sa=function(){return this.toString()},sa.$$arity=0);b.defn(n,"$hex",ia=function(){return this.$to_i(16)},ia.$$arity=0);b.defn(n,"$include?",
H=function(a){a.$$is_string||(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"));return-1!==this.indexOf(a)},H.$$arity=1);b.defn(n,"$index",Y=function(a,c){var d,e;if(void 0===c)c=0;else if(c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return p;if(a.$$is_regexp)for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){d=e.exec(this);if(null===d){h["~"]=p;d=-1;break}if(d.index>=c){h["~"]=b.const_get_relative(f,
"MatchData").$new(e,d);d=d.index;break}e.lastIndex=d.index+1}else a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),d=0===a.length&&c>this.length?-1:this.indexOf(a,c);return-1===d?p:d},Y.$$arity=-2);b.defn(n,"$inspect",ha=function(){var a={"\u0007":"\\a","\u001b":"\\e","\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r","\x0B":"\\v",'"':'\\"',"\\":"\\\\"};return'"'+this.replace(/[\\\"\x00-\x1f\u007F-\u009F\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
function(b){return a[b]||"\\u"+("0000"+b.charCodeAt(0).toString(16).toUpperCase()).slice(-4)}).replace(/\#[\$\@\{]/g,"\\$&")+'"'},ha.$$arity=0);b.defn(n,"$intern",ka=function(){return this},ka.$$arity=0);b.defn(n,"$lines",na=function(b){var c=na.$$p,d=c||p,e=p;null==h["/"]&&(h["/"]=p);null==b&&(b=h["/"]);c&&(na.$$p=null);e=m(this,"each_line",[b],d.$to_proc());return a(d)?this:e.$to_a()},na.$$arity=-1);b.defn(n,"$length",la=function(){return this.length},la.$$arity=0);b.defn(n,"$ljust",v=function(c,
d){null==d&&(d=" ");c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");d=b.const_get_relative(f,"Opal").$coerce_to(d,b.const_get_relative(f,"String"),"to_str").$to_s();a(d["$empty?"]())&&this.$raise(b.const_get_relative(f,"ArgumentError"),"zero width padding");if(a(c<=this.length))return this;var e=-1,g="";for(c-=this.length;++e<c;)g+=d;return this+g.slice(0,c)},v.$$arity=-2);b.defn(n,"$lstrip",oa=function(){return this.replace(/^\s*/,"")},oa.$$arity=0);b.defn(n,
"$ascii_only?",ra=function(){return this.match(/[ -~\n]*/)[0]===this},ra.$$arity=0);b.defn(n,"$match",qa=function(c,d){var e,g=qa.$$p,z=g||p;g&&(qa.$$p=null);a(a(e=b.const_get_relative(f,"String")["$==="](c))?e:c["$respond_to?"]("to_str"))&&(c=b.const_get_relative(f,"Regexp").$new(c.$to_str()));a(b.const_get_relative(f,"Regexp")["$==="](c))||this.$raise(b.const_get_relative(f,"TypeError"),"wrong argument type "+c.$class()+" (expected Regexp)");return m(c,"match",[this,d],z.$to_proc())},qa.$$arity=
-2);b.defn(n,"$next",ma=function(){var a=this.length;if(0===a)return"";for(var b=this,c=this.search(/[a-zA-Z0-9]/),d=!1,e;a--;){e=this.charCodeAt(a);if(48<=e&&57>=e||65<=e&&90>=e||97<=e&&122>=e)switch(e){case 57:d=!0;e=48;break;case 90:d=!0;e=65;break;case 122:d=!0;e=97;break;default:d=!1,e+=1}else-1===c?255===e?(d=!0,e=0):(d=!1,e+=1):d=!0;b=b.slice(0,a)+String.fromCharCode(e)+b.slice(a+1);if(d&&(0===a||a===c)){switch(e){case 65:break;case 97:break;default:e+=1}b=0===a?String.fromCharCode(e)+b:b.slice(0,
a)+String.fromCharCode(e)+b.slice(a);d=!1}if(!d)break}return b},ma.$$arity=0);b.defn(n,"$oct",ja=function(){var a;a=this;var b=8;if(/^\s*_/.test(a))return 0;a=a.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/i,function(a,c,d,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===d)return a}switch(d){case "0b":b=2;break;case "0":case "0o":b=8;break;case "0d":b=10;break;case "0x":b=16}return c+e});a=parseInt(a.replace(/_(?!_)/g,""),b);return isNaN(a)?0:a},ja.$$arity=0);b.defn(n,
"$ord",ta=function(){return this.charCodeAt(0)},ta.$$arity=0);b.defn(n,"$partition",fa=function(a){var c;a.$$is_regexp?(c=a.exec(this),null===c?c=-1:(b.const_get_relative(f,"MatchData").$new(a,c),a=c[0],c=c.index)):(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),c=this.indexOf(a));return-1===c?[this,"",""]:[this.slice(0,c),this.slice(c,c+a.length),this.slice(c+a.length)]},fa.$$arity=1);b.defn(n,"$reverse",ya=function(){return this.split("").reverse().join("")},
ya.$$arity=0);b.defn(n,"$rindex",ua=function(a,c){var d,e,g;if(void 0===c)c=this.length;else if(c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int"),0>c&&(c+=this.length,0>c))return p;if(a.$$is_regexp){d=null;for(e=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){g=e.exec(this);if(null===g||g.index>c)break;d=g;e.lastIndex=d.index+1}null===d?(h["~"]=p,d=-1):(b.const_get_relative(f,"MatchData").$new(e,d),d=d.index)}else a=b.const_get_relative(f,"Opal").$coerce_to(a,
b.const_get_relative(f,"String"),"to_str"),d=this.lastIndexOf(a,c);return-1===d?p:d},ua.$$arity=-2);b.defn(n,"$rjust",za=function(c,d){null==d&&(d=" ");c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"Integer"),"to_int");d=b.const_get_relative(f,"Opal").$coerce_to(d,b.const_get_relative(f,"String"),"to_str").$to_s();a(d["$empty?"]())&&this.$raise(b.const_get_relative(f,"ArgumentError"),"zero width padding");if(a(c<=this.length))return this;var e=Math.floor(c-this.length),g=Array(Math.floor(e/
d.length)+1).join(d);return g+d.slice(0,e-g.length)+this},za.$$arity=-2);b.defn(n,"$rpartition",Ea=function(a){var c,d,e;if(a.$$is_regexp){c=null;for(d=new RegExp(a.source,"gm"+(a.ignoreCase?"i":""));;){e=d.exec(this);if(null===e)break;c=e;d.lastIndex=c.index+1}null===c?c=-1:(b.const_get_relative(f,"MatchData").$new(d,c),a=c[0],c=c.index)}else a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),c=this.lastIndexOf(a);return-1===c?["","",this]:[this.slice(0,c),this.slice(c,
c+a.length),this.slice(c+a.length)]},Ea.$$arity=1);b.defn(n,"$rstrip",Ga=function(){return this.replace(/[\s\u0000]*$/,"")},Ga.$$arity=0);b.defn(n,"$scan",Ba=function(a){var c=Ba.$$p,d=c||p;c&&(Ba.$$p=null);var c=[],e=p,g;a.$$is_regexp?a=new RegExp(a.source,"gm"+(a.ignoreCase?"i":"")):(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));for(;null!=(g=a.exec(this));)e=b.const_get_relative(f,"MatchData").$new(a,
g),d===p?1==g.length?c.push(g[0]):c.push(e.$captures()):1==g.length?d(g[0]):d.call(this,e.$captures()),a.lastIndex===g.index&&(a.lastIndex+=1);h["~"]=e;return d!==p?this:c},Ba.$$arity=1);b.alias(n,"size","length");b.alias(n,"slice","[]");b.defn(n,"$split",Ca=function(c,d){var e;null==h[";"]&&(h[";"]=p);if(0===this.length)return[];if(void 0===d)d=0;else if(d=b.const_get_relative(f,"Opal")["$coerce_to!"](d,b.const_get_relative(f,"Integer"),"to_int"),1===d)return[this];if(void 0===c||c===p)c=a(e=h[";"])?
e:" ";e=[];var g=this.toString(),m=0,z,I;c.$$is_regexp?c=new RegExp(c.source,"gm"+(c.ignoreCase?"i":"")):(c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str").$to_s()," "===c?(c=/\s+/gm,g=g.replace(/^\s+/,"")):c=new RegExp(c.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gm"));e=g.split(c);if(1===e.length&&e[0]===g)return e;for(;-1!==(I=e.indexOf(void 0));)e.splice(I,1);if(0===d){for(;""===e[e.length-1];)--e.length;return e}z=c.exec(g);if(0>d){if(null!==z&&""===z[0]&&-1===
c.source.indexOf("(?="))for(I=0,g=z.length;I<g;I++)e.push("");return e}if(null!==z&&""===z[0])return e.splice(d-1,e.length-1,e.slice(d-1).join("")),e;if(d>=e.length)return e;for(I=0;null!==z;){I++;m=c.lastIndex;if(I+1===d)break;z=c.exec(g)}e.splice(d-1,e.length-1,g.slice(m));return e},Ca.$$arity=-1);b.defn(n,"$squeeze",Fa=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];if(0===b.length)return this.replace(/(.)\1+/g,"$1");d=c(b);return null===
d?this:this.replace(new RegExp("("+d+")\\1+","g"),"$1")},Fa.$$arity=-1);b.defn(n,"$start_with?",Da=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=0;for(e=c.length;d<e;d++){var g=b.const_get_relative(f,"Opal").$coerce_to(c[d],b.const_get_relative(f,"String"),"to_str").$to_s();if(0===this.indexOf(g))return!0}return!1},Da.$$arity=-1);b.defn(n,"$strip",Ha=function(){return this.replace(/^\s*/,"").replace(/[\s\u0000]*$/,"")},Ha.$$arity=0);b.defn(n,
"$sub",Ia=function(a,c){var d=this,e=Ia.$$p,g=e||p;e&&(Ia.$$p=null);a.$$is_regexp||(a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str"),a=new RegExp(a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")));var m=a.exec(d);if(null===m)return h["~"]=p,d.toString();b.const_get_relative(f,"MatchData").$new(a,m);if(void 0===c)return g===p&&d.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments (1 for 2)"),d.slice(0,m.index)+g(m[0])+d.slice(m.index+m[0].length);
if(c.$$is_hash)return d.slice(0,m.index)+c["$[]"](m[0]).$to_s()+d.slice(m.index+m[0].length);c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str");c=c.replace(/([\\]+)([0-9+&`'])/g,function(a,b,c){if(0===b.length%2)return a;switch(c){case "+":for(a=m.length-1;0<a;a--)if(void 0!==m[a])return b.slice(1)+m[a];return"";case "&":return b.slice(1)+m[0];case "`":return b.slice(1)+d.slice(0,m.index);case "'":return b.slice(1)+d.slice(m.index+m[0].length);default:return b.slice(1)+
(m[c]||"")}}).replace(/\\\\/g,"\\");return d.slice(0,m.index)+c+d.slice(m.index+m[0].length)},Ia.$$arity=-2);b.alias(n,"succ","next");b.defn(n,"$sum",z=function(a){null==a&&(a=16);a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");for(var c=0,d=this.length,e=0;e<d;e++)c+=this.charCodeAt(e);return 0>=a?c:c&Math.pow(2,a)-1},z.$$arity=-1);b.defn(n,"$swapcase",va=function(){var a=this.replace(/([a-z]+)|([A-Z]+)/g,function(a,b,c){return b?a.toUpperCase():a.toLowerCase()});
return this.constructor===String?a:this.$class().$new(a)},va.$$arity=0);b.defn(n,"$to_f",ca=function(){if("_"===this.charAt(0))return 0;var a=parseFloat(this.replace(/_/g,""));return isNaN(a)||Infinity==a||-Infinity==a?0:a},ca.$$arity=0);b.defn(n,"$to_i",O=function(a){null==a&&(a=10);var c=this.toLowerCase(),d=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");(1===d||0>d||36<d)&&this.$raise(b.const_get_relative(f,"ArgumentError"),"invalid radix "+d);if(/^\s*_/.test(c))return 0;
c=c.replace(/^(\s*[+-]?)(0[bodx]?)(.+)$/,function(a,b,c,e){switch(e.charAt(0)){case "+":case "-":return a;case "0":if("x"===e.charAt(1)&&"0x"===c&&(0===d||16===d))return a}switch(c){case "0b":if(0===d||2===d)return d=2,b+e;break;case "0":case "0o":if(0===d||8===d)return d=8,b+e;break;case "0d":if(0===d||10===d)return d=10,b+e;break;case "0x":if(0===d||16===d)return d=16,b+e}return a});a=parseInt(c.replace(/_(?!_)/g,""),d);return isNaN(a)?0:a},O.$$arity=-1);b.defn(n,"$to_proc",xa=function(){var a,
c=p,c=this.valueOf();return m(this,"proc",[],(a=function(d){var e=a.$$s||this,g,m;if(g=a.$$p||p)a.$$p=null;var z=arguments.length;m=z-0;0>m&&(m=0);m=Array(m);for(var h=0;h<z;h++)m[h-0]=arguments[h];0===m.length&&e.$raise(b.const_get_relative(f,"ArgumentError"),"no receiver given");e=m.shift();null==e&&(e=p);return b.send(e,c,m,g)},a.$$s=this,a.$$arity=-1,a))},xa.$$arity=0);b.defn(n,"$to_s",I=function(){return this.toString()},I.$$arity=0);b.alias(n,"to_str","to_s");b.alias(n,"to_sym","intern");b.defn(n,
"$tr",M=function(a,c){a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str").$to_s();c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str").$to_s();if(0==a.length||a===c)return this;var d,e,g,m,z,h={};z=a.split("");var I=z.length,k=c.split(""),M=k.length,r=!1,w=null;"^"===z[0]&&1<z.length&&(r=!0,z.shift(),w=k[M-1],--I);var n=[];g=null;e=!1;for(d=0;d<I;d++)if(m=z[d],null==g)g=m,n.push(m);else if("-"===m)"-"===g?(n.push("-"),n.push("-")):
d==I-1?n.push("-"):e=!0;else if(e){g=g.charCodeAt(0);e=m.charCodeAt(0);g>e&&this.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+String.fromCharCode(g)+"-"+String.fromCharCode(e)+'" in string transliteration');for(g+=1;g<e;g++)n.push(String.fromCharCode(g));n.push(m);g=e=null}else n.push(m);z=n;I=z.length;if(r)for(d=0;d<I;d++)h[z[d]]=!0;else{if(0<M){n=[];g=null;e=!1;for(d=0;d<M;d++)if(m=k[d],null==g)g=m,n.push(m);else if("-"===m)"-"===g?(n.push("-"),n.push("-")):d==M-1?n.push("-"):
e=!0;else if(e){g=g.charCodeAt(0);e=m.charCodeAt(0);g>e&&this.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+String.fromCharCode(g)+"-"+String.fromCharCode(e)+'" in string transliteration');for(g+=1;g<e;g++)n.push(String.fromCharCode(g));n.push(m);g=e=null}else n.push(m);k=n;M=k.length}m=I-M;if(0<m)for(M=0<M?k[M-1]:"",d=0;d<m;d++)k.push(M);for(d=0;d<I;d++)h[z[d]]=k[d]}I="";d=0;for(z=this.length;d<z;d++)m=this.charAt(d),k=h[m],I=r?I+(null==k?w:m):I+(null!=k?k:m);return I},M.$$arity=
2);b.defn(n,"$tr_s",wa=function(a,c){a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str").$to_s();c=b.const_get_relative(f,"Opal").$coerce_to(c,b.const_get_relative(f,"String"),"to_str").$to_s();if(0==a.length)return this;var d,e,g,m,z,h={};z=a.split("");var I=z.length,k=c.split(""),M=k.length,r=!1,w=null;"^"===z[0]&&1<z.length&&(r=!0,z.shift(),w=k[M-1],--I);var n=[];g=null;e=!1;for(d=0;d<I;d++)if(m=z[d],null==g)g=m,n.push(m);else if("-"===m)"-"===g?(n.push("-"),
n.push("-")):d==I-1?n.push("-"):e=!0;else if(e){g=g.charCodeAt(0);e=m.charCodeAt(0);g>e&&this.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+String.fromCharCode(g)+"-"+String.fromCharCode(e)+'" in string transliteration');for(g+=1;g<e;g++)n.push(String.fromCharCode(g));n.push(m);g=e=null}else n.push(m);z=n;I=z.length;if(r)for(d=0;d<I;d++)h[z[d]]=!0;else{if(0<M){n=[];e=!1;for(d=0;d<M;d++)if(m=k[d],null==g)g=m,n.push(m);else if("-"===m)d==M-1?n.push("-"):e=!0;else if(e){g=g.charCodeAt(0);
e=m.charCodeAt(0);g>e&&this.$raise(b.const_get_relative(f,"ArgumentError"),'invalid range "'+String.fromCharCode(g)+"-"+String.fromCharCode(e)+'" in string transliteration');for(g+=1;g<e;g++)n.push(String.fromCharCode(g));n.push(m);g=e=null}else n.push(m);k=n;M=k.length}m=I-M;if(0<m)for(M=0<M?k[M-1]:"",d=0;d<m;d++)k.push(M);for(d=0;d<I;d++)h[z[d]]=k[d]}I="";k=null;d=0;for(z=this.length;d<z;d++)if(m=this.charAt(d),M=h[m],r)null==M?null==k&&(I+=w,k=!0):(I+=m,k=null);else if(null!=M){if(null==k||k!==
M)I+=M,k=M}else I+=m,k=null;return I},wa.$$arity=2);b.defn(n,"$upcase",ga=function(){return this.toUpperCase()},ga.$$arity=0);b.defn(n,"$upto",Ja=function(a,c){var d=Ja.$$p,e=d||p;null==c&&(c=!1);d&&(Ja.$$p=null);if(e===p)return this.$enum_for("upto",a,c);a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"String"),"to_str");var g,d=this.toString();if(1===d.length&&1===a.length)for(d=d.charCodeAt(0),g=a.charCodeAt(0);d<=g&&(!c||d!==g);)e(String.fromCharCode(d)),d+=1;else if(parseInt(d,
10).toString()===d&&parseInt(a,10).toString()===a)for(d=parseInt(d,10),g=parseInt(a,10);d<=g&&(!c||d!==g);)e(d.toString()),d+=1;else for(;d.length<=a.length&&d<=a&&(!c||d!==a);)e(d),d=d.$succ();return this},Ja.$$arity=-2);b.defn(n,"$instance_variables",La=function(){return[]},La.$$arity=0);b.defs(n,"$_load",Ka=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return m(this,"new",b.to_a(c))},Ka.$$arity=-1);return(b.defn(n,"$unpack",Ma=function(a){var c=
p;c=a;if("U*"["$==="](c)||"C*"["$==="](c)){var d=this.length,e=[];for(a=0;a<d;a++)c=this.charCodeAt(a),e.push(c);a=e}else a=this.$raise(b.const_get_relative(f,"NotImplementedError"));return a},Ma.$$arity=1),p)&&"unpack"})(q[0],String,q);return b.const_set(q[0],"Symbol",b.const_get_relative(q,"String"))},Opal.modules["corelib/enumerable"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}
function v(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var q=[],p=b.nil,D=b.module,a=b.send,m=b.truthy,h=b.falsy;b.add_stubs("$each $destructure $raise $new $yield $slice_when $! $enum_for $enumerator_size $flatten $map $proc $== $nil? $respond_to? $coerce_to! $> $* $coerce_to $try_convert $< $+ $- $to_enum $ceil $/ $size $=== $<< $[] $[]= $inspect $__send__ $<=> $first $reverse $sort $to_proc $compare $call $dup $to_a $lambda $sort! $map! $zip".split(" "));return function(y,
l){var w=D(y,"Enumerable"),g=[w].concat(l),c,n,f,e,d,q,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,aa,U,sa,ia,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja,ta;b.defn(w,"$all?",c=function(){try{var d,e,f=c.$$p,h=f||p;f&&(c.$$p=null);h!==p?a(this,"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(m(b.yieldX(h,b.to_a(c))))return p;b.ret(!1)},d.$$s=this,d.$$arity=-1,d)):a(this,"each",[],(e=function(a){var c,d=arguments.length;c=d-0;0>c&&
(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(m(b.const_get_relative(g,"Opal").$destructure(c)))return p;b.ret(!1)},e.$$s=this,e.$$arity=-1,e));return!0}catch(k){if(k===b.returner)return k.$v;throw k;}},c.$$arity=0);b.defn(w,"$any?",n=function(){try{var c,d,e=n.$$p,f=e||p;e&&(n.$$p=null);f!==p?a(this,"each",[],(c=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(m(b.yieldX(f,b.to_a(c))))b.ret(!0);else return p},c.$$s=this,c.$$arity=
-1,c)):a(this,"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(m(b.const_get_relative(g,"Opal").$destructure(c)))b.ret(!0);else return p},d.$$s=this,d.$$arity=-1,d));return!1}catch(h){if(h===b.returner)return h.$v;throw h;}},n.$$arity=0);b.defn(w,"$chunk",f=function(){var c,d=f.$$p,e=d||p;d&&(f.$$p=null);e===p&&b.const_get_relative(g,"Kernel").$raise(b.const_get_relative(g,"ArgumentError"),"no block given");return a(b.const_get_qualified("::",
"Enumerator"),"new",[],(c=function(a){function d(){0<m.length&&a.$yield(g,m)}var f=c.$$s||this;null==a&&(a=p);var g=p,m=[];f.$each.$$p=function(a){var c=b.yield1(e,a);c===p?(d(),m=[],g=p):(g===p||g===c?m.push(a):(d(),m=[a]),g=c)};f.$each();d()},c.$$s=this,c.$$arity=1,c))},f.$$arity=0);b.defn(w,"$chunk_while",e=function(){var c,d=e.$$p,f=d||p;d&&(e.$$p=null);f===p&&this.$raise(b.const_get_relative(g,"ArgumentError"),"no block given");return a(this,"slice_when",[],(c=function(a,c){null==a&&(a=p);null==
c&&(c=p);return b.yieldX(f,[a,c])["$!"]()},c.$$s=this,c.$$arity=2,c))},e.$$arity=0);b.defn(w,"$collect",d=function(){var c,e=d.$$p,f=e||p;e&&(d.$$p=null);if(f===p)return a(this,"enum_for",["collect"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var g=[];this.$each.$$p=function(){var a=b.yieldX(f,arguments);g.push(a)};this.$each();return g},d.$$arity=0);b.defn(w,"$collect_concat",q=function(){var c,d,e=q.$$p,f=e||p;e&&(q.$$p=null);return f===p?a(this,"enum_for",
["collect_concat"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c)):a(this,"map",[],(d=function(a){null==a&&(a=p);return b.yield1(f,a)},d.$$s=this,d.$$arity=1,d)).$flatten(1)},q.$$arity=0);b.defn(w,"$count",t=function(c){var d,e,f,h=t.$$p,k=h||p,l=p;h&&(t.$$p=null);l=0;m(null!=c)?k=a(this,"proc",[],(d=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];return b.const_get_relative(g,"Opal").$destructure(d)["$=="](c)},
d.$$s=this,d.$$arity=-1,d)):m(k["$nil?"]())&&(k=a(this,"proc",[],(e=function(){return!0},e.$$s=this,e.$$arity=0,e)));a(this,"each",[],(f=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return m(b.yieldX(k,c))?l++:p},f.$$s=this,f.$$arity=-1,f));return l},t.$$arity=-1);b.defn(w,"$cycle",k=function(c){var d,e=k.$$p,f=e||p;null==c&&(c=p);e&&(k.$$p=null);if(f===p)return a(this,"enum_for",["cycle",c],(d=function(){var a=d.$$s||this;if(c["$=="](p))return m(a["$respond_to?"]("size"))?
b.const_get_qualified(b.const_get_relative(g,"Float"),"INFINITY"):p;c=b.const_get_relative(g,"Opal")["$coerce_to!"](c,b.const_get_relative(g,"Integer"),"to_int");return m(u(c,0))?(a=a.$enumerator_size(),"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)):0},d.$$s=this,d.$$arity=0,d));if(!m(c["$nil?"]())&&(c=b.const_get_relative(g,"Opal")["$coerce_to!"](c,b.const_get_relative(g,"Integer"),"to_int"),m(0>=c)))return p;var h=[],l;this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);
b.yield1(f,a);h.push(a)};this.$each();if(0===h.length)return p;if(c===p)for(;;)for(e=0,l=h.length;e<l;e++)b.yield1(f,h[e]);else for(;1<c;){e=0;for(l=h.length;e<l;e++)b.yield1(f,h[e]);c--}},k.$$arity=-1);b.defn(w,"$detect",ea=function(c){try{var d,e=ea.$$p,f=e||p;e&&(ea.$$p=null);if(f===p)return this.$enum_for("detect",c);a(this,"each",[],(d=function(a){var c,d=p,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=b.const_get_relative(g,"Opal").$destructure(c);
if(m(b.yield1(f,d)))b.ret(d);else return p},d.$$s=this,d.$$arity=-1,d));return void 0!==c?"function"===typeof c?c():c:p}catch(h){if(h===b.returner)return h.$v;throw h;}},ea.$$arity=-1);b.defn(w,"$drop",x=function(a){a=b.const_get_relative(g,"Opal").$coerce_to(a,b.const_get_relative(g,"Integer"),"to_int");m(0>a)&&this.$raise(b.const_get_relative(g,"ArgumentError"),"attempt to drop negative size");var c=[],d=0;this.$each.$$p=function(){a<=d&&c.push(b.const_get_relative(g,"Opal").$destructure(arguments));
d++};this.$each();return c},x.$$arity=1);b.defn(w,"$drop_while",da=function(){var a=da.$$p,c=a||p;a&&(da.$$p=null);if(c===p)return this.$enum_for("drop_while");var d=[],e=!0;this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);if(e){var f=b.yield1(c,a);h(f)&&(e=!1,d.push(a))}else d.push(a)};this.$each();return d},da.$$arity=0);b.defn(w,"$each_cons",Q=function(c){var d,e=Q.$$p,f=e||p;e&&(Q.$$p=null);m(1!=arguments.length)&&this.$raise(b.const_get_relative(g,"ArgumentError"),
"wrong number of arguments ("+arguments.length+" for 1)");c=b.const_get_relative(g,"Opal").$try_convert(c,b.const_get_relative(g,"Integer"),"to_int");m(0>=c)&&this.$raise(b.const_get_relative(g,"ArgumentError"),"invalid size");if(f===p)return a(this,"enum_for",["each_cons",c],(d=function(){var a,b=p,b=(d.$$s||this).$enumerator_size();return m(b["$nil?"]())?p:m(m(a=b["$=="](0))?a:"number"===typeof b&&"number"===typeof c?b<c:b["$<"](c))?0:B(v(b,c),1)},d.$$s=this,d.$$arity=0,d));var h=[];this.$each.$$p=
function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);h.push(a);h.length>c&&h.shift();h.length==c&&b.yield1(f,h.slice(0,c))};this.$each();return p},Q.$$arity=1);b.defn(w,"$each_entry",r=function(c){var d,e,f=r.$$p,m=f||p,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var k=0;k<h;k++)e[k-0]=arguments[k];f&&(r.$$p=null);if(m===p)return a(this,"to_enum",["each_entry"].concat(b.to_a(e)),(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));this.$each.$$p=
function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);b.yield1(m,a)};this.$each.apply(this,e);return this},r.$$arity=-1);b.defn(w,"$each_slice",W=function(c){var d,e=W.$$p,f=e||p;e&&(W.$$p=null);c=b.const_get_relative(g,"Opal").$coerce_to(c,b.const_get_relative(g,"Integer"),"to_int");m(0>=c)&&this.$raise(b.const_get_relative(g,"ArgumentError"),"invalid slice size");if(f===p)return a(this,"enum_for",["each_slice",c],(d=function(){var a=d.$$s||this;return m(a["$respond_to?"]("size"))?
(a=a.$size(),("number"===typeof a&&"number"===typeof c?a/c:a["$/"](c)).$ceil()):p},d.$$s=this,d.$$arity=0,d));var h=[];this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);h.push(a);h.length===c&&(b.yield1(f,h),h=[])};this.$each();0<h.length&&b.yield1(f,h);return p},W.$$arity=1);b.defn(w,"$each_with_index",A=function(c){var d,e,f=A.$$p,m=f||p,h=arguments.length;e=h-0;0>e&&(e=0);e=Array(e);for(var k=0;k<h;k++)e[k-0]=arguments[k];f&&(A.$$p=null);if(m===p)return a(this,
"enum_for",["each_with_index"].concat(b.to_a(e)),(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=0,d));var l=0;this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);m(a,l);l++};this.$each.apply(this,e);return this},A.$$arity=-1);b.defn(w,"$each_with_object",E=function(c){var d,e=E.$$p,f=e||p;e&&(E.$$p=null);if(f===p)return a(this,"enum_for",["each_with_object",c],(d=function(){return(d.$$s||this).$enumerator_size()},d.$$s=this,d.$$arity=
0,d));this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);f(a,c)};this.$each();return c},E.$$arity=1);b.defn(w,"$entries",C=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];var f=[];this.$each.$$p=function(){f.push(b.const_get_relative(g,"Opal").$destructure(arguments))};this.$each.apply(this,c);return f},C.$$arity=-1);b.alias(w,"find","detect");b.defn(w,"$find_all",R=function(){var c,d=R.$$p,e=d||p;d&&(R.$$p=
null);if(e===p)return a(this,"enum_for",["find_all"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f=[];this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments),c=b.yield1(e,a);m(c)&&f.push(a)};this.$each();return f},R.$$arity=0);b.defn(w,"$find_index",N=function(c){try{var d,e,f=N.$$p,h=f||p,k=p;f&&(N.$$p=null);if(m(void 0===c&&h===p))return this.$enum_for("find_index");k=0;m(null!=c)?a(this,"each",[],(d=function(a){var d,e=arguments.length;
d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];b.const_get_relative(g,"Opal").$destructure(d)["$=="](c)&&b.ret(k);return k+=1},d.$$s=this,d.$$arity=-1,d)):a(this,"each",[],(e=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];m(b.yieldX(h,b.to_a(c)))&&b.ret(k);return k+=1},e.$$s=this,e.$$arity=-1,e));return p}catch(l){if(l===b.returner)return l.$v;throw l;}},N.$$arity=-1);b.defn(w,"$first",X=function(c){try{var d,e,f=p,h=p;
if(m(void 0===c))return a(this,"each",[],(d=function(a){null==a&&(a=p);b.ret(a)},d.$$s=this,d.$$arity=1,d));f=[];c=b.const_get_relative(g,"Opal").$coerce_to(c,b.const_get_relative(g,"Integer"),"to_int");m(0>c)&&this.$raise(b.const_get_relative(g,"ArgumentError"),"attempt to take negative size");if(m(0==c))return[];h=0;a(this,"each",[],(e=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var k=0;k<e;k++)d[k-0]=arguments[k];f.push(b.const_get_relative(g,"Opal").$destructure(d));if(m(c<=
++h))b.ret(f);else return p},e.$$s=this,e.$$arity=-1,e));return f}catch(k){if(k===b.returner)return k.$v;throw k;}},X.$$arity=-1);b.alias(w,"flat_map","collect_concat");b.defn(w,"$grep",P=function(a){var c=P.$$p,d=c||p;c&&(P.$$p=null);var e=[];this.$each.$$p=d!==p?function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments),f=a["$==="](c);m(f)&&(f=b.yield1(d,c),e.push(f))}:function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments),d=a["$==="](c);m(d)&&e.push(c)};this.$each();
return e},P.$$arity=1);b.defn(w,"$grep_v",Z=function(a){var c=Z.$$p,d=c||p;c&&(Z.$$p=null);var e=[];this.$each.$$p=d!==p?function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments),f=a["$==="](c);h(f)&&(f=b.yield1(d,c),e.push(f))}:function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments),d=a["$==="](c);h(d)&&e.push(c)};this.$each();return e},Z.$$arity=1);b.defn(w,"$group_by",V=function(){var c,d,e=V.$$p,f=e||p,h=p,k=p;e&&(V.$$p=null);if(f===p)return a(this,"enum_for",["group_by"],
(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));h=b.const_get_relative(g,"Hash").$new();this.$each.$$p=function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments),e=b.yield1(f,c);(m(d=h["$[]"](e))?d:(k=[e,[]],a(h,"[]=",b.to_a(k)),k[v(k.length,1)]))["$<<"](c)};this.$each();return h},V.$$arity=0);b.defn(w,"$include?",K=function(c){try{var d;a(this,"each",[],(d=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];
if(b.const_get_relative(g,"Opal").$destructure(d)["$=="](c))b.ret(!0);else return p},d.$$s=this,d.$$arity=-1,d));return!1}catch(e){if(e===b.returner)return e.$v;throw e;}},K.$$arity=1);b.defn(w,"$inject",G=function(a,c){var d=G.$$p,e=d||p;d&&(G.$$p=null);var f=a;e!==p&&void 0===c?this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);void 0!==f&&(a=b.yieldX(e,[f,a]));f=a}:(void 0===c&&(b.const_get_relative(g,"Symbol")["$==="](a)||this.$raise(b.const_get_relative(g,
"TypeError"),""+a.$inspect()+" is not a Symbol"),c=a,f=void 0),this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);f=void 0===f?a:f.$__send__(c,a)});this.$each();return void 0==f?p:f},G.$$arity=-1);b.defn(w,"$lazy",T=function(){var c;return a(b.const_get_qualified(b.const_get_relative(g,"Enumerator"),"Lazy"),"new",[this,this.$enumerator_size()],(c=function(c,d){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var g=1;g<f;g++)e[g-1]=arguments[g];null==c&&
(c=p);return a(c,"yield",b.to_a(e))},c.$$s=this,c.$$arity=-2,c))},T.$$arity=0);b.defn(w,"$enumerator_size",ba=function(){return m(this["$respond_to?"]("size"))?this.$size():p},ba.$$arity=0);b.alias(w,"map","collect");b.defn(w,"$max",pa=function(c){var d=this,e=pa.$$p,f=e||p;e&&(pa.$$p=null);if(void 0===c||c===p){var m,h;d.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);void 0===m?m=a:(h=f!==p?b.yieldX(f,[a,m]):a["$<=>"](m),h===p&&d.$raise(b.const_get_relative(g,"ArgumentError"),
"comparison failed"),0<h&&(m=a))};d.$each();return void 0===m?p:m}c=b.const_get_relative(g,"Opal").$coerce_to(c,b.const_get_relative(g,"Integer"),"to_int");return a(d,"sort",[],f.$to_proc()).$reverse().$first(c)},pa.$$arity=-1);b.defn(w,"$max_by",L=function(){var c,d=L.$$p,e=d||p;d&&(L.$$p=null);if(!m(e))return a(this,"enum_for",["max_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f,h;this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments),
c=b.yield1(e,a);void 0===f?(f=a,h=c):0<c["$<=>"](h)&&(f=a,h=c)};this.$each();return void 0===f?p:f},L.$$arity=0);b.alias(w,"member?","include?");b.defn(w,"$min",aa=function(){var a=this,c=aa.$$p,d=c||p;c&&(aa.$$p=null);var e;a.$each.$$p=d!==p?function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments);if(void 0===e)e=c;else{var f=d(c,e);f===p&&a.$raise(b.const_get_relative(g,"ArgumentError"),"comparison failed");0>f&&(e=c)}}:function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);
void 0===e?e=a:0>b.const_get_relative(g,"Opal").$compare(a,e)&&(e=a)};a.$each();return void 0===e?p:e},aa.$$arity=0);b.defn(w,"$min_by",U=function(){var c,d=U.$$p,e=d||p;d&&(U.$$p=null);if(!m(e))return a(this,"enum_for",["min_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f,h;this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments),c=b.yield1(e,a);void 0===f?(f=a,h=c):0>c["$<=>"](h)&&(f=a,h=c)};this.$each();return void 0===f?
p:f},U.$$arity=0);b.defn(w,"$minmax",sa=function(){var c,d,e=this,f=sa.$$p,h=f||p;f&&(sa.$$p=null);var h=m(c=h)?c:a(e,"proc",[],(d=function(a,b){null==a&&(a=p);null==b&&(b=p);return a["$<=>"](b)},d.$$s=e,d.$$arity=2,d)),k=p,l=p,r=!0;e.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments);if(r)k=l=a,r=!1;else{var c=h.$call(k,a);c===p?e.$raise(b.const_get_relative(g,"ArgumentError"),"comparison failed"):0<c&&(k=a);c=h.$call(l,a);c===p?e.$raise(b.const_get_relative(g,"ArgumentError"),
"comparison failed"):0>c&&(l=a)}};e.$each();return[k,l]},sa.$$arity=0);b.defn(w,"$minmax_by",ia=function(){ia.$$p&&(ia.$$p=null);return this.$raise(b.const_get_relative(g,"NotImplementedError"))},ia.$$arity=0);b.defn(w,"$none?",H=function(){try{var c,d,e=H.$$p,f=e||p;e&&(H.$$p=null);f!==p?a(this,"each",[],(c=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(m(b.yieldX(f,b.to_a(c))))b.ret(!1);else return p},c.$$s=this,c.$$arity=-1,c)):a(this,
"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(m(b.const_get_relative(g,"Opal").$destructure(c)))b.ret(!1);else return p},d.$$s=this,d.$$arity=-1,d));return!0}catch(h){if(h===b.returner)return h.$v;throw h;}},H.$$arity=0);b.defn(w,"$one?",Y=function(){try{var c,d,e=Y.$$p,f=e||p,h=p;e&&(Y.$$p=null);h=0;f!==p?a(this,"each",[],(c=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];
if(m(b.yieldX(f,b.to_a(c))))if(h=B(h,1),m(u(h,1)))b.ret(!1);else return p;else return p},c.$$s=this,c.$$arity=-1,c)):a(this,"each",[],(d=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];if(m(b.const_get_relative(g,"Opal").$destructure(c)))if(h=B(h,1),m(u(h,1)))b.ret(!1);else return p;else return p},d.$$s=this,d.$$arity=-1,d));return h["$=="](1)}catch(k){if(k===b.returner)return k.$v;throw k;}},Y.$$arity=0);b.defn(w,"$partition",ha=function(){var c,
d=ha.$$p,e=d||p;d&&(ha.$$p=null);if(e===p)return a(this,"enum_for",["partition"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f=[],h=[];this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments),c=b.yield1(e,a);m(c)?f.push(a):h.push(a)};this.$each();return[f,h]},ha.$$arity=0);b.alias(w,"reduce","inject");b.defn(w,"$reject",ka=function(){var c,d=ka.$$p,e=d||p;d&&(ka.$$p=null);if(e===p)return a(this,"enum_for",["reject"],(c=function(){return(c.$$s||
this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f=[];this.$each.$$p=function(){var a=b.const_get_relative(g,"Opal").$destructure(arguments),c=b.yield1(e,a);h(c)&&f.push(a)};this.$each();return f},ka.$$arity=0);b.defn(w,"$reverse_each",na=function(){var c,d=na.$$p,e=d||p;d&&(na.$$p=null);if(e===p)return a(this,"enum_for",["reverse_each"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));var f=[];this.$each.$$p=function(){f.push(arguments)};this.$each();for(d=
f.length-1;0<=d;d--)b.yieldX(e,f[d]);return f},na.$$arity=0);b.alias(w,"select","find_all");b.defn(w,"$slice_before",la=function(c){var d,e=la.$$p,f=e||p;e&&(la.$$p=null);m(void 0===c&&f===p)&&this.$raise(b.const_get_relative(g,"ArgumentError"),"both pattern and block are given");m(void 0!==c&&f!==p||1<arguments.length)&&this.$raise(b.const_get_relative(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");return a(b.const_get_relative(g,"Enumerator"),"new",[],(d=function(a){var e=
d.$$s||this;null==a&&(a=p);var h=[];e.$each.$$p=f!==p?void 0===c?function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments),d=b.yield1(f,c);m(d)&&0<h.length&&(a["$<<"](h),h=[]);h.push(c)}:function(){var d=b.const_get_relative(g,"Opal").$destructure(arguments),e=f(d,c.$dup());m(e)&&0<h.length&&(a["$<<"](h),h=[]);h.push(d)}:function(){var d=b.const_get_relative(g,"Opal").$destructure(arguments),e=c["$==="](d);m(e)&&0<h.length&&(a["$<<"](h),h=[]);h.push(d)};e.$each();if(0<h.length)a["$<<"](h)},
d.$$s=this,d.$$arity=1,d))},la.$$arity=-1);b.defn(w,"$slice_after",Aa=function(c){var d,e,f=Aa.$$p,h=f||p;f&&(Aa.$$p=null);m(void 0===c&&h===p)&&this.$raise(b.const_get_relative(g,"ArgumentError"),"both pattern and block are given");m(void 0!==c&&h!==p||1<arguments.length)&&this.$raise(b.const_get_relative(g,"ArgumentError"),"wrong number of arguments ("+arguments.length+" expected 1)");m(void 0!==c)&&(h=a(this,"proc",[],(d=function(a){null==a&&(a=p);return c["$==="](a)},d.$$s=this,d.$$arity=1,d)));
return a(b.const_get_relative(g,"Enumerator"),"new",[],(e=function(a){var c=e.$$s||this;null==a&&(a=p);var d;c.$each.$$p=function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments),e=b.yield1(h,c);null==d&&(d=[]);m(e)?(d.push(c),a.$yield(d),d=null):d.push(c)};c.$each();null!=d&&a.$yield(d)},e.$$s=this,e.$$arity=1,e))},Aa.$$arity=-1);b.defn(w,"$slice_when",oa=function(){var c,d=oa.$$p,e=d||p;d&&(oa.$$p=null);e===p&&this.$raise(b.const_get_relative(g,"ArgumentError"),"wrong number of arguments (0 for 1)");
return a(b.const_get_relative(g,"Enumerator"),"new",[],(c=function(a){var d=c.$$s||this;null==a&&(a=p);var f=p,h=p;d.$each_cons.$$p=function(){var c=b.const_get_relative(g,"Opal").$destructure(arguments),d=c[0],c=c[1],k=b.yieldX(e,[d,c]);h=c;f===p&&(f=[]);m(k)?(f.push(d),a.$yield(f),f=[]):f.push(d)};d.$each_cons(2);f!==p&&(f.push(h),a.$yield(f))},c.$$s=this,c.$$arity=1,c))},oa.$$arity=0);b.defn(w,"$sort",ra=function(){var b,c=ra.$$p,d=c||p,e=p;c&&(ra.$$p=null);e=this.$to_a();d===p&&(d=a(this,"lambda",
[],(b=function(a,b){null==a&&(a=p);null==b&&(b=p);return a["$<=>"](b)},b.$$s=this,b.$$arity=2,b)));return a(e,"sort",[],d.$to_proc())},ra.$$arity=0);b.defn(w,"$sort_by",qa=function(){var c,d,e,f,m=qa.$$p,h=m||p,k=p;m&&(qa.$$p=null);if(h===p)return a(this,"enum_for",["sort_by"],(c=function(){return(c.$$s||this).$enumerator_size()},c.$$s=this,c.$$arity=0,c));k=a(this,"map",[],(d=function(){var a=p,a=b.const_get_relative(g,"Opal").$destructure(arguments);return[b.yield1(h,a),a]},d.$$s=this,d.$$arity=
0,d));a(k,"sort!",[],(e=function(a,b){null==a&&(a=p);null==b&&(b=p);return a[0]["$<=>"](b[0])},e.$$s=this,e.$$arity=2,e));return a(k,"map!",[],(f=function(a){null==a&&(a=p);return a[1]},f.$$s=this,f.$$arity=1,f))},qa.$$arity=0);b.defn(w,"$take",ma=function(a){return this.$first(a)},ma.$$arity=1);b.defn(w,"$take_while",ja=function(){try{var c,d=ja.$$p,e=d||p,f=p;d&&(ja.$$p=null);if(!m(e))return this.$enum_for("take_while");f=[];return a(this,"each",[],(c=function(a){var c,d=p,d=arguments.length;c=
d-0;0>c&&(c=0);c=Array(c);for(var h=0;h<d;h++)c[h-0]=arguments[h];d=b.const_get_relative(g,"Opal").$destructure(c);m(b.yield1(e,d))||b.ret(f);return f.push(d)},c.$$s=this,c.$$arity=-1,c))}catch(h){if(h===b.returner)return h.$v;throw h;}},ja.$$arity=0);b.alias(w,"to_a","entries");b.defn(w,"$zip",ta=function(c){var d,e=ta.$$p,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var g=0;g<f;g++)d[g-0]=arguments[g];e&&(ta.$$p=null);return a(this.$to_a(),"zip",b.to_a(d))},ta.$$arity=-1)}(q[0],q)},Opal.modules["corelib/enumerator"]=
function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var v=b.top,q=[],p=b.nil,D=b.breaker,a=b.slice,m=b.klass,h=b.truthy,y=b.send,l=b.falsy;b.add_stubs("$require $include $allocate $new $to_proc $coerce_to $nil? $empty? $+ $class $__send__ $=== $call $enum_for $size $destructure $inspect $[] $raise $yield $each $enumerator_size $respond_to? $try_convert $< $for".split(" "));v.$require("corelib/enumerable");
return function(w,$super,c){function n(){}w=n=m(w,$super,"Enumerator",n);var f=w.$$proto,e=[w].concat(c),d,q,t,k,ea,x;f.size=f.args=f.object=f.method=p;w.$include(b.const_get_relative(e,"Enumerable"));f.$$is_enumerator=!0;b.defs(w,"$for",d=function(a,b,c){var e,f=d.$$p,m=f||p;null==b&&(b="each");var h=arguments.length;e=h-2;0>e&&(e=0);e=Array(e);for(var k=2;k<h;k++)e[k-2]=arguments[k];f&&(d.$$p=null);f=this.$allocate();f.object=a;f.size=m;f.method=b;f.args=e;return f},d.$$arity=-2);b.defn(w,"$initialize",
q=function(c){var d=q.$$p,f=d||p;d&&(q.$$p=null);if(h(f))return this.object=y(b.const_get_relative(e,"Generator"),"new",[],f.$to_proc()),this.method="each",this.args=[],this.size=arguments[0]||p,h(this.size)?this.size=b.const_get_relative(e,"Opal").$coerce_to(this.size,b.const_get_relative(e,"Integer"),"to_int"):p;this.object=arguments[0];this.method=arguments[1]||"each";this.args=a.call(arguments,2);return this.size=p},q.$$arity=-1);b.defn(w,"$each",t=function(a){var c,d,e=t.$$p,f=e||p,m=arguments.length;
d=m-0;0>d&&(d=0);d=Array(d);for(var k=0;k<m;k++)d[k-0]=arguments[k];e&&(t.$$p=null);if(h(h(c=f["$nil?"]())?d["$empty?"]():c))return this;d=u(this.args,d);return h(f["$nil?"]())?y(this.$class(),"new",[this.object,this.method].concat(b.to_a(d))):y(this.object,"__send__",[this.method].concat(b.to_a(d)),f.$to_proc())},t.$$arity=-1);b.defn(w,"$size",k=function(){return h(b.const_get_relative(e,"Proc")["$==="](this.size))?y(this.size,"call",b.to_a(this.args)):this.size},k.$$arity=0);b.defn(w,"$with_index",
ea=function(a){var c,d=ea.$$p,f=d||p;null==a&&(a=0);d&&(ea.$$p=null);a=h(a)?b.const_get_relative(e,"Opal").$coerce_to(a,b.const_get_relative(e,"Integer"),"to_int"):0;if(!h(f))return y(this,"enum_for",["with_index",a],(c=function(){return(c.$$s||this).$size()},c.$$s=this,c.$$arity=0,c));var m=a;this.$each.$$p=function(){var a=b.const_get_relative(e,"Opal").$destructure(arguments),a=f(a,m);m++;return a};return this.$each()},ea.$$arity=-1);b.alias(w,"with_object","each_with_object");b.defn(w,"$inspect",
x=function(){var a=p,a="#<"+this.$class()+": "+this.object.$inspect()+":"+this.method;h(this.args["$empty?"]())||(a=u(a,"("+this.args.$inspect()["$[]"](b.const_get_relative(e,"Range").$new(1,-2))+")"));return u(a,">")},x.$$arity=0);(function(a,$super,c){function d(){}a=d=m(a,$super,"Generator",d);var e=a.$$proto,f=[a].concat(c),k,l;e.block=p;a.$include(b.const_get_relative(f,"Enumerable"));b.defn(a,"$initialize",k=function(){var a=k.$$p,c=a||p;a&&(k.$$p=null);h(c)||this.$raise(b.const_get_relative(f,
"LocalJumpError"),"no block given");return this.block=c},k.$$arity=0);return(b.defn(a,"$each",l=function(a){var c,d=l.$$p,e=d||p,m=p,m=arguments.length;c=m-0;0>c&&(c=0);c=Array(c);for(var h=0;h<m;h++)c[h-0]=arguments[h];d&&(l.$$p=null);m=y(b.const_get_relative(f,"Yielder"),"new",[],e.$to_proc());try{c.unshift(m),b.yieldX(this.block,c)}catch(k){if(k===D)return D.$v;throw k;}return this},l.$$arity=-1),p)&&"each"})(e[0],null,e);(function(a,$super,c){function d(){}a=d=m(a,$super,"Yielder",d);var e=a.$$proto;
[a].concat(c);var f,h,k;e.block=p;b.defn(a,"$initialize",f=function(){var a=f.$$p,b=a||p;a&&(f.$$p=null);return this.block=b},f.$$arity=0);b.defn(a,"$yield",h=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];d=b.yieldX(this.block,c);if(d===D)throw D;return d},h.$$arity=-1);return(b.defn(a,"$<<",k=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];y(this,"yield",b.to_a(c));return this},k.$$arity=
-1),p)&&"<<"})(e[0],null,e);return function(a,$super,c){function d(){}a=d=m(a,$super,"Lazy",d);var e=a.$$proto,f=[a].concat(c),k,n,w,t,x,q,S,K,G,T,ea,v,L;e.enumerator=p;(function(a,$super,b){function c(){}[c=m(a,$super,"StopLazyError",c)].concat(b);return p})(f[0],b.const_get_relative(f,"Exception"),f);b.defn(a,"$initialize",k=function(a,c){var d,e=k.$$p,m=e||p;null==c&&(c=p);e&&(k.$$p=null);m===p&&this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy new without a block");this.enumerator=
a;return y(this,b.find_super_dispatcher(this,"initialize",k,!1),[c],(d=function(c,e){var h=d.$$s||this,k,l,n=arguments.length;k=n-1;0>k&&(k=0);k=Array(k);for(var w=1;w<n;w++)k[w-1]=arguments[w];null==c&&(c=p);try{return y(a,"each",b.to_a(k),(l=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];d.unshift(c);b.yieldX(m,d)},l.$$s=h,l.$$arity=-1,l))}catch(r){if(b.rescue(r,[b.const_get_relative(f,"Exception")]))try{return p}finally{b.pop_exception()}else throw r;
}},d.$$s=this,d.$$arity=-2,d))},k.$$arity=-2);b.alias(a,"force","to_a");b.defn(a,"$lazy",n=function(){return this},n.$$arity=0);b.defn(a,"$collect",w=function(){var a,c=w.$$p,d=c||p;c&&(w.$$p=null);h(d)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy map without a block");return y(b.const_get_relative(f,"Lazy"),"new",[this,this.$enumerator_size()],(a=function(a,c){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var m=1;m<f;m++)e[m-1]=arguments[m];null==a&&(a=p);f=
b.yieldX(d,e);a.$yield(f)},a.$$s=this,a.$$arity=-2,a))},w.$$arity=0);b.defn(a,"$collect_concat",t=function(){var a,c=t.$$p,d=c||p;c&&(t.$$p=null);h(d)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy map without a block");return y(b.const_get_relative(f,"Lazy"),"new",[this,p],(a=function(c,e){var m=a.$$s||this,h,k,l,n=arguments.length;h=n-1;0>h&&(h=0);h=Array(h);for(var w=1;w<n;w++)h[w-1]=arguments[w];null==c&&(c=p);n=b.yieldX(d,h);n["$respond_to?"]("force")&&n["$respond_to?"]("each")?
y(n,"each",[],(k=function(a){null==a&&(a=p);return c.$yield(a)},k.$$s=m,k.$$arity=1,k)):b.const_get_relative(f,"Opal").$try_convert(n,b.const_get_relative(f,"Array"),"to_ary")===p?c.$yield(n):y(n,"each",[],(l=function(a){null==a&&(a=p);return c.$yield(a)},l.$$s=m,l.$$arity=1,l))},a.$$s=this,a.$$arity=-2,a))},t.$$arity=0);b.defn(a,"$drop",x=function(a){var c,d=p,e=d=p;a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");h(B(a,0))&&this.$raise(b.const_get_relative(f,
"ArgumentError"),"attempt to drop negative size");d=this.$enumerator_size();d=h(b.const_get_relative(f,"Integer")["$==="](d))?h(B(a,d))?a:d:d;e=0;return y(b.const_get_relative(f,"Lazy"),"new",[this,d],(c=function(c,d){var f,m=arguments.length;f=m-1;0>f&&(f=0);f=Array(f);for(var k=1;k<m;k++)f[k-1]=arguments[k];null==c&&(c=p);return h(B(e,a))?e=u(e,1):y(c,"yield",b.to_a(f))},c.$$s=this,c.$$arity=-2,c))},x.$$arity=1);b.defn(a,"$drop_while",q=function(){var a,c=q.$$p,d=c||p,e=p;c&&(q.$$p=null);h(d)||
this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy drop_while without a block");e=!0;return y(b.const_get_relative(f,"Lazy"),"new",[this,p],(a=function(a,c){var f,m=arguments.length;f=m-1;0>f&&(f=0);f=Array(f);for(var k=1;k<m;k++)f[k-1]=arguments[k];null==a&&(a=p);if(h(e))m=b.yieldX(d,f),l(m)&&(e=!1,y(a,"yield",b.to_a(f)));else return y(a,"yield",b.to_a(f))},a.$$s=this,a.$$arity=-2,a))},q.$$arity=0);b.defn(a,"$enum_for",S=function(a,c){var d,e=S.$$p,f=e||p;null==a&&(a="each");
var m=arguments.length;d=m-1;0>d&&(d=0);d=Array(d);for(var h=1;h<m;h++)d[h-1]=arguments[h];e&&(S.$$p=null);return y(this.$class(),"for",[this,a].concat(b.to_a(d)),f.$to_proc())},S.$$arity=-1);b.defn(a,"$find_all",K=function(){var a,c=K.$$p,d=c||p;c&&(K.$$p=null);h(d)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy select without a block");return y(b.const_get_relative(f,"Lazy"),"new",[this,p],(a=function(a,c){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var m=
1;m<f;m++)e[m-1]=arguments[m];null==a&&(a=p);f=b.yieldX(d,e);h(f)&&y(a,"yield",b.to_a(e))},a.$$s=this,a.$$arity=-2,a))},K.$$arity=0);b.alias(a,"flat_map","collect_concat");b.defn(a,"$grep",G=function(a){var c,d,e=G.$$p,m=e||p;e&&(G.$$p=null);return h(m)?y(b.const_get_relative(f,"Lazy"),"new",[this,p],(c=function(c,d){var e,k=arguments.length;e=k-1;0>e&&(e=0);e=Array(e);for(var l=1;l<k;l++)e[l-1]=arguments[l];null==c&&(c=p);k=b.const_get_relative(f,"Opal").$destructure(e);e=a["$==="](k);h(e)&&(b.yield1(m,
k),c.$yield(b.yield1(m,k)))},c.$$s=this,c.$$arity=-2,c)):y(b.const_get_relative(f,"Lazy"),"new",[this,p],(d=function(c,d){var e,m=arguments.length;e=m-1;0>e&&(e=0);e=Array(e);for(var k=1;k<m;k++)e[k-1]=arguments[k];null==c&&(c=p);m=b.const_get_relative(f,"Opal").$destructure(e);e=a["$==="](m);h(e)&&c.$yield(m)},d.$$s=this,d.$$arity=-2,d))},G.$$arity=1);b.alias(a,"map","collect");b.alias(a,"select","find_all");b.defn(a,"$reject",T=function(){var a,c=T.$$p,d=c||p;c&&(T.$$p=null);h(d)||this.$raise(b.const_get_relative(f,
"ArgumentError"),"tried to call lazy reject without a block");return y(b.const_get_relative(f,"Lazy"),"new",[this,p],(a=function(a,c){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var m=1;m<f;m++)e[m-1]=arguments[m];null==a&&(a=p);f=b.yieldX(d,e);l(f)&&y(a,"yield",b.to_a(e))},a.$$s=this,a.$$arity=-2,a))},T.$$arity=0);b.defn(a,"$take",ea=function(a){var c,d=p,e=d=p;a=b.const_get_relative(f,"Opal").$coerce_to(a,b.const_get_relative(f,"Integer"),"to_int");h(B(a,0))&&this.$raise(b.const_get_relative(f,
"ArgumentError"),"attempt to take negative size");d=this.$enumerator_size();d=h(b.const_get_relative(f,"Integer")["$==="](d))?h(B(a,d))?a:d:d;e=0;return y(b.const_get_relative(f,"Lazy"),"new",[this,d],(c=function(d,m){var k=c.$$s||this,l,n=arguments.length;l=n-1;0>l&&(l=0);l=Array(l);for(var w=1;w<n;w++)l[w-1]=arguments[w];null==d&&(d=p);return h(B(e,a))?(y(d,"yield",b.to_a(l)),e=u(e,1)):k.$raise(b.const_get_relative(f,"StopLazyError"))},c.$$s=this,c.$$arity=-2,c))},ea.$$arity=1);b.defn(a,"$take_while",
v=function(){var a,c=v.$$p,d=c||p;c&&(v.$$p=null);h(d)||this.$raise(b.const_get_relative(f,"ArgumentError"),"tried to call lazy take_while without a block");return y(b.const_get_relative(f,"Lazy"),"new",[this,p],(a=function(c,e){var m=a.$$s||this,k,l=arguments.length;k=l-1;0>k&&(k=0);k=Array(k);for(var n=1;n<l;n++)k[n-1]=arguments[n];null==c&&(c=p);l=b.yieldX(d,k);h(l)?y(c,"yield",b.to_a(k)):m.$raise(b.const_get_relative(f,"StopLazyError"))},a.$$s=this,a.$$arity=-2,a))},v.$$arity=0);b.alias(a,"to_enum",
"enum_for");return(b.defn(a,"$inspect",L=function(){return"#<"+this.$class()+": "+this.enumerator.$inspect()+">"},L.$$arity=0),p)&&"inspect"}(e[0],w,e)}(q[0],null,q)},Opal.modules["corelib/numeric"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?
a/b:a["$/"](b)}var p=b.top,D=[],a=b.nil,m=b.klass,h=b.truthy;b.add_stubs("$require $include $instance_of? $class $Float $coerce $=== $raise $__send__ $equal? $- $* $div $< $-@ $ceil $to_f $denominator $to_r $== $floor $/ $% $Complex $zero? $numerator $abs $arg $coerce_to! $round $to_i $truncate $>".split(" "));p.$require("corelib/comparable");return function(y,$super,w){function g(){}y=g=m(y,$super,"Numeric",g);var c=[y].concat(w),n,f,e,d,p,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,D,U,sa,
ia,H,Y,ha;y.$include(b.const_get_relative(c,"Comparable"));b.defn(y,"$coerce",n=function(a){return h(a["$instance_of?"](this.$class()))?[a,this]:[this.$Float(a),this.$Float(this)]},n.$$arity=1);b.defn(y,"$__coerced__",f=function(d,e){var f,g,m=a,h=a,k=a;try{g=e.$coerce(this),f=b.to_ary(g),m=null==f[0]?a:f[0],h=null==f[1]?a:f[1],g}catch(n){if(b.rescue(n,[b.const_get_relative(c,"StandardError")]))try{k=d,"+"["$==="](k)||"-"["$==="](k)||"*"["$==="](k)||"/"["$==="](k)||"%"["$==="](k)||"&"["$==="](k)||
"|"["$==="](k)||"^"["$==="](k)||"**"["$==="](k)?this.$raise(b.const_get_relative(c,"TypeError"),""+e.$class()+" can't be coerce into Numeric"):(">"["$==="](k)||">="["$==="](k)||"<"["$==="](k)||"<="["$==="](k)||"<=>"["$==="](k))&&this.$raise(b.const_get_relative(c,"ArgumentError"),"comparison of "+this.$class()+" with "+e.$class()+" failed")}finally{b.pop_exception()}else throw n;}return m.$__send__(d,h)},f.$$arity=2);b.defn(y,"$<=>",e=function(b){return h(this["$equal?"](b))?0:a},e.$$arity=1);b.defn(y,
"$+@",d=function(){return this},d.$$arity=0);b.defn(y,"$-@",p=function(){return u(0,this)},p.$$arity=0);b.defn(y,"$%",t=function(a){return u(this,B(a,this.$div(a)))},t.$$arity=1);b.defn(y,"$abs",k=function(){return v(this,0)?this["$-@"]():this},k.$$arity=0);b.defn(y,"$abs2",ea=function(){return B(this,this)},ea.$$arity=0);b.defn(y,"$angle",x=function(){return v(this,0)?b.const_get_qualified(b.const_get_relative(c,"Math"),"PI"):0},x.$$arity=0);b.alias(y,"arg","angle");b.defn(y,"$ceil",da=function(){return this.$to_f().$ceil()},
da.$$arity=0);b.defn(y,"$conj",Q=function(){return this},Q.$$arity=0);b.alias(y,"conjugate","conj");b.defn(y,"$denominator",r=function(){return this.$to_r().$denominator()},r.$$arity=0);b.defn(y,"$div",W=function(a){a["$=="](0)&&this.$raise(b.const_get_relative(c,"ZeroDivisionError"),"divided by o");return q(this,a).$floor()},W.$$arity=1);b.defn(y,"$divmod",A=function(a){return[this.$div(a),this["$%"](a)]},A.$$arity=1);b.defn(y,"$fdiv",E=function(a){return q(this.$to_f(),a)},E.$$arity=1);b.defn(y,
"$floor",C=function(){return this.$to_f().$floor()},C.$$arity=0);b.defn(y,"$i",R=function(){return this.$Complex(0,this)},R.$$arity=0);b.defn(y,"$imag",N=function(){return 0},N.$$arity=0);b.alias(y,"imaginary","imag");b.defn(y,"$integer?",X=function(){return!1},X.$$arity=0);b.alias(y,"magnitude","abs");b.alias(y,"modulo","%");b.defn(y,"$nonzero?",P=function(){return h(this["$zero?"]())?a:this},P.$$arity=0);b.defn(y,"$numerator",Z=function(){return this.$to_r().$numerator()},Z.$$arity=0);b.alias(y,
"phase","arg");b.defn(y,"$polar",V=function(){return[this.$abs(),this.$arg()]},V.$$arity=0);b.defn(y,"$quo",K=function(a){return q(b.const_get_relative(c,"Opal")["$coerce_to!"](this,b.const_get_relative(c,"Rational"),"to_r"),a)},K.$$arity=1);b.defn(y,"$real",G=function(){return this},G.$$arity=0);b.defn(y,"$real?",T=function(){return!0},T.$$arity=0);b.defn(y,"$rect",ba=function(){return[this,0]},ba.$$arity=0);b.alias(y,"rectangular","rect");b.defn(y,"$round",pa=function(a){return this.$to_f().$round(a)},
pa.$$arity=-1);b.defn(y,"$to_c",L=function(){return this.$Complex(this,0)},L.$$arity=0);b.defn(y,"$to_int",D=function(){return this.$to_i()},D.$$arity=0);b.defn(y,"$truncate",U=function(){return this.$to_f().$truncate()},U.$$arity=0);b.defn(y,"$zero?",sa=function(){return this["$=="](0)},sa.$$arity=0);b.defn(y,"$positive?",ia=function(){return"number"===typeof this?0<this:this["$>"](0)},ia.$$arity=0);b.defn(y,"$negative?",H=function(){return v(this,0)},H.$$arity=0);b.defn(y,"$dup",Y=function(){return this.$raise(b.const_get_relative(c,
"TypeError"),"can't dup "+this.$class())},Y.$$arity=0);return(b.defn(y,"$clone",ha=function(){return this.$raise(b.const_get_relative(c,"TypeError"),"can't clone "+this.$class())},ha.$$arity=0),a)&&"clone"}(D[0],null,D)},Opal.modules["corelib/array"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var B=b.top,v=[],q=b.nil,p=b.klass,D=b.truthy,a=b.hash2,m=b.send,h=b.gvars;b.add_stubs("$require $include $to_a $raise $replace $respond_to? $to_ary $coerce_to $coerce_to? $=== $join $to_str $class $hash $<=> $== $object_id $inspect $enum_for $bsearch_index $to_proc $coerce_to! $> $* $enumerator_size $empty? $size $[] $dig $eql? $length $begin $end $exclude_end? $flatten $__id__ $to_s $new $! $>= $** $delete_if $each $reverse $rotate $rand $at $keep_if $shuffle! $dup $< $sort $sort_by $!= $times $[]= $- $<< $values $kind_of? $last $first $upto $reject $pristine".split(" "));
B.$require("corelib/enumerable");B.$require("corelib/numeric");return function(y,$super,w){function g(){}function c(a,c){return c.$$name===b.Array?a:c.$allocate().$replace(a.$to_a())}function n(a,d){var e=a.length,f,g,m;f=d.exclude;g=b.Opal.$coerce_to(d.begin,b.Integer,"to_int");m=b.Opal.$coerce_to(d.end,b.Integer,"to_int");if(0>g&&(g+=e,0>g)||g>e)return q;if(0>m&&(m+=e,0>m))return[];f||(m+=1);e=a.slice(g,m);return c(e,a.$class())}function f(a,d,e){var f=a.length;d=b.Opal.$coerce_to(d,b.Integer,"to_int");
if(0>d&&(d+=f,0>d))return q;if(void 0===e)return d>=f||0>d?q:a[d];e=b.Opal.$coerce_to(e,b.Integer,"to_int");if(0>e||d>f||0>d)return q;d=a.slice(d,d+e);return c(d,a.$class())}function e(a,b){return a===b||0===b?1:0<b&&a>b?e(a-1,b-1)+e(a-1,b):0}var d=g=p(y,$super,"Array",g),S=d.$$proto,t=[d].concat(w),k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,v,L,aa,U,sa,ia,H,Y,ha,ka,na,la,B,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da,Ha,Ia,z,va,ca,O,xa,I,M,wa,ga,Ja,La,Ka,Ma,F,Pa,bb,eb,Xa,Oa,Ra,fb,gb,cb,db,Sa,
Ta,Ua,hb,Va,ib,jb,kb,Wa,Qa,ab,Za,Na,Ya,J;S.length=q;d.$include(b.const_get_relative(t,"Enumerable"));S.$$is_array=!0;b.defs(d,"$[]",k=function(a){var b,d=arguments.length;b=d-0;0>b&&(b=0);b=Array(b);for(var e=0;e<d;e++)b[e-0]=arguments[e];return c(b,this)},k.$$arity=-1);b.defn(d,"$initialize",ea=function(a,c){var d=ea.$$p,e=d||q;null==a&&(a=q);null==c&&(c=q);d&&(ea.$$p=null);a>b.const_get_qualified(b.const_get_relative(t,"Integer"),"MAX")&&this.$raise(b.const_get_relative(t,"ArgumentError"),"array size too big");
2<arguments.length&&this.$raise(b.const_get_relative(t,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..2)");if(0===arguments.length)return this.splice(0,this.length),this;if(1===arguments.length){if(a.$$is_array)return this.$replace(a.$to_a()),this;if(a["$respond_to?"]("to_ary"))return this.$replace(a.$to_ary()),this}a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(t,"ArgumentError"),"negative array size");
this.splice(0,this.length);var f;if(e===q)for(d=0;d<a;d++)this.push(c);else for(d=0,f;d<a;d++)f=e(d),this[d]=f;return this},ea.$$arity=-1);b.defs(d,"$try_convert",x=function(a){return b.const_get_relative(t,"Opal")["$coerce_to?"](a,b.const_get_relative(t,"Array"),"to_ary")},x.$$arity=1);b.defn(d,"$&",da=function(c){c=D(b.const_get_relative(t,"Array")["$==="](c))?c.$to_a():b.const_get_relative(t,"Opal").$coerce_to(c,b.const_get_relative(t,"Array"),"to_ary").$to_a();var d=[],e=a([],{}),f,g;f=0;for(g=
c.length;f<g;f++)b.hash_put(e,c[f],!0);f=0;for(g=this.length;f<g;f++)c=this[f],void 0!==b.hash_delete(e,c)&&d.push(c);return d},da.$$arity=1);b.defn(d,"$|",Q=function(c){c=D(b.const_get_relative(t,"Array")["$==="](c))?c.$to_a():b.const_get_relative(t,"Opal").$coerce_to(c,b.const_get_relative(t,"Array"),"to_ary").$to_a();var d=a([],{}),e,f;e=0;for(f=this.length;e<f;e++)b.hash_put(d,this[e],!0);e=0;for(f=c.length;e<f;e++)b.hash_put(d,c[e],!0);return d.$keys()},Q.$$arity=1);b.defn(d,"$*",r=function(a){if(D(a["$respond_to?"]("to_str")))return this.$join(a.$to_str());
a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");D(0>a)&&this.$raise(b.const_get_relative(t,"ArgumentError"),"negative argument");for(var d=[],e=this.$to_a(),f=0;f<a;f++)d=d.concat(e);return c(d,this.$class())},r.$$arity=1);b.defn(d,"$+",W=function(a){a=D(b.const_get_relative(t,"Array")["$==="](a))?a.$to_a():b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Array"),"to_ary").$to_a();return this.concat(a)},W.$$arity=1);b.defn(d,"$-",A=function(c){c=
D(b.const_get_relative(t,"Array")["$==="](c))?c.$to_a():b.const_get_relative(t,"Opal").$coerce_to(c,b.const_get_relative(t,"Array"),"to_ary").$to_a();if(D(0===this.length))return[];if(D(0===c.length))return this.slice();var d=[],e=a([],{}),f,g;f=0;for(g=c.length;f<g;f++)b.hash_put(e,c[f],!0);f=0;for(g=this.length;f<g;f++)c=this[f],void 0===b.hash_get(e,c)&&d.push(c);return d},A.$$arity=1);b.defn(d,"$<<",E=function(a){this.push(a);return this},E.$$arity=1);b.defn(d,"$<=>",C=function(a){if(D(b.const_get_relative(t,
"Array")["$==="](a)))a=a.$to_a();else if(D(a["$respond_to?"]("to_ary")))a=a.$to_ary().$to_a();else return q;if(this.$hash()===a.$hash())return 0;for(var c=Math.min(this.length,a.length),d=0;d<c;d++){var e=this[d]["$<=>"](a[d]);if(0!==e)return e}return this.length["$<=>"](a.length)},C.$$arity=1);b.defn(d,"$==",R=function(a){function c(a,e){var f,g,m,z;if(a===e)return!0;if(!e.$$is_array)return b.const_get_relative(t,"Opal")["$respond_to?"](e,"to_ary")?e["$=="](a):!1;a.constructor!==Array&&(a=a.$to_a());
e.constructor!==Array&&(e=e.$to_a());if(a.length!==e.length)return!1;d[a.$object_id()]=!0;f=0;for(g=a.length;f<g;f++)if(m=a[f],z=e[f],m.$$is_array){if(z.$$is_array&&z.length!==m.length||!d.hasOwnProperty(m.$object_id())&&!c(m,z))return!1}else if(!m["$=="](z))return!1;return!0}var d={};return c(this,a)},R.$$arity=1);b.defn(d,"$[]",N=function(a,b){return a.$$is_range?n(this,a):f(this,a,b)},N.$$arity=-2);b.defn(d,"$[]=",X=function(a,c,d){var e=q,f=q,g;g=this.length;if(D(b.const_get_relative(t,"Range")["$==="](a))){var e=
D(b.const_get_relative(t,"Array")["$==="](c))?c.$to_a():D(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c],m=a.exclude;d=b.const_get_relative(t,"Opal").$coerce_to(a.begin,b.const_get_relative(t,"Integer"),"to_int");f=b.const_get_relative(t,"Opal").$coerce_to(a.end,b.const_get_relative(t,"Integer"),"to_int");0>d&&(d+=g,0>d&&this.$raise(b.const_get_relative(t,"RangeError"),""+a.$inspect()+" out of range"));0>f&&(f+=g);m||(f+=1);if(d>g)for(;g<d;g++)this[g]=q;0>f?this.splice.apply(this,[d,0].concat(e)):
this.splice.apply(this,[d,f-d].concat(e))}else{D(void 0===d)?f=1:(f=c,c=d,e=D(b.const_get_relative(t,"Array")["$==="](c))?c.$to_a():D(c["$respond_to?"]("to_ary"))?c.$to_ary().$to_a():[c]);a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");f=b.const_get_relative(t,"Opal").$coerce_to(f,b.const_get_relative(t,"Integer"),"to_int");0>a&&(m=a,a+=g,0>a&&this.$raise(b.const_get_relative(t,"IndexError"),"index "+m+" too small for array; minimum "+-this.length));0>f&&
this.$raise(b.const_get_relative(t,"IndexError"),"negative length ("+f+")");if(a>g)for(;g<a;g++)this[g]=q;void 0===d?this[a]=c:this.splice.apply(this,[a,f].concat(e))}return c},X.$$arity=-3);b.defn(d,"$any?",P=function(){var a=P.$$p,c=q,d=q,e=q;a&&(P.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return 0===this.length?!1:m(this,b.find_super_dispatcher(this,"any?",P,!1),c,a)},P.$$arity=0);b.defn(d,"$assoc",Z=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&
d[0]["$=="](a))return d;return q},Z.$$arity=1);b.defn(d,"$at",V=function(a){a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");0>a&&(a+=this.length);return 0>a||a>=this.length?q:this[a]},V.$$arity=1);b.defn(d,"$bsearch_index",K=function(){var a=K.$$p,c=a||q;a&&(K.$$p=null);if(c===q)return this.$enum_for("bsearch_index");for(var a=0,d=this.length,e,f,g=!1,m=q;a<d;){e=a+Math.floor((d-a)/2);f=this[e];f=b.yield1(c,f);if(!0===f)m=e,g=!0;else if(!1===f||f===q)g=!1;
else if(f.$$is_number){if(0===f)return e;g=0>f}else this.$raise(b.const_get_relative(t,"TypeError"),"wrong argument type "+f.$class()+" (must be numeric, true, false or nil)");g?d=e:a=e+1}return m},K.$$arity=0);b.defn(d,"$bsearch",G=function(){var a=G.$$p,b=a||q,c=q;a&&(G.$$p=null);if(b===q)return this.$enum_for("bsearch");c=m(this,"bsearch_index",[],b.$to_proc());return null!=c&&c.$$is_number?this[c]:c},G.$$arity=0);b.defn(d,"$cycle",T=function(a){var c,d,e=T.$$p,f=e||q;null==a&&(a=q);e&&(T.$$p=
null);if(f===q)return m(this,"enum_for",["cycle",a],(c=function(){var d=c.$$s||this;if(a["$=="](q))return b.const_get_qualified(b.const_get_relative(t,"Float"),"INFINITY");a=b.const_get_relative(t,"Opal")["$coerce_to!"](a,b.const_get_relative(t,"Integer"),"to_int");return D(u(a,0))?(d=d.$enumerator_size(),"number"===typeof d&&"number"===typeof a?d*a:d["$*"](a)):0},c.$$s=this,c.$$arity=0,c));if(D(D(d=this["$empty?"]())?d:a["$=="](0)))return q;if(a===q)for(;;)for(d=0,e=this.length;d<e;d++)b.yield1(f,
this[d]);else{a=b.const_get_relative(t,"Opal")["$coerce_to!"](a,b.const_get_relative(t,"Integer"),"to_int");if(0>=a)return this;for(;0<a;){d=0;for(e=this.length;d<e;d++)b.yield1(f,this[d]);a--}}return this},T.$$arity=-1);b.defn(d,"$clear",ba=function(){this.splice(0,this.length);return this},ba.$$arity=0);b.defn(d,"$count",v=function(a){var c,d=v.$$p,e=d||q,f=q,g=q,z=q;null==a&&(a=q);d&&(v.$$p=null);g=0;z=arguments.length;for(f=Array(z);g<z;g++)f[g]=arguments[g];return D(D(c=a)?c:e)?m(this,b.find_super_dispatcher(this,
"count",v,!1),f,d):this.$size()},v.$$arity=-1);b.defn(d,"$initialize_copy",L=function(a){return this.$replace(a)},L.$$arity=1);b.defn(d,"$collect",aa=function(){var a,c=aa.$$p,d=c||q;c&&(aa.$$p=null);if(d===q)return m(this,"enum_for",["collect"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=[],e=0,f=this.length;e<f;e++){var g=b.yield1(d,this[e]);c.push(g)}return c},aa.$$arity=0);b.defn(d,"$collect!",U=function(){var a,c=U.$$p,d=c||q;c&&(U.$$p=null);if(d===q)return m(this,
"enum_for",["collect!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++){var f=b.yield1(d,this[c]);this[c]=f}return this},U.$$arity=0);b.defn(d,"$combination",sa=function(a){var c,d=sa.$$p,f=d||q,g=q;d&&(sa.$$p=null);g=b.const_get_relative(t,"Opal")["$coerce_to!"](a,b.const_get_relative(t,"Integer"),"to_int");if(f===q)return m(this,"enum_for",["combination",g],(c=function(){return e((c.$$s||this).length,g)},c.$$s=this,c.$$arity=0,c));var z,h;
if(0===g)b.yield1(f,[]);else if(1===g)for(d=0,a=this.length;d<a;d++)b.yield1(f,[this[d]]);else if(g===this.length)b.yield1(f,this.slice());else if(0<=g&&g<this.length){a=[];for(d=0;d<=g+1;d++)a.push(0);d=[];z=0;h=!1;for(a[0]=-1;!h;){for(d[z]=this[a[z+1]];z<g-1;)z++,h=a[z+1]=a[z]+1,d[z]=this[h];b.yield1(f,d.slice());z++;do h=0===z,a[z]++,z--;while(a[z+1]+g===this.length+z+1)}}return this},sa.$$arity=1);b.defn(d,"$repeated_combination",ia=function(a){function c(a,d,e,f){if(e.length==a)a=e.slice(),b.yield1(g,
a);else for(;d<f.length;d++)e.push(f[d]),c(a,d,e,f),e.pop()}var d,f=ia.$$p,g=f||q,z=q;f&&(ia.$$p=null);z=b.const_get_relative(t,"Opal")["$coerce_to!"](a,b.const_get_relative(t,"Integer"),"to_int");if(g===q)return m(this,"enum_for",["repeated_combination",z],(d=function(){return e((d.$$s||this).length+z-1,z)},d.$$s=this,d.$$arity=0,d));0<=z&&c(z,0,[],this);return this},ia.$$arity=1);b.defn(d,"$compact",H=function(){for(var a=[],b=0,c=this.length,d;b<c;b++)(d=this[b])!==q&&a.push(d);return a},H.$$arity=
0);b.defn(d,"$compact!",Y=function(){for(var a=this.length,b=0,c=this.length;b<c;b++)this[b]===q&&(this.splice(b,1),c--,b--);return this.length===a?q:this},Y.$$arity=0);b.defn(d,"$concat",ha=function(a){a=D(b.const_get_relative(t,"Array")["$==="](a))?a.$to_a():b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Array"),"to_ary").$to_a();for(var c=0,d=a.length;c<d;c++)this.push(a[c]);return this},ha.$$arity=1);b.defn(d,"$delete",ka=function(a){var c=ka.$$p,d=c||q;c&&(ka.$$p=null);for(var c=
this.length,e=0,f=c;e<f;e++)this[e]["$=="](a)&&(this.splice(e,1),f--,e--);return this.length===c?d!==q?b.yieldX(d,[]):q:a},ka.$$arity=1);b.defn(d,"$delete_at",na=function(a){a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");0>a&&(a+=this.length);if(0>a||a>=this.length)return q;var c=this[a];this.splice(a,1);return c},na.$$arity=1);b.defn(d,"$delete_if",la=function(){var a,b=la.$$p,c=b||q;b&&(la.$$p=null);if(c===q)return m(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||
this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,e;b<d;b++)e=c(this[b]),!1!==e&&e!==q&&(this.splice(b,1),d--,b--);return this},la.$$arity=0);b.defn(d,"$dig",B=function(a,c){var d,e=q,e=arguments.length;d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];e=this["$[]"](a);if(e===q||0===d.length)return e;D(e["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(t,"TypeError"),""+e.$class()+" does not have #dig method");return m(e,"dig",b.to_a(d))},B.$$arity=-2);
b.defn(d,"$drop",oa=function(a){0>a&&this.$raise(b.const_get_relative(t,"ArgumentError"));return this.slice(a)},oa.$$arity=1);b.defn(d,"$dup",ra=function(){var a=ra.$$p,c=q,d=q,e=q;a&&(ra.$$p=null);d=0;e=arguments.length;for(c=Array(e);d<e;d++)c[d]=arguments[d];return this.$$class===b.Array&&this.$allocate.$$pristine&&this.$copy_instance_variables.$$pristine&&this.$initialize_dup.$$pristine?this.slice(0):m(this,b.find_super_dispatcher(this,"dup",ra,!1),c,a)},ra.$$arity=0);b.defn(d,"$each",qa=function(){var a,
c=qa.$$p,d=c||q;c&&(qa.$$p=null);if(d===q)return m(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,this[c]);return this},qa.$$arity=0);b.defn(d,"$each_index",ma=function(){var a,c=ma.$$p,d=c||q;c&&(ma.$$p=null);if(d===q)return m(this,"enum_for",["each_index"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.length;c<e;c++)b.yield1(d,c);return this},ma.$$arity=0);b.defn(d,
"$empty?",ja=function(){return 0===this.length},ja.$$arity=0);b.defn(d,"$eql?",ta=function(a){function b(a,d){var e,f,g,m;if(!d.$$is_array)return!1;d=d.$to_a();if(a.length!==d.length)return!1;c[a.$object_id()]=!0;e=0;for(f=a.length;e<f;e++)if(g=a[e],m=d[e],g.$$is_array){if(m.$$is_array&&m.length!==g.length||!c.hasOwnProperty(g.$object_id())&&!b(g,m))return!1}else if(!g["$eql?"](m))return!1;return!0}var c={};return b(this,a)},ta.$$arity=1);b.defn(d,"$fetch",fa=function(a,c){var d=fa.$$p,e=d||q;d&&
(fa.$$p=null);d=a;a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");0>a&&(a+=this.length);if(0<=a&&a<this.length)return this[a];if(e!==q)return e(d);if(null!=c)return c;0===this.length?this.$raise(b.const_get_relative(t,"IndexError"),"index "+d+" outside of array bounds: 0...0"):this.$raise(b.const_get_relative(t,"IndexError"),"index "+d+" outside of array bounds: -"+this.length+"..."+this.length)},fa.$$arity=-2);b.defn(d,"$fill",ya=function(a){var c,d,e=(d=
ya.$$p)||q,f=q,g=q,m=q,g=c=q,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(g=0;g<f;g++)c[g-0]=arguments[g];d&&(ya.$$p=null);D(e)?(D(2<c.length)&&this.$raise(b.const_get_relative(t,"ArgumentError"),"wrong number of arguments ("+c.$length()+" for 0..2)"),d=c,c=b.to_ary(d),f=null==c[0]?q:c[0],g=null==c[1]?q:c[1]):(D(0==c.length)?this.$raise(b.const_get_relative(t,"ArgumentError"),"wrong number of arguments (0 for 1..3)"):D(3<c.length)&&this.$raise(b.const_get_relative(t,"ArgumentError"),"wrong number of arguments ("+
c.$length()+" for 1..3)"),d=c,c=b.to_ary(d),m=null==c[0]?q:c[0],f=null==c[1]?q:c[1],g=null==c[2]?q:c[2]);d;if(D(b.const_get_relative(t,"Range")["$==="](f))){if(D(g)&&this.$raise(b.const_get_relative(t,"TypeError"),"length invalid with range"),c=b.const_get_relative(t,"Opal").$coerce_to(f.$begin(),b.const_get_relative(t,"Integer"),"to_int"),D(0>c)&&(c+=this.length),D(0>c)&&this.$raise(b.const_get_relative(t,"RangeError"),""+f.$inspect()+" out of range"),g=b.const_get_relative(t,"Opal").$coerce_to(f.$end(),
b.const_get_relative(t,"Integer"),"to_int"),D(0>g)&&(g+=this.length),D(f["$exclude_end?"]())||(g+=1),D(g<=c))return this}else if(D(f))if(c=b.const_get_relative(t,"Opal").$coerce_to(f,b.const_get_relative(t,"Integer"),"to_int"),D(0>c)&&(c+=this.length),D(0>c)&&(c=0),D(g)){g=b.const_get_relative(t,"Opal").$coerce_to(g,b.const_get_relative(t,"Integer"),"to_int");if(D(0==g))return this;g+=c}else g=this.length;else c=0,g=this.length;if(D(c>this.length))for(d=this.length;d<g;d++)this[d]=q;D(g>this.length)&&
(this.length=g);if(D(e))for(;c<g;c++)m=e(c),this[c]=m;else for(;c<g;c++)this[c]=m;return this},ya.$$arity=-1);b.defn(d,"$first",ua=function(a){if(null==a)return 0===this.length?q:this[0];a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(t,"ArgumentError"),"negative array size");return this.slice(0,a)},ua.$$arity=-1);b.defn(d,"$flatten",za=function(a){function d(a,c){var f=[],g,m,z,h;a=a.$to_a();g=0;for(m=a.length;g<m;g++)if(z=
a[g],b.const_get_relative(t,"Opal")["$respond_to?"](z,"to_ary"))if(h=z.$to_ary(),h===q)f.push(z);else switch(h.$$is_array||e.$raise(b.const_get_relative(t,"TypeError")),h===e&&e.$raise(b.const_get_relative(t,"ArgumentError")),c){case void 0:f=f.concat(d(h));break;case 0:f.push(h);break;default:f.push.apply(f,d(h,c-1))}else f.push(z);return f}var e=this;void 0!==a&&(a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int"));return c(d(e,a),e.$class())},za.$$arity=-1);
b.defn(d,"$flatten!",Ea=function(a){a=this.$flatten(a);if(this.length==a.length){for(var b=0,c=this.length;b<c&&this[b]===a[b];b++);if(b==c)return q}this.$replace(a);return this},Ea.$$arity=-1);b.defn(d,"$hash",Ga=function(){var a=void 0===b.hash_ids,c=["A"],d=this.$object_id(),e,f,g;try{a&&(b.hash_ids=Object.create(null));if(b.hash_ids[d])return"self";for(g in b.hash_ids)if(e=b.hash_ids[g],this["$eql?"](e))return"self";b.hash_ids[d]=this;for(f=0;f<this.length;f++)e=this[f],c.push(e.$hash());return c.join(",")}finally{a&&
(b.hash_ids=void 0)}},Ga.$$arity=0);b.defn(d,"$include?",Ba=function(a){for(var b=0,c=this.length;b<c;b++)if(this[b]["$=="](a))return!0;return!1},Ba.$$arity=1);b.defn(d,"$index",Ca=function(a){var b=Ca.$$p,c=b||q;b&&(Ca.$$p=null);var d;if(null!=a)for(b=0,d=this.length;b<d;b++){if(this[b]["$=="](a))return b}else if(c!==q)for(b=0,d=this.length;b<d;b++){if(a=c(this[b]),!1!==a&&a!==q)return b}else return this.$enum_for("index");return q},Ca.$$arity=-1);b.defn(d,"$insert",Fa=function(a,c){var d,e=arguments.length;
d=e-1;0>d&&(d=0);d=Array(d);for(var f=1;f<e;f++)d[f-1]=arguments[f];a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");if(0<d.length){0>a&&(a+=this.length+1,0>a&&this.$raise(b.const_get_relative(t,"IndexError"),""+a+" is out of bounds"));if(a>this.length)for(e=this.length;e<a;e++)this.push(q);this.splice.apply(this,[a,0].concat(d))}return this},Fa.$$arity=-2);b.defn(d,"$inspect",Da=function(){for(var a=[],b=this.$__id__(),c=0,d=this.length;c<d;c++){var e=this["$[]"](c);
e.$__id__()===b?a.push("[...]"):a.push(e.$inspect())}return"["+a.join(", ")+"]"},Da.$$arity=0);b.defn(d,"$join",Ha=function(a){null==h[","]&&(h[","]=q);null==a&&(a=q);if(D(0===this.length))return"";D(a===q)&&(a=h[","]);var c=[],d,e,f,g;d=0;for(e=this.length;d<e;d++){f=this[d];if(b.const_get_relative(t,"Opal")["$respond_to?"](f,"to_str")&&(g=f.$to_str(),g!==q)){c.push(g.$to_s());continue}if(b.const_get_relative(t,"Opal")["$respond_to?"](f,"to_ary")&&(g=f.$to_ary(),g===this&&this.$raise(b.const_get_relative(t,
"ArgumentError")),g!==q)){c.push(g.$join(a));continue}if(b.const_get_relative(t,"Opal")["$respond_to?"](f,"to_s")&&(g=f.$to_s(),g!==q)){c.push(g);continue}this.$raise(b.const_get_relative(t,"NoMethodError").$new(""+b.inspect(f)+" doesn't respond to #to_str, #to_ary or #to_s","to_str"))}return a===q?c.join(""):c.join(b.const_get_relative(t,"Opal")["$coerce_to!"](a,b.const_get_relative(t,"String"),"to_str").$to_s())},Ha.$$arity=-1);b.defn(d,"$keep_if",Ia=function(){var a,b=Ia.$$p,c=b||q;b&&(Ia.$$p=
null);if(c===q)return m(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.length,e;b<d;b++)if(e=c(this[b]),!1===e||e===q)this.splice(b,1),d--,b--;return this},Ia.$$arity=0);b.defn(d,"$last",z=function(a){if(null==a)return 0===this.length?q:this[this.length-1];a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");0>a&&this.$raise(b.const_get_relative(t,"ArgumentError"),"negative array size");a>this.length&&
(a=this.length);return this.slice(this.length-a,this.length)},z.$$arity=-1);b.defn(d,"$length",va=function(){return this.length},va.$$arity=0);b.alias(d,"map","collect");b.alias(d,"map!","collect!");b.defn(d,"$permutation",ca=function(a){var c,d=this,e=ca.$$p,f=e||q,g=q,z=q;e&&(ca.$$p=null);if(f===q)return m(d,"enum_for",["permutation",a],(c=function(){for(var b=c.$$s||this,d=b.length,b=void 0===a?b.length:a,e=0<=b?1:0;b;)e*=d,d--,b--;return e},c.$$s=d,c.$$arity=0,c));var h,k;a=void 0===a?d.length:
b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");if(!(0>a||d.length<a))if(0===a)b.yield1(f,[]);else if(1===a)for(g=0;g<d.length;g++)b.yield1(f,[d[g]]);else g=b.const_get_relative(t,"Array").$new(a),z=b.const_get_relative(t,"Array").$new(d.length,!1),h=function(a,c,e,f,g){d=this;for(var m=0;m<d.length;m++)if(f["$[]"](m)["$!"]())if(c[e]=m,e<a-1)f[m]=!0,h.call(d,a,c,e+1,f,g),f[m]=!1;else{k=[];for(var z=0;z<c.length;z++)k.push(d[c[z]]);b.yield1(g,k)}},f!==q?(e=d.slice(),
h.call(e,a,g,0,z,f)):h.call(d,a,g,0,z,f);return d},ca.$$arity=-1);b.defn(d,"$repeated_permutation",O=function(a){function c(a,d,e){if(d.length==a)a=d.slice(),b.yield1(f,a);else for(var g=0;g<e.length;g++)d.push(e[g]),c(a,d,e),d.pop()}var d,e=O.$$p,f=e||q,g=q;e&&(O.$$p=null);g=b.const_get_relative(t,"Opal")["$coerce_to!"](a,b.const_get_relative(t,"Integer"),"to_int");if(f===q)return m(this,"enum_for",["repeated_permutation",g],(d=function(){var a=d.$$s||this;return D("number"===typeof g?0<=g:g["$>="](0))?
a.$size()["$**"](g):0},d.$$s=this,d.$$arity=0,d));c(g,[],this.slice());return this},O.$$arity=1);b.defn(d,"$pop",xa=function(a){if(D(void 0===a))return D(0===this.length)?q:this.pop();a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");D(0>a)&&this.$raise(b.const_get_relative(t,"ArgumentError"),"negative array size");return D(0===this.length)?[]:D(a>this.length)?this.splice(0,this.length):this.splice(this.length-a,this.length)},xa.$$arity=-1);b.defn(d,"$product",
I=function(a){var c,d=I.$$p,e=d||q,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(I.$$p=null);var d=e!==q?null:[],f=c.length+1,g=Array(f),m=Array(f),z=Array(f),h,k=1;z[0]=this;for(h=1;h<f;h++)z[h]=b.const_get_relative(t,"Opal").$coerce_to(c[h-1],b.const_get_relative(t,"Array"),"to_ary");for(h=0;h<f;h++){c=z[h].length;if(0===c)return d||this;k*=c;2147483647<k&&this.$raise(b.const_get_relative(t,"RangeError"),"too big to product");m[h]=c;g[h]=0}a:for(;;){c=
[];for(h=0;h<f;h++)c.push(z[h][g[h]]);d?d.push(c):b.yield1(e,c);c=f-1;for(g[c]++;g[c]===m[c];){g[c]=0;if(0>--c)break a;g[c]++}}return d||this},I.$$arity=-1);b.defn(d,"$push",M=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];c=0;for(d=b.length;c<d;c++)this.push(b[c]);return this},M.$$arity=-1);b.defn(d,"$rassoc",wa=function(a){for(var b=0,c=this.length,d;b<c;b++)if(d=this[b],d.length&&void 0!==d[1]&&d[1]["$=="](a))return d;return q},wa.$$arity=
1);b.defn(d,"$reject",ga=function(){var a,b=ga.$$p,c=b||q;b&&(ga.$$p=null);if(c===q)return m(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=[],d=0,e=this.length,f;d<e;d++)f=c(this[d]),!1!==f&&f!==q||b.push(this[d]);return b},ga.$$arity=0);b.defn(d,"$reject!",Ja=function(){var a,b=Ja.$$p,c=b||q,d=q;b&&(Ja.$$p=null);if(c===q)return m(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));d=this.$length();
m(this,"delete_if",[],c.$to_proc());return this.$length()["$=="](d)?q:this},Ja.$$arity=0);b.defn(d,"$replace",La=function(a){a=D(b.const_get_relative(t,"Array")["$==="](a))?a.$to_a():b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Array"),"to_ary").$to_a();this.splice(0,this.length);this.push.apply(this,a);return this},La.$$arity=1);b.defn(d,"$reverse",Ka=function(){return this.slice(0).reverse()},Ka.$$arity=0);b.defn(d,"$reverse!",Ma=function(){return this.reverse()},Ma.$$arity=
0);b.defn(d,"$reverse_each",F=function(){var a,b=F.$$p,c=b||q;b&&(F.$$p=null);if(c===q)return m(this,"enum_for",["reverse_each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));m(this.$reverse(),"each",[],c.$to_proc());return this},F.$$arity=0);b.defn(d,"$rindex",Pa=function(a){var b=Pa.$$p,c=b||q;b&&(Pa.$$p=null);if(null!=a)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(this[b]["$=="](a))return b}else if(c!==q)for(b=this.length-1;0<=b&&!(b>=this.length);b--){if(a=c(this[b]),
!1!==a&&a!==q)return b}else if(null==a)return this.$enum_for("rindex");return q},Pa.$$arity=-1);b.defn(d,"$rotate",bb=function(a){null==a&&(a=1);a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");var c,d;if(1===this.length)return this.slice();if(0===this.length)return[];c=this.slice();d=a%c.length;a=c.slice(d);c=c.slice(0,d);return a.concat(c)},bb.$$arity=-1);b.defn(d,"$rotate!",eb=function(a){var c=q;null==a&&(a=1);if(0===this.length||1===this.length)return this;
a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");c=this.$rotate(a);return this.$replace(c)},eb.$$arity=-1);(function(a,$super,c){function d(){}a=d=p(a,$super,"SampleRandom",d);var e=a.$$proto,f=[a].concat(c),g,m;e.rng=q;b.defn(a,"$initialize",g=function(a){return this.rng=a},g.$$arity=1);return(b.defn(a,"$rand",m=function(a){var c=q,c=b.const_get_relative(f,"Opal").$coerce_to(this.rng.$rand(a),b.const_get_relative(f,"Integer"),"to_int");D(0>c)&&this.$raise(b.const_get_relative(f,
"RangeError"),"random value must be >= 0");D(c<a)||this.$raise(b.const_get_relative(f,"RangeError"),"random value must be less than Array size");return c},m.$$arity=1),q)&&"rand"})(t[0],null,t);b.defn(d,"$sample",Xa=function(a,c){var d,e=q,f=q;if(D(void 0===a))return this.$at(b.const_get_relative(t,"Kernel").$rand(this.length));D(void 0===c)?D(e=b.const_get_relative(t,"Opal")["$coerce_to?"](a,b.const_get_relative(t,"Hash"),"to_hash"))?(c=e,a=q):(c=q,a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,
"Integer"),"to_int")):(a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int"),c=b.const_get_relative(t,"Opal").$coerce_to(c,b.const_get_relative(t,"Hash"),"to_hash"));D(D(d=a)?0>a:d)&&this.$raise(b.const_get_relative(t,"ArgumentError"),"count must be greater than 0");D(c)&&(f=c["$[]"]("random"));f=D(D(d=f)?f["$respond_to?"]("rand"):d)?b.const_get_relative(t,"SampleRandom").$new(f):b.const_get_relative(t,"Kernel");if(!D(a))return this[f.$rand(this.length)];var g,
m,z,h;a>this.length&&(a=this.length);switch(a){case 0:return[];case 1:return[this[f.$rand(this.length)]];case 2:return m=f.$rand(this.length),z=f.$rand(this.length),m===z&&(z=0===m?m+1:m-1),[this[m],this[z]];default:if(3<this.length/a){e=!1;g=0;d=b.const_get_relative(t,"Array").$new(a);m=1;for(d[0]=f.$rand(this.length);m<a;){h=f.$rand(this.length);for(z=0;z<m;){for(;h===d[z];){g++;if(100<g){e=!0;break}h=f.$rand(this.length)}if(e)break;z++}if(e)break;d[m]=h;m++}if(!e){for(m=0;m<a;)d[m]=this[d[m]],
m++;return d}}d=this.slice();for(m=0;m<a;m++)e=f.$rand(this.length),g=d[m],d[m]=d[e],d[e]=g;return a===this.length?d:d["$[]"](0,a)}},Xa.$$arity=-1);b.defn(d,"$select",Oa=function(){var a,c=Oa.$$p,d=c||q;c&&(Oa.$$p=null);if(d===q)return m(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=[],e=0,f=this.length,g,z;e<f;e++)g=this[e],z=b.yield1(d,g),!1!==z&&z!==q&&c.push(g);return c},Oa.$$arity=0);b.defn(d,"$select!",Ra=function(){var a,b=Ra.$$p,
c=b||q;b&&(Ra.$$p=null);if(c===q)return m(this,"enum_for",["select!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));b=this.length;m(this,"keep_if",[],c.$to_proc());return this.length===b?q:this},Ra.$$arity=0);b.defn(d,"$shift",fb=function(a){if(D(void 0===a))return D(0===this.length)?q:this.shift();a=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");D(0>a)&&this.$raise(b.const_get_relative(t,"ArgumentError"),"negative array size");return D(0===
this.length)?[]:this.splice(0,a)},fb.$$arity=-1);b.alias(d,"size","length");b.defn(d,"$shuffle",gb=function(a){return this.$dup().$to_a()["$shuffle!"](a)},gb.$$arity=-1);b.defn(d,"$shuffle!",cb=function(a){var c,d=this.length,e;void 0!==a&&(a=b.const_get_relative(t,"Opal")["$coerce_to?"](a,b.const_get_relative(t,"Hash"),"to_hash"),a!==q&&(a=a["$[]"]("random"),a!==q&&a["$respond_to?"]("rand")&&(c=a)));for(;d;)c?(a=c.$rand(d).$to_int(),0>a&&this.$raise(b.const_get_relative(t,"RangeError"),"random number too small "+
a),a>=d&&this.$raise(b.const_get_relative(t,"RangeError"),"random number too big "+a)):a=this.$rand(d),e=this[--d],this[d]=this[a],this[a]=e;return this},cb.$$arity=-1);b.alias(d,"slice","[]");b.defn(d,"$slice!",db=function(a,c){var d=q,e=q,f=q,g=q,e=q;if(D(void 0===c))if(D(b.const_get_relative(t,"Range")["$==="](a))){e=a;d=this["$[]"](e);f=b.const_get_relative(t,"Opal").$coerce_to(e.$begin(),b.const_get_relative(t,"Integer"),"to_int");g=b.const_get_relative(t,"Opal").$coerce_to(e.$end(),b.const_get_relative(t,
"Integer"),"to_int");0>f&&(f+=this.length);0>g?g+=this.length:g>=this.length&&(g=this.length-1,e.exclude&&(g+=1));var m=g-f;e.exclude?--g:m+=1;f<this.length&&0<=f&&g<this.length&&0<=g&&0<m&&this.splice(f,m)}else{e=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");0>e&&(e+=this.length);if(0>e||e>=this.length)return q;d=this[e];0===e?this.shift():this.splice(e,1)}else{e=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");c=b.const_get_relative(t,
"Opal").$coerce_to(c,b.const_get_relative(t,"Integer"),"to_int");if(0>c)return q;d=this["$[]"](e,c);0>e&&(e+=this.length);e+c>this.length&&(c=this.length-e);e<this.length&&0<=e&&this.splice(e,c)}return d},db.$$arity=-2);b.defn(d,"$sort",Sa=function(){var a=this,c=Sa.$$p,d=c||q;c&&(Sa.$$p=null);if(!D(1<a.length))return a;d===q&&(d=function(a,b){return a["$<=>"](b)});return a.slice().sort(function(c,e){var f=d(c,e);f===q&&a.$raise(b.const_get_relative(t,"ArgumentError"),"comparison of "+c.$inspect()+
" with "+e.$inspect()+" failed");return u(f,0)?1:("number"===typeof f?0>f:f["$<"](0))?-1:0})},Sa.$$arity=0);b.defn(d,"$sort!",Ta=function(){var a=Ta.$$p,b=a||q;a&&(Ta.$$p=null);for(var a=b!==q?m(this.slice(),"sort",[],b.$to_proc()):this.slice().$sort(),b=this.length=0,c=a.length;b<c;b++)this.push(a[b]);return this},Ta.$$arity=0);b.defn(d,"$sort_by!",Ua=function(){var a,b=Ua.$$p,c=b||q;b&&(Ua.$$p=null);return c===q?m(this,"enum_for",["sort_by!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,
a.$$arity=0,a)):this.$replace(m(this,"sort_by",[],c.$to_proc()))},Ua.$$arity=0);b.defn(d,"$take",hb=function(a){0>a&&this.$raise(b.const_get_relative(t,"ArgumentError"));return this.slice(0,a)},hb.$$arity=1);b.defn(d,"$take_while",Va=function(){var a=Va.$$p,b=a||q;a&&(Va.$$p=null);for(var a=[],c=0,d=this.length,e,f;c<d;c++){e=this[c];f=b(e);if(!1===f||f===q)break;a.push(e)}return a},Va.$$arity=0);b.defn(d,"$to_a",ib=function(){return this},ib.$$arity=0);b.alias(d,"to_ary","to_a");b.defn(d,"$to_h",
jb=function(){var c,d=this.length,e,f,g=a([],{});for(c=0;c<d;c++)e=b.const_get_relative(t,"Opal")["$coerce_to?"](this[c],b.const_get_relative(t,"Array"),"to_ary"),e.$$is_array||this.$raise(b.const_get_relative(t,"TypeError"),"wrong element type "+e.$class()+" at "+c+" (expected array)"),2!==e.length&&this.$raise(b.const_get_relative(t,"ArgumentError"),"wrong array length at "+c+" (expected 2, was "+e.$length()+")"),f=e[0],e=e[1],b.hash_put(g,f,e);return g},jb.$$arity=0);b.alias(d,"to_s","inspect");
b.defn(d,"$transpose",kb=function(){var a,c=q,d=q;if(D(this["$empty?"]()))return[];c=[];d=q;m(this,"each",[],(a=function(e){var f=a.$$s||this,g,z;null==e&&(e=q);e=D(b.const_get_relative(t,"Array")["$==="](e))?e.$to_a():b.const_get_relative(t,"Opal").$coerce_to(e,b.const_get_relative(t,"Array"),"to_ary").$to_a();d=D(g=d)?g:e.length;D(e.length["$!="](d))&&f.$raise(b.const_get_relative(t,"IndexError"),"element size differs ("+e.length+" should be "+d);return m(e.length,"times",[],(z=function(a){var d,
f=q;null==a&&(a=q);D(d=c["$[]"](a))||(f=[a,[]],m(c,"[]=",b.to_a(f)),d=f,f=f.length,f="number"===typeof f?f-1:f["$-"](1),d=d[f]);return d["$<<"](e.$at(a))},z.$$s=f,z.$$arity=1,z))},a.$$s=this,a.$$arity=1,a));return c},kb.$$arity=0);b.defn(d,"$uniq",Wa=function(){var d=Wa.$$p,e=d||q;d&&(Wa.$$p=null);var d=a([],{}),f,g,m,z;if(e===q)for(f=0,g=this.length;f<g;f++)m=this[f],void 0===b.hash_get(d,m)&&b.hash_put(d,m,m);else for(f=0,g=this.length;f<g;f++)m=this[f],z=b.yield1(e,m),void 0===b.hash_get(d,z)&&
b.hash_put(d,z,m);return c(d.$values(),this.$class())},Wa.$$arity=0);b.defn(d,"$uniq!",Qa=function(){var c=Qa.$$p,d=c||q;c&&(Qa.$$p=null);var c=this.length,e=a([],{}),f,g,m,z;f=0;for(g=c;f<g;f++)m=this[f],z=d===q?m:b.yield1(d,m),void 0===b.hash_get(e,z)?b.hash_put(e,z,m):(this.splice(f,1),g--,f--);return this.length===c?q:this},Qa.$$arity=0);b.defn(d,"$unshift",ab=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];for(c=b.length-1;0<=c;c--)this.unshift(b[c]);
return this},ab.$$arity=-1);b.defn(d,"$values_at",Za=function(a){var c,d,e=q,f=arguments.length;d=f-0;0>d&&(d=0);d=Array(d);for(var g=0;g<f;g++)d[g-0]=arguments[g];e=[];m(d,"each",[],(c=function(a){var d=c.$$s||this,f,g=q,z=q,g=q;null==a&&(a=q);if(D(a["$kind_of?"](b.const_get_relative(t,"Range")))){g=b.const_get_relative(t,"Opal").$coerce_to(a.$last(),b.const_get_relative(t,"Integer"),"to_int");z=b.const_get_relative(t,"Opal").$coerce_to(a.$first(),b.const_get_relative(t,"Integer"),"to_int");if(0>
z)return z+=d.length,q;0>g&&(g+=d.length);a["$exclude_end?"]()&&g--;return g<z?q:m(z,"upto",[g],(f=function(a){var b=f.$$s||this;null==a&&(a=q);return e["$<<"](b.$at(a))},f.$$s=d,f.$$arity=1,f))}g=b.const_get_relative(t,"Opal").$coerce_to(a,b.const_get_relative(t,"Integer"),"to_int");return e["$<<"](d.$at(g))},c.$$s=this,c.$$arity=1,c));return e},Za.$$arity=-1);b.defn(d,"$zip",Na=function(a){var c,d,e=Na.$$p,f=e||q,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var m=0;m<g;m++)d[m-0]=arguments[m];
e&&(Na.$$p=null);var e=[],g=this.length,z,h,k;h=0;for(k=d.length;h<k;h++)m=d[h],m.$$is_array||(m.$$is_enumerator?Infinity===m.$size()?d[h]=m.$take(g):d[h]=m.$to_a():d[h]=(D(c=b.const_get_relative(t,"Opal")["$coerce_to?"](m,b.const_get_relative(t,"Array"),"to_ary"))?c:b.const_get_relative(t,"Opal")["$coerce_to!"](m,b.const_get_relative(t,"Enumerator"),"each")).$to_a());for(z=0;z<g;z++){c=[this[z]];h=0;for(k=d.length;h<k;h++)m=d[h][z],null==m&&(m=q),c[h+1]=m;e[z]=c}if(f!==q){for(z=0;z<g;z++)f(e[z]);
return q}return e},Na.$$arity=-1);b.defs(d,"$inherited",Ya=function(a){a.$$proto.$to_a=function(){return this.slice(0,this.length)}},Ya.$$arity=1);b.defn(d,"$instance_variables",J=function(){var a,c=J.$$p,d=q,e=q,f=q;c&&(J.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return m(m(this,b.find_super_dispatcher(this,"instance_variables",J,!1),d,c),"reject",[],(a=function(a){var b;null==a&&(a=q);return D(b=/^@\d+$/.test(a))?b:a["$=="]("@length")},a.$$s=this,a.$$arity=1,a))},
J.$$arity=0);return b.const_get_relative(t,"Opal").$pristine(d,"allocate","copy_instance_variables","initialize_dup")}(v[0],Array,v)},Opal.modules["corelib/hash"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var B=b.top,v=[],q=b.nil,p=b.klass,D=b.send,a=b.hash2,m=b.truthy;b.add_stubs("$require $include $coerce_to? $[] $merge! $allocate $raise $coerce_to! $each $fetch $>= $> $== $compare_by_identity $lambda? $abs $arity $call $enum_for $size $respond_to? $class $dig $inspect $map $to_proc $flatten $eql? $default $dup $default_proc $default_proc= $- $default= $alias_method $proc".split(" "));
B.$require("corelib/enumerable");return function(h,$super,l){function w(){}h=w=p(h,$super,"Hash",w);var g=h.$$proto,c=[h].concat(l),n,f,e,d,S,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,v,L,aa,U,sa,ia,H,Y,ha,ka,na,la,B,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da;h.$include(b.const_get_relative(c,"Enumerable"));g.$$is_hash=!0;b.defs(h,"$[]",n=function(a){var d,e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];var f=d.length,g;if(1===f){e=b.const_get_relative(c,
"Opal")["$coerce_to?"](d["$[]"](0),b.const_get_relative(c,"Hash"),"to_hash");if(e!==q)return this.$allocate()["$merge!"](e);d=b.const_get_relative(c,"Opal")["$coerce_to?"](d["$[]"](0),b.const_get_relative(c,"Array"),"to_ary");d===q&&this.$raise(b.const_get_relative(c,"ArgumentError"),"odd number of arguments for Hash");f=d.length;e=this.$allocate();for(g=0;g<f;g++)if(d[g].$$is_array)switch(d[g].length){case 1:e.$store(d[g][0],q);break;case 2:e.$store(d[g][0],d[g][1]);break;default:this.$raise(b.const_get_relative(c,
"ArgumentError"),"invalid number of elements ("+d[g].length+" for 1..2)")}return e}0!==f%2&&this.$raise(b.const_get_relative(c,"ArgumentError"),"odd number of arguments for Hash");e=this.$allocate();for(g=0;g<f;g+=2)e.$store(d[g],d[g+1]);return e},n.$$arity=-1);b.defs(h,"$allocate",f=function(){var a=new this.$$alloc;b.hash_init(a);a.$$none=q;a.$$proc=q;return a},f.$$arity=0);b.defs(h,"$try_convert",e=function(a){return b.const_get_relative(c,"Opal")["$coerce_to?"](a,b.const_get_relative(c,"Hash"),
"to_hash")},e.$$arity=1);b.defn(h,"$initialize",d=function(a){var e=d.$$p,f=e||q;e&&(d.$$p=null);void 0!==a&&f!==q&&this.$raise(b.const_get_relative(c,"ArgumentError"),"wrong number of arguments (1 for 0)");this.$$none=void 0===a?q:a;this.$$proc=f;return this},d.$$arity=-1);b.defn(h,"$==",S=function(a){if(this===a)return!0;if(!a.$$is_hash||this.$$keys.length!==a.$$keys.length)return!1;for(var c=0,d=this.$$keys,e=d.length,f,g;c<e;c++)if(f=d[c],f.$$is_string?(g=this.$$smap[f],f=a.$$smap[f]):(g=f.value,
f=b.hash_get(a,f.key)),void 0===f||!g["$eql?"](f))return!1;return!0},S.$$arity=1);b.defn(h,"$>=",t=function(a){var d,e=q;a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Hash"),"to_hash");if(this.$$keys.length<a.$$keys.length)return!1;e=!0;D(a,"each",[],(d=function(a,b){var c=d.$$s||this,f=q;null==a&&(a=q);null==b&&(b=q);f=c.$fetch(a,null);if(null==f||f!==b)e=!1},d.$$s=this,d.$$arity=2,d));return e},t.$$arity=1);b.defn(h,"$>",k=function(a){a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,
b.const_get_relative(c,"Hash"),"to_hash");return this.$$keys.length<=a.$$keys.length?!1:u(this,a)},k.$$arity=1);b.defn(h,"$<",ea=function(a){a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Hash"),"to_hash");return"number"===typeof a&&"number"===typeof this?a>this:a["$>"](this)},ea.$$arity=1);b.defn(h,"$<=",x=function(a){a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Hash"),"to_hash");return u(a,this)},x.$$arity=1);b.defn(h,"$[]",da=function(a){var c=
b.hash_get(this,a);return void 0!==c?c:this.$default(a)},da.$$arity=1);b.defn(h,"$[]=",Q=function(a,c){b.hash_put(this,a,c);return c},Q.$$arity=2);b.defn(h,"$assoc",r=function(a){for(var b=0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],e.$$is_string){if(e["$=="](a))return[e,this.$$smap[e]]}else if(e.key["$=="](a))return[e.key,e.value];return q},r.$$arity=1);b.defn(h,"$clear",W=function(){b.hash_init(this);return this},W.$$arity=0);b.defn(h,"$clone",A=function(){var a=new this.$$class.$$alloc;b.hash_init(a);
b.hash_clone(this,a);return a},A.$$arity=0);b.defn(h,"$compare_by_identity",E=function(){var c,d,e,f=this.$$keys,g;if(this.$$by_identity)return this;if(0===this.$$keys.length)return this.$$by_identity=!0,this;g=a([],{}).$compare_by_identity();c=0;for(d=f.length;c<d;c++)e=f[c],e.$$is_string||(e=e.key),b.hash_put(g,e,b.hash_get(this,e));this.$$by_identity=!0;this.$$map=g.$$map;this.$$smap=g.$$smap;return this},E.$$arity=0);b.defn(h,"$compare_by_identity?",C=function(){return!0===this.$$by_identity},
C.$$arity=0);b.defn(h,"$default",R=function(a){return void 0!==a&&this.$$proc!==q&&void 0!==this.$$proc?this.$$proc.$call(this,a):void 0===this.$$none?q:this.$$none},R.$$arity=-1);b.defn(h,"$default=",N=function(a){this.$$proc=q;return this.$$none=a},N.$$arity=1);b.defn(h,"$default_proc",X=function(){return void 0!==this.$$proc?this.$$proc:q},X.$$arity=0);b.defn(h,"$default_proc=",P=function(a){var d=a;d!==q&&(d=b.const_get_relative(c,"Opal")["$coerce_to!"](d,b.const_get_relative(c,"Proc"),"to_proc"),
d["$lambda?"]()&&2!==d.$arity().$abs()&&this.$raise(b.const_get_relative(c,"TypeError"),"default_proc takes two arguments"));this.$$none=q;this.$$proc=d;return a},P.$$arity=1);b.defn(h,"$delete",Z=function(a){var c=Z.$$p,d=c||q;c&&(Z.$$p=null);c=b.hash_delete(this,a);return void 0!==c?c:d!==q?d.$call(a):q},Z.$$arity=1);b.defn(h,"$delete_if",V=function(){var a,c=V.$$p,d=c||q;c&&(V.$$p=null);if(!m(d))return D(this,"enum_for",["delete_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=
0,a));for(var c=0,e=this.$$keys,f=e.length,g,h;c<f;c++)g=e[c],g.$$is_string?h=this.$$smap[g]:(h=g.value,g=g.key),h=d(g,h),!1!==h&&h!==q&&void 0!==b.hash_delete(this,g)&&(f--,c--);return this},V.$$arity=0);b.alias(h,"dup","clone");b.defn(h,"$dig",K=function(a,d){var e,f=q,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var g=1;g<f;g++)e[g-1]=arguments[g];f=this["$[]"](a);if(f===q||0===e.length)return f;m(f["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(c,"TypeError"),""+f.$class()+" does not have #dig method");
return D(f,"dig",b.to_a(e))},K.$$arity=-2);b.defn(h,"$each",G=function(){var a,c=G.$$p,d=c||q;c&&(G.$$p=null);if(!m(d))return D(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.$$keys,f=e.length,g,h;c<f;c++)g=e[c],g.$$is_string?h=this.$$smap[g]:(h=g.value,g=g.key),b.yield1(d,[g,h]);return this},G.$$arity=0);b.defn(h,"$each_key",T=function(){var a,b=T.$$p,c=b||q;b&&(T.$$p=null);if(!m(c))return D(this,"enum_for",["each_key"],(a=function(){return(a.$$s||
this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],c(f.$$is_string?f:f.key);return this},T.$$arity=0);b.alias(h,"each_pair","each");b.defn(h,"$each_value",ba=function(){var a,b=ba.$$p,c=b||q;b&&(ba.$$p=null);if(!m(c))return D(this,"enum_for",["each_value"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var b=0,d=this.$$keys,e=d.length,f;b<e;b++)f=d[b],c(f.$$is_string?this.$$smap[f]:f.value);return this},ba.$$arity=0);b.defn(h,
"$empty?",v=function(){return 0===this.$$keys.length},v.$$arity=0);b.alias(h,"eql?","==");b.defn(h,"$fetch",L=function(a,d){var e=L.$$p,f=e||q;e&&(L.$$p=null);e=b.hash_get(this,a);return void 0!==e?e:f!==q?f(a):void 0!==d?d:this.$raise(b.const_get_relative(c,"KeyError"),"key not found: "+a.$inspect())},L.$$arity=-2);b.defn(h,"$fetch_values",aa=function(a){var b,c,d=aa.$$p,e=d||q,f=arguments.length;c=f-0;0>c&&(c=0);c=Array(c);for(var g=0;g<f;g++)c[g-0]=arguments[g];d&&(aa.$$p=null);return D(c,"map",
[],(b=function(a){var c=b.$$s||this;null==a&&(a=q);return D(c,"fetch",[a],e.$to_proc())},b.$$s=this,b.$$arity=1,b))},aa.$$arity=-1);b.defn(h,"$flatten",U=function(a){null==a&&(a=1);a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Integer"),"to_int");for(var d=[],e=0,f=this.$$keys,g=f.length,m,h;e<g;e++)m=f[e],m.$$is_string?h=this.$$smap[m]:(h=m.value,m=m.key),d.push(m),h.$$is_array?1===a?d.push(h):d=d.concat(h.$flatten(a-2)):d.push(h);return d},U.$$arity=-1);b.defn(h,"$has_key?",
sa=function(a){return void 0!==b.hash_get(this,a)},sa.$$arity=1);b.defn(h,"$has_value?",ia=function(a){for(var b=0,c=this.$$keys,d=c.length,e;b<d;b++)if(e=c[b],(e.$$is_string?this.$$smap[e]:e.value)["$=="](a))return!0;return!1},ia.$$arity=1);b.defn(h,"$hash",H=function(){var a=void 0===b.hash_ids,c=this.$object_id(),d=["Hash"],e,f;try{a&&(b.hash_ids=Object.create(null));if(b[c])return"self";for(e in b.hash_ids)if(f=b.hash_ids[e],this["$eql?"](f))return"self";b.hash_ids[c]=this;for(var c=0,g=this.$$keys,
m=g.length;c<m;c++)e=g[c],e.$$is_string?d.push([e,this.$$smap[e].$hash()]):d.push([e.key_hash,e.value.$hash()]);return d.sort().join()}finally{a&&(b.hash_ids=void 0)}},H.$$arity=0);b.alias(h,"include?","has_key?");b.defn(h,"$index",Y=function(a){for(var b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)if(e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),f["$=="](a))return e;return q},Y.$$arity=1);b.defn(h,"$indexes",ha=function(a){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<
d;e++)c[e-0]=arguments[e];for(var d=[],e=0,f=c.length,g;e<f;e++)g=c[e],g=b.hash_get(this,g),void 0===g?d.push(this.$default()):d.push(g);return d},ha.$$arity=-1);b.alias(h,"indices","indexes");var Ha;b.defn(h,"$inspect",ka=function(){var a=void 0===Ha,b=this.$object_id(),c=[];try{a&&(Ha={});if(Ha.hasOwnProperty(b))return"{...}";Ha[b]=!0;for(var b=0,d=this.$$keys,e=d.length,f,g;b<e;b++)f=d[b],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),c.push(f.$inspect()+"=>"+g.$inspect());return"{"+c.join(", ")+
"}"}finally{a&&(Ha=void 0)}},ka.$$arity=0);b.defn(h,"$invert",na=function(){for(var a=b.hash(),c=0,d=this.$$keys,e=d.length,f,g;c<e;c++)f=d[c],f.$$is_string?g=this.$$smap[f]:(g=f.value,f=f.key),b.hash_put(a,g,f);return a},na.$$arity=0);b.defn(h,"$keep_if",la=function(){var a,c=la.$$p,d=c||q;c&&(la.$$p=null);if(!m(d))return D(this,"enum_for",["keep_if"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=0,e=this.$$keys,f=e.length,g,h;c<f;c++)g=e[c],g.$$is_string?h=this.$$smap[g]:
(h=g.value,g=g.key),h=d(g,h),!1!==h&&h!==q||void 0===b.hash_delete(this,g)||(f--,c--);return this},la.$$arity=0);b.alias(h,"key","index");b.alias(h,"key?","has_key?");b.defn(h,"$keys",B=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(e):a.push(e.key);return a},B.$$arity=0);b.defn(h,"$length",oa=function(){return this.$$keys.length},oa.$$arity=0);b.alias(h,"member?","has_key?");b.defn(h,"$merge",ra=function(a){var b=ra.$$p,c=b||q;b&&(ra.$$p=null);return D(this.$dup(),
"merge!",[a],c.$to_proc())},ra.$$arity=1);b.defn(h,"$merge!",qa=function(a){var d=qa.$$p,e=d||q;d&&(qa.$$p=null);a.$$is_hash||(a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Hash"),"to_hash"));var f=a.$$keys,g=f.length,m,h,k;if(e===q){for(d=0;d<g;d++)m=f[d],m.$$is_string?k=a.$$smap[m]:(k=m.value,m=m.key),b.hash_put(this,m,k);return this}for(d=0;d<g;d++)m=f[d],m.$$is_string?k=a.$$smap[m]:(k=m.value,m=m.key),h=b.hash_get(this,m),void 0===h?b.hash_put(this,m,k):b.hash_put(this,
m,e(m,h,k));return this},qa.$$arity=1);b.defn(h,"$rassoc",ma=function(a){for(var b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)if(e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),f["$=="](a))return[e,f];return q},ma.$$arity=1);b.defn(h,"$rehash",ja=function(){b.hash_rehash(this);return this},ja.$$arity=0);b.defn(h,"$reject",ta=function(){var a,c=ta.$$p,d=c||q;c&&(ta.$$p=null);if(!m(d))return D(this,"enum_for",["reject"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=
b.hash(),e=0,f=this.$$keys,g=f.length,h,k,l;e<g;e++)h=f[e],h.$$is_string?k=this.$$smap[h]:(k=h.value,h=h.key),l=d(h,k),!1!==l&&l!==q||b.hash_put(c,h,k);return c},ta.$$arity=0);b.defn(h,"$reject!",fa=function(){var a,c=fa.$$p,d=c||q;c&&(fa.$$p=null);if(!m(d))return D(this,"enum_for",["reject!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=!1,e=0,f=this.$$keys,g=f.length,h,k;e<g;e++)h=f[e],h.$$is_string?k=this.$$smap[h]:(k=h.value,h=h.key),k=d(h,k),!1!==k&&k!==q&&
void 0!==b.hash_delete(this,h)&&(c=!0,g--,e--);return c?this:q},fa.$$arity=0);b.defn(h,"$replace",ya=function(a){var d=q;a=b.const_get_relative(c,"Opal")["$coerce_to!"](a,b.const_get_relative(c,"Hash"),"to_hash");b.hash_init(this);for(var d=0,e=a.$$keys,f=e.length,g,h;d<f;d++)g=e[d],g.$$is_string?h=a.$$smap[g]:(h=g.value,g=g.key),b.hash_put(this,g,h);m(a.$default_proc())?(d=[a.$default_proc()],D(this,"default_proc=",b.to_a(d))):(d=[a.$default()],D(this,"default=",b.to_a(d)));a=d;d=d.length;d="number"===
typeof d?d-1:d["$-"](1);a[d];return this},ya.$$arity=1);b.defn(h,"$select",ua=function(){var a,c=ua.$$p,d=c||q;c&&(ua.$$p=null);if(!m(d))return D(this,"enum_for",["select"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=b.hash(),e=0,f=this.$$keys,g=f.length,h,k,l;e<g;e++)h=f[e],h.$$is_string?k=this.$$smap[h]:(k=h.value,h=h.key),l=d(h,k),!1!==l&&l!==q&&b.hash_put(c,h,k);return c},ua.$$arity=0);b.defn(h,"$select!",za=function(){var a,c=za.$$p,d=c||q;c&&(za.$$p=null);
if(!m(d))return D(this,"enum_for",["select!"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));for(var c=q,e=0,f=this.$$keys,g=f.length,h,k;e<g;e++)if(h=f[e],h.$$is_string?k=this.$$smap[h]:(k=h.value,h=h.key),k=d(h,k),!1===k||k===q)void 0!==b.hash_delete(this,h)&&(g--,e--),c=this;return c},za.$$arity=0);b.defn(h,"$shift",Ea=function(){var a=this.$$keys;return 0<a.length?(a=a[0],a=a.$$is_string?a:a.key,[a,b.hash_delete(this,a)]):this.$default(q)},Ea.$$arity=0);b.alias(h,"size",
"length");h.$alias_method("store","[]=");b.defn(h,"$to_a",Ga=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e,f;b<d;b++)e=c[b],e.$$is_string?f=this.$$smap[e]:(f=e.value,e=e.key),a.push([e,f]);return a},Ga.$$arity=0);b.defn(h,"$to_h",Ba=function(){if(this.$$class===b.Hash)return this;var a=new b.Hash.$$alloc;b.hash_init(a);b.hash_clone(this,a);return a},Ba.$$arity=0);b.defn(h,"$to_hash",Ca=function(){return this},Ca.$$arity=0);b.defn(h,"$to_proc",Fa=function(){var a;return D(this,"proc",[],(a=
function(d){var e=a.$$s||this;null==d&&e.$raise(b.const_get_relative(c,"ArgumentError"),"no key given");return e["$[]"](d)},a.$$s=this,a.$$arity=-1,a))},Fa.$$arity=0);b.alias(h,"to_s","inspect");b.alias(h,"update","merge!");b.alias(h,"value?","has_value?");b.alias(h,"values_at","indexes");return(b.defn(h,"$values",Da=function(){for(var a=[],b=0,c=this.$$keys,d=c.length,e;b<d;b++)e=c[b],e.$$is_string?a.push(this.$$smap[e]):a.push(e.value);return a},Da.$$arity=0),q)&&"values"}(v[0],null,v)},Opal.modules["corelib/number"]=
function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function D(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var a=b.top,m=[],h=b.nil,
y=b.klass,l=b.truthy,w=b.send,g=b.hash2;b.add_stubs("$require $bridge $raise $class $Float $respond_to? $coerce_to! $__coerced__ $=== $! $> $** $new $< $to_f $== $nan? $infinite? $enum_for $+ $- $gcd $lcm $/ $frexp $to_i $ldexp $rationalize $* $<< $to_r $-@ $size $<= $>=".split(" "));a.$require("corelib/numeric");(function(a,$super,f){function e(){}a=e=y(a,$super,"Number",e);var d=[a].concat(f),m,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,aa,U,sa,ia,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja,ta,fa,
ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da,Ha,Ia,z,va,ca,O,xa,I,M,wa,ga,Ja,La,Ka;b.const_get_relative(d,"Opal").$bridge(a,Number);Number.prototype.$$is_number=!0;a.$$is_number_class=!0;b.defn(a,"$coerce",m=function(a){if(a!==h){if(a.$$is_string)return[this.$Float(a),this];if(a["$respond_to?"]("to_f"))return[b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Float"),"to_f"),this];if(a.$$is_number)return[a,this]}this.$raise(b.const_get_relative(d,"TypeError"),"can't convert "+a.$class()+" into Float")},
m.$$arity=1);b.defn(a,"$__id__",t=function(){return 2*this+1},t.$$arity=0);b.alias(a,"object_id","__id__");b.defn(a,"$+",k=function(a){return a.$$is_number?this+a:this.$__coerced__("+",a)},k.$$arity=1);b.defn(a,"$-",ea=function(a){return a.$$is_number?this-a:this.$__coerced__("-",a)},ea.$$arity=1);b.defn(a,"$*",x=function(a){return a.$$is_number?this*a:this.$__coerced__("*",a)},x.$$arity=1);b.defn(a,"$/",da=function(a){return a.$$is_number?this/a:this.$__coerced__("/",a)},da.$$arity=1);b.alias(a,
"fdiv","/");b.defn(a,"$%",Q=function(a){if(a.$$is_number){if(-Infinity==a)return a;if(0==a)this.$raise(b.const_get_relative(d,"ZeroDivisionError"),"divided by 0");else return 0>a||0>this?(this%a+a)%a:this%a}else return this.$__coerced__("%",a)},Q.$$arity=1);b.defn(a,"$&",r=function(a){return a.$$is_number?this&a:this.$__coerced__("&",a)},r.$$arity=1);b.defn(a,"$|",W=function(a){return a.$$is_number?this|a:this.$__coerced__("|",a)},W.$$arity=1);b.defn(a,"$^",A=function(a){return a.$$is_number?this^
a:this.$__coerced__("^",a)},A.$$arity=1);b.defn(a,"$<",E=function(a){return a.$$is_number?this<a:this.$__coerced__("<",a)},E.$$arity=1);b.defn(a,"$<=",C=function(a){return a.$$is_number?this<=a:this.$__coerced__("<=",a)},C.$$arity=1);b.defn(a,"$>",R=function(a){return a.$$is_number?this>a:this.$__coerced__(">",a)},R.$$arity=1);b.defn(a,"$>=",N=function(a){return a.$$is_number?this>=a:this.$__coerced__(">=",a)},N.$$arity=1);b.defn(a,"$<=>",X=function(a){try{return a.$$is_number?isNaN(this)||isNaN(a)?
h:this>a?1:this<a?-1:0:this.$__coerced__("<=>",a)}catch(c){if(b.rescue(c,[b.const_get_relative(d,"ArgumentError")]))try{return h}finally{b.pop_exception()}else throw c;}},X.$$arity=1);b.defn(a,"$<<",P=function(a){a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");return 0<a?this<<a:this>>-a},P.$$arity=1);b.defn(a,"$>>",Z=function(a){a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");return 0<a?this>>a:this<<-a},
Z.$$arity=1);b.defn(a,"$[]",V=function(a){a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");return 0>a?0:32<=a?0>this?1:0:this>>a&1},V.$$arity=1);b.defn(a,"$+@",K=function(){return+this},K.$$arity=0);b.defn(a,"$-@",G=function(){return-this},G.$$arity=0);b.defn(a,"$~",T=function(){return~this},T.$$arity=0);b.defn(a,"$**",ba=function(a){var c,e;return l(b.const_get_relative(d,"Integer")["$==="](a))?l(l(c=b.const_get_relative(d,"Integer")["$==="](this)["$!"]())?
c:u(a,0))?Math.pow(this,a):b.const_get_relative(d,"Rational").$new(this,1)["$**"](a):l(B(this,0)?l(e=b.const_get_relative(d,"Float")["$==="](a))?e:b.const_get_relative(d,"Rational")["$==="](a):B(this,0))?b.const_get_relative(d,"Complex").$new(this,0)["$**"](a.$to_f()):l(null!=a.$$is_number)?Math.pow(this,a):this.$__coerced__("**",a)},ba.$$arity=1);b.defn(a,"$===",pa=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},pa.$$arity=1);b.defn(a,"$==",
L=function(a){return a.$$is_number?this.valueOf()===a.valueOf():a["$respond_to?"]("==")?a["$=="](this):!1},L.$$arity=1);b.defn(a,"$abs",aa=function(){return Math.abs(this)},aa.$$arity=0);b.defn(a,"$abs2",U=function(){return Math.abs(this*this)},U.$$arity=0);b.defn(a,"$angle",sa=function(){return l(this["$nan?"]())?this:0==this?0<1/this?0:Math.PI:0>this?Math.PI:0},sa.$$arity=0);b.alias(a,"arg","angle");b.alias(a,"phase","angle");b.defn(a,"$bit_length",ia=function(){l(b.const_get_relative(d,"Integer")["$==="](this))||
this.$raise(b.const_get_relative(d,"NoMethodError").$new("undefined method `bit_length` for "+this+":Float","bit_length"));if(0===this||-1===this)return 0;for(var a=0,c=0>this?~this:this;0!=c;)a+=1,c>>>=1;return a},ia.$$arity=0);b.defn(a,"$ceil",H=function(){return Math.ceil(this)},H.$$arity=0);b.defn(a,"$chr",Y=function(a){return String.fromCharCode(this)},Y.$$arity=-1);b.defn(a,"$denominator",ha=function(){var a,c=ha.$$p,d=h,e=h,f=h;c&&(ha.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=
arguments[e];return l(l(a=this["$nan?"]())?a:this["$infinite?"]())?1:w(this,b.find_super_dispatcher(this,"denominator",ha,!1),d,c)},ha.$$arity=0);b.defn(a,"$downto",ka=function(a){var c,e=ka.$$p,f=e||h;e&&(ka.$$p=null);if(f===h)return w(this,"enum_for",["downto",a],(c=function(){var e=c.$$s||this;l(b.const_get_relative(d,"Numeric")["$==="](a))||e.$raise(b.const_get_relative(d,"ArgumentError"),"comparison of "+e.$class()+" with "+a.$class()+" failed");return l(u(a,e))?0:v(q(e,a),1)},c.$$s=this,c.$$arity=
0,c));a.$$is_number||this.$raise(b.const_get_relative(d,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(e=this;e>=a;e--)f(e);return this},ka.$$arity=1);b.alias(a,"eql?","==");b.defn(a,"$equal?",na=function(a){var b;return l(b=this["$=="](a))?b:isNaN(this)&&isNaN(a)},na.$$arity=1);b.defn(a,"$even?",la=function(){return 0===this%2},la.$$arity=0);b.defn(a,"$floor",Aa=function(){return Math.floor(this)},Aa.$$arity=0);b.defn(a,"$gcd",oa=function(a){l(b.const_get_relative(d,
"Integer")["$==="](a))||this.$raise(b.const_get_relative(d,"TypeError"),"not an integer");var c=Math.abs(this);for(a=Math.abs(a);0<c;){var e=c,c=a%c;a=e}return a},oa.$$arity=1);b.defn(a,"$gcdlcm",ra=function(a){return[this.$gcd(),this.$lcm()]},ra.$$arity=1);b.defn(a,"$integer?",qa=function(){return 0===this%1},qa.$$arity=0);b.defn(a,"$is_a?",ma=function(a){var c=ma.$$p,e=h,f=h,g=h;c&&(ma.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];return l(a["$=="](b.const_get_relative(d,
"Fixnum"))?b.const_get_relative(d,"Integer")["$==="](this):a["$=="](b.const_get_relative(d,"Fixnum")))||l(a["$=="](b.const_get_relative(d,"Integer"))?b.const_get_relative(d,"Integer")["$==="](this):a["$=="](b.const_get_relative(d,"Integer")))||l(a["$=="](b.const_get_relative(d,"Float"))?b.const_get_relative(d,"Float")["$==="](this):a["$=="](b.const_get_relative(d,"Float")))?!0:w(this,b.find_super_dispatcher(this,"is_a?",ma,!1),e,c)},ma.$$arity=1);b.alias(a,"kind_of?","is_a?");b.defn(a,"$instance_of?",
ja=function(a){var c=ja.$$p,e=h,f=h,g=h;c&&(ja.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];return l(a["$=="](b.const_get_relative(d,"Fixnum"))?b.const_get_relative(d,"Integer")["$==="](this):a["$=="](b.const_get_relative(d,"Fixnum")))||l(a["$=="](b.const_get_relative(d,"Integer"))?b.const_get_relative(d,"Integer")["$==="](this):a["$=="](b.const_get_relative(d,"Integer")))||l(a["$=="](b.const_get_relative(d,"Float"))?b.const_get_relative(d,"Float")["$==="](this):a["$=="](b.const_get_relative(d,
"Float")))?!0:w(this,b.find_super_dispatcher(this,"instance_of?",ja,!1),e,c)},ja.$$arity=1);b.defn(a,"$lcm",ta=function(a){l(b.const_get_relative(d,"Integer")["$==="](a))||this.$raise(b.const_get_relative(d,"TypeError"),"not an integer");return 0==this||0==a?0:Math.abs(this*a/this.$gcd(a))},ta.$$arity=1);b.alias(a,"magnitude","abs");b.alias(a,"modulo","%");b.defn(a,"$next",fa=function(){return this+1},fa.$$arity=0);b.defn(a,"$nonzero?",ya=function(){return 0==this?h:this},ya.$$arity=0);b.defn(a,"$numerator",
ua=function(){var a,c=ua.$$p,d=h,e=h,f=h;c&&(ua.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return l(l(a=this["$nan?"]())?a:this["$infinite?"]())?this:w(this,b.find_super_dispatcher(this,"numerator",ua,!1),d,c)},ua.$$arity=0);b.defn(a,"$odd?",za=function(){return 0!==this%2},za.$$arity=0);b.defn(a,"$ord",Ea=function(){return this},Ea.$$arity=0);b.defn(a,"$pred",Ga=function(){return this-1},Ga.$$arity=0);b.defn(a,"$quo",Ba=function(a){var c=Ba.$$p,e=h,f=h,g=h;c&&(Ba.$$p=
null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];return l(b.const_get_relative(d,"Integer")["$==="](this))?w(this,b.find_super_dispatcher(this,"quo",Ba,!1),e,c):p(this,a)},Ba.$$arity=1);b.defn(a,"$rationalize",Ca=function(a){var c,e,f=h;c=h;1<arguments.length&&this.$raise(b.const_get_relative(d,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");return l(b.const_get_relative(d,"Integer")["$==="](this))?b.const_get_relative(d,"Rational").$new(this,1):
l(this["$infinite?"]())?this.$raise(b.const_get_relative(d,"FloatDomainError"),"Infinity"):l(this["$nan?"]())?this.$raise(b.const_get_relative(d,"FloatDomainError"),"NaN"):l(null==a)?(e=b.const_get_relative(d,"Math").$frexp(this),c=b.to_ary(e),f=null==c[0]?h:c[0],c=null==c[1]?h:c[1],e,f=b.const_get_relative(d,"Math").$ldexp(f,b.const_get_qualified(b.const_get_relative(d,"Float"),"MANT_DIG")).$to_i(),c=q(c,b.const_get_qualified(b.const_get_relative(d,"Float"),"MANT_DIG")),b.const_get_relative(d,"Rational").$new(D(2,
f),1["$<<"](q(1,c))).$rationalize(b.const_get_relative(d,"Rational").$new(1,1["$<<"](q(1,c))))):this.$to_r().$rationalize(a)},Ca.$$arity=-1);b.defn(a,"$round",Fa=function(a){var c,e,f=h;if(l(b.const_get_relative(d,"Integer")["$==="](this))){if(l(null==a))return this;l(l(c=b.const_get_relative(d,"Float")["$==="](a))?a["$infinite?"]():c)&&this.$raise(b.const_get_relative(d,"RangeError"),"Infinity");a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int");l(B(a,b.const_get_qualified(b.const_get_relative(d,
"Integer"),"MIN")))&&this.$raise(b.const_get_relative(d,"RangeError"),"out of bounds");if(l(0<=a))return this;a=a["$-@"]();if(.415241*a-.125>this.$size())return 0;a=Math.pow(10,a);e=Math.floor((Math.abs(e)+a/2)/a)*a;return 0>this?-e:e}l(l(c=this["$nan?"]())?null==a:c)&&this.$raise(b.const_get_relative(d,"FloatDomainError"),"NaN");a=b.const_get_relative(d,"Opal")["$coerce_to!"](a||0,b.const_get_relative(d,"Integer"),"to_int");if(l("number"===typeof a?0>=a:a["$<="](0)))l(this["$nan?"]())?this.$raise(b.const_get_relative(d,
"RangeError"),"NaN"):l(this["$infinite?"]())&&this.$raise(b.const_get_relative(d,"FloatDomainError"),"Infinity");else{if(a["$=="](0))return Math.round(this);if(l(l(c=this["$nan?"]())?c:this["$infinite?"]()))return this}e=b.const_get_relative(d,"Math").$frexp(this);c=b.to_ary(e);f=null==c[1]?h:c[1];e;c=q(v(b.const_get_qualified(b.const_get_relative(d,"Float"),"DIG"),2),l(u(f,0))?p(f,4):q(p(f,3),1));c="number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c);return l(c)?this:l(B(a,(l(u(f,0))?v(p(f,
3),1):p(f,4))["$-@"]()))?0:Math.round(this*Math.pow(10,a))/Math.pow(10,a)},Fa.$$arity=-1);b.defn(a,"$step",Da=function(a,c,e){function f(){0===G&&r.$raise(b.const_get_relative(d,"ArgumentError"),"step cannot be 0");wa=l(z=wa)?z:ga;G=l(z=G)?z:l(I=y)?I:1;wa.$$is_number||r.$raise(b.const_get_relative(d,"ArgumentError"),"limit must be a number");G.$$is_number||r.$raise(b.const_get_relative(d,"ArgumentError"),"step must be a number")}function m(){if(0<G&&r>wa||0>G&&r<wa)return 0;if(Infinity===G||-Infinity===
G)return 1;var a=Math.abs,c=Math.floor,a=(a(r)+a(wa)+a(wa-r))/a(G)*b.const_get_qualified(b.const_get_relative(d,"Float"),"EPSILON");if(Infinity===a||-Infinity===a)return 0;.5<a&&(a=.5);return c((wa-r)/G+a)+1}function k(){f();if(0===G)return Infinity;if(0!==G%1)return m();if(0<G&&r>wa||0>G&&r<wa)return 0;var a=Math.ceil,b=Math.abs,c=b(r-wa)+1,b=b(G);return a(c/b)}var z,I,M,r=this,t,ga,y,wa,G,x=Da.$$p,p=x||h;t=b.slice.call(arguments,0,arguments.length);e=b.extract_kwargs(t);if(null==e||!e.$$is_hash)if(null==
e)e=g([],{});else throw b.ArgumentError.$new("expected kwargs");null==(ga=e.$$smap.to)&&(ga=h);null==(y=e.$$smap.by)&&(y=h);0<t.length&&(wa=t.splice(0,1)[0]);null==wa&&(wa=h);0<t.length&&(G=t.splice(0,1)[0]);null==G&&(G=h);x&&(Da.$$p=null);wa!==h&&ga!==h&&r.$raise(b.const_get_relative(d,"ArgumentError"),"to is given twice");G!==h&&y!==h&&r.$raise(b.const_get_relative(d,"ArgumentError"),"step is given twice");if(p===h)return w(r,"enum_for",["step",wa,G,g(["to","by"],{to:ga,by:y})],(M=function(){return k()},
M.$$s=r,M.$$arity=0,M));f();if(0===G)for(;;)p(r);if(0!==r%1||0!==wa%1||0!==G%1){if(M=m(),0<M)if(Infinity===G||-Infinity===G)p(r);else if(t=0,0<G)for(;t<M;)x=t*G+r,wa<x&&(x=wa),p(x),t+=1;else for(;t<M;)x=t*G+r,wa>x&&(x=wa),p(x),t+=1}else if(M=r,0<G)for(;M<=wa;)p(M),M+=G;else for(;M>=wa;)p(M),M+=G;return r},Da.$$arity=-1);b.alias(a,"succ","next");b.defn(a,"$times",Ha=function(){var a,b=Ha.$$p,c=b||h;b&&(Ha.$$p=null);if(!l(c))return w(this,"enum_for",["times"],(a=function(){return a.$$s||this},a.$$s=
this,a.$$arity=0,a));for(b=0;b<this;b++)c(b);return this},Ha.$$arity=0);b.defn(a,"$to_f",Ia=function(){return this},Ia.$$arity=0);b.defn(a,"$to_i",z=function(){return parseInt(this,10)},z.$$arity=0);b.alias(a,"to_int","to_i");b.defn(a,"$to_r",va=function(){var a,c,e=h;a=h;if(l(b.const_get_relative(d,"Integer")["$==="](this)))return b.const_get_relative(d,"Rational").$new(this,1);c=b.const_get_relative(d,"Math").$frexp(this);a=b.to_ary(c);e=null==a[0]?h:a[0];a=null==a[1]?h:a[1];c;e=b.const_get_relative(d,
"Math").$ldexp(e,b.const_get_qualified(b.const_get_relative(d,"Float"),"MANT_DIG")).$to_i();a=q(a,b.const_get_qualified(b.const_get_relative(d,"Float"),"MANT_DIG"));return D(e,b.const_get_qualified(b.const_get_relative(d,"Float"),"RADIX")["$**"](a)).$to_r()},va.$$arity=0);b.defn(a,"$to_s",ca=function(a){var c;null==a&&(a=10);l(l(c=B(a,2))?c:u(a,36))&&this.$raise(b.const_get_relative(d,"ArgumentError"),"base must be between 2 and 36");return this.toString(a)},ca.$$arity=-1);b.alias(a,"truncate","to_i");
b.alias(a,"inspect","to_s");b.defn(a,"$divmod",O=function(a){var c,e=O.$$p,f=h,g=h,m=h;e&&(O.$$p=null);g=0;m=arguments.length;for(f=Array(m);g<m;g++)f[g]=arguments[g];return l(l(c=this["$nan?"]())?c:a["$nan?"]())?this.$raise(b.const_get_relative(d,"FloatDomainError"),"NaN"):l(this["$infinite?"]())?this.$raise(b.const_get_relative(d,"FloatDomainError"),"Infinity"):w(this,b.find_super_dispatcher(this,"divmod",O,!1),f,e)},O.$$arity=1);b.defn(a,"$upto",xa=function(a){var c,e=xa.$$p,f=e||h;e&&(xa.$$p=
null);if(f===h)return w(this,"enum_for",["upto",a],(c=function(){var e=c.$$s||this;l(b.const_get_relative(d,"Numeric")["$==="](a))||e.$raise(b.const_get_relative(d,"ArgumentError"),"comparison of "+e.$class()+" with "+a.$class()+" failed");return l(B(a,e))?0:v(q(a,e),1)},c.$$s=this,c.$$arity=0,c));a.$$is_number||this.$raise(b.const_get_relative(d,"ArgumentError"),"comparison of "+this.$class()+" with "+a.$class()+" failed");for(e=this;e<=a;e++)f(e);return this},xa.$$arity=1);b.defn(a,"$zero?",I=function(){return 0==
this},I.$$arity=0);b.defn(a,"$size",M=function(){return 4},M.$$arity=0);b.defn(a,"$nan?",wa=function(){return isNaN(this)},wa.$$arity=0);b.defn(a,"$finite?",ga=function(){return Infinity!=this&&-Infinity!=this&&!isNaN(this)},ga.$$arity=0);b.defn(a,"$infinite?",Ja=function(){return Infinity==this?1:-Infinity==this?-1:h},Ja.$$arity=0);b.defn(a,"$positive?",La=function(){return 0!=this&&(Infinity==this||0<1/this)},La.$$arity=0);return(b.defn(a,"$negative?",Ka=function(){return-Infinity==this||0>1/this},
Ka.$$arity=0),h)&&"negative?"})(m[0],b.const_get_relative(m,"Numeric"),m);b.const_set(m[0],"Fixnum",b.const_get_relative(m,"Number"));(function(a,$super,f){function e(){}a=e=y(a,$super,"Integer",e);f=[a].concat(f);var d;a.$$is_number_class=!0;b.defs(a,"$===",d=function(a){return a.$$is_number?0===a%1:!1},d.$$arity=1);b.const_set(f[0],"MAX",Math.pow(2,30)-1);return b.const_set(f[0],"MIN",-Math.pow(2,30))})(m[0],b.const_get_relative(m,"Numeric"),m);return function(a,$super,f){function e(){}a=e=y(a,
$super,"Float",e);f=[a].concat(f);var d;a.$$is_number_class=!0;b.defs(a,"$===",d=function(a){return!!a.$$is_number},d.$$arity=1);b.const_set(f[0],"INFINITY",Infinity);b.const_set(f[0],"MAX",Number.MAX_VALUE);b.const_set(f[0],"MIN",Number.MIN_VALUE);b.const_set(f[0],"NAN",NaN);b.const_set(f[0],"DIG",15);b.const_set(f[0],"MANT_DIG",53);b.const_set(f[0],"RADIX",2);return b.const_set(f[0],"EPSILON",Number.EPSILON||2.220446049250313E-16)}(m[0],b.const_get_relative(m,"Numeric"),m)},Opal.modules["corelib/range"]=
function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var p=b.top,D=[],a=b.nil,m=b.klass,h=b.truthy,y=b.send;b.add_stubs("$require $include $attr_reader $raise $<=> $include? $<= $< $enum_for $upto $to_proc $respond_to? $class $succ $! $== $=== $exclude_end? $eql? $begin $end $last $to_a $> $- $abs $to_i $coerce_to! $ceil $/ $size $loop $+ $* $>= $each_with_index $% $bsearch $inspect $[] $hash".split(" "));
p.$require("corelib/enumerable");return function(l,$super,g){function c(){}l=c=m(l,$super,"Range",c);var n=l.$$proto,f=[l].concat(g),e,d,p,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P;n.begin=n.end=n.exclude=a;l.$include(b.const_get_relative(f,"Enumerable"));n.$$is_range=!0;l.$attr_reader("begin","end");b.defn(l,"$initialize",e=function(a,c,d){null==d&&(d=!1);h(this.begin)&&this.$raise(b.const_get_relative(f,"NameError"),"'initialize' called twice");h(a["$<=>"](c))||this.$raise(b.const_get_relative(f,"ArgumentError"),
"bad value for range");this.begin=a;this.end=c;return this.exclude=d},e.$$arity=-3);b.defn(l,"$==",d=function(a){return a.$$is_range?this.exclude===a.exclude&&this.begin==a.begin&&this.end==a.end:!1},d.$$arity=1);b.defn(l,"$===",p=function(a){return this["$include?"](a)},p.$$arity=1);b.defn(l,"$cover?",t=function(b){var c,d=a,d=a,d=this.begin["$<=>"](b);if(!h(h(c=d)?u(d,0):c))return!1;d=b["$<=>"](this.end);return h(this.exclude)?h(c=d)?B(d,0):c:h(c=d)?u(d,0):c},t.$$arity=1);b.defn(l,"$each",k=function(){var c,
d=k.$$p,e=d||a,g=a,m=a;d&&(k.$$p=null);if(e===a)return this.$enum_for("each");if(this.begin.$$is_number&&this.end.$$is_number){0===this.begin%1&&0===this.end%1||this.$raise(b.const_get_relative(f,"TypeError"),"can't iterate from Float");c=this.begin;for(d=this.end+(h(this.exclude)?0:1);c<d;c++)e(c);return this}if(this.begin.$$is_string&&this.end.$$is_string)return y(this.begin,"upto",[this.end,this.exclude],e.$to_proc()),this;g=this.begin;m=this.end;for(h(g["$respond_to?"]("succ"))||this.$raise(b.const_get_relative(f,
"TypeError"),"can't iterate from "+g.$class());h(B(g["$<=>"](m),0));)b.yield1(e,g),g=g.$succ();h(h(c=this.exclude["$!"]())?g["$=="](m):c)&&b.yield1(e,g);return this},k.$$arity=0);b.defn(l,"$eql?",ea=function(a){var c,d;return h(b.const_get_relative(f,"Range")["$==="](a))?h(c=h(d=this.exclude["$==="](a["$exclude_end?"]()))?this.begin["$eql?"](a.$begin()):d)?this.end["$eql?"](a.$end()):c:!1},ea.$$arity=1);b.defn(l,"$exclude_end?",x=function(){return this.exclude},x.$$arity=0);b.defn(l,"$first",da=function(c){var d=
da.$$p,e=a,f=a,g=a;d&&(da.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];return h(null==c)?this.begin:y(this,b.find_super_dispatcher(this,"first",da,!1),e,d)},da.$$arity=-1);b.alias(l,"include?","cover?");b.defn(l,"$last",Q=function(a){return h(null==a)?this.end:this.$to_a().$last(a)},Q.$$arity=-1);b.defn(l,"$max",r=function(){var c,d=r.$$p,e=d||a,f=a,g=a,m=a;d&&(r.$$p=null);g=0;m=arguments.length;for(f=Array(m);g<m;g++)f[g]=arguments[g];return e!==a?y(this,b.find_super_dispatcher(this,
"max",r,!1),f,d):h(v(this.begin,this.end))?a:h(h(c=this.exclude)?this.begin["$=="](this.end):c)?a:this.exclude?this.end-1:this.end},r.$$arity=0);b.alias(l,"member?","cover?");b.defn(l,"$min",W=function(){var c,d=W.$$p,e=d||a,f=a,g=a,m=a;d&&(W.$$p=null);g=0;m=arguments.length;for(f=Array(m);g<m;g++)f[g]=arguments[g];return e!==a?y(this,b.find_super_dispatcher(this,"min",W,!1),f,d):h(v(this.begin,this.end))?a:h(h(c=this.exclude)?this.begin["$=="](this.end):c)?a:this.begin},W.$$arity=0);b.defn(l,"$size",
A=function(){var c,d=a,e=a,g=a,d=this.begin,e=this.end;h(this.exclude)&&(e="number"===typeof e?e-1:e["$-"](1));if(!h(h(c=b.const_get_relative(f,"Numeric")["$==="](d))?b.const_get_relative(f,"Numeric")["$==="](e):c))return a;if(h(B(e,d)))return 0;g=b.const_get_qualified(b.const_get_relative(f,"Float"),"INFINITY");return h(h(c=g["$=="](d.$abs()))?c:e.$abs()["$=="](g))?g:(Math.abs(e-d)+1).$to_i()},A.$$arity=0);b.defn(l,"$step",E=function(c){function d(){c.$$is_number||(c=b.const_get_relative(f,"Opal")["$coerce_to!"](c,
b.const_get_relative(f,"Integer"),"to_int"));0>c?l.$raise(b.const_get_relative(f,"ArgumentError"),"step can't be negative"):0===c&&l.$raise(b.const_get_relative(f,"ArgumentError"),"step can't be 0")}function e(){if(!l.begin["$respond_to?"]("succ")||l.begin.$$is_string&&l.end.$$is_string)return a;if(0===c%1){var d=l.$size();return("number"===typeof d&&"number"===typeof c?d/c:d["$/"](c)).$ceil()}var d=l.begin,g=l.end,m=Math.abs,h=Math.floor,m=(m(d)+m(g)+m(g-d))/m(c)*b.const_get_qualified(b.const_get_relative(f,
"Float"),"EPSILON");.5<m&&(m=.5);l.exclude?(h=h((g-d)/c-m),h*c+d<g&&h++):h=h((g-d)/c+m)+1;return h}var g,m,k,l=this,r=E.$$p,n=r||a,t=a;null==c&&(c=1);r&&(E.$$p=null);if(n===a)return y(l,"enum_for",["step",c],(g=function(){d();return e()},g.$$s=l,g.$$arity=0,g));d();h(l.begin.$$is_number&&l.end.$$is_number)?(t=0,function(){var d=b.new_brk();try{return y(l,"loop",[],(m=function(){var e=m.$$s||this,f=a;null==e.begin&&(e.begin=a);null==e.exclude&&(e.exclude=a);null==e.end&&(e.end=a);f=q(e.begin,"number"===
typeof t&&"number"===typeof c?t*c:t["$*"](c));h(e.exclude)?(e=e.end,e="number"===typeof f&&"number"===typeof e?f>=e:f["$>="](e),h(e)&&b.brk(a,d)):h(v(f,e.end))&&b.brk(a,d);b.yield1(n,f);return t=q(t,1)},m.$$s=l,m.$$brk=d,m.$$arity=0,m))}catch(e){if(e===d)return e.$v;throw e;}}()):(l.begin.$$is_string&&l.end.$$is_string&&0!==c%1&&l.$raise(b.const_get_relative(f,"TypeError"),"no implicit conversion to float from string"),y(l,"each_with_index",[],(k=function(d,e){null==d&&(d=a);null==e&&(e=a);return e["$%"](c)["$=="](0)?
b.yield1(n,d):a},k.$$s=l,k.$$arity=2,k)));return l},E.$$arity=-1);b.defn(l,"$bsearch",C=function(){var c=C.$$p,d=c||a;c&&(C.$$p=null);if(d===a)return this.$enum_for("bsearch");h(this.begin.$$is_number&&this.end.$$is_number)||this.$raise(b.const_get_relative(f,"TypeError"),"can't do binary search for "+this.begin.$class());return y(this.$to_a(),"bsearch",[],d.$to_proc())},C.$$arity=0);b.defn(l,"$to_s",R=function(){return""+this.begin+(h(this.exclude)?"...":"..")+this.end},R.$$arity=0);b.defn(l,"$inspect",
N=function(){return""+this.begin.$inspect()+(h(this.exclude)?"...":"..")+this.end.$inspect()},N.$$arity=0);b.defn(l,"$marshal_load",X=function(a){this.begin=a["$[]"]("begin");this.end=a["$[]"]("end");return this.exclude=a["$[]"]("excl")},X.$$arity=1);return(b.defn(l,"$hash",P=function(){return[this.begin,this.end,this.exclude].$hash()},P.$$arity=0),a)&&"hash"}(D[0],null,D)},Opal.modules["corelib/proc"]=function(b){var u=[],B=b.nil,v=b.slice,q=b.klass,p=b.truthy;b.add_stubs(["$raise","$coerce_to!"]);
return function(u,$super,m){function h(){}u=h=q(u,$super,"Proc",h);var y=u.$$proto,l=[u].concat(m),w,g,c,n,f,e,d,S,t,k;y.$$is_proc=!0;y.$$is_lambda=!1;b.defs(u,"$new",w=function(){var c=w.$$p,d=c||B;c&&(w.$$p=null);p(d)||this.$raise(b.const_get_relative(l,"ArgumentError"),"tried to create a Proc object without a block");return d},w.$$arity=0);b.defn(u,"$call",g=function(c){var d,e=g.$$p,f=e||B,m=arguments.length;d=m-0;0>d&&(d=0);d=Array(d);for(var h=0;h<m;h++)d[h-0]=arguments[h];e&&(g.$$p=null);f!==
B&&(this.$$p=f);var k;if(e=this.$$brk)try{k=this.$$is_lambda?this.apply(null,d):b.yieldX(this,d)}catch(l){if(l===e)return e.$v;throw l;}else k=this.$$is_lambda?this.apply(null,d):b.yieldX(this,d);return k},g.$$arity=-1);b.alias(u,"[]","call");b.alias(u,"===","call");b.alias(u,"yield","call");b.defn(u,"$to_proc",c=function(){return this},c.$$arity=0);b.defn(u,"$lambda?",n=function(){return!!this.$$is_lambda},n.$$arity=0);b.defn(u,"$arity",f=function(){return this.$$is_curried?-1:this.$$arity},f.$$arity=
0);b.defn(u,"$source_location",e=function(){return B},e.$$arity=0);b.defn(u,"$binding",d=function(){this.$$is_curried&&this.$raise(b.const_get_relative(l,"ArgumentError"),"Can't create Binding");return B},d.$$arity=0);b.defn(u,"$parameters",S=function(){if(this.$$is_curried)return[["rest"]];if(this.$$parameters){if(this.$$is_lambda)return this.$$parameters;var b=[],c,d;c=0;for(d=this.$$parameters.length;c<d;c++){var e=this.$$parameters[c];"req"===e[0]&&(e=["opt",e[1]]);b.push(e)}return b}return[]},
S.$$arity=0);b.defn(u,"$curry",t=function(c){function d(){var f=v.call(arguments),g=f.length;g>c&&e.$$is_lambda&&!e.$$is_curried&&e.$raise(b.const_get_relative(l,"ArgumentError"),"wrong number of arguments ("+g+" for "+c+")");if(g>=c)return e.$call.apply(e,f);g=function(){return d.apply(null,f.concat(v.call(arguments)))};g.$$is_lambda=e.$$is_lambda;g.$$is_curried=!0;return g}var e=this;void 0===c?c=e.length:(c=b.const_get_relative(l,"Opal")["$coerce_to!"](c,b.const_get_relative(l,"Integer"),"to_int"),
e.$$is_lambda&&c!==e.length&&e.$raise(b.const_get_relative(l,"ArgumentError"),"wrong number of arguments ("+c+" for "+e.length+")"));d.$$is_lambda=e.$$is_lambda;d.$$is_curried=!0;return d},t.$$arity=-1);b.defn(u,"$dup",k=function(){var b=this.$$original_proc||this,c=function(){return b.apply(this,arguments)},d;for(d in this)this.hasOwnProperty(d)&&(c[d]=this[d]);return c},k.$$arity=0);return b.alias(u,"clone","dup")}(u[0],Function,u)},Opal.modules["corelib/method"]=function(b){var u=[],B=b.nil,v=
b.klass,q=b.truthy;b.add_stubs("$attr_reader $arity $new $class $join $source_location $raise".split(" "));(function(p,$super,a){function m(){}p=m=v(p,$super,"Method",m);var h=p.$$proto,y=[p].concat(a),l,w,g,c,n,f,e,d,S;h.method=h.receiver=h.owner=h.name=B;p.$attr_reader("owner","receiver","name");b.defn(p,"$initialize",l=function(a,b,c,d){this.receiver=a;this.owner=b;this.name=d;return this.method=c},l.$$arity=4);b.defn(p,"$arity",w=function(){return this.method.$arity()},w.$$arity=0);b.defn(p,"$parameters",
g=function(){return this.method.$$parameters},g.$$arity=0);b.defn(p,"$source_location",c=function(){var a;return q(a=this.method.$$source_location)?a:["(eval)",0]},c.$$arity=0);b.defn(p,"$comments",n=function(){var a;return q(a=this.method.$$comments)?a:[]},n.$$arity=0);b.defn(p,"$call",f=function(a){var b,c=f.$$p,d=c||B,e=arguments.length;b=e-0;0>b&&(b=0);b=Array(b);for(var g=0;g<e;g++)b[g-0]=arguments[g];c&&(f.$$p=null);this.method.$$p=d;return this.method.apply(this.receiver,b)},f.$$arity=-1);
b.alias(p,"[]","call");b.defn(p,"$unbind",e=function(){return b.const_get_relative(y,"UnboundMethod").$new(this.receiver.$class(),this.owner,this.method,this.name)},e.$$arity=0);b.defn(p,"$to_proc",d=function(){var a=this.$call.bind(this);a.$$unbound=this.method;a.$$is_lambda=!0;return a},d.$$arity=0);return(b.defn(p,"$inspect",S=function(){return"#<"+this.$class()+": "+this.receiver.$class()+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},S.$$arity=0),B)&&
"inspect"})(u[0],null,u);return function(p,$super,a){function m(){}p=m=v(p,$super,"UnboundMethod",m);var h=p.$$proto,y=[p].concat(a),l,w,g,c,n,f,e;h.method=h.owner=h.name=h.source=B;p.$attr_reader("source","owner","name");b.defn(p,"$initialize",l=function(a,b,c,e){this.source=a;this.owner=b;this.method=c;return this.name=e},l.$$arity=4);b.defn(p,"$arity",w=function(){return this.method.$arity()},w.$$arity=0);b.defn(p,"$parameters",g=function(){return this.method.$$parameters},g.$$arity=0);b.defn(p,
"$source_location",c=function(){var a;return q(a=this.method.$$source_location)?a:["(eval)",0]},c.$$arity=0);b.defn(p,"$comments",n=function(){var a;return q(a=this.method.$$comments)?a:[]},n.$$arity=0);b.defn(p,"$bind",f=function(a){if(this.owner.$$is_module||b.is_a(a,this.owner))return b.const_get_relative(y,"Method").$new(a,this.owner,this.method,this.name);this.$raise(b.const_get_relative(y,"TypeError"),"can't bind singleton method to a different class (expected "+a+".kind_of?("+this.owner+" to be true)")},
f.$$arity=1);return(b.defn(p,"$inspect",e=function(){return"#<"+this.$class()+": "+this.source+"#"+this.name+" (defined in "+this.owner+" in "+this.$source_location().$join(":")+")>"},e.$$arity=0),B)&&"inspect"}(u[0],null,u)},Opal.modules["corelib/variables"]=function(b){var u=[],B=b.nil,v=b.gvars,q=b.hash2;b.add_stubs(["$new"]);v["&"]=v["~"]=v["`"]=v["'"]=B;v.LOADED_FEATURES=v['"']=b.loaded_features;v.LOAD_PATH=v[":"]=[];v["/"]="\n";v[","]=B;b.const_set(u[0],"ARGV",[]);b.const_set(u[0],"ARGF",b.const_get_relative(u,
"Object").$new());b.const_set(u[0],"ENV",q([],{}));v.VERBOSE=!1;v.DEBUG=!1;return v.SAFE=0},Opal.modules["opal/regexp_anchors"]=function(b){var u=[],B=b.nil,v=b.module;b.add_stubs(["$==","$new"]);u=[v(u[0],"Opal")].concat(u);b.const_set(u[0],"REGEXP_START",b.const_get_relative(u,"RUBY_ENGINE")["$=="]("opal")?"^":B);b.const_set(u[0],"REGEXP_END",b.const_get_relative(u,"RUBY_ENGINE")["$=="]("opal")?"$":B);b.const_set(u[0],"FORBIDDEN_STARTING_IDENTIFIER_CHARS","\\u0001-\\u002F\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(u[0],"FORBIDDEN_ENDING_IDENTIFIER_CHARS","\\u0001-\\u0020\\u0022-\\u002F\\u003A-\\u003E\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");b.const_set(u[0],"INLINE_IDENTIFIER_REGEXP",b.const_get_relative(u,"Regexp").$new("[^"+b.const_get_relative(u,"FORBIDDEN_STARTING_IDENTIFIER_CHARS")+"]*[^"+b.const_get_relative(u,"FORBIDDEN_ENDING_IDENTIFIER_CHARS")+"]"));b.const_set(u[0],"FORBIDDEN_CONST_NAME_CHARS","\\u0001-\\u0020\\u0021-\\u002F\\u003B-\\u003F\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u007F");
b.const_set(u[0],"CONST_NAME_REGEXP",b.const_get_relative(u,"Regexp").$new(""+b.const_get_relative(u,"REGEXP_START")+"(::)?[A-Z][^"+b.const_get_relative(u,"FORBIDDEN_CONST_NAME_CHARS")+"]*"+b.const_get_relative(u,"REGEXP_END")))},Opal.modules["opal/mini"]=function(b){var u=b.top;b.add_stubs(["$require"]);u.$require("opal/base");u.$require("corelib/nil");u.$require("corelib/boolean");u.$require("corelib/string");u.$require("corelib/comparable");u.$require("corelib/enumerable");u.$require("corelib/enumerator");
u.$require("corelib/array");u.$require("corelib/hash");u.$require("corelib/number");u.$require("corelib/range");u.$require("corelib/proc");u.$require("corelib/method");u.$require("corelib/regexp");u.$require("corelib/variables");return u.$require("opal/regexp_anchors")},Opal.modules["corelib/string/inheritance"]=function(b){var u=b.top,B=[],v=b.nil,q=b.klass,p=b.send,D=b.truthy,a=b.gvars;b.add_stubs("$require $new $allocate $initialize $to_proc $__send__ $class $clone $respond_to? $== $inspect $+ $* $map $split $enum_for $each_line $to_a $% $-".split(" "));
u.$require("corelib/string");(function(a,$super,y){function l(){}a=l=q(a,$super,"String",l);var w=[a].concat(y),g;return b.defs(a,"$inherited",g=function(a){var g=v,g=b.const_get_relative(w,"Class").$new(b.const_get_qualified(b.const_get_relative(w,"String"),"Wrapper"));a.$$proto=g.$$proto;a.$$proto.$$class=a;a.$$alloc=g.$$alloc;a.$$parent=b.const_get_qualified(b.const_get_relative(w,"String"),"Wrapper");a.$allocate=g.$allocate;a.$new=g.$new},g.$$arity=1)})(B[0],null,B);return function(m,$super,y){function l(){}
m=l=q(m,$super,"Wrapper",l);var w=m.$$proto;[m].concat(y);var g,c,n,f,e,d,S,t,k,ea,x,u,Q,r,W,A,E,C;w.literal=v;w.$$is_string=!0;b.defs(m,"$allocate",g=function(a){var c=g.$$p,d=v;null==a&&(a="");c&&(g.$$p=null);d=p(this,b.find_super_dispatcher(this,"allocate",g,!1,l),[],null);d.literal=a;return d},g.$$arity=-1);b.defs(m,"$new",c=function(a){var d,e=c.$$p,f=e||v,g=v,g=arguments.length;d=g-0;0>d&&(d=0);d=Array(d);for(var m=0;m<g;m++)d[m-0]=arguments[m];e&&(c.$$p=null);g=this.$allocate();p(g,"initialize",
b.to_a(d),f.$to_proc());return g},c.$$arity=-1);b.defs(m,"$[]",n=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$allocate(b)},n.$$arity=-1);b.defn(m,"$initialize",f=function(a){null==a&&(a="");return this.literal=a},f.$$arity=-1);b.defn(m,"$method_missing",e=function(a){var c,d=e.$$p,f=d||v,g=v,g=arguments.length;c=g-0;0>c&&(c=0);c=Array(c);for(var m=0;m<g;m++)c[m-0]=arguments[m];d&&(e.$$p=null);g=p(this.literal,"__send__",b.to_a(c),
f.$to_proc());return D(null!=g.$$is_string)?D(g==this.literal)?this:this.$class().$allocate(g):g},e.$$arity=-1);b.defn(m,"$initialize_copy",d=function(a){return this.literal=a.literal.$clone()},d.$$arity=1);b.defn(m,"$respond_to?",S=function(a,c){var d,e=S.$$p,f=v,g=v,m=v;e&&(S.$$p=null);g=0;m=arguments.length;for(f=Array(m);g<m;g++)f[g]=arguments[g];return D(d=p(this,b.find_super_dispatcher(this,"respond_to?",S,!1),f,e))?d:this.literal["$respond_to?"](a)},S.$$arity=-2);b.defn(m,"$==",t=function(a){return this.literal["$=="](a)},
t.$$arity=1);b.alias(m,"eql?","==");b.alias(m,"===","==");b.defn(m,"$to_s",k=function(){return this.literal},k.$$arity=0);b.alias(m,"to_str","to_s");b.defn(m,"$inspect",ea=function(){return this.literal.$inspect()},ea.$$arity=0);b.defn(m,"$+",x=function(a){var b=this.literal;return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)},x.$$arity=1);b.defn(m,"$*",u=function(a){var b=this.literal;a="number"===typeof b&&"number"===typeof a?b*a:b["$*"](a);return a.$$is_string?this.$class().$allocate(a):
a},u.$$arity=1);b.defn(m,"$split",Q=function(a,b){var c;return p(this.literal.$split(a,b),"map",[],(c=function(a){var b=c.$$s||this;null==a&&(a=v);return b.$class().$allocate(a)},c.$$s=this,c.$$arity=1,c))},Q.$$arity=-1);b.defn(m,"$replace",r=function(a){return this.literal=a},r.$$arity=1);b.defn(m,"$each_line",W=function(c){var d,e=W.$$p,f=e||v;null==a["/"]&&(a["/"]=v);null==c&&(c=a["/"]);e&&(W.$$p=null);return f===v?this.$enum_for("each_line",c):p(this.literal,"each_line",[c],(d=function(a){var c=
d.$$s||this;null==a&&(a=v);return b.yield1(f,c.$class().$allocate(a))},d.$$s=this,d.$$arity=1,d))},W.$$arity=-1);b.defn(m,"$lines",A=function(b){var c=A.$$p,d=c||v,e=v;null==a["/"]&&(a["/"]=v);null==b&&(b=a["/"]);c&&(A.$$p=null);e=p(this,"each_line",[b],d.$to_proc());return D(d)?this:e.$to_a()},A.$$arity=-1);b.defn(m,"$%",E=function(a){return this.literal["$%"](a)},E.$$arity=1);return(b.defn(m,"$instance_variables",C=function(){var a=C.$$p,c=v,d=v,e=v;a&&(C.$$p=null);d=0;e=arguments.length;for(c=
Array(e);d<e;d++)c[d]=arguments[d];a=p(this,b.find_super_dispatcher(this,"instance_variables",C,!1),c,a);c=["@literal"];return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)},C.$$arity=0),v)&&"instance_variables"}(b.const_get_relative(B,"String"),null,B)},Opal.modules["corelib/string/encoding"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var B,v,q,p,D,a=b.top,m=[],h=b.nil,y=b.klass,l=b.truthy,w=b.send,g=b.hash2;b.add_stubs("$require $+ $[] $new $to_proc $each $const_set $sub $upcase $constants $const_get $=== $== $name $include? $names $raise $attr_accessor $attr_reader $register $length $bytes $to_a $each_byte $bytesize $enum_for $force_encoding $dup $coerce_to! $find $nil? $getbyte".split(" "));
a.$require("corelib/string");(function(a,$super,f){function e(){}a=e=y(a,$super,"Encoding",e);var d=a.$$proto,m=[a].concat(f),t,k,p,x,q,v,r,W,A,E;d.ascii=d.dummy=d.name=h;b.defs(a,"$register",t=function(a,c){var d,e,f=t.$$p,k=f||h,r=h,y=h;null==c&&(c=g([],{}));f&&(t.$$p=null);r=u([a],l(d=c["$[]"]("aliases"))?d:[]);y=w(b.const_get_relative(m,"Class"),"new",[this],k.$to_proc()).$new(a,r,l(d=c["$[]"]("ascii"))?d:!1,l(d=c["$[]"]("dummy"))?d:!1);return w(r,"each",[],(e=function(a){var b=e.$$s||this;null==
a&&(a=h);return b.$const_set(a.$sub("-","_"),y)},e.$$s=this,e.$$arity=1,e))},t.$$arity=-2);b.defs(a,"$find",k=function(a){try{var c,d=h,d=a.$upcase();w((b.Module.$$nesting=m,this.$constants()),"each",[],(c=function(a){var e=c.$$s||this,f,g=h;null==a&&(a=h);g=e.$const_get(a);if(l(b.const_get_relative(m,"Encoding")["$==="](g))&&l(l(f=g.$name()["$=="](d))?f:g.$names()["$include?"](d)))b.ret(g);else return h},c.$$s=this,c.$$arity=1,c));return this.$raise(b.const_get_relative(m,"ArgumentError"),"unknown encoding name - "+
a)}catch(e){if(e===b.returner)return e.$v;throw e;}},k.$$arity=1);(function(a,b){[a].concat(b);return a.$attr_accessor("default_external")})(b.get_singleton_class(a),m);a.$attr_reader("name","names");b.defn(a,"$initialize",p=function(a,b,c,d){this.name=a;this.names=b;this.ascii=c;return this.dummy=d},p.$$arity=4);b.defn(a,"$ascii_compatible?",x=function(){return this.ascii},x.$$arity=0);b.defn(a,"$dummy?",q=function(){return this.dummy},q.$$arity=0);b.defn(a,"$to_s",v=function(){return this.name},
v.$$arity=0);b.defn(a,"$inspect",r=function(){return"#<Encoding:"+this.name+(l(this.dummy)?" (dummy)":h)+">"},r.$$arity=0);b.defn(a,"$each_byte",W=function(a){return this.$raise(b.const_get_relative(m,"NotImplementedError"))},W.$$arity=-1);b.defn(a,"$getbyte",A=function(a){return this.$raise(b.const_get_relative(m,"NotImplementedError"))},A.$$arity=-1);b.defn(a,"$bytesize",E=function(a){return this.$raise(b.const_get_relative(m,"NotImplementedError"))},E.$$arity=-1);(function(a,$super,b){function c(){}
[c=y(a,$super,"EncodingError",c)].concat(b);return h})(m[0],b.const_get_relative(m,"StandardError"),m);return function(a,$super,b){function c(){}[c=y(a,$super,"CompatibilityError",c)].concat(b);return h}(m[0],b.const_get_relative(m,"EncodingError"),m)})(m[0],null,m);w(b.const_get_relative(m,"Encoding"),"register",["UTF-8",g(["aliases","ascii"],{aliases:["CP65001"],ascii:!0})],(B=function(){var a=B.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var c=g.$$p,f=c||h;c&&(g.$$p=null);for(var c=0,m=a.length;c<
m;c++){var k=a.charCodeAt(c);if(127>=k)b.yield1(f,k);else for(var k=encodeURIComponent(a.charAt(c)).substr(1).split("%"),l=0,w=k.length;l<w;l++)b.yield1(f,parseInt(k[l],16))}},g.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),h)&&"bytesize"},B.$$s=a,B.$$arity=0,B));w(b.const_get_relative(m,"Encoding"),"register",["UTF-16LE"],(v=function(){var a=v.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var c=g.$$p,f=c||h;c&&(g.$$p=null);for(var c=0,m=a.length;c<
m;c++){var k=a.charCodeAt(c);b.yield1(f,k&255);b.yield1(f,k>>8)}},g.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),h)&&"bytesize"},v.$$s=a,v.$$arity=0,v));w(b.const_get_relative(m,"Encoding"),"register",["UTF-16BE"],(q=function(){var a=q.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var c=g.$$p,f=c||h;c&&(g.$$p=null);for(var c=0,m=a.length;c<m;c++){var k=a.charCodeAt(c);b.yield1(f,k>>8);b.yield1(f,k&255)}},g.$$arity=1);return(b.def(a,"$bytesize",f=
function(a){return a.$bytes().$length()},f.$$arity=1),h)&&"bytesize"},q.$$s=a,q.$$arity=0,q));w(b.const_get_relative(m,"Encoding"),"register",["UTF-32LE"],(p=function(){var a=p.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var c=g.$$p,f=c||h;c&&(g.$$p=null);for(var c=0,m=a.length;c<m;c++){var k=a.charCodeAt(c);b.yield1(f,k&255);b.yield1(f,k>>8)}},g.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),h)&&"bytesize"},p.$$s=a,p.$$arity=0,p));w(b.const_get_relative(m,
"Encoding"),"register",["ASCII-8BIT",g(["aliases","ascii"],{aliases:["BINARY"],ascii:!0})],(D=function(){var a=D.$$s||this,g,f;b.def(a,"$each_byte",g=function(a){var c=g.$$p,f=c||h;c&&(g.$$p=null);for(var c=0,m=a.length;c<m;c++)b.yield1(f,a.charCodeAt(c)&255)},g.$$arity=1);return(b.def(a,"$bytesize",f=function(a){return a.$bytes().$length()},f.$$arity=1),h)&&"bytesize"},D.$$s=a,D.$$arity=0,D));return function(a,$super,f){function e(){}a=e=y(a,$super,"String",e);var d=a.$$proto,g=[a].concat(f),m,k,
p,x,q,u,r,W;d.encoding=h;String.prototype.encoding=b.const_get_qualified(b.const_get_relative(g,"Encoding"),"UTF_16LE");b.defn(a,"$bytes",m=function(){return this.$each_byte().$to_a()},m.$$arity=0);b.defn(a,"$bytesize",k=function(){return this.encoding.$bytesize(this)},k.$$arity=0);b.defn(a,"$each_byte",p=function(){var a=p.$$p,b=a||h;a&&(p.$$p=null);if(b===h)return this.$enum_for("each_byte");w(this.encoding,"each_byte",[this],b.$to_proc());return this},p.$$arity=0);b.defn(a,"$encode",x=function(a){return this.$dup().$force_encoding(a)},
x.$$arity=1);b.defn(a,"$encoding",q=function(){return this.encoding},q.$$arity=0);b.defn(a,"$force_encoding",u=function(a){if(a===this.encoding)return this;a=b.const_get_relative(g,"Opal")["$coerce_to!"](a,b.const_get_relative(g,"String"),"to_s");a=b.const_get_relative(g,"Encoding").$find(a);if(a["$=="](this.encoding))return this;l(a["$nil?"]())&&this.$raise(b.const_get_relative(g,"ArgumentError"),"unknown encoding name - "+a);var c=new String(this);c.encoding=a;return c},u.$$arity=1);b.defn(a,"$getbyte",
r=function(a){return this.encoding.$getbyte(this,a)},r.$$arity=1);return(b.defn(a,"$valid_encoding?",W=function(){return!0},W.$$arity=0),h)&&"valid_encoding?"}(m[0],null,m)},Opal.modules["corelib/math"]=function(b){var u=[],B=b.module,v=b.truthy;b.add_stubs("$new $raise $Float $type_error $Integer $module_function $checked $float! $=== $gamma $- $integer! $/ $infinite?".split(" "));return function(q,p){var u=B(q,"Math"),a=[u].concat(p),m,h,y,l,w,g,c,n,f,e,d,S,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V;b.const_set(a[0],
"E",Math.E);b.const_set(a[0],"PI",Math.PI);b.const_set(a[0],"DomainError",b.const_get_relative(a,"Class").$new(b.const_get_relative(a,"StandardError")));b.defs(u,"$checked",m=function(c,d){var e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var g=1;g<f;g++)e[g-1]=arguments[g];if(isNaN(e[0])||2==e.length&&isNaN(e[1]))return NaN;f=Math[c].apply(null,e);isNaN(f)&&this.$raise(b.const_get_relative(a,"DomainError"),'Numerical argument is out of domain - "'+c+'"');return f},m.$$arity=-2);b.defs(u,"$float!",
h=function(c){try{return this.$Float(c)}catch(d){if(b.rescue(d,[b.const_get_relative(a,"ArgumentError")]))try{return this.$raise(b.const_get_relative(a,"Opal").$type_error(c,b.const_get_relative(a,"Float")))}finally{b.pop_exception()}else throw d;}},h.$$arity=1);b.defs(u,"$integer!",y=function(c){try{return this.$Integer(c)}catch(d){if(b.rescue(d,[b.const_get_relative(a,"ArgumentError")]))try{return this.$raise(b.const_get_relative(a,"Opal").$type_error(c,b.const_get_relative(a,"Integer")))}finally{b.pop_exception()}else throw d;
}},y.$$arity=1);u.$module_function();b.defn(u,"$acos",l=function(c){return b.const_get_relative(a,"Math").$checked("acos",b.const_get_relative(a,"Math")["$float!"](c))},l.$$arity=1);v("undefined"!==typeof Math.acosh)||(Math.acosh=function(a){return Math.log(a+Math.sqrt(a*a-1))});b.defn(u,"$acosh",w=function(c){return b.const_get_relative(a,"Math").$checked("acosh",b.const_get_relative(a,"Math")["$float!"](c))},w.$$arity=1);b.defn(u,"$asin",g=function(c){return b.const_get_relative(a,"Math").$checked("asin",
b.const_get_relative(a,"Math")["$float!"](c))},g.$$arity=1);v("undefined"!==typeof Math.asinh)||(Math.asinh=function(a){return Math.log(a+Math.sqrt(a*a+1))});b.defn(u,"$asinh",c=function(c){return b.const_get_relative(a,"Math").$checked("asinh",b.const_get_relative(a,"Math")["$float!"](c))},c.$$arity=1);b.defn(u,"$atan",n=function(c){return b.const_get_relative(a,"Math").$checked("atan",b.const_get_relative(a,"Math")["$float!"](c))},n.$$arity=1);b.defn(u,"$atan2",f=function(c,d){return b.const_get_relative(a,
"Math").$checked("atan2",b.const_get_relative(a,"Math")["$float!"](c),b.const_get_relative(a,"Math")["$float!"](d))},f.$$arity=2);v("undefined"!==typeof Math.atanh)||(Math.atanh=function(a){return.5*Math.log((1+a)/(1-a))});b.defn(u,"$atanh",e=function(c){return b.const_get_relative(a,"Math").$checked("atanh",b.const_get_relative(a,"Math")["$float!"](c))},e.$$arity=1);v("undefined"!==typeof Math.cbrt)||(Math.cbrt=function(a){if(0==a)return 0;if(0>a)return-Math.cbrt(-a);for(var b=a,c=0;.125>b;)b*=8,
c--;for(;1<b;)b*=.125,c++;for(b=(-.46946116*b+1.072302)*b+.3812513;0>c;)b*=.5,c++;for(;0<c;)b*=2,c--;b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);b=2/3*b+1/3*a/(b*b);return 2/3*b+1/3*a/(b*b)});b.defn(u,"$cbrt",d=function(c){return b.const_get_relative(a,"Math").$checked("cbrt",b.const_get_relative(a,"Math")["$float!"](c))},d.$$arity=1);b.defn(u,"$cos",S=function(c){return b.const_get_relative(a,"Math").$checked("cos",b.const_get_relative(a,"Math")["$float!"](c))},S.$$arity=1);v("undefined"!==typeof Math.cosh)||
(Math.cosh=function(a){return(Math.exp(a)+Math.exp(-a))/2});b.defn(u,"$cosh",t=function(c){return b.const_get_relative(a,"Math").$checked("cosh",b.const_get_relative(a,"Math")["$float!"](c))},t.$$arity=1);v("undefined"!==typeof Math.erf)||(Math.erf=function(a){var b=1;0>a&&(b=-1);a=Math.abs(a);var c=1/(1+.3275911*a);return b*(1-((((1.061405429*c+-1.453152027)*c+1.421413741)*c+-.284496736)*c+.254829592)*c*Math.exp(-a*a))});b.defn(u,"$erf",k=function(c){return b.const_get_relative(a,"Math").$checked("erf",
b.const_get_relative(a,"Math")["$float!"](c))},k.$$arity=1);v("undefined"!==typeof Math.erfc)||(Math.erfc=function(a){var b=Math.abs(a),c=1/(.5*b+1),b=c*Math.exp(-b*b-1.26551223+c*(c*(c*(c*(c*(c*(c*(c*(.17087277*c+-.82215223)+1.48851587)+-1.13520398)+.27886807)+-.18628806)+.09678418)+.37409196)+1.00002368));return 0>a?2-b:b});b.defn(u,"$erfc",ea=function(c){return b.const_get_relative(a,"Math").$checked("erfc",b.const_get_relative(a,"Math")["$float!"](c))},ea.$$arity=1);b.defn(u,"$exp",x=function(c){return b.const_get_relative(a,
"Math").$checked("exp",b.const_get_relative(a,"Math")["$float!"](c))},x.$$arity=1);b.defn(u,"$frexp",da=function(c){c=b.const_get_relative(a,"Math")["$float!"](c);if(isNaN(c))return[NaN,0];var d=Math.floor(Math.log(Math.abs(c))/Math.log(2))+1;return[c/Math.pow(2,d),d]},da.$$arity=1);b.defn(u,"$gamma",Q=function(c){c=b.const_get_relative(a,"Math")["$float!"](c);var d,e,f,g;f=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3.399464998481189E-5,4.652362892704858E-5,
-9.837447530487956E-5,1.580887032249125E-4,-2.1026444172410488E-4,2.1743961811521265E-4,-1.643181065367639E-4,8.441822398385275E-5,-2.6190838401581408E-5,3.6899182659531625E-6];if(isNaN(c))return NaN;if(0===c&&0>1/c)return-Infinity;-1!==c&&-Infinity!==c||this.$raise(b.const_get_relative(a,"DomainError"),'Numerical argument is out of domain - "gamma"');if(b.const_get_relative(a,"Integer")["$==="](c)){if(0>=c)return isFinite(c)?Infinity:NaN;if(171<c)return Infinity;e=c-2;for(--c;1<e;)c*=e,e--;0==c&&
(c=1);return c}if(.5>c)return Math.PI/(Math.sin(Math.PI*c)*b.const_get_relative(a,"Math").$gamma("number"===typeof c?1-c:1["$-"](c)));if(171.35<=c)return Infinity;if(85<c)return e=c*c,d=e*c,f=d*c,g=f*c,Math.sqrt(2*Math.PI/c)*Math.pow(c/Math.E,c)*(1+1/(12*c)+1/(288*e)-139/(51840*d)-571/(2488320*f)+163879/(209018880*g)+5246819/(75246796800*g*c));--c;e=f[0];for(d=1;d<f.length;++d)e+=f[d]/(c+d);d=c+4.7421875+.5;return Math.sqrt(2*Math.PI)*Math.pow(d,c+.5)*Math.exp(-d)*e},Q.$$arity=1);v("undefined"!==
typeof Math.hypot)||(Math.hypot=function(a,b){return Math.sqrt(a*a+b*b)});b.defn(u,"$hypot",r=function(c,d){return b.const_get_relative(a,"Math").$checked("hypot",b.const_get_relative(a,"Math")["$float!"](c),b.const_get_relative(a,"Math")["$float!"](d))},r.$$arity=2);b.defn(u,"$ldexp",W=function(c,d){c=b.const_get_relative(a,"Math")["$float!"](c);d=b.const_get_relative(a,"Math")["$integer!"](d);isNaN(d)&&this.$raise(b.const_get_relative(a,"RangeError"),"float NaN out of range of integer");return c*
Math.pow(2,d)},W.$$arity=2);b.defn(u,"$lgamma",A=function(c){return-1==c?[Infinity,1]:[Math.log(Math.abs(b.const_get_relative(a,"Math").$gamma(c))),0>b.const_get_relative(a,"Math").$gamma(c)?-1:1]},A.$$arity=1);b.defn(u,"$log",E=function(c,d){v(b.const_get_relative(a,"String")["$==="](c))&&this.$raise(b.const_get_relative(a,"Opal").$type_error(c,b.const_get_relative(a,"Float")));if(v(null==d))return b.const_get_relative(a,"Math").$checked("log",b.const_get_relative(a,"Math")["$float!"](c));v(b.const_get_relative(a,
"String")["$==="](d))&&this.$raise(b.const_get_relative(a,"Opal").$type_error(d,b.const_get_relative(a,"Float")));var e=b.const_get_relative(a,"Math").$checked("log",b.const_get_relative(a,"Math")["$float!"](c)),f=b.const_get_relative(a,"Math").$checked("log",b.const_get_relative(a,"Math")["$float!"](d));return"number"===typeof e&&"number"===typeof f?e/f:e["$/"](f)},E.$$arity=-2);v("undefined"!==typeof Math.log10)||(Math.log10=function(a){return Math.log(a)/Math.LN10});b.defn(u,"$log10",C=function(c){v(b.const_get_relative(a,
"String")["$==="](c))&&this.$raise(b.const_get_relative(a,"Opal").$type_error(c,b.const_get_relative(a,"Float")));return b.const_get_relative(a,"Math").$checked("log10",b.const_get_relative(a,"Math")["$float!"](c))},C.$$arity=1);v("undefined"!==typeof Math.log2)||(Math.log2=function(a){return Math.log(a)/Math.LN2});b.defn(u,"$log2",R=function(c){v(b.const_get_relative(a,"String")["$==="](c))&&this.$raise(b.const_get_relative(a,"Opal").$type_error(c,b.const_get_relative(a,"Float")));return b.const_get_relative(a,
"Math").$checked("log2",b.const_get_relative(a,"Math")["$float!"](c))},R.$$arity=1);b.defn(u,"$sin",N=function(c){return b.const_get_relative(a,"Math").$checked("sin",b.const_get_relative(a,"Math")["$float!"](c))},N.$$arity=1);v("undefined"!==typeof Math.sinh)||(Math.sinh=function(a){return(Math.exp(a)-Math.exp(-a))/2});b.defn(u,"$sinh",X=function(c){return b.const_get_relative(a,"Math").$checked("sinh",b.const_get_relative(a,"Math")["$float!"](c))},X.$$arity=1);b.defn(u,"$sqrt",P=function(c){return b.const_get_relative(a,
"Math").$checked("sqrt",b.const_get_relative(a,"Math")["$float!"](c))},P.$$arity=1);b.defn(u,"$tan",Z=function(c){c=b.const_get_relative(a,"Math")["$float!"](c);return v(c["$infinite?"]())?b.const_get_qualified(b.const_get_relative(a,"Float"),"NAN"):b.const_get_relative(a,"Math").$checked("tan",b.const_get_relative(a,"Math")["$float!"](c))},Z.$$arity=1);v("undefined"!==typeof Math.tanh)||(Math.tanh=function(a){return Infinity==a?1:-Infinity==a?-1:(Math.exp(a)-Math.exp(-a))/(Math.exp(a)+Math.exp(-a))});
b.defn(u,"$tanh",V=function(c){return b.const_get_relative(a,"Math").$checked("tanh",b.const_get_relative(a,"Math")["$float!"](c))},V.$$arity=1)}(u[0],u)},Opal.modules["corelib/complex"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}
var p=b.top,D=[],a=b.nil,m=b.klass,h=b.truthy,y=b.module;b.add_stubs("$require $=== $real? $raise $new $* $cos $sin $attr_reader $class $== $real $imag $Complex $-@ $+ $__coerced__ $- $nan? $/ $conj $abs2 $quo $polar $exp $log $> $!= $divmod $** $hypot $atan2 $lcm $denominator $to_s $numerator $abs $arg $rationalize $to_f $to_i $to_r $inspect $positive? $zero? $infinite?".split(" "));p.$require("corelib/numeric");(function(l,$super,g){function c(){}l=c=m(l,$super,"Complex",c);var n=l.$$proto,f=[l].concat(g),
e,d,y,t,k,p,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,aa,U,sa;n.real=n.imag=a;b.defs(l,"$rect",e=function(a,c){var d,e,g;null==c&&(c=0);h(h(d=h(e=h(g=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():g)?b.const_get_relative(f,"Numeric")["$==="](c):e)?c["$real?"]():d)||this.$raise(b.const_get_relative(f,"TypeError"),"not a real");return this.$new(a,c)},e.$$arity=-2);(function(a,c){[a].concat(c);return b.alias(a,"rectangular","rect")})(b.get_singleton_class(l),f);b.defs(l,"$polar",d=function(a,
c){var d,e,g;null==c&&(c=0);h(h(d=h(e=h(g=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():g)?b.const_get_relative(f,"Numeric")["$==="](c):e)?c["$real?"]():d)||this.$raise(b.const_get_relative(f,"TypeError"),"not a real");return this.$new(u(a,b.const_get_relative(f,"Math").$cos(c)),u(a,b.const_get_relative(f,"Math").$sin(c)))},d.$$arity=-2);l.$attr_reader("real","imag");b.defn(l,"$initialize",y=function(a,c){null==c&&(c=0);this.real=a;return this.imag=c},y.$$arity=-2);b.defn(l,"$coerce",
t=function(a){var c;return h(b.const_get_relative(f,"Complex")["$==="](a))?[a,this]:h(h(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?[b.const_get_relative(f,"Complex").$new(a,0),this]:this.$raise(b.const_get_relative(f,"TypeError"),""+a.$class()+" can't be coerced into Complex")},t.$$arity=1);b.defn(l,"$==",k=function(a){var c;return h(b.const_get_relative(f,"Complex")["$==="](a))?this.real["$=="](a.$real())?this.imag["$=="](a.$imag()):this.real["$=="](a.$real()):h(h(c=b.const_get_relative(f,
"Numeric")["$==="](a))?a["$real?"]():c)?this.real["$=="](a)?this.imag["$=="](0):this.real["$=="](a):a["$=="](this)},k.$$arity=1);b.defn(l,"$-@",p=function(){return this.$Complex(this.real["$-@"](),this.imag["$-@"]())},p.$$arity=0);b.defn(l,"$+",x=function(a){var c;return h(b.const_get_relative(f,"Complex")["$==="](a))?this.$Complex(B(this.real,a.$real()),B(this.imag,a.$imag())):h(h(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(B(this.real,a),this.imag):this.$__coerced__("+",
a)},x.$$arity=1);b.defn(l,"$-",da=function(a){var c;return h(b.const_get_relative(f,"Complex")["$==="](a))?this.$Complex(v(this.real,a.$real()),v(this.imag,a.$imag())):h(h(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(v(this.real,a),this.imag):this.$__coerced__("-",a)},da.$$arity=1);b.defn(l,"$*",Q=function(a){var c;return h(b.const_get_relative(f,"Complex")["$==="](a))?this.$Complex(v(u(this.real,a.$real()),u(this.imag,a.$imag())),B(u(this.real,a.$imag()),u(this.imag,
a.$real()))):h(h(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(u(this.real,a),u(this.imag,a)):this.$__coerced__("*",a)},Q.$$arity=1);b.defn(l,"$/",r=function(a){var c,d,e,g;return h(b.const_get_relative(f,"Complex")["$==="](a))?h(h(c=h(d=h(e=h(g=b.const_get_relative(f,"Number")["$==="](this.real))?this.real["$nan?"]():g)?e:h(g=b.const_get_relative(f,"Number")["$==="](this.imag))?this.imag["$nan?"]():g)?d:h(e=b.const_get_relative(f,"Number")["$==="](a.$real()))?a.$real()["$nan?"]():
e)?c:h(d=b.const_get_relative(f,"Number")["$==="](a.$imag()))?a.$imag()["$nan?"]():d)?b.const_get_relative(f,"Complex").$new(b.const_get_qualified(b.const_get_relative(f,"Float"),"NAN"),b.const_get_qualified(b.const_get_relative(f,"Float"),"NAN")):q(u(this,a.$conj()),a.$abs2()):h(h(c=b.const_get_relative(f,"Numeric")["$==="](a))?a["$real?"]():c)?this.$Complex(this.real.$quo(a),this.imag.$quo(a)):this.$__coerced__("/",a)},r.$$arity=1);b.defn(l,"$**",W=function(c){var d,e,g,m=a,k=a,l=a,r=a,n=a,r=l=
n=k=m=m=a;if(c["$=="](0))return b.const_get_relative(f,"Complex").$new(1,0);if(h(b.const_get_relative(f,"Complex")["$==="](c)))return e=this.$polar(),d=b.to_ary(e),m=null==d[0]?a:d[0],k=null==d[1]?a:d[1],e,l=c.$real(),r=c.$imag(),n=b.const_get_relative(f,"Math").$exp(v(u(l,b.const_get_relative(f,"Math").$log(m)),u(r,k))),m=B(u(k,l),u(r,b.const_get_relative(f,"Math").$log(m))),b.const_get_relative(f,"Complex").$polar(n,m);if(h(b.const_get_relative(f,"Integer")["$==="](c))){if(h("number"===typeof c?
0<c:c["$>"](0))){k=m=this;for(n=v(c,1);h(n["$!="](0));){for(;h((g=n.$divmod(2),e=b.to_ary(g),l=null==e[0]?a:e[0],r=null==e[1]?a:e[1],g,r["$=="](0)));)m=this.$Complex(v(u(m.$real(),m.$real()),u(m.$imag(),m.$imag())),u(u(2,m.$real()),m.$imag())),n=l;k=u(k,m);n=v(n,1)}return k}return q(b.const_get_relative(f,"Rational").$new(1,1),this)["$**"](c["$-@"]())}return h(h(d=b.const_get_relative(f,"Float")["$==="](c))?d:b.const_get_relative(f,"Rational")["$==="](c))?(e=this.$polar(),d=b.to_ary(e),m=null==d[0]?
a:d[0],k=null==d[1]?a:d[1],e,b.const_get_relative(f,"Complex").$polar(m["$**"](c),u(k,c))):this.$__coerced__("**",c)},W.$$arity=1);b.defn(l,"$abs",A=function(){return b.const_get_relative(f,"Math").$hypot(this.real,this.imag)},A.$$arity=0);b.defn(l,"$abs2",E=function(){return B(u(this.real,this.real),u(this.imag,this.imag))},E.$$arity=0);b.defn(l,"$angle",C=function(){return b.const_get_relative(f,"Math").$atan2(this.imag,this.real)},C.$$arity=0);b.alias(l,"arg","angle");b.defn(l,"$conj",R=function(){return this.$Complex(this.real,
this.imag["$-@"]())},R.$$arity=0);b.alias(l,"conjugate","conj");b.defn(l,"$denominator",N=function(){return this.real.$denominator().$lcm(this.imag.$denominator())},N.$$arity=0);b.alias(l,"divide","/");b.defn(l,"$eql?",X=function(a){var c,d;return h(c=h(d=b.const_get_relative(f,"Complex")["$==="](a))?this.real.$class()["$=="](this.imag.$class()):d)?this["$=="](a):c},X.$$arity=1);b.defn(l,"$fdiv",P=function(a){h(b.const_get_relative(f,"Numeric")["$==="](a))||this.$raise(b.const_get_relative(f,"TypeError"),
""+a.$class()+" can't be coerced into Complex");return q(this,a)},P.$$arity=1);b.defn(l,"$hash",Z=function(){return"Complex:"+this.real+":"+this.imag},Z.$$arity=0);b.alias(l,"imaginary","imag");b.defn(l,"$inspect",V=function(){return"("+this.$to_s()+")"},V.$$arity=0);b.alias(l,"magnitude","abs");b.udef(l,"$negative?");b.defn(l,"$numerator",K=function(){var c=a,c=this.$denominator();return this.$Complex(u(this.real.$numerator(),q(c,this.real.$denominator())),u(this.imag.$numerator(),q(c,this.imag.$denominator())))},
K.$$arity=0);b.alias(l,"phase","arg");b.defn(l,"$polar",G=function(){return[this.$abs(),this.$arg()]},G.$$arity=0);b.udef(l,"$positive?");b.alias(l,"quo","/");b.defn(l,"$rationalize",T=function(a){1<arguments.length&&this.$raise(b.const_get_relative(f,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");h(this.imag["$!="](0))&&this.$raise(b.const_get_relative(f,"RangeError"),"can't' convert "+this+" into Rational");return this.$real().$rationalize(a)},T.$$arity=-1);b.defn(l,
"$real?",ba=function(){return!1},ba.$$arity=0);b.defn(l,"$rect",pa=function(){return[this.real,this.imag]},pa.$$arity=0);b.alias(l,"rectangular","rect");b.defn(l,"$to_f",L=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(f,"RangeError"),"can't convert "+this+" into Float");return this.real.$to_f()},L.$$arity=0);b.defn(l,"$to_i",aa=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(f,"RangeError"),"can't convert "+this+" into Integer");return this.real.$to_i()},aa.$$arity=
0);b.defn(l,"$to_r",U=function(){this.imag["$=="](0)||this.$raise(b.const_get_relative(f,"RangeError"),"can't convert "+this+" into Rational");return this.real.$to_r()},U.$$arity=0);b.defn(l,"$to_s",sa=function(){var c,d,e,g=a,g=this.real.$inspect(),g=h(h(c=h(d=h(e=b.const_get_relative(f,"Number")["$==="](this.imag))?this.imag["$nan?"]():e)?d:this.imag["$positive?"]())?c:this.imag["$zero?"]())?B(g,"+"):B(g,"-"),g=B(g,this.imag.$abs().$inspect());h(h(c=b.const_get_relative(f,"Number")["$==="](this.imag))?
h(d=this.imag["$nan?"]())?d:this.imag["$infinite?"]():c)&&(g=B(g,"*"));return B(g,"i")},sa.$$arity=0);return b.const_set(f[0],"I",l.$new(0,1))})(D[0],b.const_get_relative(D,"Numeric"),D);return function(m,w){var g=y(m,"Kernel"),c=[g].concat(w),n;b.defn(g,"$Complex",n=function(f,e){null==e&&(e=a);return h(e)?b.const_get_relative(c,"Complex").$new(f,e):b.const_get_relative(c,"Complex").$new(f,0)},n.$$arity=-2)}(D[0],D)},Opal.modules["corelib/rational"]=function(b){function u(a,b){return"number"===typeof a&&
"number"===typeof b?a<b:a["$<"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var D=b.top,a=[],m=b.nil,h=b.klass,y=b.truthy,l=b.module;b.add_stubs("$require $to_i $== $raise $< $-@ $new $gcd $/ $nil? $=== $reduce $to_r $equal? $! $coerce_to! $attr_reader $to_f $numerator $denominator $<=> $- $* $__coerced__ $+ $Rational $> $** $abs $ceil $with_precision $floor $to_s $<= $truncate $send $convert".split(" "));
D.$require("corelib/numeric");(function(a,$super,c){function l(){}a=l=h(a,$super,"Rational",l);var f=a.$$proto,e=[a].concat(c),d,S,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,aa;f.num=f.den=m;b.defs(a,"$reduce",d=function(a,c){var d=m;a=a.$to_i();c=c.$to_i();if(c["$=="](0))this.$raise(b.const_get_relative(e,"ZeroDivisionError"),"divided by 0");else if(y(u(c,0)))a=a["$-@"](),c=c["$-@"]();else if(c["$=="](1))return this.$new(a,c);d=a.$gcd(c);return this.$new(B(a,d),B(c,d))},d.$$arity=2);b.defs(a,
"$convert",S=function(a,c){var d,f;y(y(d=a["$nil?"]())?d:c["$nil?"]())&&this.$raise(b.const_get_relative(e,"TypeError"),"cannot convert nil into Rational");if(y(y(d=b.const_get_relative(e,"Integer")["$==="](a))?b.const_get_relative(e,"Integer")["$==="](c):d))return this.$reduce(a,c);y(y(d=y(f=b.const_get_relative(e,"Float")["$==="](a))?f:b.const_get_relative(e,"String")["$==="](a))?d:b.const_get_relative(e,"Complex")["$==="](a))&&(a=a.$to_r());y(y(d=y(f=b.const_get_relative(e,"Float")["$==="](c))?
f:b.const_get_relative(e,"String")["$==="](c))?d:b.const_get_relative(e,"Complex")["$==="](c))&&(c=c.$to_r());return y(y(d=c["$equal?"](1))?b.const_get_relative(e,"Integer")["$==="](a)["$!"]():d)?b.const_get_relative(e,"Opal")["$coerce_to!"](a,b.const_get_relative(e,"Rational"),"to_r"):y(y(d=b.const_get_relative(e,"Numeric")["$==="](a))?b.const_get_relative(e,"Numeric")["$==="](c):d)?B(a,c):this.$reduce(a,c)},S.$$arity=2);a.$attr_reader("numerator","denominator");b.defn(a,"$initialize",t=function(a,
c){this.num=a;return this.den=c},t.$$arity=2);b.defn(a,"$numerator",k=function(){return this.num},k.$$arity=0);b.defn(a,"$denominator",ea=function(){return this.den},ea.$$arity=0);b.defn(a,"$coerce",x=function(a){var c=m,c=a;return b.const_get_relative(e,"Rational")["$==="](c)?[a,this]:b.const_get_relative(e,"Integer")["$==="](c)?[a.$to_r(),this]:b.const_get_relative(e,"Float")["$==="](c)?[a,this.$to_f()]:m},x.$$arity=1);b.defn(a,"$==",da=function(a){var c=m,c=a;return b.const_get_relative(e,"Rational")["$==="](c)?
this.num["$=="](a.$numerator())?this.den["$=="](a.$denominator()):this.num["$=="](a.$numerator()):b.const_get_relative(e,"Integer")["$==="](c)?this.num["$=="](a)?this.den["$=="](1):this.num["$=="](a):b.const_get_relative(e,"Float")["$==="](c)?this.$to_f()["$=="](a):a["$=="](this)},da.$$arity=1);b.defn(a,"$<=>",Q=function(a){var c=m,c=a;return b.const_get_relative(e,"Rational")["$==="](c)?v(q(this.num,a.$denominator()),q(this.den,a.$numerator()))["$<=>"](0):b.const_get_relative(e,"Integer")["$==="](c)?
v(this.num,q(this.den,a))["$<=>"](0):b.const_get_relative(e,"Float")["$==="](c)?this.$to_f()["$<=>"](a):this.$__coerced__("<=>",a)},Q.$$arity=1);b.defn(a,"$+",r=function(a){var c=m,d=c=m;c=a;b.const_get_relative(e,"Rational")["$==="](c)?(c=p(q(this.num,a.$denominator()),q(this.den,a.$numerator())),d=q(this.den,a.$denominator()),a=this.$Rational(c,d)):a=b.const_get_relative(e,"Integer")["$==="](c)?this.$Rational(p(this.num,q(a,this.den)),this.den):b.const_get_relative(e,"Float")["$==="](c)?p(this.$to_f(),
a):this.$__coerced__("+",a);return a},r.$$arity=1);b.defn(a,"$-",W=function(a){var c=m,d=c=m;c=a;b.const_get_relative(e,"Rational")["$==="](c)?(c=v(q(this.num,a.$denominator()),q(this.den,a.$numerator())),d=q(this.den,a.$denominator()),a=this.$Rational(c,d)):a=b.const_get_relative(e,"Integer")["$==="](c)?this.$Rational(v(this.num,q(a,this.den)),this.den):b.const_get_relative(e,"Float")["$==="](c)?v(this.$to_f(),a):this.$__coerced__("-",a);return a},W.$$arity=1);b.defn(a,"$*",A=function(a){var c=m,
d=c=m;c=a;b.const_get_relative(e,"Rational")["$==="](c)?(c=q(this.num,a.$numerator()),d=q(this.den,a.$denominator()),a=this.$Rational(c,d)):a=b.const_get_relative(e,"Integer")["$==="](c)?this.$Rational(q(this.num,a),this.den):b.const_get_relative(e,"Float")["$==="](c)?q(this.$to_f(),a):this.$__coerced__("*",a);return a},A.$$arity=1);b.defn(a,"$/",E=function(a){var c=m,d=c=m;c=a;b.const_get_relative(e,"Rational")["$==="](c)?(c=q(this.num,a.$denominator()),d=q(this.den,a.$numerator()),a=this.$Rational(c,
d)):a=b.const_get_relative(e,"Integer")["$==="](c)?a["$=="](0)?B(this.$to_f(),0):this.$Rational(this.num,q(this.den,a)):b.const_get_relative(e,"Float")["$==="](c)?B(this.$to_f(),a):this.$__coerced__("/",a);return a},E.$$arity=1);b.defn(a,"$**",C=function(a){var c=m,c=a;return b.const_get_relative(e,"Integer")["$==="](c)?y(this["$=="](0)?u(a,0):this["$=="](0))?b.const_get_qualified(b.const_get_relative(e,"Float"),"INFINITY"):y("number"===typeof a?0<a:a["$>"](0))?this.$Rational(this.num["$**"](a),this.den["$**"](a)):
y(u(a,0))?this.$Rational(this.den["$**"](a["$-@"]()),this.num["$**"](a["$-@"]())):this.$Rational(1,1):b.const_get_relative(e,"Float")["$==="](c)?this.$to_f()["$**"](a):b.const_get_relative(e,"Rational")["$==="](c)?a["$=="](0)?this.$Rational(1,1):a.$denominator()["$=="](1)?y(u(a,0))?this.$Rational(this.den["$**"](a.$numerator().$abs()),this.num["$**"](a.$numerator().$abs())):this.$Rational(this.num["$**"](a.$numerator()),this.den["$**"](a.$numerator())):y(this["$=="](0)?u(a,0):this["$=="](0))?this.$raise(b.const_get_relative(e,
"ZeroDivisionError"),"divided by 0"):this.$to_f()["$**"](a):this.$__coerced__("**",a)},C.$$arity=1);b.defn(a,"$abs",R=function(){return this.$Rational(this.num.$abs(),this.den.$abs())},R.$$arity=0);b.defn(a,"$ceil",N=function(a){null==a&&(a=0);return a["$=="](0)?B(this.num["$-@"](),this.den)["$-@"]().$ceil():this.$with_precision("ceil",a)},N.$$arity=-1);b.alias(a,"divide","/");b.defn(a,"$floor",X=function(a){null==a&&(a=0);return a["$=="](0)?B(this.num["$-@"](),this.den)["$-@"]().$floor():this.$with_precision("floor",
a)},X.$$arity=-1);b.defn(a,"$hash",P=function(){return"Rational:"+this.num+":"+this.den},P.$$arity=0);b.defn(a,"$inspect",Z=function(){return"("+this.$to_s()+")"},Z.$$arity=0);b.alias(a,"quo","/");b.defn(a,"$rationalize",V=function(a){1<arguments.length&&this.$raise(b.const_get_relative(e,"ArgumentError"),"wrong number of arguments ("+arguments.length+" for 0..1)");if(null==a)return this;for(var c=a.$abs(),d=v(this,c),c=p(this,c),f=0,m=1,h=1,k=0,l,r,n;;){l=d.$ceil();if("number"===typeof l&&"number"===
typeof c?l<=c:l["$<="](c))break;n=l-1;l=n*m+f;r=n*k+h;f=B(1,v(c,n));c=B(1,v(d,n));d=f;f=m;h=k;m=l;k=r}return this.$Rational(l*m+f,l*k+h)},V.$$arity=-1);b.defn(a,"$round",K=function(a){var c=m,b=m,c=m;null==a&&(a=0);if(!a["$=="](0))return this.$with_precision("round",a);if(this.num["$=="](0))return 0;if(this.den["$=="](1))return this.num;c=p(q(this.num.$abs(),2),this.den);b=q(this.den,2);c=B(c,b).$truncate();return y(u(this.num,0))?c["$-@"]():c},K.$$arity=-1);b.defn(a,"$to_f",G=function(){return B(this.num,
this.den)},G.$$arity=0);b.defn(a,"$to_i",T=function(){return this.$truncate()},T.$$arity=0);b.defn(a,"$to_r",ba=function(){return this},ba.$$arity=0);b.defn(a,"$to_s",pa=function(){return""+this.num+"/"+this.den},pa.$$arity=0);b.defn(a,"$truncate",L=function(a){null==a&&(a=0);return a["$=="](0)?y(u(this.num,0))?this.$ceil():this.$floor():this.$with_precision("truncate",a)},L.$$arity=-1);return(b.defn(a,"$with_precision",aa=function(a,c){var d=m,f=m;y(b.const_get_relative(e,"Integer")["$==="](c))||
this.$raise(b.const_get_relative(e,"TypeError"),"not an Integer");d=10["$**"](c);f=q(this,d);return y(u(c,1))?B(f.$send(a),d).$to_i():this.$Rational(f.$send(a),d)},aa.$$arity=2),m)&&"with_precision"})(a[0],b.const_get_relative(a,"Numeric"),a);return function(a,g){var c=l(a,"Kernel"),m=[c].concat(g),f;b.defn(c,"$Rational",f=function(a,c){null==c&&(c=1);return b.const_get_relative(m,"Rational").$convert(a,c)},f.$$arity=-2)}(a[0],a)},Opal.modules["corelib/time"]=function(b){function u(a,b){return"number"===
typeof a&&"number"===typeof b?a+b:a["$+"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function v(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}var p=b.top,D=[],a=b.nil,m=b.slice,h=b.klass,y=b.truthy,l=b.range;b.add_stubs("$require $include $=== $raise $coerce_to! $respond_to? $to_str $to_i $new $<=> $to_f $nil? $> $< $strftime $year $month $day $+ $round $/ $- $copy_instance_variables $initialize_dup $is_a? $zero? $wday $utc? $mon $yday $hour $min $sec $rjust $ljust $zone $to_s $[] $cweek_cyear $isdst $<= $!= $== $ceil".split(" "));
p.$require("corelib/comparable");return function(w,$super,c){function n(){}function f(c,f,m,h,k,l){c=c.$$is_string?parseInt(c,10):b.const_get_relative(d,"Opal")["$coerce_to!"](c,b.const_get_relative(d,"Integer"),"to_int");if(f===a)f=1;else if(!f.$$is_number)if(f["$respond_to?"]("to_str"))switch(f=f.$to_str(),f.toLowerCase()){case "jan":f=1;break;case "feb":f=2;break;case "mar":f=3;break;case "apr":f=4;break;case "may":f=5;break;case "jun":f=6;break;case "jul":f=7;break;case "aug":f=8;break;case "sep":f=
9;break;case "oct":f=10;break;case "nov":f=11;break;case "dec":f=12;break;default:f=f.$to_i()}else f=b.const_get_relative(d,"Opal")["$coerce_to!"](f,b.const_get_relative(d,"Integer"),"to_int");(1>f||12<f)&&e.$raise(b.const_get_relative(d,"ArgumentError"),"month out of range: "+f);--f;m=m===a?1:m.$$is_string?parseInt(m,10):b.const_get_relative(d,"Opal")["$coerce_to!"](m,b.const_get_relative(d,"Integer"),"to_int");(1>m||31<m)&&e.$raise(b.const_get_relative(d,"ArgumentError"),"day out of range: "+m);
h=h===a?0:h.$$is_string?parseInt(h,10):b.const_get_relative(d,"Opal")["$coerce_to!"](h,b.const_get_relative(d,"Integer"),"to_int");(0>h||24<h)&&e.$raise(b.const_get_relative(d,"ArgumentError"),"hour out of range: "+h);k=k===a?0:k.$$is_string?parseInt(k,10):b.const_get_relative(d,"Opal")["$coerce_to!"](k,b.const_get_relative(d,"Integer"),"to_int");(0>k||59<k)&&e.$raise(b.const_get_relative(d,"ArgumentError"),"min out of range: "+k);l===a?l=0:l.$$is_number||(l=l.$$is_string?parseInt(l,10):b.const_get_relative(d,
"Opal")["$coerce_to!"](l,b.const_get_relative(d,"Integer"),"to_int"));(0>l||60<l)&&e.$raise(b.const_get_relative(d,"ArgumentError"),"sec out of range: "+l);return[c,f,m,h,k,l]}var e=n=h(w,$super,"Time",n),d=[e].concat(c),p,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,pa,L,aa,U,D,ia,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja,ta,fa;e.$include(b.const_get_relative(d,"Comparable"));var ya="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),ua="Sun Mon Tue Wed Thu Fri Sat".split(" "),za=
"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Ea="January February March April May June July August September October November December".split(" ");b.defs(e,"$at",p=function(a,c){var e;if(b.const_get_relative(d,"Time")["$==="](a))return void 0!==c&&this.$raise(b.const_get_relative(d,"TypeError"),"can't convert Time into an exact number"),e=new Date(a.getTime()),e.is_utc=a.is_utc,e;a.$$is_number||(a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int"));
if(void 0===c)return new Date(1E3*a);c.$$is_number||(c=b.const_get_relative(d,"Opal")["$coerce_to!"](c,b.const_get_relative(d,"Integer"),"to_int"));return new Date(1E3*a+c/1E3)},p.$$arity=-2);b.defs(e,"$new",t=function(c,e,m,h,k,l,r){null==e&&(e=a);null==m&&(m=a);null==h&&(h=a);null==k&&(k=a);null==l&&(l=a);null==r&&(r=a);if(void 0===c)return new Date;r!==a&&this.$raise(b.const_get_relative(d,"ArgumentError"),"Opal does not support explicitly specifying UTC offset for Time");l=f(c,e,m,h,k,l);c=l[0];
e=l[1];m=l[2];h=l[3];k=l[4];l=l[5];e=new Date(c,e,m,h,k,0,1E3*l);100>c&&e.setFullYear(c);return e},t.$$arity=-1);b.defs(e,"$local",k=function(c,b,d,e,h,k,l,z,r,n){null==b&&(b=a);null==d&&(d=a);null==e&&(e=a);null==h&&(h=a);null==k&&(k=a);null==l&&(l=a);null==z&&(z=a);null==r&&(r=a);null==n&&(n=a);var t;10===arguments.length&&(t=m.call(arguments),c=t[5],b=t[4],d=t[3],e=t[2],h=t[1],k=t[0]);t=f(c,b,d,e,h,k);c=t[0];b=t[1];d=t[2];e=t[3];h=t[4];k=t[5];t=new Date(c,b,d,e,h,0,1E3*k);100>c&&t.setFullYear(c);
return t},k.$$arity=-2);b.defs(e,"$gm",ea=function(c,b,d,e,h,k,l,z,r,n){null==b&&(b=a);null==d&&(d=a);null==e&&(e=a);null==h&&(h=a);null==k&&(k=a);null==l&&(l=a);null==z&&(z=a);null==r&&(r=a);null==n&&(n=a);var t;10===arguments.length&&(t=m.call(arguments),c=t[5],b=t[4],d=t[3],e=t[2],h=t[1],k=t[0]);t=f(c,b,d,e,h,k);c=t[0];b=t[1];d=t[2];e=t[3];h=t[4];k=t[5];t=new Date(Date.UTC(c,b,d,e,h,0,1E3*k));100>c&&t.setUTCFullYear(c);t.is_utc=!0;return t},ea.$$arity=-2);(function(a,c){[a].concat(c);b.alias(a,
"mktime","local");return b.alias(a,"utc","gm")})(b.get_singleton_class(e),d);b.defs(e,"$now",x=function(){return this.$new()},x.$$arity=0);b.defn(e,"$+",da=function(a){y(b.const_get_relative(d,"Time")["$==="](a))&&this.$raise(b.const_get_relative(d,"TypeError"),"time + time?");a.$$is_number||(a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int"));a=new Date(this.getTime()+1E3*a);a.is_utc=this.is_utc;return a},da.$$arity=1);b.defn(e,"$-",Q=function(a){if(y(b.const_get_relative(d,
"Time")["$==="](a)))return(this.getTime()-a.getTime())/1E3;a.$$is_number||(a=b.const_get_relative(d,"Opal")["$coerce_to!"](a,b.const_get_relative(d,"Integer"),"to_int"));a=new Date(this.getTime()-1E3*a);a.is_utc=this.is_utc;return a},Q.$$arity=1);b.defn(e,"$<=>",r=function(c){var e=a;if(y(b.const_get_relative(d,"Time")["$==="](c)))return this.$to_f()["$<=>"](c.$to_f());e=c["$<=>"](this);return y(e["$nil?"]())?a:y("number"===typeof e?0<e:e["$>"](0))?-1:y("number"===typeof e?0>e:e["$<"](0))?1:0},r.$$arity=
1);b.defn(e,"$==",W=function(a){var c;return y(c=b.const_get_relative(d,"Time")["$==="](a))?this.$to_f()===a.$to_f():c},W.$$arity=1);b.defn(e,"$asctime",A=function(){return this.$strftime("%a %b %e %H:%M:%S %Y")},A.$$arity=0);b.alias(e,"ctime","asctime");b.defn(e,"$day",E=function(){return this.is_utc?this.getUTCDate():this.getDate()},E.$$arity=0);b.defn(e,"$yday",C=function(){var c=a,e=a,f=a,c=b.const_get_relative(d,"Time").$new(this.$year()).$to_i(),e=b.const_get_relative(d,"Time").$new(this.$year(),
this.$month(),this.$day()).$to_i(),f=86400;return u(B(v(e,c),f).$round(),1)},C.$$arity=0);b.defn(e,"$isdst",R=function(){var a=new Date(this.getFullYear(),0,1),c=new Date(this.getFullYear(),6,1);return this.getTimezoneOffset()<Math.max(a.getTimezoneOffset(),c.getTimezoneOffset())},R.$$arity=0);b.alias(e,"dst?","isdst");b.defn(e,"$dup",N=function(){var c=a,c=new Date(this.getTime());c.$copy_instance_variables(this);c.$initialize_dup(this);return c},N.$$arity=0);b.defn(e,"$eql?",X=function(a){var c;
return y(c=a["$is_a?"](b.const_get_relative(d,"Time")))?this["$<=>"](a)["$zero?"]():c},X.$$arity=1);b.defn(e,"$friday?",P=function(){return 5==this.$wday()},P.$$arity=0);b.defn(e,"$hash",Z=function(){return"Time:"+this.getTime()},Z.$$arity=0);b.defn(e,"$hour",V=function(){return this.is_utc?this.getUTCHours():this.getHours()},V.$$arity=0);b.defn(e,"$inspect",K=function(){return y(this["$utc?"]())?this.$strftime("%Y-%m-%d %H:%M:%S UTC"):this.$strftime("%Y-%m-%d %H:%M:%S %z")},K.$$arity=0);b.alias(e,
"mday","day");b.defn(e,"$min",G=function(){return this.is_utc?this.getUTCMinutes():this.getMinutes()},G.$$arity=0);b.defn(e,"$mon",T=function(){return(this.is_utc?this.getUTCMonth():this.getMonth())+1},T.$$arity=0);b.defn(e,"$monday?",ba=function(){return 1==this.$wday()},ba.$$arity=0);b.alias(e,"month","mon");b.defn(e,"$saturday?",pa=function(){return 6==this.$wday()},pa.$$arity=0);b.defn(e,"$sec",L=function(){return this.is_utc?this.getUTCSeconds():this.getSeconds()},L.$$arity=0);b.defn(e,"$succ",
aa=function(){var a=new Date(this.getTime()+1E3);a.is_utc=this.is_utc;return a},aa.$$arity=0);b.defn(e,"$usec",U=function(){return 1E3*this.getMilliseconds()},U.$$arity=0);b.defn(e,"$zone",D=function(){var a=this.toString(),c;c=-1==a.indexOf("(")?a.match(/[A-Z]{3,4}/)[0]:a.match(/\([^)]+\)/)[0].match(/[A-Z]/g).join("");return"GMT"==c&&/(GMT\W*\d{4})/.test(a)?RegExp.$1:c},D.$$arity=0);b.defn(e,"$getgm",ia=function(){var a=new Date(this.getTime());a.is_utc=!0;return a},ia.$$arity=0);b.alias(e,"getutc",
"getgm");b.defn(e,"$gmtime",H=function(){this.is_utc=!0;return this},H.$$arity=0);b.alias(e,"utc","gmtime");b.defn(e,"$gmt?",Y=function(){return!0===this.is_utc},Y.$$arity=0);b.defn(e,"$gmt_offset",ha=function(){return 60*-this.getTimezoneOffset()},ha.$$arity=0);b.defn(e,"$strftime",ka=function(a){var c=this;return a.replace(/%([\-_#^0]*:{0,2})(\d+)?([EO]*)(.)/g,function(a,b,d,e,f){e="";var m=-1!==b.indexOf("0"),h=-1===b.indexOf("-"),k=-1!==b.indexOf("_"),r=-1!==b.indexOf("^"),n=-1!==b.indexOf("#"),
I=(b.match(":")||[]).length;d=parseInt(d,10);m&&k&&(b.indexOf("0")<b.indexOf("_")?m=!1:k=!1);switch(f){case "Y":e+=c.$year();break;case "C":m=!k;e+=Math.round(c.$year()/100);break;case "y":m=!k;e+=c.$year()%100;break;case "m":m=!k;e+=c.$mon();break;case "B":e+=Ea[c.$mon()-1];break;case "b":case "h":k=!m;e+=za[c.$mon()-1];break;case "d":m=!k;e+=c.$day();break;case "e":k=!m;e+=c.$day();break;case "j":e+=c.$yday();break;case "H":m=!k;e+=c.$hour();break;case "k":k=!m;e+=c.$hour();break;case "I":m=!k;
e+=c.$hour()%12||12;break;case "l":k=!m;e+=c.$hour()%12||12;break;case "P":e+=12<=c.$hour()?"pm":"am";break;case "p":e+=12<=c.$hour()?"PM":"AM";break;case "M":m=!k;e+=c.$min();break;case "S":m=!k;e+=c.$sec();break;case "L":m=!k;d=isNaN(d)?3:d;e+=c.getMilliseconds();break;case "N":d=isNaN(d)?9:d;e+=c.getMilliseconds().toString().$rjust(3,"0");e=e.$ljust(d,"0");break;case "z":a=c.getTimezoneOffset();b=Math.floor(Math.abs(a)/60);f=Math.abs(a)%60;e=e+(0>a?"+":"-")+(10>b?"0":"");e+=b;0<I&&(e+=":");e+=
10>f?"0":"";e+=f;1<I&&(e+=":00");break;case "Z":e+=c.$zone();break;case "A":e+=ya[c.$wday()];break;case "a":e+=ua[c.$wday()];break;case "u":e+=c.$wday()+1;break;case "w":e+=c.$wday();break;case "V":e+=c.$cweek_cyear()["$[]"](0).$to_s().$rjust(2,"0");break;case "G":e+=c.$cweek_cyear()["$[]"](1);break;case "g":e+=c.$cweek_cyear()["$[]"](1)["$[]"](l(-2,-1,!1));break;case "s":e+=c.$to_i();break;case "n":e+="\n";break;case "t":e+="\t";break;case "%":e+="%";break;case "c":e+=c.$strftime("%a %b %e %T %Y");
break;case "D":case "x":e+=c.$strftime("%m/%d/%y");break;case "F":e+=c.$strftime("%Y-%m-%d");break;case "v":e+=c.$strftime("%e-%^b-%4Y");break;case "r":e+=c.$strftime("%I:%M:%S %p");break;case "R":e+=c.$strftime("%H:%M");break;case "T":case "X":e+=c.$strftime("%H:%M:%S");break;default:return a}r&&(e=e.toUpperCase());n&&(e=e.replace(/[A-Z]/,function(a){a.toLowerCase()}).replace(/[a-z]/,function(a){a.toUpperCase()}));h&&(m||k)&&(e=e.$rjust(isNaN(d)?2:d,k?" ":"0"));return e})},ka.$$arity=1);b.defn(e,
"$sunday?",na=function(){return 0==this.$wday()},na.$$arity=0);b.defn(e,"$thursday?",la=function(){return 4==this.$wday()},la.$$arity=0);b.defn(e,"$to_a",Aa=function(){return[this.$sec(),this.$min(),this.$hour(),this.$day(),this.$month(),this.$year(),this.$wday(),this.$yday(),this.$isdst(),this.$zone()]},Aa.$$arity=0);b.defn(e,"$to_f",oa=function(){return this.getTime()/1E3},oa.$$arity=0);b.defn(e,"$to_i",ra=function(){return parseInt(this.getTime()/1E3,10)},ra.$$arity=0);b.alias(e,"to_s","inspect");
b.defn(e,"$tuesday?",qa=function(){return 2==this.$wday()},qa.$$arity=0);b.alias(e,"tv_sec","to_i");b.alias(e,"tv_usec","usec");b.alias(e,"utc?","gmt?");b.alias(e,"gmtoff","gmt_offset");b.alias(e,"utc_offset","gmt_offset");b.defn(e,"$wday",ma=function(){return this.is_utc?this.getUTCDay():this.getDay()},ma.$$arity=0);b.defn(e,"$wednesday?",ja=function(){return 3==this.$wday()},ja.$$arity=0);b.defn(e,"$year",ta=function(){return this.is_utc?this.getUTCFullYear():this.getFullYear()},ta.$$arity=0);return(b.defn(e,
"$cweek_cyear",fa=function(){var c,e=a,f=a,m=f=f=e=a,m=a,e=b.const_get_relative(d,"Time").$new(this.$year(),1,1),f=e.$wday(),e=this.$year();y(y(c=q(f,4))?f["$!="](0):c)?f=v(f,1):(f=v(v(f,7),1),f["$=="](-8)&&(f=-1));f=B(u(this.$yday(),f),7).$ceil();if(y(q(f,0)))return b.const_get_relative(d,"Time").$new(v(this.$year(),1),12,31).$cweek_cyear();f["$=="](53)&&(m=b.const_get_relative(d,"Time").$new(this.$year(),12,31),m=m.$wday(),y(y(c=q(m,3))?m["$!="](0):c)&&(f=1,e=u(e,1)));return[f,e]},fa.$$arity=0),
a)&&"cweek_cyear"}(D[0],Date,D)},Opal.modules["corelib/struct"]=function(b){function u(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function B(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function v(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var D=b.top,a=[],m=b.nil,h=b.klass,
y=b.truthy,l=b.send,w=b.hash2;b.add_stubs("$require $include $const_name! $unshift $map $coerce_to! $new $each $define_struct_attribute $allocate $initialize $module_eval $to_proc $const_set $== $raise $<< $members $define_method $instance_eval $> $length $class $each_with_index $[] $[]= $- $hash $=== $< $-@ $size $>= $include? $to_sym $instance_of? $__id__ $eql? $enum_for $name $+ $join $each_pair $inspect $inject $flatten $to_a $respond_to? $dig $values_at".split(" "));D.$require("corelib/enumerable");
return function(a,$super,n){function f(){}a=f=h(a,$super,"Struct",f);var e=[a].concat(n),d,S,t,k,ea,x,da,Q,r,W,A,E,C,R,N,X,P,Z,V,K;a.$include(b.const_get_relative(e,"Enumerable"));b.defs(a,"$new",d=function(a,f){var g,h,k,r=d.$$p,n=r||m,t=m,t=arguments.length,w=t-1;0>w&&(w=0);k=Array(w);for(w=1;w<t;w++)k[w-1]=arguments[w];r&&(d.$$p=null);if(y(a))try{a=b.const_get_relative(e,"Opal")["$const_name!"](a)}catch(p){if(b.rescue(p,[b.const_get_relative(e,"TypeError"),b.const_get_relative(e,"NameError")]))try{k.$unshift(a),
a=m}finally{b.pop_exception()}else throw p;}l(k,"map",[],(g=function(a){null==a&&(a=m);return b.const_get_relative(e,"Opal")["$coerce_to!"](a,b.const_get_relative(e,"String"),"to_str")},g.$$s=this,g.$$arity=1,g));t=l(b.const_get_relative(e,"Class"),"new",[this],(h=function(){var a=h.$$s||this,d;l(k,"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=m);return b.$define_struct_attribute(a)},d.$$s=a,d.$$arity=1,d));return function(a,d){[a].concat(d);var e;b.defn(a,"$new",e=function(a){var d,e=m,
e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];e=this.$allocate();e.$$data={};l(e,"initialize",b.to_a(d));return e},e.$$arity=-1);return b.alias(a,"[]","new")}(b.get_singleton_class(a),e)},h.$$s=this,h.$$arity=0,h));y(n)&&l(t,"module_eval",[],n.$to_proc());y(a)&&b.const_get_relative(e,"Struct").$const_set(a,t);return t},d.$$arity=-2);b.defs(a,"$define_struct_attribute",S=function(a){var d,f;this["$=="](b.const_get_relative(e,"Struct"))&&this.$raise(b.const_get_relative(e,
"ArgumentError"),"you cannot define attributes to the Struct class");this.$members()["$<<"](a);l(this,"define_method",[a],(d=function(){return(d.$$s||this).$$data[a]},d.$$s=this,d.$$arity=0,d));return l(this,"define_method",[""+a+"="],(f=function(b){var d=f.$$s||this;null==b&&(b=m);return d.$$data[a]=b},f.$$s=this,f.$$arity=1,f))},S.$$arity=1);b.defs(a,"$members",t=function(){var a;null==this.members&&(this.members=m);this["$=="](b.const_get_relative(e,"Struct"))&&this.$raise(b.const_get_relative(e,
"ArgumentError"),"the Struct class has no members");return this.members=y(a=this.members)?a:[]},t.$$arity=0);b.defs(a,"$inherited",k=function(a){var b,d=m;null==this.members&&(this.members=m);d=this.members;return l(a,"instance_eval",[],(b=function(){return(b.$$s||this).members=d},b.$$s=this,b.$$arity=0,b))},k.$$arity=1);b.defn(a,"$initialize",ea=function(a){var d,f,g=arguments.length,h=g-0;0>h&&(h=0);f=Array(h);for(h=0;h<g;h++)f[h-0]=arguments[h];y(u(f.$length(),this.$class().$members().$length()))&&
this.$raise(b.const_get_relative(e,"ArgumentError"),"struct size differs");return l(this.$class().$members(),"each_with_index",[],(d=function(a,e){var g=d.$$s||this,h=m;null==a&&(a=m);null==e&&(e=m);h=[a,f["$[]"](e)];l(g,"[]=",b.to_a(h));return h[B(h.length,1)]},d.$$s=this,d.$$arity=2,d))},ea.$$arity=-1);b.defn(a,"$members",x=function(){return this.$class().$members()},x.$$arity=0);b.defn(a,"$hash",da=function(){return b.const_get_relative(e,"Hash").$new(this.$$data).$hash()},da.$$arity=0);b.defn(a,
"$[]",Q=function(a){y(b.const_get_relative(e,"Integer")["$==="](a))?(y(v(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(b.const_get_relative(e,"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),y(q(a,this.$class().$members().$size()))&&this.$raise(b.const_get_relative(e,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):y(b.const_get_relative(e,"String")["$==="](a))?
this.$$data.hasOwnProperty(a)||this.$raise(b.const_get_relative(e,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(b.const_get_relative(e,"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=b.const_get_relative(e,"Opal")["$coerce_to!"](a,b.const_get_relative(e,"String"),"to_str");return this.$$data[a]},Q.$$arity=1);b.defn(a,"$[]=",r=function(a,d){y(b.const_get_relative(e,"Integer")["$==="](a))?(y(v(a,this.$class().$members().$size()["$-@"]()))&&this.$raise(b.const_get_relative(e,
"IndexError"),"offset "+a+" too small for struct(size:"+this.$class().$members().$size()+")"),y(q(a,this.$class().$members().$size()))&&this.$raise(b.const_get_relative(e,"IndexError"),"offset "+a+" too large for struct(size:"+this.$class().$members().$size()+")"),a=this.$class().$members()["$[]"](a)):y(b.const_get_relative(e,"String")["$==="](a))?y(this.$class().$members()["$include?"](a.$to_sym()))||this.$raise(b.const_get_relative(e,"NameError").$new("no member '"+a+"' in struct",a)):this.$raise(b.const_get_relative(e,
"TypeError"),"no implicit conversion of "+a.$class()+" into Integer");a=b.const_get_relative(e,"Opal")["$coerce_to!"](a,b.const_get_relative(e,"String"),"to_str");return this.$$data[a]=d},r.$$arity=2);b.defn(a,"$==",W=function(a){function d(a,m){var h,k,l;f[a.$__id__()]=!0;g[m.$__id__()]=!0;for(h in a.$$data)if(k=a.$$data[h],l=m.$$data[h],b.const_get_relative(e,"Struct")["$==="](k)){if(!(f.hasOwnProperty(k.$__id__())&&g.hasOwnProperty(l.$__id__())||d(k,l)))return!1}else if(!k["$=="](l))return!1;return!0}
if(!y(a["$instance_of?"](this.$class())))return!1;var f={},g={};return d(this,a)},W.$$arity=1);b.defn(a,"$eql?",A=function(a){function d(a,m){var h,k,l;f[a.$__id__()]=!0;g[m.$__id__()]=!0;for(h in a.$$data)if(k=a.$$data[h],l=m.$$data[h],b.const_get_relative(e,"Struct")["$==="](k)){if(!(f.hasOwnProperty(k.$__id__())&&g.hasOwnProperty(l.$__id__())||d(k,l)))return!1}else if(!k["$eql?"](l))return!1;return!0}if(!y(a["$instance_of?"](this.$class())))return!1;var f={},g={};return d(this,a)},A.$$arity=1);
b.defn(a,"$each",E=function(){var a,d,e=E.$$p,f=e||m;e&&(E.$$p=null);if(f===m)return l(this,"enum_for",["each"],(a=function(){return(a.$$s||this).$size()},a.$$s=this,a.$$arity=0,a));l(this.$class().$members(),"each",[],(d=function(a){var e=d.$$s||this;null==a&&(a=m);return b.yield1(f,e["$[]"](a))},d.$$s=this,d.$$arity=1,d));return this},E.$$arity=0);b.defn(a,"$each_pair",C=function(){var a,d,e=C.$$p,f=e||m;e&&(C.$$p=null);if(f===m)return l(this,"enum_for",["each_pair"],(a=function(){return(a.$$s||
this).$size()},a.$$s=this,a.$$arity=0,a));l(this.$class().$members(),"each",[],(d=function(a){var e=d.$$s||this;null==a&&(a=m);return b.yield1(f,[a,e["$[]"](a)])},d.$$s=this,d.$$arity=1,d));return this},C.$$arity=0);b.defn(a,"$length",R=function(){return this.$class().$members().$length()},R.$$arity=0);b.alias(a,"size","length");b.defn(a,"$to_a",N=function(){var a;return l(this.$class().$members(),"map",[],(a=function(b){var d=a.$$s||this;null==b&&(b=m);return d["$[]"](b)},a.$$s=this,a.$$arity=1,
a))},N.$$arity=0);b.alias(a,"values","to_a");b.defn(a,"$inspect",X=function(){var a,d,f=m,f="#<struct ";y(y(a=b.const_get_relative(e,"Struct")["$==="](this))?this.$class().$name():a)&&(f=p(f,""+this.$class()+" "));f=p(f,l(this.$each_pair(),"map",[],(d=function(a,b){null==a&&(a=m);null==b&&(b=m);return""+a+"="+b.$inspect()},d.$$s=this,d.$$arity=2,d)).$join(", "));return f=p(f,">")},X.$$arity=0);b.alias(a,"to_s","inspect");b.defn(a,"$to_h",P=function(){var a;return l(this.$class().$members(),"inject",
[w([],{})],(a=function(d,e){var f=a.$$s||this,g=m;null==d&&(d=m);null==e&&(e=m);g=[e,f["$[]"](e)];l(d,"[]=",b.to_a(g));g[B(g.length,1)];return d},a.$$s=this,a.$$arity=2,a))},P.$$arity=0);b.defn(a,"$values_at",Z=function(a){var d,f,g=arguments.length;f=g-0;0>f&&(f=0);f=Array(f);for(var h=0;h<g;h++)f[h-0]=arguments[h];f=l(f,"map",[],(d=function(a){null==a&&(a=m);return a.$$is_range?a.$to_a():a},d.$$s=this,d.$$arity=1,d)).$flatten();d=[];g=0;for(h=f.length;g<h;g++)f[g].$$is_number||this.$raise(b.const_get_relative(e,
"TypeError"),"no implicit conversion of "+f[g].$class()+" into Integer"),d.push(this["$[]"](f[g]));return d},Z.$$arity=-1);b.defn(a,"$dig",V=function(a,d){var f,g=m,g=arguments.length;f=g-1;0>f&&(f=0);f=Array(f);for(var h=1;h<g;h++)f[h-1]=arguments[h];g=y(a.$$is_string&&this.$$data.hasOwnProperty(a))?this.$$data[a]||m:m;if(g===m||0===f.length)return g;y(g["$respond_to?"]("dig"))||this.$raise(b.const_get_relative(e,"TypeError"),""+g.$class()+" does not have #dig method");return l(g,"dig",b.to_a(f))},
V.$$arity=-2);return b.defs(a,"$_load",K=function(a){var d=m,d=l(a,"values_at",b.to_a(this.$members()));return l(this,"new",b.to_a(d))},K.$$arity=1)}(a[0],null,a)},Opal.modules["corelib/io"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var B=[],v=b.nil,q=b.klass,p=b.module,D=b.send,a=b.gvars,m=b.truthy,h=v;b.add_stubs("$attr_accessor $size $write $join $map $String $empty? $concat $chomp $getbyte $getc $raise $new $write_proc= $- $extend".split(" "));(function(h,
$super,g){function c(){}h=c=q(h,$super,"IO",c);var n=h.$$proto;g=[h].concat(g);var f,e,d,y;n.tty=n.closed=v;b.const_set(g[0],"SEEK_SET",0);b.const_set(g[0],"SEEK_CUR",1);b.const_set(g[0],"SEEK_END",2);b.defn(h,"$tty?",f=function(){return this.tty},f.$$arity=0);b.defn(h,"$closed?",e=function(){return this.closed},e.$$arity=0);h.$attr_accessor("write_proc");b.defn(h,"$write",d=function(a){this.write_proc(a);return a.$size()},d.$$arity=1);h.$attr_accessor("sync","tty");b.defn(h,"$flush",y=function(){return v},
y.$$arity=0);(function(c,d){var e=p(c,"Writable");[e].concat(d);var f,g,h;b.defn(e,"$<<",f=function(a){this.$write(a);return this},f.$$arity=1);b.defn(e,"$print",g=function(c){var b,d;null==a[","]&&(a[","]=v);var e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];this.$write(D(d,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=v);return c.$String(a)},b.$$s=this,b.$$arity=1,b)).$join(a[","]));return v},g.$$arity=-1);b.defn(e,"$puts",h=function(c){var b,d,e=
v;null==a["/"]&&(a["/"]=v);e=arguments.length;d=e-0;0>d&&(d=0);d=Array(d);for(var f=0;f<e;f++)d[f-0]=arguments[f];e=a["/"];m(d["$empty?"]())?this.$write(a["/"]):this.$write(D(d,"map",[],(b=function(a){var c=b.$$s||this;null==a&&(a=v);return c.$String(a).$chomp()},b.$$s=this,b.$$arity=1,b)).$concat([v]).$join(e));return v},h.$$arity=-1)})(g[0],g);return function(c,d){var e=p(c,"Readable"),f=[e].concat(d),g,m,h,l;b.defn(e,"$readbyte",g=function(){return this.$getbyte()},g.$$arity=0);b.defn(e,"$readchar",
m=function(){return this.$getc()},m.$$arity=0);b.defn(e,"$readline",h=function(c){null==a["/"]&&(a["/"]=v);return this.$raise(b.const_get_relative(f,"NotImplementedError"))},h.$$arity=-1);b.defn(e,"$readpartial",l=function(a,c){return this.$raise(b.const_get_relative(f,"NotImplementedError"))},l.$$arity=-2)}(g[0],g)})(B[0],null,B);b.const_set(B[0],"STDERR",a.stderr=b.const_get_relative(B,"IO").$new());b.const_set(B[0],"STDIN",a.stdin=b.const_get_relative(B,"IO").$new());b.const_set(B[0],"STDOUT",
a.stdout=b.const_get_relative(B,"IO").$new());var y=b.global.console,h=["object"===typeof process&&"object"===typeof process.stdout?function(a){process.stdout.write(a)}:function(a){y.log(a)}];D(b.const_get_relative(B,"STDOUT"),"write_proc=",b.to_a(h));h[u(h.length,1)];h=["object"===typeof process&&"object"===typeof process.stderr?function(a){process.stderr.write(a)}:function(a){y.warn(a)}];D(b.const_get_relative(B,"STDERR"),"write_proc=",b.to_a(h));h[u(h.length,1)];b.const_get_relative(B,"STDOUT").$extend(b.const_get_qualified(b.const_get_relative(B,
"IO"),"Writable"));return b.const_get_relative(B,"STDERR").$extend(b.const_get_qualified(b.const_get_relative(B,"IO"),"Writable"))},Opal.modules["corelib/main"]=function(b){var u,B,v=b.top,q=[];b.add_stubs(["$include"]);b.defs(v,"$to_s",u=function(){return"main"},u.$$arity=0);return b.defs(v,"$include",B=function(p){return b.const_get_relative(q,"Object").$include(p)},B.$$arity=1)},Opal.modules["corelib/dir"]=function(b){var u=[],B=b.nil,v=b.klass,q=b.truthy;b.add_stubs(["$[]"]);return function(p,
$super,a){function m(){}p=m=v(p,$super,"Dir",m);a=[p].concat(a);return function(a,m){var l=[a].concat(m),w,g,c;b.defn(a,"$chdir",w=function(a){var c=w.$$p,e=c||B,d=B;c&&(w.$$p=null);var g;a:{try{d=b.current_dir;b.current_dir=a;g=b.yieldX(e,[]);break a}finally{b.current_dir=d}g=void 0}return g},w.$$arity=1);b.defn(a,"$pwd",g=function(){return b.current_dir||"."},g.$$arity=0);b.alias(a,"getwd","pwd");return(b.defn(a,"$home",c=function(){var a;return q(a=b.const_get_relative(l,"ENV")["$[]"]("HOME"))?
a:"."},c.$$arity=0),B)&&"home"}(b.get_singleton_class(p),a)}(u[0],null,u)},Opal.modules["corelib/file"]=function(b){function u(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function B(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var v=[],q=b.nil,p=b.klass,D=b.send,a=b.truthy,m=b.range;b.add_stubs("$join $compact $split $== $first $home $[]= $- $pwd $each $pop $<< $respond_to? $coerce_to! $+ $basename $empty? $rindex $[] $nil? $length $gsub $find $=~ $map $each_with_index $flatten $reject $end_with? $start_with? $sub".split(" "));
return function(h,$super,l){function w(){}h=w=p(h,$super,"File",w);l=[h].concat(l);b.const_set(l[0],"Separator",b.const_set(l[0],"SEPARATOR","/"));b.const_set(l[0],"ALT_SEPARATOR",q);b.const_set(l[0],"PATH_SEPARATOR",":");b.const_set(l[0],"FNM_SYSCASE",0);return function(g,c){function h(c){a(c["$respond_to?"]("to_path"))&&(c=c.$to_path());return c=b.const_get_relative(e,"Opal")["$coerce_to!"](c,b.const_get_relative(e,"String"),"to_str")}function f(){return b.const_get_relative(e,"ALT_SEPARATOR")===
q?b.escape_regexp(b.const_get_relative(e,"SEPARATOR")):b.escape_regexp(B(b.const_get_relative(e,"SEPARATOR"),b.const_get_relative(e,"ALT_SEPARATOR")))}var e=[g].concat(c),d,l,t,k,w,p,v,Q;b.defn(g,"$expand_path",d=function(a,c){var d,f=q,g=q,m=q;null==c&&(c=q);a=[c,a].$compact().$join(b.const_get_relative(e,"SEPARATOR"));f=a.$split(b.const_get_relative(e,"SEPARATOR"));g=[];f.$first()["$=="]("~")&&(m=[0,b.const_get_relative(e,"Dir").$home()],D(f,"[]=",b.to_a(m)),m[u(m.length,1)]);f.$first()["$=="](".")&&
(m=[0,b.const_get_relative(e,"Dir").$pwd()],D(f,"[]=",b.to_a(m)),m[u(m.length,1)]);D(f,"each",[],(d=function(a){null==a&&(a=q);return a["$=="]("..")?g.$pop():g["$<<"](a)},d.$$s=this,d.$$arity=1,d));return g.$join(b.const_get_relative(e,"SEPARATOR"))},d.$$arity=-2);b.alias(g,"realpath","expand_path");b.defn(g,"$dirname",l=function(a){var c=q,c=f();a=h(a);var b=a.match(new RegExp("^["+c+"]"));a=a.replace(new RegExp("["+c+"]+$"),"");a=a.replace(new RegExp("[^"+c+"]+$"),"");a=a.replace(new RegExp("["+
c+"]+$"),"");return""===a?b?"/":".":a},l.$$arity=1);b.defn(g,"$basename",t=function(a,c){var d=q;null==c&&(c=q);d=f();a=h(a);if(0==a.length)return a;c=c!==q?b.const_get_relative(e,"Opal")["$coerce_to!"](c,b.const_get_relative(e,"String"),"to_str"):null;a=a.replace(new RegExp("(.)["+d+"]*$"),"$1");a=a.replace(new RegExp("^(?:.*["+d+"])?([^"+d+"]+)$"),"$1");".*"===c?a=a.replace(/\.[^\.]+$/,""):null!==c&&(c=b.escape_regexp(c),a=a.replace(new RegExp(""+c+"$"),""));return a},t.$$arity=-2);b.defn(g,"$extname",
k=function(c){var d,e=q,f=q;c=h(c);e=this.$basename(c);if(a(e["$empty?"]()))return"";f=e["$[]"](m(1,-1,!1)).$rindex(".");return a(a(d=f["$nil?"]())?d:B(f,1)["$=="](u(e.$length(),1)))?"":e["$[]"](b.Range.$new(B(f,1),-1,!1))},k.$$arity=1);b.defn(g,"$exist?",w=function(a){return null!=b.modules[a]},w.$$arity=1);b.alias(g,"exists?","exist?");b.defn(g,"$directory?",p=function(a){var c,d=q,d=q,d=[],f;for(f in b.modules)d.push(f);a=a.$gsub(new RegExp("(^."+b.const_get_relative(e,"SEPARATOR")+"+|"+b.const_get_relative(e,
"SEPARATOR")+"+$)"));return d=D(d,"find",[],(c=function(c){null==c&&(c=q);return c["$=~"](new RegExp("^"+a))},c.$$s=this,c.$$arity=1,c))},p.$$arity=1);b.defn(g,"$join",v=function(c){var d,f,g,m,h=q,k=arguments.length,l=k-0;0>l&&(l=0);m=Array(l);for(l=0;l<k;l++)m[l-0]=arguments[l];if(m.$length()["$=="](0))return"";h="";m=D(m.$flatten().$each_with_index(),"map",[],(d=function(c,d){null==c&&(c=q);null==d&&(d=q);return a(d["$=="](0)?c["$empty?"]():d["$=="](0))?b.const_get_relative(e,"SEPARATOR"):a(m.$length()["$=="](B(d,
1))?c["$empty?"]():m.$length()["$=="](B(d,1)))?b.const_get_relative(e,"SEPARATOR"):c},d.$$s=this,d.$$arity=2,d));m=D(m,"reject",[],(f=function(a){null==a&&(a=q);return a["$empty?"]()},f.$$s=this,f.$$arity=1,f));D(m,"each_with_index",[],(g=function(c,d){var f,g=q;null==c&&(c=q);null==d&&(d=q);g=m["$[]"](B(d,1));if(a(g["$nil?"]()))return h=""+h+c;a(a(f=c["$end_with?"](b.const_get_relative(e,"SEPARATOR")))?g["$start_with?"](b.const_get_relative(e,"SEPARATOR")):f)&&(c=c.$sub(new RegExp(""+b.const_get_relative(e,
"SEPARATOR")+"+$"),""));return a(a(f=c["$end_with?"](b.const_get_relative(e,"SEPARATOR")))?f:g["$start_with?"](b.const_get_relative(e,"SEPARATOR")))?h=""+h+c:h=""+h+c+b.const_get_relative(e,"SEPARATOR")},g.$$s=this,g.$$arity=2,g));return h},v.$$arity=-1);return(b.defn(g,"$split",Q=function(a){return a.$split(b.const_get_relative(e,"SEPARATOR"))},Q.$$arity=1),q)&&"split"}(b.get_singleton_class(h),l)}(v[0],b.const_get_relative(v,"IO"),v)},Opal.modules["corelib/process"]=function(b){var u=[],B=b.nil,
v=b.klass,q=b.truthy;b.add_stubs("$const_set $size $<< $__register_clock__ $to_f $now $new $[] $raise".split(" "));(function(p,$super,a){function m(){}p=m=v(p,$super,"Process",m);var h=[p].concat(a),y,l,w,g;a=B;p.__clocks__=[];b.defs(p,"$__register_clock__",y=function(a,c){null==this.__clocks__&&(this.__clocks__=B);this.$const_set(a,this.__clocks__.$size());return this.__clocks__["$<<"](c)},y.$$arity=2);p.$__register_clock__("CLOCK_REALTIME",function(){return Date.now()});a=!1;if(b.global.performance)a=
function(){return performance.now()};else if(b.global.process&&process.hrtime){var c=process.hrtime();a=function(){var a=process.hrtime(c);return 1E3*a[0]+(a[1]/1E3|0)/1E3}}q(a)&&p.$__register_clock__("CLOCK_MONOTONIC",a);b.defs(p,"$pid",l=function(){return 0},l.$$arity=0);b.defs(p,"$times",w=function(){var a=B,a=b.const_get_relative(h,"Time").$now().$to_f();return b.const_get_qualified(b.const_get_relative(h,"Benchmark"),"Tms").$new(a,a,a,a,a)},w.$$arity=0);return b.defs(p,"$clock_gettime",g=function(a,
c){var e,d=B;null==this.__clocks__&&(this.__clocks__=B);null==c&&(c="float_second");q(e=d=this.__clocks__["$[]"](a))?e:this.$raise(b.const_get_qualified(b.const_get_relative(h,"Errno"),"EINVAL"),"clock_gettime("+a+") "+this.__clocks__["$[]"](a));e=d();switch(c){case "float_second":return e/1E3;case "float_millisecond":return e/1;case "float_microsecond":return 1E3*e;case "second":return e/1E3|0;case "millisecond":return e/1|0;case "microsecond":return 1E3*e|0;case "nanosecond":return 1E6*e|0;default:this.$raise(b.const_get_relative(h,
"ArgumentError"),"unexpected unit: "+c)}},g.$$arity=-2)})(u[0],null,u);(function(p,$super,a){function m(){}p=m=v(p,$super,"Signal",m);[p].concat(a);var h;return b.defs(p,"$trap",h=function(a){return B},h.$$arity=-1)})(u[0],null,u);return function(p,$super,a){function m(){}p=m=v(p,$super,"GC",m);[p].concat(a);var h;return b.defs(p,"$start",h=function(){return B},h.$$arity=0)}(u[0],null,u)},Opal.modules["corelib/random/seedrandom"]=function(b){var u=[],B=b.klass;return function(b,$super,p){function u(){}
[u=B(b,$super,"Random",u)].concat(p);!function(a,b){function h(e,f,h){var A=[];f=1==f?{entropy:!0}:f||{};e=g(w(f.entropy?[e,n(a)]:null==e?c():e,3),A);var E=new y(A),A=function(){for(var a=E.g(p),c=k,b=0;a<u;)a=(a+b)*d,c*=d,b=E.g(1);for(;a>=x;)a/=2,c/=2,b>>>=1;return(a+b)/c};return A.int32=function(){return 0|E.g(4)},A.quick=function(){return E.g(4)/4294967296},A["double"]=A,g(n(E.S),a),(f.pass||h||function(a,c,d,e){return e&&(e.S&&l(e,E),a.state=function(){return l(E,{})}),d?(b[t]=a,c):a})(A,e,"global"in
f?f.global:this==b,f.state)}function y(a){var c,b=a.length,e=this,f=0,g=e.i=e.j=0,m=e.S=[];for(b||(a=[b++]);f<d;)m[f]=f++;for(f=0;f<d;f++)m[f]=m[g=v&g+a[f%b]+(c=m[f])],m[g]=c;(e.g=function(a){for(var c,b=0,f=e.i,g=e.j,m=e.S;a--;)c=m[f=v&f+1],b=b*d+m[v&(m[f]=m[g=v&g+c])+(m[g]=c)];return e.i=f,e.j=g,b})(d)}function l(a,c){return c.i=a.i,c.j=a.j,c.S=a.S.slice(),c}function w(a,c){var b,d=[],e=typeof a;if(c&&"object"==e)for(b in a)if(a.hasOwnProperty(b))try{d.push(w(a[b],c-1))}catch(f){}return d.length?
d:"string"==e?a:a+"\x00"}function g(a,c){for(var b,d=a+"",e=0;e<d.length;)c[v&e]=v&(b^=19*c[v&e])+d.charCodeAt(e++);return n(c)}function c(){try{if(f)return n(f.randomBytes(d));var c=new Uint8Array(d);return(e.crypto||e.msCrypto).getRandomValues(c),n(c)}catch(b){return c=e.navigator,[+new Date,e,c&&c.plugins,e.screen,n(a)]}}function n(a){return String.fromCharCode.apply(0,a)}var f,e=this,d=256,p=6,t="random",k=b.pow(d,p),u=b.pow(2,52),x=2*u,v=d-1;if(b["seed"+t]=h,g(b.random(),a),"object"==typeof module&&
module.exports){module.exports=h;try{f=require("crypto")}catch(Q){}}else"function"==typeof define&&define.amd&&define("seekrandom",function(){return h})}([],Math)}(u[0],null,u)},Opal.modules["corelib/random"]=function(b){var u=b.top,B=[],v=b.nil,q=b.klass,p=b.truthy,D=b.send;b.add_stubs("$require $attr_reader $coerce_to! $reseed $new_seed $rand $seed $new $=== $== $state $encode $join $map $times $chr $raise".split(" "));u.$require("corelib/random/seedrandom.js");return function(a,$super,h){function y(){}
a=y=q(a,$super,"Random",y);var l=[a].concat(h),w,g,c,n,f,e,d,S;a.$attr_reader("seed","state");b.defn(a,"$initialize",w=function(a){null==a&&(a=b.const_get_relative(l,"Random").$new_seed());this.state=a=b.const_get_relative(l,"Opal")["$coerce_to!"](a,b.const_get_relative(l,"Integer"),"to_int");return this.$reseed(a)},w.$$arity=-1);b.defn(a,"$reseed",g=function(a){this.seed=a;return this.$rng=new Math.seedrandom(a)},g.$$arity=1);var t=new Math.seedrandom("opal",{entropy:!0});b.defs(a,"$new_seed",c=
function(){return Math.abs(t.int32())},c.$$arity=0);b.defs(a,"$rand",n=function(a){return b.const_get_relative(l,"DEFAULT").$rand(a)},n.$$arity=-1);b.defs(a,"$srand",f=function(a){var c=v;null==a&&(a=b.const_get_relative(l,"Random").$new_seed());a=b.const_get_relative(l,"Opal")["$coerce_to!"](a,b.const_get_relative(l,"Integer"),"to_int");c=b.const_get_relative(l,"DEFAULT").$seed();b.const_get_relative(l,"DEFAULT").$reseed(a);return c},f.$$arity=-1);b.const_set(l[0],"DEFAULT",a.$new(a.$new_seed()));
b.defn(a,"$==",e=function(a){return p(b.const_get_relative(l,"Random")["$==="](a))?this.$seed()["$=="](a.$seed())?this.$state()["$=="](a.$state()):this.$seed()["$=="](a.$seed()):!1},e.$$arity=1);b.defn(a,"$bytes",d=function(a){var c;a=b.const_get_relative(l,"Opal")["$coerce_to!"](a,b.const_get_relative(l,"Integer"),"to_int");return D(a.$times(),"map",[],(c=function(){return(c.$$s||this).$rand(255).$chr()},c.$$s=this,c.$$arity=0,c)).$join().$encode(b.const_get_qualified(b.const_get_relative(l,"Encoding"),
"ASCII_8BIT"))},d.$$arity=1);return(b.defn(a,"$rand",S=function(a){function c(){e.state++;return e.$rng.quick()}function d(){var c=a.begin,b=a.end;if(c===v||b===v)return v;var f=b-c;if(0>f)return v;if(0===f)return c;0!==b%1||0!==c%1||a.exclude||f++;return e.$rand(f)+c}var e=this;if(null==a)return c();if(a.$$is_range)return d();if(a.$$is_number)return 0>=a&&e.$raise(b.const_get_relative(l,"ArgumentError"),"invalid argument - "+a),0===a%1?Math.floor(c()*a):c()*a;a=b.const_get_relative(l,"Opal")["$coerce_to!"](a,
b.const_get_relative(l,"Integer"),"to_int");0>=a&&e.$raise(b.const_get_relative(l,"ArgumentError"),"invalid argument - "+a);return Math.floor(c()*a)},S.$$arity=-1),v)&&"rand"}(B[0],null,B)},Opal.modules["corelib/unsupported"]=function(b){function u(a){switch(b.config.unsupported_features_severity){case "error":b.const_get_relative(p,"Kernel").$raise(b.const_get_relative(p,"NotImplementedError"),a);break;case "warning":h[a]||(h[a]=!0,q.$warn(a))}}var B,v,q=b.top,p=[],D=b.nil,a=b.klass,m=b.module;b.add_stubs(["$raise",
"$warn","$%"]);var h={};(function(m,$super,h){function g(){}m=g=a(m,$super,"String",g);var c=[m].concat(h),n,f,e,d,p,t,k,q,x,u,v,r,W,A,E,C,R,N;b.defn(m,"$<<",n=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("<<"))},n.$$arity=-1);b.defn(m,"$capitalize!",f=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("capitalize!"))},
f.$$arity=-1);b.defn(m,"$chomp!",e=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chomp!"))},e.$$arity=-1);b.defn(m,"$chop!",d=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("chop!"))},d.$$arity=-1);b.defn(m,"$downcase!",p=function(a){return this.$raise(b.const_get_relative(c,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("downcase!"))},p.$$arity=-1);b.defn(m,"$gsub!",t=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("gsub!"))},t.$$arity=-1);b.defn(m,"$lstrip!",k=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("lstrip!"))},
k.$$arity=-1);b.defn(m,"$next!",q=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("next!"))},q.$$arity=-1);b.defn(m,"$reverse!",x=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("reverse!"))},x.$$arity=-1);b.defn(m,"$slice!",u=function(a){return this.$raise(b.const_get_relative(c,
"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("slice!"))},u.$$arity=-1);b.defn(m,"$squeeze!",v=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("squeeze!"))},v.$$arity=-1);b.defn(m,"$strip!",r=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("strip!"))},
r.$$arity=-1);b.defn(m,"$sub!",W=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("sub!"))},W.$$arity=-1);b.defn(m,"$succ!",A=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("succ!"))},A.$$arity=-1);b.defn(m,"$swapcase!",E=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),
"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("swapcase!"))},E.$$arity=-1);b.defn(m,"$tr!",C=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr!"))},C.$$arity=-1);b.defn(m,"$tr_s!",R=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("tr_s!"))},
R.$$arity=-1);return(b.defn(m,"$upcase!",N=function(a){return this.$raise(b.const_get_relative(c,"NotImplementedError"),"String#%s not supported. Mutable String methods are not supported in Opal."["$%"]("upcase!"))},N.$$arity=-1),D)&&"upcase!"})(p[0],null,p);(function(a,h){var w=m(a,"Kernel");[w].concat(h);var g,c;b.defn(w,"$freeze",g=function(){u("Object freezing is not supported by Opal");return this},g.$$arity=0);b.defn(w,"$frozen?",c=function(){u("Object freezing is not supported by Opal");return!1},
c.$$arity=0)})(p[0],p);(function(a,h){var w=m(a,"Kernel");[w].concat(h);var g,c,n;b.defn(w,"$taint",g=function(){u("Object tainting is not supported by Opal");return this},g.$$arity=0);b.defn(w,"$untaint",c=function(){u("Object tainting is not supported by Opal");return this},c.$$arity=0);b.defn(w,"$tainted?",n=function(){u("Object tainting is not supported by Opal");return!1},n.$$arity=0)})(p[0],p);(function(m,$super,h){function g(){}m=g=a(m,$super,"Module",g);[m].concat(h);var c,n,f,e;b.defn(m,
"$public",c=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var e=0;e<b;e++)c[e-0]=arguments[e];0===c.length&&(this.$$module_function=!1);return D},c.$$arity=-1);b.alias(m,"private","public");b.alias(m,"protected","public");b.alias(m,"nesting","public");b.defn(m,"$private_class_method",n=function(a){return this},n.$$arity=-1);b.alias(m,"public_class_method","private_class_method");b.defn(m,"$private_method_defined?",f=function(a){return!1},f.$$arity=1);b.defn(m,"$private_constant",
e=function(a){return D},e.$$arity=-1);b.alias(m,"protected_method_defined?","private_method_defined?");b.alias(m,"public_instance_methods","instance_methods");return b.alias(m,"public_method_defined?","method_defined?")})(p[0],null,p);(function(a,h){var w=m(a,"Kernel");[w].concat(h);var g;b.defn(w,"$private_methods",g=function(a){return[]},g.$$arity=-1);b.alias(w,"private_instance_methods","private_methods")})(p[0],p);(function(a,h){var w=m(a,"Kernel"),g=[w].concat(h),c;b.defn(w,"$eval",c=function(a){return this.$raise(b.const_get_relative(g,
"NotImplementedError"),"To use Kernel#eval, you must first require 'opal-parser'. "+("See https://github.com/opal/opal/blob/"+b.const_get_relative(g,"RUBY_ENGINE_VERSION")+"/docs/opal_parser.md for details."))},c.$$arity=-1)})(p[0],p);b.defs(q,"$public",B=function(a){return D},B.$$arity=-1);return b.defs(q,"$private",v=function(a){return D},v.$$arity=-1)},Opal.modules.opal=function(b){var u=b.top;b.add_stubs(["$require"]);u.$require("opal/base");u.$require("opal/mini");u.$require("corelib/string/inheritance");
u.$require("corelib/string/encoding");u.$require("corelib/math");u.$require("corelib/complex");u.$require("corelib/rational");u.$require("corelib/time");u.$require("corelib/struct");u.$require("corelib/io");u.$require("corelib/main");u.$require("corelib/dir");u.$require("corelib/file");u.$require("corelib/process");u.$require("corelib/random");return u.$require("corelib/unsupported")},Opal.require("opal"));
(function(b,u){"object"===typeof module&&module.exports?module.exports=u:"function"===typeof define&&define.amd?define("asciidoctor",["module"],function(b){return u(b.config())}):b.Asciidoctor=u})(this,function(b){Opal.modules.set=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a<=c:a["$<="](c)}var l=[],w=a.nil,g=a.klass,
c=a.truthy,n=a.send,f=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $- $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));(function(e,$super,f){function l(){}e=l=g(e,$super,"Set",l);var k=e.$$proto,q=[e].concat(f),x,u,v,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,B,L,aa,D,sa,ia,
H,Y,ha,ka;k.hash=w;e.$include(a.const_get_relative(q,"Enumerable"));a.defs(e,"$[]",x=function(a){var c,b=arguments.length;c=b-0;0>c&&(c=0);c=Array(c);for(var e=0;e<b;e++)c[e-0]=arguments[e];return this.$new(c)},x.$$arity=-1);a.defn(e,"$initialize",u=function(b){var e,f=u.$$p,g=f||w;null==b&&(b=w);f&&(u.$$p=null);this.hash=a.const_get_relative(q,"Hash").$new();if(c(b["$nil?"]()))return w;c(a.const_get_relative(q,"Enumerable")["$==="](b))||this.$raise(a.const_get_relative(q,"ArgumentError"),"value must be enumerable");
return c(g)?n(b,"each",[],(e=function(a){var c=e.$$s||this;null==a&&(a=w);return c.$add(g.$call(a))},e.$$s=this,e.$$arity=1,e)):this.$merge(b)},u.$$arity=-1);a.defn(e,"$dup",v=function(){var a=w,a=this.$class().$new();return a.$merge(this)},v.$$arity=0);a.defn(e,"$-",r=function(b){c(b["$respond_to?"]("each"))||this.$raise(a.const_get_relative(q,"ArgumentError"),"value must be enumerable");return this.$dup().$subtract(b)},r.$$arity=1);a.alias(e,"difference","-");a.defn(e,"$inspect",W=function(){return"#<Set: {"+
this.$to_a().$join(",")+"}>"},W.$$arity=0);a.defn(e,"$==",A=function(b){var e,f;return c(this["$equal?"](b))?!0:c(b["$instance_of?"](this.$class()))?this.hash["$=="](b.$instance_variable_get("@hash")):c(c(e=b["$is_a?"](a.const_get_relative(q,"Set")))?this.$size()["$=="](b.$size()):e)?n(b,"all?",[],(f=function(a){var c=f.$$s||this;null==c.hash&&(c.hash=w);null==a&&(a=w);return c.hash["$include?"](a)},f.$$s=this,f.$$arity=1,f)):!1},A.$$arity=1);a.defn(e,"$add",E=function(c){var e=w,e=[c,!0];n(this.hash,
"[]=",a.to_a(e));e[b(e.length,1)];return this},E.$$arity=1);a.alias(e,"<<","add");a.defn(e,"$classify",C=function(){var c,e,f=C.$$p,g=f||w,h=w;f&&(C.$$p=null);if(g===w)return this.$enum_for("classify");h=n(a.const_get_relative(q,"Hash"),"new",[],(c=function(e,f){var g=c.$$s||this,h=w;null==e&&(e=w);null==f&&(f=w);h=[f,g.$class().$new()];n(e,"[]=",a.to_a(h));return h[b(h.length,1)]},c.$$s=this,c.$$arity=2,c));n(this,"each",[],(e=function(c){null==c&&(c=w);return h["$[]"](a.yield1(g,c)).$add(c)},e.$$s=
this,e.$$arity=1,e));return h},C.$$arity=0);a.defn(e,"$collect!",R=function(){var c,b=R.$$p,e=b||w,f=w;b&&(R.$$p=null);if(e===w)return this.$enum_for("collect!");f=this.$class().$new();n(this,"each",[],(c=function(c){null==c&&(c=w);return f["$<<"](a.yield1(e,c))},c.$$s=this,c.$$arity=1,c));return this.$replace(f)},R.$$arity=0);a.alias(e,"map!","collect!");a.defn(e,"$delete",N=function(a){this.hash.$delete(a);return this},N.$$arity=1);a.defn(e,"$delete?",X=function(a){return c(this["$include?"](a))?
(this.$delete(a),this):w},X.$$arity=1);a.defn(e,"$delete_if",P=function(){try{var b,e,f,g=P.$$p,m=g||w;g&&(P.$$p=null);c(b=m!==w)?b:a.ret(this.$enum_for("delete_if"));n(n(this,"select",[],(e=function(c){null==c&&(c=w);return a.yield1(m,c)},e.$$s=this,e.$$arity=1,e)),"each",[],(f=function(a){var c=f.$$s||this;null==c.hash&&(c.hash=w);null==a&&(a=w);return c.hash.$delete(a)},f.$$s=this,f.$$arity=1,f));return this}catch(h){if(h===a.returner)return h.$v;throw h;}},P.$$arity=0);a.defn(e,"$add?",Z=function(a){return c(this["$include?"](a))?
w:this.$add(a)},Z.$$arity=1);a.defn(e,"$each",V=function(){var a=V.$$p,c=a||w;a&&(V.$$p=null);if(c===w)return this.$enum_for("each");n(this.hash,"each_key",[],c.$to_proc());return this},V.$$arity=0);a.defn(e,"$empty?",K=function(){return this.hash["$empty?"]()},K.$$arity=0);a.defn(e,"$eql?",G=function(a){var c;return this.hash["$eql?"](n(a,"instance_eval",[],(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=w);return a.hash},c.$$s=this,c.$$arity=0,c)))},G.$$arity=1);a.defn(e,"$clear",T=function(){this.hash.$clear();
return this},T.$$arity=0);a.defn(e,"$include?",ba=function(a){return this.hash["$include?"](a)},ba.$$arity=1);a.alias(e,"member?","include?");a.defn(e,"$merge",B=function(a){var c;n(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=w);return b.$add(a)},c.$$s=this,c.$$arity=1,c));return this},B.$$arity=1);a.defn(e,"$replace",L=function(a){this.$clear();this.$merge(a);return this},L.$$arity=1);a.defn(e,"$size",aa=function(){return this.hash.$size()},aa.$$arity=0);a.alias(e,"length","size");a.defn(e,
"$subtract",D=function(a){var c;n(a,"each",[],(c=function(a){var b=c.$$s||this;null==a&&(a=w);return b.$delete(a)},c.$$s=this,c.$$arity=1,c));return this},D.$$arity=1);a.defn(e,"$|",sa=function(b){c(b["$respond_to?"]("each"))||this.$raise(a.const_get_relative(q,"ArgumentError"),"value must be enumerable");return this.$dup().$merge(b)},sa.$$arity=1);a.defn(e,"$superset?",ia=function(b){var e,f;c(e=b["$is_a?"](a.const_get_relative(q,"Set")))?e:this.$raise(a.const_get_relative(q,"ArgumentError"),"value must be a set");
return c(h(this.$size(),b.$size()))?!1:n(b,"all?",[],(f=function(a){var c=f.$$s||this;null==a&&(a=w);return c["$include?"](a)},f.$$s=this,f.$$arity=1,f))},ia.$$arity=1);a.alias(e,">=","superset?");a.defn(e,"$proper_superset?",H=function(b){var e,f;c(e=b["$is_a?"](a.const_get_relative(q,"Set")))?e:this.$raise(a.const_get_relative(q,"ArgumentError"),"value must be a set");return c(p(this.$size(),b.$size()))?!1:n(b,"all?",[],(f=function(a){var c=f.$$s||this;null==a&&(a=w);return c["$include?"](a)},f.$$s=
this,f.$$arity=1,f))},H.$$arity=1);a.alias(e,">","proper_superset?");a.defn(e,"$subset?",Y=function(b){var e,f;c(e=b["$is_a?"](a.const_get_relative(q,"Set")))?e:this.$raise(a.const_get_relative(q,"ArgumentError"),"value must be a set");return c(h(b.$size(),this.$size()))?!1:n(this,"all?",[],(f=function(a){null==a&&(a=w);return b["$include?"](a)},f.$$s=this,f.$$arity=1,f))},Y.$$arity=1);a.alias(e,"<=","subset?");a.defn(e,"$proper_subset?",ha=function(b){var e,f;c(e=b["$is_a?"](a.const_get_relative(q,
"Set")))?e:this.$raise(a.const_get_relative(q,"ArgumentError"),"value must be a set");return c(p(b.$size(),this.$size()))?!1:n(this,"all?",[],(f=function(a){null==a&&(a=w);return b["$include?"](a)},f.$$s=this,f.$$arity=1,f))},ha.$$arity=1);a.alias(e,"<","proper_subset?");a.alias(e,"+","|");a.alias(e,"union","|");return(a.defn(e,"$to_a",ka=function(){return this.hash.$keys()},ka.$$arity=0),w)&&"to_a"})(l[0],null,l);return function(c,b){var g=f(c,"Enumerable"),m=[g].concat(b),h;a.defn(g,"$to_set",h=
function(c,b){var d,e=h.$$p,f=e||w;null==c&&(c=a.const_get_relative(m,"Set"));var g=arguments.length;d=g-1;0>d&&(d=0);d=Array(d);for(var l=1;l<g;l++)d[l-1]=arguments[l];e&&(h.$$p=null);return n(c,"new",[this].concat(a.to_a(d)),f.$to_proc())},h.$$arity=-1)}(l[0],l)};Opal.modules["asciidoctor/js/opal_ext/file"]=function(a){var b=[],h=a.nil,p=a.module,l=a.send,w=a.klass,g=a.truthy,c=a.gvars;a.add_stubs("$new $attr_reader $delete $gsub $== $read $size $to_enum $chomp $each_line $readlines $split $===".split(" "));
(function(c,b){var e=p(c,"Kernel"),d=[e].concat(b),g;a.defn(e,"$open",g=function(c,b){var e,f=g.$$p,m=f||h,n=h,n=arguments.length;e=n-1;0>e&&(e=0);e=Array(e);for(var r=1;r<n;r++)e[r-1]=arguments[r];f&&(g.$$p=null);n=l(a.const_get_relative(d,"File"),"new",[c].concat(a.to_a(e)));return m!==h?a.yield1(m,n):n},g.$$arity=-2)})(b[0],b);(function(b,$super,e){function d(){}b=d=w(b,$super,"File",d);var m=b.$$proto,l=[b].concat(e),k,p,y,q,u,r,W,A;m.eof=m.path=h;b.$attr_reader("eof");b.$attr_reader("lineno");
b.$attr_reader("path");a.defn(b,"$initialize",k=function(c,b){var d=h;null==b&&(b="r");this.path=c;this.contents=h;this.eof=!1;this.lineno=0;b=b.$delete("b");d=/:(.*)/;this.flags=b=b.$gsub(d,"");return a.const_get_relative(l,"JAVASCRIPT_IO_MODULE")["$=="]("node")?this.fd=require("fs").openSync(c,b):h},k.$$arity=-2);a.defn(b,"$read",p=function(){var c=h;if(g(this.eof))return"";c=a.const_get_relative(l,"File").$read(this.path);this.eof=!0;this.lineno=c.$size();return c},p.$$arity=0);a.defn(b,"$each_line",
y=function(b){var d=y.$$p,e=d||h,m=h;null==c["/"]&&(c["/"]=h);null==b&&(b=c["/"]);d&&(y.$$p=null);if(g(this.eof))return e!==h?this:[].$to_enum();if(e!==h){m=a.const_get_relative(l,"File").$read(this.path);this.eof=!1;this.lineno=0;for(var d=m.$chomp(),m=m.length!=d.length,d=d.split(b),k=0,n=d.length;k<n;k++)this.lineno+=1,k<n-1||m?a.yield1(e,d[k]+b):a.yield1(e,d[k]);this.eof=!0;return this}return this.$read().$each_line()},y.$$arity=-1);a.defn(b,"$readlines",q=function(){return a.const_get_relative(l,
"File").$readlines(this.path)},q.$$arity=0);a.defs(b,"$readlines",u=function(b,d){var e=h;null==c["/"]&&(c["/"]=h);null==d&&(d=c["/"]);e=a.const_get_relative(l,"File").$read(b);return e.$split(d)},u.$$arity=-2);a.defs(b,"$file?",r=function(a){return!0},r.$$arity=1);a.defs(b,"$readable?",W=function(a){return!0},W.$$arity=1);return a.defs(b,"$read",A=function(c){var b=h;return function(){b=a.const_get_relative(l,"JAVASCRIPT_IO_MODULE");if("node"["$==="](b))return require("fs").readFileSync(c,"utf8");
if("phantomjs"["$==="](b))return require("fs").read(c);if("java_nio"["$==="](b)){var d=Java.type("java.nio.file.Paths"),e=[];Java.type("java.nio.file.Files").readAllLines(d.get(c),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){e.push(a)});return e.join("\n")}if("xmlhttprequest"["$==="](b)){var e="",g=-1;try{d=new XMLHttpRequest,d.open("GET",c,!1),d.addEventListener("load",function(){g=this.status;if(0==g||200==g)e=this.responseText}),d.overrideMimeType("text/plain"),d.send()}catch(m){g=
0}if(404==g||0==g&&""==e)throw a.const_get_relative(l,"IOError").$new("No such file or directory: "+c);return e}return"spidermonkey"["$==="](b)?read(c):""}()},A.$$arity=1)})(b[0],null,b);return function(c,$super,b){function d(){}c=d=w(c,$super,"IO",d);var g=[c].concat(b),m;return a.defs(c,"$read",m=function(c){return a.const_get_relative(g,"File").$read(c)},m.$$arity=1)}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/match_data"]=function(a){var b=[],h=a.nil,p=a.klass,l=a.send;a.add_stubs(["$[]=",
"$-"]);return function(b,$super,c){function m(){}b=m=p(b,$super,"MatchData",m);var f=b.$$proto;[b].concat(c);var e;f.matches=h;return(a.defn(b,"$[]=",e=function(c,b){var e=h,e=[c,b];l(this.matches,"[]=",a.to_a(e));var f=e,e=e.length,e="number"===typeof e?e-1:e["$-"](1);return f[e]},e.$$arity=2),h)&&"[]="}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/kernel"]=function(a){var b=[],h=a.module;return function(b,m){var w=h(b,"Kernel");[w].concat(m);var g;a.defn(w,"$freeze",g=function(){return this},
g.$$arity=0)}(b[0],b)};Opal.modules["asciidoctor/js/opal_ext/thread_safe"]=function(a){var b=[],h=a.nil,p=a.module,l=a.klass;(function(a,b){[p(a,"ThreadSafe")].concat(b);h})(b[0],b);return function(a,$super,c){function b(){}[b=l(a,$super,"Cache",b)].concat(c);return h}(b[0],a.const_get_qualified("::","Hash"),b)};Opal.modules["asciidoctor/js/opal_ext/string"]=function(a){var b=[],h=a.nil,p=a.klass,l=a.truthy,w=a.send;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice $== $with_index $select $[] $even? $_original_unpack".split(" "));
return function(b,$super,m){function f(){}b=f=p(b,$super,"String",f);[b].concat(m);var e,d;l(b["$method_defined?"]("limit_bytesize"))||a.defn(b,"$limit_bytesize",e=function(a){var b=h,b=this.$bytes().$length(),b="number"===typeof a&&"number"===typeof b?a<b:a["$<"](b);if(!l(b))return this.$to_s();b=this.$byteslice(0,a);return b.$to_s()},e.$$arity=1);l(b["$method_defined?"]("limit"))||a.alias(b,"limit","limit_bytesize");a.alias(b,"_original_unpack","unpack");return(a.defn(b,"$unpack",d=function(a){var b;
return a["$=="]("C3")?w(this["$[]"](0,3).$bytes().$select(),"with_index",[],(b=function(a,b){null==b&&(b=h);return b["$even?"]()},b.$$s=this,b.$$arity=2,b)):this.$_original_unpack(a)},d.$$arity=1),h)&&"unpack"}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext/nashorn/io"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=a.nil,p=a.send,l=a.gvars,w=h;null==l.stdout&&(l.stdout=h);null==l.stderr&&(l.stderr=h);a.add_stubs(["$write_proc=","$-"]);w=[function(a){print(a)}];
p(l.stdout,"write_proc=",a.to_a(w));w[b(w.length,1)];w=[function(a){print(a)}];p(l.stderr,"write_proc=",a.to_a(w));return w[b(w.length,1)]};Opal.modules["asciidoctor/js/opal_ext/electron/io"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=a.nil,p=a.send,l=a.gvars,w=h;null==l.stdout&&(l.stdout=h);null==l.stderr&&(l.stderr=h);a.add_stubs(["$write_proc=","$-"]);w=[function(a){console.log(a)}];p(l.stdout,"write_proc=",a.to_a(w));w[b(w.length,1)];w=[function(a){console.error(a)}];
p(l.stderr,"write_proc=",a.to_a(w));return w[b(w.length,1)]};Opal.modules["asciidoctor/js/opal_ext/node/file"]=function(a){var b=[],h=a.klass,p=a.truthy;a.add_stubs(["$exist?"]);return function(b,$super,g){function c(){}b=c=h(b,$super,"File",c);[b].concat(g);var m;return a.defs(b,"$readable?",m=function(a){return p(this["$exist?"](a))?"\n      var fs = require('fs');\n      try {\n        fs.accessSync(path, fs.R_OK);\n        return true;\n      } catch (error) {\n        return false;\n      }\n    ":
!1},m.$$arity=1)}(b[0],null,b)};Opal.modules["asciidoctor/js/opal_ext"]=function(a){var m=a.top,h=[],p=a.nil;a.add_stubs(["$require","$=="]);var l="object"===typeof process&&"object"===typeof process.versions&&1!=process.browser,w="object"===typeof navigator&&"string"===typeof navigator.userAgent&&-1!==typeof navigator.userAgent.indexOf("Electron"),g="object"===typeof window,c="object"===typeof Java&&Java.type,n="object"===typeof java,f="object"===typeof window&&"object"===typeof window.phantom,e=
"function"===typeof importScripts,d="object"===typeof JSRuntime,q,t,k,u;a.load("pathname");a.load("base64");"object"===typeof b&&"object"===typeof b.runtime&&(u=b.runtime,q=u.platform,t=u.engine,k=u.framework,u=u.ioModule);"undefined"===typeof q&&(l?(q=q||"node",t=t||"v8",w&&(k=k||"electron")):c?(q=plaform||"java",t=t||"nashorn"):n?(q=q||"java",t=t||"rhino"):d?(q=q||"standalone",k=k||"spidermonkey"):g&&(q=q||"browser",f&&(k=k||"phantomjs")),e&&(k=k||"webworker"));if("undefined"===typeof q)throw Error("Unable to automatically detect the JavaScript platform, please configure Asciidoctor.js: `Asciidoctor({runtime: {platform: 'node'}})`");
"undefined"===typeof k&&(k="");"undefined"===typeof t&&(t="");if("undefined"!==typeof u){if("spidermonkey"!=u&&"phantomjs"!=u&&"node"!=u&&"java_nio"!=u&&"xmlhttprequest"!=u)throw Error("Invalid IO module, `config.ioModule` must be one of: spidermonkey, phantomjs, node, java_nio or xmlhttprequest");}else if("spidermonkey"===k)u="spidermonkey";else if("phantomjs"===k)u="phantomjs";else if("node"===q)u="node";else if("nashorn"===t)u="java_nio";else if("browser"===q||"undefined"!==typeof XmlHTTPRequest)u=
"xmlhttprequest";else throw Error("Unable to automatically detect the IO module, please configure Asciidoctor.js: `Asciidoctor({runtime: {ioModule: 'node'}})`");a.const_set(h[0],"JAVASCRIPT_IO_MODULE",u);a.const_set(h[0],"JAVASCRIPT_PLATFORM",q);a.const_set(h[0],"JAVASCRIPT_ENGINE",t);a.const_set(h[0],"JAVASCRIPT_FRAMEWORK",k);m.$require("asciidoctor/js/opal_ext/file");m.$require("asciidoctor/js/opal_ext/match_data");m.$require("asciidoctor/js/opal_ext/kernel");m.$require("asciidoctor/js/opal_ext/thread_safe");
m.$require("asciidoctor/js/opal_ext/string");a.const_get_relative(h,"JAVASCRIPT_ENGINE")["$=="]("nashorn")&&m.$require("asciidoctor/js/opal_ext/nashorn/io");a.const_get_relative(h,"JAVASCRIPT_FRAMEWORK")["$=="]("electron")&&m.$require("asciidoctor/js/opal_ext/electron/io");return a.const_get_relative(h,"JAVASCRIPT_PLATFORM")["$=="]("node")?(m.$require("asciidoctor/js/opal_ext/node/file"),a.load("nodejs")):p};Opal.modules["asciidoctor/js/rx"]=function(a){var b=[],h=a.module,b=[h(b[0],"Asciidoctor")].concat(b);
a.const_set(b[0],"P_L","A-Za-z\u00aa\u00b5\u00ba\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02c1\u02c6-\u02d1\u02e0-\u02e4\u02ec\u02ee\u0370-\u0374\u0376\u0377\u037a-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u048a-\u052f\u0531-\u0556\u0559\u0561-\u0587\u05d0-\u05ea\u05f0-\u05f2\u0620-\u064a\u066e\u066f\u0671-\u06d3\u06d5\u06e5\u06e6\u06ee\u06ef\u06fa-\u06fc\u06ff\u0710\u0712-\u072f\u074d-\u07a5\u07b1\u07ca-\u07ea\u07f4\u07f5\u07fa\u0800-\u0815\u081a\u0824\u0828\u0840-\u0858\u08a0-\u08b4\u0904-\u0939\u093d\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098c\u098f\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09ce\u09dc\u09dd\u09df-\u09e1\u09f0\u09f1\u0a05-\u0a0a\u0a0f\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32\u0a33\u0a35\u0a36\u0a38\u0a39\u0a59-\u0a5c\u0a5e\u0a72-\u0a74\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2\u0ab3\u0ab5-\u0ab9\u0abd\u0ad0\u0ae0\u0ae1\u0af9\u0b05-\u0b0c\u0b0f\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32\u0b33\u0b35-\u0b39\u0b3d\u0b5c\u0b5d\u0b5f-\u0b61\u0b71\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99\u0b9a\u0b9c\u0b9e\u0b9f\u0ba3\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bd0\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c58-\u0c5a\u0c60\u0c61\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cde\u0ce0\u0ce1\u0cf1\u0cf2\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d4e\u0d5f-\u0d61\u0d7a-\u0d7f\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0e01-\u0e30\u0e32\u0e33\u0e40-\u0e46\u0e81\u0e82\u0e84\u0e87\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa\u0eab\u0ead-\u0eb0\u0eb2\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0edc-\u0edf\u0f00\u0f40-\u0f47\u0f49-\u0f6c\u0f88-\u0f8c\u1000-\u102a\u103f\u1050-\u1055\u105a-\u105d\u1061\u1065\u1066\u106e-\u1070\u1075-\u1081\u108e\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fc-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1380-\u138f\u13a0-\u13f5\u13f8-\u13fd\u1401-\u166c\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17d7\u17dc\u1820-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c9\u1a00-\u1a16\u1a20-\u1a54\u1aa7\u1b05-\u1b33\u1b45-\u1b4b\u1b83-\u1ba0\u1bae\u1baf\u1bba-\u1be5\u1c00-\u1c23\u1c4d-\u1c4f\u1c5a-\u1c7d\u1ce9-\u1cec\u1cee-\u1cf1\u1cf5\u1cf6\u1d00-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2139\u213c-\u213f\u2145-\u2149\u214e\u2183\u2184\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2ce4\u2ceb-\u2cee\u2cf2\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u2e2f\u3005\u3006\u3031-\u3035\u303b\u303c\u3041-\u3096\u309d-\u309f\u30a1-\u30fa\u30fc-\u30ff\u3105-\u312d\u3131-\u318e\u31a0-\u31ba\u31f0-\u31ff\u3400-\u4db5\u4e00-\u9fd5\ua000-\ua48c\ua4d0-\ua4fd\ua500-\ua60c\ua610-\ua61f\ua62a\ua62b\ua640-\ua66e\ua67f-\ua69d\ua6a0-\ua6e5\ua717-\ua71f\ua722-\ua788\ua78b-\ua7ad\ua7b0-\ua7b7\ua7f7-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua840-\ua873\ua882-\ua8b3\ua8f2-\ua8f7\ua8fb\ua8fd\ua90a-\ua925\ua930-\ua946\ua960-\ua97c\ua984-\ua9b2\ua9cf\ua9e0-\ua9e4\ua9e6-\ua9ef\ua9fa-\ua9fe\uaa00-\uaa28\uaa40-\uaa42\uaa44-\uaa4b\uaa60-\uaa76\uaa7a\uaa7e-\uaaaf\uaab1\uaab5\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadd\uaae0-\uaaea\uaaf2-\uaaf4\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5c-\uab65\uab70-\uabe2\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb38-\ufb3c\ufb3e\ufb40\ufb41\ufb43\ufb44\ufb46-\ufbb1\ufbd3-\ufd3d\ufd50-\ufd8f\ufd92-\ufdc7\ufdf0-\ufdfb\ufe70-\ufe74\ufe76-\ufefc\uff21-\uff3a\uff41-\uff5a\uff66-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc");
a.const_set(b[0],"P_Nl","\u16ee-\u16f0\u2160-\u2182\u2185-\u2188\u3007\u3021-\u3029\u3038-\u303a\ua6e6-\ua6ef");a.const_set(b[0],"P_Nd","0-9\u0660-\u0669\u06f0-\u06f9\u07c0-\u07c9\u0966-\u096f\u09e6-\u09ef\u0a66-\u0a6f\u0ae6-\u0aef\u0b66-\u0b6f\u0be6-\u0bef\u0c66-\u0c6f\u0ce6-\u0cef\u0d66-\u0d6f\u0de6-\u0def\u0e50-\u0e59\u0ed0-\u0ed9\u0f20-\u0f29\u1040-\u1049\u1090-\u1099\u17e0-\u17e9\u1810-\u1819\u1946-\u194f\u19d0-\u19d9\u1a80-\u1a89\u1a90-\u1a99\u1b50-\u1b59\u1bb0-\u1bb9\u1c40-\u1c49\u1c50-\u1c59\ua620-\ua629\ua8d0-\ua8d9\ua900-\ua909\ua9d0-\ua9d9\ua9f0-\ua9f9\uaa50-\uaa59\uabf0-\uabf9\uff10-\uff19");
a.const_set(b[0],"P_Pc","_\u203f\u2040\u2054\ufe33\ufe34\ufe4d-\ufe4f\uff3f");a.const_set(b[0],"CC_ALPHA",""+a.const_get_relative(b,"P_L")+a.const_get_relative(b,"P_Nl"));a.const_set(b[0],"CG_ALPHA","["+a.const_get_relative(b,"CC_ALPHA")+"]");a.const_set(b[0],"CC_ALNUM",""+a.const_get_relative(b,"CC_ALPHA")+a.const_get_relative(b,"P_Nd"));a.const_set(b[0],"CG_ALNUM","["+a.const_get_relative(b,"CC_ALNUM")+"]");a.const_set(b[0],"CC_WORD",""+a.const_get_relative(b,"CC_ALNUM")+a.const_get_relative(b,
"P_Pc"));a.const_set(b[0],"CG_WORD","["+a.const_get_relative(b,"CC_WORD")+"]");a.const_set(b[0],"CG_BLANK","[ \\t]");a.const_set(b[0],"CC_EOL","(?=\\n|$)");a.const_set(b[0],"CG_GRAPH","[^\\s\\x00-\\x1F\\x7F]");a.const_set(b[0],"CC_ALL","[\\s\\S]")};Opal.modules.strscan=function(a){var b=[],h=a.nil,p=a.klass,l=a.send;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $- $private".split(" "));return function(b,$super,c){function m(){}b=m=p(b,$super,"StringScanner",m);var f=b.$$proto;
[b].concat(c);var e,d,q,t,k,u,x,v,B,r,W,A,E,C,R,N,X,P,Z,V,K,G,T,ba,D;f.pos=f.string=f.working=f.matched=f.prev_pos=f.match=h;b.$attr_reader("pos");b.$attr_reader("matched");a.defn(b,"$initialize",e=function(a){this.string=a;this.pos=0;this.matched=h;this.working=a;return this.match=[]},e.$$arity=1);b.$attr_reader("string");a.defn(b,"$beginning_of_line?",d=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},d.$$arity=0);a.alias(b,"bol?","beginning_of_line?");a.defn(b,"$scan",q=function(a){a=
this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=this.working.substring(a.length),a):h},q.$$arity=1);a.defn(b,"$scan_until",t=function(a){a=this.$anchor(a);for(var c=this.pos,b=this.working,d;;)if(d=a.exec(b),c+=1,b=b.substr(1),null==d){if(0===b.length)return this.matched=h}else return this.matched=
this.string.substr(this.pos,c-this.pos-1+d[0].length),this.prev_pos=c-1,this.pos=c,this.working=b.substr(d[0].length),this.matched},t.$$arity=1);a.defn(b,"$[]",k=function(a){var c=this.match;0>a&&(a+=c.length);return 0>a||a>=c.length||null==c[a]?h:c[a]},k.$$arity=1);a.defn(b,"$check",u=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=h:this.matched=a[0]},u.$$arity=1);a.defn(b,"$check_until",x=function(a){var c=this.prev_pos,b=this.pos;a=this.$scan_until(a);a!==h&&(this.matched=
a.substr(-1),this.working=this.string.substr(b));this.prev_pos=c;this.pos=b;return a},x.$$arity=1);a.defn(b,"$peek",v=function(a){return this.working.substring(0,a)},v.$$arity=1);a.defn(b,"$eos?",B=function(){return 0===this.working.length},B.$$arity=0);a.defn(b,"$exist?",r=function(a){a=a.exec(this.working);return null==a?h:0==a.index?0:a.index+1},r.$$arity=1);a.defn(b,"$skip",W=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=h;a=a[0];var c=a.length;this.matched=
a;this.prev_pos=this.pos;this.pos+=c;this.working=this.working.substring(c);return c},W.$$arity=1);a.defn(b,"$skip_until",A=function(a){a=this.$scan_until(a);if(a===h)return h;this.matched=a.substr(-1);return a.length},A.$$arity=1);a.defn(b,"$get_byte",E=function(){var a=h;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=h;return a},E.$$arity=0);a.alias(b,"getch","get_byte");a.defn(b,"$match?",
C=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return h;this.prev_pos=this.pos;return a[0].length},C.$$arity=1);a.defn(b,"$pos=",R=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},R.$$arity=1);a.defn(b,"$matched_size",N=function(){return this.matched===h?h:this.matched.length},N.$$arity=0);a.defn(b,"$post_match",X=function(){return this.matched===h?h:this.string.substr(this.pos)},X.$$arity=0);a.defn(b,"$pre_match",P=function(){return this.matched===
h?h:this.string.substr(0,this.prev_pos)},P.$$arity=0);a.defn(b,"$reset",Z=function(){this.working=this.string;this.matched=h;return this.pos=0},Z.$$arity=0);a.defn(b,"$rest",V=function(){return this.working},V.$$arity=0);a.defn(b,"$rest?",K=function(){return 0!==this.working.length},K.$$arity=0);a.defn(b,"$rest_size",G=function(){return this.$rest().$size()},G.$$arity=0);a.defn(b,"$terminate",T=function(){var c=h;this.match=h;c=[this.string.$length()];l(this,"pos=",a.to_a(c));var b=c,c=c.length,c=
"number"===typeof c?c-1:c["$-"](1);return b[c]},T.$$arity=0);a.defn(b,"$unscan",ba=function(){this.pos=this.prev_pos;this.match=this.prev_pos=h;return this},ba.$$arity=0);b.$private();return(a.defn(b,"$anchor",D=function(a){var c=a.toString().match(/\/([^\/]+)$/),c=c?c[1]:void 0;return new RegExp("^(?:"+a.source+")",c)},D.$$arity=1),h)&&"anchor"}(b[0],null,b)};Opal.modules["asciidoctor/js"]=function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/js/opal_ext");b.$require("asciidoctor/js/rx");
return b.$require("strscan")};Opal.modules["asciidoctor/version"]=function(a){var b=[],h=a.module,b=[h(b[0],"Asciidoctor")].concat(b);a.const_set(b[0],"VERSION","1.5.6.dev")};Opal.modules["asciidoctor/timings"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}var l=[],w=a.nil,g=a.module,c=a.klass,n=a.hash2,
f=a.send,e=a.truthy,d=a.gvars;a.add_stubs("$now $[]= $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(l,t){var k=[g(l,"Asciidoctor")].concat(t);(function(g,$super,k){function l(){}g=l=c(g,$super,"Timings",l);var r=g.$$proto;[g].concat(k);var t,q,u,C,S,v,X,P;r.timers=r.log=w;a.defn(g,"$initialize",t=function(){this.log=n([],{});return this.timers=n([],{})},t.$$arity=0);a.defn(g,"$start",q=function(c){var d=w,d=[c,a.const_get_qualified("::","Time").$now()];
f(this.timers,"[]=",a.to_a(d));return d[b(d.length,1)]},q.$$arity=1);a.defn(g,"$record",u=function(c){var d=w,d=[c,b(a.const_get_qualified("::","Time").$now(),this.timers.$delete(c))];f(this.log,"[]=",a.to_a(d));return d[b(d.length,1)]},u.$$arity=1);a.defn(g,"$read_parse",C=function(){var a,c=w;return e(h(c=p(e(a=this.log["$[]"]("read"))?a:0,e(a=this.log["$[]"]("parse"))?a:0),0))?c:w},C.$$arity=0);a.defn(g,"$convert",S=function(){var a;return e(a=this.log["$[]"]("convert"))?a:0},S.$$arity=0);a.defn(g,
"$read_parse_convert",v=function(){var a,c=w;return e(h(c=p(p(e(a=this.log["$[]"]("read"))?a:0,e(a=this.log["$[]"]("parse"))?a:0),e(a=this.log["$[]"]("convert"))?a:0),0))?c:w},v.$$arity=0);a.defn(g,"$total",X=function(){var a,c=w;return e(h(c=p(p(p(e(a=this.log["$[]"]("read"))?a:0,e(a=this.log["$[]"]("parse"))?a:0),e(a=this.log["$[]"]("convert"))?a:0),e(a=this.log["$[]"]("write"))?a:0),0))?c:w},X.$$arity=0);return(a.defn(g,"$print_report",P=function(a,c){null==d.stdout&&(d.stdout=w);null==a&&(a=d.stdout);
null==c&&(c=w);e(c)&&a.$puts("Input file: "+c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},P.$$arity=-1),w)&&"print_report"})(k[0],null,k)}(l[0],l)};Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var b=[],h=a.nil,p=a.klass,l=a.truthy;a.add_stubs(["$method_defined?"]);
(function(b,$super,c){function m(){}b=m=p(b,$super,"NilClass",m);[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","nil?")})(b[0],null,b);(function(b,$super,c){function m(){}b=m=p(b,$super,"String",m);[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);(function(b,$super,c){function m(){}b=m=p(b,$super,"Array",m);[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?",
"empty?")})(b[0],null,b);(function(b,$super,c){function m(){}b=m=p(b,$super,"Hash",m);[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","empty?")})(b[0],null,b);return function(b,$super,c){function m(){}b=m=p(b,$super,"Numeric",m);[b].concat(c);return l(b["$method_defined?"]("nil_or_empty?"))?h:a.alias(b,"nil_or_empty?","nil?")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/regexp/is_match"]=function(a){var b=[],h=a.nil,p=a.klass,l=a.truthy;a.add_stubs(["$method_defined?"]);
return function(b,$super,c){function m(){}b=m=p(b,$super,"Regexp",m);[b].concat(c);return l(b["$method_defined?"]("match?"))?h:a.alias(b,"match?","===")}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/string/limit_bytesize"]=function(a){var b=[],h=a.nil,p=a.klass,l=a.truthy;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(b,$super,c){function m(){}b=m=p(b,$super,"String",m);[b].concat(c);var f;return l(b["$method_defined?"]("limit_bytesize"))?
h:(a.defn(b,"$limit_bytesize",f=function(c){var b=h,b=this.$bytesize(),b="number"===typeof c&&"number"===typeof b?c<b:c["$<"](b);if(!l(b))return this;for(;!l((b=this.$byteslice(0,c)).$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"))["$valid_encoding?"]());)c="number"===typeof c?c-1:c["$-"](1);return b},f.$$arity=1),h)&&"limit_bytesize"}(b[0],null,b)};Opal.modules["asciidoctor/core_ext/1.8.7/io/write"]=function(a){var b,h=[],p=a.nil,l=a.truthy,q=a.send;a.add_stubs(["$respond_to?",
"$open","$write"]);return l(a.const_get_relative(h,"IO")["$respond_to?"]("write"))?p:a.defs(a.const_get_relative(h,"IO"),"$write",b=function(b,c,m,f){var e;null==m&&(m=0);null==f&&(f=p);return q(a.const_get_relative(h,"File"),"open",[b,"w"],(e=function(a){null==a&&(a=p);return a.$write(c)},e.$$s=this,e.$$arity=1,e))},b.$$arity=-3)};Opal.modules["asciidoctor/core_ext"]=function(a){var b=a.top,h=[],p=a.nil,l=a.truthy;a.add_stubs(["$require","$==","$!="]);b.$require("asciidoctor/core_ext/nil_or_empty");
b.$require("asciidoctor/core_ext/regexp/is_match");if(l(a.const_get_relative(h,"RUBY_MIN_VERSION_1_9")))return b.$require("asciidoctor/core_ext/string/limit_bytesize"),a.const_get_relative(h,"RUBY_ENGINE")["$=="]("opal")?b.$require("asciidoctor/core_ext/1.8.7/io/write"):p;l(a.const_get_relative(h,"RUBY_ENGINE")["$!="]("opal"));return p};Opal.modules["asciidoctor/helpers"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=[],p=a.nil,l=a.module,q=a.truthy,
g=a.send,c=a.range,n=a.gvars;a.add_stubs("$require $== $=== $raise $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $unpack $[] $slice $map $each_line $encode $force_encoding $join $rstrip $[]= $- $encoding $nil_or_empty? $include? $match? $=~ $gsub $each_byte $sprintf $rindex $length $basename $extname $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(f,e){var d=[l(f,"Asciidoctor")].concat(e);(function(d,e){var f=l(d,"Helpers"),h=[f].concat(e),
x,u,v,r,W,A,E,C,R,N;a.defs(f,"$require_library",x=function(c,b,d){var e=p,f=p;null==b&&(b=!0);null==d&&(d="abort");try{return this.$require(c)}catch(g){if(a.rescue(g,[a.const_get_qualified("::","LoadError")])){e=g;try{if(q(b))return b["$=="](!0)&&(b=c),f=d,"abort"["$==="](f)?this.$raise(a.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: required gem '"+b+"' is not installed. Processing aborted."):"warn"["$==="](f)?this.$warn("asciidoctor: WARNING: optional gem '"+b+"' is not installed. Functionality disabled."):
p;f=d;return"abort"["$==="](f)?this.$raise(a.const_get_qualified("::","LoadError"),"asciidoctor: FAILED: "+e.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](f)?this.$warn("asciidoctor: WARNING: "+e.$message().$chomp(".")+". Functionality disabled."):p}finally{a.pop_exception()}}else throw g;}},x.$$arity=-2);a.defs(f,"$normalize_lines",u=function(c){return c.$class()["$=="](a.const_get_qualified("::","String"))?this.$normalize_lines_from_string(c):this.$normalize_lines_array(c)},u.$$arity=
1);a.defs(f,"$normalize_lines_array",v=function(d){var e,f,k,l,r=p,t=p,n=p,x=p,r=p;if(q(d["$empty?"]()))return d;r=(t=d["$[]"](0)).$unpack("C3");if(q(a.const_get_relative(h,"COERCE_ENCODING"))){n=a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8");if((x=r.$slice(0,2))["$=="](a.const_get_relative(h,"BOM_BYTES_UTF_16LE")))return g(d.$join().$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](c(1,-1,!1)).$encode(n).$each_line(),"map",[],
(e=function(a){null==a&&(a=p);return a.$rstrip()},e.$$s=this,e.$$arity=1,e));if(x["$=="](a.const_get_relative(h,"BOM_BYTES_UTF_16BE")))return r=[0,t.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16BE"))["$[]"](c(1,-1,!1))],g(d,"[]=",a.to_a(r)),r[b(r.length,1)],g(d,"map",[],(f=function(c){null==c&&(c=p);return""+c.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16BE")).$encode(n).$rstrip()},f.$$s=this,f.$$arity=1,f));r["$=="](a.const_get_relative(h,
"BOM_BYTES_UTF_8"))&&(r=[0,t.$force_encoding(n)["$[]"](c(1,-1,!1))],g(d,"[]=",a.to_a(r)),r[b(r.length,1)]);return g(d,"map",[],(k=function(a){null==a&&(a=p);return a.$encoding()["$=="](n)?a.$rstrip():a.$force_encoding(n).$rstrip()},k.$$s=this,k.$$arity=1,k))}r["$=="](a.const_get_relative(h,"BOM_BYTES_UTF_8"))&&(r=[0,t["$[]"](c(3,-1,!1))],g(d,"[]=",a.to_a(r)),r[b(r.length,1)]);return g(d,"map",[],(l=function(a){null==a&&(a=p);return a.$rstrip()},l.$$s=this,l.$$arity=1,l))},v.$$arity=1);a.defs(f,"$normalize_lines_from_string",
r=function(b){var d,e=p,f=p,m=p;if(q(b["$nil_or_empty?"]()))return[];e=b.$unpack("C3");q(a.const_get_relative(h,"COERCE_ENCODING"))?(f=a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8"),(m=e.$slice(0,2))["$=="](a.const_get_relative(h,"BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_16LE"))["$[]"](c(1,-1,!1)).$encode(f):m["$=="](a.const_get_relative(h,"BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.const_get_qualified(a.const_get_qualified("::",
"Encoding"),"UTF_16BE"))["$[]"](c(1,-1,!1)).$encode(f):e["$=="](a.const_get_relative(h,"BOM_BYTES_UTF_8"))?b=b.$encoding()["$=="](f)?b["$[]"](c(1,-1,!1)):b.$force_encoding(f)["$[]"](c(1,-1,!1)):b.$encoding()["$=="](f)||(b=b.$force_encoding(f))):e["$=="](a.const_get_relative(h,"BOM_BYTES_UTF_8"))&&(b=b["$[]"](c(3,-1,!1)));return g(b.$each_line(),"map",[],(d=function(a){null==a&&(a=p);return a.$rstrip()},d.$$s=this,d.$$arity=1,d))},r.$$arity=1);a.defs(f,"$uriish?",W=function(c){var b;return q(b=c["$include?"](":"))?
a.const_get_relative(h,"UriSniffRx")["$match?"](c):b},W.$$arity=1);a.defs(f,"$uri_prefix",A=function(c){var b;return q(q(b=c["$include?"](":"))?a.const_get_relative(h,"UriSniffRx")["$=~"](c):b)?(b=n["~"])===p?p:b["$[]"](0):p},A.$$arity=1);a.const_set(h[0],"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(f,"$encode_uri",E=function(c){var b;return g(c,"gsub",[a.const_get_relative(h,"REGEXP_ENCODE_URI_CHARS")],(b=function(){var a=b.$$s||this,c,d;return g(((c=n["~"])===p?p:c["$[]"](0)).$each_byte(),
"map",[],(d=function(a){var c=d.$$s||this;null==a&&(a=p);return c.$sprintf("%%%02X",a)},d.$$s=a,d.$$arity=1,d)).$join()},b.$$s=this,b.$$arity=0,b))},E.$$arity=1);a.defs(f,"$rootname",C=function(a){var c;return a.$slice(0,q(c=a.$rindex("."))?c:a.$length())},C.$$arity=1);a.defs(f,"$basename",R=function(c,b){null==b&&(b=p);return q(b)?a.const_get_qualified("::","File").$basename(c,b["$=="](!0)?a.const_get_qualified("::","File").$extname(c):b):a.const_get_qualified("::","File").$basename(c)},R.$$arity=
-2);a.defs(f,"$mkdir_p",N=function(c){var b,d=p;if(q(a.const_get_qualified("::","File")["$directory?"](c)))return p;d=a.const_get_qualified("::","File").$dirname(c);q(q(b=a.const_get_qualified("::","File")["$directory?"](d=a.const_get_qualified("::","File").$dirname(c))["$!"]())?d["$!="]("."):b)&&this.$mkdir_p(d);return a.const_get_qualified("::","Dir").$mkdir(c)},N.$$arity=1)})(d[0],d)}(h[0],h)};Opal.modules["asciidoctor/substitutors"]=function(a){function b(a,c){return"number"===typeof a&&"number"===
typeof c?a+c:a["$+"](c)}function h(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function p(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function l(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function q(a,c){return"number"===typeof a&&"number"===typeof c?a<c:a["$<"](c)}var g=[],c=a.nil,n=a.slice,f=a.module,e=a.hash2,d=a.truthy,u=a.send,t=a.gvars,k=a.range;a.add_stubs("$freeze $+ $keys $attr_reader $empty? $=== $[] $each $<< $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $== $nil_or_empty? $length $> $- $end_with? $parse_attributes $size $[]= $unescape_brackets $resolve_pass_subs $start_with? $! $to_sym $attributes $basebackend? $to_i $convert $new $clear $convert_quoted_text $do_replacement $sub $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $slice $strip $map $pop $unescape_bracketed_text $rstrip $extensions $inline_macros? $inline_macros $regexp $instance $names $config $dup $!= $process_method $register $tr $basename $split_simple_csv $normalize_string $!~ $chop $delete $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $footnotes $id $index $text $style $lstrip $rindex $catalog $key $attr? $escape $attr $read_next_id $callouts $< $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $join $match? $chr $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $find_by_alias $find_by_mimetype $name $option? $=~ $to_a $uniq $sort $resolve_block_subs".split(" "));
return function(g,x){var v=[f(g,"Asciidoctor")].concat(x);(function(g,r){var x=f(g,"Substitutors"),A=[x].concat(r),v,C,R,da,X,P,Z,V,K,G,T,ba,B,ea,D,U,sa,ia,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja,ta;a.const_set(A[0],"SpecialCharsRx",/[<&>]/);a.const_set(A[0],"SpecialCharsTr",e([">","<","&"],{">":"&gt;","<":"&lt;","&":"&amp;"}));a.const_set(A[0],"BASIC_SUBS",["specialcharacters"]).$freeze();a.const_set(A[0],"HEADER_SUBS",["specialcharacters","attributes"]).$freeze();a.const_set(A[0],"NORMAL_SUBS","specialcharacters quotes attributes replacements macros post_replacements".split(" ")).$freeze();
a.const_set(A[0],"NONE_SUBS",[]).$freeze();a.const_set(A[0],"TITLE_SUBS","specialcharacters quotes replacements macros attributes post_replacements".split(" ")).$freeze();a.const_set(A[0],"VERBATIM_SUBS",["specialcharacters","callouts"]).$freeze();a.const_set(A[0],"SUB_GROUPS",e(["none","normal","verbatim","specialchars"],{none:a.const_get_relative(A,"NONE_SUBS"),normal:a.const_get_relative(A,"NORMAL_SUBS"),verbatim:a.const_get_relative(A,"VERBATIM_SUBS"),specialchars:a.const_get_relative(A,"BASIC_SUBS")}));
a.const_set(A[0],"SUB_HINTS",e("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",r:"replacements",c:"specialcharacters",v:"verbatim"}));a.const_set(A[0],"SUB_OPTIONS",e(["block","inline"],{block:b(b(a.const_get_relative(A,"SUB_GROUPS").$keys(),a.const_get_relative(A,"NORMAL_SUBS")),["callouts"]),inline:b(a.const_get_relative(A,"SUB_GROUPS").$keys(),a.const_get_relative(A,"NORMAL_SUBS"))}));a.const_set(A[0],"SUB_HIGHLIGHT",["coderay","pygments"]);a.const_set(A[0],
"PASS_START","\u0096");a.const_set(A[0],"PASS_END","\u0097");a.const_set(A[0],"PassSlotRx",new RegExp(""+a.const_get_relative(A,"PASS_START")+"(\\d+)"+a.const_get_relative(A,"PASS_END")));a.const_set(A[0],"HighlightedPassSlotRx",new RegExp("<span\\b[^>]*?>"+a.const_get_relative(A,"PASS_START")+"</span>[^\\d]*(\\d+)[^\\d]*<span\\b[^>]*?>"+a.const_get_relative(A,"PASS_END")+"</span>"));a.const_set(A[0],"RS","\\");a.const_set(A[0],"R_SB","]");a.const_set(A[0],"ESC_R_SB","\\]");a.const_set(A[0],"PLUS",
"+");a.const_set(A[0],"PygmentsWrapperDivRx",/<div class="pyhl">(.*)<\/div>/m);a.const_set(A[0],"PygmentsWrapperPreRx",/<pre\b[^>]*?>(.*?)<\/pre>\s*/m);x.$attr_reader("passthroughs");a.defn(x,"$apply_subs",v=function(e,f,g){var k,l,r,p=c,t=c,n=c,q=c;null==this.passthroughs&&(this.passthroughs=c);null==f&&(f=a.const_get_relative(A,"NORMAL_SUBS"));null==g&&(g=!1);if(d(d(k=e["$empty?"]())?k:f["$empty?"]()))return e;if(d(g))if(d(a.const_get_qualified("::","Symbol")["$==="](f)))f=d(k=a.const_get_relative(A,
"SUB_GROUPS")["$[]"](f))?k:[f];else if(p=[],u(f,"each",[],(l=function(e){var f=c;null==e&&(e=c);return d(f=a.const_get_relative(A,"SUB_GROUPS")["$[]"](e))?d(f["$empty?"]())?c:p=b(p,f):p["$<<"](e)},l.$$s=this,l.$$arity=1,l)),d((f=p)["$empty?"]()))return e;t=d(n=a.const_get_qualified("::","Array")["$==="](e))?h(e,a.const_get_relative(A,"EOL")):e;d(q=f["$include?"]("macros"))&&(t=this.$extract_passthroughs(t),d(this.passthroughs["$empty?"]())&&(q=!1));u(f,"each",[],(r=function(b){var e=r.$$s||this,g,
m,k=c;null==b&&(b=c);k=b;return"specialcharacters"["$==="](k)?d(d(g=d(m=t["$include?"]("<"))?m:t["$include?"]("&"))?g:t["$include?"](">"))?t=e.$sub_specialchars(t):c:"quotes"["$==="](k)?t=e.$sub_quotes(t):"attributes"["$==="](k)?d(t["$include?"]("{"))?t=h(e.$sub_attributes(t.$split(a.const_get_relative(A,"EOL"),-1)),a.const_get_relative(A,"EOL")):c:"replacements"["$==="](k)?t=e.$sub_replacements(t):"macros"["$==="](k)?t=e.$sub_macros(t):"highlight"["$==="](k)?t=e.$highlight_source(t,f["$include?"]("callouts")):
"callouts"["$==="](k)?d(f["$include?"]("highlight"))?c:t=e.$sub_callouts(t):"post_replacements"["$==="](k)?t=e.$sub_post_replacements(t):e.$warn("asciidoctor: WARNING: unknown substitution type "+b)},r.$$s=this,r.$$arity=1,r));d(q)&&(t=this.$restore_passthroughs(t));return d(n)?t.$split(a.const_get_relative(A,"EOL"),-1):t},v.$$arity=-2);a.defn(x,"$apply_normal_subs",C=function(c){return this.$apply_subs(d(a.const_get_qualified("::","Array")["$==="](c))?h(c,a.const_get_relative(A,"EOL")):c)},C.$$arity=
1);a.defn(x,"$apply_title_subs",R=function(c){return this.$apply_subs(c,a.const_get_relative(A,"TITLE_SUBS"))},R.$$arity=1);a.defn(x,"$apply_header_subs",da=function(c){return this.$apply_subs(c,a.const_get_relative(A,"HEADER_SUBS"))},da.$$arity=1);a.defn(x,"$extract_passthroughs",X=function(b){var f,g,m,r,n,q=c,x=c,w=c,C=c;null==this.document&&(this.document=c);q=this.document.$compat_mode();d(d(f=d(g=b["$include?"]("++"))?g:b["$include?"]("$$"))?f:b["$include?"]("ss:"))&&(b=u(b,"gsub",[a.const_get_relative(A,
"PassInlineMacroRx")],(m=function(){var b=m.$$s||this,f,g=c,r=c,n=c,x=c,w=c,I=c,M=c,x=n=g=c;null==b.passthroughs&&(b.passthroughs=c);null==t["~"]&&(t["~"]=c);g=t["~"];r=c;if(d(n=g["$[]"](4))){if(d(d(f=q)?n["$=="]("++"):f))return d(g["$[]"](2)["$nil_or_empty?"]())?""+g["$[]"](1)+g["$[]"](3)+"++"+b.$extract_passthroughs(g["$[]"](5))+"++":""+g["$[]"](1)+"["+g["$[]"](2)+"]"+g["$[]"](3)+"++"+b.$extract_passthroughs(g["$[]"](5))+"++";x=g["$[]"](2);w=g["$[]"](3).$length();I=g["$[]"](5);M=!1;if(d(x)){if(d(p(w,
0)))return""+g["$[]"](1)+"["+x+"]"+h(a.const_get_relative(A,"RS"),l(w,1))+n+g["$[]"](5)+n;g["$[]"](1)["$=="](a.const_get_relative(A,"RS"))?(r="["+x+"]",x=c):(d(n["$=="]("++")?x["$end_with?"]("x-"):n["$=="]("++"))&&(M=!0,x=x["$[]"](k(0,-2,!0))),x=b.$parse_attributes(x))}else if(d(p(w,0)))return""+h(a.const_get_relative(A,"RS"),l(w,1))+n+g["$[]"](5)+n;g=n["$=="]("+++")?[]:a.const_get_relative(A,"BASIC_SUBS");n=b.passthroughs.$size();x=d(x)?d(M)?[n,e(["text","subs","type","attributes"],{text:I,subs:a.const_get_relative(A,
"NORMAL_SUBS"),type:"monospaced",attributes:x})]:[n,e(["text","subs","type","attributes"],{text:I,subs:g,type:"unquoted",attributes:x})]:[n,e(["text","subs"],{text:I,subs:g})]}else{if(g["$[]"](6)["$=="](a.const_get_relative(A,"RS")))return g["$[]"](0)["$[]"](k(1,-1,!1));x=[n=b.passthroughs.$size(),e(["text","subs"],{text:b.$unescape_brackets(g["$[]"](8)),subs:d(g["$[]"](7))?b.$resolve_pass_subs(g["$[]"](7)):[]})]}u(b.passthroughs,"[]=",a.to_a(x));x[l(x.length,1)];return""+r+a.const_get_relative(A,
"PASS_START")+n+a.const_get_relative(A,"PASS_END")},m.$$s=this,m.$$arity=0,m)));g=a.const_get_relative(A,"PassInlineRx")["$[]"](q);f=a.to_ary(g);x=null==f[0]?c:f[0];w=null==f[1]?c:f[1];C=null==f[2]?c:f[2];g;d(d(f=b["$include?"](x))?f:d(g=w)?b["$include?"](w):g)&&(b=u(b,"gsub",[C],(r=function(){var b=r.$$s||this,f,g=c,m=c,h=c,p=c,n=c,I=c,M=c,n=h=g=c;null==b.passthroughs&&(b.passthroughs=c);null==t["~"]&&(t["~"]=c);g=t["~"];m=g["$[]"](1);h=g["$[]"](2);d(g["$[]"](3)["$start_with?"](a.const_get_relative(A,
"RS")))&&(p=a.const_get_relative(A,"RS"));n=g["$[]"](4);I=g["$[]"](5);d(q)?M=!0:d(M=d(f=h)?h["$end_with?"]("x-"):f)&&(h=h["$[]"](k(0,-2,!0)));if(d(h)){if(d(n["$=="]("`")?M["$!"]():n["$=="]("`")))return""+m+"["+h+"]"+p+"`"+b.$extract_passthroughs(I)+"`";if(d(p))return""+m+"["+h+"]"+g["$[]"](3)["$[]"](k(1,-1,!1));m["$=="](a.const_get_relative(A,"RS"))?(m="["+h+"]",h=c):h=b.$parse_attributes(h)}else{if(d(n["$=="]("`")?M["$!"]():n["$=="]("`")))return""+m+p+"`"+b.$extract_passthroughs(I)+"`";if(d(p))return""+
m+g["$[]"](3)["$[]"](k(1,-1,!1))}g=b.passthroughs.$size();d(q)?h=[g,e(["text","subs","attributes","type"],{text:I,subs:a.const_get_relative(A,"BASIC_SUBS"),attributes:h,type:"monospaced"})]:d(h)?d(M)?(n=n["$=="]("`")?a.const_get_relative(A,"BASIC_SUBS"):a.const_get_relative(A,"NORMAL_SUBS"),h=[g,e(["text","subs","attributes","type"],{text:I,subs:n,attributes:h,type:"monospaced"})]):h=[g,e(["text","subs","attributes","type"],{text:I,subs:a.const_get_relative(A,"BASIC_SUBS"),attributes:h,type:"unquoted"})]:
h=[g,e(["text","subs"],{text:I,subs:a.const_get_relative(A,"BASIC_SUBS")})];u(b.passthroughs,"[]=",a.to_a(h));h[l(h.length,1)];return""+m+a.const_get_relative(A,"PASS_START")+g+a.const_get_relative(A,"PASS_END")},r.$$s=this,r.$$arity=0,r)));d(d(f=b["$include?"](":"))?d(g=b["$include?"]("stem:"))?g:b["$include?"]("math:"):f)&&(b=u(b,"gsub",[a.const_get_relative(A,"StemInlineMacroRx")],(n=function(){var b=n.$$s||this,f=c,g=c,m=c,h=c,r=c,f=g=c;null==b.document&&(b.document=c);null==b.passthroughs&&(b.passthroughs=
c);null==t["~"]&&(t["~"]=c);f=t["~"];if(d(f["$[]"](0)["$start_with?"](a.const_get_relative(A,"RS"))))return f["$[]"](0)["$[]"](k(1,-1,!1));(g=f["$[]"](1).$to_sym())["$=="]("stem")&&(g=(d((m=b.document.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?"asciimath":m).$to_sym());h=b.$unescape_brackets(f["$[]"](3));r=d(f["$[]"](2))?b.$resolve_pass_subs(f["$[]"](2)):d(b.document["$basebackend?"]("html"))?a.const_get_relative(A,"BASIC_SUBS"):[];g=[f=b.passthroughs.$size(),e(["text","subs","type"],{text:h,
subs:r,type:g})];u(b.passthroughs,"[]=",a.to_a(g));g[l(g.length,1)];return""+a.const_get_relative(A,"PASS_START")+f+a.const_get_relative(A,"PASS_END")},n.$$s=this,n.$$arity=0,n)));return b},X.$$arity=1);a.defn(x,"$restore_passthroughs",P=function(b,f){var g,m,h,k=this;null==k.passthroughs&&(k.passthroughs=c);null==f&&(f=!0);return function(){try{return d(d(g=f)?d(m=k.passthroughs["$empty?"]())?m:b["$include?"](a.const_get_relative(A,"PASS_START"))["$!"]():g)?b:u(b,"gsub",[a.const_get_relative(A,"PassSlotRx")],
(h=function(){var b=h.$$s||this,f,g=c,m=c,k=c;null==b.passthroughs&&(b.passthroughs=c);g=b.passthroughs["$[]"](((f=t["~"])===c?c:f["$[]"](1)).$to_i());m=b.$apply_subs(g["$[]"]("text"),g["$[]"]("subs"));d(k=g["$[]"]("type"))&&(m=a.const_get_relative(A,"Inline").$new(b,"quoted",m,e(["type","attributes"],{type:k,attributes:g["$[]"]("attributes")})).$convert());return d(m["$include?"](a.const_get_relative(A,"PASS_START")))?b.$restore_passthroughs(m,!1):m},h.$$s=k,h.$$arity=0,h))}finally{d(f)&&k.passthroughs.$clear()}}()},
P.$$arity=-2);d(a.const_get_qualified("::","RUBY_MIN_VERSION_1_9"))?a.defn(x,"$sub_specialchars",Z=function(c){return c.$gsub(a.const_get_relative(A,"SpecialCharsRx"),a.const_get_relative(A,"SpecialCharsTr"))},Z.$$arity=1):a.defn(x,"$sub_specialchars",V=function(b){var d;return u(b,"gsub",[a.const_get_relative(A,"SpecialCharsRx")],(d=function(){var b;return a.const_get_relative(A,"SpecialCharsTr")["$[]"]((b=t["~"])===c?c:b["$[]"](0))},d.$$s=this,d.$$arity=0,d))},V.$$arity=1);a.alias(x,"sub_specialcharacters",
"sub_specialchars");a.const_get_relative(A,"RUBY_ENGINE")["$=="]("opal")?(a.defn(x,"$sub_quotes",K=function(b){var d;null==this.document&&(this.document=c);u(a.const_get_relative(A,"QUOTE_SUBS")["$[]"](this.document.$compat_mode()),"each",[],(d=function(a,e,f){var g=d.$$s||this,m;null==a&&(a=c);null==e&&(e=c);null==f&&(f=c);return b=u(b,"gsub",[f],(m=function(){var b=m.$$s||this;null==t["~"]&&(t["~"]=c);return b.$convert_quoted_text(t["~"],a,e)},m.$$s=g,m.$$arity=0,m))},d.$$s=this,d.$$arity=3,d));
return b},K.$$arity=1),a.defn(x,"$sub_replacements",G=function(b){var d;u(a.const_get_relative(A,"REPLACEMENTS"),"each",[],(d=function(a,e,f){var g=d.$$s||this,m;null==a&&(a=c);null==e&&(e=c);null==f&&(f=c);return b=u(b,"gsub",[a],(m=function(){var a=m.$$s||this;null==t["~"]&&(t["~"]=c);return a.$do_replacement(t["~"],e,f)},m.$$s=g,m.$$arity=0,m))},d.$$s=this,d.$$arity=3,d));return b},G.$$arity=1)):c;a.defn(x,"$do_replacement",T=function(b,e,f){var g=c,g=c;d((g=b["$[]"](0))["$include?"](a.const_get_relative(A,
"RS")))?b=g.$sub(a.const_get_relative(A,"RS"),""):(g=f,b="none"["$==="](g)?e:"leading"["$==="](g)?""+b["$[]"](1)+e:"bounding"["$==="](g)?""+b["$[]"](1)+e+b["$[]"](2):c);return b},T.$$arity=3);a.defn(x,"$sub_attributes",ba=function(f,g){var k,l=this,r=c,p=c,n=c,q=c;null==l.document&&(l.document=c);null==g&&(g=e([],{}));if(d(f["$nil_or_empty?"]()))return f;d(r=a.const_get_qualified("::","String")["$==="](f))&&(f=[f]);p=l.document.$attributes();n=c;q=[];(function(){var e=a.new_brk();try{return u(f,"each",
[],(k=function(e){var f=k.$$s||this,h,l,r,x=c,w=c;null==e&&(e=c);w=x=!1;d(e["$include?"]("{"))&&(e=function(){var k=a.new_brk();try{return u(e,"gsub",[a.const_get_relative(A,"AttributeReferenceRx")],(h=function(){var e=h.$$s||this,f,l,z,r=c,q=c,Ka=c,y=c,F=c,u=c,C=c,G=c,W=c;null==e.document&&(e.document=c);null==t["~"]&&(t["~"]=c);r=t["~"];return d(d(f=r["$[]"](1)["$=="](a.const_get_relative(A,"RS")))?f:r["$[]"](4)["$=="](a.const_get_relative(A,"RS")))?"{"+r["$[]"](2)+"}":d(r["$[]"](3)["$nil_or_empty?"]()["$!"]())?
(q=b((Ka=r["$[]"](3)).$length(),1),y=r["$[]"](2)["$[]"](a.Range.$new(q,-1,!1)),function(){F=Ka;if("set"["$==="](F))return u=y.$split(":"),l=a.const_get_relative(A,"Parser").$store_attribute(u["$[]"](0),d(z=u["$[]"](1))?z:"",e.document),f=a.to_ary(l),C=null==f[1]?c:f[1],l,!d(C)&&p.$fetch("attribute-undefined",a.const_get_relative(A,"Compliance").$attribute_undefined())["$=="]("drop-line")&&(x=!0,a.brk("",k)),w=!0,"";if("counter"["$==="](F)||"counter2"["$==="](F))return u=y.$split(":"),G=e.document.$counter(u["$[]"](0),
u["$[]"](1)),Ka["$=="]("counter2")?(w=!0,""):G;e.$warn("asciidoctor: WARNING: illegal attribute directive: "+r["$[]"](3));return r["$[]"](0)}()):d(p["$key?"](W=r["$[]"](2).$downcase()))?p["$[]"](W):d(a.const_get_relative(A,"INTRINSIC_ATTRIBUTES")["$key?"](W))?a.const_get_relative(A,"INTRINSIC_ATTRIBUTES")["$[]"](W):function(){F=n=d(f=n)?f:d(l=g["$[]"]("attribute_missing"))?l:p.$fetch("attribute-missing",a.const_get_relative(A,"Compliance").$attribute_missing());if("skip"["$==="](F))return r["$[]"](0);
if("drop-line"["$==="](F))e.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+W),x=!0,a.brk("",k);else{if("warn"["$==="](F))return e.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+W),r["$[]"](0);w=!0;return""}}()},h.$$s=f,h.$$brk=k,h.$$arity=0,h))}catch(l){if(l===k)return l.$v;throw l;}}());return d(d(l=x)?l:d(r=w)?e["$empty?"]():r)?c:q["$<<"](e)},k.$$s=l,k.$$brk=e,k.$$arity=1,k))}catch(h){if(h===e)return h.$v;throw h;}})();return d(r)?
h(q,a.const_get_relative(A,"EOL")):q},ba.$$arity=-2);a.defn(x,"$sub_macros",B=function(b){var f,g,m,h,r,q,x,w,C,G,W,z,v=c,ca=c,O=c,E=c,I=ca=c,M=c,wa=c,ga=c,Ja=c;null==this.document&&(this.document=c);if(d(b["$nil_or_empty?"]()))return b;v=e([],{});ca=(O=["square_bracket",b["$include?"]("[")],u(v,"[]=",a.to_a(O)),O[l(O.length,1)]);E=b["$include?"](":");ca=(O=["macroish",d(f=ca)?E:f],u(v,"[]=",a.to_a(O)),O[l(O.length,1)]);I=d(f=ca)?b["$include?"](":["):f;M=this.document.$attributes();wa=M["$key?"]("linkattrs");
ga=b;d(M["$key?"]("experimental"))&&(d(d(f=I)?d(g=ga["$include?"]("kbd:"))?g:ga["$include?"]("btn:"):f)&&(ga=u(ga,"gsub",[a.const_get_relative(A,"KbdBtnInlineMacroRx")],(m=function(){var b=m.$$s||this,f,g,h,k=c,z=c;return d((f=t["~"])===c?c:f["$[]"](1))?((f=t["~"])===c?c:f["$[]"](0)).$slice(1,((f=t["~"])===c?c:f["$[]"](0)).$length()):((f=t["~"])===c?c:f["$[]"](2))["$=="]("kbd")?(d((k=((f=t["~"])===c?c:f["$[]"](3)).$strip())["$include?"](a.const_get_relative(A,"R_SB")))&&(k=k.$gsub(a.const_get_relative(A,
"ESC_R_SB"),a.const_get_relative(A,"R_SB"))),d(d(f=p(k.$length(),1))?z=k["$[]"](a.const_get_relative(A,"KbdDelimiterRx")):f)?d(k["$end_with?"](z))?(k=u(k.$split(z,-1),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=b,g.$$arity=1,g)),d(k["$[]"](-1)["$empty?"]())&&(k.$pop(),d(k["$[]"](-1)["$empty?"]())&&(O=[-1,z],u(k,"[]=",a.to_a(O)),O[l(O.length,1)]))):k=u(k.$split(z),"map",[],(h=function(a){null==a&&(a=c);return a.$strip()},h.$$s=b,h.$$arity=1,h)):k=[k],a.const_get_relative(A,"Inline").$new(b,
"kbd",c,e(["attributes"],{attributes:e(["keys"],{keys:k})})).$convert()):a.const_get_relative(A,"Inline").$new(b,"button",b.$unescape_bracketed_text((f=t["~"])===c?c:f["$[]"](3))).$convert()},m.$$s=this,m.$$arity=0,m))),d(d(f=ca)?ga["$include?"]("menu:"):f)&&(ga=u(ga,"gsub",[a.const_get_relative(A,"MenuInlineMacroRx")],(h=function(){var b=h.$$s||this,f,g,m=c,l=m=f=c,z=l=f=c;null==t["~"]&&(t["~"]=c);m=t["~"];if(d((f=m["$[]"](0))["$start_with?"](a.const_get_relative(A,"RS"))))return f["$[]"](k(1,-1,
!1));f=[m["$[]"](1),m["$[]"](2)];m=f[0];l=f[1];f;d(l)?(d(l["$include?"](a.const_get_relative(A,"R_SB")))&&(l=l.$gsub(a.const_get_relative(A,"ESC_R_SB"),a.const_get_relative(A,"R_SB"))),d(f=d(l["$include?"]("&gt;"))?"&gt;":d(l["$include?"](","))?",":c)?(l=u(l.$split(f),"map",[],(g=function(a){null==a&&(a=c);return a.$strip()},g.$$s=b,g.$$arity=1,g)),z=l.$pop()):(f=[[],l.$rstrip()],l=f[0],z=f[1],f)):(f=[[],c],l=f[0],z=f[1],f);return a.const_get_relative(A,"Inline").$new(b,"menu",c,e(["attributes"],
{attributes:e(["menu","submenus","menuitem"],{menu:m,submenus:l,menuitem:z})})).$convert()},h.$$s=this,h.$$arity=0,h))),d(d(f=ga["$include?"]('"'))?ga["$include?"]("&gt;"):f)&&(ga=u(ga,"gsub",[a.const_get_relative(A,"MenuInlineRx")],(r=function(){var b=r.$$s||this,f,g,m=c,h=m=m=g=c;g=c;null==t["~"]&&(t["~"]=c);m=t["~"];if(d((g=m["$[]"](0))["$start_with?"](a.const_get_relative(A,"RS"))))return g["$[]"](k(1,-1,!1));m=m["$[]"](1);g=u(m.$split("&gt;"),"map",[],(f=function(a){null==a&&(a=c);return a.$strip()},
f.$$s=b,f.$$arity=1,f));f=a.to_ary(g);m=null==f[0]?c:f[0];h=n.call(f,1);g;g=h.$pop();return a.const_get_relative(A,"Inline").$new(b,"menu",c,e(["attributes"],{attributes:e(["menu","submenus","menuitem"],{menu:m,submenus:h,menuitem:g})})).$convert()},r.$$s=this,r.$$arity=0,r))));d(d(f=Ja=this.document.$extensions())?Ja["$inline_macros?"]():f)&&u(Ja.$inline_macros(),"each",[],(q=function(b){var f=q.$$s||this,g;null==b&&(b=c);return ga=u(ga,"gsub",[b.$instance().$regexp()],(g=function(){var f=g.$$s||
this,m,h=c,z=h=c,M=c,I=c,h=c;null==t["~"]&&(t["~"]=c);h=t["~"];if(d(h["$[]"](0)["$start_with?"](a.const_get_relative(A,"RS"))))return h["$[]"](0)["$[]"](k(1,-1,!1));var r;a:{try{r=h.$names();break a}catch(p){if(a.rescue(p,[a.const_get_relative(A,"StandardError")]))try{r=[];break a}finally{a.pop_exception()}else throw p;}r=void 0}if(d(r["$empty?"]()))m=[h["$[]"](1),h["$[]"](2),b.$config()];else{var n;a:{try{n=h["$[]"]("target");break a}catch(p){if(a.rescue(p,[a.const_get_relative(A,"StandardError")]))try{n=
c;break a}finally{a.pop_exception()}else throw p;}n=void 0}r=n;a:{try{m=h["$[]"]("content");break a}catch(p){if(a.rescue(p,[a.const_get_relative(A,"StandardError")]))try{m=c;break a}finally{a.pop_exception()}else throw p;}m=void 0}m=[r,m,b.$config()]}h=m[0];z=m[1];M=m[2];m;I=d(I=M["$[]"]("default_attrs"))?I.$dup():e([],{});d(z["$nil_or_empty?"]())?d(d(m=z)?M["$[]"]("content_model")["$!="]("attributes"):m)&&(O=["text",z],u(I,"[]=",a.to_a(O)),O[l(O.length,1)]):(z=f.$unescape_bracketed_text(z),M["$[]"]("content_model")["$=="]("attributes")?
f.$parse_attributes(z,d(m=M["$[]"]("pos_attrs"))?m:[],e(["sub_result","into"],{sub_result:!1,into:I})):(O=["text",z],u(I,"[]=",a.to_a(O)),O[l(O.length,1)]));h=b.$process_method()["$[]"](f,d(m=h)?m:z,I);return d(a.const_get_relative(A,"Inline")["$==="](h))?h.$convert():h},g.$$s=f,g.$$arity=0,g))},q.$$s=this,q.$$arity=1,q));d(d(f=ca)?d(g=ga["$include?"]("image:"))?g:ga["$include?"]("icon:"):f)&&(ga=u(ga,"gsub",[a.const_get_relative(A,"ImageInlineMacroRx")],(x=function(){var b=x.$$s||this,f,g=c,m=f=
c,h=c,z=c,g=c;null==b.document&&(b.document=c);null==t["~"]&&(t["~"]=c);g=t["~"];if(d((f=g["$[]"](0))["$start_with?"](a.const_get_relative(A,"RS"))))return f["$[]"](k(1,-1,!1));f=d(f["$start_with?"]("icon:"))?["icon",["size"]]:["image",["alt","width","height"]];m=f[0];h=f[1];f;z=g["$[]"](1);m["$=="]("icon")||b.document.$register("images",z);g=b.$parse_attributes(g["$[]"](2),h,e(["unescape_input"],{unescape_input:!0}));d(f=g["$[]"]("alt"))?f:(O=["alt",a.const_get_relative(A,"Helpers").$basename(z,
!0).$tr("_-"," ")],u(g,"[]=",a.to_a(O)),O[l(O.length,1)]);return a.const_get_relative(A,"Inline").$new(b,"image",c,e(["type","target","attributes"],{type:m,target:z,attributes:g})).$convert()},x.$$s=this,x.$$arity=0,x)));d(d(f=d(g=ga["$include?"]("(("))?ga["$include?"]("))"):g)?f:d(g=I)?ga["$include?"]("indexterm"):g)&&(ga=u(ga,"gsub",[a.const_get_relative(A,"IndextermInlineMacroRx")],(w=function(){var b=w.$$s||this,f,g=c,m=c,h=c,z=c,I=c,M=c,r=c,p=c;null==b.document&&(b.document=c);null==t["~"]&&
(t["~"]=c);g=t["~"];return d(g["$[]"](0)["$start_with?"](a.const_get_relative(A,"RS")))?g["$[]"](0)["$[]"](k(1,-1,!1)):function(){m=g["$[]"](1);if("indexterm"["$==="](m))return h=b.$split_simple_csv(b.$normalize_string(g["$[]"](2),!0)),b.document.$register("indexterms",h),a.const_get_relative(A,"Inline").$new(b,"indexterm",c,e(["attributes"],{attributes:e(["terms"],{terms:h})})).$convert();if("indexterm2"["$==="](m))return z=b.$normalize_string(g["$[]"](2),!0),b.document.$register("indexterms",[z]),
a.const_get_relative(A,"Inline").$new(b,"indexterm",z,e(["type"],{type:"visible"})).$convert();f=[g["$[]"](3),!0,c,c];I=f[0];M=f[1];r=f[2];p=f[3];f;d(I["$start_with?"]("("))?(d(I["$end_with?"](")"))?(f=[I.$slice(1,l(I.$length(),2)),!1],I=f[0],M=f[1]):(f=[I.$slice(1,l(I.$length(),1)),"(",""],I=f[0],r=f[1],p=f[2]),f):d(I["$end_with?"](")"))&&(d(I["$start_with?"]("("))?(f=[I.$slice(1,l(I.$length(),2)),!1],I=f[0],M=f[1]):(f=[I.$slice(0,l(I.$length(),1)),"",")"],I=f[0],r=f[1],p=f[2]),f);d(M)?(z=b.$normalize_string(I),
b.document.$register("indexterms",[z]),ga=a.const_get_relative(A,"Inline").$new(b,"indexterm",z,e(["type"],{type:"visible"})).$convert()):(h=b.$split_simple_csv(b.$normalize_string(I)),b.document.$register("indexterms",h),ga=a.const_get_relative(A,"Inline").$new(b,"indexterm",c,e(["attributes"],{attributes:e(["terms"],{terms:h})})).$convert());return d(r)?""+r+ga+p:ga}()},w.$$s=this,w.$$arity=0,w)));d(d(f=E)?ga["$include?"]("://"):f)&&(ga=u(ga,"gsub",[a.const_get_relative(A,"LinkInlineRx")],(C=function(){var b=
C.$$s||this,f,g,m,h=c,z=c,I=c,r=c,p=c,n=c,z=h=h=c;null==b.document&&(b.document=c);null==t["~"]&&(t["~"]=c);h=t["~"];if(d(h["$[]"](2)["$start_with?"](a.const_get_relative(A,"RS"))))return""+h["$[]"](1)+h["$[]"](2)["$[]"](k(1,-1,!1))+h["$[]"](3);f=[h["$[]"](1),h["$[]"](2),d(g=z=h["$[]"](3))?g:"",""];I=f[0];r=f[1];p=f[2];n=f[3];f;if(I["$=="]("link:"))if(d(z))I="";else return h["$[]"](0);d(d(f=z)?f:a.const_get_relative(A,"UriTerminatorRx")["$!~"](r))||(h=(f=t["~"])===c?c:f["$[]"](0),")"["$==="](h)?(r=
r.$chop(),n=")"):";"["$==="](h)?d(d(f=I["$start_with?"]("&lt;"))?r["$end_with?"]("&gt;"):f)?(I=I["$[]"](k(4,-1,!1)),r=r["$[]"](k(0,-4,!0))):d((r=r.$chop())["$end_with?"](")"))?(r=r.$chop(),n=");"):n=";":":"["$==="](h)&&(d((r=r.$chop())["$end_with?"](")"))?(r=r.$chop(),n="):"):n=":"));f=[c,e(["type"],{type:"link"})];h=f[0];z=f[1];f;d(p["$empty?"]())||(d(p["$include?"](a.const_get_relative(A,"R_SB")))&&(p=p.$gsub(a.const_get_relative(A,"ESC_R_SB"),a.const_get_relative(A,"R_SB"))),d(d(f=wa)?d(g=p["$start_with?"]('"'))?
g:d(m=p["$include?"](","))?p["$include?"]("="):m:f)&&(h=b.$parse_attributes(p,[]),d(h["$key?"]("id"))&&(O=["id",h.$delete("id")],u(z,"[]=",a.to_a(O)),O[l(O.length,1)]),p=d(f=h["$[]"](1))?f:""),d(p["$end_with?"]("^"))&&(p=p.$chop(),d(h)?d(f=h["$[]"]("window"))?f:(O=["window","_blank"],u(h,"[]=",a.to_a(O)),O[l(O.length,1)]):h=e(["window"],{window:"_blank"})));d(p["$empty?"]())&&(p=d(M["$key?"]("hide-uri-scheme"))?r.$sub(a.const_get_relative(A,"UriSniffRx"),""):r,d(h)?(O=["role",d(h["$key?"]("role"))?
"bare "+h["$[]"]("role"):"bare"],u(h,"[]=",a.to_a(O)),O[l(O.length,1)]):h=e(["role"],{role:"bare"}));b.document.$register("links",(O=["target",r],u(z,"[]=",a.to_a(O)),O[l(O.length,1)]));d(h)&&(O=["attributes",h],u(z,"[]=",a.to_a(O)),O[l(O.length,1)]);return""+I+a.const_get_relative(A,"Inline").$new(b,"anchor",p,z).$convert()+n},C.$$s=this,C.$$arity=0,C)));d(d(f=ca)?d(g=ga["$include?"]("link:"))?g:ga["$include?"]("mailto:"):f)&&(ga=u(ga,"gsub",[a.const_get_relative(A,"LinkInlineMacroRx")],(G=function(){var b=
G.$$s||this,f,g,m,h,z=c,I=c,r=c,p=c,n=c,ga=c;null==b.document&&(b.document=c);null==t["~"]&&(t["~"]=c);z=t["~"];if(d(z["$[]"](0)["$start_with?"](a.const_get_relative(A,"RS"))))return z["$[]"](0)["$[]"](k(1,-1,!1));I=d(r=z["$[]"](1))?"mailto:"+z["$[]"](2):z["$[]"](2);f=[c,e(["type"],{type:"link"})];p=f[0];n=f[1];f;d((ga=z["$[]"](3))["$empty?"]())||(d(ga["$include?"](a.const_get_relative(A,"R_SB")))&&(ga=ga.$gsub(a.const_get_relative(A,"ESC_R_SB"),a.const_get_relative(A,"R_SB"))),d(d(f=wa)?d(g=ga["$start_with?"]('"'))?
g:d(m=ga["$include?"](","))?d(h=r)?h:ga["$include?"]("="):m:f)&&(p=b.$parse_attributes(ga,[]),d(p["$key?"]("id"))&&(O=["id",p.$delete("id")],u(n,"[]=",a.to_a(O)),O[l(O.length,1)]),d(r)&&d(p["$key?"](2))&&(I=d(p["$key?"](3))?""+I+"?subject="+a.const_get_relative(A,"Helpers").$encode_uri(p["$[]"](2))+"&amp;body="+a.const_get_relative(A,"Helpers").$encode_uri(p["$[]"](3)):""+I+"?subject="+a.const_get_relative(A,"Helpers").$encode_uri(p["$[]"](2))),ga=d(f=p["$[]"](1))?f:""),d(ga["$end_with?"]("^"))&&
(ga=ga.$chop(),d(p)?d(f=p["$[]"]("window"))?f:(O=["window","_blank"],u(p,"[]=",a.to_a(O)),O[l(O.length,1)]):p=e(["window"],{window:"_blank"})));d(ga["$empty?"]())&&(d(r)?ga=z["$[]"](2):(ga=d(M["$key?"]("hide-uri-scheme"))?I.$sub(a.const_get_relative(A,"UriSniffRx"),""):I,d(p)?(O=["role",d(p["$key?"]("role"))?"bare "+p["$[]"]("role"):"bare"],u(p,"[]=",a.to_a(O)),O[l(O.length,1)]):p=e(["role"],{role:"bare"})));b.document.$register("links",(O=["target",I],u(n,"[]=",a.to_a(O)),O[l(O.length,1)]));d(p)&&
(O=["attributes",p],u(n,"[]=",a.to_a(O)),O[l(O.length,1)]);return a.const_get_relative(A,"Inline").$new(b,"anchor",ga,n).$convert()},G.$$s=this,G.$$arity=0,G)));d(ga["$include?"]("@"))&&(ga=u(ga,"gsub",[a.const_get_relative(A,"EmailInlineRx")],(W=function(){var b=W.$$s||this,f,g,m=c,h=c;f=c;null==b.document&&(b.document=c);f=[(g=t["~"])===c?c:g["$[]"](0),(g=t["~"])===c?c:g["$[]"](1)];m=f[0];h=f[1];f;if(d(h))return h["$=="](a.const_get_relative(A,"RS"))?m["$[]"](k(1,-1,!1)):m;f="mailto:"+m;b.document.$register("links",
f);return a.const_get_relative(A,"Inline").$new(b,"anchor",m,e(["type","target"],{type:"link",target:f})).$convert()},W.$$s=this,W.$$arity=0,W)));d(d(f=I)?ga["$include?"]("footnote"):f)&&(ga=u(ga,"gsub",[a.const_get_relative(A,"FootnoteInlineMacroRx")],(z=function(){var b=z.$$s||this,f,g,m,h=f=c,l=g=f=c,I=c;f=c;null==b.document&&(b.document=c);null==t["~"]&&(t["~"]=c);f=t["~"];if(d(f["$[]"](0)["$start_with?"](a.const_get_relative(A,"RS"))))return f["$[]"](0)["$[]"](k(1,-1,!1));f["$[]"](1)["$=="]("footnote")?
(h=c,f=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(f["$[]"](2),!0))),!1),g=b.document.$counter("footnote-number"),b.document.$register("footnotes",a.const_get_qualified(a.const_get_relative(A,"Document"),"Footnote").$new(g,h,f)),I=l=c):(g=f["$[]"](2).$split(",",2),f=a.to_ary(g),h=null==f[0]?c:f[0],f=null==f[1]?c:f[1],g,h=h.$strip(),d(f)?(f=b.$restore_passthroughs(b.$sub_inline_xrefs(b.$sub_inline_anchors(b.$normalize_string(f,!0))),!1),g=b.document.$counter("footnote-number"),
b.document.$register("footnotes",a.const_get_qualified(a.const_get_relative(A,"Document"),"Footnote").$new(g,h,f)),l="ref",I=c):(d(f=u(b.document.$footnotes(),"find",[],(m=function(a){null==a&&(a=c);return a.$id()["$=="](h)},m.$$s=b,m.$$arity=1,m)))?(g=f.$index(),f=f.$text()):(g=c,f=h),I=h,h=c,l="xref"));return a.const_get_relative(A,"Inline").$new(b,"footnote",f,e(["attributes","id","target","type"],{attributes:e(["index"],{index:g}),id:h,target:I,type:l})).$convert()},z.$$s=this,z.$$arity=0,z)));
return this.$sub_inline_xrefs(this.$sub_inline_anchors(ga,v),v)},B.$$arity=1);a.defn(x,"$sub_inline_anchors",ea=function(b,f){var g,m,h,k,l;null==this.context&&(this.context=c);null==this.parent&&(this.parent=c);null==f&&(f=c);d((g=this.context["$=="]("list_item"))?this.parent.$style()["$=="]("bibliography"):this.context["$=="]("list_item"))&&(b=u(b,"sub",[a.const_get_relative(A,"InlineBiblioAnchorRx")],(m=function(){var b=m.$$s||this,f,g;return a.const_get_relative(A,"Inline").$new(b,"anchor","["+
(d(f=(g=t["~"])===c?c:g["$[]"](2))?f:(g=t["~"])===c?c:g["$[]"](1))+"]",e(["type","target"],{type:"bibref",target:(f=t["~"])===c?c:f["$[]"](1)})).$convert()},m.$$s=this,m.$$arity=0,m)));d(d(g=d(h=d(k=f["$!"]())?k:f["$[]"]("square_bracket"))?b["$include?"]("[["):h)?g:d(h=d(k=f["$!"]())?k:f["$[]"]("macroish"))?b["$include?"]("or:"):h)&&(b=u(b,"gsub",[a.const_get_relative(A,"InlineAnchorRx")],(l=function(){var b=l.$$s||this,f,g,m=c,h=c;if(d((f=t["~"])===c?c:f["$[]"](1)))return((f=t["~"])===c?c:f["$[]"](0)).$slice(1,
((f=t["~"])===c?c:f["$[]"](0)).$length());d(m=(f=t["~"])===c?c:f["$[]"](2))?h=(f=t["~"])===c?c:f["$[]"](3):(m=(f=t["~"])===c?c:f["$[]"](4),d(d(f=h=(g=t["~"])===c?c:g["$[]"](5))?h["$include?"](a.const_get_relative(A,"R_SB")):f)&&(h=h.$gsub(a.const_get_relative(A,"ESC_R_SB"),a.const_get_relative(A,"R_SB"))));return a.const_get_relative(A,"Inline").$new(b,"anchor",h,e(["type","target"],{type:"ref",target:m})).$convert()},l.$$s=this,l.$$arity=0,l)));return b},ea.$$arity=-2);a.defn(x,"$sub_inline_xrefs",
D=function(f,g){var h,r,n;null==g&&(g=c);d(d(h=d(r=d(g)?g["$[]"]("macroish"):f["$include?"]("["))?f["$include?"]("xref:"):r)?h:d(r=f["$include?"]("&"))?f["$include?"]("&lt;&lt;"):r)&&(f=u(f,"gsub",[a.const_get_relative(A,"XrefInlineMacroRx")],(n=function(){var f=n.$$s||this,g,h,r,q=c,x=c,w=g=q=c,z=x=c,u=c,C=c,G=C=c;null==f.document&&(f.document=c);null==t["~"]&&(t["~"]=c);q=t["~"];if(d(q["$[]"](0)["$start_with?"](a.const_get_relative(A,"RS"))))return q["$[]"](0)["$[]"](k(1,-1,!1));d(x=q["$[]"](1))?
(h=x.$split(",",2),g=a.to_ary(h),x=null==g[0]?c:g[0],q=null==g[1]?c:g[1],h,d(q)&&(q=q.$lstrip())):(g=[q["$[]"](2),q["$[]"](3)],x=g[0],q=g[1],g,d(d(g=q)?q["$include?"](a.const_get_relative(A,"R_SB")):g)&&(q=q.$gsub(a.const_get_relative(A,"ESC_R_SB"),a.const_get_relative(A,"R_SB"))));d(g=x.$index("#"))?d(p(g,0))?(g=d(p(w=l(l(x.$length(),g),1),0))?[x.$slice(0,g),x.$slice(b(g,1),w)]:[x.$slice(0,g),c],x=g[0],z=g[1]):(g=[x,c,x.$slice(1,x.$length())],u=g[0],x=g[1],z=g[2]):(g=[c,x],x=g[0],z=g[1]);g;d(u)?
C=z:d(x)?(d(d(g=C=x.$rindex("."))?a.const_get_relative(A,"ASCIIDOC_EXTENSIONS")["$[]"](x.$slice(C,x.$length())):g)&&(x=x.$slice(0,C)),d(d(g=f.document.$attributes()["$[]"]("docname")["$=="](x))?g:f.document.$catalog()["$[]"]("includes")["$include?"](x))?(g=[z,c,"#"+z],C=g[0],x=g[1],u=g[2],g):(C=d(z)?""+x+"#"+z:x,x=""+f.document.$attributes()["$[]"]("relfileprefix")+x+f.document.$attributes().$fetch("outfilesuffix",".html"),u=d(z)?""+x+"#"+z:x)):(d(d(g=d(h=f.document.$catalog()["$[]"]("ids")["$key?"](z)["$!"]())?
d(r=z["$include?"](" "))?r:z.$downcase()["$!="](z):h)?G=f.document.$catalog()["$[]"]("ids").$key(z):g)&&(z=G),g=[z,"#"+z],C=g[0],u=g[1],g);return a.const_get_relative(A,"Inline").$new(f,"anchor",q,e(["type","target","attributes"],{type:"xref",target:u,attributes:e(["path","fragment","refid"],{path:x,fragment:z,refid:C})})).$convert()},n.$$s=this,n.$$arity=0,n)));return f},D.$$arity=-2);a.defn(x,"$sub_callouts",U=function(b){var f,g=c,g=d(this["$attr?"]("line-comment"))?new RegExp("(?:"+a.const_get_qualified("::",
"Regexp").$escape(this.$attr("line-comment"))+" )?"+a.const_get_relative(A,"CalloutSourceRxt")):a.const_get_relative(A,"CalloutSourceRx");return u(b,"gsub",[g],(f=function(){var b=f.$$s||this,g;null==b.document&&(b.document=c);return d((g=t["~"])===c?c:g["$[]"](1))?((g=t["~"])===c?c:g["$[]"](0)).$sub(a.const_get_relative(A,"RS"),""):a.const_get_relative(A,"Inline").$new(b,"callout",(g=t["~"])===c?c:g["$[]"](3),e(["id"],{id:b.document.$callouts().$read_next_id()})).$convert()},f.$$s=this,f.$$arity=
0,f))},U.$$arity=1);a.defn(x,"$sub_post_replacements",sa=function(b){var f,g,m,k=c,r=c;null==this.document&&(this.document=c);null==this.attributes&&(this.attributes=c);if(d(d(f=this.document.$attributes()["$key?"]("hardbreaks"))?f:this.attributes["$key?"]("hardbreaks-option"))){k=b.$split(a.const_get_relative(A,"EOL"),-1);if(d(q(k.$size(),2)))return b;r=k.$pop();return h(u(k,"map",[],(g=function(b){var f=g.$$s||this;null==b&&(b=c);return a.const_get_relative(A,"Inline").$new(f,"break",d(b["$end_with?"](a.const_get_relative(A,
"LINE_BREAK")))?b.$slice(0,l(b.$length(),2)):b,e(["type"],{type:"line"})).$convert()},g.$$s=this,g.$$arity=1,g))["$<<"](r),a.const_get_relative(A,"EOL"))}return d(d(f=b["$include?"](a.const_get_relative(A,"PLUS")))?b["$include?"](a.const_get_relative(A,"LINE_BREAK")):f)?u(b,"gsub",[a.const_get_relative(A,"LineBreakRx")],(m=function(){var b=m.$$s||this,d;return a.const_get_relative(A,"Inline").$new(b,"break",(d=t["~"])===c?c:d["$[]"](1),e(["type"],{type:"line"})).$convert()},m.$$s=this,m.$$arity=0,
m)):b},sa.$$arity=1);a.defn(x,"$convert_quoted_text",ia=function(b,f,g){var m=c,h=c,l=m=c,r=c,m=c;if(d(b["$[]"](0)["$start_with?"](a.const_get_relative(A,"RS"))))if(d(g["$=="]("constrained")?(h=b["$[]"](2))["$nil_or_empty?"]()["$!"]():g["$=="]("constrained")))m="["+h+"]";else return b["$[]"](0)["$[]"](k(1,-1,!1));if(g["$=="]("constrained")){if(d(m))return""+m+a.const_get_relative(A,"Inline").$new(this,"quoted",b["$[]"](3),e(["type"],{type:f})).$convert();d(m=b["$[]"](2))&&(l=(r=this.$parse_quoted_text_attributes(m)).$delete("id"),
f["$=="]("mark")&&(f="unquoted"));return""+b["$[]"](1)+a.const_get_relative(A,"Inline").$new(this,"quoted",b["$[]"](3),e(["type","id","attributes"],{type:f,id:l,attributes:r})).$convert()}d(m=b["$[]"](1))&&(l=(r=this.$parse_quoted_text_attributes(m)).$delete("id"),f["$=="]("mark")&&(f="unquoted"));return a.const_get_relative(A,"Inline").$new(this,"quoted",b["$[]"](2),e(["type","id","attributes"],{type:f,id:l,attributes:r})).$convert()},ia.$$arity=3);a.defn(x,"$parse_quoted_text_attributes",H=function(b){var f,
g=c,m=c,k=c,m=k=g=c;d(b["$include?"]("{"))&&(b=this.$sub_attributes(b));d(b["$include?"](","))&&(b=b.$slice(0,b.$index(",")));return d((b=b.$strip())["$empty?"]())?e([],{}):d(d(f=b["$start_with?"](".","#"))?a.const_get_relative(A,"Compliance").$shorthand_property_syntax():f)?(g=b.$split("#",2),d(p(g.$size(),1))?(b=g["$[]"](1).$split("."),f=a.to_ary(b),m=null==f[0]?c:f[0],k=n.call(f,1),b):(m=c,k=[]),g=d(g["$[]"](0)["$empty?"]())?[]:g["$[]"](0).$split("."),d(p(g.$size(),1))&&g.$shift(),d(p(k.$size(),
0))&&g.$concat(k),k=e([],{}),d(m)&&(m=["id",m],u(k,"[]=",a.to_a(m)),m[l(m.length,1)]),d(g["$empty?"]())||(m=["role",h(g," ")],u(k,"[]=",a.to_a(m)),m[l(m.length,1)]),k):e(["role"],{role:b})},H.$$arity=1);a.defn(x,"$parse_attributes",Y=function(b,f,g){var m,h=c,k=c;null==this.document&&(this.document=c);null==f&&(f=["role"]);null==g&&(g=e([],{}));if(!d(b))return c;if(d(b["$empty?"]()))return e([],{});d(d(m=g["$[]"]("sub_input"))?b["$include?"]("{"):m)&&(b=this.document.$sub_attributes(b));d(g["$[]"]("unescape_input"))&&
(b=this.$unescape_bracketed_text(b));h=d(g.$fetch("sub_result",!0))?this:c;return d(k=g["$[]"]("into"))?a.const_get_relative(A,"AttributeList").$new(b,h).$parse_into(k,f):a.const_get_relative(A,"AttributeList").$new(b,h).$parse(f)},Y.$$arity=-2);a.defn(x,"$unescape_bracketed_text",ha=function(b){d(b["$empty?"]())||d((b=b.$strip().$tr(a.const_get_relative(A,"EOL")," "))["$include?"](a.const_get_relative(A,"R_SB")))&&(b=b.$gsub(a.const_get_relative(A,"ESC_R_SB"),a.const_get_relative(A,"R_SB")));return b},
ha.$$arity=1);a.defn(x,"$normalize_string",ka=function(b,c){var e;null==c&&(c=!1);d(b["$empty?"]())||(b=b.$strip().$tr(a.const_get_relative(A,"EOL")," "),d(d(e=c)?b["$include?"](a.const_get_relative(A,"R_SB")):e)&&(b=b.$gsub(a.const_get_relative(A,"ESC_R_SB"),a.const_get_relative(A,"R_SB"))));return b},ka.$$arity=-2);a.defn(x,"$unescape_brackets",na=function(b){d(b["$empty?"]())||d(b["$include?"](a.const_get_relative(A,"RS")))&&(b=b.$gsub(a.const_get_relative(A,"ESC_R_SB"),a.const_get_relative(A,
"R_SB")));return b},na.$$arity=1);a.defn(x,"$split_simple_csv",la=function(a){var b,e,f=c,g=c,m=c;d(a["$empty?"]())?f=[]:d(a["$include?"]('"'))?(f=[],g=[],m=!1,u(a,"each_char",[],(b=function(a){var b=c;null==a&&(a=c);return function(){b=a;if(","["$==="](b)){if(d(m))return g["$<<"](a);f["$<<"](g.$join().$strip());return g=[]}return'"'["$==="](b)?m=m["$!"]():g["$<<"](a)}()},b.$$s=this,b.$$arity=1,b)),f["$<<"](g.$join().$strip())):f=u(a.$split(","),"map",[],(e=function(a){null==a&&(a=c);return a.$strip()},
e.$$s=this,e.$$arity=1,e));return f},la.$$arity=1);a.defn(x,"$resolve_subs",Aa=function(e,f,g,r){var n,t=c,q=c,x=c,w=c;null==f&&(f="block");null==g&&(g=c);null==r&&(r=c);if(d(e["$nil_or_empty?"]()))return[];t=c;d(e["$include?"](" "))&&(e=e.$delete(" "));q=a.const_get_relative(A,"SubModifierSniffRx")["$match?"](e);u(e.$split(","),"each",[],(n=function(e){var h,r,z=c,p=h=c,n=p=c,z=c;null==e&&(e=c);z=c;d(q)&&((h=e.$chr())["$=="]("+")?(z="append",e=e["$[]"](k(1,-1,!1))):h["$=="]("-")?(z="remove",e=e["$[]"](k(1,
-1,!1))):d(e["$end_with?"]("+"))&&(z="prepend",e=e.$chop()));e=e.$to_sym();d((h=f["$=="]("inline"))?d(r=e["$=="]("verbatim"))?r:e["$=="]("v"):f["$=="]("inline"))?p=a.const_get_relative(A,"BASIC_SUBS"):d(a.const_get_relative(A,"SUB_GROUPS")["$key?"](e))?p=a.const_get_relative(A,"SUB_GROUPS")["$[]"](e):d(d(h=f["$=="]("inline")?e.$length()["$=="](1):f["$=="]("inline"))?a.const_get_relative(A,"SUB_HINTS")["$key?"](e):h)?(p=a.const_get_relative(A,"SUB_HINTS")["$[]"](e),p=d(n=a.const_get_relative(A,"SUB_GROUPS")["$[]"](p))?
n:[p]):p=[e];if(d(z))return t=d(h=t)?h:d(g)?g.$dup():[],"append"["$==="](z)?t=b(t,p):"prepend"["$==="](z)?t=b(p,t):"remove"["$==="](z)?t=l(t,p):c;t=d(h=t)?h:[];return t=b(t,p)},n.$$s=this,n.$$arity=1,n));if(!d(t))return[];x=t["$&"](a.const_get_relative(A,"SUB_OPTIONS")["$[]"](f));d(l(t,x)["$empty?"]())||(w=l(t,x),this.$warn("asciidoctor: WARNING: invalid substitution type"+(d(p(w.$size(),1))?"s":"")+(d(r)?" for ":c)+r+": "+h(w,", ")));return x},Aa.$$arity=-2);a.defn(x,"$resolve_block_subs",oa=function(a,
b,c){return this.$resolve_subs(a,"block",b,c)},oa.$$arity=3);a.defn(x,"$resolve_pass_subs",ra=function(a){return this.$resolve_subs(a,"inline",c,"passthrough macro")},ra.$$arity=1);a.defn(x,"$highlight_source",qa=function(f,g,k){var r,p,n,q,x=c,w=c,y=c,C=c,G=c,z=c,W=c,ca=c,O=c,v=c,I=x=c,M=c,wa=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);null==k&&(k=c);x=k=d(r=k)?r:this.document.$attributes()["$[]"]("source-highlighter");"coderay"["$==="](x)?d(d(r=w=a.const_get_qualified("::",
"CodeRay","skip_raise")?"constant":c)?r:this.document.$attributes()["$[]"]("coderay-unavailable"))||(d(a.const_get_relative(A,"Helpers").$require_library("coderay",!0,"warn")["$nil?"]())?this.document.$set_attr("coderay-unavailable"):w=!0):"pygments"["$==="](x)?d(d(r=w=a.const_get_qualified("::","Pygments","skip_raise")?"constant":c)?r:this.document.$attributes()["$[]"]("pygments-unavailable"))||(d(a.const_get_relative(A,"Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())?this.document.$set_attr("pygments-unavailable"):
w=!0):w=!1;if(!d(w))return this.$sub_source(f,g);y=0;C=!1;d(g)?(G=e([],{}),z=-1,W=d(this["$attr?"]("line-comment"))?new RegExp("(?:"+a.const_get_qualified("::","Regexp").$escape(this.$attr("line-comment"))+" )?"+a.const_get_relative(A,"CalloutExtractRxt")):a.const_get_relative(A,"CalloutExtractRx"),f=h(u(f.$split(a.const_get_relative(A,"EOL"),-1),"map",[],(p=function(e){var f=p.$$s||this,g;null==e&&(e=c);y=b(y,1);return u(e,"gsub",[W],(g=function(){var b,e=c,f=c;null==t["~"]&&(t["~"]=c);e=t["~"];
if(e["$[]"](1)["$=="](a.const_get_relative(A,"RS")))return e["$[]"](0).$sub(a.const_get_relative(A,"RS"),"");(d(b=G["$[]"](y))?b:(f=[y,[]],u(G,"[]=",a.to_a(f)),f[l(f.length,1)]))["$<<"](e["$[]"](3));z=y;return c},g.$$s=f,g.$$arity=0,g))},p.$$s=this,p.$$arity=1,p)),a.const_get_relative(A,"EOL")),C=z["$=="](y),d(G["$empty?"]())&&(G=c)):G=c;O=ca=c;x=k;"coderay"["$==="](x)?(d(ca=d(this["$attr?"]("linenums"))?(d(r=this.document.$attributes()["$[]"]("coderay-linenums-mode"))?r:"table").$to_sym():c)&&d(this["$attr?"]("highlight",
c,!1))&&(O=this.$resolve_highlight_lines(this.$attr("highlight",c,!1))),v=a.const_get_qualified(a.const_get_qualified("::","CodeRay"),"Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",e(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(d(r=this.document.$attributes()["$[]"]("coderay-css"))?r:"class").$to_sym(),line_numbers:ca,line_number_anchors:!1,highlight_lines:O,bold_every:!1})).$highlight(f)):"pygments"["$==="](x)&&(x=d(r=a.const_get_qualified(a.const_get_qualified("::",
"Pygments"),"Lexer").$find_by_alias(this.$attr("language","text",!1)))?r:a.const_get_qualified(a.const_get_qualified("::","Pygments"),"Lexer").$find_by_mimetype("text/plain"),I=e(["cssclass","classprefix","nobackground","stripnl"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0,stripnl:!1}),x.$name()["$=="]("PHP")&&(M=["startinline",this["$option?"]("mixed")["$!"]()],u(I,"[]=",a.to_a(M)),M[l(M.length,1)]),(d(r=this.document.$attributes()["$[]"]("pygments-css"))?r:"class")["$=="]("class")||(M=
["noclasses",!0],u(I,"[]=",a.to_a(M)),M[l(M.length,1)],M=["style",d(r=this.document.$attributes()["$[]"]("pygments-style"))?r:a.const_get_qualified(a.const_get_relative(A,"Stylesheets"),"DEFAULT_PYGMENTS_STYLE")],u(I,"[]=",a.to_a(M)),M[l(M.length,1)]),d(this["$attr?"]("highlight",c,!1))&&!d((O=this.$resolve_highlight_lines(this.$attr("highlight",c,!1)))["$empty?"]())&&(M=["hl_lines",h(O," ")],u(I,"[]=",a.to_a(M)),M[l(M.length,1)]),d(d(r=this["$attr?"]("linenums"))?(M=["linenos",d(n=this.document.$attributes()["$[]"]("pygments-linenums-mode"))?
n:"table"],u(I,"[]=",a.to_a(M)),M[l(M.length,1)])["$=="]("table"):r)?(ca="table",v=x.$highlight(f,e(["options"],{options:I})).$sub(a.const_get_relative(A,"PygmentsWrapperDivRx"),"\\1").$gsub(a.const_get_relative(A,"PygmentsWrapperPreRx"),"\\1")):d(a.const_get_relative(A,"PygmentsWrapperPreRx")["$=~"](v=x.$highlight(f,e(["options"],{options:I}))))&&(v=(r=t["~"])===c?c:r["$[]"](1)));d(this.passthroughs["$empty?"]())||(v=v.$gsub(a.const_get_relative(A,"HighlightedPassSlotRx"),""+a.const_get_relative(A,
"PASS_START")+"\\1"+a.const_get_relative(A,"PASS_END")));return d(d(r=g)?G:r)?(y=0,wa=ca["$!="]("table"),h(u(v.$split(a.const_get_relative(A,"EOL"),-1),"map",[],(q=function(f){var g=q.$$s||this,l,z,r,I=c,p=c,M=c,I=c;null==g.document&&(g.document=c);null==f&&(f=c);if(!d(wa)){if(!d(f["$include?"]('<td class="code">')))return f;wa=!0}y=b(y,1);if(d(I=G.$delete(y))){p=c;d(d(l=d(z=C)?G["$empty?"]():z)?ca["$=="]("table"):l)&&(d((l=k["$=="]("coderay"))?M=f.$index("</pre>"):k["$=="]("coderay"))?(l=[f.$slice(0,
M),f.$slice(M,f.$length())],f=l[0],p=l[1],l):d((l=k["$=="]("pygments"))?M=f["$start_with?"]("</td>"):k["$=="]("pygments"))&&(l=["",f],f=l[0],p=l[1],l));if(I.$size()["$=="](1))return""+f+a.const_get_relative(A,"Inline").$new(g,"callout",I["$[]"](0),e(["id"],{id:g.document.$callouts().$read_next_id()})).$convert()+p;I=h(u(I,"map",[],(r=function(b){var d=r.$$s||this;null==d.document&&(d.document=c);null==b&&(b=c);return a.const_get_relative(A,"Inline").$new(d,"callout",b,e(["id"],{id:d.document.$callouts().$read_next_id()})).$convert()},
r.$$s=g,r.$$arity=1,r))," ");return""+f+I+p}return f},q.$$s=this,q.$$arity=1,q)),a.const_get_relative(A,"EOL"))):v},qa.$$arity=-3);a.defn(x,"$resolve_highlight_lines",ma=function(b){var e,f=c,f=[];u((d(b["$include?"](" "))?b.$delete(" "):b).$split(a.const_get_relative(A,"DataDelimiterRx")),"map",[],(e=function(b){var e,g=c,m=c,m=e=c;null==b&&(b=c);g=!1;d(b["$start_with?"]("!"))&&(b=b["$[]"](k(1,-1,!1)),g=!0);return d(b["$include?"]("-"))?(b=b.$split("-",2),e=a.to_ary(b),m=null==e[0]?c:e[0],e=null==
e[1]?c:e[1],b,m=a.Range.$new(m.$to_i(),e.$to_i(),!1).$to_a(),d(g)?f=l(f,m):f.$concat(m)):d(g)?f.$delete(b.$to_i()):f["$<<"](b.$to_i())},e.$$s=this,e.$$arity=1,e));return f.$sort().$uniq()},ma.$$arity=1);a.defn(x,"$sub_source",ja=function(a,b){var c,e;return d(d(c=d(e=a["$include?"]("<"))?e:a["$include?"]("&"))?c:a["$include?"](">"))?d(b)?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a):d(b)?this.$sub_callouts(a):a},ja.$$arity=2);a.defn(x,"$lock_in_subs",ta=function(){var b,
e,f,g,m=c,h=m=c,k=c,m=c;null==this.default_subs&&(this.default_subs=c);null==this.content_model&&(this.content_model=c);null==this.context&&(this.context=c);null==this.subs&&(this.subs=c);null==this.attributes&&(this.attributes=c);null==this.style&&(this.style=c);null==this.document&&(this.document=c);if(!d(m=this.default_subs))if(m=this.content_model,"simple"["$==="](m))m=a.const_get_relative(A,"NORMAL_SUBS");else if("verbatim"["$==="](m))m=d(d(b=this.context["$=="]("listing"))?b:(e=this.context["$=="]("literal"))?
this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))?a.const_get_relative(A,"VERBATIM_SUBS"):this.context["$=="]("verse")?a.const_get_relative(A,"NORMAL_SUBS"):a.const_get_relative(A,"BASIC_SUBS");else if("raw"["$==="](m))m=this.context["$=="]("stem")?a.const_get_relative(A,"BASIC_SUBS"):a.const_get_relative(A,"NONE_SUBS");else return this.subs;this.subs=d(h=this.attributes["$[]"]("subs"))?this.$resolve_block_subs(h,m,this.context):m.$dup();d(d(b=d(e=d(f=d(g=this.context["$=="]("listing")?
this.style["$=="]("source"):this.context["$=="]("listing"))?this.attributes["$key?"]("language"):g)?this.document["$basebackend?"]("html"):f)?a.const_get_relative(A,"SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):e)?k=this.subs.$index("specialcharacters"):b)&&(m=[k,"highlight"],u(this.subs,"[]=",a.to_a(m)),m[l(m.length,1)]);return this.subs},ta.$$arity=0)})(v[0],v)}(g[0],g)};Opal.modules["asciidoctor/abstract_node"]=function(a){function b(a,c){return"number"===
typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var l=[],q=a.nil,g=a.module,c=a.klass,n=a.truthy,f=a.hash2,e=a.send,d=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $attributes $nil? $[]= $- $delete $update $converter $nil_or_empty? $include? $split $empty? $* $attr? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $encode64 $binread $require_library $! $open $content_type $read $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $=== $!= $is_root? $join $base_dir $system_path".split(" "));
return function(l,t){var k=[g(l,"Asciidoctor")].concat(t);(function(g,$super,k){function l(){}g=l=c(g,$super,"AbstractNode",l);var r=g.$$proto,t=[g].concat(k),u,v,C,R,S,X,P,Z,V,K,G,T,ba,B,D,aa,U,sa,ia,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja;r.attributes=r.parent=r.document=r.path_resolver=q;g.$include(a.const_get_relative(t,"Substitutors"));g.$attr_reader("parent");g.$attr_reader("document");g.$attr_reader("context");g.$attr_reader("node_name");g.$attr_accessor("id");g.$attr_reader("attributes");a.defn(g,
"$initialize",u=function(a,b,c){null==c&&(c=f([],{}));b["$=="]("document")?(a=[this,q],this.document=a[0],this.parent=a[1],a):n(a)?(a=[a.$document(),a],this.document=a[0],this.parent=a[1],a):this.document=this.parent=q;this.node_name=(this.context=b).$to_s();this.attributes=n(c["$key?"]("attributes"))?c["$[]"]("attributes").$dup():f([],{});return this.passthroughs=f([],{})},u.$$arity=-3);a.defn(g,"$parent=",v=function(a){a=[a,a.$document()];this.parent=a[0];this.document=a[1];a;return q},v.$$arity=
1);a.defn(g,"$inline?",C=function(){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},C.$$arity=0);a.defn(g,"$block?",R=function(){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},R.$$arity=0);a.defn(g,"$attr",S=function(a,b,c){var d,e;null==b&&(b=q);null==c&&(c=!0);a=a.$to_s();return n(d=this.attributes["$[]"](a))?d:n(n(e=c)?this.parent:e)?n(e=this.document.$attributes()["$[]"](a))?e:b:b},S.$$arity=-2);a.defn(g,"$attr?",X=function(a,b,c){var d,e,f;null==
b&&(b=q);null==c&&(c=!0);a=a.$to_s();return n(b["$nil?"]())?n(d=this.attributes["$key?"](a))?d:n(e=n(f=c)?this.parent:f)?this.document.$attributes()["$key?"](a):e:b["$=="](n(d=this.attributes["$[]"](a))?d:n(n(e=c)?this.parent:e)?this.document.$attributes()["$[]"](a):q)},X.$$arity=-2);a.defn(g,"$set_attr",P=function(c,d,f){var g=q;null==d&&(d="");null==f&&(f=!0);if(n(f["$=="](!1)?this.attributes["$key?"](c):f["$=="](!1)))return!1;g=[c,d];e(this.attributes,"[]=",a.to_a(g));g[b(g.length,1)];return!0},
P.$$arity=-2);a.defn(g,"$remove_attr",Z=function(a){return this.attributes.$delete(a)},Z.$$arity=1);a.defn(g,"$set_option",V=function(c){var d=q,d=n(this.attributes["$key?"]("options"))?["options",""+this.attributes["$[]"]("options")+","+c]:["options",c];e(this.attributes,"[]=",a.to_a(d));d[b(d.length,1)];d=[""+c+"-option",""];e(this.attributes,"[]=",a.to_a(d));return d[b(d.length,1)]},V.$$arity=1);a.defn(g,"$option?",K=function(a){return this.attributes["$key?"](""+a+"-option")},K.$$arity=1);a.defn(g,
"$update_attributes",G=function(a){this.attributes.$update(a);return q},G.$$arity=1);a.defn(g,"$converter",T=function(){return this.document.$converter()},T.$$arity=0);a.defn(g,"$role?",ba=function(a){var b;null==a&&(a=q);return n(a)?a["$=="](n(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role")):n(b=this.attributes["$key?"]("role"))?b:this.document.$attributes()["$key?"]("role")},ba.$$arity=-1);a.defn(g,"$role",B=function(){var a;return n(a=this.attributes["$[]"]("role"))?
a:this.document.$attributes()["$[]"]("role")},B.$$arity=0);a.defn(g,"$has_role?",D=function(a){var b,c=q;return n((c=n(b=this.attributes["$[]"]("role"))?b:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?!1:(" "+c+" ")["$include?"](" "+a+" ")},D.$$arity=1);a.defn(g,"$roles",aa=function(){var a,b=q;return n((b=n(a=this.attributes["$[]"]("role"))?a:this.document.$attributes()["$[]"]("role"))["$nil_or_empty?"]())?[]:b.$split()},aa.$$arity=0);a.defn(g,"$add_role",U=function(c){var d=q,
d=q;if(n((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]()))return d=["role",c],e(this.attributes,"[]=",a.to_a(d)),d[b(d.length,1)],!0;if(n((" "+d+" ")["$include?"](" "+c+" ")))return!1;d=["role",""+d+" "+c];e(this.attributes,"[]=",a.to_a(d));d[b(d.length,1)];return!0},U.$$arity=1);a.defn(g,"$remove_role",sa=function(c){var d=q,d=q;return n((d=this.attributes["$[]"]("role"))["$nil_or_empty?"]())?!1:n((d=d.$split()).$delete(c))?(n(d["$empty?"]())?this.attributes.$delete("role"):(d=["role",h(d,
" ")],e(this.attributes,"[]=",a.to_a(d)),d[b(d.length,1)]),!0):!1},sa.$$arity=1);a.defn(g,"$reftext?",ia=function(){var a;return n(a=this.attributes["$key?"]("reftext"))?a:this.document.$attributes()["$key?"]("reftext")},ia.$$arity=0);a.defn(g,"$reftext",H=function(){var a;return n(a=this.attributes["$[]"]("reftext"))?a:this.document.$attributes()["$[]"]("reftext")},H.$$arity=0);a.defn(g,"$icon_uri",Y=function(b){var c=q;return n(this["$attr?"]("icon"))?n(a.const_get_qualified("::","File").$extname(c=
this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())?""+c+"."+this.document.$attr("icontype","png"):c:this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir")},Y.$$arity=1);a.defn(g,"$media_uri",ha=function(a,b){null==b&&(b="imagesdir");return this.$normalize_web_path(a,n(b)?this.document.$attr(b):q)},ha.$$arity=-2);a.defn(g,"$image_uri",ka=function(b,c){var d,e,f,g,m=q,h=q;null==c&&(c="imagesdir");return n(n(d=p((m=this.document).$safe(),a.const_get_qualified(a.const_get_relative(t,
"SafeMode"),"SECURE")))?m["$attr?"]("data-uri"):d)?n(n(d=a.const_get_relative(t,"Helpers")["$uriish?"](b))?d:n(e=n(f=n(g=c)?h=m.$attr(c):g)?a.const_get_relative(t,"Helpers")["$uriish?"](h):f)?b=this.$normalize_web_path(b,h,!1):e)?n(m["$attr?"]("allow-uri-read"))?this.$generate_data_uri_from_uri(b,m["$attr?"]("cache-uri")):b:this.$generate_data_uri(b,c):n(c)?this.$normalize_web_path(b,m.$attr(c)):this.$normalize_web_path(b)},ka.$$arity=-2);a.defn(g,"$generate_data_uri",na=function(b,c){var e=q,g=e=
q;null==c&&(c=q);e=a.const_get_qualified("::","File").$extname(b);e=e["$=="](".svg")?"image/svg+xml":"image/"+e["$[]"](d(1,-1,!1));g=n(c)?this.$normalize_system_path(b,this.document.$attr(c),q,f(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);return n(a.const_get_qualified("::","File")["$readable?"](g))?"data:"+e+";base64,"+a.const_get_qualified("::","Base64").$encode64(a.const_get_qualified("::","IO").$binread(g)).$delete(a.const_get_relative(t,"EOL")):(this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+
g),"data:"+e+";base64,")},na.$$arity=-2);a.defn(g,"$generate_data_uri_from_uri",la=function(b,c){var d,f=q,g=q;null==c&&(c=!1);n(c)?a.const_get_relative(t,"Helpers").$require_library("open-uri/cached","open-uri-cached"):n(a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&a.const_get_qualified("::","OpenURI");try{return f=q,g=e(this,"open",[b,"rb"],(d=function(a){null==a&&(a=q);f=a.$content_type();return a.$read()},d.$$s=this,d.$$arity=1,d)),"data:"+f+";base64,"+a.const_get_qualified("::","Base64").$encode64(g).$delete(a.const_get_relative(t,
"EOL"))}catch(m){if(a.rescue(m,[a.const_get_relative(t,"StandardError")]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw m;}},la.$$arity=-2);a.defn(g,"$read_contents",Aa=function(b,c){var d,g,m,k,l=q,r=q,p=q;null==c&&(c=f([],{}));l=this.document;if(n(n(d=a.const_get_relative(t,"Helpers")["$uriish?"](b))?d:n(g=n(m=r=c["$[]"]("start"))?a.const_get_relative(t,"Helpers")["$uriish?"](r):m)?b=(this.path_resolver=n(m=this.path_resolver)?
m:a.const_get_relative(t,"PathResolver").$new()).$web_path(b,r):g))if(n(l["$attr?"]("allow-uri-read"))){n(l["$attr?"]("cache-uri"))&&a.const_get_relative(t,"Helpers").$require_library("open-uri/cached","open-uri-cached");try{p=e(a.const_get_qualified("::","OpenURI"),"open_uri",[b],(k=function(a){null==a&&(a=q);return a.$read()},k.$$s=this,k.$$arity=1,k)),n(c["$[]"]("normalize"))&&(p=h(a.const_get_relative(t,"Helpers").$normalize_lines_from_string(p),a.const_get_relative(t,"EOL")))}catch(y){if(a.rescue(y,
[a.const_get_relative(t,"StandardError")]))try{n(c.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(n(d=c["$[]"]("label"))?d:"asset")+" at URI: "+b),p=q}finally{a.pop_exception()}else throw y;}}else n(c.$fetch("warn_on_failure",!0))&&this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(n(d=c["$[]"]("label"))?d:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),p=q;else b=this.$normalize_system_path(b,c["$[]"]("start"),q,
f(["target_name"],{target_name:n(d=c["$[]"]("label"))?d:"asset"})),p=this.$read_asset(b,f(["normalize","warn_on_failure","label"],{normalize:c["$[]"]("normalize"),warn_on_failure:c.$fetch("warn_on_failure",!0),label:c["$[]"]("label")}));return p},Aa.$$arity=-2);a.defn(g,"$read_asset",oa=function(b,c){var d;null==c&&(c=f([],{}));n(a.const_get_qualified("::","Hash")["$==="](c))||(c=f(["warn_on_failure"],{warn_on_failure:c["$!="](!1)}));return n(a.const_get_qualified("::","File")["$readable?"](b))?n(c["$[]"]("normalize"))?
h(a.const_get_relative(t,"Helpers").$normalize_lines_from_string(a.const_get_qualified("::","IO").$read(b)),a.const_get_relative(t,"EOL")):a.const_get_qualified("::","IO").$read(b):n(c["$[]"]("warn_on_failure"))?this.$warn("asciidoctor: WARNING: "+(n(d=this.$attr("docfile"))?d:"<stdin>")+": "+(n(d=c["$[]"]("label"))?d:"file")+" does not exist or cannot be read: "+b):q},oa.$$arity=-2);a.defn(g,"$normalize_web_path",ra=function(b,c,d){var e;null==c&&(c=q);null==d&&(d=!0);return n(n(e=d)?a.const_get_relative(t,
"Helpers")["$uriish?"](b):e)?b:(this.path_resolver=n(e=this.path_resolver)?e:a.const_get_relative(t,"PathResolver").$new()).$web_path(b,c)},ra.$$arity=-2);a.defn(g,"$normalize_system_path",qa=function(b,c,d,e){var g,m=q,h=q;null==c&&(c=q);null==d&&(d=q);null==e&&(e=f([],{}));m=this.path_resolver=n(g=this.path_resolver)?g:a.const_get_relative(t,"PathResolver").$new();n(p((h=this.document).$safe(),a.const_get_qualified(a.const_get_relative(t,"SafeMode"),"SAFE")))?n(c)?n(m["$is_root?"](c))||(c=a.const_get_qualified("::",
"File").$join(h.$base_dir(),c)):c=h.$base_dir():(n(c)||(c=h.$base_dir()),n(d)||(d=h.$base_dir()));return m.$system_path(b,c,d,e)},qa.$$arity=-2);a.defn(g,"$normalize_asset_path",ma=function(a,b,c){null==b&&(b="path");null==c&&(c=!0);return this.$normalize_system_path(a,this.document.$base_dir(),q,f(["target_name","recover"],{target_name:b,recover:c}))},ma.$$arity=-2);return(a.defn(g,"$is_uri?",ja=function(b){return a.const_get_relative(t,"Helpers")["$uriish?"](b)},ja.$$arity=1),q)&&"is_uri?"})(k[0],
null,k)}(l[0],l)};Opal.modules["asciidoctor/abstract_block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a*c:a["$*"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var l=[],q=a.nil,g=a.module,c=a.klass,n=a.send,f=a.truthy,e=a.hash2;a.add_stubs("$attr_accessor $attr_reader $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $blocks $parent $+ $find_index $next_adjacent_block $delete $title? $attributes $increment_and_store_counter $index= $- $numbered $sectname $counter $number= $attr $number $caption= $enumerate_section $reindex_sections".split(" "));
return function(d,l){var t=[g(d,"Asciidoctor")].concat(l);(function(d,$super,g){function l(){}d=l=c(d,$super,"AbstractBlock",l);var t=d.$$proto,r=[d].concat(g),u,A,v,C,R,S,X,P,Z,V,K,G,T,ba,B,D,aa,U,sa,ia,H,Y,ha,ka;t.document=t.attributes=t.blocks=t.source_location=t.subs=t.title=t.title_converted=t.converted_title=t.caption=t.next_section_index=t.context=t.style=t.id=t.header=t.next_section_number=q;d.$attr_accessor("content_model");d.$attr_reader("subs");d.$attr_reader("blocks");d.$attr_accessor("level");
d.$attr_accessor("style");d.$attr_accessor("caption");d.$attr_accessor("number");d.$attr_accessor("source_location");a.defn(d,"$initialize",u=function(b,c,d){var g=u.$$p,m=q,h=q,k=q;null==d&&(d=e([],{}));g&&(u.$$p=null);h=0;k=arguments.length;for(m=Array(k);h<k;h++)m[h]=arguments[h];n(this,a.find_super_dispatcher(this,"initialize",u,!1),m,g);this.content_model="compound";this.blocks=[];this.subs=[];this.id=this.title=this.title_converted=this.caption=this.number=this.style=this.default_subs=this.source_location=
q;c["$=="]("document")?this.level=0:f(f(b)?c["$!="]("section"):b)?this.level=b.$level():this.level=q;this.next_section_index=0;return this.next_section_number=1},u.$$arity=-3);a.defn(d,"$block?",A=function(){return!0},A.$$arity=0);a.defn(d,"$inline?",v=function(){return!1},v.$$arity=0);a.defn(d,"$context=",C=function(a){this.context=a;return this.node_name=a.$to_s()},C.$$arity=1);a.defn(d,"$convert",R=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},
R.$$arity=0);a.alias(d,"render","convert");a.defn(d,"$content",S=function(){var c;return b(n(this.blocks,"map",[],(c=function(a){null==a&&(a=q);return a.$convert()},c.$$s=this,c.$$arity=1,c)),a.const_get_relative(r,"EOL"))},S.$$arity=0);a.defn(d,"$file",X=function(){return f(this.source_location)?this.source_location.$file():q},X.$$arity=0);a.defn(d,"$lineno",P=function(){return f(this.source_location)?this.source_location.$lineno():q},P.$$arity=0);a.defn(d,"$sub?",Z=function(a){return this.subs["$include?"](a)},
Z.$$arity=1);a.defn(d,"$title?",V=function(){return this.title["$nil_or_empty?"]()["$!"]()},V.$$arity=0);a.defn(d,"$title",K=function(){var a,b;return f(this.title_converted)?this.converted_title:this.converted_title=f(a=f(b=this.title_converted=!0)?this.title:b)?this.$apply_title_subs(this.title):a},K.$$arity=0);a.defn(d,"$title=",G=function(a){var b;return b=[a,q],this.title=b[0],this.title_converted=b[1],b},G.$$arity=1);a.defn(d,"$captioned_title",T=function(){return""+this.caption+this.$title()},
T.$$arity=0);a.defn(d,"$blocks?",ba=function(){return this.blocks["$empty?"]()["$!"]()},ba.$$arity=0);a.defn(d,"$<<",B=function(a){this.blocks["$<<"](a);return this},B.$$arity=1);a.alias(d,"append","<<");a.defn(d,"$sections",D=function(){var a;return n(this.blocks,"select",[],(a=function(a){null==a&&(a=q);return a.$context()["$=="]("section")},a.$$s=this,a.$$arity=1,a))},D.$$arity=0);a.defn(d,"$sections?",aa=function(){var a=this.next_section_index;return"number"===typeof a?0<a:a["$>"](0)},aa.$$arity=
0);a.defn(d,"$find_by",U=function(b){var c,d,g,m,h,k,l=U.$$p,r=l||q,p=q,t=q,x=q,u=q,y=q,C=q;null==b&&(b=e([],{}));l&&(U.$$p=null);p=[];if(f(f(c=f(d=f(g=f(m=t=(x=b["$[]"]("context"))["$!"]())?m:x["$=="](this.context))?f(m=(u=b["$[]"]("style"))["$!"]())?m:u["$=="](this.style):g)?f(g=(y=b["$[]"]("role"))["$!"]())?g:this["$has_role?"](y):d)?f(d=(C=b["$[]"]("id"))["$!"]())?d:C["$=="](this.id):c)){if(f(C))return r!==q?f(a.yield1(r,this))?[this]:p:[this];if(r!==q){if(f(a.yield1(r,this)))p["$<<"](this)}else p["$<<"](this)}f(f(c=
(d=this.context["$=="]("document"))?f(g=t)?g:x["$=="]("section"):this.context["$=="]("document"))?this["$header?"]():c)&&p.$concat(n(this.header,"find_by",[b],r.$to_proc()));x["$=="]("document")||(this.context["$=="]("dlist")?f(f(c=t)?c:x["$!="]("section"))&&n(this.blocks.$flatten(),"each",[],(h=function(a){null==a&&(a=q);return f(a)?p.$concat(n(a,"find_by",[b],r.$to_proc())):q},h.$$s=this,h.$$arity=1,h)):f(n(this.blocks,"each",[],(k=function(a){null==a&&(a=q);return f(x["$=="]("section")?a.$context()["$!="]("section"):
x["$=="]("section"))?q:p.$concat(n(a,"find_by",[b],r.$to_proc()))},k.$$s=this,k.$$arity=1,k))));return p},U.$$arity=-1);a.alias(d,"query","find_by");a.defn(d,"$next_adjacent_block",sa=function(){var a=q,b=q;return this.context["$=="]("document")?q:f(a=(b=this.$parent()).$blocks()["$[]"](h(b.$blocks().$find_index(this),1)))?a:b.$next_adjacent_block()},sa.$$arity=0);a.defn(d,"$remove_sub",ia=function(a){this.subs.$delete(a);return q},ia.$$arity=1);a.defn(d,"$assign_caption",H=function(a,b){var c,d,
e=q;null==a&&(a=q);null==b&&(b=q);!f(f(c=f(d=this.caption)?d:this["$title?"]()["$!"]())?c:this.caption=f(d=a)?d:this.document.$attributes()["$[]"]("caption"))&&f(e=this.document.$attributes()["$[]"](""+(b=f(c=b)?c:this.context)+"-caption"))&&(this.caption=""+e+" "+(this.number=this.document.$increment_and_store_counter(""+b+"-number",this))+". ");return q},H.$$arity=-1);a.defn(d,"$enumerate_section",Y=function(b){var c=q,d=q,e=q;this.next_section_index=h((c=[this.next_section_index],n(b,"index=",
a.to_a(c)),c[p(c.length,1)]),1);f(b.$numbered())&&((d=b.$sectname())["$=="]("appendix")?(c=[this.document.$counter("appendix-number","A")],n(b,"number=",a.to_a(c)),c[p(c.length,1)],c=f((e=this.document.$attr("appendix-caption"))["$nil_or_empty?"]())?[""+b.$number()+". "]:[""+e+" "+b.$number()+": "],n(b,"caption=",a.to_a(c)),c[p(c.length,1)]):d["$=="]("chapter")?(c=[this.document.$counter("chapter-number",1)],n(b,"number=",a.to_a(c)),c[p(c.length,1)]):this.next_section_number=h((c=[this.next_section_number],
n(b,"number=",a.to_a(c)),c[p(c.length,1)]),1));return q},Y.$$arity=1);a.defn(d,"$list_marker_keyword",ha=function(b){var c;null==b&&(b=q);return a.const_get_relative(r,"ORDERED_LIST_KEYWORDS")["$[]"](f(c=b)?c:this.style)},ha.$$arity=-1);return(a.defn(d,"$reindex_sections",ka=function(){var a;this.next_section_index=0;this.next_section_number=1;return n(this.blocks,"each",[],(a=function(b){var c=a.$$s||this;null==b&&(b=q);return b.$context()["$=="]("section")?(c.$enumerate_section(b),b.$reindex_sections()):
q},a.$$s=this,a.$$arity=1,a))},ka.$$arity=0),q)&&"reindex_sections"})(t[0],a.const_get_relative(t,"AbstractNode"),t)}(l[0],l)};Opal.modules["asciidoctor/attribute_list"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var p=[],l=a.nil,q=a.module,g=a.klass,c=a.hash2,n=a.truthy,f=a.send;a.add_stubs("$new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $- $skip_blank $== $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $include? $delete $each $split $empty? $strip $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));
return function(e,d){var p=[q(e,"Asciidoctor")].concat(d);(function(d,$super,e){function p(){}d=p=g(d,$super,"AttributeList",p);var q=d.$$proto,u=[d].concat(e),r,y,w,v,C,R,S,B,P,Z,V,K;q.attributes=q.scanner=q.delimiter=q.block=q.delimiter_skip_pattern=q.delimiter_boundary_pattern=l;a.const_set(u[0],"BACKSLASH","\\");a.const_set(u[0],"BoundaryRxs",c(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":/.*?(?=[ \t]*(,|$))/}));a.const_set(u[0],"EscapedQuotes",c(['"',"'"],{'"':'\\"',"'":"\\'"}));
a.const_set(u[0],"NameRx",new RegExp(""+a.const_get_relative(u,"CG_WORD")+"["+a.const_get_relative(u,"CC_WORD")+"\\-.]*"));a.const_set(u[0],"BlankRx",/[ \t]+/);a.const_set(u[0],"SkipRxs",c(["blank",","],{blank:a.const_get_relative(u,"BlankRx"),",":/[ \t]*(,|$)/}));a.defn(d,"$initialize",r=function(b,c,d){null==c&&(c=l);null==d&&(d=",");this.scanner=a.const_get_qualified("::","StringScanner").$new(b);this.block=c;this.delimiter=d;this.delimiter_skip_pattern=a.const_get_relative(u,"SkipRxs")["$[]"](d);
this.delimiter_boundary_pattern=a.const_get_relative(u,"BoundaryRxs")["$[]"](d);return this.attributes=l},r.$$arity=-2);a.defn(d,"$parse_into",y=function(a,b){null==b&&(b=[]);return a.$update(this.$parse(b))},y.$$arity=-2);a.defn(d,"$parse",w=function(a){var d=l;null==a&&(a=[]);if(n(this.attributes))return this.attributes;this.attributes=c([],{});for(d=0;n(this.$parse_attribute(d,a))&&!n(this.scanner["$eos?"]());)this.$skip_delimiter(),d=b(d,1);return this.attributes},w.$$arity=-1);a.defn(d,"$rekey",
v=function(b){return a.const_get_relative(u,"AttributeList").$rekey(this.attributes,b)},v.$$arity=1);a.defs(d,"$rekey",C=function(c,d){var e;f(d,"each_with_index",[],(e=function(d,e){var g=l,g=g=l;null==d&&(d=l);null==e&&(e=l);if(!n(d))return l;g=b(e,1);return n(g=c["$[]"](g))?(g=[d,g],f(c,"[]=",a.to_a(g)),g[h(g.length,1)]):l},e.$$s=this,e.$$arity=2,e));return c},C.$$arity=2);a.defn(d,"$parse_attribute",R=function(c,d){var e,g,r,p=l,q=l,t=q=l,x=l,u=l,q=p=q=x=l;null==c&&(c=0);null==d&&(d=[]);p=!1;
this.$skip_blank();if((q=this.scanner.$peek(1))["$=="]('"'))q=this.$parse_attribute_value(this.scanner.$get_byte()),t=l;else if(q["$=="]("'"))q=this.$parse_attribute_value(this.scanner.$get_byte()),t=l,p=!0;else{q=this.$scan_name();x=0;u=l;if(n(this.scanner["$eos?"]())){if(!n(q))return!1}else x=n(e=this.$skip_blank())?e:0,u=this.scanner.$get_byte();if(n(n(e=u["$!"]())?e:u["$=="](this.delimiter)))t=l;else if(n(n(e=u["$!="]("="))?e:q["$!"]()))q=""+q+" "["$*"](x)+u+this.$scan_to_delimiter(),t=l;else if(this.$skip_blank(),
n(this.scanner.$peek(1)))if((u=this.scanner.$get_byte())["$=="]('"'))t=this.$parse_attribute_value(u);else if(u["$=="]("'"))t=this.$parse_attribute_value(u),p=!0;else if(u["$=="](this.delimiter))t=l;else if(t=""+u+this.$scan_to_delimiter(),t["$=="]("None"))return!0}n(t)?(x=q,"options"["$==="](x)||"opts"["$==="](x)?(n(t["$include?"](","))?(n(t["$include?"](" "))&&(t=t.$delete(" ")),f(t.$split(","),"each",[],(g=function(b){var c=g.$$s||this,d=l;null==c.attributes&&(c.attributes=l);null==b&&(b=l);if(n(b["$empty?"]()))return l;
d=[""+b+"-option",""];f(c.attributes,"[]=",a.to_a(d));return d[h(d.length,1)]},g.$$s=this,g.$$arity=1,g))):(q=[""+(t=t.$strip())+"-option",""],f(this.attributes,"[]=",a.to_a(q)),q[h(q.length,1)]),q=["options",t]):q=n(n(e=p)?this.block:e)?"title"["$==="](q)?[q,t]:[q,n(t["$empty?"]())?t:this.block.$apply_normal_subs(t)]:[q,t]):(p=n(n(e=n(r=p)?this.block:r)?q["$empty?"]()["$!"]():e)?this.block.$apply_normal_subs(q):q,n(q=d["$[]"](c))&&(q=[q,p],f(this.attributes,"[]=",a.to_a(q)),q[h(q.length,1)]),q=[b(c,
1),p]);f(this.attributes,"[]=",a.to_a(q));q[h(q.length,1)];return!0},R.$$arity=-1);a.defn(d,"$parse_attribute_value",S=function(b){var c=l;return this.scanner.$peek(1)["$=="](b)?(this.scanner.$get_byte(),""):n(c=this.$scan_to_quote(b))?(this.scanner.$get_byte(),n(c["$include?"](a.const_get_relative(u,"BACKSLASH")))?c.$gsub(a.const_get_relative(u,"EscapedQuotes")["$[]"](b),b):c):""+b+this.$scan_to_delimiter()},S.$$arity=1);a.defn(d,"$skip_blank",B=function(){return this.scanner.$skip(a.const_get_relative(u,
"BlankRx"))},B.$$arity=0);a.defn(d,"$skip_delimiter",P=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},P.$$arity=0);a.defn(d,"$scan_name",Z=function(){return this.scanner.$scan(a.const_get_relative(u,"NameRx"))},Z.$$arity=0);a.defn(d,"$scan_to_delimiter",V=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},V.$$arity=0);return(a.defn(d,"$scan_to_quote",K=function(b){return this.scanner.$scan(a.const_get_relative(u,"BoundaryRxs")["$[]"](b))},K.$$arity=1),l)&&"scan_to_quote"})(p[0],
null,p)}(p[0],p)};Opal.modules["asciidoctor/block"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var p=[],l=a.nil,q=a.module,g=a.klass,c=a.send,n=a.hash2,f=a.truthy;a.add_stubs("$default= $- $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));
return function(e,d){var p=[q(e,"Asciidoctor")].concat(d);(function(d,$super,e){function p(){}d=p=g(d,$super,"Block",p);var q=d.$$proto,u=[d].concat(e),r,y,w,v;e=l;q.attributes=q.content_model=q.lines=q.subs=q.blocks=q.context=q.style=l;e=["simple"];c(a.const_set(u[0],"DEFAULT_CONTENT_MODEL",n("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",
thematic_break:"empty",video:"empty"})),"default=",a.to_a(e));e[b(e.length,1)];a.alias(d,"blockname","context");d.$attr_accessor("lines");a.defn(d,"$initialize",r=function(d,e,g){var h,p=r.$$p,q=l,t=q=l,x=q=l,y=l;null==g&&(g=n([],{}));p&&(r.$$p=null);x=0;y=arguments.length;for(q=Array(y);x<y;x++)q[x]=arguments[x];c(this,a.find_super_dispatcher(this,"initialize",r,!1),q,p);this.content_model=f(h=g["$[]"]("content_model"))?h:a.const_get_relative(u,"DEFAULT_CONTENT_MODEL")["$[]"](e);f(g["$key?"]("subs"))?
f(q=g["$[]"]("subs"))?(q["$=="]("default")?this.default_subs=g["$[]"]("default_subs"):f(a.const_get_qualified("::","Array")["$==="](q))?(this.default_subs=q.$dup(),this.attributes.$delete("subs")):(this.default_subs=l,q=["subs",""+q],c(this.attributes,"[]=",a.to_a(q)),q[b(q.length,1)]),this.$lock_in_subs()):(this.default_subs=[],this.attributes.$delete("subs")):this.default_subs=l;return f((t=g["$[]"]("source"))["$nil_or_empty?"]())?this.lines=[]:f(a.const_get_qualified("::","String")["$==="](t))?
this.lines=a.const_get_relative(u,"Helpers").$normalize_lines_from_string(t):this.lines=t.$dup()},r.$$arity=-3);a.defn(d,"$content",y=function(){var b,d=this,e=y.$$p,g=l,m=l,p=l,r=l,q=l,t=l,n=l;e&&(y.$$p=null);t=0;n=arguments.length;for(q=Array(n);t<n;t++)q[t]=arguments[t];return function(){g=d.content_model;if("compound"["$==="](g))return c(d,a.find_super_dispatcher(d,"content",y,!1),q,e);if("simple"["$==="](g))return d.$apply_subs(h(d.lines,a.const_get_relative(u,"EOL")),d.subs);if("verbatim"["$==="](g)||
"raw"["$==="](g)){m=d.$apply_subs(d.lines,d.subs);var t;t=m.$size();t="number"===typeof t?2>t:t["$<"](2);if(f(t))return m["$[]"](0);for(;f(f(b=p=m["$[]"](0))?p.$rstrip()["$empty?"]():b);)m.$shift();for(;f(f(b=r=m["$[]"](-1))?r.$rstrip()["$empty?"]():b);)m.$pop();return h(m,a.const_get_relative(u,"EOL"))}d.content_model["$=="]("empty")||d.$warn("Unknown content model '"+d.content_model+"' for block: "+d.$to_s());return l}()},y.$$arity=0);a.defn(d,"$source",w=function(){return h(this.lines,a.const_get_relative(u,
"EOL"))},w.$$arity=0);return(a.defn(d,"$to_s",v=function(){var a=l,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},v.$$arity=0),l)&&"to_s"})(p[0],a.const_get_relative(p,"AbstractBlock"),p)}(p[0],p)};Opal.modules["asciidoctor/callouts"]=function(a){function b(a,c){return"number"===
typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var p=[],l=a.nil,q=a.module,g=a.klass,c=a.hash2,n=a.truthy,f=a.send;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(e,d){var p=[q(e,"Asciidoctor")].concat(d);(function(d,$super,e){function p(){}d=p=g(d,$super,"Callouts",p);var q=d.$$proto;[d].concat(e);var u,
r,y,w,v,C,R,B,S;q.co_index=q.lists=q.list_index=l;a.defn(d,"$initialize",u=function(){this.lists=[];this.list_index=0;return this.$next_list()},u.$$arity=0);a.defn(d,"$register",r=function(a){var d=l;this.$current_list()["$<<"](c(["ordinal","id"],{ordinal:a.$to_i(),id:d=this.$generate_next_callout_id()}));this.co_index=b(this.co_index,1);return d},r.$$arity=1);a.defn(d,"$read_next_id",y=function(){var a=l,c=l,a=l,c=this.$current_list(),d;d=this.co_index;var e=c.$size();d="number"===typeof d&&"number"===
typeof e?d<=e:d["$<="](e);n(d)&&(a=c["$[]"](h(this.co_index,1))["$[]"]("id"));this.co_index=b(this.co_index,1);return a},y.$$arity=0);a.defn(d,"$callout_ids",w=function(a){var b;return f(this.$current_list(),"map",[],(b=function(b){null==b&&(b=l);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":l},b.$$s=this,b.$$arity=1,b)).$join().$chop()},w.$$arity=1);a.defn(d,"$current_list",v=function(){return this.lists["$[]"](h(this.list_index,1))},v.$$arity=0);a.defn(d,"$next_list",C=function(){this.list_index=
b(this.list_index,1);var a;a=this.lists.$size();var c=this.list_index;a="number"===typeof a&&"number"===typeof c?a<c:a["$<"](c);if(n(a))this.lists["$<<"]([]);this.co_index=1;return l},C.$$arity=0);a.defn(d,"$rewind",R=function(){this.co_index=this.list_index=1;return l},R.$$arity=0);a.defn(d,"$generate_next_callout_id",B=function(){return this.$generate_callout_id(this.list_index,this.co_index)},B.$$arity=0);return(a.defn(d,"$generate_callout_id",S=function(a,b){return"CO"+a+"-"+b},S.$$arity=2),l)&&
"generate_callout_id"})(p[0],null,p)}(p[0],p)};Opal.modules["asciidoctor/converter/base"]=function(a){var b=[],h=a.nil,p=a.module,l=a.klass,q=a.hash2,g=a.truthy;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(b,m){var f=[p(b,"Asciidoctor")].concat(m);(function(a,b){[p(a,"Converter")].concat(b);h})(f[0],f);(function(b,$super,c){function f(){}b=f=l(b,$super,"Base",f);c=[b].concat(c);return b.$include(a.const_get_relative(c,"Converter"))})(a.const_get_relative(f,"Converter"),
null,f);(function(b,$super,c){function f(){}b=f=l(b,$super,"BuiltIn",f);[b].concat(c);var m,p,n,u;a.defn(b,"$initialize",m=function(a,b){null==b&&q([],{});return h},m.$$arity=-2);a.defn(b,"$convert",p=function(a,b,c){var e;null==b&&(b=h);null==c&&(c=q([],{}));b=g(e=b)?e:a.$node_name();return g(c["$empty?"]())?this.$send(b,a):this.$send(b,a,c)},p.$$arity=-2);a.alias(b,"handles?","respond_to?");a.defn(b,"$content",n=function(a){return a.$content()},n.$$arity=1);a.alias(b,"pass","content");return(a.defn(b,
"$skip",u=function(a){return h},u.$$arity=1),h)&&"skip"})(a.const_get_relative(f,"Converter"),null,f)}(b[0],b)};Opal.modules["asciidoctor/converter/factory"]=function(a){var b=[],h=a.nil,p=a.module,l=a.klass,q=a.truthy,g=a.hash2,c=a.send;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $- $== $[] $clear $=== $key?".split(" "));return function(b,f){var e=[p(b,"Asciidoctor")].concat(f);(function(b,e){var f=[p(b,"Converter")].concat(e);
(function(b,$super,d){function e(){}b=e=l(b,$super,"Factory",e);var f=b.$$proto,m=[b].concat(d),p,n,t,u,y;f.converters=f.star_converter=h;b.__default__=h;(function(b,c){[b].concat(c);var d,e,f,m,k,l;a.defn(b,"$default",d=function(b){var c;null==this.__default__&&(this.__default__=h);null==b&&(b=!0);if(!q(b))return q(c=this.__default__)?c:this.$new();var d;if(q(c=this.__default__))d=c;else a:{try{q(a.const_get_qualified("::","ThreadSafe","skip_raise")?"constant":h)||this.$require("thread_safe".$to_s());
d=this.$new(a.const_get_qualified(a.const_get_qualified("::","ThreadSafe"),"Cache").$new());break a}catch(e){if(a.rescue(e,[a.const_get_qualified("::","LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");d=this.$new();break a}finally{a.pop_exception()}else throw e;}d=void 0}return this.__default__=d},d.$$arity=-1);a.defn(b,"$register",e=function(a,b){null==b&&(b=["*"]);return this.$default().$register(a,
b)},e.$$arity=-2);a.defn(b,"$resolve",f=function(a){return this.$default().$resolve(a)},f.$$arity=1);a.defn(b,"$create",m=function(a,b){null==b&&(b=g([],{}));return this.$default().$create(a,b)},m.$$arity=-2);a.defn(b,"$converters",k=function(){return this.$default().$converters()},k.$$arity=0);return(a.defn(b,"$unregister_all",l=function(){return this.$default().$unregister_all()},l.$$arity=0),h)&&"unregister_all"})(a.get_singleton_class(b),m);b.$attr_reader("converters");a.defn(b,"$initialize",
p=function(a){var b;null==a&&(a=h);this.converters=q(b=a)?b:g([],{});return this.star_converter=h},p.$$arity=-1);a.defn(b,"$register",n=function(b,d){var e;null==d&&(d=["*"]);c(d,"each",[],(e=function(d){var f=e.$$s||this,g=h;null==f.converters&&(f.converters=h);null==d&&(d=h);g=[d,b];c(f.converters,"[]=",a.to_a(g));var m=g,g=g.length,g="number"===typeof g?g-1:g["$-"](1);m[g];return d["$=="]("*")?f.star_converter=b:h},e.$$s=this,e.$$arity=1,e));return h},n.$$arity=-2);a.defn(b,"$resolve",t=function(a){var b,
c;return q(b=this.converters)?q(c=this.converters["$[]"](a))?c:this.star_converter:b},t.$$arity=1);a.defn(b,"$unregister_all",u=function(){this.converters.$clear();return this.star_converter=h},u.$$arity=0);return(a.defn(b,"$create",y=function(b,c){var d,e,f,k,l,p,n,t,x,u,y,C,A=this,v=h,E=v=h,R=h;null==c&&(c=g([],{}));if(q(v=A.$resolve(b)))return q(a.const_get_qualified("::","Class")["$==="](v))?v.$new(b,c):v;v=function(){E=b;return"html5"["$==="](E)?(q((e=a.const_get_qualified("::","Asciidoctor",
"skip_raise"))&&(d=a.const_get_qualified(e,"Converter","skip_raise"))&&a.const_get_qualified(d,"Html5Converter","skip_raise")?"constant":h)||A.$require("asciidoctor/converter/html5".$to_s()),a.const_get_relative(m,"Html5Converter").$new(b,c)):"docbook5"["$==="](E)?(q((k=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(f=a.const_get_qualified(k,"Converter","skip_raise"))&&a.const_get_qualified(f,"DocBook5Converter","skip_raise")?"constant":h)||A.$require("asciidoctor/converter/docbook5".$to_s()),
a.const_get_relative(m,"DocBook5Converter").$new(b,c)):"docbook45"["$==="](E)?(q((p=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(l=a.const_get_qualified(p,"Converter","skip_raise"))&&a.const_get_qualified(l,"DocBook45Converter","skip_raise")?"constant":h)||A.$require("asciidoctor/converter/docbook45".$to_s()),a.const_get_relative(m,"DocBook45Converter").$new(b,c)):"manpage"["$==="](E)?(q((t=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(n=a.const_get_qualified(t,"Converter",
"skip_raise"))&&a.const_get_qualified(n,"ManPageConverter","skip_raise")?"constant":h)||A.$require("asciidoctor/converter/manpage".$to_s()),a.const_get_relative(m,"ManPageConverter").$new(b,c)):h}();if(!q(c["$key?"]("template_dirs")))return v;q((u=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(x=a.const_get_qualified(u,"Converter","skip_raise"))&&a.const_get_qualified(x,"TemplateConverter","skip_raise")?"constant":h)||A.$require("asciidoctor/converter/template".$to_s());q((C=a.const_get_qualified("::",
"Asciidoctor","skip_raise"))&&(y=a.const_get_qualified(C,"Converter","skip_raise"))&&a.const_get_qualified(y,"CompositeConverter","skip_raise")?"constant":h)||A.$require("asciidoctor/converter/composite".$to_s());R=a.const_get_relative(m,"TemplateConverter").$new(b,c["$[]"]("template_dirs"),c);return a.const_get_relative(m,"CompositeConverter").$new(b,R,v)},y.$$arity=-2),h)&&"create"})(f[0],null,f)})(e[0],e)}(b[0],b)};Opal.modules["asciidoctor/converter"]=function(a){function b(a,c){return"number"===
typeof a&&"number"===typeof c?a-c:a["$-"](c)}var h=a.top,p=[],l=a.nil,q=a.module,g=a.send,c=a.truthy,n=a.range,f=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $- $extend $include $respond_to? $write $chomp $require".split(" "));(function(e,d){var h=[q(e,"Asciidoctor")].concat(d);(function(d,e){var h=q(d,"Converter"),p=[h].concat(e),u,y;(function(b,c){var d=q(b,"Config"),e=[d].concat(c),f;a.defn(d,"$register_for",f=function(b){var c,
d,f,m=l,m=arguments.length,h=m-0;0>h&&(h=0);f=Array(h);for(h=0;h<m;h++)f[h-0]=arguments[h];a.const_get_relative(e,"Factory").$register(this,f);m=function(a,b){[a].concat(b);return a}(a.get_singleton_class(this),e);f["$=="](["*"])?g(m,"send",["define_method","converts?"],(c=function(a){return!0},c.$$s=this,c.$$arity=1,c)):g(m,"send",["define_method","converts?"],(d=function(a){null==a&&(a=l);return f["$include?"](a)},d.$$s=this,d.$$arity=1,d));return l},f.$$arity=-1)})(p[0],p);(function(d,e){var h=
q(d,"BackendInfo"),k=[h].concat(e),p,t,x,u,y,v;a.defn(h,"$backend_info",p=function(){var a;null==this.backend_info&&(this.backend_info=l);return this.backend_info=c(a=this.backend_info)?a:this.$setup_backend_info()},p.$$arity=0);a.defn(h,"$setup_backend_info",t=function(){var b=l,d=l,e=l,g=l;null==this.backend&&(this.backend=l);c(this.backend)||this.$raise(a.const_get_qualified("::","ArgumentError"),"Cannot determine backend for converter: "+this.$class());b=this.backend.$sub(a.const_get_relative(k,
"TrailingDigitsRx"),"");c(d=a.const_get_relative(k,"DEFAULT_EXTENSIONS")["$[]"](b))?e=d["$[]"](n(1,-1,!1)):(b="html",d=".html",g=e="html");return f(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:b,outfilesuffix:d,filetype:e,htmlsyntax:g})},t.$$arity=0);a.defn(h,"$filetype",x=function(d){var e=l;null==d&&(d=l);return c(d)?(e=["filetype",d],g(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("filetype")},x.$$arity=-1);a.defn(h,"$basebackend",u=
function(d){var e=l;null==d&&(d=l);return c(d)?(e=["basebackend",d],g(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("basebackend")},u.$$arity=-1);a.defn(h,"$outfilesuffix",y=function(d){var e=l;null==d&&(d=l);return c(d)?(e=["outfilesuffix",d],g(this.$backend_info(),"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("outfilesuffix")},y.$$arity=-1);a.defn(h,"$htmlsyntax",v=function(d){var e=l;null==d&&(d=l);return c(d)?(e=["htmlsyntax",d],g(this.$backend_info(),
"[]=",a.to_a(e)),e[b(e.length,1)]):this.$backend_info()["$[]"]("htmlsyntax")},v.$$arity=-1)})(p[0],p);(function(b,c){var d=[b].concat(c),e;return(a.defn(b,"$included",e=function(b){return b.$extend(a.const_get_relative(d,"Config"))},e.$$arity=1),l)&&"included"})(a.get_singleton_class(h),p);h.$include(a.const_get_relative(p,"Config"));h.$include(a.const_get_relative(p,"BackendInfo"));a.defn(h,"$initialize",u=function(a,b){null==b&&f([],{});this.backend=a;return this.$setup_backend_info()},u.$$arity=
-2);a.defn(h,"$convert",y=function(b,c,d){null==d&&f([],{});return this.$raise(a.const_get_qualified("::","NotImplementedError"))},y.$$arity=-2);a.alias(h,"convert_with_options","convert")})(h[0],h);(function(b,d){var e=q(b,"Writer"),f=[e].concat(d),g;a.defn(e,"$write",g=function(b,d){c(d["$respond_to?"]("write"))?(d.$write(b.$chomp()),d.$write(a.const_get_relative(f,"EOL"))):a.const_get_qualified("::","IO").$write(d,b);return l},g.$$arity=2)})(h[0],h);(function(b,c){var d=q(b,"VoidWriter"),e=[d].concat(c),
f;d.$include(a.const_get_relative(e,"Writer"));a.defn(d,"$write",f=function(a,b){return l},f.$$arity=2)})(h[0],h)})(p[0],p);h.$require("asciidoctor/converter/base");return h.$require("asciidoctor/converter/factory")};Opal.modules["asciidoctor/document"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}
function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var q=[],g=a.nil,c=a.module,n=a.klass,f=a.truthy,e=a.send,d=a.hash2,u=a.range,t=a.gvars;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $- $include? $strip $squeeze $gsub $empty? $! $rpartition $attr_accessor $delete $base_dir $inject $catalog $== $callouts $dup $attributes $safe $compat_mode $sourcemap $converter $extensions $each $start_with? $end_with? $chop $downcase $=== $value_for_name $to_s $key? $freeze $attribute_undefined $attribute_missing $name_for_value $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $update_doctype_attributes $parse $restore_attributes $update_backend_attributes $utc $at $Integer $now $index $slice $strftime $year $join $create $to_proc $activate $preprocessors? $preprocessors $process_method $tree_processors? $tree_processors $!= $counter $nil_or_empty? $nextval $value $save_to $chr $ord $source $source_lines $sectname= $title= $title $first_section $title? $merge $find $context $enumerate_section $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $rewind $name $negate $limit_bytesize $apply_attribute_value_subs $delete? $=~ $apply_subs $resolve_pass_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $raise $backend $default $doctype $content_model $warn $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(k,q){var x=[c(k,"Asciidoctor")].concat(q);(function(c,$super,k){function q(){}c=q=n(c,$super,"Document",q);var x=c.$$proto,w=[c].concat(k),C,v,B,D,P,Z,V,K,G,T,ba,pa,L,aa,U,ea,ia,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da,Ha,Ia,z,va;x.attributes=x.safe=x.reader=x.base_dir=x.parsed=x.parent_document=x.extensions=x.options=x.counters=x.catalog=x.header=x.blocks=x.attributes_modified=x.id=x.callouts=x.header_attributes=x.max_attribute_value_size=x.attribute_overrides=
x.backend=x.doctype=x.converter=x.outfilesuffix=x.docinfo_processor_extensions=x.document=g;a.const_set(w[0],"Footnote",a.const_get_qualified("::","Struct").$new("index","id","text"));(function(c,$super,d){function h(){}c=h=n(c,$super,"AttributeEntry",h);[c].concat(d);var k,l;c.$attr_reader("name","value","negate");a.defn(c,"$initialize",k=function(a,b,c){null==c&&(c=g);this.name=a;this.value=b;return this.negate=f(c["$nil?"]())?b["$nil?"]():c},k.$$arity=-3);return(a.defn(c,"$save_to",l=function(c){var d,
h=g;(f(d=c["$[]"]("attribute_entries"))?d:(h=["attribute_entries",[]],e(c,"[]=",a.to_a(h)),h[b(h.length,1)]))["$<<"](this);return this},l.$$arity=1),g)&&"save_to"})(w[0],null,w);(function(b,$super,c){function e(){}b=e=n(b,$super,"Title",e);var m=b.$$proto,h=[b].concat(c),k,l,p,z;m.sanitized=m.subtitle=m.combined=g;b.$attr_reader("main");a.alias(b,"title","main");b.$attr_reader("subtitle");b.$attr_reader("combined");a.defn(b,"$initialize",k=function(b,c){var e,m,k=g;null==c&&(c=d([],{}));f(f(e=this.sanitized=
c["$[]"]("sanitize"))?b["$include?"]("<"):e)&&(b=b.$gsub(a.const_get_relative(h,"XmlSanitizeRx"),"").$squeeze(" ").$strip());f(f(e=(k=f(m=c["$[]"]("separator"))?m:":")["$empty?"]())?e:b["$include?"](k=""+k+" ")["$!"]())?(this.main=b,this.subtitle=g):(m=b.$rpartition(k),e=a.to_ary(m),this.main=null==e[0]?g:e[0],this.subtitle=null==e[2]?g:e[2],m);return this.combined=b},k.$$arity=-2);a.defn(b,"$sanitized?",l=function(){return this.sanitized},l.$$arity=0);a.defn(b,"$subtitle?",p=function(){return f(this.subtitle)?
!0:!1},p.$$arity=0);return(a.defn(b,"$to_s",z=function(){return this.combined},z.$$arity=0),g)&&"to_s"})(w[0],null,w);c.$attr_reader("safe");c.$attr_reader("compat_mode");c.$attr_reader("backend");c.$attr_reader("doctype");c.$attr_accessor("sourcemap");c.$attr_reader("catalog");a.alias(c,"references","catalog");c.$attr_reader("counters");c.$attr_reader("callouts");c.$attr_reader("header");c.$attr_reader("base_dir");c.$attr_reader("options");c.$attr_reader("outfilesuffix");c.$attr_reader("parent_document");
c.$attr_reader("reader");c.$attr_reader("converter");c.$attr_reader("extensions");a.defn(c,"$initialize",C=function(c,k){var l,z,q,r,n,t,x,A=C.$$p,G=g,F=g,v=g,R=g,W=g,T=W=g,H=g,B=T=T=T=g,V=g,K=V=T=G=g,D=g;null==c&&(c=g);null==k&&(k=d([],{}));A&&(C.$$p=null);e(this,a.find_super_dispatcher(this,"initialize",C,!1),[this,"document"],null);if(f(G=k.$delete("parent")))this.parent_document=G,f(l=k["$[]"]("base_dir"))?l:(F=["base_dir",G.$base_dir()],e(k,"[]=",a.to_a(F)),F[b(F.length,1)]),this.catalog=e(G.$catalog(),
"inject",[d([],{})],(z=function(c,d){var f,h;null==d&&(d=g);d=a.to_ary(d);f=a.slice.call(d,0,d.length);h=f.splice(0,1)[0];null==h&&(h=g);f=f.splice(0,1)[0];null==f&&(f=g);null==c&&(c=g);F=[h,h["$=="]("footnotes")?[]:f];e(c,"[]=",a.to_a(F));F[b(F.length,1)];return c},z.$$s=this,z.$$arity=2,z.$$has_top_level_mlhs_arg=!0,z)),this.callouts=G.$callouts(),this.attribute_overrides=v=G.$attributes().$dup(),R=v.$delete("doctype"),v.$delete("compat-mode"),v.$delete("toc"),v.$delete("toc-placement"),v.$delete("toc-position"),
this.safe=G.$safe(),f(this.compat_mode=G.$compat_mode())&&(F=["compat-mode",""],e(this.attributes,"[]=",a.to_a(F)),F[b(F.length,1)]),this.sourcemap=G.$sourcemap(),this.converter=G.$converter(),W=!1,this.extensions=G.$extensions();else{this.parent_document=g;this.catalog=d("ids footnotes links images indexterms includes".split(" "),{ids:d([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.const_get_qualified("::","Set").$new()});this.callouts=a.const_get_relative(w,"Callouts").$new();
v=d([],{});e(f(l=k["$[]"]("attributes"))?l:d([],{}),"each",[],(q=function(c,d){null==c&&(c=g);null==d&&(d=g);f(c["$start_with?"]("!"))?(c=c["$[]"](u(1,-1,!1)),d=g):f(c["$end_with?"]("!"))&&(c=c.$chop(),d=g);F=[c.$downcase(),d];e(v,"[]=",a.to_a(F));return F[b(F.length,1)]},q.$$s=this,q.$$arity=2,q));this.attribute_overrides=v;if(f((W=k["$[]"]("safe"))["$!"]()))this.safe=a.const_get_qualified(a.const_get_relative(w,"SafeMode"),"SECURE");else if(f(a.const_get_qualified("::","Integer")["$==="](W)))this.safe=
W;else try{this.safe=a.const_get_relative(w,"SafeMode").$value_for_name(W.$to_s())}catch(va){if(a.rescue(va,[a.const_get_relative(w,"StandardError")]))try{this.safe=a.const_get_qualified(a.const_get_relative(w,"SafeMode"),"SECURE")}finally{a.pop_exception()}else throw va;}this.compat_mode=v["$key?"]("compat-mode");this.sourcemap=k["$[]"]("sourcemap");this.converter=g;W=(r=a.const_get_qualified("::","Asciidoctor","skip_raise"))&&(l=a.const_get_qualified(r,"Extensions","skip_raise"))?"constant":g;this.extensions=
g}this.parsed=!1;this.header=g;this.counters=d([],{});this.attributes_modified=a.const_get_qualified("::","Set").$new();this.docinfo_processor_extensions=d([],{});T=f(n=k["$[]"]("header_footer"))?n:(F=["header_footer",!1],e(k,"[]=",a.to_a(F)),F[b(F.length,1)]);(this.options=k).$freeze();H=this.attributes;F=["sectids",""];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["toc-placement","auto"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];f(T)?(F=["copycss",""],e(H,"[]=",a.to_a(F)),F[b(F.length,1)],F=["embedded",
g]):(F=["notitle",""],e(H,"[]=",a.to_a(F)),F[b(F.length,1)],F=["embedded",""]);e(v,"[]=",a.to_a(F));F[b(F.length,1)];F=["stylesheet",""];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["webfonts",""];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["prewrap",""];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["attribute-undefined",a.const_get_relative(w,"Compliance").$attribute_undefined()];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["attribute-missing",a.const_get_relative(w,"Compliance").$attribute_missing()];e(H,"[]=",
a.to_a(F));F[b(F.length,1)];F=["iconfont-remote",""];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["caution-caption","Caution"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["important-caption","Important"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["note-caption","Note"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["tip-caption","Tip"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["warning-caption","Warning"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["appendix-caption","Appendix"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];
F=["example-caption","Example"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["figure-caption","Figure"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["table-caption","Table"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["toc-title","Table of Contents"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["manname-title","NAME"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["untitled-label","Untitled"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["version-label","Version"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["last-update-label",
"Last updated"];e(H,"[]=",a.to_a(F));F[b(F.length,1)];F=["asciidoctor",""];e(v,"[]=",a.to_a(F));F[b(F.length,1)];F=["asciidoctor-version",a.const_get_relative(w,"VERSION")];e(v,"[]=",a.to_a(F));F[b(F.length,1)];F=["safe-mode-name",T=a.const_get_relative(w,"SafeMode").$name_for_value(this.safe)];e(v,"[]=",a.to_a(F));F[b(F.length,1)];F=["safe-mode-"+T,""];e(v,"[]=",a.to_a(F));F[b(F.length,1)];F=["safe-mode-level",this.safe];e(v,"[]=",a.to_a(F));F[b(F.length,1)];f(n=v["$[]"]("max-include-depth"))?n:
(F=["max-include-depth",64],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]);f(n=v["$[]"]("allow-uri-read"))?n:(F=["allow-uri-read",g],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]);F=["user-home",a.const_get_relative(w,"USER_HOME")];e(v,"[]=",a.to_a(F));F[b(F.length,1)];f(v["$key?"]("numbered"))&&(F=["sectnums",v.$delete("numbered")],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]);f(k["$[]"]("base_dir"))?this.base_dir=(F=["docdir",a.const_get_qualified("::","File").$expand_path(k["$[]"]("base_dir"))],e(v,"[]=",a.to_a(F)),
F[b(F.length,1)]):f(v["$[]"]("docdir"))?this.base_dir=(F=["docdir",a.const_get_qualified("::","File").$expand_path(v["$[]"]("docdir"))],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]):this.base_dir=(F=["docdir",a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","Dir").$pwd())],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]);f(T=k["$[]"]("backend"))&&(F=["backend",""+T],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]);f(T=k["$[]"]("doctype"))&&(F=["doctype",""+T],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]);
f(h(this.safe,a.const_get_qualified(a.const_get_relative(w,"SafeMode"),"SERVER")))&&(f(n=v["$[]"]("copycss"))?n:(F=["copycss",g],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]),f(n=v["$[]"]("source-highlighter"))?n:(F=["source-highlighter",g],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]),f(n=v["$[]"]("backend"))?n:(F=["backend",a.const_get_relative(w,"DEFAULT_BACKEND")],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]),f(f(n=G["$!"]())?v["$key?"]("docfile"):n)&&(F=["docfile",v["$[]"]("docfile")["$[]"](a.Range.$new(p(v["$[]"]("docdir").$length(),
1),-1,!1))],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]),F=["docdir",""],e(v,"[]=",a.to_a(F)),F[b(F.length,1)],F=["user-home","."],e(v,"[]=",a.to_a(F)),F[b(F.length,1)],f(h(this.safe,a.const_get_qualified(a.const_get_relative(w,"SafeMode"),"SECURE")))&&(f(v["$key?"]("max-attribute-value-size"))||(F=["max-attribute-value-size",4096],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]),f(v.$fetch("linkcss","")["$nil?"]())||(F=["linkcss",""],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]),f(n=v["$[]"]("icons"))?n:(F=["icons",g],
e(v,"[]=",a.to_a(F)),F[b(F.length,1)])));this.max_attribute_value_size=f(B=f(n=v["$[]"]("max-attribute-value-size"))?n:(F=["max-attribute-value-size",g],e(v,"[]=",a.to_a(F)),F[b(F.length,1)]))?B.$to_i().$abs():g;e(v,"delete_if",[],(t=function(c,d){var h,k=g;null==c&&(c=g);null==d&&(d=g);k=!1;f(d["$nil?"]())?H.$delete(c):(f(f(h=a.const_get_qualified("::","String")["$==="](d))?d["$end_with?"]("@"):h)&&(d=d.$chop(),k=!0),F=[c,d],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);return k},t.$$s=this,t.$$arity=2,
t));if(f(G))return this.backend=H["$[]"]("backend"),(this.doctype=(F=["doctype",R],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]))["$=="](a.const_get_relative(w,"DEFAULT_DOCTYPE"))||this.$update_doctype_attributes(a.const_get_relative(w,"DEFAULT_DOCTYPE")),this.reader=a.const_get_relative(w,"Reader").$new(c,k["$[]"]("cursor")),a.const_get_relative(w,"Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;this.backend=g;(f(n=H["$[]"]("backend"))?n:(F=["backend",a.const_get_relative(w,
"DEFAULT_BACKEND")],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]))["$=="]("manpage")?this.doctype=(F=["doctype",(F=["doctype","manpage"],e(v,"[]=",a.to_a(F)),F[b(F.length,1)])],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]):this.doctype=f(n=H["$[]"]("doctype"))?n:(F=["doctype",a.const_get_relative(w,"DEFAULT_DOCTYPE")],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);this.$update_backend_attributes(H["$[]"]("backend"),!0);V=f(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?a.const_get_qualified("::","Time").$at(this.$Integer(a.const_get_qualified("::",
"ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():a.const_get_qualified("::","Time").$now();f(G=H["$[]"]("localdate"))?T=f(n=H["$[]"]("localyear"))?n:(F=["localyear",G.$index("-")["$=="](4)?G.$slice(0,4):g],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]):(G=(F=["localdate",V.$strftime("%Y-%m-%d")],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]),T=f(n=H["$[]"]("localyear"))?n:(F=["localyear",V.$year().$to_s()],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]));if(f(n=H["$[]"]("localtime")))l=n;else{var ba;a:{try{ba=V.$strftime("%H:%M:%S %Z");
break a}catch(va){if(a.rescue(va,[a.const_get_relative(w,"StandardError")]))try{ba=V.$strftime("%H:%M:%S %z");break a}finally{a.pop_exception()}else throw va;}ba=void 0}l=(F=["localtime",ba],e(H,"[]=",a.to_a(F)),F[b(F.length,1)])}V=l;f(n=H["$[]"]("localdatetime"))?n:(F=["localdatetime",""+G+" "+V],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);f(n=H["$[]"]("docdate"))?n:(F=["docdate",G],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);f(n=H["$[]"]("docyear"))?n:(F=["docyear",T],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);
f(n=H["$[]"]("doctime"))?n:(F=["doctime",V],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);f(n=H["$[]"]("docdatetime"))?n:(F=["docdatetime",""+G+" "+V],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);f(n=H["$[]"]("stylesdir"))?n:(F=["stylesdir","."],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);f(n=H["$[]"]("iconsdir"))?n:(F=["iconsdir",a.const_get_qualified("::","File").$join(H.$fetch("imagesdir","./images"),"icons")],e(H,"[]=",a.to_a(F)),F[b(F.length,1)]);f(W)&&(f(K=k["$[]"]("extension_registry"))?f(f(n=a.const_get_qualified(a.const_get_relative(w,
"Extensions"),"Registry")["$==="](K))?n:f(x=a.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?a.const_get_qualified(a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions"),"ExtensionRegistry")["$==="](K):x)||(K=a.const_get_qualified(a.const_get_relative(w,"Extensions"),"Registry").$new()):K=f(a.const_get_qualified("::","Proc")["$==="](D=k["$[]"]("extensions")))?e(a.const_get_relative(w,"Extensions"),"create",[],D.$to_proc()):a.const_get_qualified(a.const_get_relative(w,"Extensions"),
"Registry").$new(),this.extensions=K.$activate(this));return this.reader=a.const_get_relative(w,"PreprocessorReader").$new(this,c,a.const_get_qualified(a.const_get_relative(w,"Reader"),"Cursor").$new(H["$[]"]("docfile"),this.base_dir),d(["normalize"],{normalize:!0}))},C.$$arity=-1);a.defn(c,"$parse",v=function(b){var c,m,h,k=g,l=g;null==b&&(b=g);if(f(this.parsed))return this;k=this;f(b)&&(this.reader=a.const_get_relative(w,"PreprocessorReader").$new(k,b,a.const_get_qualified(a.const_get_relative(w,
"Reader"),"Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir),d(["normalize"],{normalize:!0})));f(f(c=l=f(this.parent_document)?g:this.extensions)?l["$preprocessors?"]():c)&&e(l.$preprocessors(),"each",[],(m=function(a){var b=m.$$s||this,c;null==b.reader&&(b.reader=g);null==a&&(a=g);return b.reader=f(c=a.$process_method()["$[]"](k,b.reader))?c:b.reader},m.$$s=this,m.$$arity=1,m));a.const_get_relative(w,"Parser").$parse(this.reader,k,d(["header_only"],{header_only:this.options["$[]"]("parse_header_only")}));
this.$restore_attributes();f(f(c=l)?l["$tree_processors?"]():c)&&e(l.$tree_processors(),"each",[],(h=function(b){var c,d,e=g;null==b&&(b=g);return f(f(c=f(d=e=b.$process_method()["$[]"](k))?a.const_get_relative(w,"Document")["$==="](e):d)?e["$!="](k):c)?k=e:g},h.$$s=this,h.$$arity=1,h));this.parsed=!0;return k},v.$$arity=-1);a.defn(c,"$counter",B=function(c,d){var h,k=g,l=g,z=g;null==d&&(d=g);if(f(this.parent_document))return this.parent_document.$counter(c,d);z=f(f(h=k=(l=this.attributes["$[]"](c))["$nil_or_empty?"]()["$!"]())?
this.counters["$key?"](c):h)?[c,(z=[c,this.$nextval(l)],e(this.counters,"[]=",a.to_a(z)),z[b(z.length,1)])]:f(d)?[c,(z=[c,d["$=="](d.$to_i().$to_s())?d.$to_i():d],e(this.counters,"[]=",a.to_a(z)),z[b(z.length,1)])]:[c,(z=[c,this.$nextval(f(k)?l:0)],e(this.counters,"[]=",a.to_a(z)),z[b(z.length,1)])];e(this.attributes,"[]=",a.to_a(z));return z[b(z.length,1)]},B.$$arity=-2);a.defn(c,"$increment_and_store_counter",D=function(b,c){return a.const_get_relative(w,"AttributeEntry").$new(b,this.$counter(b)).$save_to(c.$attributes()).$value()},
D.$$arity=2);a.alias(c,"counter_increment","increment_and_store_counter");a.defn(c,"$nextval",P=function(b){var c=g;if(f(a.const_get_qualified("::","Integer")["$==="](b)))return p(b,1);c=b.$to_i();return f(c.$to_s()["$!="](b.$to_s()))?p(b["$[]"](0).$ord(),1).$chr():p(c,1)},P.$$arity=1);a.defn(c,"$register",Z=function(c,d){var h,k,l=h=g,z=g,q=g,r=g;h=c;"ids"["$==="](h)?(k=d,h=a.to_ary(k),l=null==h[0]?g:h[0],z=null==h[1]?g:h[1],k,q=this.catalog["$[]"]("ids"),l=f(h=q["$[]"](l))?h:(r=[l,f(k=z)?k:p(p("[",
l),"]")],e(q,"[]=",a.to_a(r)),r[b(r.length,1)])):l="footnotes"["$==="](h)||"indexterms"["$==="](h)?this.catalog["$[]"](c)["$<<"](d):f(this.options["$[]"]("catalog_assets"))?this.catalog["$[]"](c)["$<<"](d):g;return l},Z.$$arity=2);a.defn(c,"$footnotes?",V=function(){return f(this.catalog["$[]"]("footnotes")["$empty?"]())?!1:!0},V.$$arity=0);a.defn(c,"$footnotes",K=function(){return this.catalog["$[]"]("footnotes")},K.$$arity=0);a.defn(c,"$nested?",G=function(){return f(this.parent_document)?!0:!1},
G.$$arity=0);a.defn(c,"$embedded?",T=function(){return this.attributes["$key?"]("embedded")},T.$$arity=0);a.defn(c,"$extensions?",ba=function(){return f(this.extensions)?!0:!1},ba.$$arity=0);a.defn(c,"$source",pa=function(){return f(this.reader)?this.reader.$source():g},pa.$$arity=0);a.defn(c,"$source_lines",L=function(){return f(this.reader)?this.reader.$source_lines():g},L.$$arity=0);a.defn(c,"$basebackend?",aa=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},aa.$$arity=1);a.defn(c,
"$title",U=function(){return this.attributes["$[]"]("title")},U.$$arity=0);a.defn(c,"$title=",ea=function(c){var d=g,h=g;f(d=this.header)||(h=["header"],e(d=this.header=a.const_get_relative(w,"Section").$new(this,0,!1),"sectname=",a.to_a(h)),h[b(h.length,1)]);h=[c];e(d,"title=",a.to_a(h));return h[b(h.length,1)]},ea.$$arity=1);a.defn(c,"$doctitle",ia=function(b){var c,e=g,m=g,h=g;null==b&&(b=d([],{}));if(f((e=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]()))e=this.$title();else if(f(f(c=
m=this.$first_section())?m["$title?"]():c))e=m.$title();else if(!f(f(c=b["$[]"]("use_fallback"))?e=this.attributes["$[]"]("untitled-label"):c))return g;return f(h=b["$[]"]("partition"))?a.const_get_relative(w,"Title").$new(e,b.$merge(d(["separator"],{separator:h["$=="](!0)?this.attributes["$[]"]("title-separator"):h}))):f(f(c=b["$[]"]("sanitize"))?e["$include?"]("<"):c)?e.$gsub(a.const_get_relative(w,"XmlSanitizeRx"),"").$squeeze(" ").$strip():e},ia.$$arity=-1);a.alias(c,"name","doctitle");a.defn(c,
"$author",H=function(){return this.attributes["$[]"]("author")},H.$$arity=0);a.defn(c,"$revdate",Y=function(){return this.attributes["$[]"]("revdate")},Y.$$arity=0);a.defn(c,"$notitle",ha=function(){var a;return f(a=this.attributes["$key?"]("showtitle")["$!"]())?this.attributes["$key?"]("notitle"):a},ha.$$arity=0);a.defn(c,"$noheader",ka=function(){return this.attributes["$key?"]("noheader")},ka.$$arity=0);a.defn(c,"$nofooter",na=function(){return this.attributes["$key?"]("nofooter")},na.$$arity=
0);a.defn(c,"$first_section",la=function(){var a,b;return f(a=this.header)?a:e(this.blocks,"find",[],(b=function(a){null==a&&(a=g);return a.$context()["$=="]("section")},b.$$s=this,b.$$arity=1,b))},la.$$arity=0);a.defn(c,"$has_header?",Aa=function(){return f(this.header)?!0:!1},Aa.$$arity=0);a.alias(c,"header?","has_header?");a.defn(c,"$<<",oa=function(b){var c=oa.$$p,d=g,f=g,m=g;c&&(oa.$$p=null);f=0;m=arguments.length;for(d=Array(m);f<m;f++)d[f]=arguments[f];b.$context()["$=="]("section")&&this.$enumerate_section(b);
return e(this,a.find_super_dispatcher(this,"<<",oa,!1),d,c)},oa.$$arity=1);a.defn(c,"$finalize_header",ra=function(c,d){var h=g;null==d&&(d=!0);this.$clear_playback_attributes(c);this.$save_attributes();f(d)||(h=["invalid-header",!0],e(c,"[]=",a.to_a(h)),h[b(h.length,1)]);return c},ra.$$arity=-2);a.defn(c,"$save_attributes",qa=function(){var c,d,h,k=g,l=g,z=g,p=l=g,q=g,r=g,n=g,r=p=g;(k=this.attributes)["$[]"]("basebackend")["$=="]("docbook")&&(f(f(c=this["$attribute_locked?"]("toc"))?c:this.attributes_modified["$include?"]("toc"))||
(l=["toc",""],e(k,"[]=",a.to_a(l)),l[b(l.length,1)]),f(f(c=this["$attribute_locked?"]("sectnums"))?c:this.attributes_modified["$include?"]("sectnums"))||(l=["sectnums",""],e(k,"[]=",a.to_a(l)),l[b(l.length,1)]));f(f(c=k["$key?"]("doctitle"))?c:(z=this.$doctitle())["$!"]())||(l=["doctitle",z],e(k,"[]=",a.to_a(l)),l[b(l.length,1)]);f(this.id)||(this.id=k["$[]"]("css-signature"));l=f(p=f(k.$delete("toc2"))?"left":k["$[]"]("toc"))?f(f(c=q=k.$fetch("toc-placement","macro"))?q["$!="]("auto"):c)?q:k["$[]"]("toc-position"):
g;f(f(c=p)?f(d=p["$empty?"]()["$!"]())?d:l["$nil_or_empty?"]()["$!"]():c)&&(r="left",n="toc2",p=f(l["$nil_or_empty?"]()["$!"]())?l:f(p["$empty?"]()["$!"]())?p:r,l=["toc",""],e(k,"[]=",a.to_a(l)),l[b(l.length,1)],l=["toc-placement","auto"],e(k,"[]=",a.to_a(l)),l[b(l.length,1)],r=p,"left"["$==="](r)||"<"["$==="](r)||"&lt;"["$==="](r)?(l=["toc-position","left"],e(k,"[]=",a.to_a(l)),l[b(l.length,1)]):"right"["$==="](r)||">"["$==="](r)||"&gt;"["$==="](r)?(l=["toc-position","right"],e(k,"[]=",a.to_a(l)),
l[b(l.length,1)]):"top"["$==="](r)||"^"["$==="](r)?(l=["toc-position","top"],e(k,"[]=",a.to_a(l)),l[b(l.length,1)]):"bottom"["$==="](r)||"v"["$==="](r)?(l=["toc-position","bottom"],e(k,"[]=",a.to_a(l)),l[b(l.length,1)]):("preamble"["$==="](r)||"macro"["$==="](r)?(l=["toc-position","content"],e(k,"[]=",a.to_a(l)),l[b(l.length,1)],l=["toc-placement",p],e(k,"[]=",a.to_a(l)),l[b(l.length,1)]):k.$delete("toc-position"),n=g),f(n)&&(f(c=k["$[]"]("toc-class"))?c:(l=["toc-class",n],e(k,"[]=",a.to_a(l)),l[b(l.length,
1)])));f(this.compat_mode=k["$key?"]("compat-mode"))&&f(k["$key?"]("language"))&&(l=["source-language",k["$[]"]("language")],e(k,"[]=",a.to_a(l)),l[b(l.length,1)]);this.outfilesuffix=k["$[]"]("outfilesuffix");this.header_attributes=k.$dup();return f(this.parent_document)?g:e(a.const_get_relative(w,"FLEXIBLE_ATTRIBUTES"),"each",[],(h=function(a){var b=h.$$s||this,c;null==b.attribute_overrides&&(b.attribute_overrides=g);null==a&&(a=g);return f(f(c=b.attribute_overrides["$key?"](a))?b.attribute_overrides["$[]"](a):
c)?b.attribute_overrides.$delete(a):g},h.$$s=this,h.$$arity=1,h))},qa.$$arity=0);a.defn(c,"$restore_attributes",ma=function(){f(this.parent_document)||this.callouts.$rewind();return this.attributes=this.header_attributes},ma.$$arity=0);a.defn(c,"$clear_playback_attributes",ja=function(a){return a.$delete("attribute_entries")},ja.$$arity=1);a.defn(c,"$playback_attributes",ta=function(c){var d;return f(c["$key?"]("attribute_entries"))?e(c["$[]"]("attribute_entries"),"each",[],(d=function(c){var h=d.$$s||
this,k=g,l=g;null==h.attributes&&(h.attributes=g);null==c&&(c=g);k=c.$name();if(f(c.$negate()))return h.attributes.$delete(k),k["$=="]("compat-mode")?h.compat_mode=!1:g;l=[k,c.$value()];e(h.attributes,"[]=",a.to_a(l));l[b(l.length,1)];return k["$=="]("compat-mode")?h.compat_mode=!0:g},d.$$s=this,d.$$arity=1,d)):g},ta.$$arity=1);a.defn(c,"$set_attribute",fa=function(c,d){var h=g,k=g,k=g;null==d&&(d="");if(f(this["$attribute_locked?"](c)))return!1;h=f(this.max_attribute_value_size)?this.$apply_attribute_value_subs(d).$limit_bytesize(this.max_attribute_value_size):
this.$apply_attribute_value_subs(d);k=c;"backend"["$==="](k)?this.$update_backend_attributes(h,this.attributes_modified["$delete?"]("htmlsyntax")):"doctype"["$==="](k)?this.$update_doctype_attributes(h):(k=[c,h],e(this.attributes,"[]=",a.to_a(k)),k[b(k.length,1)]);this.attributes_modified["$<<"](c);return h},fa.$$arity=-2);a.defn(c,"$delete_attribute",ya=function(a){if(f(this["$attribute_locked?"](a)))return!1;this.attributes.$delete(a);this.attributes_modified["$<<"](a);return!0},ya.$$arity=1);a.defn(c,
"$attribute_locked?",ua=function(a){return this.attribute_overrides["$key?"](a)},ua.$$arity=1);a.defn(c,"$apply_attribute_value_subs",za=function(b){var c;return f(a.const_get_relative(w,"AttributeEntryPassMacroRx")["$=~"](b))?f((c=t["~"])===g?g:c["$[]"](1))?this.$apply_subs((c=t["~"])===g?g:c["$[]"](2),this.$resolve_pass_subs((c=t["~"])===g?g:c["$[]"](1))):(c=t["~"])===g?g:c["$[]"](2):this.$apply_header_subs(b)},za.$$arity=1);a.defn(c,"$update_backend_attributes",Ea=function(c,d){var h,k,l=g,z=g,
p=g,q=g,r=g,n=g,t=g,x=g,y=z=g,z=g;null==d&&(d=g);return f(f(h=d)?h:f(k=c)?c["$!="](this.backend):k)?(h=[this.backend,(l=this.attributes)["$[]"]("basebackend"),this.doctype],z=h[0],p=h[1],q=h[2],h,f(c["$start_with?"]("xhtml"))?(r=["htmlsyntax","xml"],e(l,"[]=",a.to_a(r)),r[b(r.length,1)],c=c["$[]"](u(1,-1,!1))):f(c["$start_with?"]("html"))&&!l["$[]"]("htmlsyntax")["$=="]("xml")&&(r=["htmlsyntax","html"],e(l,"[]=",a.to_a(r)),r[b(r.length,1)]),f(n=a.const_get_relative(w,"BACKEND_ALIASES")["$[]"](c))&&
(c=n),f(q)?(f(z)&&(l.$delete("backend-"+z),l.$delete("backend-"+z+"-doctype-"+q)),r=["backend-"+c+"-doctype-"+q,""],e(l,"[]=",a.to_a(r)),r[b(r.length,1)],r=["doctype-"+q,""],e(l,"[]=",a.to_a(r)),r[b(r.length,1)]):f(z)&&l.$delete("backend-"+z),r=["backend-"+c,""],e(l,"[]=",a.to_a(r)),r[b(r.length,1)],this.backend=(r=["backend",c],e(l,"[]=",a.to_a(r)),r[b(r.length,1)]),f(a.const_get_qualified(a.const_get_relative(w,"Converter"),"BackendInfo")["$==="](this.converter=this.$create_converter()))?(t=this.converter.$basebackend(),
f(this["$attribute_locked?"]("outfilesuffix"))||(r=["outfilesuffix",this.converter.$outfilesuffix()],e(l,"[]=",a.to_a(r)),r[b(r.length,1)]),x=this.converter.$filetype()):f(this.converter)?(t=c.$sub(a.const_get_relative(w,"TrailingDigitsRx"),""),f(z=a.const_get_relative(w,"DEFAULT_EXTENSIONS")["$[]"](t))?x=z["$[]"](u(1,-1,!1)):(h=[".html","html","html"],z=h[0],t=h[1],x=h[2],h),f(this["$attribute_locked?"]("outfilesuffix"))||(r=["outfilesuffix",z],e(l,"[]=",a.to_a(r)),r[b(r.length,1)])):this.$raise(a.const_get_qualified("::",
"NotImplementedError"),"asciidoctor: FAILED: missing converter for backend '"+c+"'. Processing aborted."),f(y=l["$[]"]("filetype"))&&l.$delete("filetype-"+y),r=["filetype",x],e(l,"[]=",a.to_a(r)),r[b(r.length,1)],r=["filetype-"+x,""],e(l,"[]=",a.to_a(r)),r[b(r.length,1)],f(z=a.const_get_relative(w,"DEFAULT_PAGE_WIDTHS")["$[]"](t))?(r=["pagewidth",z],e(l,"[]=",a.to_a(r)),r[b(r.length,1)]):l.$delete("pagewidth"),f(t["$!="](p))&&(f(q)?(f(p)&&(l.$delete("basebackend-"+p),l.$delete("basebackend-"+p+"-doctype-"+
q)),r=["basebackend-"+t+"-doctype-"+q,""],e(l,"[]=",a.to_a(r)),r[b(r.length,1)]):f(p)&&l.$delete("basebackend-"+p),r=["basebackend-"+t,""],e(l,"[]=",a.to_a(r)),r[b(r.length,1)],r=["basebackend",t],e(l,"[]=",a.to_a(r)),r[b(r.length,1)]),c):g},Ea.$$arity=-2);a.defn(c,"$update_doctype_attributes",Ga=function(c){var d,h=g,k=g,l=g,z=g,k=g;return f(f(d=c)?c["$!="](this.doctype):d)?(d=[this.backend,(h=this.attributes)["$[]"]("basebackend"),this.doctype],k=d[0],l=d[1],z=d[2],d,f(z)?(h.$delete("doctype-"+
z),f(k)&&(h.$delete("backend-"+k+"-doctype-"+z),k=["backend-"+k+"-doctype-"+c,""],e(h,"[]=",a.to_a(k)),k[b(k.length,1)]),f(l)&&(h.$delete("basebackend-"+l+"-doctype-"+z),k=["basebackend-"+l+"-doctype-"+c,""],e(h,"[]=",a.to_a(k)),k[b(k.length,1)])):(f(k)&&(k=["backend-"+k+"-doctype-"+c,""],e(h,"[]=",a.to_a(k)),k[b(k.length,1)]),f(l)&&(k=["basebackend-"+l+"-doctype-"+c,""],e(h,"[]=",a.to_a(k)),k[b(k.length,1)])),k=["doctype-"+c,""],e(h,"[]=",a.to_a(k)),k[b(k.length,1)],this.doctype=(k=["doctype",c],
e(h,"[]=",a.to_a(k)),k[b(k.length,1)])):g},Ga.$$arity=1);a.defn(c,"$create_converter",Ba=function(){var c=this,h=g,k=g,l=g,z=g,p=g,r=g,h=d([],{}),k=["htmlsyntax",c.attributes["$[]"]("htmlsyntax")];e(h,"[]=",a.to_a(k));k[b(k.length,1)];l=function(){return f(z=c.options["$[]"]("template_dir"))?(k=["template_dirs",[z]],e(h,"[]=",a.to_a(k)),k[b(k.length,1)]):f(l=c.options["$[]"]("template_dirs"))?(k=["template_dirs",l],e(h,"[]=",a.to_a(k)),k[b(k.length,1)]):g}();f(l)&&(k=["template_cache",c.options.$fetch("template_cache",
!0)],e(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["template_engine",c.options["$[]"]("template_engine")],e(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["template_engine_options",c.options["$[]"]("template_engine_options")],e(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["eruby",c.options["$[]"]("eruby")],e(h,"[]=",a.to_a(k)),k[b(k.length,1)],k=["safe",c.safe],e(h,"[]=",a.to_a(k)),k[b(k.length,1)]);r=f(p=c.options["$[]"]("converter"))?a.const_get_qualified(a.const_get_relative(w,"Converter"),"Factory").$new(a.const_get_qualified("::",
"Hash")["$[]"](c.$backend(),p)):a.const_get_qualified(a.const_get_relative(w,"Converter"),"Factory").$default(!1);return r.$create(c.$backend(),h)},Ba.$$arity=0);a.defn(c,"$convert",Ca=function(c){var k,l,z=g,p=g,r=g,q=g,n=g;null==c&&(c=d([],{}));f(this.parsed)||this.$parse();f(f(k=h(this.safe,a.const_get_qualified(a.const_get_relative(w,"SafeMode"),"SERVER")))?k:c["$empty?"]())||(f((z=["outfile",c["$[]"]("outfile")],e(this.attributes,"[]=",a.to_a(z)),z[b(z.length,1)]))||this.attributes.$delete("outfile"),
f((z=["outdir",c["$[]"]("outdir")],e(this.attributes,"[]=",a.to_a(z)),z[b(z.length,1)]))||this.attributes.$delete("outdir"));this.$doctype()["$=="]("inline")?f(p=this.blocks["$[]"](0))&&(f(f(k=p.$content_model()["$=="]("compound"))?k:p.$content_model()["$=="]("empty"))?this.$warn("asciidoctor: WARNING: no inline candidate; use the inline doctype to convert a single paragragh, verbatim, or raw block"):r=p.$content()):(q=f(f(c["$key?"]("header_footer"))?c["$[]"]("header_footer"):this.options["$[]"]("header_footer"))?
"document":"embedded",r=this.converter.$convert(this,q));!f(this.parent_document)&&f(f(k=n=this.extensions)?n["$postprocessors?"]():k)&&e(n.$postprocessors(),"each",[],(l=function(a){var b=l.$$s||this;null==a&&(a=g);return r=a.$process_method()["$[]"](b,r)},l.$$s=this,l.$$arity=1,l));return r},Ca.$$arity=-1);a.alias(c,"render","convert");a.defn(c,"$write",Fa=function(b,c){if(f(a.const_get_relative(w,"Writer")["$==="](this.converter)))return this.converter.$write(b,c);f(c["$respond_to?"]("write"))?
f(b["$nil_or_empty?"]())||(c.$write(b.$chomp()),c.$write(a.const_get_relative(w,"EOL"))):a.const_get_qualified("::","IO").$write(c,b);return g},Fa.$$arity=2);a.defn(c,"$content",Da=function(){var b=Da.$$p,c=g,d=g,f=g;b&&(Da.$$p=null);d=0;f=arguments.length;for(c=Array(f);d<f;d++)c[d]=arguments[d];this.attributes.$delete("title");return e(this,a.find_super_dispatcher(this,"content",Da,!1),c,b)},Da.$$arity=0);a.defn(c,"$docinfo",Ha=function(b,c){var m,k,z,p=g,r=g,q=g,n=g,t=p=g,x=g,r=r=g;null==b&&(b=
"head");null==c&&(c=g);if(f(h(this.$safe(),a.const_get_qualified(a.const_get_relative(w,"SafeMode"),"SECURE"))))return"";p=b["$=="]("head")?g:"-"+b;f(c)||(c=this.outfilesuffix);r=this.attributes["$[]"]("docinfodir");q=g;n=f((n=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())?f(this.attributes["$key?"]("docinfo2"))?["private","shared"]:f(this.attributes["$key?"]("docinfo1"))?["shared"]:f(n)?["private"]:g:e(n.$split(","),"map",[],(m=function(a){null==a&&(a=g);return a.$strip()},m.$$s=this,m.$$arity=
1,m));f(n)&&(p="docinfo"+p+c,f(n["$&"](["shared","shared-"+b])["$empty?"]())||(t=this.$normalize_system_path(p,r),f(q=this.$read_asset(t,d(["normalize"],{normalize:!0})))&&!f((x=f(k=x)?k:this.$resolve_docinfo_subs())["$empty?"]())&&(q=f(x["$=="]("attributes"))?this.$sub_attributes(q):this.$apply_subs(q,x))),f(f(k=this.attributes["$[]"]("docname")["$nil_or_empty?"]())?k:n["$&"](["private","private-"+b])["$empty?"]())||(t=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+p,r),f(r=
this.$read_asset(t,d(["normalize"],{normalize:!0})))&&(f((x=f(k=x)?k:this.$resolve_docinfo_subs())["$empty?"]())||(r=f(x["$=="]("attributes"))?this.$sub_attributes(r):this.$apply_subs(r,x)),q=f(q)?""+q+a.const_get_relative(w,"EOL")+r:r)));f(f(k=this.extensions)?this["$docinfo_processors?"](b):k)&&(r=l(e(this.docinfo_processor_extensions["$[]"](b),"map",[],(z=function(a){var b=z.$$s||this;null==a&&(a=g);return a.$process_method()["$[]"](b)},z.$$s=this,z.$$arity=1,z)).$compact(),a.const_get_relative(w,
"EOL")),q=f(q)?""+q+a.const_get_relative(w,"EOL")+r:r);return""+q},Ha.$$arity=-1);a.defn(c,"$resolve_docinfo_subs",Ia=function(){return f(this.attributes["$key?"]("docinfosubs"))?this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),"block",g,"docinfo"):"attributes"},Ia.$$arity=0);a.defn(c,"$docinfo_processors?",z=function(c){var d,h=g;null==c&&(c="head");if(f(this.docinfo_processor_extensions["$key?"](c)))return this.docinfo_processor_extensions["$[]"](c)["$!="](!1);if(f(f(d=this.extensions)?
this.document.$extensions()["$docinfo_processors?"](c):d))return(h=[c,this.document.$extensions().$docinfo_processors(c)],e(this.docinfo_processor_extensions,"[]=",a.to_a(h)),h[b(h.length,1)])["$!"]()["$!"]();h=[c,!1];e(this.docinfo_processor_extensions,"[]=",a.to_a(h));return h[b(h.length,1)]},z.$$arity=-1);return(a.defn(c,"$to_s",va=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+(f(this.header["$!="](g))?this.header.$title():g).$inspect()+
", blocks: "+this.blocks.$size()+"}>"},va.$$arity=0),g)&&"to_s"})(x[0],a.const_get_relative(x,"AbstractBlock"),x)}(q[0],q)};Opal.modules["asciidoctor/inline"]=function(a){var b=[],h=a.nil,p=a.module,l=a.klass,q=a.send,g=a.truthy,c=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(b,f){var e=[p(b,"Asciidoctor")].concat(f);(function(b,$super,e){function f(){}b=f=l(b,$super,"Inline",f);[b].concat(e);var m,p,n,u;b.$attr_reader("text");
b.$attr_reader("type");b.$attr_accessor("target");a.defn(b,"$initialize",m=function(b,d,e,f){var k=m.$$p,l=h;null==e&&(e=h);null==f&&(f=c([],{}));k&&(m.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",m,!1),[b,d],null);this.node_name="inline_"+d;this.text=e;this.id=f["$[]"]("id");this.type=f["$[]"]("type");this.target=f["$[]"]("target");return g((l=f["$[]"]("attributes"))["$nil_or_empty?"]())?h:this.$update_attributes(l)},m.$$arity=-3);a.defn(b,"$block?",p=function(){return!1},p.$$arity=
0);a.defn(b,"$inline?",n=function(){return!0},n.$$arity=0);a.defn(b,"$convert",u=function(){return this.$converter().$convert(this)},u.$$arity=0);return a.alias(b,"render","convert")})(e[0],a.const_get_relative(e,"AbstractNode"),e)}(b[0],b)};Opal.modules["asciidoctor/list"]=function(a){var b=[],h=a.nil,p=a.module,l=a.klass,q=a.send,g=a.truthy;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $dup $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));
return function(b,m){var f=[p(b,"Asciidoctor")].concat(m);(function(b,$super,c){function f(){}b=f=l(b,$super,"List",f);var m=b.$$proto;[b].concat(c);var p,n,u,y;m.context=m.document=m.style=h;a.alias(b,"items","blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",p=function(b,c){var e=p.$$p,f=h,g=h,m=h;e&&(p.$$p=null);g=0;m=arguments.length;for(f=Array(m);g<m;g++)f[g]=arguments[g];return q(this,a.find_super_dispatcher(this,"initialize",p,!1),f,e)},p.$$arity=
2);a.defn(b,"$outline?",n=function(){var a;return g(a=this.context["$=="]("ulist"))?a:this.context["$=="]("olist")},n.$$arity=0);a.defn(b,"$convert",u=function(){var b=u.$$p,c=h,e=c=h,f=h;b&&(u.$$p=null);e=0;f=arguments.length;for(c=Array(f);e<f;e++)c[e]=arguments[e];return this.context["$=="]("colist")?(c=q(this,a.find_super_dispatcher(this,"convert",u,!1),c,b),this.document.$callouts().$next_list(),c):q(this,a.find_super_dispatcher(this,"convert",u,!1),c,b)},u.$$arity=0);a.alias(b,"render","convert");
return(a.defn(b,"$to_s",y=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+"}>"},y.$$arity=0),h)&&"to_s"})(f[0],a.const_get_relative(f,"AbstractBlock"),f);(function(b,$super,c){function f(){}b=f=l(b,$super,"ListItem",f);var m=b.$$proto,p=[b].concat(c),n,u,y,r,v,A,B,C;m.text=m.subs=m.blocks=h;a.alias(b,"list","parent");b.$attr_accessor("marker");a.defn(b,"$initialize",n=function(b,c){var e=
n.$$p;null==c&&(c=h);e&&(n.$$p=null);q(this,a.find_super_dispatcher(this,"initialize",n,!1),[b,"list_item"],null);this.text=c;this.level=b.$level();return this.subs=a.const_get_relative(p,"NORMAL_SUBS").$dup()},n.$$arity=-2);a.defn(b,"$text?",u=function(){return this.text["$nil_or_empty?"]()["$!"]()},u.$$arity=0);a.defn(b,"$text",y=function(){return this.$apply_subs(this.text,this.subs)},y.$$arity=0);a.defn(b,"$text=",r=function(a){return this.text=a},r.$$arity=1);a.defn(b,"$simple?",v=function(){var b,
c,e=h;return g(b=this.blocks["$empty?"]())?b:g(c=this.blocks.$size()["$=="](1)?a.const_get_relative(p,"List")["$==="](e=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1))?e["$outline?"]():c},v.$$arity=0);a.defn(b,"$compound?",A=function(){return this["$simple?"]()["$!"]()},A.$$arity=0);a.defn(b,"$fold_first",B=function(b,c){var e,f,m,k,l,r=h,q=h;null==b&&(b=!1);null==c&&(c=!1);g(g(e=g(f=r=this.blocks["$[]"](0))?a.const_get_relative(p,"Block")["$==="](r):f)?g(f=r.$context()["$=="]("paragraph")?
b["$!"]():r.$context()["$=="]("paragraph"))?f:g(m=g(k=g(l=c)?l:b["$!"]())?r.$context()["$=="]("literal"):k)?r["$option?"]("listparagraph"):m:e)&&(q=this.$blocks().$shift(),g(this.text["$nil_or_empty?"]())||q.$lines().$unshift(this.text),this.text=q.$source());return h},B.$$arity=-1);return(a.defn(b,"$to_s",C=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(g(a=this.blocks)?a:[]).$size()+
"}>"},C.$$arity=0),h)&&"to_s"})(f[0],a.const_get_relative(f,"AbstractBlock"),f)}(b[0],b)};Opal.modules["asciidoctor/parser"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===
typeof b?a<b:a["$<"](b)}var g=[],c=a.nil,n=a.module,f=a.klass,e=a.send,d=a.truthy,u=a.hash2,t=a.hash,k=a.gvars,v=a.range;a.add_stubs("$new $lambda $start_with? $match? $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_doctitle? $attributes $key? $finalize_header $nil_or_empty? $title= $- $sourcemap $cursor $parse_section_title $id= $attribute_locked? $set_attr $delete $source_location= $header $[]= $id $parse_style_attribute $parse_header_metadata $== $doctype $parse_manpage_header $=~ $sub_attributes $downcase $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $join $read_lines_until $match $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $sectname $+ $to_i $> $line_info $include? $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $=== $extensions $block_macros? $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $lstrip $keys $chr $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $update $process_method $replace $peek_line $path $lineno $next_list_item $callout_ids $callouts $items $next_list $next_item_list $each $catalog_inline_biblio_anchor $instance_variable_get $marker $find $next_description_list $underline_style_section_titles $is_section_title? $generate_id $title $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $chop $rekey $index $slice $strip $< $next_table $concat $register $tr $basename $sub_specialchars $assign_caption $ord $caption $caption= $title? $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $gsub $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $casecmp $sectname= $special= $numbered= $special $numbered $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $abs $line_length $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $rstrip $each_with_index $map $compact $Array $squeeze $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $set_attribute $save_to $delete_attribute $resolve_ordered_list_marker $roman_numeral_to_int $parse_colspecs $create_columns $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_past_delimiter $buffer $buffer= $skip_past_escaped_delimiter $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $has_header_option= $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin".split(" "));
return function(g,B){var D=[n(g,"Asciidoctor")].concat(B);(function(g,$super,n){function x(){}g=x=f(g,$super,"Parser",x);var C=[g].concat(n),R,B,D,P,Z,V,K,G,T,ba,pa,L,aa,U,Q,da,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da,Ha,Ia,z,va,ca,O,xa;a.const_set(C[0],"BlockMatchData",a.const_get_relative(C,"Struct").$new("context","masq","tip","terminator"));a.const_set(C[0],"TabRx",/\t/);a.const_set(C[0],"TabIndentRx",/^\t+/);a.const_set(C[0],"StartOfBlockProc",e(g,"lambda",[],(R=function(b){var e=
R.$$s||this,f,g;null==b&&(b=c);return d(f=d(g=b["$start_with?"]("["))?a.const_get_relative(C,"BlockAttributeLineRx")["$match?"](b):g)?f:e["$is_delimited_block?"](b)},R.$$s=g,R.$$arity=1,R)));a.const_set(C[0],"StartOfListProc",e(g,"lambda",[],(B=function(b){null==b&&(b=c);return a.const_get_relative(C,"AnyListRx")["$match?"](b)},B.$$s=g,B.$$arity=1,B)));a.const_set(C[0],"StartOfBlockOrListProc",e(g,"lambda",[],(D=function(b){var e=D.$$s||this,f,g,h;null==b&&(b=c);return d(f=d(g=e["$is_delimited_block?"](b))?
g:d(h=b["$start_with?"]("["))?a.const_get_relative(C,"BlockAttributeLineRx")["$match?"](b):h)?f:a.const_get_relative(C,"AnyListRx")["$match?"](b)},D.$$s=g,D.$$arity=1,D)));a.const_set(C[0],"NoOp",c);a.const_set(C[0],"TableCellHorzAlignments",u(["<",">","^"],{"<":"left",">":"right","^":"center"}));a.const_set(C[0],"TableCellVertAlignments",u(["<",">","^"],{"<":"top",">":"bottom","^":"middle"}));a.const_set(C[0],"TableCellStyles",u("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",
h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.defn(g,"$initialize",P=function(){return this.$raise("Au contraire, mon frere. No parser instances will be running around.")},P.$$arity=0);a.defs(g,"$parse",Z=function(b,e,f){var g,h=g=c;null==f&&(f=u([],{}));g=this.$parse_document_header(b,e);if(!d(f["$[]"]("header_only")))for(;d(b["$has_more_lines?"]());)if(f=this.$next_section(b,e,g),g=a.to_ary(f),h=null==g[0]?c:g[0],g=null==g[1]?c:g[1],f,d(h))e["$<<"](h);return e},Z.$$arity=-3);a.defs(g,"$parse_document_header",
V=function(f,g){var h,k,l=c,p=c,z=c,q=c,r=k=c,n=c,u=p=r=c;k=k=c;l=this.$parse_block_metadata_lines(f,g);if(d(d(h=p=this["$is_next_line_doctitle?"](f,l,g.$attributes()["$[]"]("leveloffset")))?l["$key?"]("title"):h))return g.$finalize_header(l,!1);z=c;d((q=g.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())||(k=[z=q],e(g,"title=",a.to_a(k)),k[b(k.length,1)]);r=c;d(p)&&(d(g.$sourcemap())&&(n=f.$cursor()),k=this.$parse_section_title(f,g),h=a.to_ary(k),g["$id="](null==h[0]?c:h[0]),r=null==h[2]?c:
h[2],p=null==h[4]?c:h[4],k,d(z)||(k=[z=r],e(g,"title=",a.to_a(k)),k[b(k.length,1)]),d(d(h=p)?h:g["$attribute_locked?"]("compat-mode"))||g.$set_attr("compat-mode"),d(u=l.$delete("separator"))&&!d(g["$attribute_locked?"]("title-separator"))&&g.$set_attr("title-separator",u),d(n)&&(k=[n],e(g.$header(),"source_location=",a.to_a(k)),k[b(k.length,1)]),k=["doctitle",r],e(g.$attributes(),"[]=",a.to_a(k)),k[b(k.length,1)],d(g.$id())?(l.$delete(1),l.$delete("id")):(d(k=l.$delete(1))&&(k=t(1,k),this.$parse_style_attribute(k,
f),d(k["$key?"]("id"))&&(k=["id",k["$[]"]("id")],e(l,"[]=",a.to_a(k)),k[b(k.length,1)])),k=[l.$delete("id")],e(g,"id=",a.to_a(k)),k[b(k.length,1)]),this.$parse_header_metadata(f,g));d(d(h=(q=g.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())?h:q["$=="](r))||(k=[z=q],e(g,"title=",a.to_a(k)),k[b(k.length,1)]);d(z)&&(k=["doctitle",z],e(g.$attributes(),"[]=",a.to_a(k)),k[b(k.length,1)]);g.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(f,g);return g.$finalize_header(l)},V.$$arity=2);a.defs(g,
"$parse_manpage_header",K=function(f,g){var h,l=c,p=l=l=c;d(a.const_get_relative(C,"ManpageTitleVolnumRx")["$=~"](g.$attributes()["$[]"]("doctitle")))?(l=["mantitle",g.$sub_attributes(((h=k["~"])===c?c:h["$[]"](1)).$downcase())],e(g.$attributes(),"[]=",a.to_a(l)),l[b(l.length,1)],l=["manvolnum",(h=k["~"])===c?c:h["$[]"](2)]):(this.$warn("asciidoctor: ERROR: "+f.$prev_line_info()+": malformed manpage title"),l=["mantitle",g.$attributes()["$[]"]("doctitle")],e(g.$attributes(),"[]=",a.to_a(l)),l[b(l.length,
1)],l=["manvolnum","1"]);e(g.$attributes(),"[]=",a.to_a(l));l[b(l.length,1)];f.$skip_blank_lines();return d(this["$is_next_line_section?"](f,u([],{})))?(l=this.$initialize_section(f,g,u([],{})),l.$level()["$=="](1)?(l=f.$read_lines_until(u(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" "),d(p=a.const_get_relative(C,"ManpageNamePurposeRx").$match(l))?(l=["manname",g.$sub_attributes(p["$[]"](1))],e(g.$attributes(),"[]=",a.to_a(l)),l[b(l.length,1)],l=["manpurpose",p["$[]"](2)],e(g.$attributes(),
"[]=",a.to_a(l)),l[b(l.length,1)],g.$backend()["$=="]("manpage")?(l=["docname",g.$attributes()["$[]"]("manname")],e(g.$attributes(),"[]=",a.to_a(l)),l[b(l.length,1)],l=["outfilesuffix","."+g.$attributes()["$[]"]("manvolnum")],e(g.$attributes(),"[]=",a.to_a(l)),l[b(l.length,1)]):c):this.$warn("asciidoctor: ERROR: "+f.$prev_line_info()+": malformed name section body")):this.$warn("asciidoctor: ERROR: "+f.$prev_line_info()+": name section title must be at level 1")):this.$warn("asciidoctor: ERROR: "+
f.$prev_line_info()+": name section expected")},K.$$arity=2);a.defs(g,"$next_section",G=function(f,g,k){var z,q,r,n=c,t=c,x=c,w=c,v=c,G=c,A=c,H=c,R=c,T=c,O=R=c,B=O=A=O=c,t=c;null==k&&(k=u([],{}));n=t=x=!1;d(d(z=(q=g.$context()["$=="]("document"))?g.$blocks()["$empty?"]():g.$context()["$=="]("document"))?d(q=d(r=w=g["$has_header?"]())?r:k.$delete("invalid-header"))?q:this["$is_next_line_section?"](f,k)["$!"]():z)?(v=(G=g).$doctype(),d(d(z=w)?z:(q=v["$=="]("book"))?k["$[]"](1)["$!="]("abstract"):v["$=="]("book"))&&
(n=t=a.const_get_relative(C,"Block").$new(g,"preamble",u(["content_model"],{content_model:"compound"})),d((z=v["$=="]("book"))?g["$attr?"]("preface-title"):v["$=="]("book"))&&(A=[g.$attr("preface-title")],e(n,"title=",a.to_a(A)),A[b(A.length,1)]),g["$<<"](n)),H=g,R=0,T=d(g.$attributes()["$key?"]("fragment"))?c:v["$=="]("book")?[0,1]:[1]):(v=(G=g.$document()).$doctype(),H=this.$initialize_section(f,g,k),k=d(R=k["$[]"]("title"))?u(["title"],{title:R}):u([],{}),x=H.$sectname()["$=="]("part"),T=[h(R=
H.$level(),1)]);for(f.$skip_blank_lines();d(f["$has_more_lines?"]());){this.$parse_block_metadata_lines(f,G,k);if(d(O=this["$is_next_line_section?"](f,k)))if(d(G["$attr?"]("leveloffset"))&&(O=h(O,G.$attr("leveloffset").$to_i())),d(d(q=p(O,R))?q:O["$=="](0)?H.$context()["$=="]("document"):O["$=="](0)))d(O["$=="](0)?v["$!="]("book"):O["$=="](0))?this.$warn("asciidoctor: ERROR: "+f.$line_info()+": only book doctypes can contain level 0 sections"):d(d(q=T)?T["$include?"](O)["$!"]():q)&&this.$warn("asciidoctor: WARNING: "+
f.$line_info()+": section title out of sequence: expected "+(d(p(T.$size(),1))?"levels":"level")+" "+l(T," or ")+", got level "+O),r=this.$next_section(f,H,k),q=a.to_ary(r),O=null==q[0]?c:q[0],k=null==q[1]?c:q[1],r,H["$<<"](O);else{d((q=O["$=="](0))?v["$!="]("book"):O["$=="](0))&&this.$warn("asciidoctor: ERROR: "+f.$line_info()+": only book doctypes can contain level 0 sections");break}else A=f.$line_info(),d(O=this.$next_block(f,d(q=t)?q:H,k,u(["parse_metadata"],{parse_metadata:!1})))&&(d(x)&&(d(H["$blocks?"]()["$!"]())?
d(O.$style()["$!="]("partintro"))&&(O.$context()["$=="]("paragraph")?(A=["open"],e(O,"context=",a.to_a(A)),A[b(A.length,1)],A=["partintro"],e(O,"style=",a.to_a(A)),A[b(A.length,1)]):(t=a.const_get_relative(C,"Block").$new(H,"open",u(["content_model"],{content_model:"compound"})),A=["partintro"],e(t,"style=",a.to_a(A)),A[b(A.length,1)],A=[t],e(O,"parent=",a.to_a(A)),A[b(A.length,1)],H["$<<"](t))):H.$blocks().$size()["$=="](1)&&(B=H.$blocks()["$[]"](0),d(d(q=t["$!"]())?B.$content_model()["$=="]("compound"):
q)?this.$warn("asciidoctor: ERROR: "+A+": illegal block content outside of partintro block"):d(B.$content_model()["$!="]("compound"))&&(t=a.const_get_relative(C,"Block").$new(H,"open",u(["content_model"],{content_model:"compound"})),A=["partintro"],e(t,"style=",a.to_a(A)),A[b(A.length,1)],H.$blocks().$shift(),B.$style()["$=="]("partintro")&&(A=["paragraph"],e(B,"context=",a.to_a(A)),A[b(A.length,1)],A=[c],e(B,"style=",a.to_a(A)),A[b(A.length,1)]),A=[t],e(B,"parent=",a.to_a(A)),A[b(A.length,1)],t["$<<"](B),
A=[t],e(O,"parent=",a.to_a(A)),A[b(A.length,1)],H["$<<"](t)))),(d(q=t)?q:H)["$<<"](O),k=u([],{}));f.$skip_blank_lines()}if(d(x))d(d(z=H["$blocks?"]())?H.$blocks()["$[]"](-1).$context()["$=="]("section"):z)||this.$warn("asciidoctor: ERROR: "+f.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(d(n))if(d(n["$blocks?"]())){if(d(d(z=d(q=a.const_get_relative(C,"Compliance").$unwrap_standalone_preamble())?G.$blocks().$size()["$=="](1):q)?v["$!="]("book"):
z))for(G.$blocks().$shift();d(t=n.$blocks().$shift());)A=[G],e(t,"parent=",a.to_a(A)),A[b(A.length,1)],G["$<<"](t)}else G.$blocks().$shift();return[d(H["$!="](g))?H:c,k.$dup()]},G.$$arity=-3);a.defs(g,"$next_block",T=function(f,g,k,z){var r,n,t,x,F,A,G,H,R,O,T,B=c,V=c,D=c,K=c,E=c,va=c,ba=c,ka=c,ha=c,Z=c,P=c,L=c,ca=c,Y=c,X=c,aa=c,U=c,N=c,J=c,pa=ca=c,xa=c,na=N=c,Q=c,la=N=N=ca=c,ua=c,ja=N=ca=E=E=c,Fa=c,da=E=E=ja=N=E=ca=c,ma=N=ca=ca=c,ia=X=Y=c,Da=c,sa=L=Y=c,Ca=B=B=B=c;null==k&&(k=u([],{}));null==z&&(z=
u([],{}));B=f.$skip_blank_lines();if(!d(f["$has_more_lines?"]()))return c;d(d(r=V=z["$[]"]("text"))?p(B,0):r)&&(z.$delete("text"),V=!1);D=z.$fetch("parse_metadata",!0);r=[g.$document(),c,a.const_get_relative(C,"ListItem")["$==="](g)];K=r[0];E=r[1];va=r[2];r;r=[K.$sourcemap(),c];ba=r[0];ka=r[1];r;d(ha=K.$extensions())?(r=[ha["$blocks?"](),ha["$block_macros?"]()],Z=r[0],P=r[1],r):Z=P=!1;for(;d(d(n=E["$!"]())?f["$has_more_lines?"]():n);)if(d(d(n=D)?this.$parse_block_metadata_line(f,K,k,z):n))f.$advance();
else{d(ba)&&(ka=f.$cursor());L=f.$read_line();ca=Y=X=aa=c;U=d(k["$[]"](1))?this.$parse_style_attribute(k,f):c;d(N=this["$is_delimited_block?"](L,!0))&&(ca=!0,Y=X=N.$context(),aa=N.$terminator(),d(U["$!"]())?U=(J=["style",Y.$to_s()],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]):d(U["$!="](Y.$to_s()))&&(d(N.$masq()["$include?"](U))?Y=U.$to_sym():d(d(n=N.$masq()["$include?"]("admonition"))?a.const_get_relative(C,"ADMONITION_STYLES")["$include?"](U):n)?Y="admonition":d(d(n=Z)?ha["$registered_for_block?"](U,
Y):n)?Y=U.$to_sym():(this.$warn("asciidoctor: WARNING: "+f.$prev_line_info()+": invalid style for "+Y+" block: "+U),U=Y.$to_s())));if(!d(ca))for(;d(!0);){if(d(d(t=d(x=U)?a.const_get_relative(C,"Compliance").$strict_verbatim_paragraphs():x)?a.const_get_relative(C,"VERBATIM_STYLES")["$include?"](U):t)){Y=U.$to_sym();f.$unshift_line(L);break}if(d(V))ca=L["$start_with?"](" ",a.const_get_relative(C,"TAB"));else if(pa=a.const_get_relative(C,"Compliance").$markdown_syntax(),d(L["$start_with?"](" "))){if(t=
[!0," "],ca=t[0],xa=t[1],t,d(d(t=d(x=pa)?e(L.$lstrip(),"start_with?",a.to_a(a.const_get_relative(C,"MARKDOWN_THEMATIC_BREAK_CHARS").$keys())):x)?a.const_get_relative(C,"MarkdownThematicBreakRx")["$match?"](L):t)){E=a.const_get_relative(C,"Block").$new(g,"thematic_break",u(["content_model"],{content_model:"empty"}));break}}else if(d(L["$start_with?"](a.const_get_relative(C,"TAB"))))t=[!0,a.const_get_relative(C,"TAB")],ca=t[0],xa=t[1],t;else if(t=[!1,L.$chr()],ca=t[0],xa=t[1],t,N=d(pa)?a.const_get_relative(C,
"HYBRID_LAYOUT_BREAK_CHARS"):a.const_get_relative(C,"LAYOUT_BREAK_CHARS"),d(d(t=N["$key?"](xa))?d(pa)?a.const_get_relative(C,"HybridLayoutBreakRx")["$match?"](L):(x=L["$=="](l(xa,na=L.$length())))?p(na,2):L["$=="](l(xa,na=L.$length())):t)){E=a.const_get_relative(C,"Block").$new(g,N["$[]"](xa),u(["content_model"],{content_model:"empty"}));break}else if(d(d(t=L["$end_with?"]("]"))?L["$include?"]("::"):t))if(d(d(t=d(x=xa["$=="]("i"))?x:L["$start_with?"]("video:","audio:"))?Q=a.const_get_relative(C,"MediaBlockMacroRx").$match(L):
t)){ca=Q["$[]"](1).$to_sym();E=a.const_get_relative(C,"Block").$new(g,ca,u(["content_model"],{content_model:"empty"}));N=ca;N="video"["$==="](N)?["poster","width","height"]:"audio"["$==="](N)?[]:["alt","width","height"];E.$parse_attributes(Q["$[]"](3),N,u(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:k}));d(k["$key?"]("style"))&&(d(d(t=U)?ca["$=="]("image"):t)&&(d(t=k["$[]"]("alt"))?t:(J=["alt",U],e(k,"[]=",a.to_a(J)),J[b(J.length,1)])),k.$delete("style"));d((la=Q["$[]"](2))["$include?"]("{"))&&
(la=E.$sub_attributes(la,u(["attribute_missing"],{attribute_missing:"drop-line"})));if(d(la["$empty?"]())){if(K.$attributes().$fetch("attribute-missing",a.const_get_relative(C,"Compliance").$attribute_missing())["$=="]("skip"))return a.const_get_relative(C,"Block").$new(g,"paragraph",u(["content_model","source"],{content_model:"simple",source:[L]}));k.$clear();return c}J=["target",la];e(k,"[]=",a.to_a(J));J[b(J.length,1)];break}else if(d(d(t=(x=xa["$=="]("t"))?L["$start_with?"]("toc:"):xa["$=="]("t"))?
Q=a.const_get_relative(C,"TocBlockMacroRx").$match(L):t)){E=a.const_get_relative(C,"Block").$new(g,"toc",u(["content_model"],{content_model:"empty"}));E.$parse_attributes(Q["$[]"](1),[],u(["sub_result","into"],{sub_result:!1,into:k}));break}else if(d(d(t=d(x=P)?Q=a.const_get_relative(C,"GenericBlockMacroRx").$match(L):x)?ua=ha["$registered_for_block_macro?"](Q["$[]"](1)):t)){la=Q["$[]"](2);E=Q["$[]"](3);ua.$config()["$[]"]("content_model")["$=="]("attributes")?d(E["$empty?"]())||K.$parse_attributes(E,
d(t=ua.$config()["$[]"]("pos_attrs"))?t:[],u(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:k})):(J=["text",E],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]);d(E=ua.$config()["$[]"]("default_attrs"))&&e(k,"update",[E],(F=function(a,b){null==b&&(b=c);return b},F.$$s=this,F.$$arity=2,F));if(d(E=ua.$process_method()["$[]"](g,la,k)))k.$replace(E.$attributes());else return k.$clear(),c;break}if(d(d(t=d(x=d(A=ca["$!"]())?a.const_get_relative(C,"CALLOUT_LIST_LEADERS")["$include?"](xa=d(G=xa)?
G:L.$chr()):A)?a.const_get_relative(C,"CalloutListSniffRx")["$match?"](L):x)?Q=a.const_get_relative(C,"CalloutListRx").$match(L):t)){E=a.const_get_relative(C,"List").$new(g,"colist");J=["style","arabic"];e(k,"[]=",a.to_a(J));J[b(J.length,1)];f.$unshift_line(L);for(ca=1;d(d(x=Q)?x:d(A=f["$has_more_lines?"]())?Q=a.const_get_relative(C,"CalloutListRx").$match(f.$peek_line()):A);)d(Q["$[]"](1).$to_i()["$!="](ca))&&this.$warn("asciidoctor: WARNING: "+f.$path()+": line "+b(f.$lineno(),2)+": callout list item index: expected "+
ca+" got "+Q["$[]"](1)),N=this.$next_list_item(f,E,Q),ca=h(ca,1),d(N)&&(E["$<<"](N),ja=K.$callouts().$callout_ids(E.$items().$size()),d(ja["$empty?"]()["$!"]())?(J=["coids",ja],e(N.$attributes(),"[]=",a.to_a(J)),J[b(J.length,1)]):this.$warn("asciidoctor: WARNING: "+f.$path()+": line "+b(f.$lineno(),2)+": no callouts refer to list item "+E.$items().$size())),Q=c;K.$callouts().$next_list();break}else if(d(a.const_get_relative(C,"UnorderedListRx")["$match?"](L))){f.$unshift_line(L);E=this.$next_item_list(f,
"ulist",g);(d(t=U)?t:d(x=a.const_get_relative(C,"Section")["$==="](g))?g.$sectname():x)["$=="]("bibliography")&&(d(U)||(J=["style","bibliography"],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),e(E.$items(),"each",[],(H=function(a){var b=H.$$s||this;null==a&&(a=c);return b.$catalog_inline_biblio_anchor(a.$instance_variable_get("@text"),K)},H.$$s=this,H.$$arity=1,H)));break}else if(d(Q=a.const_get_relative(C,"OrderedListRx").$match(L))){f.$unshift_line(L);E=this.$next_item_list(f,"olist",g);d(U)||(Fa=E.$items()["$[]"](0).$marker(),
J=d(Fa["$start_with?"]("."))?["style",(d(t=a.const_get_relative(C,"ORDERED_LIST_STYLES")["$[]"](b(Fa.$length(),1)))?t:"arabic").$to_s()]:["style",(d(t=e(a.const_get_relative(C,"ORDERED_LIST_STYLES"),"find",[],(R=function(b){null==b&&(b=c);return a.const_get_relative(C,"OrderedListMarkerRxMap")["$[]"](b)["$match?"](Fa)},R.$$s=this,R.$$arity=1,R)))?t:"arabic").$to_s()],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]);break}else if(d(Q=a.const_get_relative(C,"DescriptionListRx").$match(L))){f.$unshift_line(L);
E=this.$next_description_list(f,Q,g);break}else if(d(d(t=d(x=U["$=="]("float"))?x:U["$=="]("discrete"))?d(a.const_get_relative(C,"Compliance").$underline_style_section_titles())?this["$is_section_title?"](L,f.$peek_line(!0)):d(x=ca["$!"]())?this["$is_section_title?"](L):x:t)){f.$unshift_line(L);x=this.$parse_section_title(f,K);t=a.to_ary(x);ca=null==t[0]?c:t[0];E=null==t[1]?c:t[1];N=null==t[2]?c:t[2];ja=null==t[3]?c:t[3];x;d(E)&&(J=["reftext",E],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]);E=a.const_get_relative(C,
"Block").$new(g,"floating_title",u(["content_model"],{content_model:"empty"}));J=[N];e(E,"title=",a.to_a(J));J[b(J.length,1)];k.$delete("title");J=[d(t=d(x=ca)?x:k["$[]"]("id"))?t:d(K.$attributes()["$key?"]("sectids"))?a.const_get_relative(C,"Section").$generate_id(E.$title(),K):c];e(E,"id=",a.to_a(J));J[b(J.length,1)];J=[ja];e(E,"level=",a.to_a(J));J[b(J.length,1)];break}else if(d(d(t=U)?U["$!="]("normal"):t))if(d(a.const_get_relative(C,"PARAGRAPH_STYLES")["$include?"](U))){Y=U.$to_sym();X="paragraph";
f.$unshift_line(L);break}else if(d(a.const_get_relative(C,"ADMONITION_STYLES")["$include?"](U))){Y="admonition";X="paragraph";f.$unshift_line(L);break}else if(d(d(t=Z)?ha["$registered_for_block?"](U,"paragraph"):t)){Y=U.$to_sym();X="paragraph";f.$unshift_line(L);break}else this.$warn("asciidoctor: WARNING: "+f.$prev_line_info()+": invalid style for paragraph: "+U),U=c;E=(t=B["$=="](0))?va:B["$=="](0);f.$unshift_line(L);if(d(d(t=ca)?U["$!"]():t))E=this.$read_paragraph_lines(f,E,u(["skip_line_comments"],
{skip_line_comments:V})),this["$adjust_indentation!"](E),E=a.const_get_relative(C,"Block").$new(g,"literal",u(["content_model","source","attributes"],{content_model:"verbatim",source:E,attributes:k})),d(va)&&E.$set_option("listparagraph");else{E=this.$read_paragraph_lines(f,E,u(["skip_line_comments"],{skip_line_comments:!0}));if(d(d(t=va)?E["$empty?"]():t))return f.$advance(),c;this.$catalog_inline_anchors(E.$join(a.const_get_relative(C,"EOL")),K);if(d(V)){if(d(d(t=ca)?U["$=="]("normal"):t))this["$adjust_indentation!"](E);
E=a.const_get_relative(C,"Block").$new(g,"paragraph",u(["content_model","source","attributes"],{content_model:"simple",source:E,attributes:k}))}else if(d(d(t=d(x=a.const_get_relative(C,"ADMONITION_STYLE_LEADERS")["$include?"](xa))?L["$include?"](":"):x)?da=a.const_get_relative(C,"AdmonitionParagraphRx").$match(L):t))J=[0,da.$post_match()],e(E,"[]=",a.to_a(J)),J[b(J.length,1)],J=["name",ca=(J=["style",da["$[]"](1)],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]).$downcase()],e(k,"[]=",a.to_a(J)),J[b(J.length,
1)],d(t=k["$[]"]("caption"))?t:(J=["caption",K.$attributes()["$[]"](""+ca+"-caption")],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),E=a.const_get_relative(C,"Block").$new(g,"admonition",u(["content_model","source","attributes"],{content_model:"simple",source:E,attributes:k}));else if(d(d(t=d(x=pa)?xa["$=="](">"):x)?L["$start_with?"]("> "):t)){e(E,"map!",[],(O=function(a){null==a&&(a=c);return a["$=="](">")?a["$[]"](v(1,-1,!1)):d(a["$start_with?"]("> "))?a["$[]"](v(2,-1,!1)):a},O.$$s=this,O.$$arity=1,O));
if(d(E["$[]"](-1)["$start_with?"]("-- ")))for(x=E.$pop()["$[]"](v(3,-1,!1)).$split(", ",2),t=a.to_ary(x),ca=null==t[0]?c:t[0],N=null==t[1]?c:t[1],x,d(ca)&&(J=["attribution",ca],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),d(N)&&(J=["citetitle",N],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]);d(E["$[]"](-1)["$empty?"]());)E.$pop();J=["style","quote"];e(k,"[]=",a.to_a(J));J[b(J.length,1)];E=this.$build_block("quote","compound",!1,g,a.const_get_relative(C,"Reader").$new(E),k)}else if(d(d(t=d(x=(A=xa["$=="]('"'))?
p(E.$size(),1):xa["$=="]('"'))?E["$[]"](-1)["$start_with?"]("-- "):x)?E["$[]"](-2)["$end_with?"]('"'):t)){J=[0,L["$[]"](v(1,-1,!1))];e(E,"[]=",a.to_a(J));J[b(J.length,1)];x=E.$pop()["$[]"](v(3,-1,!1)).$split(", ",2);t=a.to_ary(x);ca=null==t[0]?c:t[0];N=null==t[1]?c:t[1];x;d(ca)&&(J=["attribution",ca],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]);d(N)&&(J=["citetitle",N],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]);for(;d(E["$[]"](-1)["$empty?"]());)E.$pop();J=[-1,E["$[]"](-1).$chop()];e(E,"[]=",a.to_a(J));J[b(J.length,
1)];J=["style","quote"];e(k,"[]=",a.to_a(J));J[b(J.length,1)];E=a.const_get_relative(C,"Block").$new(g,"quote",u(["content_model","source","attributes"],{content_model:"simple",source:E,attributes:k}))}else{if(d(d(t=ca)?U["$=="]("normal"):t))this["$adjust_indentation!"](E);E=a.const_get_relative(C,"Block").$new(g,"paragraph",u(["content_model","source","attributes"],{content_model:"simple",source:E,attributes:k}))}}break}if(d(d(n=E["$!"]())?Y:n))if(d(d(n=Y["$=="]("abstract"))?n:Y["$=="]("partintro"))&&
(Y="open"),N=Y,"admonition"["$==="](N))J=["name",ca=U.$downcase()],e(k,"[]=",a.to_a(J)),J[b(J.length,1)],d(n=k["$[]"]("caption"))?n:(J=["caption",K.$attributes()["$[]"](""+ca+"-caption")],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),E=this.$build_block(Y,"compound",aa,g,f,k);else{if("comment"["$==="](N))return this.$build_block(Y,"skip",aa,g,f,k),c;if("example"["$==="](N))E=this.$build_block(Y,"compound",aa,g,f,k);else if("listing"["$==="](N)||"literal"["$==="](N))E=this.$build_block(Y,"verbatim",aa,g,
f,k);else if("source"["$==="](N))a.const_get_relative(C,"AttributeList").$rekey(k,[c,"language","linenums"]),!d(k["$key?"]("language"))&&d(ma=K.$attributes()["$[]"]("source-language"))&&(J=["language",ma],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),d(d(n=k["$key?"]("indent")["$!"]())?K.$attributes()["$key?"]("source-indent"):n)&&(J=["indent",K.$attributes()["$[]"]("source-indent")],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),E=this.$build_block("listing","verbatim",aa,g,f,k);else if("fenced_code"["$==="](N))J=
["style","source"],e(k,"[]=",a.to_a(J)),J[b(J.length,1)],(na=L.$length())["$=="](3)?Y=c:d(X=(Y=L.$slice(3,na)).$index(","))?d(p(X,0))?(Y=Y.$slice(0,X).$strip(),d(q(X,b(na,4)))&&(J=["linenums",""],e(k,"[]=",a.to_a(J)),J[b(J.length,1)])):(Y=c,d(p(na,4))&&(J=["linenums",""],e(k,"[]=",a.to_a(J)),J[b(J.length,1)])):Y=Y.$lstrip(),d(Y["$nil_or_empty?"]())?d(ma=K.$attributes()["$[]"]("source-language"))&&(J=["language",ma],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]):(J=["language",Y],e(k,"[]=",a.to_a(J)),J[b(J.length,
1)]),d(d(n=k["$key?"]("indent")["$!"]())?K.$attributes()["$key?"]("source-indent"):n)&&(J=["indent",K.$attributes()["$[]"]("source-indent")],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),aa=aa.$slice(0,3),E=this.$build_block("listing","verbatim",aa,g,f,k);else if("pass"["$==="](N))E=this.$build_block(Y,"raw",aa,g,f,k);else if("stem"["$==="](N)||"latexmath"["$==="](N)||"asciimath"["$==="](N))Y["$=="]("stem")&&(J=["style",d(ia=k["$[]"](2))?d(ia["$include?"]("tex"))?"latexmath":"asciimath":d((Da=K.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())?
"asciimath":Da],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),E=this.$build_block("stem","raw",aa,g,f,k);else if("open"["$==="](N)||"sidebar"["$==="](N))E=this.$build_block(Y,"compound",aa,g,f,k);else if("table"["$==="](N))Y=a.const_get_relative(C,"Reader").$new(f.$read_lines_until(u(["terminator","skip_line_comments"],{terminator:aa,skip_line_comments:!0})),f.$cursor()),d(aa["$start_with?"]("|","!"))||(d(n=k["$[]"]("format"))?n:(J=["format",d(aa["$start_with?"](","))?"csv":"dsv"],e(k,"[]=",a.to_a(J)),J[b(J.length,
1)])),E=this.$next_table(Y,g,k);else if("quote"["$==="](N)||"verse"["$==="](N))a.const_get_relative(C,"AttributeList").$rekey(k,[c,"attribution","citetitle"]),E=this.$build_block(Y,Y["$=="]("verse")?"verbatim":"compound",aa,g,f,k);else if(d(d(n=Z)?ua=ha["$registered_for_block?"](Y,X):n)){if(d((L=ua.$config()["$[]"]("content_model"))["$!="]("skip"))&&(d((sa=d(n=ua.$config()["$[]"]("pos_attrs"))?n:[])["$empty?"]()["$!"]())&&a.const_get_relative(C,"AttributeList").$rekey(k,[c].$concat(sa)),d(E=ua.$config()["$[]"]("default_attrs"))&&
e(E,"each",[],(T=function(f,g){var h;null==f&&(f=c);null==g&&(g=c);return d(h=k["$[]"](f))?h:(J=[f,g],e(k,"[]=",a.to_a(J)),J[b(J.length,1)])},T.$$s=this,T.$$arity=2,T)),J=["cloaked-context",X],e(k,"[]=",a.to_a(J)),J[b(J.length,1)]),E=this.$build_block(Y,L,aa,g,f,k,u(["extension"],{extension:ua})),!d(d(n=E)?L["$!="]("skip"):n))return k.$clear(),c}else this.$raise("Unsupported block type "+Y+" at "+f.$line_info())}}d(E)&&(d(ka)&&(J=[ka],e(E,"source_location=",a.to_a(J)),J[b(J.length,1)]),d(k["$key?"]("title"))&&
(J=[k.$delete("title")],e(E,"title=",a.to_a(J)),J[b(J.length,1)]),E.$context()["$=="]("image")?(B=k["$[]"]("target"),E.$document().$register("images",B),B=d(r=k["$[]"]("alt"))?r:a.const_get_relative(C,"Helpers").$basename(B,!0).$tr("_-"," "),d(d(r=d(n=B["$include?"]("<"))?n:B["$include?"]("&"))?r:B["$include?"](">"))&&(B=E.$sub_specialchars(B)),J=["alt",B],e(k,"[]=",a.to_a(J)),J[b(J.length,1)],E.$assign_caption(k.$delete("caption"),"figure"),d((B=k.$delete("scaledwidth"))["$nil_or_empty?"]())||(J=
["scaledwidth",d(v(48,57,!1)["$include?"](B["$[]"](-1).$ord()))?""+B+"%":B],e(k,"[]=",a.to_a(J)),J[b(J.length,1)])):d(r=E.$caption())?r:(J=[k.$delete("caption")],e(E,"caption=",a.to_a(J)),J[b(J.length,1)]),J=[k["$[]"]("style")],e(E,"style=",a.to_a(J)),J[b(J.length,1)],d(Ca=d(r=E.$id())?r:(J=[k["$[]"]("id")],e(E,"id=",a.to_a(J)),J[b(J.length,1)]))&&K.$register("ids",[Ca,d(r=k["$[]"]("reftext"))?r:d(E["$title?"]())?E.$title():c]),d(k["$empty?"]())||E.$attributes().$update(k),E.$lock_in_subs(),d(E["$sub?"]("callouts"))&&
!d(this.$catalog_callouts(E.$source(),K))&&E.$remove_sub("callouts"));return E},T.$$arity=-3);a.defs(g,"$read_paragraph_lines",ba=function(f,g,h){var k=c,k=c;null==h&&(h=u([],{}));k=["break_on_blank_lines",!0];e(h,"[]=",a.to_a(k));k[b(k.length,1)];k=["break_on_list_continuation",!0];e(h,"[]=",a.to_a(k));k[b(k.length,1)];k=["preserve_last_line",!0];e(h,"[]=",a.to_a(k));k[b(k.length,1)];k=d(g)?d(a.const_get_relative(C,"Compliance").$block_terminates_paragraph())?a.const_get_relative(C,"StartOfBlockOrListProc"):
a.const_get_relative(C,"StartOfListProc"):d(a.const_get_relative(C,"Compliance").$block_terminates_paragraph())?a.const_get_relative(C,"StartOfBlockProc"):a.const_get_relative(C,"NoOp");return e(f,"read_lines_until",[h],k.$to_proc())},ba.$$arity=-3);a.defs(g,"$is_delimited_block?",pa=function(e,f){var g,h,k=h=c,z=c,r=c,n=c,r=z=c;null==f&&(f=!1);if(!d(d(g=p(h=e.$length(),1))?a.const_get_relative(C,"DELIMITED_BLOCK_LEADERS")["$include?"](e.$slice(0,2)):g))return c;if(h["$=="](2))k=e,z=2;else{d("number"===
typeof h?4>=h:h["$<="](4))?(k=e,z=h):(k=e.$slice(0,4),z=4);r=!1;if(d(a.const_get_relative(C,"Compliance").$markdown_syntax())&&(n=z["$=="](4)?k.$chop():k,n["$=="]("```"))){if(d(z["$=="](4)?k["$end_with?"]("`"):z["$=="](4)))return c;k=n;z=3;r=!0}if(d((g=z["$=="](3))?r["$!"]():z["$=="](3)))return c}if(d(a.const_get_relative(C,"DELIMITED_BLOCKS")["$key?"](k))){if(d(d(g=q(z,4))?g:z["$=="](h)))return d(f)?(h=a.const_get_relative(C,"DELIMITED_BLOCKS")["$[]"](k),g=a.to_ary(h),z=null==g[0]?c:g[0],r=null==
g[1]?c:g[1],h,a.const_get_relative(C,"BlockMatchData").$new(z,r,k,k)):!0;if((""+k+l(k["$[]"](v(-1,-1,!1)),b(h,z)))["$=="](e))return d(f)?(h=a.const_get_relative(C,"DELIMITED_BLOCKS")["$[]"](k),g=a.to_ary(h),z=null==g[0]?c:g[0],r=null==g[1]?c:g[1],h,a.const_get_relative(C,"BlockMatchData").$new(z,r,k,e)):!0}return c},pa.$$arity=-2);a.defs(g,"$build_block",L=function(f,g,h,k,l,z,q){var r,n=c,t=c,x=n=t=c,t=x=x=x=c;null==q&&(q=u([],{}));g["$=="]("skip")?(n=!0,t="simple"):g["$=="]("raw")?(n=!1,t="simple"):
(n=!1,t=g);d(h["$nil?"]())?(t["$=="]("verbatim")?t=l.$read_lines_until(u(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(g["$=="]("compound")&&(g="simple"),t=this.$read_paragraph_lines(l,!1,u(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:n}))),n=c):d(t["$!="]("compound"))?(t=l.$read_lines_until(u(["terminator","skip_processing"],{terminator:h,skip_processing:n})),n=c):h["$=="](!1)?(t=c,n=l):(t=c,n=a.const_get_relative(C,
"Reader").$new(l.$read_lines_until(u(["terminator","skip_processing"],{terminator:h,skip_processing:n})),l.$cursor()));if(g["$=="]("skip"))return z.$clear(),t;if(g["$=="]("verbatim"))if(d(x=z["$[]"]("indent")))this["$adjust_indentation!"](t,x,d(r=z["$[]"]("tabsize"))?r:k.$document().$attributes()["$[]"]("tabsize"));else if(d(p(x=(d(r=z["$[]"]("tabsize"))?r:k.$document().$attributes()["$[]"]("tabsize")).$to_i(),0)))this["$adjust_indentation!"](t,c,x);if(d(x=q["$[]"]("extension")))if(z.$delete("style"),
d(x=x.$process_method()["$[]"](k,d(r=n)?r:a.const_get_relative(C,"Reader").$new(t),z.$dup())))z.$replace(x.$attributes()),d((r=x.$content_model()["$=="]("compound"))?(t=x.$lines())["$nil_or_empty?"]()["$!"]():x.$content_model()["$=="]("compound"))&&(g="compound",n=a.const_get_relative(C,"Reader").$new(t));else return c;else x=a.const_get_relative(C,"Block").$new(k,f,u(["content_model","source","attributes"],{content_model:g,source:t,attributes:z}));d(d(r=z["$key?"]("title"))?x.$document()["$attr?"](""+
x.$context()+"-caption"):r)&&(t=[z.$delete("title")],e(x,"title=",a.to_a(t)),t[b(t.length,1)],x.$assign_caption(z.$delete("caption")));g["$=="]("compound")&&this.$parse_blocks(n,x);return x},L.$$arity=-7);a.defs(g,"$parse_blocks",aa=function(b,e){for(var f=c;d(b["$has_more_lines?"]());)if(f=a.const_get_relative(C,"Parser").$next_block(b,e),d(f))e["$<<"](f)},aa.$$arity=2);a.defs(g,"$next_item_list",U=function(f,g,k){var l,z=c,r=c,t=c,n=r=c,x=c,u=c,z=a.const_get_relative(C,"List").$new(k,g),r=k.$context()["$=="](g)?
[h(k.$level(),1)]:[1];e(z,"level=",a.to_a(r));for(r[b(r.length,1)];d(d(l=f["$has_more_lines?"]())?t=a.const_get_relative(C,"ListRxMap")["$[]"](g).$match(f.$peek_line()):l);){r=this.$resolve_list_marker(g,t["$[]"](1));if(d(d(l=z["$items?"]())?r["$!="](z.$items()["$[]"](0).$marker()):l))for(n=h(z.$level(),1),x=k;x.$context()["$=="](g);){if(r["$=="](x.$items()["$[]"](0).$marker())){n=x.$level();break}x=x.$parent()}else n=z.$level();if(d(d(l=z["$items?"]()["$!"]())?l:n["$=="](z.$level())))u=this.$next_list_item(f,
z,t);else if(d(q(n,z.$level())))break;else if(d(p(n,z.$level())))z.$items()["$[]"](-1)["$<<"](this.$next_block(f,z));if(d(u))z["$<<"](u);u=c;f.$skip_blank_lines()}return z},U.$$arity=3);a.defs(g,"$catalog_callouts",Q=function(b,f){var g,h=c,h=!1;d(b["$include?"]("<"))&&e(b,"scan",[a.const_get_relative(C,"CalloutScanRx")],(g=function(){var a,b,e=c,g=c;a=[(b=k["~"])===c?c:b["$[]"](0),(b=k["~"])===c?c:b["$[]"](2)];e=a[0];g=a[1];a;d(e["$start_with?"]("\\"))||f.$callouts().$register(g);return h=!0},g.$$s=
this,g.$$arity=0,g));return h},Q.$$arity=2);a.defs(g,"$catalog_inline_anchors",da=function(b,f){var g,h;d(d(g=b["$include?"]("[["))?g:b["$include?"]("or:"))&&e(b,"scan",[a.const_get_relative(C,"InlineAnchorScanRx")],(h=function(){var a,b,e=c,g=c;d(e=(a=k["~"])===c?c:a["$[]"](1))?g=(a=k["~"])===c?c:a["$[]"](2):(e=(a=k["~"])===c?c:a["$[]"](3),d(d(a=g=(b=k["~"])===c?c:b["$[]"](4))?g["$include?"]("]"):a)&&(g=g.$gsub("\\]","]")));return f.$register("ids",[e,g])},h.$$s=this,h.$$arity=0,h));return c},da.$$arity=
2);a.defs(g,"$catalog_inline_biblio_anchor",H=function(b,e){var f,g;d(a.const_get_relative(C,"InlineBiblioAnchorRx")["$=~"](b))&&e.$register("ids",[(f=k["~"])===c?c:f["$[]"](1),"["+(d(f=(g=k["~"])===c?c:g["$[]"](2))?f:(g=k["~"])===c?c:g["$[]"](1))+"]"]);return c},H.$$arity=2);a.defs(g,"$next_description_list",Y=function(b,e,f){for(var g,h,m=c,k=c,l=c,z=c,p=c,m=a.const_get_relative(C,"List").$new(f,"dlist"),k=c,l=a.const_get_relative(C,"DescriptionListSiblingRx")["$[]"](e["$[]"](2));d(d(g=e)?g:d(h=
b["$has_more_lines?"]())?e=l.$match(b.$peek_line()):h);){h=this.$next_list_item(b,m,e,l);g=a.to_ary(h);z=null==g[0]?c:g[0];p=null==g[1]?c:g[1];h;if(d(d(g=k)?k["$[]"](-1)["$!"]():g))k.$pop(),k["$[]"](0)["$<<"](z),k["$<<"](p);else m.$items()["$<<"](k=[[z],p]);e=c}return m},Y.$$arity=3);a.defs(g,"$next_list_item",ha=function(f,g,h,k){var l,z=c,p=c,r=c,q=c,n=r=c,t=n=n=q=c,x=c,y=x=t=c,w=c;null==k&&(k=c);(z=g.$context())["$=="]("dlist")?(p=a.const_get_relative(C,"ListItem").$new(g,h["$[]"](1)),r=a.const_get_relative(C,
"ListItem").$new(g,h["$[]"](3)),q=h["$[]"](3)["$nil_or_empty?"]()["$!"]()):(r=h["$[]"](2),n=!1,d((l=z["$=="]("ulist"))?r["$start_with?"]("["):z["$=="]("ulist"))&&(d(r["$start_with?"]("[ ] "))?(n=!0,q=!1,r=r["$[]"](v(3,-1,!1)).$lstrip()):d(r["$start_with?"]("[x] ","[*] "))&&(q=n=!0,r=r["$[]"](v(3,-1,!1)).$lstrip())),r=a.const_get_relative(C,"ListItem").$new(g,r),d(n)&&(n=["checklist-option",""],e(g.$attributes(),"[]=",a.to_a(n)),n[b(n.length,1)],n=["checkbox",""],e(r.$attributes(),"[]=",a.to_a(n)),
n[b(n.length,1)],d(q)&&(n=["checked",""],e(r.$attributes(),"[]=",a.to_a(n)),n[b(n.length,1)])),k=d(l=k)?l:this.$resolve_list_marker(z,h["$[]"](1),g.$items().$size(),!0,f),n=[k],e(r,"marker=",a.to_a(n)),n[b(n.length,1)],q=!0);f.$advance();n=a.const_get_relative(C,"Reader").$new(this.$read_lines_for_list_item(f,z,k,q),f.$cursor());if(d(n["$has_more_lines?"]())){t=n.$skip_line_comments();d(x=n.$peek_line())?(d(t["$empty?"]())||n.$unshift_lines(t),d(t=x["$empty?"]())?x=!1:(x=!0,z["$=="]("dlist")||(q=
!1))):x=t=!1;for(y=u(["text"],{text:q["$!"]()});d(n["$has_more_lines?"]());)if(d(w=this.$next_block(n,r,u([],{}),y)))r["$<<"](w);r.$fold_first(t,x)}return z["$=="]("dlist")?d(d(l=r["$text?"]())?l:r["$blocks?"]())?[p,r]:[p,c]:r},ha.$$arity=-4);a.defs(g,"$read_lines_for_list_item",ka=function(f,g,h,l){var z,p,r,q,n,t,x,y,w=c,v=c,A=c,G=c,E=c,H=c,H=r=r=c;null==h&&(h=c);null==l&&(l=!0);w=[];v="inactive";A=!1;for(G=c;d(f["$has_more_lines?"]());){E=f.$read_line();if(d(this["$is_sibling_list_item?"](E,g,
h)))break;H=d(w["$empty?"]())?c:w["$[]"](-1);if(H["$=="](a.const_get_relative(C,"LIST_CONTINUATION"))&&(v["$=="]("inactive")&&(v="active",l=!0,d(A)||(r=[-1,""],e(w,"[]=",a.to_a(r)),r[b(r.length,1)])),E["$=="](a.const_get_relative(C,"LIST_CONTINUATION")))){d(v["$!="]("frozen"))&&(v="frozen",w["$<<"](E));E=c;continue}if(d(r=this["$is_delimited_block?"](E,!0)))if(v["$=="]("active"))w["$<<"](E),w.$concat(f.$read_lines_until(u(["terminator","read_last_line"],{terminator:r.$terminator(),read_last_line:!0}))),
v="inactive";else break;else if(d(d(p=(r=g["$=="]("dlist"))?v["$!="]("active"):g["$=="]("dlist"))?a.const_get_relative(C,"BlockAttributeLineRx")["$match?"](E):p))break;else if(d((p=v["$=="]("active"))?E["$empty?"]()["$!"]():v["$=="]("active")))if(d(a.const_get_relative(C,"LiteralParagraphRx")["$match?"](E)))f.$unshift_line(E),w.$concat(e(f,"read_lines_until",[u(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],
(q=function(a){var b=q.$$s||this;null==a&&(a=c);return g["$=="]("dlist")?b["$is_sibling_list_item?"](a,g,h):g["$=="]("dlist")},q.$$s=this,q.$$arity=1,q))),v="inactive";else if(d(d(p=d(r=a.const_get_relative(C,"BlockTitleRx")["$match?"](E))?r:a.const_get_relative(C,"BlockAttributeLineRx")["$match?"](E))?p:a.const_get_relative(C,"AttributeEntryRx")["$match?"](E)))w["$<<"](E);else d(H=e(d(A)?["dlist"]:a.const_get_relative(C,"NESTABLE_LIST_CONTEXTS"),"find",[],(n=function(b){null==b&&(b=c);return a.const_get_relative(C,
"ListRxMap")["$[]"](b)["$match?"](E)},n.$$s=this,n.$$arity=1,n)))&&(A=!0,d((p=H["$=="]("dlist"))?((r=k["~"])===c?c:r["$[]"](3))["$nil_or_empty?"]():H["$=="]("dlist"))&&(l=!1)),w["$<<"](E),v="inactive";else if(d(d(p=H)?H["$empty?"]():p)){if(d(E["$empty?"]())&&(f.$skip_blank_lines(),E=f.$read_line(),!d(d(p=E)?this["$is_sibling_list_item?"](E,g,h)["$!"]():p)))break;if(E["$=="](a.const_get_relative(C,"LIST_CONTINUATION")))G=w.$size(),w["$<<"](E);else if(d(l))if(d(this["$is_sibling_list_item?"](E,g,h)))break;
else if(d(H=e(a.const_get_relative(C,"NESTABLE_LIST_CONTEXTS"),"find",[],(t=function(b){null==b&&(b=c);return a.const_get_relative(C,"ListRxMap")["$[]"](b)["$=~"](E)},t.$$s=this,t.$$arity=1,t))))w["$<<"](E),A=!0,d((p=H["$=="]("dlist"))?((r=k["~"])===c?c:r["$[]"](3))["$nil_or_empty?"]():H["$=="]("dlist"))&&(l=!1);else if(d(a.const_get_relative(C,"LiteralParagraphRx")["$match?"](E)))f.$unshift_line(E),w.$concat(e(f,"read_lines_until",[u(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],
{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})],(x=function(a){var b=x.$$s||this;null==a&&(a=c);return g["$=="]("dlist")?b["$is_sibling_list_item?"](a,g,h):g["$=="]("dlist")},x.$$s=this,x.$$arity=1,x)));else break;else d(A)||w.$pop(),w["$<<"](E),l=!0}else d(E["$empty?"]()["$!"]())&&(l=!0),d(H=e(d(A)?["dlist"]:a.const_get_relative(C,"NESTABLE_LIST_CONTEXTS"),"find",[],(y=function(b){null==b&&(b=c);return a.const_get_relative(C,"ListRxMap")["$[]"](b)["$=~"](E)},y.$$s=
this,y.$$arity=1,y)))&&(A=!0,d((p=H["$=="]("dlist"))?((r=k["~"])===c?c:r["$[]"](3))["$nil_or_empty?"]():H["$=="]("dlist"))&&(l=!1)),w["$<<"](E);E=c}d(E)&&f.$unshift_line(E);for(d(G)&&w.$delete_at(G);d(d(p=w["$empty?"]()["$!"]())?w["$[]"](-1)["$empty?"]():p);)w.$pop();d(d(z=w["$empty?"]()["$!"]())?w["$[]"](-1)["$=="](a.const_get_relative(C,"LIST_CONTINUATION")):z)&&w.$pop();return w},ka.$$arity=-3);a.defs(g,"$initialize_section",na=function(f,g,h){var k,l,z=c,r=c,q=c,n=c,t=c,x=c,w=c,v=c,A=c,G=c,E=
c,H=v=k=c;null==h&&(h=u([],{}));z=g.$document();d(z.$sourcemap())&&(r=f.$cursor());l=this.$parse_section_title(f,z);k=a.to_ary(l);q=null==k[0]?c:k[0];n=null==k[1]?c:k[1];t=null==k[2]?c:k[2];x=null==k[3]?c:k[3];l;d(n)?(w=["reftext",n],e(h,"[]=",a.to_a(w)),w[b(w.length,1)]):d(h["$key?"]("reftext"))&&(n=h["$[]"]("reftext"));v=d(h["$[]"](1))?this.$parse_style_attribute(h,f):c;d(v)?d(v["$=="]("abstract")?z.$doctype()["$=="]("book"):v["$=="]("abstract"))?(k=["chapter",1],A=k[0],x=k[1],k):(k=[v,!0],A=k[0],
G=k[1],k,x["$=="](0)&&(x=1),E=v["$=="]("appendix")):(k=z.$doctype(),"book"["$==="](k)?A=x["$=="](0)?"part":x["$=="](1)?"chapter":"section":"manpage"["$==="](k)?t.$casecmp("synopsis")["$=="](0)?(k=["synopsis",!0],A=k[0],G=k[1],k):A="section":A="section");v=a.const_get_relative(C,"Section").$new(g,x,!1);k=[q,t,A,r];v["$id="](k[0]);v["$title="](k[1]);v["$sectname="](k[2]);v["$source_location="](k[3]);k;d(G)?(w=[!0],e(v,"special=",a.to_a(w)),w[b(w.length,1)],d(E)&&(w=[!0],e(v,"numbered=",a.to_a(w)),w[b(w.length,
1)])):d(d(k=p(x,0))?z.$attributes()["$key?"]("sectnums"):k)&&(w=[d(v.$special())?(k=g.$context()["$=="]("section"))?g.$numbered():g.$context()["$=="]("section"):!0],e(v,"numbered=",a.to_a(w)),w[b(w.length,1)]);d(H=d(k=v.$id())?k:(w=[d(l=h["$[]"]("id"))?l:d(z.$attributes()["$key?"]("sectids"))?a.const_get_relative(C,"Section").$generate_id(v.$title(),z):c],e(v,"id=",a.to_a(w)),w[b(w.length,1)]))&&z.$register("ids",[H,d(k=n)?k:v.$title()]);v.$update_attributes(h);f.$skip_blank_lines();return v},na.$$arity=
-3);a.defs(g,"$is_next_line_section?",la=function(b,f){var g,h,k,m=c;return d(d(g=d(h=f["$key?"](1))?(m=d(k=f["$[]"](1))?k:"")["$start_with?"]("float","discrete"):h)?a.const_get_relative(C,"FloatingTitleStyleRx")["$match?"](m):g)?c:d(b["$has_more_lines?"]())?d(a.const_get_relative(C,"Compliance").$underline_style_section_titles())?e(this,"is_section_title?",a.to_a(b.$peek_lines(2))):this["$is_section_title?"](b.$peek_line()):c},la.$$arity=2);a.defs(g,"$is_next_line_doctitle?",Aa=function(a,b,e){var f,
g=c;return d(e)?d(f=g=this["$is_next_line_section?"](a,b))?h(g,e.$to_i())["$=="](0):f:this["$is_next_line_section?"](a,b)["$=="](0)},Aa.$$arity=3);a.defs(g,"$is_section_title?",oa=function(a,b){var e;null==b&&(b=c);return d(e=this["$is_single_line_section_title?"](a))?e:d(b["$nil_or_empty?"]())?c:this["$is_two_line_section_title?"](a,b)},oa.$$arity=-2);a.defs(g,"$is_single_line_section_title?",ra=function(e){var f,g,h;return d(d(f=d(g=e["$start_with?"]("="))?g:d(h=a.const_get_relative(C,"Compliance").$markdown_syntax())?
e["$start_with?"]("#"):h)?a.const_get_relative(C,"AtxSectionRx")["$=~"](e):f)?b(((f=k["~"])===c?c:f["$[]"](1)).$length(),1):c},ra.$$arity=1);a.defs(g,"$is_two_line_section_title?",qa=function(e,f){var g,h,k,z=c,p=c,r=c;return d(d(g=d(h=d(k=z=a.const_get_relative(C,"SETEXT_SECTION_LEVELS")["$[]"](p=f.$chr()))?l(p,r=f.$length())["$=="](f):k)?a.const_get_relative(C,"SetextSectionTitleRx")["$match?"](e):h)?q(b(this.$line_length(e),r).$abs(),2):g)?z:c},qa.$$arity=2);a.defs(g,"$parse_section_title",ma=
function(e,f){var g,z,p,r,n,t=c,x=c,u=c,y=c,v=c,A=c,G=c,E=c,H=c,t=x=c,u=e.$read_line();d(d(g=d(z=u["$start_with?"]("="))?z:d(p=a.const_get_relative(C,"Compliance").$markdown_syntax())?u["$start_with?"]("#"):p)?a.const_get_relative(C,"AtxSectionRx")["$=~"](u):g)?(g=[b(((z=k["~"])===c?c:z["$[]"](1)).$length(),1),(z=k["~"])===c?c:z["$[]"](2),!0],y=g[0],v=g[1],A=g[2],g,d(d(g=d(z=v["$end_with?"]("]]"))?a.const_get_relative(C,"InlineSectionAnchorRx")["$=~"](v):z)?((z=k["~"])===c?c:z["$[]"](1))["$!"]():
g)&&(g=[v.$slice(0,b(v.$length(),((z=k["~"])===c?c:z["$[]"](0)).$length())),(z=k["~"])===c?c:z["$[]"](2),(z=k["~"])===c?c:z["$[]"](3)],v=g[0],t=g[1],x=g[2],g)):d(d(g=d(z=d(p=d(r=d(n=a.const_get_relative(C,"Compliance").$underline_style_section_titles())?G=e.$peek_line(!0):n)?y=a.const_get_relative(C,"SETEXT_SECTION_LEVELS")["$[]"](E=G.$chr()):r)?l(E,H=G.$length())["$=="](G):p)?v=d(p=a.const_get_relative(C,"SetextSectionTitleRx")["$=~"](u))?(r=k["~"])===c?c:r["$[]"](1):p:z)?q(b(this.$line_length(u),
H).$abs(),2):g)?(A=!1,d(d(g=d(z=v["$end_with?"]("]]"))?a.const_get_relative(C,"InlineSectionAnchorRx")["$=~"](v):z)?((z=k["~"])===c?c:z["$[]"](1))["$!"]():g)&&(g=[v.$slice(0,b(v.$length(),((z=k["~"])===c?c:z["$[]"](0)).$length())),(z=k["~"])===c?c:z["$[]"](2),(z=k["~"])===c?c:z["$[]"](3)],v=g[0],t=g[1],x=g[2],g),e.$advance()):this.$raise("Unrecognized section at "+e.$prev_line_info());d(f["$attr?"]("leveloffset"))&&(y=h(y,f.$attr("leveloffset").$to_i()));return[t,x,v,y,A]},ma.$$arity=2);d(a.const_get_relative(C,
"FORCE_UNICODE_LINE_LENGTH"))?a.defs(g,"$line_length",ja=function(b){return b.$scan(a.const_get_relative(C,"UnicodeCharScanRx")).$size()},ja.$$arity=1):a.defs(g,"$line_length",ta=function(a){return a.$length()},ta.$$arity=1);a.defs(g,"$parse_header_metadata",fa=function(f,g){var k,z,p,r,q=c,n=c,t=c,x=c,w=c,y=c,A=c,G=c,E=y=c,H=c,y=A=w=t=n=c;null==g&&(g=c);this.$process_attribute_entries(f,g);k=[u([],{}),c,c];q=k[0];n=k[1];t=k[2];k;d(d(k=f["$has_more_lines?"]())?f["$next_line_empty?"]()["$!"]():k)&&
(d((x=this.$process_authors(f.$read_line()))["$empty?"]())||(d(g)&&(e(x,"each",[],(z=function(f,h){var k=c;null==f&&(f=c);null==h&&(h=c);if(d(g.$attributes()["$key?"](f)))return c;k=[f,d(a.const_get_qualified("::","String")["$==="](h))?g.$apply_header_subs(h):h];e(g.$attributes(),"[]=",a.to_a(k));return k[b(k.length,1)]},z.$$s=this,z.$$arity=2,z)),n=g.$attributes()["$[]"]("author"),t=g.$attributes()["$[]"]("authors")),q=x),this.$process_attribute_entries(f,g),w=u([],{}),d(d(k=f["$has_more_lines?"]())?
f["$next_line_empty?"]()["$!"]():k)&&(y=f.$read_line(),d(A=a.const_get_relative(C,"RevisionInfoLineRx").$match(y))?(d(A["$[]"](1))&&(G=["revnumber",A["$[]"](1).$rstrip()],e(w,"[]=",a.to_a(G)),G[b(G.length,1)]),d((y=A["$[]"](2).$strip())["$empty?"]())||(G=d(d(k=A["$[]"](1)["$!"]())?y["$start_with?"]("v"):k)?["revnumber",y["$[]"](v(1,-1,!1))]:["revdate",y],e(w,"[]=",a.to_a(G)),G[b(G.length,1)]),d(A["$[]"](3))&&(G=["revremark",A["$[]"](3).$rstrip()],e(w,"[]=",a.to_a(G)),G[b(G.length,1)])):f.$unshift_line(y)),
d(w["$empty?"]())||(d(g)&&e(w,"each",[],(p=function(f,h){null==f&&(f=c);null==h&&(h=c);if(d(g.$attributes()["$key?"](f)))return c;G=[f,g.$apply_header_subs(h)];e(g.$attributes(),"[]=",a.to_a(G));return G[b(G.length,1)]},p.$$s=this,p.$$arity=2,p)),q.$update(w)),this.$process_attribute_entries(f,g),f.$skip_blank_lines());if(d(g)){if(d(d(k=g.$attributes()["$key?"]("author"))?(E=g.$attributes()["$[]"]("author"))["$!="](n):k))x=this.$process_authors(E,!0,!1);else if(d(d(k=g.$attributes()["$key?"]("authors"))?
(E=g.$attributes()["$[]"]("authors"))["$!="](t):k))x=this.$process_authors(E,!0);else{k=[[],1,"author_1",!1,!1];H=k[0];n=k[1];t=k[2];w=k[3];A=k[4];for(k;d(g.$attributes()["$key?"](t));)(y=g.$attributes()["$[]"](t))["$=="](x["$[]"](t))?(H["$<<"](c),A=!0):(H["$<<"](y),w=!0),t="author_"+(n=h(n,1));d(w)?(d(A)&&e(H,"each_with_index",[],(r=function(f,g){var k=r.$$s||this,z,p=c;null==f&&(f=c);null==g&&(g=c);if(d(f))return c;G=[g,l(e([x["$[]"]("firstname_"+(p=h(g,1))),x["$[]"]("middlename_"+p),x["$[]"]("lastname_"+
p)].$compact(),"map",[],(z=function(a){null==a&&(a=c);return a.$tr(" ","_")},z.$$s=k,z.$$arity=1,z))," ")];e(H,"[]=",a.to_a(G));return G[b(G.length,1)]},r.$$s=this,r.$$arity=2,r)),x=this.$process_authors(H,!0,!1)):x=u([],{})}d(x["$empty?"]())||(g.$attributes().$update(x),d(d(k=g.$attributes()["$key?"]("email")["$!"]())?g.$attributes()["$key?"]("email_1"):k)&&(G=["email",g.$attributes()["$[]"]("email_1")],e(g.$attributes(),"[]=",a.to_a(G)),G[b(G.length,1)]))}return q},fa.$$arity=-2);a.defs(g,"$process_authors",
ya=function(f,g,k){var l,z,p=this,r=c,q=c,n=c;null==g&&(g=!1);null==k&&(k=!0);r=u([],{});q="author authorinitials firstname middlename lastname email".split(" ");n=function(){return d(k)?e(f.$split(";"),"map",[],(l=function(a){null==a&&(a=c);return a.$strip()},l.$$s=p,l.$$arity=1,l)):p.$Array(f)}();e(n,"each_with_index",[],(z=function(f,k){var l=z.$$s||this,p,n,t,x,w=c,y=c,v=c,A=c,I=c,G=c,F=c,E=c;null==f&&(f=c);null==k&&(k=c);if(d(f["$empty?"]()))return c;w=u([],{});k["$=="](0)?e(q,"each",[],(p=function(d){var f=
c;null==d&&(d=c);f=[d.$to_sym(),d];e(w,"[]=",a.to_a(f));return f[b(f.length,1)]},p.$$s=l,p.$$arity=1,p)):e(q,"each",[],(n=function(d){var f=c;null==d&&(d=c);f=[d.$to_sym(),""+d+"_"+h(k,1)];e(w,"[]=",a.to_a(f));return f[b(f.length,1)]},n.$$s=l,n.$$arity=1,n));y=c;if(d(g)){if(d(f["$include?"]("<"))&&(v=[w["$[]"]("author"),f.$tr("_"," ")],e(r,"[]=",a.to_a(v)),v[b(v.length,1)],f=f.$gsub(a.const_get_relative(C,"XmlSanitizeRx"),"")),(y=f.$split(c,3)).$size()["$=="](3))y["$<<"](y.$pop().$squeeze(" "))}else d(A=
a.const_get_relative(C,"AuthorInfoLineRx").$match(f))&&(y=A.$to_a()).$shift();d(y)?(I=(v=[w["$[]"]("firstname"),G=y["$[]"](0).$tr("_"," ")],e(r,"[]=",a.to_a(v)),v[b(v.length,1)]),v=[w["$[]"]("authorinitials"),G.$chr()],e(r,"[]=",a.to_a(v)),v[b(v.length,1)],d(y["$[]"](1))&&(d(y["$[]"](2))?(v=[w["$[]"]("middlename"),F=y["$[]"](1).$tr("_"," ")],e(r,"[]=",a.to_a(v)),v[b(v.length,1)],v=[w["$[]"]("lastname"),E=y["$[]"](2).$tr("_"," ")],e(r,"[]=",a.to_a(v)),v[b(v.length,1)],I=h(h(h(h(G," "),F)," "),E),v=
[w["$[]"]("authorinitials"),""+G.$chr()+F.$chr()+E.$chr()]):(v=[w["$[]"]("lastname"),E=y["$[]"](1).$tr("_"," ")],e(r,"[]=",a.to_a(v)),v[b(v.length,1)],I=h(h(G," "),E),v=[w["$[]"]("authorinitials"),""+G.$chr()+E.$chr()]),e(r,"[]=",a.to_a(v)),v[b(v.length,1)]),d(t=r["$[]"](w["$[]"]("author")))?t:(v=[w["$[]"]("author"),I],e(r,"[]=",a.to_a(v)),v[b(v.length,1)]),d(d(t=g)?t:y["$[]"](3)["$!"]())||(v=[w["$[]"]("email"),y["$[]"](3)],e(r,"[]=",a.to_a(v)),v[b(v.length,1)])):(v=[w["$[]"]("author"),(v=[w["$[]"]("firstname"),
G=f.$squeeze(" ").$strip()],e(r,"[]=",a.to_a(v)),v[b(v.length,1)])],e(r,"[]=",a.to_a(v)),v[b(v.length,1)],v=[w["$[]"]("authorinitials"),G.$chr()],e(r,"[]=",a.to_a(v)),v[b(v.length,1)]);v=["authorcount",h(k,1)];e(r,"[]=",a.to_a(v));v[b(v.length,1)];k["$=="](1)&&e(q,"each",[],(x=function(f){null==f&&(f=c);return d(r["$key?"](f))?(v=[""+f+"_1",r["$[]"](f)],e(r,"[]=",a.to_a(v)),v[b(v.length,1)]):c},x.$$s=l,x.$$arity=1,x));v=k["$=="](0)?["authors",r["$[]"](w["$[]"]("author"))]:["authors",""+r["$[]"]("authors")+
", "+r["$[]"](w["$[]"]("author"))];e(r,"[]=",a.to_a(v));return v[b(v.length,1)]},z.$$s=p,z.$$arity=2,z));return r},ya.$$arity=-2);a.defs(g,"$parse_block_metadata_lines",ua=function(a,b,c,e){null==c&&(c=u([],{}));for(null==e&&(e=u([],{}));d(this.$parse_block_metadata_line(a,b,c,e));)a.$advance(),a.$skip_blank_lines();return c},ua.$$arity=-3);a.defs(g,"$parse_block_metadata_line",za=function(f,g,h,z){var p,r,q=c,n=c,t=c,t=c;null==k["~"]&&(k["~"]=c);null==z&&(z=u([],{}));if(d(d(p=q=f.$peek_line())?d(z["$[]"]("text"))?
q["$start_with?"]("[","/"):n=q["$start_with?"]("[",".","/",":"):p))if(d(q["$start_with?"]("[")))if(d(q["$start_with?"]("[["))){if(d(d(p=q["$end_with?"]("]]"))?a.const_get_relative(C,"BlockAnchorRx")["$=~"](q):p))return t=["id",(p=k["~"])===c?c:p["$[]"](1)],e(h,"[]=",a.to_a(t)),t[b(t.length,1)],d((p=k["~"])===c?c:p["$[]"](2))&&(t=["reftext",(p=k["~"])===c?c:p["$[]"](2)],e(h,"[]=",a.to_a(t)),t[b(t.length,1)]),!0}else{if(d(d(p=q["$end_with?"]("]"))?a.const_get_relative(C,"BlockAttributeListRx")["$=~"](q):
p))return g.$parse_attributes((p=k["~"])===c?c:p["$[]"](1),[],u(["sub_input","into"],{sub_input:!0,into:h})),!0}else if(d(d(p=n)?q["$start_with?"]("."):p)){if(d(a.const_get_relative(C,"BlockTitleRx")["$=~"](q)))return t=["title",(p=k["~"])===c?c:p["$[]"](1)],e(h,"[]=",a.to_a(t)),t[b(t.length,1)],!0}else if(d(q["$start_with?"]("/"))){if(d(q["$start_with?"]("//"))){if(q["$=="]("//"))return!0;if(d(d(p=n)?l("/",t=q.$length())["$=="](q):p)){if(t["$=="](3))return c;f.$read_lines_until(u(["skip_first_line",
"preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:q,skip_processing:!0}));return!0}return d(q["$start_with?"]("///"))?c:!0}}else if(d(d(p=d(r=n)?q["$start_with?"](":"):r)?a.const_get_relative(C,"AttributeEntryRx")["$=~"](q):p))return this.$process_attribute_entry(f,g,h,k["~"]),!0;return c},za.$$arity=-4);a.defs(g,"$process_attribute_entries",Ea=function(a,b,e){null==e&&(e=c);for(a.$skip_comment_lines();d(this.$process_attribute_entry(a,b,e));)a.$advance(),
a.$skip_comment_lines()},Ea.$$arity=-3);a.defs(g,"$process_attribute_entry",Ga=function(e,f,g,h){var k,l,z=c,p=c,r=c,q=c;null==g&&(g=c);null==h&&(h=c);if(d(h=d(k=h)?k:d(e["$has_more_lines?"]())?a.const_get_relative(C,"AttributeEntryRx").$match(e.$peek_line()):c)){if(d((z=h["$[]"](2))["$nil_or_empty?"]()))z="";else if(d(z["$end_with?"](a.const_get_relative(C,"LINE_CONTINUATION"),a.const_get_relative(C,"LINE_CONTINUATION_LEGACY"))))for(k=[z.$slice(-2,2),z.$slice(0,b(z.$length(),2)).$rstrip()],p=k[0],
z=k[1],k;d(d(l=e.$advance())?(r=e.$peek_line().$lstrip())["$empty?"]()["$!"]():l)&&(d(q=r["$end_with?"](p))&&(r=r.$slice(0,b(r.$length(),2)).$rstrip()),z=""+z+(d(z["$end_with?"](a.const_get_relative(C,"LINE_BREAK")))?a.const_get_relative(C,"EOL"):" ")+r,d(q)););this.$store_attribute(h["$[]"](1),z,f,g);return!0}return c},Ga.$$arity=-3);a.defs(g,"$store_attribute",Ba=function(e,f,g,k){var l,z=c;null==g&&(g=c);null==k&&(k=c);d(e["$end_with?"]("!"))?(l=[e.$chop(),c],e=l[0],f=l[1],l):d(e["$start_with?"]("!"))&&
(l=[e.$slice(1,e.$length()),c],e=l[0],f=l[1],l);e=this.$sanitize_attribute_name(e);e["$=="]("numbered")&&(e="sectnums");d(g)?d(f)?(e["$=="]("leveloffset")&&(d(f["$start_with?"]("+"))?f=h(g.$attr("leveloffset",0).$to_i(),(d(l=f["$[]"](v(1,-1,!1)))?l:0).$to_i()).$to_s():d(f["$start_with?"]("-"))&&(f=b(g.$attr("leveloffset",0).$to_i(),(d(l=f["$[]"](v(1,-1,!1)))?l:0).$to_i()).$to_s())),d(z=g.$set_attribute(e,f))&&(f=z,d(k)&&a.const_get_qualified(a.const_get_relative(C,"Document"),"AttributeEntry").$new(e,
f).$save_to(k))):d(d(l=g.$delete_attribute(e))?k:l)&&a.const_get_qualified(a.const_get_relative(C,"Document"),"AttributeEntry").$new(e,f).$save_to(k):d(k)&&a.const_get_qualified(a.const_get_relative(C,"Document"),"AttributeEntry").$new(e,f).$save_to(k);return[e,f]},Ba.$$arity=-3);a.defs(g,"$resolve_list_marker",Ca=function(a,b,e,f,g){null==e&&(e=0);null==f&&(f=!1);null==g&&(g=c);return a["$=="]("olist")?d(b["$start_with?"]("."))?b:this.$resolve_ordered_list_marker(b,e,f,g):a["$=="]("colist")?"<1>":
b},Ca.$$arity=-3);a.defs(g,"$resolve_ordered_list_marker",Fa=function(b,f,g,k){var m,l,z=c,p=c,r=c;null==f&&(f=0);null==g&&(g=!1);null==k&&(k=c);z=p=c;r=e(a.const_get_relative(C,"ORDERED_LIST_STYLES"),"find",[],(m=function(d){null==d&&(d=c);return a.const_get_relative(C,"OrderedListMarkerRxMap")["$[]"](d)["$match?"](b)},m.$$s=this,m.$$arity=1,m));"arabic"["$==="](r)?(d(g)&&(z=h(f,1),p=b.$to_i()),b="1."):"loweralpha"["$==="](r)?(d(g)&&(z=h("a"["$[]"](0).$ord(),f).$chr(),p=b.$chop()),b="a."):"upperalpha"["$==="](r)?
(d(g)&&(z=h("A"["$[]"](0).$ord(),f).$chr(),p=b.$chop()),b="A."):"lowerroman"["$==="](r)?(d(g)&&(z=h(f,1),p=this.$roman_numeral_to_int(b.$chop())),b="i)"):"upperroman"["$==="](r)&&(d(g)&&(z=h(f,1),p=this.$roman_numeral_to_int(b.$chop())),b="I)");d(d(l=g)?z["$!="](p):l)&&this.$warn("asciidoctor: WARNING: "+k.$line_info()+": list item index: expected "+z+", got "+p);return b},Fa.$$arity=-2);a.defs(g,"$is_sibling_list_item?",Da=function(b,e,f){var g=c,h=c,k=c;d(a.const_get_qualified("::","Regexp")["$==="](f))?
(g=f,h=!1):(g=a.const_get_relative(C,"ListRxMap")["$[]"](e),h=f);return d(k=g.$match(b))?d(h)?h["$=="](this.$resolve_list_marker(e,k["$[]"](1))):!0:!1},Da.$$arity=3);a.defs(g,"$next_table",Ha=function(f,g,k){var l,z,r,q=c,n=c,t=c,x=c,u=c,w=c,v=c,A=c,G=c,E=c,H=c,R=u=c,O=u=c,B=c,q=a.const_get_relative(C,"Table").$new(g,k);d(k["$key?"]("title"))&&(n=[k.$delete("title")],e(q,"title=",a.to_a(n)),n[b(n.length,1)],q.$assign_caption(k.$delete("caption")));d(d(l=k["$key?"]("cols"))?(t=this.$parse_colspecs(k["$[]"]("cols")))["$empty?"]()["$!"]():
l)&&(q.$create_columns(t),x=!0);u=f.$skip_blank_lines();w=a.const_get_qualified(a.const_get_relative(C,"Table"),"ParserContext").$new(f,q,k);l=[w.$format(),-1,c];v=l[0];A=l[1];G=l[2];l;d(d(l=d(z=p(u,0))?z:k["$key?"]("header-option"))?l:k["$key?"]("noheader-option"))||(E=!0);for(l=!1;l||d(H=f.$read_line());){l=!1;d(d(z=p(A=h(A,1),0))?H["$empty?"]():z)?(H=c,d(G)&&(G=h(G,1))):v["$=="]("psv")&&(d(w["$starts_with_delimiter?"](H))?(H=H.$slice(1,H.$length()),w.$close_open_cell(),d(G)&&(G=c)):(r=this.$parse_cellspec(H,
"start",w.$delimiter()),z=a.to_ary(r),u=null==z[0]?c:z[0],H=null==z[1]?c:z[1],r,d(u)?(w.$close_open_cell(u),d(G)&&(G=c)):d(d(z=G)?G["$=="](A):z)&&(z=[!1,c],E=z[0],G=z[1],z)));d(A["$=="](0)?E:A["$=="](0))&&(d(d(z=f["$has_more_lines?"]())?f.$peek_line()["$empty?"]():z)?G=1:E=!1);for(z=!1;z||d(!0);)if(z=!1,d(d(r=H)?R=w.$match_delimiter(H):r)){u=v;if("csv"["$==="](u)){if(d(w["$buffer_has_unclosed_quotes?"](R.$pre_match()))){if(d((H=w.$skip_past_delimiter(R))["$empty?"]()))break;z=!0}n=[""+w.$buffer()+
R.$pre_match()]}else if("dsv"["$==="](u)){if(d(R.$pre_match()["$end_with?"]("\\"))){if(d((H=w.$skip_past_escaped_delimiter(R))["$empty?"]())){n=[""+w.$buffer()+a.const_get_relative(C,"EOL")];e(w,"buffer=",a.to_a(n));n[b(n.length,1)];w.$keep_cell_open();break}z=!0}n=[""+w.$buffer()+R.$pre_match()]}else{if(d(R.$pre_match()["$end_with?"]("\\"))){if(d((H=w.$skip_past_escaped_delimiter(R))["$empty?"]())){n=[""+w.$buffer()+a.const_get_relative(C,"EOL")];e(w,"buffer=",a.to_a(n));n[b(n.length,1)];w.$keep_cell_open();
break}z=!0}g=this.$parse_cellspec(R.$pre_match());r=a.to_ary(g);u=null==r[0]?c:r[0];O=null==r[1]?c:r[1];g;w.$push_cellspec(u);n=[""+w.$buffer()+O]}e(w,"buffer=",a.to_a(n));n[b(n.length,1)];d((H=R.$post_match())["$empty?"]())&&(H=c);w.$close_cell()}else{n=[""+w.$buffer()+H+a.const_get_relative(C,"EOL")];e(w,"buffer=",a.to_a(n));n[b(n.length,1)];u=v;"csv"["$==="](u)?(n=[""+w.$buffer().$rstrip()+" "],e(w,"buffer=",a.to_a(n)),n[b(n.length,1)],d(w["$buffer_has_unclosed_quotes?"]())?(d(d(r=G)?A["$=="](0):
r)&&(r=[!1,c],E=r[0],G=r[1],r),w.$keep_cell_open()):w.$close_cell(!0)):"dsv"["$==="](u)?w.$close_cell(!0):w.$keep_cell_open();break}d(w["$cell_open?"]())||f.$skip_blank_lines();d(f["$has_more_lines?"]())||d(w["$cell_open?"]())&&w.$close_cell(!0)}d(d(l=(B=q.$attributes(),d(z=B["$[]"]("colcount"))?z:(n=["colcount",q.$columns().$size()],e(B,"[]=",a.to_a(n)),n[b(n.length,1)]))["$=="](0))?l:x)||q.$assign_column_widths();d(E)&&(n=[!0],e(q,"has_header_option=",a.to_a(n)),n[b(n.length,1)],n=["header-option",
""],e(k,"[]=",a.to_a(n)),n[b(n.length,1)],n=["options",d(k["$key?"]("options"))?""+k["$[]"]("options")+",header":"header"],e(k,"[]=",a.to_a(n)),n[b(n.length,1)]);q.$partition_header_footer(k);return q},Ha.$$arity=3);a.defs(g,"$parse_colspecs",Ia=function(f){var g,h,k=c;d(f["$include?"](" "))&&(f=f.$delete(" "));if(f["$=="](f.$to_i().$to_s()))return e(a.const_get_qualified("::","Array"),"new",[f.$to_i()],(g=function(){return u(["width"],{width:1})},g.$$s=this,g.$$arity=0,g));k=[];e(f.$split(",",-1),
"each",[],(h=function(f){var g=h.$$s||this,l,z,p=c,r=c,q=c,n=c,q=c;null==f&&(f=c);return d(f["$empty?"]())?k["$<<"](u(["width"],{width:1})):d(p=a.const_get_relative(C,"ColumnSpecRx").$match(f))?(r=u([],{}),d(p["$[]"](2))&&(f=p["$[]"](2).$split("."),l=a.to_ary(f),q=null==l[0]?c:l[0],n=null==l[1]?c:l[1],f,d(d(l=q["$nil_or_empty?"]()["$!"]())?a.const_get_relative(C,"TableCellHorzAlignments")["$key?"](q):l)&&(q=["halign",a.const_get_relative(C,"TableCellHorzAlignments")["$[]"](q)],e(r,"[]=",a.to_a(q)),
q[b(q.length,1)]),d(d(l=n["$nil_or_empty?"]()["$!"]())?a.const_get_relative(C,"TableCellVertAlignments")["$key?"](n):l)&&(q=["valign",a.const_get_relative(C,"TableCellVertAlignments")["$[]"](n)],e(r,"[]=",a.to_a(q)),q[b(q.length,1)])),q=["width",d(p["$[]"](3))?p["$[]"](3).$to_i():1],e(r,"[]=",a.to_a(q)),q[b(q.length,1)],d(d(l=p["$[]"](4))?a.const_get_relative(C,"TableCellStyles")["$key?"](p["$[]"](4)):l)&&(q=["style",a.const_get_relative(C,"TableCellStyles")["$[]"](p["$[]"](4))],e(r,"[]=",a.to_a(q)),
q[b(q.length,1)]),d(p["$[]"](1))?e(1,"upto",[p["$[]"](1).$to_i()],(z=function(){return k["$<<"](r.$dup())},z.$$s=g,z.$$arity=0,z)):k["$<<"](r)):c},h.$$s=this,h.$$arity=1,h));return k},Ia.$$arity=1);a.defs(g,"$parse_cellspec",z=function(f,g,h){var k,l=c,z=c,p=l=c,r=c,q=c,r=c;null==g&&(g="end");null==h&&(h=c);k=[c,""];k;if(g["$=="]("start"))if(d(f["$include?"](h)))if(g=f.$split(h,2),k=a.to_ary(g),l=null==k[0]?c:k[0],z=null==k[1]?c:k[1],g,d(l=a.const_get_relative(C,"CellSpecStartRx").$match(l))){if(d(l["$[]"](0)["$empty?"]()))return[u([],
{}),z]}else return[c,f];else return[c,f];else if(d(l=a.const_get_relative(C,"CellSpecEndRx").$match(f))){if(d(l["$[]"](0).$lstrip()["$empty?"]()))return[u([],{}),f.$rstrip()];z=l.$pre_match()}else return[u([],{}),f];p=u([],{});d(l["$[]"](1))&&(g=l["$[]"](1).$split("."),k=a.to_ary(g),r=null==k[0]?c:k[0],q=null==k[1]?c:k[1],g,r=d(r["$nil_or_empty?"]())?1:r.$to_i(),q=d(q["$nil_or_empty?"]())?1:q.$to_i(),l["$[]"](2)["$=="]("+")?(r["$=="](1)||(r=["colspan",r],e(p,"[]=",a.to_a(r)),r[b(r.length,1)]),q["$=="](1)||
(r=["rowspan",q],e(p,"[]=",a.to_a(r)),r[b(r.length,1)])):l["$[]"](2)["$=="]("*")&&!r["$=="](1)&&(r=["repeatcol",r],e(p,"[]=",a.to_a(r)),r[b(r.length,1)]));d(l["$[]"](3))&&(g=l["$[]"](3).$split("."),k=a.to_ary(g),r=null==k[0]?c:k[0],q=null==k[1]?c:k[1],g,d(d(k=r["$nil_or_empty?"]()["$!"]())?a.const_get_relative(C,"TableCellHorzAlignments")["$key?"](r):k)&&(r=["halign",a.const_get_relative(C,"TableCellHorzAlignments")["$[]"](r)],e(p,"[]=",a.to_a(r)),r[b(r.length,1)]),d(d(k=q["$nil_or_empty?"]()["$!"]())?
a.const_get_relative(C,"TableCellVertAlignments")["$key?"](q):k)&&(r=["valign",a.const_get_relative(C,"TableCellVertAlignments")["$[]"](q)],e(p,"[]=",a.to_a(r)),r[b(r.length,1)]));d(d(k=l["$[]"](4))?a.const_get_relative(C,"TableCellStyles")["$key?"](l["$[]"](4)):k)&&(r=["style",a.const_get_relative(C,"TableCellStyles")["$[]"](l["$[]"](4))],e(p,"[]=",a.to_a(r)),r[b(r.length,1)]);return[p,z]},z.$$arity=-2);a.defs(g,"$parse_style_attribute",va=function(f,g){var k,z,r,p,q,n=c,t=c,x=c,w=c,v=c,y=c,G=c,
A=c,E=c;null==g&&(g=c);if(d(d(k=d(z=n=f["$[]"](1))?n["$include?"](" ")["$!"]():z)?a.const_get_relative(C,"Compliance").$shorthand_property_syntax():k)){k=["style",[],u([],{})];t=k[0];x=k[1];w=k[2];k;v=e(this,"lambda",[],(r=function(){var f=r.$$s||this,h,k=c,l=c;if(d(x["$empty?"]()))return t["$=="]("style")?c:f.$warn("asciidoctor: WARNING:"+(d(g)?" "+g.$prev_line_info()+":":c)+" invalid empty "+t+" detected in style attribute");k=t;if("role"["$==="](k)||"option"["$==="](k))(d(h=w["$[]"](t))?h:(l=[t,
[]],e(w,"[]=",a.to_a(l)),l[b(l.length,1)]))["$<<"](x.$join());else"id"["$==="](k)&&d(w["$key?"]("id"))&&f.$warn("asciidoctor: WARNING:"+(d(g)?" "+g.$prev_line_info()+":":c)+" multiple ids detected in style attribute"),l=[t,x.$join()],e(w,"[]=",a.to_a(l)),l[b(l.length,1)];return x=[]},r.$$s=this,r.$$arity=0,r));e(n,"each_char",[],(p=function(a){var b,e,f=c;null==a&&(a=c);return d(d(b=d(e=a["$=="]("."))?e:a["$=="]("#"))?b:a["$=="]("%"))?(v.$call(),f=a,"."["$==="](f)?t="role":"#"["$==="](f)?t="id":"%"["$==="](f)?
t="option":c):x["$<<"](a)},p.$$s=this,p.$$arity=1,p));if(t["$=="]("style"))return y=["style",n],e(f,"[]=",a.to_a(y)),y[b(y.length,1)];v.$call();d(w["$key?"]("style"))&&(G=(y=["style",w["$[]"]("style")],e(f,"[]=",a.to_a(y)),y[b(y.length,1)]));d(w["$key?"]("id"))&&(y=["id",w["$[]"]("id")],e(f,"[]=",a.to_a(y)),y[b(y.length,1)]);d(w["$key?"]("role"))&&(y=["role",l(w["$[]"]("role")," ")],e(f,"[]=",a.to_a(y)),y[b(y.length,1)]);d(w["$key?"]("option"))&&(e(A=w["$[]"]("option"),"each",[],(q=function(d){null==
d&&(d=c);y=[""+d+"-option",""];e(f,"[]=",a.to_a(y));return y[b(y.length,1)]},q.$$s=this,q.$$arity=1,q)),y=d(E=f["$[]"]("options"))?["options",l(h(A,E.$split(",")),",")]:["options",l(A,",")],e(f,"[]=",a.to_a(y)),y[b(y.length,1)]);return G}y=["style",n];e(f,"[]=",a.to_a(y));return y[b(y.length,1)]},va.$$arity=-2);a.defs(g,"$adjust_indentation!",ca=function(f,g,z){var r,q,n,t,x,u,w=this,v=c,A=c,G=c;null==g&&(g=0);null==z&&(z=0);if(d(f["$empty?"]()))return c;d(d(r=p(z=z.$to_i(),0))?f.$join()["$include?"](a.const_get_relative(C,
"TAB")):r)&&(v=l(" ",z),e(f,"map!",[],(q=function(f){var g=q.$$s||this,r,p,n=c;null==f&&(f=c);if(d(f["$empty?"]()))return f;d(f["$start_with?"](a.const_get_relative(C,"TAB")))&&(f=e(f,"sub",[a.const_get_relative(C,"TabIndentRx")],(r=function(){var a;return l(v,((a=k["~"])===c?c:a["$[]"](0)).$length())},r.$$s=g,r.$$arity=0,r)));return d(f["$include?"](a.const_get_relative(C,"TAB")))?(n=0,f=e(f,"gsub",[a.const_get_relative(C,"TabRx")],(p=function(){var a=c,d=c;null==k["~"]&&(k["~"]=c);if((a=h(k["~"].$begin(0),
n))["$%"](z)["$=="](0))return n=h(n,b(z,1)),v;(d=b(z,a["$%"](z)))["$=="](1)||(n=h(n,b(d,1)));return l(" ",d)},p.$$s=g,p.$$arity=0,p))):f},q.$$s=w,q.$$arity=1,q)));if(!d(d(r=g)?p(g=g.$to_i(),-1):r))return c;A=c;(function(){var g=a.new_brk();try{return e(f,"each",[],(n=function(e){var f,h=c;null==e&&(e=c);if(d(e["$empty?"]()))return c;if((h=b(e.$length(),e.$lstrip().$length()))["$=="](0))A=c,a.brk(c,g);else return d(d(f=A)?p(h,A):f)?c:A=h},n.$$s=w,n.$$brk=g,n.$$arity=1,n))}catch(h){if(h===g)return h.$v;
throw h;}})();g["$=="](0)?d(A)&&e(f,"map!",[],(t=function(b){null==b&&(b=c);return d(b["$empty?"]())?b:b["$[]"](a.Range.$new(A,-1,!1))},t.$$s=w,t.$$arity=1,t)):(G=l(" ",g),d(A)?e(f,"map!",[],(x=function(b){null==b&&(b=c);return d(b["$empty?"]())?b:h(G,b["$[]"](a.Range.$new(A,-1,!1)))},x.$$s=w,x.$$arity=1,x)):e(f,"map!",[],(u=function(a){null==a&&(a=c);return d(a["$empty?"]())?a:h(G,a)},u.$$s=w,u.$$arity=1,u)));return c},ca.$$arity=-2);a.defs(g,"$sanitize_attribute_name",O=function(b){return b.$gsub(a.const_get_relative(C,
"InvalidAttributeNameCharsRx"),"").$downcase()},O.$$arity=1);return a.defs(g,"$roman_numeral_to_int",xa=function(f){var g,k=c,l=c;f=f.$downcase();k=u(["i","v","x"],{i:1,v:5,x:10});l=0;e(a.Range.$new(0,b(f.$length(),1),!1),"each",[],(g=function(e){var g,z=c;null==e&&(e=c);z=k["$[]"](f["$[]"](a.Range.$new(e,e,!1)));return d(d(g=q(h(e,1),f.$length()))?p(k["$[]"](f["$[]"](a.Range.$new(h(e,1),h(e,1),!1))),z):g)?l=b(l,z):l=h(l,z)},g.$$s=this,g.$$arity=1,g));return l},xa.$$arity=1)})(D[0],null,D)}(g[0],
g)};Opal.modules["asciidoctor/path_resolver"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var p=[],l=a.nil,q=a.module,g=a.klass,c=a.truthy,n=a.hash2,f=a.range,e=a.send;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $== $start_with? $match? $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixify $is_web_root? $is_unc? $slice $+ $index $split $shift $delete $[]= $- $* $raise $empty? $system_path $!= $! $dup $each $> $size $pop $fetch $warn $<< $end_with? $uri_prefix $length $gsub".split(" "));
return function(d,p){var t=[q(d,"Asciidoctor")].concat(p);(function(d,$super,p){function q(){}d=q=g(d,$super,"PathResolver",q);var t=d.$$proto,r=[d].concat(p),u,w,y,v,R,B,D,P,Z,V,K;t.file_separator=t._partition_path_web=t._partition_path_sys=t.working_dir=l;a.const_set(r[0],"DOT",".");a.const_set(r[0],"DOT_DOT","..");a.const_set(r[0],"DOT_SLASH","./");a.const_set(r[0],"SLASH","/");a.const_set(r[0],"BACKSLASH","\\");a.const_set(r[0],"DOUBLE_SLASH","//");a.const_set(r[0],"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);
d.$attr_accessor("file_separator");d.$attr_accessor("working_dir");a.defn(d,"$initialize",u=function(b,d){var e;null==b&&(b=l);null==d&&(d=l);this.file_separator=c(b)?b:c(e=a.const_get_qualified(a.const_get_qualified("::","File"),"ALT_SEPARATOR"))?e:a.const_get_qualified(a.const_get_qualified("::","File"),"SEPARATOR");c(d)?this.working_dir=c(this["$is_root?"](d))?d:a.const_get_qualified("::","File").$expand_path(d):this.working_dir=a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::",
"Dir").$pwd());this._partition_path_sys=n([],{});return this._partition_path_web=n([],{})},u.$$arity=-1);a.const_get_relative(r,"RUBY_ENGINE")["$=="]("opal")?a.defn(d,"$is_root?",w=function(b){var d,e;return c(d=c(e=b["$start_with?"](a.const_get_relative(r,"SLASH")))?e:a.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest")?b["$start_with?"]("file://"):a.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"))?d:this.file_separator["$=="](a.const_get_relative(r,
"BACKSLASH"))?a.const_get_relative(r,"WindowsRootRx")["$match?"](b):this.file_separator["$=="](a.const_get_relative(r,"BACKSLASH"))},w.$$arity=1):l;a.defn(d,"$is_unc?",y=function(b){return b["$start_with?"](a.const_get_relative(r,"DOUBLE_SLASH"))},y.$$arity=1);a.defn(d,"$is_web_root?",v=function(b){return b["$start_with?"](a.const_get_relative(r,"SLASH"))},v.$$arity=1);a.defn(d,"$posixify",R=function(b){return c(b["$nil_or_empty?"]())?"":c(b["$include?"](a.const_get_relative(r,"BACKSLASH")))?b.$tr(a.const_get_relative(r,
"BACKSLASH"),a.const_get_relative(r,"SLASH")):b},R.$$arity=1);a.alias(d,"posixfy","posixify");a.defn(d,"$expand_path",B=function(b){var c,d=l;c=l;b=this.$partition_path(b);c=a.to_ary(b);d=null==c[0]?l:c[0];c=null==c[1]?l:c[1];b;return this.$join_path(d,c)},B.$$arity=1);a.defn(d,"$partition_path",D=function(d,g){var h=l,k=h=l,p=l,k=l;null==g&&(g=!1);if(c(h=c(g)?this._partition_path_web["$[]"](d):this._partition_path_sys["$[]"](d)))return h;h=this.$posixify(d);k=c(g)?c(this["$is_web_root?"](h))?a.const_get_relative(r,
"SLASH"):c(h["$start_with?"](a.const_get_relative(r,"DOT_SLASH")))?a.const_get_relative(r,"DOT_SLASH"):l:c(this["$is_root?"](h))?c(this["$is_unc?"](h))?a.const_get_relative(r,"DOUBLE_SLASH"):c(h["$start_with?"](a.const_get_relative(r,"SLASH")))?a.const_get_relative(r,"SLASH"):h.$slice(0,b(h.$index(a.const_get_relative(r,"SLASH")),1)):c(h["$start_with?"](a.const_get_relative(r,"DOT_SLASH")))?a.const_get_relative(r,"DOT_SLASH"):l;p=h.$split(a.const_get_relative(r,"SLASH"));k["$=="](a.const_get_relative(r,
"DOUBLE_SLASH"))?p=p["$[]"](f(2,-1,!1)):c(k)&&p.$shift();p.$delete(a.const_get_relative(r,"DOT"));k=[d,[p,k,h]];e(c(g)?this._partition_path_web:this._partition_path_sys,"[]=",a.to_a(k));h=k;k=k.length;k="number"===typeof k?k-1:k["$-"](1);return h[k]},D.$$arity=-2);a.defn(d,"$join_path",P=function(b,d){null==d&&(d=l);return c(d)?""+d+h(b,a.const_get_relative(r,"SLASH")):h(b,a.const_get_relative(r,"SLASH"))},P.$$arity=-2);a.defn(d,"$system_path",Z=function(b,d,f,g){var h,k,m,p=l,q=l,t=k=l,x=l,u=l,w=
x=l,y=l;null==d&&(d=l);null==f&&(f=l);null==g&&(g=n([],{}));c(f)&&(c(this["$is_root?"](f))||this.$raise(a.const_get_qualified("::","SecurityError"),"Jail is not an absolute path: "+f),f=this.$posixify(f));c(b["$nil_or_empty?"]())?p=[]:(k=this.$partition_path(b),h=a.to_ary(k),p=null==h[0]?l:h[0],q=null==h[1]?l:h[1],k);if(c(p["$empty?"]())){if(c(d["$nil_or_empty?"]()))return c(f)?f:this.working_dir;if(c(this["$is_root?"](d))){if(!c(f))return this.$expand_path(d)}else return this.$system_path(d,f,f,
g)}if(c(c(h=q)?q["$!="](a.const_get_relative(r,"DOT_SLASH")):h)&&(k=this.$join_path(p,q),c(c(h=f["$!"]())?h:k["$start_with?"](f))))return k;d=c(d["$nil_or_empty?"]())?c(f)?f:this.working_dir:c(this["$is_root?"](d))?this.$posixify(d):this.$system_path(d,f,f,g);f["$=="](d)?(k=this.$partition_path(f),h=a.to_ary(k),t=null==h[0]?l:h[0],x=null==h[1]?l:h[1],k,u=t.$dup()):(c(f)?(c(d["$start_with?"](f))||this.$raise(a.const_get_qualified("::","SecurityError"),""+(c(h=g["$[]"]("target_name"))?h:"Start path")+
" "+d+" is outside of jail: "+f+" (disallowed in safe mode)"),k=this.$partition_path(d),h=a.to_ary(k),u=null==h[0]?l:h[0],x=null==h[1]?l:h[1],k,k=this.$partition_path(f),h=a.to_ary(k),t=null==h[0]?l:h[0]):(k=this.$partition_path(d),h=a.to_ary(k),u=null==h[0]?l:h[0]),x=null==h[1]?l:h[1],k);w=u.$dup();y=!1;e(p,"each",[],(m=function(d){var e=m.$$s||this,h;null==d&&(d=l);if(d["$=="](a.const_get_relative(r,"DOT_DOT"))){if(c(f)){d=w.$size();var k=t.$size();d="number"===typeof d&&"number"===typeof k?d>k:
d["$>"](k);return c(d)?w.$pop():c((c(h=l)?h:g.$fetch("recover",!0))["$!"]())?e.$raise(a.const_get_qualified("::","SecurityError"),""+(c(h=g["$[]"]("target_name"))?h:"path")+" "+b+" refers to location outside jail: "+f+" (disallowed in safe mode)"):c(y["$!"]())?(e.$warn("asciidoctor: WARNING: "+(c(h=g["$[]"]("target_name"))?h:"path")+" has illegal reference to ancestor of jail, auto-recovering"),y=!0):l}return w.$pop()}return w["$<<"](d)},m.$$s=this,m.$$arity=1,m));return this.$join_path(w,x)},Z.$$arity=
-2);a.defn(d,"$web_path",V=function(b,d){var f,g,h,k=l,m=l,p=l,q=l,n=l;null==d&&(d=l);b=this.$posixify(b);d=this.$posixify(d);k=l;c(c(f=d["$nil_or_empty?"]())?f:this["$is_web_root?"](b))||(b=c(d["$end_with?"](a.const_get_relative(r,"SLASH")))?""+d+b:""+d+a.const_get_relative(r,"SLASH")+b,c(k=a.const_get_relative(r,"Helpers").$uri_prefix(b))&&(b=b["$[]"](a.Range.$new(k.$length(),-1,!1))));g=this.$partition_path(b,!0);f=a.to_ary(g);m=null==f[0]?l:f[0];p=null==f[1]?l:f[1];g;q=[];e(m,"each",[],(h=function(b){var d;
null==b&&(b=l);return b["$=="](a.const_get_relative(r,"DOT_DOT"))?c(q["$empty?"]())?c(c(d=p)?p["$!="](a.const_get_relative(r,"DOT_SLASH")):d)?l:q["$<<"](b):q["$[]"](-1)["$=="](a.const_get_relative(r,"DOT_DOT"))?q["$<<"](b):q.$pop():q["$<<"](b)},h.$$s=this,h.$$arity=1,h));c((n=this.$join_path(q,p))["$include?"](" "))&&(n=n.$gsub(" ","%20"));return c(k)?""+k+n:n},V.$$arity=-2);return(a.defn(d,"$relative_path",K=function(d,e){var f,g=l;return c(c(f=this["$is_root?"](d))?this["$is_root?"](e):f)?(g=c(e["$end_with?"](this.file_separator))?
e.$length():b(e.$length(),1),d["$[]"](a.Range.$new(g,-1,!1))):d},K.$$arity=2),l)&&"relative_path"})(t[0],null,t)}(p[0],p)};Opal.modules["asciidoctor/reader"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===
typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var g=[],c=a.nil,n=a.module,f=a.klass,e=a.truthy,d=a.hash2,u=a.range,t=a.send,k=a.gvars,v=a.hash;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $- $unshift_all $has_more_lines? $shift $* $read_lines $unshift $advance $eof? $start_with? $match? $push $read_lines_until $size $clear $[]= $new $line_info $to_i $fetch $attributes $< $catalog $key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $=~ $preprocess_conditional_directive $preprocess_include_directive $strip $pop_include $downcase $warn $none? $any? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $/ $concat $to_a $uniq $sort $slice $length $open $each_line $infinite? $push_include $delete $value? $force_encoding $rindex $delete_at $keys $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(g,B){var D=[n(g,"Asciidoctor")].concat(B);(function(g,$super,k){function q(){}g=q=f(g,$super,"Reader",q);var n=g.$$proto,x=[g].concat(k),w,v,B,D,V,K,G,T,ba,Q,L,aa,U,ea,da,H,Y,ha,ka,na,la,Aa,oa,ra,qa,ma,ja,ta,fa,ya;n.file=n.dir=n.lines=n.process_lines=n.look_ahead=n.eof=n.unescape_next_line=n.lineno=n.path=n.source_lines=c;(function(b,$super,d){function e(){}b=e=f(b,$super,"Cursor",e);[b].concat(d);var g,h;b.$attr_accessor("file");b.$attr_accessor("dir");b.$attr_accessor("path");b.$attr_accessor("lineno");
a.defn(b,"$initialize",g=function(a,b,d,e){null==b&&(b=c);null==d&&(d=c);null==e&&(e=c);this.file=a;this.dir=b;this.path=d;return this.lineno=e},g.$$arity=-2);a.defn(b,"$line_info",h=function(){return""+this.$path()+": line "+this.$lineno()},h.$$arity=0);return a.alias(b,"to_s","line_info")})(x[0],null,x);g.$attr_reader("file");g.$attr_reader("dir");g.$attr_reader("path");g.$attr_reader("lineno");g.$attr_reader("source_lines");g.$attr_accessor("process_lines");a.defn(g,"$initialize",w=function(b,
f,g){var h;null==b&&(b=c);null==f&&(f=c);null==g&&(g=d([],{}));e(f["$!"]())?(this.file=this.dir=c,this.path="<stdin>",this.lineno=1):e(a.const_get_qualified("::","String")["$==="](f))?(this.file=f,f=a.const_get_qualified("::","File").$split(this.file),h=a.to_ary(f),this.dir=null==h[0]?c:h[0],this.path=null==h[1]?c:h[1],f,this.lineno=1):(this.file=f.$file(),this.dir=f.$dir(),this.path=e(h=f.$path())?h:"<stdin>",e(this.file)&&(e(this.dir)||(this.dir=a.const_get_qualified("::","File").$dirname(this.file),
this.dir["$=="](".")&&(this.dir=c)),e(f.$path())||(this.path=a.const_get_qualified("::","File").$basename(this.file))),this.lineno=e(h=f.$lineno())?h:1);this.lines=e(b)?this.$prepare_lines(b,g):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=!1},w.$$arity=-1);a.defn(g,"$prepare_lines",v=function(b,c){null==c&&(c=d([],{}));return e(a.const_get_qualified("::","String")["$==="](b))?e(c["$[]"]("normalize"))?
a.const_get_relative(x,"Helpers").$normalize_lines_from_string(b):b.$split(a.const_get_relative(x,"EOL"),-1):e(c["$[]"]("normalize"))?a.const_get_relative(x,"Helpers").$normalize_lines_array(b):b.$dup()},v.$$arity=-2);a.defn(g,"$process_line",B=function(a){e(this.process_lines)&&(this.look_ahead=b(this.look_ahead,1));return a},B.$$arity=1);a.defn(g,"$has_more_lines?",D=function(){var a;return(e(a=this.eof)?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()},D.$$arity=0);a.defn(g,"$next_line_empty?",
V=function(){return this.$peek_line()["$nil_or_empty?"]()},V.$$arity=0);a.defn(g,"$peek_line",K=function(a){var b,d=c;null==a&&(a=!1);return e(e(b=a)?b:h(this.look_ahead,0))?e(this.unescape_next_line)?this.lines["$[]"](0)["$[]"](u(1,-1,!1)):this.lines["$[]"](0):e(e(b=this.eof)?b:this.lines["$empty?"]())?(this.eof=!0,this.look_ahead=0,c):e((d=this.$process_line(this.lines["$[]"](0)))["$!"]())?this.$peek_line():d},K.$$arity=-1);a.defn(g,"$peek_lines",G=function(b,d){var f,g=this,h=c,k=c;null==b&&(b=
1);null==d&&(d=!0);h=g.look_ahead;k=[];(function(){var h=a.new_brk();try{return t(b,"times",[],(f=function(){var b=f.$$s||this,g=c;null==b.lineno&&(b.lineno=c);if(e(g=b.$read_line(d)))return k["$<<"](g);e(d)&&(b.lineno=p(b.lineno,1));a.brk(c,h)},f.$$s=g,f.$$brk=h,f.$$arity=0,f))}catch(m){if(m===h)return m.$v;throw m;}})();e(k["$empty?"]())||(g.$unshift_all(k),e(d)&&(g.look_ahead=h));return k},G.$$arity=-1);a.defn(g,"$read_line",T=function(a){var b,d;null==a&&(a=!1);return e(e(b=e(d=a)?d:h(this.look_ahead,
0))?b:this["$has_more_lines?"]())?this.$shift():c},T.$$arity=-1);a.defn(g,"$read_lines",ba=function(){for(var a=c,a=[];e(this["$has_more_lines?"]());)a["$<<"](this.$shift());return a},ba.$$arity=0);a.alias(g,"readlines","read_lines");a.defn(g,"$read",Q=function(){return l(this.$read_lines(),a.const_get_relative(x,"EOL"))},Q.$$arity=0);a.defn(g,"$advance",L=function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()},L.$$arity=-1);a.defn(g,"$unshift_line",aa=function(a){this.$unshift(a);
return c},aa.$$arity=1);a.alias(g,"restore_line","unshift_line");a.defn(g,"$unshift_lines",U=function(a){this.$unshift_all(a);return c},U.$$arity=1);a.alias(g,"restore_lines","unshift_lines");a.defn(g,"$replace_next_line",ea=function(a){this.$advance();this.$unshift(a);return c},ea.$$arity=1);a.alias(g,"replace_line","replace_next_line");a.defn(g,"$skip_blank_lines",da=function(){var a=c,d=c;if(e(this["$eof?"]()))return 0;for(a=0;e(d=this.$peek_line());)if(e(d["$empty?"]()))this.$advance(),a=b(a,
1);else break;return a},da.$$arity=0);a.defn(g,"$skip_comment_lines",H=function(b){var f,g=c,h=c,k=c,m=c;null==b&&(b=d([],{}));if(e(this["$eof?"]()))return[];g=[];for(h=b["$[]"]("include_blank_lines");e(k=this.$peek_line());)if(e(e(f=h)?k["$empty?"]():f))g["$<<"](this.$shift());else if(e(e(f=m=k["$start_with?"]("//"))?a.const_get_relative(x,"CommentBlockRx")["$match?"](k):f))g["$<<"](this.$shift()),t(g,"push",a.to_a(this.$read_lines_until(d(["terminator","read_last_line","skip_processing"],{terminator:k,
read_last_line:!0,skip_processing:!0}))));else if(e(e(f=m)?a.const_get_relative(x,"CommentLineRx")["$match?"](k):f))g["$<<"](this.$shift());else break;return g},H.$$arity=-1);a.defn(g,"$skip_line_comments",Y=function(){var b=c,d=c;if(e(this["$eof?"]()))return[];for(b=[];e(d=this.$peek_line());)if(e(a.const_get_relative(x,"CommentLineRx")["$match?"](d)))b["$<<"](this.$shift());else break;return b},Y.$$arity=0);a.defn(g,"$terminate",ha=function(){this.lineno=b(this.lineno,this.lines.$size());this.lines.$clear();
this.eof=!0;this.look_ahead=0;return c},ha.$$arity=0);a.defn(g,"$eof?",ka=function(){return this["$has_more_lines?"]()["$!"]()},ka.$$arity=0);a.alias(g,"empty?","eof?");a.defn(g,"$read_lines_until",na=function(b){var f,g,h,k,m=na.$$p,l=m||c,r=c,q=c,n=c,z=c,u=c,w=c,v=c,A=c,G=c,C=c,E=c;null==b&&(b=d([],{}));m&&(na.$$p=null);r=[];e(b["$[]"]("skip_first_line"))&&this.$advance();e(e(f=this.process_lines)?b["$[]"]("skip_processing"):f)?(this.process_lines=!1,q=!0):q=!1;e(n=b["$[]"]("terminator"))?u=z=!1:
(z=b["$[]"]("break_on_blank_lines"),u=b["$[]"]("break_on_list_continuation"));w=b["$[]"]("skip_line_comments");for(G=A=v=!1;e(e(g=G["$!"]())?C=this.$read_line():g);)G=function(){for(;e(!0);)return e(e(h=n)?C["$=="](n):h)||e(e(h=z)?C["$empty?"]():h)?!0:e(e(h=e(k=u)?v:k)?C["$=="](a.const_get_relative(x,"LIST_CONTINUATION")):h)?(E=["preserve_last_line",!0],t(b,"[]=",a.to_a(E)),E[p(E.length,1)],!0):e((h=l!==c)?a.yield1(l,C):l!==c)?!0:!1;return c}(),e(G)?(e(b["$[]"]("read_last_line"))&&(r["$<<"](C),v=
!0),e(b["$[]"]("preserve_last_line"))&&(this.$unshift(C),A=!0)):e(e(g=e(h=w)?C["$start_with?"]("//"):h)?a.const_get_relative(x,"CommentLineRx")["$match?"](C):g)||(r["$<<"](C),v=!0);e(q)&&(this.process_lines=!0,e(e(f=A)?n["$!"]():f)&&(this.look_ahead=p(this.look_ahead,1)));return r},na.$$arity=-1);a.defn(g,"$shift",la=function(){this.lineno=b(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=p(this.look_ahead,1));return this.lines.$shift()},la.$$arity=0);a.defn(g,"$unshift",Aa=function(a){this.lineno=
p(this.lineno,1);this.look_ahead=b(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)},Aa.$$arity=1);a.defn(g,"$unshift_all",oa=function(c){this.lineno=p(this.lineno,c.$size());this.look_ahead=b(this.look_ahead,c.$size());this.eof=!1;return t(this.lines,"unshift",a.to_a(c))},oa.$$arity=1);a.defn(g,"$cursor",ra=function(){return a.const_get_relative(x,"Cursor").$new(this.file,this.dir,this.path,this.lineno)},ra.$$arity=0);a.defn(g,"$line_info",qa=function(){return""+this.path+": line "+this.lineno},
qa.$$arity=0);a.alias(g,"next_line_info","line_info");a.defn(g,"$prev_line_info",ma=function(){return""+this.path+": line "+p(this.lineno,1)},ma.$$arity=0);a.defn(g,"$lines",ja=function(){return this.lines.$dup()},ja.$$arity=0);a.defn(g,"$string",ta=function(){return l(this.lines,a.const_get_relative(x,"EOL"))},ta.$$arity=0);a.defn(g,"$source",fa=function(){return l(this.source_lines,a.const_get_relative(x,"EOL"))},fa.$$arity=0);return(a.defn(g,"$to_s",ya=function(){return this.$line_info()},ya.$$arity=
0),c)&&"to_s"})(D[0],null,D);(function(g,$super,n){function x(){}g=x=f(g,$super,"PreprocessorReader",x);var C=g.$$proto,B=[g].concat(n),D,X,P,Z,V,K,G,T,ba,Q,L,aa,U,da,ia;C.document=C.lineno=C.process_lines=C.look_ahead=C.skipping=C.include_stack=C.conditional_stack=C.path=C.include_processor_extensions=C.maxdepth=C.dir=C.lines=C.file=C.includes=C.unescape_next_line=c;g.$attr_reader("include_stack");g.$attr_reader("includes");a.defn(g,"$initialize",D=function(b,f,g,h){var k=D.$$p,m=c;null==f&&(f=c);
null==g&&(g=c);null==h&&(h=d([],{}));k&&(D.$$p=null);this.document=b;t(this,a.find_super_dispatcher(this,"initialize",D,!1),[f,g,h],null);m=b.$attributes().$fetch("max-include-depth",64).$to_i();e("number"===typeof m?0>m:m["$<"](0))&&(m=0);this.maxdepth=d(["abs","rel"],{abs:m,rel:m});this.include_stack=[];this.includes=b.$catalog()["$[]"]("includes");this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=c},D.$$arity=-2);a.defn(g,"$prepare_lines",X=function(f,g){var h,
k,q=X.$$p,r=c,n=c,x=c,u=c,w=c,v=x=r=c;null==g&&(g=d([],{}));q&&(X.$$p=null);x=0;v=arguments.length;for(r=Array(v);x<v;x++)r[x]=arguments[x];r=t(this,a.find_super_dispatcher(this,"prepare_lines",X,!1),r,q);e(e(h=this.document)?this.document.$attributes()["$key?"]("skip-front-matter"):h)&&e(n=this["$skip_front_matter!"](r))&&(x=["front-matter",l(n,a.const_get_relative(B,"EOL"))],t(this.document.$attributes(),"[]=",a.to_a(x)),x[p(x.length,1)]);if(e(g.$fetch("condense",!0))){for(;e(e(k=u=r["$[]"](0))?
u["$empty?"]():k);)e(k=r.$shift())?this.lineno=b(this.lineno,1):k;for(;e(e(k=w=r["$[]"](-1))?w["$empty?"]():k);)r.$pop()}if(e(g["$[]"]("indent")))a.const_get_relative(B,"Parser")["$adjust_indentation!"](r,g["$[]"]("indent"),this.document.$attr("tabsize"));return r},X.$$arity=-2);a.defn(g,"$process_line",P=function(d){var f,g;if(!e(this.process_lines))return d;if(e(d["$empty?"]()))return this.look_ahead=b(this.look_ahead,1),"";if(e(e(f=e(g=d["$end_with?"]("]"))?d["$start_with?"]("[")["$!"]():g)?d["$include?"]("::"):
f)){if(e(e(f=d["$include?"]("if"))?a.const_get_relative(B,"ConditionalDirectiveRx")["$=~"](d):f)){if(((f=k["~"])===c?c:f["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),d["$[]"](u(1,-1,!1));if(e(this.$preprocess_conditional_directive((f=k["~"])===c?c:f["$[]"](2),(f=k["~"])===c?c:f["$[]"](3),(f=k["~"])===c?c:f["$[]"](4),(f=k["~"])===c?c:f["$[]"](5))))return this.$advance(),c;this.look_ahead=b(this.look_ahead,1);return d}if(e(this.skipping))return this.$advance(),
c;if(e(e(f=d["$start_with?"]("inc","\\inc"))?a.const_get_relative(B,"IncludeDirectiveRx")["$=~"](d):f)){if(((f=k["~"])===c?c:f["$[]"](1))["$=="]("\\"))return this.unescape_next_line=!0,this.look_ahead=b(this.look_ahead,1),d["$[]"](u(1,-1,!1));if(e(this.$preprocess_include_directive((f=k["~"])===c?c:f["$[]"](2),((f=k["~"])===c?c:f["$[]"](3)).$strip())))return c;this.look_ahead=b(this.look_ahead,1);return d}this.look_ahead=b(this.look_ahead,1);return d}if(e(this.skipping))return this.$advance(),c;this.look_ahead=
b(this.look_ahead,1);return d},P.$$arity=1);a.defn(g,"$peek_line",Z=function(b){var d=Z.$$p,f=c,g=f=c,h=c;null==b&&(b=!1);d&&(Z.$$p=null);g=0;h=arguments.length;for(f=Array(h);g<h;g++)f[g]=arguments[g];if(e(f=t(this,a.find_super_dispatcher(this,"peek_line",Z,!1),f,d)))return f;if(e(this.include_stack["$empty?"]()))return c;this.$pop_include();return this.$peek_line(b)},Z.$$arity=-1);a.defn(g,"$preprocess_conditional_directive",V=function(b,f,g,m){var l,q,r,n,x,u,w,v=c,A=v=v=c,G=A=v=c;if(e(e(l=e(q=
e(r=b["$=="]("ifdef"))?r:b["$=="]("ifndef"))?f["$empty?"]():q)?l:(q=b["$=="]("endif"))?m:b["$=="]("endif")))return!1;f=f.$downcase();if(b["$=="]("endif"))return v=this.conditional_stack.$size(),e(h(v,0))?(v=this.conditional_stack["$[]"](-1),e(e(l=f["$empty?"]())?l:f["$=="](v["$[]"]("target")))?(this.conditional_stack.$pop(),this.skipping=e(this.conditional_stack["$empty?"]())?!1:this.conditional_stack["$[]"](-1)["$[]"]("skipping")):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+
f+"[], expected endif::"+v["$[]"]("target")+"[]")):this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+f+"[]"),!0;v=!1;if(!e(this.skipping))if(A=b,"ifdef"["$==="](A))A=g,c["$==="](A)?v=this.document.$attributes()["$key?"](f)["$!"]():","["$==="](A)?v=t(f.$split(","),"none?",[],(n=function(a){var b=n.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)},n.$$s=this,n.$$arity=1,n)):"+"["$==="](A)&&(v=t(f.$split("+"),"any?",
[],(x=function(a){var b=x.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)["$!"]()},x.$$s=this,x.$$arity=1,x)));else if("ifndef"["$==="](A))A=g,c["$==="](A)?v=this.document.$attributes()["$key?"](f):","["$==="](A)?v=t(f.$split(","),"none?",[],(u=function(a){var b=u.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)["$!"]()},u.$$s=this,u.$$arity=1,u)):"+"["$==="](A)&&(v=t(f.$split("+"),"any?",[],
(w=function(a){var b=w.$$s||this;null==b.document&&(b.document=c);null==a&&(a=c);return b.document.$attributes()["$key?"](a)},w.$$s=this,w.$$arity=1,w)));else if("ifeval"["$==="](A)){if(!e(e(l=f["$empty?"]())?a.const_get_relative(B,"EvalExpressionRx")["$=~"](m.$strip()):l))return!1;l=[(q=k["~"])===c?c:q["$[]"](1),(q=k["~"])===c?c:q["$[]"](2),(q=k["~"])===c?c:q["$[]"](3)];v=l[0];A=l[1];G=l[2];l;v=this.$resolve_expr_val(v);G=this.$resolve_expr_val(G);v=A["$=="]("!=")?v.$send("==",G):v.$send(A.$to_sym(),
G)["$!"]()}e(e(l=b["$=="]("ifeval"))?l:m["$!"]())?(e(v)&&(this.skipping=!0),this.conditional_stack["$<<"](d(["target","skip","skipping"],{target:f,skip:v,skipping:this.skipping}))):e(e(l=this.skipping)?l:v)||(this.$replace_next_line(m.$rstrip()),this.$unshift(""),e(m["$start_with?"]("include::"))&&(this.look_ahead=p(this.look_ahead,1)));return!0},V.$$arity=4);a.defn(g,"$preprocess_include_directive",K=function(f,g){var r,n,x,u,A,G,C,E,D=this,K=c,V=c,T=c,Z=c,L=c,N=T=c,P=c,X=c,U=c,ba=c,aa=c,Q=c,S=c,
pa=c,z=c,va=c,ca=c,O=c,xa=c,I=c,K=e(f["$include?"]("{"))?D.document.$sub_attributes(f,d(["attribute_missing"],{attribute_missing:"drop-line"})):f;if(e(K["$empty?"]()))return D.$advance(),D.document.$attributes().$fetch("attribute-missing",a.const_get_relative(B,"Compliance").$attribute_missing())["$=="]("skip")&&D.$unshift("Unresolved directive in "+D.path+" - include::"+f+"["+g+"]"),!0;if(e(e(r=D["$include_processors?"]())?V=t(D.include_processor_extensions,"find",[],(n=function(a){null==a&&(a=c);
return a.$instance()["$handles?"](K)},n.$$s=D,n.$$arity=1,n)):r))return D.$advance(),V.$process_method()["$[]"](D.document,D,K,a.const_get_relative(B,"AttributeList").$new(g).$parse()),!0;if(e(q(D.document.$safe(),a.const_get_qualified(a.const_get_relative(B,"SafeMode"),"SECURE"))))return D.$replace_next_line("link:"+K+"[]"),!0;if(e(h(T=D.maxdepth["$[]"]("abs"),0))){if(e(q(D.include_stack.$size(),T)))return D.$warn("asciidoctor: ERROR: "+D.$line_info()+": maximum include depth of "+D.maxdepth["$[]"]("rel")+
" exceeded"),!1;if(e(e(r=a.const_get_qualified("::","RUBY_ENGINE_OPAL"))?a.const_get_qualified("::","JAVASCRIPT_IO_MODULE")["$=="]("xmlhttprequest"):r))Z="file",L=T=e(D.include_stack["$empty?"]())?a.const_get_qualified("::","Dir").$pwd()["$=="](D.document.$base_dir())?K:a.const_get_qualified("::","File").$join(D.dir,K):a.const_get_qualified("::","File").$join(D.dir,K);else if(e(a.const_get_relative(B,"Helpers")["$uriish?"](K))){if(!e(D.document.$attributes()["$key?"]("allow-uri-read")))return D.$replace_next_line("link:"+
K+"[]"),!0;Z="uri";L=T=K;e(D.document.$attributes()["$key?"]("cache-uri"))?e((x=a.const_get_qualified("::","OpenURI","skip_raise"))&&(r=a.const_get_qualified(x,"Cache","skip_raise"))?"constant":c)||a.const_get_relative(B,"Helpers").$require_library("open-uri/cached","open-uri-cached"):e(a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())&&a.const_get_qualified("::","OpenURI")}else{Z="file";L=D.document.$normalize_system_path(K,D.dir,c,d(["target_name"],{target_name:"include file"}));if(!e(a.const_get_qualified("::",
"File")["$file?"](L)))return D.$warn("asciidoctor: WARNING: "+D.$line_info()+": include file not found: "+L),D.$replace_next_line("Unresolved directive in "+D.path+" - include::"+K+"["+g+"]"),!0;T=a.const_get_relative(B,"PathResolver").$new().$relative_path(L,D.document.$base_dir())}r=[c,c,d([],{})];N=r[0];P=r[1];X=r[2];r;e(g["$empty?"]())||(X=a.const_get_relative(B,"AttributeList").$new(g).$parse(),e(X["$key?"]("lines"))?(N=[],t(X["$[]"]("lines").$split(a.const_get_relative(B,"DataDelimiterRx")),
"each",[],(u=function(b){var d=u.$$s||this,f,g=c,h=c;null==b&&(b=c);return e(b["$include?"](".."))?(b=t(b.$split("..",2),"map",[],(f=function(a){null==a&&(a=c);return a.$to_i()},f.$$s=d,f.$$arity=1,f)),f=a.to_ary(b),g=null==f[0]?c:f[0],h=null==f[1]?c:f[1],b,h["$=="](-1)?(N["$<<"](g),N["$<<"](1/0)):N.$concat(a.const_get_qualified("::","Range").$new(g,h).$to_a())):N["$<<"](b.$to_i())},u.$$s=D,u.$$arity=1,u)),N=e(N["$empty?"]())?c:N.$sort().$uniq()):e(X["$key?"]("tag"))?e((U=X["$[]"]("tag"))["$empty?"]())||
(e(U["$start_with?"]("!"))?U["$=="]("!")||(P=v(U.$slice(1,U.$length()),!1)):P=v(U,!0)):e(X["$key?"]("tags"))&&(P=d([],{}),t(X["$[]"]("tags").$split(a.const_get_relative(B,"DataDelimiterRx")),"each",[],(A=function(b){var d=c;null==b&&(b=c);if(e(b["$empty?"]()))return c;if(e(b["$start_with?"]("!"))){if(b["$=="]("!"))return c;d=[b.$slice(1,b.$length()),!1];t(P,"[]=",a.to_a(d));return d[p(d.length,1)]}d=[b,!0];t(P,"[]=",a.to_a(d));return d[p(d.length,1)]},A.$$s=D,A.$$arity=1,A)),e(P["$empty?"]())&&(P=
c)));if(e(N)){r=[[],c,0];ba=r[0];aa=r[1];Q=r[2];r;try{(function(){var d=a.new_brk();try{return t(D,"open",[L,"r"],(G=function(d){var f=G.$$s||this,g;null==d&&(d=c);return function(){var h=a.new_brk();try{return t(d,"each_line",[],(g=function(d){var f,g=c;null==d&&(d=c);Q=b(Q,1);g=N["$[]"](0);if(e(e(f=a.const_get_qualified("::","Float")["$==="](g))?g["$infinite?"]():f))return aa=e(f=aa)?f:Q,ba["$<<"](d);Q["$=="](g)&&(aa=e(f=aa)?f:Q,ba["$<<"](d),N.$shift());if(e(N["$empty?"]()))a.brk(c,h);else return c},
g.$$s=f,g.$$brk=h,g.$$arity=1,g))}catch(k){if(k===h)return k.$v;throw k;}}()},G.$$s=D,G.$$brk=d,G.$$arity=1,G))}catch(f){if(f===d)return f.$v;throw f;}})()}catch(M){if(a.rescue(M,[a.const_get_relative(B,"StandardError")]))try{return D.$warn("asciidoctor: WARNING: "+D.$line_info()+": include "+Z+" not readable: "+L),D.$replace_next_line("Unresolved directive in "+D.path+" - include::"+K+"["+g+"]"),!0}finally{a.pop_exception()}else throw M;}D.$advance();e(aa)&&D.$push_include(ba,L,T,aa,X)}else if(e(P)){r=
[[],c,0,[],a.const_get_qualified("::","Set").$new(),c];ba=r[0];aa=r[1];Q=r[2];S=r[3];pa=r[4];z=r[5];r;e(P["$key?"]("**"))?e(P["$key?"]("*"))?(va=ca=P.$delete("**"),O=P.$delete("*")):va=ca=O=P.$delete("**"):(va=ca=P["$value?"](!0)["$!"](),O=e(P["$key?"]("*"))?P.$delete("*"):c);try{t(D,"open",[L,"r"],(C=function(d){var f=C.$$s||this,g;null==d&&(d=c);return t(d,"each_line",[],(g=function(d){var f=g.$$s||this,h,l,p,r=c,q=c;null==d&&(d=c);Q=b(Q,1);e(a.const_get_relative(B,"FORCE_ENCODING"))&&d.$force_encoding(a.const_get_qualified(a.const_get_qualified("::",
"Encoding"),"UTF_8"));return e(e(h=(d=d.$rstrip())["$end_with?"]("[]","[] --\x3e"))?a.const_get_relative(B,"TagDirectiveRx")["$=~"](d):h)?e((h=k["~"])===c?c:h["$[]"](1))?(r=(h=k["~"])===c?c:h["$[]"](2))["$=="](z)?(S.$pop(),l=e(S["$empty?"]())?[c,ca]:S["$[]"](-1),h=a.to_ary(l),z=null==h[0]?c:h[0],va=null==h[1]?c:h[1],l):e(P["$key?"](r))?e(q=t(S,"rindex",[],(p=function(a,b){null==a&&(a=c);return a["$=="](r)},p.$$s=f,p.$$arity=2,p)))?(q["$=="](0)?S.$shift():S.$delete_at(q),f.$warn("asciidoctor: WARNING: "+
K+": line "+Q+": mismatched end tag in include: expected "+z+", found "+r)):f.$warn("asciidoctor: WARNING: "+K+": line "+Q+": unexpected end tag in include: "+r):c:e(P["$key?"](r=(h=k["~"])===c?c:h["$[]"](2)))?(pa["$<<"](r),S["$<<"]([z=r,va=P["$[]"](r)])):e(O["$nil?"]()["$!"]())?(va=e(e(h=z)?va["$!"]():h)?!1:O,S["$<<"]([z=r,va])):c:e(va)?(aa=e(h=aa)?h:Q,ba["$<<"](d)):c},g.$$s=f,g.$$arity=1,g))},C.$$s=D,C.$$arity=1,C))}catch(M){if(a.rescue(M,[a.const_get_relative(B,"StandardError")]))try{return D.$warn("asciidoctor: WARNING: "+
D.$line_info()+": include "+Z+" not readable: "+L),D.$replace_next_line("Unresolved directive in "+D.path+" - include::"+K+"["+g+"]"),!0}finally{a.pop_exception()}else throw M;}e((xa=p(P.$keys().$to_a(),pa.$to_a()))["$empty?"]())||D.$warn("asciidoctor: WARNING: "+D.$line_info()+": tag"+(e(h(xa.$size(),1))?"s":c)+" '"+l(xa,",")+"' not found in include "+Z+": "+L);D.$advance();e(aa)&&D.$push_include(ba,L,T,aa,X)}else try{I=function(){return Z["$=="]("file")?a.const_get_qualified("::","IO").$read(L):
t(D,"open",[L,"r"],(E=function(a){null==a&&(a=c);return a.$read()},E.$$s=D,E.$$arity=1,E))}(),D.$advance(),D.$push_include(I,L,T,1,X)}catch(M){if(a.rescue(M,[a.const_get_relative(B,"StandardError")]))try{D.$warn("asciidoctor: WARNING: "+D.$line_info()+": include "+Z+" not readable: "+L),D.$replace_next_line("Unresolved directive in "+D.path+" - include::"+K+"["+g+"]")}finally{a.pop_exception()}else throw M;}return!0}return!1},K.$$arity=2);a.defn(g,"$push_include",G=function(f,g,h,k,l){var r=c,r=c;
null==g&&(g=c);null==h&&(h=c);null==k&&(k=1);null==l&&(l=d([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,this.process_lines]);e(g)?(this.file=g,this.dir=a.const_get_relative(B,"File").$dirname(g),this.process_lines=a.const_get_relative(B,"ASCIIDOC_EXTENSIONS")["$[]"](a.const_get_qualified("::","File").$extname(g))):(this.file=c,this.dir=".",this.process_lines=!0);e(h)?(this.includes["$<<"](a.const_get_relative(B,"Helpers").$rootname(h)),this.path=
h):this.path="<stdin>";this.lineno=k;e(l["$key?"]("depth"))&&(r=l["$[]"]("depth").$to_i(),e("number"===typeof r?0>=r:r["$<="](0))&&(r=1),this.maxdepth=d(["abs","rel"],{abs:b(p(this.include_stack.$size(),1),r),rel:r}));if(e((this.lines=this.$prepare_lines(f,d(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:l["$[]"]("indent")})))["$empty?"]()))this.$pop_include();else{if(e(l["$key?"]("leveloffset"))){this.lines.$unshift("");this.lines.$unshift(":leveloffset: "+l["$[]"]("leveloffset"));
this.lines["$<<"]("");if(e(r=this.document.$attr("leveloffset")))this.lines["$<<"](":leveloffset: "+r);else this.lines["$<<"](":leveloffset!:");this.lineno=p(this.lineno,2)}this.eof=!1;this.look_ahead=0}return this},G.$$arity=-2);a.defn(g,"$pop_include",T=function(){var b,d;e(h(this.include_stack.$size(),0))&&(d=this.include_stack.$pop(),b=a.to_ary(d),this.lines=null==b[0]?c:b[0],this.file=null==b[1]?c:b[1],this.dir=null==b[2]?c:b[2],this.path=null==b[3]?c:b[3],this.lineno=null==b[4]?c:b[4],this.maxdepth=
null==b[5]?c:b[5],this.process_lines=null==b[6]?c:b[6],d,this.eof=this.lines["$empty?"](),this.look_ahead=0);return c},T.$$arity=0);a.defn(g,"$include_depth",ba=function(){return this.include_stack.$size()},ba.$$arity=0);a.defn(g,"$exceeded_max_depth?",Q=function(){var a,b=c;return e(e(a=h(b=this.maxdepth["$[]"]("abs"),0))?q(this.include_stack.$size(),b):a)?this.maxdepth["$[]"]("rel"):!1},Q.$$arity=0);a.defn(g,"$shift",L=function(){var b=L.$$p,d=c,f=c,g=c;b&&(L.$$p=null);f=0;g=arguments.length;for(d=
Array(g);f<g;f++)d[f]=arguments[f];return e(this.unescape_next_line)?(this.unescape_next_line=!1,t(this,a.find_super_dispatcher(this,"shift",L,!1),d,b)["$[]"](u(1,-1,!1))):t(this,a.find_super_dispatcher(this,"shift",L,!1),d,b)},L.$$arity=0);a.defn(g,"$skip_front_matter!",aa=function(d,f){var g,h=c,k=c;null==f&&(f=!0);h=c;if(d["$[]"](0)["$=="]("---")){k=d.$dup();h=[];d.$shift();e(f)&&(this.lineno=b(this.lineno,1));for(;e(e(g=d["$empty?"]()["$!"]())?d["$[]"](0)["$!="]("---"):g);)h["$<<"](d.$shift()),
e(f)&&(this.lineno=b(this.lineno,1));e(d["$empty?"]())?(t(d,"unshift",a.to_a(k)),e(f)&&(this.lineno=0),h=c):(d.$shift(),e(f)&&(this.lineno=b(this.lineno,1)))}return h},aa.$$arity=-2);a.defn(g,"$resolve_expr_val",U=function(a){var b,f,g=c;e(e(b=e(f=a["$start_with?"]('"'))?a["$end_with?"]('"'):f)?b:e(f=a["$start_with?"]("'"))?a["$end_with?"]("'"):f)?(g=!0,a=a["$[]"](u(1,-1,!0))):g=!1;e(a["$include?"]("{"))&&(a=this.document.$sub_attributes(a,d(["attribute_missing"],{attribute_missing:"drop"})));return e(g)?
a:e(a["$empty?"]())?c:a["$=="]("true")?!0:a["$=="]("false")?!1:e(a.$rstrip()["$empty?"]())?" ":e(a["$include?"]("."))?a.$to_f():a.$to_i()},U.$$arity=1);a.defn(g,"$include_processors?",da=function(){var a;return e(this.include_processor_extensions["$nil?"]())?e(e(a=this.document["$extensions?"]())?this.document.$extensions()["$include_processors?"]():a)?(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]():this.include_processor_extensions=!1:this.include_processor_extensions["$!="](!1)},
da.$$arity=0);return(a.defn(g,"$to_s",ia=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+t(this.include_stack,"map",[],(a=function(a){null==a&&(a=c);return a.$to_s()},a.$$s=this,a.$$arity=1,a)).$join(", ")+"]}>"},ia.$$arity=0),c)&&"to_s"})(D[0],a.const_get_relative(D,"Reader"),D)}(g[0],g)};Opal.modules["asciidoctor/section"]=function(a){function b(a,c){return"number"===
typeof a&&"number"===typeof c?a+c:a["$+"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}var p=[],l=a.nil,q=a.module,g=a.klass,c=a.send,n=a.truthy,f=a.hash2,e=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $generate_id $title $sectnum $enumerate_section $!= $class $object_id $inspect $size $attributes $[] $gsub $downcase $empty? $tr_s $end_with? $chop $start_with? $key? $catalog $unique_id_start_index".split(" "));return function(d,p){var t=
[q(d,"Asciidoctor")].concat(p);(function(d,$super,p){function q(){}d=q=g(d,$super,"Section",q);var t=d.$$proto,r=[d].concat(p),u,w,v,y,B,D;t.level=t.document=t.parent=t.number=t.title=t.numbered=t.blocks=l;d.$attr_accessor("index");d.$attr_accessor("sectname");d.$attr_accessor("special");d.$attr_accessor("numbered");a.defn(d,"$initialize",u=function(d,e,g,k){var p,r,q=u.$$p;null==d&&(d=l);null==e&&(e=l);null==g&&(g=!0);null==k&&(k=f([],{}));q&&(u.$$p=null);c(this,a.find_super_dispatcher(this,"initialize",
u,!1),[d,"section",k],null);this.level=n(e)?e:n(d)?b(d.$level(),1):1;this.numbered=n(p=g)?h(this.level,0):p;this.special=n(p=n(r=d)?d.$context()["$=="]("section"):r)?d.$special():p;this.index=0;return this.number=1},u.$$arity=-1);a.alias(d,"name","title");a.defn(d,"$generate_id",w=function(){return a.const_get_relative(r,"Section").$generate_id(this.$title(),this.document)},w.$$arity=0);a.defn(d,"$sectnum",v=function(a,b){var c,d,e;null==a&&(a=".");null==b&&(b=l);b=n(c=b)?c:b["$=="](!1)?"":a;return n(n(c=
n(d=n(e=this.level)?h(this.level,1):e)?this.parent:d)?this.parent.$context()["$=="]("section"):c)?""+this.parent.$sectnum(a)+this.number+b:""+this.number+b},v.$$arity=-1);a.defn(d,"$<<",y=function(b){var d=y.$$p,e=l,f=l,g=l;d&&(y.$$p=null);f=0;g=arguments.length;for(e=Array(g);f<g;f++)e[f]=arguments[f];b.$context()["$=="]("section")&&this.$enumerate_section(b);return c(this,a.find_super_dispatcher(this,"<<",y,!1),e,d)},y.$$arity=1);a.defn(d,"$to_s",B=function(){var b=B.$$p,d=l,e=d=l,f=l;b&&(B.$$p=
null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return n(this.title["$!="](l))?(d=n(this.numbered)?""+this.$sectnum()+" "+this.title:this.title,"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+d.$inspect()+", blocks: "+this.blocks.$size()+"}>"):c(this,a.find_super_dispatcher(this,"to_s",B,!1),d,b)},B.$$arity=0);return a.defs(d,"$generate_id",D=function(c,d){var f,g=l,h=l,k=l,p=k=g=l,q=l,g=d.$attributes(),h=n(f=g["$[]"]("idseparator"))?f:"_",k=n(f=g["$[]"]("idprefix"))?
f:"_",g=""+k+c.$downcase().$gsub(a.const_get_relative(r,"InvalidSectionIdCharsRx"),h);if(!n(h["$empty?"]())&&(g=g.$tr_s(h,h),n(g["$end_with?"](h))&&(g=g.$chop()),n(k["$empty?"]())))for(;n(g["$start_with?"](h));)g=g["$[]"](e(1,-1,!1));if(n(d.$catalog()["$[]"]("ids")["$key?"](g))){f=[d.$catalog()["$[]"]("ids"),a.const_get_relative(r,"Compliance").$unique_id_start_index()];k=f[0];p=f[1];for(f;n(k["$key?"](q=""+g+h+p));)p=b(p,1);return q}return g},D.$$arity=2)})(t[0],a.const_get_relative(t,"AbstractBlock"),
t)}(p[0],p)};Opal.modules["asciidoctor/stylesheets"]=function(a){var b=[],h=a.nil,p=a.module,l=a.klass,q=a.truthy,g=a.hash2,c=a.send;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $sub $css $[]= $- $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(b,f){var e=[p(b,"Asciidoctor")].concat(f);(function(b,$super,e){function f(){}var m=
f=l(b,$super,"Stylesheets",f);b=m.$$proto;var p=[m].concat(e),n,u,r,v,y,E,C,B,D,X,P,Z,V,K;b.primary_stylesheet_data=b.coderay_stylesheet_data=b.pygments_stylesheet_data=h;a.const_set(p[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(p[0],"DEFAULT_PYGMENTS_STYLE","default");a.const_set(p[0],"STYLESHEETS_DATA_PATH",a.const_get_qualified("::","File").$join(a.const_get_relative(p,"DATA_PATH"),"stylesheets"));m.__instance__=m.$new();a.defs(m,"$instance",n=function(){null==this.__instance__&&
(this.__instance__=h);return this.__instance__},n.$$arity=0);a.defn(m,"$primary_stylesheet_name",u=function(){return a.const_get_relative(p,"DEFAULT_STYLESHEET_NAME")},u.$$arity=0);a.defn(m,"$primary_stylesheet_data",r=function(){var b;b=a.const_get_relative([],"JAVASCRIPT_PLATFORM")["$=="]("node")?a.const_get_relative([],"File").$join(__dirname,"css"):"css";return!1!==($a=m.primary_stylesheet_data)&&$a!==h&&null!=$a?$a:m.primary_stylesheet_data=a.const_get_relative([],"IO").$read(a.const_get_relative([],
"File").$join(b,"asciidoctor.css")).$chomp()},r.$$arity=0);a.defn(m,"$embed_primary_stylesheet",v=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},v.$$arity=0);a.defn(m,"$write_primary_stylesheet",y=function(b){null==b&&(b=".");return a.const_get_qualified("::","IO").$write(a.const_get_qualified("::","File").$join(b,this.$primary_stylesheet_name()),this.$primary_stylesheet_data())},y.$$arity=-1);a.defn(m,"$coderay_stylesheet_name",E=function(){return"coderay-asciidoctor.css"},
E.$$arity=0);a.defn(m,"$coderay_stylesheet_data",C=function(){var b;return this.coderay_stylesheet_data=q(b=this.coderay_stylesheet_data)?b:a.const_get_qualified("::","IO").$read(a.const_get_qualified("::","File").$join(a.const_get_relative(p,"STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},C.$$arity=0);a.defn(m,"$embed_coderay_stylesheet",B=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},B.$$arity=0);a.defn(m,"$write_coderay_stylesheet",D=function(b){null==
b&&(b=".");return a.const_get_qualified("::","IO").$write(a.const_get_qualified("::","File").$join(b,this.$coderay_stylesheet_name()),this.$coderay_stylesheet_data())},D.$$arity=-1);a.defn(m,"$pygments_stylesheet_name",X=function(b){var c;null==b&&(b=h);return"pygments-"+(q(c=b)?c:a.const_get_relative(p,"DEFAULT_PYGMENTS_STYLE"))+".css"},X.$$arity=-1);a.defn(m,"$pygments_stylesheet_data",P=function(b){var d,e;d=h;null==b&&(b=h);return q(this.$load_pygments())?(q(d=(this.pygments_stylesheet_data=q(e=
this.pygments_stylesheet_data)?e:g([],{}))["$[]"](q(e=b)?e:a.const_get_relative(p,"DEFAULT_PYGMENTS_STYLE")))?b=d:(d=[q(e=b)?e:a.const_get_relative(p,"DEFAULT_PYGMENTS_STYLE"),a.const_get_qualified("::","Pygments").$css(".listingblock .pygments",g(["classprefix","style"],{classprefix:"tok-",style:q(e=b)?e:a.const_get_relative(p,"DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")],c(this.pygments_stylesheet_data=q(e=this.pygments_stylesheet_data)?
e:g([],{}),"[]=",a.to_a(d)),b=d,e=d.length,e="number"===typeof e?e-1:e["$-"](1),b=b[e]),b):"/* Pygments styles disabled. Pygments is not available. */"},P.$$arity=-1);a.defn(m,"$embed_pygments_stylesheet",Z=function(a){null==a&&(a=h);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},Z.$$arity=-1);a.defn(m,"$write_pygments_stylesheet",V=function(b,c){null==b&&(b=".");null==c&&(c=h);return a.const_get_qualified("::","IO").$write(a.const_get_qualified("::","File").$join(b,this.$pygments_stylesheet_name(c)),
this.$pygments_stylesheet_data(c))},V.$$arity=-1);return(a.defn(m,"$load_pygments",K=function(){return q(a.const_get_qualified("::","Pygments","skip_raise")?"constant":h)?!0:a.const_get_relative(p,"Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]()},K.$$arity=0),h)&&"load_pygments"})(e[0],null,e)}(b[0],b)};Opal.modules["asciidoctor/table"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>c:a["$>"](c)}function h(a,b){return"number"===typeof a&&
"number"===typeof b?a<b:a["$<"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var c=[],n=a.nil,f=a.module,e=a.klass,d=a.hash2,u=a.send,t=a.truthy,k=a.range;a.add_stubs("$attr_accessor $new $key? $[] $> $to_i $< $== $[]= $- $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $shift $style= $head= $pop $foot= $update_attributes $parent $attr_reader $header_row? $table $delete $! $rstrip $start_with? $slice $length $strip $split $include? $readlines $unshift $nil? $apply_subs $convert $map $text $to_s $to_set $cursor $nested? $document $warn $prev_line_info $nil_or_empty? $escape $columns $match $pre_match $post_match $chop $buffer $end_with? $gsub $push_cellspec $cell_open? $close_cell $advance $take_cellspec $line_info $squeeze $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $!= $close_row $rows $effective_column_visits".split(" "));
return function(c,x){var v=[f(c,"Asciidoctor")].concat(x);(function(c,$super,f){function k(){}c=k=e(c,$super,"Table",k);var x=c.$$proto,v=[c].concat(f),B,D,X,P,Z;x.attributes=x.document=x.has_header_option=x.rows=x.columns=n;(function(b,$super,c){function f(){}b=f=e(b,$super,"Rows",f);var g=b.$$proto;[b].concat(c);var h,k;g.head=g.foot=g.body=n;b.$attr_accessor("head","foot","body");a.defn(b,"$initialize",h=function(a,b,c){null==a&&(a=[]);null==b&&(b=[]);null==c&&(c=[]);this.head=a;this.foot=b;return this.body=
c},h.$$arity=-1);a.alias(b,"[]","send");return(a.defn(b,"$by_section",k=function(){return d(["head","foot","body"],{head:this.head,foot:this.foot,body:this.body})},k.$$arity=0),n)&&"by_section"})(v[0],null,v);c.$attr_accessor("columns");c.$attr_accessor("rows");c.$attr_accessor("has_header_option");a.defn(c,"$initialize",B=function(c,d){var e,f,g=n,k=n,x=n;B.$$p&&(B.$$p=null);u(this,a.find_super_dispatcher(this,"initialize",B,!1),[c,"table"],null);this.rows=a.const_get_relative(v,"Rows").$new();this.columns=
[];this.has_header_option=d["$key?"]("header-option");t(g=d["$[]"]("width"))?t(t(e=b(k=g.$to_i(),100))?e:h(k,1))&&!t((e=k["$=="](0))?t(f=g["$=="]("0"))?f:g["$=="]("0%"):k["$=="](0))&&(k=100):k=100;x=["tablepcwidth",k];u(this.attributes,"[]=",a.to_a(x));x[p(x.length,1)];t(this.document.$attributes()["$key?"]("pagewidth"))&&(t(e=this.attributes["$[]"]("tableabswidth"))?e:(x=["tableabswidth",l(q(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()],
u(this.attributes,"[]=",a.to_a(x)),x[p(x.length,1)]));return t(d["$key?"]("rotate-option"))?(x=["orientation","landscape"],u(d,"[]=",a.to_a(x)),x[p(x.length,1)]):n},B.$$arity=2);a.defn(c,"$header_row?",D=function(){var a;return t(a=this.has_header_option)?this.rows.$body()["$empty?"]():a},D.$$arity=0);a.defn(c,"$create_columns",X=function(b){var c,d=n,e=n,f=n,d=[],e=0;u(b,"each",[],(c=function(b){var f=c.$$s||this;null==b&&(b=n);e=g(e,b["$[]"]("width"));return d["$<<"](a.const_get_relative(v,"Column").$new(f,
d.$size(),b))},c.$$s=this,c.$$arity=1,c));t((this.columns=d)["$empty?"]())||(f=["colcount",d.$size()],u(this.attributes,"[]=",a.to_a(f)),f[p(f.length,1)],this.$assign_column_widths(e["$=="](0)?n:e));return n},X.$$arity=1);a.defn(c,"$assign_column_widths",P=function(a){var b,c,d=n,e=n,f=n;null==a&&(a=n);d=10["$**"](4);e=f=0;t(a)?u(this.columns,"each",[],(b=function(b){null==b&&(b=n);return e=g(e,f=b.$assign_width(n,a,d))},b.$$s=this,b.$$arity=1,b)):(f=q(q(l(100,d),this.columns.$size()).$to_i(),d),
f.$to_i()["$=="](f)&&(f=f.$to_i()),u(this.columns,"each",[],(c=function(a){null==a&&(a=n);return e=g(e,a.$assign_width(f))},c.$$s=this,c.$$arity=1,c)));e["$=="](100)||this.columns["$[]"](-1).$assign_width(q(l(g(p(100,e),f),d).$round(),d));return n},P.$$arity=-1);return(a.defn(c,"$partition_header_footer",Z=function(c){var d,e,f=n,g=n,h=n,f=["rowcount",this.rows.$body().$size()];u(this.attributes,"[]=",a.to_a(f));f[p(f.length,1)];g=this.rows.$body().$size();t(t(d=b(g,0))?this.has_header_option:d)&&
(h=this.rows.$body().$shift(),g=p(g,1),u(h,"each",[],(e=function(b){null==b&&(b=n);f=[n];u(b,"style=",a.to_a(f));return f[p(f.length,1)]},e.$$s=this,e.$$arity=1,e)),f=[[h]],u(this.rows,"head=",a.to_a(f)),f[p(f.length,1)]);t(t(d=b(g,0))?c["$key?"]("footer-option"):d)&&(f=[[this.rows.$body().$pop()]],u(this.rows,"foot=",a.to_a(f)),f[p(f.length,1)]);return n},Z.$$arity=1),n)&&"partition_header_footer"})(v[0],a.const_get_relative(v,"AbstractBlock"),v);(function(b,$super,c){function f(){}b=f=e(b,$super,
"Column",f);var h=b.$$proto;[b].concat(c);var k,m;h.attributes=n;b.$attr_accessor("style");a.defn(b,"$initialize",k=function(b,c,e){var f,h=k.$$p,m=n;null==e&&(e=d([],{}));h&&(k.$$p=null);u(this,a.find_super_dispatcher(this,"initialize",k,!1),[b,"column"],null);this.style=e["$[]"]("style");m=["colnumber",g(c,1)];u(e,"[]=",a.to_a(m));m[p(m.length,1)];t(f=e["$[]"]("width"))?f:(m=["width",1],u(e,"[]=",a.to_a(m)),m[p(m.length,1)]);t(f=e["$[]"]("halign"))?f:(m=["halign","left"],u(e,"[]=",a.to_a(m)),m[p(m.length,
1)]);t(f=e["$[]"]("valign"))?f:(m=["valign","top"],u(e,"[]=",a.to_a(m)),m[p(m.length,1)]);return this.$update_attributes(e)},k.$$arity=-3);a.alias(b,"table","parent");return(a.defn(b,"$assign_width",m=function(b,c,d){var e=n;null==c&&(c=n);null==d&&(d=1E4);t(c)&&(b=q(l(l(q(this.attributes["$[]"]("width").$to_f(),c),100),d).$to_i(),d),b.$to_i()["$=="](b)&&(b=b.$to_i()));e=["colpcwidth",b];u(this.attributes,"[]=",a.to_a(e));e[p(e.length,1)];t(this.$parent().$attributes()["$key?"]("tableabswidth"))&&
(e=["colabswidth",l(q(b,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round()],u(this.attributes,"[]=",a.to_a(e)),e[p(e.length,1)]);return b},m.$$arity=-2),n)&&"assign_width"})(a.const_get_relative(v,"Table"),a.const_get_relative(v,"AbstractNode"),v);(function(b,$super,c){function f(){}b=f=e(b,$super,"Cell",f);var g=b.$$proto,k=[b].concat(c),m,l,q,x,v;g.document=g.text=g.style=g.inner_document=g.colspan=g.rowspan=g.attributes=n;b.$attr_accessor("style");b.$attr_accessor("colspan");b.$attr_accessor("rowspan");
a.alias(b,"column","parent");b.$attr_reader("inner_document");a.defn(b,"$initialize",m=function(b,c,e,f){var g,l=m.$$p,q=n,x=n,v=x=n,w=n,A=n,x=n;null==e&&(e=d([],{}));null==f&&(f=d([],{}));l&&(m.$$p=null);u(this,a.find_super_dispatcher(this,"initialize",m,!1),[b,"cell"],null);t(b)?(q=t(x=b.$table()["$header_row?"]())?n:b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes())):x=q=n;if(t(e)){this.colspan=e.$delete("colspan");this.rowspan=e.$delete("rowspan");t(t(g=x)?g:e["$key?"]("style")["$!"]())||
(q=e["$[]"]("style"));if(t(f["$[]"]("strip_text")))if(t(t(g=q["$=="]("literal"))?g:q["$=="]("verse")))for(c=c.$rstrip();t(c["$start_with?"](a.const_get_relative(k,"EOL")));)c=c.$slice(1,p(c.$length(),1));else c=c.$strip();this.$update_attributes(e)}else this.rowspan=this.colspan=n;q["$=="]("asciidoc")&&(x=this.document.$attributes().$delete("doctitle"),v=c.$split(a.const_get_relative(k,"EOL"),-1),!t(v["$empty?"]())&&t((w=v["$[]"](0))["$include?"]("::"))&&(A=a.const_get_relative(k,"PreprocessorReader").$new(this.document,
[w]).$readlines(),t(w["$=="](A["$[]"](0))?h(A.$size(),2):w["$=="](A["$[]"](0)))||(v.$shift(),t(A["$empty?"]())||u(v,"unshift",a.to_a(A)))),this.inner_document=a.const_get_relative(k,"Document").$new(v,d(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:f["$[]"]("cursor")})),t(x["$nil?"]())||(x=["doctitle",x],u(this.document.$attributes(),"[]=",a.to_a(x)),x[p(x.length,1)]));this.text=c;return this.style=q},m.$$arity=-3);a.defn(b,"$text",l=function(){return this.$apply_subs(this.text,
this.style["$=="]("literal")?a.const_get_relative(k,"BASIC_SUBS"):a.const_get_relative(k,"NORMAL_SUBS"))},l.$$arity=0);a.defn(b,"$text=",q=function(a){return this.text=a},q.$$arity=1);a.defn(b,"$content",x=function(){var b;return this.style["$=="]("asciidoc")?this.inner_document.$convert():u(this.$text().$split(a.const_get_relative(k,"BlankLineRx")),"map",[],(b=function(c){var e=b.$$s||this,f;null==e.style&&(e.style=n);null==c&&(c=n);return t(t(f=e.style["$!"]())?f:e.style["$=="]("header"))?c:a.const_get_relative(k,
"Inline").$new(e.$parent(),"quoted",c,d(["type"],{type:e.style})).$convert()},b.$$s=this,b.$$arity=1,b))},x.$$arity=0);return(a.defn(b,"$to_s",v=function(){var b,c=v.$$p,d=n,e=n,f=n;c&&(v.$$p=null);e=0;f=arguments.length;for(d=Array(f);e<f;e++)d[e]=arguments[e];return""+u(this,a.find_super_dispatcher(this,"to_s",v,!1),d,c).$to_s()+" - [text: "+this.text+", colspan: "+(t(b=this.colspan)?b:1)+", rowspan: "+(t(b=this.rowspan)?b:1)+", attributes: "+this.attributes+"]"},v.$$arity=0),n)&&"to_s"})(a.const_get_relative(v,
"Table"),a.const_get_relative(v,"AbstractNode"),v);(function(c,$super,f){function h(){}c=h=e(c,$super,"ParserContext",h);var l=c.$$proto,q=[c].concat(f),x,v,w,B,D,V,K,G,T,ba,pa,L,aa,U,da,ia,H,Y,ha;l.delimiter=l.delimiter_re=l.buffer=l.cellspecs=l.cell_open=l.format=l.last_cursor=l.table=l.current_row=l.colcount=l.column_visits=l.active_rowspans=l.linenum=n;a.const_set(q[0],"FORMATS",["psv","csv","dsv","tsv"].$to_set());a.const_set(q[0],"DELIMITERS",d(["psv","csv","dsv","tsv","!sv"],{psv:["|",/\|/],
csv:[",",/,/],dsv:[":",/:/],tsv:["\t",/\t/],"!sv":["!",/!/]}));c.$attr_accessor("table");c.$attr_accessor("format");c.$attr_reader("colcount");c.$attr_accessor("buffer");c.$attr_reader("delimiter");c.$attr_reader("delimiter_re");a.defn(c,"$initialize",x=function(b,c,e){var f=n,g=n;null==e&&(e=d([],{}));this.reader=b;this.table=c;this.last_cursor=b.$cursor();t(e["$key?"]("format"))?t(a.const_get_relative(q,"FORMATS")["$include?"](f=e["$[]"]("format")))?f["$=="]("tsv")?this.format="csv":t((this.format=
f)["$=="]("psv")?c.$document()["$nested?"]():(this.format=f)["$=="]("psv"))&&(f="!sv"):(this.$warn("asciidoctor: ERROR: "+b.$prev_line_info()+": illegal table format: "+f),b=["psv",t(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],f=b[1],b):(b=["psv",t(c.$document()["$nested?"]())?"!sv":"psv"],this.format=b[0],f=b[1],b);t(e["$key?"]("separator"))?t((g=e["$[]"]("separator"))["$nil_or_empty?"]())?(e=a.const_get_relative(q,"DELIMITERS")["$[]"](f),b=a.to_ary(e),this.delimiter=null==b[0]?n:
b[0],this.delimiter_re=null==b[1]?n:b[1],e):g["$=="]("\\t")?(e=a.const_get_relative(q,"DELIMITERS")["$[]"]("tsv"),b=a.to_ary(e),this.delimiter=null==b[0]?n:b[0],this.delimiter_re=null==b[1]?n:b[1],e):(b=[g,new RegExp(a.const_get_qualified("::","Regexp").$escape(g))],this.delimiter=b[0],this.delimiter_re=b[1],b):(e=a.const_get_relative(q,"DELIMITERS")["$[]"](f),b=a.to_ary(e),this.delimiter=null==b[0]?n:b[0],this.delimiter_re=null==b[1]?n:b[1],e);this.colcount=t(c.$columns()["$empty?"]())?-1:c.$columns().$size();
this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},x.$$arity=-3);a.defn(c,"$starts_with_delimiter?",v=function(a){return a["$start_with?"](this.delimiter)},v.$$arity=1);a.defn(c,"$match_delimiter",w=function(a){return this.delimiter_re.$match(a)},w.$$arity=1);a.defn(c,"$skip_past_delimiter",B=function(a){this.buffer=""+this.buffer+a.$pre_match()+this.delimiter;return a.$post_match()},B.$$arity=1);a.defn(c,"$skip_past_escaped_delimiter",
D=function(a){this.buffer=""+this.buffer+a.$pre_match().$chop()+this.delimiter;return a.$post_match()},D.$$arity=1);a.defn(c,"$buffer_has_unclosed_quotes?",V=function(a){var b,c,d=n,e=n;null==a&&(a=n);return t((d=t(a)?g(this.$buffer(),a).$strip():this.$buffer().$strip())["$start_with?"]('"'))?t(t(b=t(c=e=d["$end_with?"]('"'))?d["$end_with?"]('""'):c)?b:d["$start_with?"]('""'))?t(b=(d=d.$gsub('""',""))["$start_with?"]('"'))?d["$end_with?"]('"')["$!"]():b:e["$!"]():!1},V.$$arity=-1);a.defn(c,"$take_cellspec",
K=function(){return this.cellspecs.$shift()},K.$$arity=0);a.defn(c,"$push_cellspec",G=function(a){var b;null==a&&(a=d([],{}));this.cellspecs["$<<"](t(b=a)?b:d([],{}));return n},G.$$arity=-1);a.defn(c,"$keep_cell_open",T=function(){this.cell_open=!0;return n},T.$$arity=0);a.defn(c,"$mark_cell_closed",ba=function(){this.cell_open=!1;return n},ba.$$arity=0);a.defn(c,"$cell_open?",pa=function(){return this.cell_open},pa.$$arity=0);a.defn(c,"$cell_closed?",L=function(){return this.cell_open["$!"]()},L.$$arity=
0);a.defn(c,"$close_open_cell",aa=function(a){null==a&&(a=d([],{}));this.$push_cellspec(a);t(this["$cell_open?"]())&&this.$close_cell(!0);this.$advance();return n},aa.$$arity=-1);a.defn(c,"$close_cell",U=function(c){try{var e,f,h=n,l=n,x=n,v=n;null==c&&(c=!1);this.format["$=="]("psv")?(h=!0,l=this.buffer,this.buffer="",t(x=this.$take_cellspec())?v=t(e=x.$delete("repeatcol"))?e:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),
x=d([],{}),v=1)):(h=!1,l=this.buffer.$strip(),this.buffer="",x=n,v=1,this.format["$=="]("csv")&&t(t(e=l["$empty?"]()["$!"]())?l["$include?"]('"'):e)&&(t(t(e=l["$start_with?"]('"'))?l["$end_with?"]('"'):e)&&(l=l["$[]"](k(1,-1,!0)).$strip()),l=l.$squeeze('"')));u(1,"upto",[v],(f=function(e){var k=f.$$s||this,w,A,E,G,B=n,D=n,H=n,B=n;null==k.colcount&&(k.colcount=n);null==k.table&&(k.table=n);null==k.current_row&&(k.current_row=n);null==k.last_cursor&&(k.last_cursor=n);null==k.reader&&(k.reader=n);null==
k.column_visits&&(k.column_visits=n);null==k.linenum&&(k.linenum=n);null==e&&(e=n);k.colcount["$=="](-1)?(k.table.$columns()["$<<"](B=a.const_get_qualified(a.const_get_relative(q,"Table"),"Column").$new(k.table,p(g(k.table.$columns().$size(),e),1))),t(t(w=t(A=x)?x["$key?"]("colspan"):A)?b(D=p(x["$[]"]("colspan").$to_i(),1),0):w)&&(H=k.table.$columns().$size(),u(D,"times",[],(E=function(b){var c=E.$$s||this;null==c.table&&(c.table=n);null==b&&(b=n);return c.table.$columns()["$<<"](a.const_get_qualified(a.const_get_relative(q,
"Table"),"Column").$new(c.table,g(H,b)))},E.$$s=k,E.$$arity=1,E)))):t(B=k.table.$columns()["$[]"](k.current_row.$size()))||(k.$warn("asciidoctor: ERROR: "+k.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(n));B=a.const_get_qualified(a.const_get_relative(q,"Table"),"Cell").$new(B,l,x,d(["cursor","strip_text"],{cursor:k.last_cursor,strip_text:h}));k.last_cursor=k.reader.$cursor();t(t(w=B.$rowspan()["$!"]())?w:B.$rowspan()["$=="](1))||k.$activate_rowspan(B.$rowspan(),
t(w=B.$colspan())?w:1);k.column_visits=g(k.column_visits,t(w=B.$colspan())?w:1);k.current_row["$<<"](B);return t(t(w=k["$end_of_row?"]())?t(A=t(G=k.colcount["$!="](-1))?G:b(k.linenum,0))?A:t(G=c)?e["$=="](v):G:w)?k.$close_row():n},f.$$s=this,f.$$arity=1,f));this.cell_open=!1;return n}catch(w){if(w===a.returner)return w.$v;throw w;}},U.$$arity=-1);a.defn(c,"$close_row",da=function(){var b,c=n;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);
this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();t(b=this.active_rowspans["$[]"](0))?b:(c=[0,0],u(this.active_rowspans,"[]=",a.to_a(c)),c[p(c.length,1)]);return n},da.$$arity=0);a.defn(c,"$activate_rowspan",ia=function(b,c){var d;u((1).$upto(p(b,1)),"each",[],(d=function(b){var e=d.$$s||this,f,h=n;null==e.active_rowspans&&(e.active_rowspans=n);null==b&&(b=n);h=[b,g(t(f=e.active_rowspans["$[]"](b))?f:0,c)];u(e.active_rowspans,"[]=",a.to_a(h));return h[p(h.length,1)]},d.$$s=this,
d.$$arity=1,d));return n},ia.$$arity=2);a.defn(c,"$end_of_row?",H=function(){var a;return t(a=this.colcount["$=="](-1))?a:this.$effective_column_visits()["$=="](this.colcount)},H.$$arity=0);a.defn(c,"$effective_column_visits",Y=function(){return g(this.column_visits,this.active_rowspans["$[]"](0))},Y.$$arity=0);return(a.defn(c,"$advance",ha=function(){return this.linenum=g(this.linenum,1)},ha.$$arity=0),n)&&"advance"})(a.const_get_relative(v,"Table"),null,v)}(c[0],c)};Opal.modules["asciidoctor/converter/composite"]=
function(a){var b=[],h=a.nil,p=a.module,l=a.klass,q=a.send,g=a.truthy,c=a.hash2;a.add_stubs("$attr_reader $each $compact $flatten $respond_to? $composed $node_name $convert $converter_for $[] $find_converter $[]= $- $handles? $raise".split(" "));return function(b,f){var e=[p(b,"Asciidoctor")].concat(f);(function(b,$super,e){function f(){}b=f=l(b,$super,"CompositeConverter",f);var m=b.$$proto;[b].concat(e);var p,n,u,r;m.converter_map=m.converters=h;b.$attr_reader("converters");a.defn(b,"$initialize",
p=function(a,b){var d,e,f=arguments.length;e=f-1;0>e&&(e=0);e=Array(e);for(var k=1;k<f;k++)e[k-1]=arguments[k];this.backend=a;q(this.converters=e.$flatten().$compact(),"each",[],(d=function(a){var b=d.$$s||this;null==a&&(a=h);return g(a["$respond_to?"]("composed"))?a.$composed(b):h},d.$$s=this,d.$$arity=1,d));return this.converter_map=c([],{})},p.$$arity=-2);a.defn(b,"$convert",n=function(a,b,d){var e;null==b&&(b=h);null==d&&(d=c([],{}));b=g(e=b)?e:a.$node_name();return this.$converter_for(b).$convert(a,
b,d)},n.$$arity=-2);a.alias(b,"convert_with_options","convert");a.defn(b,"$converter_for",u=function(b){var c;c=h;g(c=this.converter_map["$[]"](b))?b=c:(c=[b,this.$find_converter(b)],q(this.converter_map,"[]=",a.to_a(c)),b=c,c=c.length,c="number"===typeof c?c-1:c["$-"](1),b=b[c]);return b},u.$$arity=1);return(a.defn(b,"$find_converter",r=function(b){try{var c;q(this.converters,"each",[],(c=function(c){null==c&&(c=h);if(g(c["$handles?"](b)))a.ret(c);else return h},c.$$s=this,c.$$arity=1,c));return this.$raise("Could not find a converter to handle transform: "+
b)}catch(d){if(d===a.returner)return d.$v;throw d;}},r.$$arity=1),h)&&"find_converter"})(a.const_get_relative(e,"Converter"),a.const_get_qualified(a.const_get_relative(e,"Converter"),"Base"),e)}(b[0],b)};Opal.modules["asciidoctor/converter/html5"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function l(a,
b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function q(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function g(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var n=[],f=a.nil,e=a.module,d=a.klass,u=a.send,t=a.hash2,k=a.truthy,v=a.range;a.add_stubs("$default= $- $== $[] $instance $empty? $attr $>= $safe $attr? $<< $include? $gsub $extname $doctitle $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $footnotes $index $text $nofooter $inspect $!= $document $sections $level $caption $captioned_title $numbered $<= $sectnum $< $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $by_section $rows $colspan $rowspan $role? $unshift $shift $split $nil_or_empty? $target $type $attributes $catalog $join $map $chop $read_contents $sub $match $length".split(" "));
return function(n,B){var D=[e(n,"Asciidoctor")].concat(B);(function(e,$super,n){function x(){}e=x=d(e,$super,"Html5Converter",x);var C=e.$$proto,B=[e].concat(n),D,X,P,Z,V,K,G,T,ba,pa,L,aa,U,Q,ia,H,Y,ha,ka,na,da,Aa,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba,Ca,Fa,Da,Ha,Ia;n=f;C.xml_mode=C.void_element_slash=C.stylesheets=f;n=[["","",!1]];u(a.const_set(B[0],"QUOTE_TAGS",t("monospaced emphasis strong double single mark superscript subscript asciimath latexmath".split(" "),{monospaced:["<code>","</code>",
!0],emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]})),"default=",a.to_a(n));n[b(n.length,1)];a.const_set(B[0],"SvgPreambleRx",/^.*?(?=<svg\b)/m);a.const_set(B[0],"SvgStartTagRx",/^<svg[^>]*>/);a.const_set(B[0],"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);
a.defn(e,"$initialize",D=function(b,c){null==c&&(c=t([],{}));this.xml_mode=c["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=k(this.xml_mode)?"/":f;return this.stylesheets=a.const_get_relative(B,"Stylesheets").$instance()},D.$$arity=-2);a.defn(e,"$document",X=function(b){var c,d,e,g,m,q=f,r=f,n=f,x=f,w=f,A=f,C=f,G=f,E=C=f,D=f,H=A=E=A=E=C=E=C=C=f,r=r=A=A=E=f,q=[],r=this.void_element_slash,n="<br"+r+">";k((x=b.$attr("asset-uri-scheme","https"))["$empty?"]())||(x=""+x+":");w=""+x+"//cdnjs.cloudflare.com/ajax/libs";
A=k(c=h(b.$safe(),a.const_get_qualified(a.const_get_relative(B,"SafeMode"),"SECURE")))?c:b["$attr?"]("linkcss");q["$<<"]("<!DOCTYPE html>");C=k(b["$attr?"]("nolang"))?f:' lang="'+b.$attr("lang","en")+'"';q["$<<"]("<html"+(k(this.xml_mode)?' xmlns="http://www.w3.org/1999/xhtml"':f)+C+">");q["$<<"]('<head>\n<meta charset="'+b.$attr("encoding","UTF-8")+'"'+r+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+r+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
r+'>\n<meta name="generator" content="Asciidoctor '+b.$attr("asciidoctor-version")+'"'+r+">");if(k(b["$attr?"]("app-name")))q["$<<"]('<meta name="application-name" content="'+b.$attr("app-name")+'"'+r+">");if(k(b["$attr?"]("description")))q["$<<"]('<meta name="description" content="'+b.$attr("description")+'"'+r+">");if(k(b["$attr?"]("keywords")))q["$<<"]('<meta name="keywords" content="'+b.$attr("keywords")+'"'+r+">");if(k(b["$attr?"]("authors")))q["$<<"]('<meta name="author" content="'+(k((G=b.$attr("authors"))["$include?"]("<"))?
G.$gsub(a.const_get_relative(B,"XmlSanitizeRx"),""):G)+'"'+r+">");if(k(b["$attr?"]("copyright")))q["$<<"]('<meta name="copyright" content="'+b.$attr("copyright")+'"'+r+">");k(b["$attr?"]("favicon"))&&(k((C=b.$attr("favicon"))["$empty?"]())?(c=["favicon.ico","image/x-icon"],C=c[0],E=c[1],c):E=(D=a.const_get_qualified("::","File").$extname(C))["$=="](".ico")?"image/x-icon":"image/"+D["$[]"](v(1,-1,!1)),q["$<<"]('<link rel="shortcut icon" type="'+E+'" href="'+C+'">'));q["$<<"]("<title>"+b.$doctitle(t(["sanitize",
"use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if(k(a.const_get_relative(B,"DEFAULT_STYLESHEET_KEYS")["$include?"](b.$attr("stylesheet")))){if(k(C=b.$attr("webfonts")))q["$<<"]('<link rel="stylesheet" href="'+x+"//fonts.googleapis.com/css?family="+(k(C["$empty?"]())?"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700":C)+'"'+r+">");if(k(A))q["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(a.const_get_relative(B,
"DEFAULT_STYLESHEET_NAME"),b.$attr("stylesdir",""),!1)+'"'+r+">");else q["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if(k(b["$attr?"]("stylesheet")))if(k(A))q["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(b.$attr("stylesheet"),b.$attr("stylesdir",""))+'"'+r+">");else q["$<<"]("<style>\n"+b.$read_asset(b.$normalize_system_path(b.$attr("stylesheet"),b.$attr("stylesdir","")),t(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"}))+"\n</style>");if(k(b["$attr?"]("icons",
"font")))if(k(b["$attr?"]("iconfont-remote")))q["$<<"]('<link rel="stylesheet" href="'+b.$attr("iconfont-cdn",""+w+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+r+">");else C=""+b.$attr("iconfont-name","font-awesome")+".css",q["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(C,b.$attr("stylesdir",""),!1)+'"'+r+">");E=C=b.$attr("source-highlighter");if("coderay"["$==="](E)){if(b.$attr("coderay-css","class")["$=="]("class"))if(k(A))q["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),
b.$attr("stylesdir",""),!1)+'"'+r+">");else q["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](E)&&b.$attr("pygments-css","class")["$=="]("class"))if(E=b.$attr("pygments-style"),k(A))q["$<<"]('<link rel="stylesheet" href="'+b.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(E),b.$attr("stylesdir",""),!1)+'"'+r+">");else q["$<<"](this.stylesheets.$embed_pygments_stylesheet(E));if(!k((A=b.$docinfo())["$empty?"]()))q["$<<"](A);q["$<<"]("</head>");E=[];if(k(b.$id()))E["$<<"]('id="'+
b.$id()+'"');if(k(k(c=k(d=k(e=A=b["$sections?"]())?b["$attr?"]("toc-class"):e)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c))E["$<<"]('class="'+b.$doctype()+" "+b.$attr("toc-class")+" toc-"+b.$attr("toc-position","header")+'"');else E["$<<"]('class="'+b.$doctype()+'"');if(k(b["$attr?"]("max-width")))E["$<<"]('style="max-width: '+b.$attr("max-width")+';"');q["$<<"]("<body "+p(E," ")+">");if(!k(b.$noheader())){q["$<<"]('<div id="header">');if(b.$doctype()["$=="]("manpage")){q["$<<"]("<h1>"+
b.$doctitle()+" Manual Page</h1>");if(k(k(c=k(d=A)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c))q["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");q["$<<"]("<h2>"+b.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+b.$attr("manname")+" - "+b.$attr("manpurpose")+"</p>\n</div>")}else{if(k(b["$has_header?"]())){if(!k(b.$notitle()))q["$<<"]("<h1>"+b.$header().$title()+"</h1>");
H=[];if(k(b["$attr?"]("author"))){H["$<<"]('<span id="author" class="author">'+b.$attr("author")+"</span>"+n);if(k(b["$attr?"]("email")))H["$<<"]('<span id="email" class="email">'+b.$sub_macros(b.$attr("email"))+"</span>"+n);k(l(E=b.$attr("authorcount").$to_i(),1))&&u(a.Range.$new(2,E,!1),"each",[],(g=function(a){null==a&&(a=f);H["$<<"]('<span id="author'+a+'" class="author">'+b.$attr("author_"+a)+"</span>"+n);return k(b["$attr?"]("email_"+a))?H["$<<"]('<span id="email'+a+'" class="email">'+b.$sub_macros(b.$attr("email_"+
a))+"</span>"+n):f},g.$$s=this,g.$$arity=1,g))}if(k(b["$attr?"]("revnumber")))H["$<<"]('<span id="revnumber">'+(k(c=b.$attr("version-label"))?c:"").$downcase()+" "+b.$attr("revnumber")+(k(b["$attr?"]("revdate"))?",":"")+"</span>");if(k(b["$attr?"]("revdate")))H["$<<"]('<span id="revdate">'+b.$attr("revdate")+"</span>");if(k(b["$attr?"]("revremark")))H["$<<"](""+n+'<span id="revremark">'+b.$attr("revremark")+"</span>");k(H["$empty?"]())||(q["$<<"]('<div class="details">'),q.$concat(H),q["$<<"]("</div>"))}if(k(k(c=
k(d=A)?b["$attr?"]("toc"):d)?b["$attr?"]("toc-placement","auto"):c))q["$<<"]('<div id="toc" class="'+b.$attr("toc-class","toc")+'">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>")}q["$<<"]("</div>")}q["$<<"]('<div id="content">\n'+b.$content()+"\n</div>");k(k(c=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():c)&&(q["$<<"]('<div id="footnotes">\n<hr'+r+">"),u(b.$footnotes(),"each",[],(m=function(a){null==a&&(a=f);return q["$<<"]('<div class="footnote" id="_footnote_'+
a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},m.$$s=this,m.$$arity=1,m)),q["$<<"]("</div>"));if(!k(b.$nofooter())){q["$<<"]('<div id="footer">');q["$<<"]('<div id="footer-text">');if(k(b["$attr?"]("revnumber")))q["$<<"](""+b.$attr("version-label")+" "+b.$attr("revnumber")+n);if(k(k(c=b["$attr?"]("last-update-label"))?b["$attr?"]("reproducible")["$!"]():c))q["$<<"](""+b.$attr("last-update-label")+" "+b.$attr("docdatetime"));q["$<<"]("</div>");q["$<<"]("</div>")}if(!k((A=
b.$docinfo("footer"))["$empty?"]()))q["$<<"](A);E=C;"highlightjs"["$==="](E)||"highlight.js"["$==="](E)?(A=b.$attr("highlightjsdir",""+w+"/highlight.js/9.9.0"),q["$<<"]('<link rel="stylesheet" href="'+A+"/styles/"+b.$attr("highlightjs-theme","github")+'.min.css"'+r+">"),q["$<<"]('<script src="'+A+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](E)&&(A=b.$attr("prettifydir",""+w+"/prettify/r298"),q["$<<"]('<link rel="stylesheet" href="'+A+"/"+b.$attr("prettify-theme",
"prettify")+'.min.css"'+r+">"),q["$<<"]('<script src="'+A+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));k(b["$attr?"]("stem"))&&(r=b.$attr("eqnums","none"),k(r["$empty?"]())&&(r="AMS"),r=' equationNumbers: { autoNumber: "'+r+'" } ',q["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+a.const_get_relative(B,"INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+a.const_get_relative(B,
"BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+a.const_get_relative(B,"BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+r+'}\n});\n\x3c/script>\n<script src="'+w+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));q["$<<"]("</body>");q["$<<"]("</html>");return p(q,a.const_get_relative(B,"EOL"))},X.$$arity=1);a.defn(e,
"$embedded",P=function(b){var c,d,e,g,h=f,m=f,l=f,h=[];b.$doctype()["$=="]("manpage")?(k(b.$notitle())||(m=k(b.$id())?' id="'+b.$id()+'"':f,h["$<<"]("<h1"+m+">"+b.$doctitle()+" Manual Page</h1>")),h["$<<"]("<h2>"+b.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+b.$attr("manname")+" - "+b.$attr("manpurpose")+"</p>\n</div>")):k(k(c=b["$has_header?"]())?b.$notitle()["$!"]():c)&&(m=k(b.$id())?' id="'+b.$id()+'"':f,h["$<<"]("<h1"+m+">"+b.$header().$title()+"</h1>"));if(k(k(c=k(d=k(e=b["$sections?"]())?
b["$attr?"]("toc"):e)?(l=b.$attr("toc-placement"))["$!="]("macro"):d)?l["$!="]("preamble"):c))h["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+b.$attr("toc-title")+"</div>\n"+this.$outline(b)+"\n</div>");h["$<<"](b.$content());k(k(c=b["$footnotes?"]())?b["$attr?"]("nofootnotes")["$!"]():c)&&(h["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),u(b.$footnotes(),"each",[],(g=function(a){null==a&&(a=f);return h["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+
a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},g.$$s=this,g.$$arity=1,g)),h["$<<"]("</div>"));return p(h,a.const_get_relative(B,"EOL"))},P.$$arity=1);a.defn(e,"$outline",Z=function(b,c){var d,e,h=f,m=f,l=f,r=f;null==c&&(c=t([],{}));if(!k(b["$sections?"]()))return f;h=k(d=c["$[]"]("sectnumlevels"))?d:b.$document().$attr("sectnumlevels",3).$to_i();m=k(d=c["$[]"]("toclevels"))?d:b.$document().$attr("toclevels",2).$to_i();l=b.$sections();r=['<ul class="sectlevel'+l["$[]"](0).$level()+'">'];
u(l,"each",[],(e=function(a){var b=e.$$s||this,c,d=f,l=f,p=f;null==a&&(a=f);d=a.$level();l=k(a.$caption())?a.$captioned_title():k(k(c=a.$numbered())?q(d,h):c)?""+a.$sectnum()+" "+a.$title():a.$title();return k(k(c=g(d,m))?p=b.$outline(a,t(["toclevels","secnumlevels"],{toclevels:m,secnumlevels:h})):c)?(r["$<<"]('<li><a href="#'+a.$id()+'">'+l+"</a>"),r["$<<"](p),r["$<<"]("</li>")):r["$<<"]('<li><a href="#'+a.$id()+'">'+l+"</a></li>")},e.$$s=this,e.$$arity=1,e));r["$<<"]("</ul>");return p(r,a.const_get_relative(B,
"EOL"))},Z.$$arity=-2);a.defn(e,"$section",V=function(a){var b,d,e=f,g=f,h=f,m=f,l=f,p=f,r=f,n=f,t=r=f,n=f,e=a.$level(),g="h"+c(e,1),h=m=l=p=f;k(a.$id())&&(h=' id="'+(r=a.$id())+'"',k((n=a.$document())["$attr?"]("sectanchors"))&&(m='<a class="anchor" href="#'+r+'"></a>'),k(n["$attr?"]("sectlinks"))&&(l='<a class="link" href="#'+r+'">',p="</a>"));if(e["$=="](0))return"<h1"+h+' class="sect0">'+m+l+a.$title()+p+"</h1>\n"+a.$content();r=k(t=a.$role())?' class="sect'+e+" "+t+'"':' class="sect'+e+'"';n=
k(k(b=k(d=a.$numbered())?a.$caption()["$!"]():d)?q(e,a.$document().$attr("sectnumlevels",3).$to_i()):b)?""+a.$sectnum()+" ":f;return"<div"+r+">\n<"+g+h+">"+m+l+n+a.$captioned_title()+p+"</"+g+">\n"+(e["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},V.$$arity=1);a.defn(e,"$admonition",K=function(a){var b,c=f,d=f,e=f,g=f,h=f,c=k(a.$id())?' id="'+a.$id()+'"':f,d=a.$attr("name"),e=k(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":f,g=k(a.$document()["$attr?"]("icons"))?
k(k(b=a.$document()["$attr?"]("icons","font"))?a["$attr?"]("icon")["$!"]():b)?'<i class="fa icon-'+d+'" title="'+a.$caption()+'"></i>':'<img src="'+a.$icon_uri(d)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<div class="title">'+a.$caption()+"</div>";return"<div"+c+' class="admonitionblock '+d+(k(b=h=a.$role())?" "+h:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+g+'\n</td>\n<td class="content">\n'+e+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},K.$$arity=1);a.defn(e,"$audio",G=function(a){var b,
c=f,d=f,e=f,g=e=f,h=f,m=f,h=f,c=this.xml_mode,d=k(a.$id())?' id="'+a.$id()+'"':f,e=["audioblock",a.$role()].$compact(),e=' class="'+p(e," ")+'"',g=k(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":f,h=a.$attr("start",f,!1),m=a.$attr("end",f,!1),h=k(k(b=h)?b:m)?"#t="+h+(k(m)?",":f)+m:f;return"<div"+d+e+">\n"+g+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+h+'"'+(k(a["$option?"]("autoplay"))?this.$append_boolean_attribute("autoplay",c):f)+(k(a["$option?"]("nocontrols"))?
f:this.$append_boolean_attribute("controls",c))+(k(a["$option?"]("loop"))?this.$append_boolean_attribute("loop",c):f)+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},G.$$arity=1);a.defn(e,"$colist",T=function(b){var d,e,g=f,h=f,m=f,l=m=f,g=[],h=k(b.$id())?' id="'+b.$id()+'"':f,m=["colist",b.$style(),b.$role()].$compact(),m=' class="'+p(m," ")+'"';g["$<<"]("<div"+h+m+">");if(k(b["$title?"]()))g["$<<"]('<div class="title">'+b.$title()+"</div>");k(b.$document()["$attr?"]("icons"))?
(g["$<<"]("<table>"),l=b.$document()["$attr?"]("icons","font"),u(b.$items(),"each_with_index",[],(d=function(a,e){var h=d.$$s||this,m=f,m=f;null==h.void_element_slash&&(h.void_element_slash=f);null==a&&(a=f);null==e&&(e=f);m=c(e,1);m=k(l)?'<i class="conum" data-value="'+m+'"></i><b>'+m+"</b>":'<img src="'+b.$icon_uri("callouts/"+m)+'" alt="'+m+'"'+h.void_element_slash+">";return g["$<<"]("<tr>\n<td>"+m+"</td>\n<td>"+a.$text()+"</td>\n</tr>")},d.$$s=this,d.$$arity=2,d)),g["$<<"]("</table>")):(g["$<<"]("<ol>"),
u(b.$items(),"each",[],(e=function(a){null==a&&(a=f);return g["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},e.$$s=this,e.$$arity=1,e)),g["$<<"]("</ol>"));g["$<<"]("</div>");return p(g,a.const_get_relative(B,"EOL"))},T.$$arity=1);a.defn(e,"$dlist",ba=function(b){var c,d,e,g,h=f,m=f,l=f,q=l=l=f,r=m=f,h=[],m=k(b.$id())?' id="'+b.$id()+'"':f,l=b.$style(),l=("qanda"["$==="](l)?["qlist","qanda",b.$role()]:"horizontal"["$==="](l)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),l=' class="'+
p(l," ")+'"';h["$<<"]("<div"+m+l+">");if(k(b["$title?"]()))h["$<<"]('<div class="title">'+b.$title()+"</div>");l=b.$style();"qanda"["$==="](l)?(h["$<<"]("<ol>"),u(b.$items(),"each",[],(c=function(b,d){var e=c.$$s||this,g;null==b&&(b=f);null==d&&(d=f);h["$<<"]("<li>");u([].concat(a.to_a(b)),"each",[],(g=function(a){null==a&&(a=f);return h["$<<"]("<p><em>"+a.$text()+"</em></p>")},g.$$s=e,g.$$arity=1,g));if(k(d)){if(k(d["$text?"]()))h["$<<"]("<p>"+d.$text()+"</p>");if(k(d["$blocks?"]()))h["$<<"](d.$content())}return h["$<<"]("</li>")},
c.$$s=this,c.$$arity=2,c)),h["$<<"]("</ol>")):"horizontal"["$==="](l)?(q=this.void_element_slash,h["$<<"]("<table>"),k(k(d=b["$attr?"]("labelwidth"))?d:b["$attr?"]("itemwidth"))&&(h["$<<"]("<colgroup>"),m=k(b["$attr?"]("labelwidth"))?' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"':f,h["$<<"]("<col"+m+q+">"),m=k(b["$attr?"]("itemwidth"))?' style="width: '+b.$attr("itemwidth").$chomp("%")+'%;"':f,h["$<<"]("<col"+m+q+">"),h["$<<"]("</colgroup>")),u(b.$items(),"each",[],(e=function(c,d){var g=
e.$$s||this,m,l=f,p=f;null==c&&(c=f);null==d&&(d=f);h["$<<"]("<tr>");h["$<<"]('<td class="hdlist1'+(k(b["$option?"]("strong"))?" strong":f)+'">');l=[].concat(a.to_a(c));p=l["$[]"](-1);u(l,"each",[],(m=function(a){null==a&&(a=f);h["$<<"](a.$text());return k(a["$!="](p))?h["$<<"]("<br"+q+">"):f},m.$$s=g,m.$$arity=1,m));h["$<<"]("</td>");h["$<<"]('<td class="hdlist2">');if(k(d)){if(k(d["$text?"]()))h["$<<"]("<p>"+d.$text()+"</p>");if(k(d["$blocks?"]()))h["$<<"](d.$content())}h["$<<"]("</td>");return h["$<<"]("</tr>")},
e.$$s=this,e.$$arity=2,e)),h["$<<"]("</table>")):(h["$<<"]("<dl>"),r=k(b.$style())?f:' class="hdlist1"',u(b.$items(),"each",[],(g=function(b,c){var d=g.$$s||this,e;null==b&&(b=f);null==c&&(c=f);u([].concat(a.to_a(b)),"each",[],(e=function(a){null==a&&(a=f);return h["$<<"]("<dt"+r+">"+a.$text()+"</dt>")},e.$$s=d,e.$$arity=1,e));if(k(c)){h["$<<"]("<dd>");if(k(c["$text?"]()))h["$<<"]("<p>"+c.$text()+"</p>");if(k(c["$blocks?"]()))h["$<<"](c.$content());return h["$<<"]("</dd>")}return f},g.$$s=this,g.$$arity=
2,g)),h["$<<"]("</dl>"));h["$<<"]("</div>");return p(h,a.const_get_relative(B,"EOL"))},ba.$$arity=1);a.defn(e,"$example",pa=function(a){var b=f,c=f,d=f,b=k(a.$id())?' id="'+a.$id()+'"':f,c=k(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":f;return"<div"+b+' class="'+(k(d=a.$role())?p(["exampleblock",d]," "):"exampleblock")+'">\n'+c+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},pa.$$arity=1);a.defn(e,"$floating_title",L=function(a){var b=f,d=f,e=f,b="h"+c(a.$level(),
1),d=k(a.$id())?' id="'+a.$id()+'"':f,e=[a.$style(),a.$role()].$compact();return"<"+b+d+' class="'+p(e," ")+'">'+a.$title()+"</"+b+">"},L.$$arity=1);a.defn(e,"$image",aa=function(b){var c,d,e,h=f,m=f,l=f,q=f,r=f,n=f,t=f,u=f,x=f,t=l=l=m=m=h=f,h=b.$attr("target"),m=k(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':f,l=k(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':f;k(k(c=k(d=k(e=b["$attr?"]("format","svg",!1))?e:h["$include?"](".svg"))?g(b.$document().$safe(),a.const_get_qualified(a.const_get_relative(B,
"SafeMode"),"SECURE")):d)?k(d=q=b["$option?"]("inline"))?d:r=b["$option?"]("interactive"):c)&&(k(q)?n=k(c=this.$read_svg_contents(b,h))?c:'<span class="alt">'+b.$attr("alt")+"</span>":k(r)&&(t=k(b["$attr?"]("fallback"))?'<img src="'+b.$image_uri(b.$attr("fallback"))+'" alt="'+b.$attr("alt")+'"'+m+l+this.void_element_slash+">":'<span class="alt">'+b.$attr("alt")+"</span>",n='<object type="image/svg+xml" data="'+b.$image_uri(h)+'"'+m+l+">"+t+"</object>"));n=k(c=n)?c:'<img src="'+b.$image_uri(h)+'" alt="'+
b.$attr("alt")+'"'+m+l+this.void_element_slash+">";k(b["$attr?"]("link"))&&(k(b["$attr?"]("window"))&&(u=' target="'+(x=b.$attr("window"))+'"'+(k(k(c=x["$=="]("_blank"))?c:b["$option?"]("noopener"))?' rel="noopener"':"")),n='<a class="image" href="'+b.$attr("link")+'"'+u+">"+n+"</a>");h=k(b.$id())?' id="'+b.$id()+'"':f;m=["imageblock",b.$role()].$compact();m=' class="'+p(m," ")+'"';l=[];if(k(b["$attr?"]("align")))l["$<<"]("text-align: "+b.$attr("align"));if(k(b["$attr?"]("float")))l["$<<"]("float: "+
b.$attr("float"));l=k(l["$empty?"]())?f:' style="'+p(l,";")+'"';t=k(b["$title?"]())?'\n<div class="title">'+b.$captioned_title()+"</div>":f;return"<div"+h+m+l+'>\n<div class="content">\n'+n+"\n</div>"+t+"\n</div>"},aa.$$arity=1);a.defn(e,"$listing",U=function(a){var b,c=f,d=f,e=f,g=f,h=g=c=e=c=f,m=f,c=k(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(e=k(d=a.$attr("language",f,!1))?' data-lang="'+d+'"':f,g=a.$document().$attr("source-highlighter"),
"coderay"["$==="](g)?c=' class="CodeRay highlight'+(k(c)?" nowrap":f)+'"':"pygments"["$==="](g)?c=' class="pygments highlight'+(k(c)?" nowrap":f)+'"':"highlightjs"["$==="](g)||"highlight.js"["$==="](g)?(c=' class="highlightjs highlight'+(k(c)?" nowrap":f)+'"',k(d)&&(e=' class="language-'+d+' hljs"'+e)):"prettify"["$==="](g)?(c=' class="prettyprint highlight'+(k(c)?" nowrap":f)+(k(a["$attr?"]("linenums"))?" linenums":f)+'"',k(d)&&(e=' class="language-'+d+'"'+e)):"html-pipeline"["$==="](g)?(c=k(d)?
' lang="'+d+'"':f,e=f):(c=' class="highlight'+(k(c)?" nowrap":f)+'"',k(d)&&(e=' class="language-'+d+'"'+e)),e="<pre"+c+"><code"+e+">",c="</code></pre>"):(e="<pre"+(k(c)?' class="nowrap"':f)+">",c="</pre>");g=k(a.$id())?' id="'+a.$id()+'"':f;h=k(a["$title?"]())?'<div class="title">'+a.$captioned_title()+"</div>\n":f;return"<div"+g+' class="listingblock'+(k(b=m=a.$role())?" "+m:b)+'">\n'+h+'<div class="content">\n'+e+a.$content()+c+"\n</div>\n</div>"},U.$$arity=1);a.defn(e,"$literal",Q=function(a){var b,
c=f,d=f,e=f,g=f,c=k(a.$id())?' id="'+a.$id()+'"':f,d=k(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":f,e=k(b=a.$document()["$attr?"]("prewrap")["$!"]())?b:a["$option?"]("nowrap");return"<div"+c+' class="literalblock'+(k(b=g=a.$role())?" "+g:b)+'">\n'+d+'<div class="content">\n<pre'+(k(e)?' class="nowrap"':f)+">"+a.$content()+"</pre>\n</div>\n</div>"},Q.$$arity=1);a.defn(e,"$stem",ia=function(b){var c,d,e=f,g=f,h=f,m=f,l=f,q=f,e=k(b.$id())?' id="'+b.$id()+'"':f,g=k(b["$title?"]())?'<div class="title">'+
b.$title()+"</div>\n":f;d=a.const_get_relative(B,"BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());c=a.to_ary(d);h=null==c[0]?f:c[0];m=null==c[1]?f:c[1];d;k(k(c=(l=b.$content())["$start_with?"](h))?l["$end_with?"](m):c)||(l=""+h+l+m);return"<div"+e+' class="'+(k(q=b.$role())?p(["stemblock",q]," "):"stemblock")+'">\n'+g+'<div class="content">\n'+l+"\n</div>\n</div>"},ia.$$arity=1);a.defn(e,"$olist",H=function(b){var c,d=f,e=f,g=f,h=e=g=f,m=g=f,d=[],e=k(b.$id())?' id="'+b.$id()+'"':f,g=["olist",
b.$style(),b.$role()].$compact(),g=' class="'+p(g," ")+'"';d["$<<"]("<div"+e+g+">");if(k(b["$title?"]()))d["$<<"]('<div class="title">'+b.$title()+"</div>");e=k(h=b.$list_marker_keyword())?' type="'+h+'"':f;g=k(b["$attr?"]("start"))?' start="'+b.$attr("start")+'"':f;m=k(b["$option?"]("reversed"))?this.$append_boolean_attribute("reversed",this.xml_mode):f;d["$<<"]('<ol class="'+b.$style()+'"'+e+g+m+">");u(b.$items(),"each",[],(c=function(a){null==a&&(a=f);d["$<<"]("<li>");d["$<<"]("<p>"+a.$text()+
"</p>");if(k(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},c.$$s=this,c.$$arity=1,c));d["$<<"]("</ol>");d["$<<"]("</div>");return p(d,a.const_get_relative(B,"EOL"))},H.$$arity=1);a.defn(e,"$open",Y=function(a){var b,c,d,e=f,g=f,h=f,m=f;if((e=a.$style())["$=="]("abstract")){if(k((b=a.$parent()["$=="](a.$document()))?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document())))return this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content."),
"";g=k(a.$id())?' id="'+a.$id()+'"':f;h=k(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":f;return"<div"+g+' class="quoteblock abstract'+(k(b=m=a.$role())?" "+m:b)+'">\n'+h+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>"}if(k((b=e["$=="]("partintro"))?k(c=k(d=l(a.$level(),0))?d:a.$parent().$context()["$!="]("section"))?c:a.$document().$doctype()["$!="]("book"):e["$=="]("partintro")))return this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content."),
"";g=k(a.$id())?' id="'+a.$id()+'"':f;h=k(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":f;return"<div"+g+' class="openblock'+(k(k(b=e)?e["$!="]("open"):b)?" "+e:"")+(k(b=m=a.$role())?" "+m:b)+'">\n'+h+'<div class="content">\n'+a.$content()+"\n</div>\n</div>"},Y.$$arity=1);a.defn(e,"$page_break",ha=function(a){return'<div style="page-break-after: always;"></div>'},ha.$$arity=1);a.defn(e,"$paragraph",ka=function(a){var b=f,b=f,b=k(a.$role())?'class="paragraph '+a.$role()+'"':'class="paragraph"',
b=k(a.$id())?'id="'+a.$id()+'" '+b:b;return k(a["$title?"]())?"<div "+b+'>\n<div class="title">'+a.$title()+"</div>\n<p>"+a.$content()+"</p>\n</div>":"<div "+b+">\n<p>"+a.$content()+"</p>\n</div>"},ka.$$arity=1);a.defn(e,"$preamble",na=function(a){var b,c,d=f,e=f,e=k(k(b=k(c=(d=a.$document())["$attr?"]("toc-placement","preamble"))?d["$sections?"]():c)?d["$attr?"]("toc"):b)?'\n<div id="toc" class="'+d.$attr("toc-class","toc")+'">\n<div id="toctitle">'+d.$attr("toc-title")+"</div>\n"+this.$outline(d)+
"\n</div>":f;return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+"\n</div>"+e+"\n</div>"},na.$$arity=1);a.defn(e,"$quote",da=function(a){var b,c=f,d=f,e=d=f,g=f,h=f,m=f,m=g=f,c=k(a.$id())?' id="'+a.$id()+'"':f,d=["quoteblock",a.$role()].$compact(),d=' class="'+p(d," ")+'"',e=k(a["$title?"]())?'\n<div class="title">'+a.$title()+"</div>":f,g=k(a["$attr?"]("attribution"))?a.$attr("attribution"):f,h=k(a["$attr?"]("citetitle"))?a.$attr("citetitle"):f;k(k(b=g)?b:h)?(m=k(h)?"<cite>"+h+
"</cite>":f,g=k(g)?"&#8212; "+g+(k(h)?"<br"+this.void_element_slash+">\n":f):f,m='\n<div class="attribution">\n'+g+m+"\n</div>"):m=f;return"<div"+c+d+">"+e+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+m+"\n</div>"},da.$$arity=1);a.defn(e,"$thematic_break",Aa=function(a){return"<hr"+this.void_element_slash+">"},Aa.$$arity=1);a.defn(e,"$sidebar",oa=function(a){var b=f,c=f,d=f,b=k(a.$id())?' id="'+a.$id()+'"':f,c=k(a["$title?"]())?'<div class="title">'+a.$title()+"</div>\n":f;return"<div"+b+' class="'+
(k(d=a.$role())?p(["sidebarblock",d]," "):"sidebarblock")+'">\n<div class="content">\n'+c+a.$content()+"\n</div>\n</div>"},oa.$$arity=1);a.defn(e,"$table",ra=function(b){var c,d,e,g,h=f,m=f,q=f,r=f,n=f,t=r=q=f,x=f,h=[],m=k(b.$id())?' id="'+b.$id()+'"':f,q=["tableblock","frame-"+b.$attr("frame","all"),"grid-"+b.$attr("grid","all")],r=[];if(!k(k(c=b["$option?"]("autowidth"))?b["$attr?"]("width",f,!1)["$!"]():c))if(k(b["$attr?"]("tablepcwidth",100)))q["$<<"]("spread");else r["$<<"]("width: "+b.$attr("tablepcwidth")+
"%;");if(k(n=b.$role()))q["$<<"](n);q=' class="'+p(q," ")+'"';if(k(b["$attr?"]("float")))r["$<<"]("float: "+b.$attr("float")+";");r=k(r["$empty?"]())?f:' style="'+p(r," ")+'"';h["$<<"]("<table"+m+q+r+">");if(k(b["$title?"]()))h["$<<"]('<caption class="title">'+b.$captioned_title()+"</caption>");k(l(b.$attr("rowcount"),0))&&(t=this.void_element_slash,h["$<<"]("<colgroup>"),k(b["$option?"]("autowidth"))?(x="<col"+t+">",u(b.$columns().$size(),"times",[],(d=function(){return h["$<<"](x)},d.$$s=this,d.$$arity=
0,d))):u(b.$columns(),"each",[],(e=function(a){null==a&&(a=f);return h["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+t+">")},e.$$s=this,e.$$arity=1,e)),h["$<<"]("</colgroup>"),u(b.$rows().$by_section(),"each",[],(g=function(a,c){var d=g.$$s||this,e;null==a&&(a=f);null==c&&(c=f);if(k(c["$empty?"]()))return f;h["$<<"]("<t"+a+">");u(c,"each",[],(e=function(c){var d=e.$$s||this,g;null==c&&(c=f);h["$<<"]("<tr>");u(c,"each",[],(g=function(c){var d,e=f,g=f,m=g=f,l=f,q=f,r=f;null==c&&(c=f);a["$=="]("head")?
e=c.$text():(g=c.$style(),e="asciidoc"["$==="](g)?"<div>"+c.$content()+"</div>":"verse"["$==="](g)?'<div class="verse">'+c.$text()+"</div>":"literal"["$==="](g)?'<div class="literal"><pre>'+c.$text()+"</pre></div>":k((e=c.$content())["$empty?"]())?"":'<p class="tableblock">'+p(e,'</p>\n<p class="tableblock">')+"</p>");g=k(k(d=a["$=="]("head"))?d:c.$style()["$=="]("header"))?"th":"td";m=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+'"';l=k(c.$colspan())?' colspan="'+c.$colspan()+
'"':f;q=k(c.$rowspan())?' rowspan="'+c.$rowspan()+'"':f;r=k(b.$document()["$attr?"]("cellbgcolor"))?' style="background-color: '+b.$document().$attr("cellbgcolor")+';"':f;return h["$<<"]("<"+g+m+l+q+r+">"+e+"</"+g+">")},g.$$s=d,g.$$arity=1,g));return h["$<<"]("</tr>")},e.$$s=d,e.$$arity=1,e));return h["$<<"]("</t"+a+">")},g.$$s=this,g.$$arity=2,g)));h["$<<"]("</table>");return p(h,a.const_get_relative(B,"EOL"))},ra.$$arity=1);a.defn(e,"$toc",qa=function(a){var b,c,d=f,e=f,g=f,h=f,m=f,l=f;if(!k(k(b=
k(c=(d=a.$document())["$attr?"]("toc-placement","macro"))?d["$sections?"]():c)?d["$attr?"]("toc"):b))return"\x3c!-- toc disabled --\x3e";k(a.$id())?(e=' id="'+a.$id()+'"',g=' id="'+a.$id()+'title"'):(e=' id="toc"',g=' id="toctitle"');h=k(a["$title?"]())?a.$title():d.$attr("toc-title");m=k(a["$attr?"]("levels"))?a.$attr("levels").$to_i():f;l=k(a["$role?"]())?a.$role():d.$attr("toc-class","toc");return"<div"+e+' class="'+l+'">\n<div'+g+' class="title">'+h+"</div>\n"+this.$outline(d,t(["toclevels"],
{toclevels:m}))+"\n</div>"},qa.$$arity=1);a.defn(e,"$ulist",ma=function(b){var c,d=f,e=f,g=f,h=f,m=f,l=f,q=f,d=[],e=k(b.$id())?' id="'+b.$id()+'"':f,g=["ulist",b.$style(),b.$role()].$compact(),m=h=f;k(l=b["$option?"]("checklist"))?(g.$unshift(g.$shift(),"checklist"),q=' class="checklist"',k(b["$option?"]("interactive"))?k(this.xml_mode)?(h='<input type="checkbox" data-item-complete="1" checked="checked"/> ',m='<input type="checkbox" data-item-complete="0"/> '):(h='<input type="checkbox" data-item-complete="1" checked> ',
m='<input type="checkbox" data-item-complete="0"> '):k(b.$document()["$attr?"]("icons","font"))?(h='<i class="fa fa-check-square-o"></i> ',m='<i class="fa fa-square-o"></i> '):(h="&#10003; ",m="&#10063; ")):q=k(b.$style())?' class="'+b.$style()+'"':f;d["$<<"]("<div"+e+' class="'+p(g," ")+'">');if(k(b["$title?"]()))d["$<<"]('<div class="title">'+b.$title()+"</div>");d["$<<"]("<ul"+q+">");u(b.$items(),"each",[],(c=function(a){var b;null==a&&(a=f);d["$<<"]("<li>");if(k(k(b=l)?a["$attr?"]("checkbox"):
b))d["$<<"]("<p>"+(k(a["$attr?"]("checked"))?h:m)+a.$text()+"</p>");else d["$<<"]("<p>"+a.$text()+"</p>");if(k(a["$blocks?"]()))d["$<<"](a.$content());return d["$<<"]("</li>")},c.$$s=this,c.$$arity=1,c));d["$<<"]("</ul>");d["$<<"]("</div>");return p(d,a.const_get_relative(B,"EOL"))},ma.$$arity=1);a.defn(e,"$verse",ja=function(a){var b,c=f,d=f,e=d=f,g=f,h=f,m=f,m=g=f,c=k(a.$id())?' id="'+a.$id()+'"':f,d=["verseblock",a.$role()].$compact(),d=' class="'+p(d," ")+'"',e=k(a["$title?"]())?'\n<div class="title">'+
a.$title()+"</div>":f,g=k(a["$attr?"]("attribution"))?a.$attr("attribution"):f,h=k(a["$attr?"]("citetitle"))?a.$attr("citetitle"):f;k(k(b=g)?b:h)?(m=k(h)?"<cite>"+h+"</cite>":f,g=k(g)?"&#8212; "+g+(k(h)?"<br"+this.void_element_slash+">\n":f):f,m='\n<div class="attribution">\n'+g+m+"\n</div>"):m=f;return"<div"+c+d+">"+e+'\n<pre class="content">'+a.$content()+"</pre>"+m+"\n</div>"},ja.$$arity=1);a.defn(e,"$video",ta=function(b){var c,d,e=this,g=f,h=f,m=f,l=f,q=f,r=f,n=f,t=f,u=f,x=f,v=f,w=f,A=f,C=f,
E=f,B=f,G=f,D=f,H=f,R=f,K=f,U=f,V=f,L=f,N=f,P=f,T=f,X=f,Z=f,aa=f,ha=f,Y=f,g=e.xml_mode,h=k(b.$id())?' id="'+b.$id()+'"':f,m=["videoblock",b.$role()].$compact(),l=' class="'+p(m," ")+'"',q=k(b["$title?"]())?'\n<div class="title">'+b.$captioned_title()+"</div>":f,r=k(b["$attr?"]("width"))?' width="'+b.$attr("width")+'"':f,n=k(b["$attr?"]("height"))?' height="'+b.$attr("height")+'"':f;return function(){t=b.$attr("poster");if("vimeo"["$==="](t))return k((u=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())||
(u=""+u+":"),x=k(b["$attr?"]("start",f,!1))?"#at="+b.$attr("start"):f,v="?",w=k(b["$option?"]("autoplay"))?""+v+"autoplay=1":f,k(w)&&(v="&amp;"),A=k(b["$option?"]("loop"))?""+v+"loop=1":f,"<div"+h+l+">"+q+'\n<div class="content">\n<iframe'+r+n+' src="'+u+"//player.vimeo.com/video/"+b.$attr("target")+x+w+A+'" frameborder="0"'+(k(b["$option?"]("nofullscreen"))?f:e.$append_boolean_attribute("allowfullscreen",g))+"></iframe>\n</div>\n</div>";if("youtube"["$==="](t))return k((u=b.$document().$attr("asset-uri-scheme",
"https"))["$empty?"]())||(u=""+u+":"),C=k(b["$option?"]("related"))?1:0,E=k(b["$attr?"]("start",f,!1))?"&amp;start="+b.$attr("start"):f,B=k(b["$attr?"]("end",f,!1))?"&amp;end="+b.$attr("end"):f,w=k(b["$option?"]("autoplay"))?"&amp;autoplay=1":f,A=k(b["$option?"]("loop"))?"&amp;loop=1":f,G=k(b["$option?"]("nocontrols"))?"&amp;controls=0":f,k(b["$option?"]("nofullscreen"))?(D="&amp;fs=0",H=f):(D=f,H=e.$append_boolean_attribute("allowfullscreen",g)),R=k(b["$option?"]("modest"))?"&amp;modestbranding=1":
f,K=k(b["$attr?"]("theme",f,!1))?"&amp;theme="+b.$attr("theme"):f,U=k(b["$attr?"]("lang"))?"&amp;hl="+b.$attr("lang"):f,d=b.$attr("target").$split("/",2),c=a.to_ary(d),V=null==c[0]?f:c[0],L=null==c[1]?f:c[1],d,k(L=k(c=L)?c:b.$attr("list",f,!1))?N="&amp;list="+L:(d=V.$split(",",2),c=a.to_ary(d),V=null==c[0]?f:c[0],P=null==c[1]?f:c[1],d,N=k(P=k(c=P)?c:b.$attr("playlist",f,!1))?"&amp;playlist="+P:k(A)?"&amp;playlist="+V:f),"<div"+h+l+">"+q+'\n<div class="content">\n<iframe'+r+n+' src="'+u+"//www.youtube.com/embed/"+
V+"?rel="+C+E+B+w+A+G+N+D+R+K+U+'" frameborder="0"'+H+"></iframe>\n</div>\n</div>";T=k((X=b.$attr("poster",f,!1))["$nil_or_empty?"]())?f:' poster="'+b.$media_uri(X)+'"';Z=k((X=b.$attr("preload",f,!1))["$nil_or_empty?"]())?f:' preload="'+X+'"';aa=b.$attr("start",f,!1);ha=b.$attr("end",f,!1);Y=k(k(c=aa)?c:ha)?"#t="+aa+(k(ha)?",":f)+ha:f;return"<div"+h+l+">"+q+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+Y+'"'+r+n+T+(k(b["$option?"]("autoplay"))?e.$append_boolean_attribute("autoplay",
g):f)+(k(b["$option?"]("nocontrols"))?f:e.$append_boolean_attribute("controls",g))+(k(b["$option?"]("loop"))?e.$append_boolean_attribute("loop",g):f)+Z+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},ta.$$arity=1);a.defn(e,"$inline_anchor",fa=function(a){var b,c,d=this,e=f,g=f,h=f,m=f,l=f,p=f,q=f,e=a.$target();return function(){g=a.$type();if("xref"["$==="](g))return h=k(b=a.$attributes()["$[]"]("refid"))?b:e,m=k(b=k(c=a.$text())?c:a.$document().$catalog()["$[]"]("ids")["$[]"](h))?
b:"["+h+"]",'<a href="'+e+'">'+m+"</a>";if("ref"["$==="](g))return'<a id="'+e+'"></a>';if("link"["$==="](g)){l=[];if(k(a.$id()))l["$<<"](' id="'+a.$id()+'"');if(k(p=a.$role()))l["$<<"](' class="'+p+'"');if(k(a["$attr?"]("title",f,!1)))l["$<<"](' title="'+a.$attr("title")+'"');if(k(a["$attr?"]("window",f,!1)))l["$<<"](' target="'+(q=a.$attr("window"))+'"'+(k(k(b=q["$=="]("_blank"))?b:a["$option?"]("noopener"))?' rel="noopener"':""));return'<a href="'+e+'"'+l.$join()+">"+a.$text()+"</a>"}return"bibref"["$==="](g)?
'<a id="'+e+'"></a>'+a.$text():d.$warn("asciidoctor: WARNING: unknown anchor type: "+a.$type().$inspect())}()},fa.$$arity=1);a.defn(e,"$inline_break",ya=function(a){return""+a.$text()+"<br"+this.void_element_slash+">"},ya.$$arity=1);a.defn(e,"$inline_button",ua=function(a){return'<b class="button">'+a.$text()+"</b>"},ua.$$arity=1);a.defn(e,"$inline_callout",za=function(a){var b=f;return k(a.$document()["$attr?"]("icons","font"))?'<i class="conum" data-value="'+a.$text()+'"></i><b>('+a.$text()+")</b>":
k(a.$document()["$attr?"]("icons"))?(b=a.$icon_uri("callouts/"+a.$text()),'<img src="'+b+'" alt="'+a.$text()+'"'+this.void_element_slash+">"):'<b class="conum">('+a.$text()+")</b>"},za.$$arity=1);a.defn(e,"$inline_footnote",Ea=function(a){var b=f,c=f;if(k(b=a.$attr("index",f,!1))){if(a.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+b+"</a>]</sup>";c=k(a.$id())?' id="_footnote_'+a.$id()+'"':f;return'<sup class="footnote"'+
c+'>[<a id="_footnoteref_'+b+'" class="footnote" href="#_footnote_'+b+'" title="View footnote.">'+b+"</a>]</sup>"}return a.$type()["$=="]("xref")?'<sup class="footnoteref red" title="Unresolved footnote reference.">['+a.$text()+"]</sup>":f},Ea.$$arity=1);a.defn(e,"$inline_image",Ga=function(b){var c,d,e,h,m,l,p=f,q=f,r=f,n=r=f,x=f,v=f,w=f,y=f,A=f,C=f,E=f;c=f;k((c=(p=b.$type())["$=="]("icon"))?b.$document()["$attr?"]("icons","font"):(p=b.$type())["$=="]("icon"))?(q="fa fa-"+b.$target(),u(t(["size",
"rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"}),"each",[],(d=function(a,c){null==a&&(a=f);null==c&&(c=f);return k(b["$attr?"](a))?q=""+q+" "+c+b.$attr(a):f},d.$$s=this,d.$$arity=2,d)),r=k(b["$attr?"]("title"))?' title="'+b.$attr("title")+'"':f,r='<i class="'+q+'"'+r+"></i>"):k((c=p["$=="]("icon"))?b.$document()["$attr?"]("icons")["$!"]():p["$=="]("icon"))?r="["+b.$attr("alt")+"]":(n=b.$target(),x=u(["width","height","title"],"map",[],(e=function(a){null==a&&(a=f);return k(b["$attr?"](a))?
" "+a+'="'+b.$attr(a)+'"':f},e.$$s=this,e.$$arity=1,e)).$join(),k(k(c=k(h=k(m=p["$!="]("icon"))?k(l=b["$attr?"]("format","svg",!1))?l:n["$include?"](".svg"):m)?g(b.$document().$safe(),a.const_get_qualified(a.const_get_relative(B,"SafeMode"),"SECURE")):h)?k(h=v=b["$option?"]("inline"))?h:w=b["$option?"]("interactive"):c)&&(k(v)?r=k(c=this.$read_svg_contents(b,n))?c:'<span class="alt">'+b.$attr("alt")+"</span>":k(w)&&(y=k(b["$attr?"]("fallback"))?'<img src="'+b.$image_uri(b.$attr("fallback"))+'" alt="'+
b.$attr("alt")+'"'+x+this.void_element_slash+">":'<span class="alt">'+b.$attr("alt")+"</span>",r='<object type="image/svg+xml" data="'+b.$image_uri(n)+'"'+x+">"+y+"</object>")),r=k(c=r)?c:'<img src="'+(p["$=="]("icon")?b.$icon_uri(n):b.$image_uri(n))+'" alt="'+b.$attr("alt")+'"'+x+this.void_element_slash+">");k(b["$attr?"]("link"))&&(k(b["$attr?"]("window"))&&(A=' target="'+(C=b.$attr("window"))+'"'+(k(k(c=C["$=="]("_blank"))?c:b["$option?"]("noopener"))?' rel="noopener"':"")),r='<a class="image" href="'+
b.$attr("link")+'"'+A+">"+r+"</a>");q=k(E=b.$role())?""+p+" "+E:p;c=k(b["$attr?"]("float"))?' style="float: '+b.$attr("float")+'"':f;return'<span class="'+q+'"'+c+">"+r+"</span>"},Ga.$$arity=1);a.defn(e,"$inline_indexterm",Ba=function(a){return a.$type()["$=="]("visible")?a.$text():""},Ba.$$arity=1);a.defn(e,"$inline_kbd",Ca=function(a){var b=f;return(b=a.$attr("keys")).$size()["$=="](1)?"<kbd>"+b["$[]"](0)+"</kbd>":'<span class="keyseq"><kbd>'+p(b,"</kbd>+<kbd>")+"</kbd></span>"},Ca.$$arity=1);a.defn(e,
"$inline_menu",Fa=function(a){var b=f,c=f,d=f,e=f,g=f,b=k(a.$document()["$attr?"]("icons","font"))?'&#160;<i class="fa fa-angle-right caret"></i> ':'&#160;<b class="caret">&#8250;</b> ',c="</b>"+b+'<b class="submenu">',d=a.$attr("menu");return k((e=a.$attr("submenus"))["$empty?"]())?k(g=a.$attr("menuitem",f,!1))?'<span class="menuseq"><b class="menu">'+d+"</b>"+b+'<b class="menuitem">'+g+"</b></span>":'<b class="menuref">'+d+"</b>":'<span class="menuseq"><b class="menu">'+d+"</b>"+b+'<b class="submenu">'+
p(e,c)+"</b>"+b+'<b class="menuitem">'+a.$attr("menuitem")+"</b></span>"},Fa.$$arity=1);a.defn(e,"$inline_quoted",Da=function(b){var c,d,e=f,g=f;d=c=f;d=a.const_get_relative(B,"QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(d);e=null==c[0]?f:c[0];g=null==c[1]?f:c[1];c=null==c[2]?f:c[2];d;d=k(b.$role())?k(c)?""+e.$chop()+' class="'+b.$role()+'">'+b.$text()+g:'<span class="'+b.$role()+'">'+e+b.$text()+g+"</span>":""+e+b.$text()+g;return k(b.$id())?'<a id="'+b.$id()+'"></a>'+d:d},Da.$$arity=1);a.defn(e,"$append_boolean_attribute",
Ha=function(a,b){return k(b)?" "+a+'="'+a+'"':" "+a},Ha.$$arity=2);return(a.defn(e,"$read_svg_contents",Ia=function(b,c){var d,e=f,g=f,h=f;k(e=b.$read_contents(c,t(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))&&(k(e["$start_with?"]("<svg"))||(e=e.$sub(a.const_get_relative(B,"SvgPreambleRx"),"")),g=h=f,u(["width","height"],"each",[],(d=function(c){null==c&&(c=f);return k(b["$attr?"](c))?(k(h)||(h=(g=e.$match(a.const_get_relative(B,"SvgStartTagRx"))["$[]"](0)).$gsub(a.const_get_relative(B,
"DimensionAttributeRx"),"")),h=""+h.$chop()+" "+c+'="'+b.$attr(c)+'px">'):f},d.$$s=this,d.$$arity=1,d)),k(h)&&(e=""+h+e["$[]"](a.Range.$new(g.$length(),-1,!1))));return e},Ia.$$arity=2),f)&&"read_svg_contents"})(a.const_get_relative(D,"Converter"),a.const_get_qualified(a.const_get_relative(D,"Converter"),"BuiltIn"),D)}(n[0],n)};Opal.modules["asciidoctor/extensions"]=function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a-c:a["$-"](c)}function h(a,b){return"number"===typeof a&&
"number"===typeof b?a>b:a["$>"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function l(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var q=[],g=a.nil,c=a.module,n=a.klass,f=a.truthy,e=a.hash2,d=a.send,u=a.hash;a.add_stubs("$[]= $config $- $nil_or_empty? $name $grep $constants $include $const_get $extend $attr_reader $merge $class $update $raise $document $delete $new $[] $fetch $attr? $title= $== $key? $attributes $generate_id $title $id= $create_block $=== $has_more_lines? $next_block $dup $<< $each $define_method $unshift $shift $send $empty? $size $call $option $flatten $> $respond_to? $include? $to_s $split $to_i $compact $inspect $attr_accessor $to_set $! $resolve_regexp $match? $method $register $+ $values $groups $arity $instance_exec $to_proc $activate $add_document_processor $any? $select $add_syntax_processor $to_sym $private $tr $join $map $capitalize $instance_variable_get $instance_variable_set $resolve_args $freeze $process_block_given? $source_location $resolve_class $< $update_config $push $as_symbol $name= $pop $-@ $next_auto_id $generate_name $class_for_name $const_defined?".split(" "));
return function(q,k){var v=[c(q,"Asciidoctor")].concat(k);(function(k,q){var t=c(k,"Extensions"),r=[t].concat(q);(function(c,$super,h){function k(){}c=k=n(c,$super,"Processor",k);var l=c.$$proto,p=[c].concat(h),q,r,t,u,x,v,w,y,B;l.config=g;(function(c,h){var k=[c].concat(h),l,p,q;a.defn(c,"$config",l=function(){var a;null==this.config&&(this.config=g);return this.config=f(a=this.config)?a:e([],{})},l.$$arity=0);a.defn(c,"$option",p=function(c,e){var f=g,f=[c,e];d(this.$config(),"[]=",a.to_a(f));return f[b(f.length,
1)]},p.$$arity=2);a.defn(c,"$use_dsl",q=function(){return f(this.$name()["$nil_or_empty?"]())?f((a.Module.$$nesting=k,this.$constants()).$grep("DSL"))?this.$include(this.$const_get("DSL")):g:f((a.Module.$$nesting=k,this.$constants()).$grep("DSL"))?this.$extend(this.$const_get("DSL")):g},q.$$arity=0);a.alias(c,"extend_dsl","use_dsl");return a.alias(c,"include_dsl","use_dsl")})(a.get_singleton_class(c),p);c.$attr_reader("config");a.defn(c,"$initialize",q=function(a){null==a&&(a=e([],{}));return this.config=
this.$class().$config().$merge(a)},q.$$arity=-1);a.defn(c,"$update_config",r=function(a){return this.config.$update(a)},r.$$arity=1);a.defn(c,"$process",t=function(b){var c,d=arguments.length;c=d-0;0>c&&(c=0);c=Array(c);for(var e=0;e<d;e++)c[e-0]=arguments[e];return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Processor subclass must implement #process method")},t.$$arity=-1);a.defn(c,"$create_section",u=function(c,h,k,l){var q,r=g,n=g,t=g,u=g;null==l&&(l=
e([],{}));r=c.$document();n=k.$delete("id");t=a.const_get_relative(p,"Section").$new(c,l["$[]"]("level"),l.$fetch("numbered",r["$attr?"]("sectnums")),e(["attributes"],{attributes:k}).$merge(l));u=[h];d(t,"title=",a.to_a(u));u[b(u.length,1)];n["$=="](!1)||(u=[(u=["id",f(q=n)?q:f(r.$attributes()["$key?"]("sectids"))?a.const_get_relative(p,"Section").$generate_id(t.$title(),r):g],d(t.$attributes(),"[]=",a.to_a(u)),u[b(u.length,1)])],d(t,"id=",a.to_a(u)),u[b(u.length,1)]);return t},u.$$arity=-4);a.defn(c,
"$create_block",x=function(b,c,d,f,g){null==g&&(g=e([],{}));return a.const_get_relative(p,"Block").$new(b,c,e(["source","attributes"],{source:d,attributes:f}).$merge(g))},x.$$arity=-5);a.defn(c,"$create_image_block",v=function(a,b,c){null==c&&(c=e([],{}));return this.$create_block(a,"image",g,b,c)},v.$$arity=-3);a.defn(c,"$create_inline",w=function(b,c,d,f){null==f&&(f=e([],{}));return a.const_get_relative(p,"Inline").$new(b,c,d,f)},w.$$arity=-4);a.defn(c,"$parse_content",y=function(b,c,d){var h=
g,k=g;null==d&&(d=g);for(h=f(a.const_get_relative(p,"Reader")["$==="](c))?c:a.const_get_relative(p,"Reader").$new(c);f(h["$has_more_lines?"]());)if(k=a.const_get_relative(p,"Parser").$next_block(h,b,f(d)?d.$dup():e([],{})),f(k))b["$<<"](k);return b},y.$$arity=-3);return d([["create_paragraph","create_block","paragraph"],["create_open_block","create_block","open"],["create_example_block","create_block","example"],["create_pass_block","create_block","pass"],["create_listing_block","create_block","listing"],
["create_literal_block","create_block","literal"],["create_anchor","create_inline","anchor"]],"each",[],(B=function(b,c,e){var f=B.$$s||this,h;null==b&&(b=g);null==c&&(c=g);null==e&&(e=g);return d(f,"define_method",[b],(h=function(b){var f=h.$$s||this,g,k=arguments.length;g=k-0;0>g&&(g=0);g=Array(g);for(var m=0;m<k;m++)g[m-0]=arguments[m];g.$unshift(g.$shift(),e);return d(f,"send",[c].concat(a.to_a(g)))},h.$$s=f,h.$$arity=-1,h))},B.$$s=c,B.$$arity=3,B))})(r[0],null,r);(function(e,h){var k=c(e,"ProcessorDsl");
[k].concat(h);var l,p,q;a.defn(k,"$option",l=function(c,e){var f=g,f=[c,e];d(this.$config(),"[]=",a.to_a(f));return f[b(f.length,1)]},l.$$arity=2);a.defn(k,"$process",p=function(b){var c,e,h=p.$$p,k=h||g;null==this.process_block&&(this.process_block=g);var m=arguments.length;e=m-0;0>e&&(e=0);e=Array(e);for(var l=0;l<m;l++)e[l-0]=arguments[l];h&&(p.$$p=null);return k!==g?(f(e["$empty?"]())||this.$raise(a.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+e.$size()+", expected 0)"),
this.process_block=k):f((c=this.process_block,null!=c&&c!==g)?"instance-variable":g)?d(this.process_block,"call",a.to_a(e)):this.$raise(a.const_get_qualified("::","NotImplementedError"))},p.$$arity=-1);a.defn(k,"$process_block_given?",q=function(){var a;return(a=this.process_block,null!=a&&a!==g)?"instance-variable":g},q.$$arity=0)})(r[0],r);(function(k,l){var p=c(k,"SyntaxDsl"),q=[p].concat(l),r,n,t,u,x;p.$include(a.const_get_relative(q,"ProcessorDsl"));a.defn(p,"$named",r=function(b){return f(a.const_get_relative(q,
"Processor")["$==="](this))?this.name=b:this.$option("name",b)},r.$$arity=1);a.alias(p,"match_name","named");a.defn(p,"$content_model",n=function(a){return this.$option("content_model",a)},n.$$arity=1);a.alias(p,"parse_content_as","content_model");a.alias(p,"parses_content_as","content_model");a.defn(p,"$positional_attrs",t=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("pos_attrs",b.$flatten())},t.$$arity=-1);a.alias(p,
"name_attributes","positional_attrs");a.alias(p,"name_positional_attributes","positional_attrs");a.defn(p,"$default_attrs",u=function(a){return this.$option("default_attrs",a)},u.$$arity=1);a.defn(p,"$resolves_attributes",x=function(c){var k,l,p,q=this,r,n=g,t=g,u=g,x=arguments.length,v=x-0;0>v&&(v=0);r=Array(v);for(v=0;v<x;v++)r[v-0]=arguments[v];f(h(r.$size(),1))||f((r=r.$fetch(0,!0))["$respond_to?"]("to_sym"))&&(r=[r]);return function(){n=r;return(!0)["$==="](n)?(q.$option("pos_attrs",[]),q.$option("default_attrs",
e([],{}))):a.const_get_qualified("::","Array")["$==="](n)?(k=[[],e([],{})],t=k[0],u=k[1],k,d(r,"each",[],(l=function(c){var e,h=g,k=g,l=g,l=g;null==c&&(c=g);return f((c=c.$to_s())["$include?"]("="))?(e=c.$split("=",2),c=a.to_ary(e),h=null==c[0]?g:c[0],k=null==c[1]?g:c[1],e,f(h["$include?"](":"))&&(e=h.$split(":",2),c=a.to_ary(e),l=null==c[0]?g:c[0],h=null==c[1]?g:c[1],e,l=l["$=="]("@")?t.$size():l.$to_i(),l=[l,h],d(t,"[]=",a.to_a(l)),l[b(l.length,1)]),l=[h,k],d(u,"[]=",a.to_a(l)),l[b(l.length,1)]):
f(c["$include?"](":"))?(e=c.$split(":",2),c=a.to_ary(e),l=null==c[0]?g:c[0],h=null==c[1]?g:c[1],e,l=l["$=="]("@")?t.$size():l.$to_i(),l=[l,h],d(t,"[]=",a.to_a(l)),l[b(l.length,1)]):t["$<<"](c)},l.$$s=q,l.$$arity=1,l)),q.$option("pos_attrs",t.$compact()),q.$option("default_attrs",u)):a.const_get_qualified("::","Hash")["$==="](n)?(k=[[],e([],{})],t=k[0],u=k[1],k,d(r,"each",[],(p=function(c,e){var h,k,l=h=g;k=g;null==c&&(c=g);null==e&&(e=g);f((h=c.$to_s())["$include?"](":"))&&(k=h.$split(":",2),h=a.to_ary(k),
l=null==h[0]?g:h[0],h=null==h[1]?g:h[1],k,l=l["$=="]("@")?t.$size():l.$to_i(),k=[l,h],d(t,"[]=",a.to_a(k)),k[b(k.length,1)]);return f(e)?(k=[h,e],d(u,"[]=",a.to_a(k)),k[b(k.length,1)]):g},p.$$s=q,p.$$arity=2,p)),q.$option("pos_attrs",t.$compact()),q.$option("default_attrs",u)):q.$raise(a.const_get_qualified("::","ArgumentError"),"unsupported attributes specification for macro: "+r.$inspect())}()},x.$$arity=-1);a.alias(p,"resolve_attributes","resolves_attributes")})(r[0],r);(function(b,$super,c){function d(){}
b=d=n(b,$super,"Preprocessor",d);[b].concat(c);var e;return(a.defn(b,"$process",e=function(b,c){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Preprocessor subclass must implement #process method")},e.$$arity=2),g)&&"process"})(r[0],a.const_get_relative(r,"Processor"),r);a.const_set(a.const_get_relative(r,"Preprocessor"),"DSL",a.const_get_relative(r,"ProcessorDsl"));(function(b,$super,c){function d(){}b=d=n(b,$super,"TreeProcessor",d);[b].concat(c);
var e;return(a.defn(b,"$process",e=function(b){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::TreeProcessor subclass must implement #process method")},e.$$arity=1),g)&&"process"})(r[0],a.const_get_relative(r,"Processor"),r);a.const_set(a.const_get_relative(r,"TreeProcessor"),"DSL",a.const_get_relative(r,"ProcessorDsl"));a.const_set(r[0],"Treeprocessor",a.const_get_relative(r,"TreeProcessor"));(function(b,$super,c){function d(){}b=d=n(b,$super,"Postprocessor",
d);[b].concat(c);var e;return(a.defn(b,"$process",e=function(b,c){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::Postprocessor subclass must implement #process method")},e.$$arity=2),g)&&"process"})(r[0],a.const_get_relative(r,"Processor"),r);a.const_set(a.const_get_relative(r,"Postprocessor"),"DSL",a.const_get_relative(r,"ProcessorDsl"));(function(b,$super,c){function d(){}b=d=n(b,$super,"IncludeProcessor",d);[b].concat(c);var e,f;a.defn(b,"$process",
e=function(b,c,d,e){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::IncludeProcessor subclass must implement #process method")},e.$$arity=4);return(a.defn(b,"$handles?",f=function(a){return!0},f.$$arity=1),g)&&"handles?"})(r[0],a.const_get_relative(r,"Processor"),r);(function(b,d){var e=c(b,"IncludeProcessorDsl"),h=[e].concat(d),k;e.$include(a.const_get_relative(h,"ProcessorDsl"));a.defn(e,"$handles?",k=function(b){var c,d,e=k.$$p,h=e||g;null==this.handles_block&&
(this.handles_block=g);var m=arguments.length;d=m-0;0>d&&(d=0);d=Array(d);for(var l=0;l<m;l++)d[l-0]=arguments[l];e&&(k.$$p=null);return h!==g?(f(d["$empty?"]())||this.$raise(a.const_get_qualified("::","ArgumentError"),"wrong number of arguments (given "+d.$size()+", expected 0)"),this.handles_block=h):f((c=this.handles_block,null!=c&&c!==g)?"instance-variable":g)?this.handles_block.$call(d["$[]"](0)):!0},k.$$arity=-1)})(r[0],r);a.const_set(a.const_get_relative(r,"IncludeProcessor"),"DSL",a.const_get_relative(r,
"IncludeProcessorDsl"));(function(c,$super,h){function k(){}c=k=n(c,$super,"DocinfoProcessor",k);var l=c.$$proto;[c].concat(h);var p,q;l.config=g;c.$attr_accessor("location");a.defn(c,"$initialize",p=function(c){var h,k=p.$$p,l=g;null==c&&(c=e([],{}));k&&(p.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",p,!1),[c],null);return f(h=this.config["$[]"]("location"))?h:(l=["location","head"],d(this.config,"[]=",a.to_a(l)),l[b(l.length,1)])},p.$$arity=-1);return(a.defn(c,"$process",q=function(b){return this.$raise(a.const_get_qualified("::",
"NotImplementedError"),"Asciidoctor::Extensions::DocinfoProcessor subclass must implement #process method")},q.$$arity=1),g)&&"process"})(r[0],a.const_get_relative(r,"Processor"),r);(function(b,d){var e=c(b,"DocinfoProcessorDsl"),f=[e].concat(d),g;e.$include(a.const_get_relative(f,"ProcessorDsl"));a.defn(e,"$at_location",g=function(a){return this.$option("location",a)},g.$$arity=1)})(r[0],r);a.const_set(a.const_get_relative(r,"DocinfoProcessor"),"DSL",a.const_get_relative(r,"DocinfoProcessorDsl"));
(function(c,$super,h){function k(){}c=k=n(c,$super,"BlockProcessor",k);var l=c.$$proto;[c].concat(h);var p,q;l.config=g;c.$attr_accessor("name");a.defn(c,"$initialize",p=function(c,h){var k,l=p.$$p,q=g,r=g;null==c&&(c=g);null==h&&(h=e([],{}));l&&(p.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",p,!1),[h],null);this.name=f(k=c)?k:this.config["$[]"]("name");q=this.config["$[]"]("contexts");a.const_get_qualified("::","NilClass")["$==="](q)?f(k=this.config["$[]"]("contexts"))?k:(r=["contexts",
["open","paragraph"].$to_set()],d(this.config,"[]=",a.to_a(r)),r[b(r.length,1)]):(r=a.const_get_qualified("::","Symbol")["$==="](q)?["contexts",[this.config["$[]"]("contexts")].$to_set()]:["contexts",this.config["$[]"]("contexts").$to_set()],d(this.config,"[]=",a.to_a(r)),r[b(r.length,1)]);return f(k=this.config["$[]"]("content_model"))?k:(r=["content_model","compound"],d(this.config,"[]=",a.to_a(r)),r[b(r.length,1)])},p.$$arity=-1);return(a.defn(c,"$process",q=function(b,c,d){return this.$raise(a.const_get_qualified("::",
"NotImplementedError"),"Asciidoctor::Extensions::BlockProcessor subclass must implement #process method")},q.$$arity=3),g)&&"process"})(r[0],a.const_get_relative(r,"Processor"),r);(function(b,d){var e=c(b,"BlockProcessorDsl"),f=[e].concat(d),g;e.$include(a.const_get_relative(f,"SyntaxDsl"));a.defn(e,"$contexts",g=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var d=0;d<c;d++)b[d-0]=arguments[d];return this.$option("contexts",b.$flatten())},g.$$arity=-1);a.alias(e,"on_contexts",
"contexts");a.alias(e,"on_context","contexts");a.alias(e,"bound_to","contexts")})(r[0],r);a.const_set(a.const_get_relative(r,"BlockProcessor"),"DSL",a.const_get_relative(r,"BlockProcessorDsl"));(function(c,$super,h){function k(){}c=k=n(c,$super,"MacroProcessor",k);var l=c.$$proto;[c].concat(h);var p,q;l.config=g;c.$attr_accessor("name");a.defn(c,"$initialize",p=function(c,h){var k,l=p.$$p,q=g;null==c&&(c=g);null==h&&(h=e([],{}));l&&(p.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",p,!1),
[h],null);this.name=f(k=c)?k:this.config["$[]"]("name");return f(k=this.config["$[]"]("content_model"))?k:(q=["content_model","attributes"],d(this.config,"[]=",a.to_a(q)),q[b(q.length,1)])},p.$$arity=-1);return(a.defn(c,"$process",q=function(b,c,d){return this.$raise(a.const_get_qualified("::","NotImplementedError"),"Asciidoctor::Extensions::MacroProcessor subclass must implement #process method")},q.$$arity=3),g)&&"process"})(r[0],a.const_get_relative(r,"Processor"),r);(function(b,e){var h=c(b,"MacroProcessorDsl"),
k=[h].concat(e),m;h.$include(a.const_get_relative(k,"SyntaxDsl"));a.defn(h,"$resolves_attributes",m=function(b){var c,e=m.$$p,h=g,k=g,l=g,h=arguments.length;c=h-0;0>c&&(c=0);c=Array(c);for(k=0;k<h;k++)c[k-0]=arguments[k];e&&(m.$$p=null);k=0;l=arguments.length;for(h=Array(l);k<l;k++)h[k]=arguments[k];if(f(c.$size()["$=="](1)?c["$[]"](0)["$!"]():c.$size()["$=="](1)))return this.$option("content_model","text"),g;d(this,a.find_super_dispatcher(this,"resolves_attributes",m,!1),h,e);return this.$option("content_model",
"attributes")},m.$$arity=-1);a.alias(h,"resolve_attributes","resolves_attributes")})(r[0],r);(function(a,$super,b){function c(){}[c=n(a,$super,"BlockMacroProcessor",c)].concat(b);return g})(r[0],a.const_get_relative(r,"MacroProcessor"),r);a.const_set(a.const_get_relative(r,"BlockMacroProcessor"),"DSL",a.const_get_relative(r,"MacroProcessorDsl"));(function(c,$super,h){function k(){}c=k=n(c,$super,"InlineMacroProcessor",k);var l=c.$$proto,p=[c].concat(h),q,r;l.config=l.name=g;a.class_variable_set(k,
"@@rx_cache",e([],{}));a.defn(c,"$regexp",q=function(){var c,e=g;return f(c=this.config["$[]"]("regexp"))?c:(e=["regexp",this.$resolve_regexp(this.name.$to_s(),this.config["$[]"]("format"))],d(this.config,"[]=",a.to_a(e)),e[b(e.length,1)])},q.$$arity=0);return(a.defn(c,"$resolve_regexp",r=function(c,e){var h,l,q=g;f(a.const_get_relative(p,"MacroNameRx")["$match?"](c))||this.$raise(a.const_get_qualified("::","ArgumentError"),"invalid name for inline macro: "+c);return f(h=(null==(l=k.$$cvars["@@rx_cache"])?
g:l)["$[]"]([c,e]))?h:(q=[[c,e],new RegExp("\\\\?"+c+":"+(e["$=="]("short")?"(){0}":"(\\S+?)")+"\\[(|.*?[^\\\\])\\]")],d(null==(l=k.$$cvars["@@rx_cache"])?g:l,"[]=",a.to_a(q)),q[b(q.length,1)])},r.$$arity=2),g)&&"resolve_regexp"})(r[0],a.const_get_relative(r,"MacroProcessor"),r);(function(b,d){var e=c(b,"InlineMacroProcessorDsl"),f=[e].concat(d),g,h;e.$include(a.const_get_relative(f,"MacroProcessorDsl"));a.defn(e,"$with_format",g=function(a){return this.$option("format",a)},g.$$arity=1);a.alias(e,
"using_format","with_format");a.defn(e,"$matches",h=function(a){return this.$option("regexp",a)},h.$$arity=1);a.alias(e,"match","matches");a.alias(e,"matching","matches")})(r[0],r);a.const_set(a.const_get_relative(r,"InlineMacroProcessor"),"DSL",a.const_get_relative(r,"InlineMacroProcessorDsl"));(function(b,$super,c){function d(){}b=d=n(b,$super,"Extension",d);[b].concat(c);var e;b.$attr_reader("kind");b.$attr_reader("config");b.$attr_reader("instance");return(a.defn(b,"$initialize",e=function(a,
b,c){this.kind=a;this.instance=b;return this.config=c},e.$$arity=3),g)&&"initialize"})(r[0],null,r);(function(b,$super,c){function e(){}b=e=n(b,$super,"ProcessorExtension",e);[b].concat(c);var h;b.$attr_reader("process_method");return(a.defn(b,"$initialize",h=function(b,c,e){var k,m=h.$$p;null==e&&(e=g);m&&(h.$$p=null);d(this,a.find_super_dispatcher(this,"initialize",h,!1),[b,c,c.$config()],null);return this.process_method=f(k=e)?k:c.$method("process")},h.$$arity=-3),g)&&"initialize"})(r[0],a.const_get_relative(r,
"Extension"),r);(function(b,$super,c){function d(){}b=d=n(b,$super,"Group",d);c=[b].concat(c);var e;(function(b,c){var d=[b].concat(c),e;return(a.defn(b,"$register",e=function(b){null==b&&(b=g);return a.const_get_relative(d,"Extensions").$register(b,this)},e.$$arity=-1),g)&&"register"})(a.get_singleton_class(b),c);return(a.defn(b,"$activate",e=function(b){return this.$raise(a.const_get_qualified("::","NotImplementedError"))},e.$$arity=1),g)&&"activate"})(r[0],null,r);(function(c,$super,k){function q(){}
c=q=n(c,$super,"Registry",q);var r=c.$$proto,t=[c].concat(k),u,x,v,w,B,G,D,ba,Q,L,aa,U,S,ia,H,Y,ha,da,ea,la,Aa,oa,ra,qa,ma,ja,ta,fa,ya,ua,za,Ea,Ga,Ba;r.groups=r.preprocessor_extensions=r.tree_processor_extensions=r.postprocessor_extensions=r.include_processor_extensions=r.docinfo_processor_extensions=r.block_extensions=r.block_macro_extensions=r.inline_macro_extensions=g;c.$attr_reader("document");c.$attr_reader("groups");a.defn(c,"$initialize",u=function(a){null==a&&(a=e([],{}));this.groups=a;return this.document=
this.block_extensions=this.block_macro_extensions=this.inline_macro_extensions=this.preprocessor_extensions=this.tree_processor_extensions=this.postprocessor_extensions=this.include_processor_extensions=this.docinfo_processor_extensions=g},u.$$arity=-1);a.defn(c,"$activate",x=function(b){var c;this.document=b;d(p(a.const_get_relative(t,"Extensions").$groups().$values(),this.groups.$values()),"each",[],(c=function(b){var e=c.$$s||this,f=g;null==b&&(b=g);f=b;a.const_get_qualified("::","Proc")["$==="](f)?
(f=b.$arity(),b=0["$==="](f)||-1["$==="](f)?d(e,"instance_exec",[],b.$to_proc()):1["$==="](f)?b.$call(e):g):b=a.const_get_qualified("::","Class")["$==="](f)?b.$new().$activate(e):b.$activate(e);return b},c.$$s=this,c.$$arity=1,c));return this},x.$$arity=1);a.defn(c,"$preprocessor",v=function(a){var b,c=v.$$p,e=c||g,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];c&&(v.$$p=null);return d(this,"add_document_processor",["preprocessor",b],e.$to_proc())},v.$$arity=
-1);a.defn(c,"$preprocessors?",w=function(){return this.preprocessor_extensions["$!"]()["$!"]()},w.$$arity=0);a.defn(c,"$preprocessors",B=function(){return this.preprocessor_extensions},B.$$arity=0);a.defn(c,"$tree_processor",G=function(a){var b,c=G.$$p,e=c||g,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];c&&(G.$$p=null);return d(this,"add_document_processor",["tree_processor",b],e.$to_proc())},G.$$arity=-1);a.defn(c,"$tree_processors?",D=function(){return this.tree_processor_extensions["$!"]()["$!"]()},
D.$$arity=0);a.defn(c,"$tree_processors",ba=function(){return this.tree_processor_extensions},ba.$$arity=0);a.alias(c,"treeprocessor","tree_processor");a.alias(c,"treeprocessors?","tree_processors?");a.alias(c,"treeprocessors","tree_processors");a.defn(c,"$postprocessor",Q=function(a){var b,c=Q.$$p,e=c||g,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];c&&(Q.$$p=null);return d(this,"add_document_processor",["postprocessor",b],e.$to_proc())},Q.$$arity=-1);a.defn(c,
"$postprocessors?",L=function(){return this.postprocessor_extensions["$!"]()["$!"]()},L.$$arity=0);a.defn(c,"$postprocessors",aa=function(){return this.postprocessor_extensions},aa.$$arity=0);a.defn(c,"$include_processor",U=function(a){var b,c=U.$$p,e=c||g,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];c&&(U.$$p=null);return d(this,"add_document_processor",["include_processor",b],e.$to_proc())},U.$$arity=-1);a.defn(c,"$include_processors?",S=function(){return this.include_processor_extensions["$!"]()["$!"]()},
S.$$arity=0);a.defn(c,"$include_processors",ia=function(){return this.include_processor_extensions},ia.$$arity=0);a.defn(c,"$docinfo_processor",H=function(a){var b,c=H.$$p,e=c||g,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];c&&(H.$$p=null);return d(this,"add_document_processor",["docinfo_processor",b],e.$to_proc())},H.$$arity=-1);a.defn(c,"$docinfo_processors?",Y=function(a){var b;null==a&&(a=g);return f(this.docinfo_processor_extensions)?f(a)?d(this.docinfo_processor_extensions,
"any?",[],(b=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):!0:!1},Y.$$arity=-1);a.defn(c,"$docinfo_processors",ha=function(a){var b;null==a&&(a=g);return f(this.docinfo_processor_extensions)?f(a)?d(this.docinfo_processor_extensions,"select",[],(b=function(b){null==b&&(b=g);return b.$config()["$[]"]("location")["$=="](a)},b.$$s=this,b.$$arity=1,b)):this.docinfo_processor_extensions:g},ha.$$arity=-1);a.defn(c,"$block",da=function(a){var b,c=da.$$p,
e=c||g,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];c&&(da.$$p=null);return d(this,"add_syntax_processor",["block",b],e.$to_proc())},da.$$arity=-1);a.defn(c,"$blocks?",ea=function(){return this.block_extensions["$!"]()["$!"]()},ea.$$arity=0);a.defn(c,"$registered_for_block?",la=function(a,b){var c=g;return f(c=this.block_extensions["$[]"](a.$to_sym()))?f(c.$config()["$[]"]("contexts")["$include?"](b))?c:!1:!1},la.$$arity=2);a.defn(c,"$find_block_extension",
Aa=function(a){return this.block_extensions["$[]"](a.$to_sym())},Aa.$$arity=1);a.defn(c,"$block_macro",oa=function(a){var b,c=oa.$$p,e=c||g,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];c&&(oa.$$p=null);return d(this,"add_syntax_processor",["block_macro",b],e.$to_proc())},oa.$$arity=-1);a.defn(c,"$block_macros?",ra=function(){return this.block_macro_extensions["$!"]()["$!"]()},ra.$$arity=0);a.defn(c,"$registered_for_block_macro?",qa=function(a){var b=g;return f(b=
this.block_macro_extensions["$[]"](a.$to_sym()))?b:!1},qa.$$arity=1);a.defn(c,"$find_block_macro_extension",ma=function(a){return this.block_macro_extensions["$[]"](a.$to_sym())},ma.$$arity=1);a.defn(c,"$inline_macro",ja=function(a){var b,c=ja.$$p,e=c||g,f=arguments.length;b=f-0;0>b&&(b=0);b=Array(b);for(var h=0;h<f;h++)b[h-0]=arguments[h];c&&(ja.$$p=null);return d(this,"add_syntax_processor",["inline_macro",b],e.$to_proc())},ja.$$arity=-1);a.defn(c,"$inline_macros?",ta=function(){return this.inline_macro_extensions["$!"]()["$!"]()},
ta.$$arity=0);a.defn(c,"$registered_for_inline_macro?",fa=function(a){var b=g;return f(b=this.inline_macro_extensions["$[]"](a.$to_sym()))?b:!1},fa.$$arity=1);a.defn(c,"$find_inline_macro_extension",ya=function(a){return this.inline_macro_extensions["$[]"](a.$to_sym())},ya.$$arity=1);a.defn(c,"$inline_macros",ua=function(){return this.inline_macro_extensions.$values()},ua.$$arity=0);c.$private();a.defn(c,"$add_document_processor",za=function(b,c){var e,h,k,m=this,p=za.$$p,q=p||g,r=g,n=g,u=g,x=g,v=
n=g,w=g,y=g,B=g,C=g;p&&(za.$$p=null);r=b.$to_s().$tr("_"," ");n=d(r.$split(),"map",[],(e=function(a){null==a&&(a=g);return a.$capitalize()},e.$$s=m,e.$$arity=1,e)).$join().$to_sym();u=a.const_get_relative(t,"Extensions").$const_get(n);x=f(a.const_get_qualified("::","AsciidoctorJ","skip_raise")?"constant":g)?a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(n):g;n=f(h=m.$instance_variable_get(("@"+b+"_extensions").$to_sym()))?h:m.$instance_variable_set(("@"+
b+"_extensions").$to_sym(),[]);v=function(){if(q!==g)return w=m.$resolve_args(c,1),y=u.$new(w),f(u.$constants().$grep("DSL"))&&y.$extend(u.$const_get("DSL")),d(y,"instance_exec",[],q.$to_proc()),y.$freeze(),f(y["$process_block_given?"]())||m.$raise(a.const_get_qualified("::","ArgumentError"),"No block specified to process "+r+" extension at "+q.$source_location()),a.const_get_relative(t,"ProcessorExtension").$new(b,y);k=m.$resolve_args(c,2);h=a.to_ary(k);y=null==h[0]?g:h[0];w=null==h[1]?g:h[1];k;
return f(B=a.const_get_relative(t,"Extensions").$resolve_class(y))?(f(f(h=l(B,u))?h:f(k=x)?l(B,x):k)||m.$raise(a.const_get_qualified("::","ArgumentError"),"Invalid type for "+r+" extension: "+y),C=B.$new(w),C.$freeze(),a.const_get_relative(t,"ProcessorExtension").$new(b,C)):f(f(h=u["$==="](y))?h:f(k=x)?x["$==="](y):k)?(y.$update_config(w),y.$freeze(),a.const_get_relative(t,"ProcessorExtension").$new(b,y)):m.$raise(a.const_get_qualified("::","ArgumentError"),"Invalid arguments specified for registering "+
r+" extension: "+c)}();return v.$config()["$[]"]("position")["$=="](">>")?n.$unshift(v):n["$<<"](v)},za.$$arity=2);a.defn(c,"$add_syntax_processor",Ea=function(c,h){var k,p,q=Ea.$$p,r=q||g,n=g,u=g,x=g,v=g,w=u=g,y=g,B=g,C=x=g,x=g;q&&(Ea.$$p=null);n=c.$to_s().$tr("_"," ");u=d(n.$split(),"map",[],(k=function(a){null==a&&(a=g);return a.$capitalize()},k.$$s=this,k.$$arity=1,k)).$push("Processor").$join().$to_sym();x=a.const_get_relative(t,"Extensions").$const_get(u);v=f(a.const_get_qualified("::","AsciidoctorJ",
"skip_raise")?"constant":g)?a.const_get_qualified(a.const_get_qualified("::","AsciidoctorJ"),"Extensions").$const_get(u):g;u=f(p=this.$instance_variable_get(("@"+c+"_extensions").$to_sym()))?p:this.$instance_variable_set(("@"+c+"_extensions").$to_sym(),e([],{}));if(r!==g)return k=this.$resolve_args(h,2),p=a.to_ary(k),w=null==p[0]?g:p[0],y=null==p[1]?g:p[1],k,B=x.$new(this.$as_symbol(w),y),f(x.$constants().$grep("DSL"))&&B.$extend(x.$const_get("DSL")),r.$arity()["$=="](1)?a.yield1(r,B):d(B,"instance_exec",
[],r.$to_proc()),f(w=this.$as_symbol(B.$name()))||this.$raise(a.const_get_qualified("::","ArgumentError"),"No name specified for "+n+" extension at "+r.$source_location()),f(B["$process_block_given?"]())||this.$raise(a.const_get_qualified("::","NoMethodError"),"No block specified to process "+n+" extension at "+r.$source_location()),B.$freeze(),x=[w,a.const_get_relative(t,"ProcessorExtension").$new(c,B)],d(u,"[]=",a.to_a(x)),x[b(x.length,1)];k=this.$resolve_args(h,3);p=a.to_ary(k);B=null==p[0]?g:
p[0];w=null==p[1]?g:p[1];y=null==p[2]?g:p[2];k;return f(C=a.const_get_relative(t,"Extensions").$resolve_class(B))?(f(f(p=l(C,x))?p:f(k=v)?l(C,v):k)||this.$raise(a.const_get_qualified("::","ArgumentError"),"Class specified for "+n+" extension does not inherit from "+x+": "+B),x=C.$new(this.$as_symbol(w),y),f(w=this.$as_symbol(x.$name()))||this.$raise(a.const_get_qualified("::","ArgumentError"),"No name specified for "+n+" extension: "+B),x.$freeze(),x=[w,a.const_get_relative(t,"ProcessorExtension").$new(c,
x)],d(u,"[]=",a.to_a(x)),x[b(x.length,1)]):f(f(p=x["$==="](B))?p:f(k=v)?v["$==="](B):k)?(B.$update_config(y),f(w)?(x=[this.$as_symbol(w)],d(B,"name=",a.to_a(x)),p=x[b(x.length,1)]):p=this.$as_symbol(B.$name()),f(w=p)||this.$raise(a.const_get_qualified("::","ArgumentError"),"No name specified for "+n+" extension: "+B),B.$freeze(),x=[w,a.const_get_relative(t,"ProcessorExtension").$new(c,B)],d(u,"[]=",a.to_a(x)),x[b(x.length,1)]):this.$raise(a.const_get_qualified("::","ArgumentError"),"Invalid arguments specified for registering "+
n+" extension: "+h)},Ea.$$arity=2);a.defn(c,"$resolve_args",Ga=function(c,d){var k=g,q=g,k=f(a.const_get_qualified("::","Hash")["$==="](c["$[]"](-1)))?c.$pop():e([],{});if(d["$=="](1))return k;f(h(q=b(b(d,1),c.$size()),0))?c=p(c,a.const_get_qualified("::","Array").$new(q)):f(l(q,0))&&c.$pop(q["$-@"]());c["$<<"](k);return c},Ga.$$arity=2);return(a.defn(c,"$as_symbol",Ba=function(a){return f(a)?a.$to_sym():g},Ba.$$arity=1),g)&&"as_symbol"})(r[0],null,r);(function(c,h){var k=[c].concat(h),l,q,r,n,t,
x,v,w,B;a.defn(c,"$generate_name",l=function(){return"extgrp"+this.$next_auto_id()},l.$$arity=0);a.defn(c,"$next_auto_id",q=function(){var a;null==this.auto_id&&(this.auto_id=g);this.auto_id=f(a=this.auto_id)?a:-1;return this.auto_id=p(this.auto_id,1)},q.$$arity=0);a.defn(c,"$groups",r=function(){var a;null==this.groups&&(this.groups=g);return this.groups=f(a=this.groups)?a:e([],{})},r.$$arity=0);a.defn(c,"$create",n=function(b){var c,d=n.$$p,e=d||g;null==b&&(b=g);d&&(n.$$p=null);return e!==g?a.const_get_relative(k,
"Registry").$new(u(f(c=b)?c:this.$generate_name(),e)):a.const_get_relative(k,"Registry").$new()},n.$$arity=-1);a.alias(c,"build_registry","create");a.defn(c,"$register",t=function(c){var e,h,k=t.$$p,l=k||g,p=g,q=g,r=g,n=g;h=g;p=arguments.length;h=p-0;0>h&&(h=0);h=Array(h);for(n=0;n<p;n++)h[n-0]=arguments[n];k&&(t.$$p=null);p=h.$size();l!==g?q=l:f(r=h.$pop())?q=f(e=this.$resolve_class(r))?e:r:this.$raise(a.const_get_qualified("::","ArgumentError"),"Extension group to register not specified");n=f(e=
h.$pop())?e:this.$generate_name();f(h["$empty?"]())||this.$raise(a.const_get_qualified("::","ArgumentError"),"Wrong number of arguments ("+p+" for 1..2)");h=[n,q];d(this.$groups(),"[]=",a.to_a(h));return h[b(h.length,1)]},t.$$arity=-1);a.defn(c,"$unregister_all",x=function(){this.groups=e([],{});return g},x.$$arity=0);a.defn(c,"$unregister",v=function(a){var b,c,e=arguments.length;c=e-0;0>c&&(c=0);c=Array(c);for(var f=0;f<e;f++)c[f-0]=arguments[f];d(c,"each",[],(b=function(a){var c=b.$$s||this;null==
c.groups&&(c.groups=g);null==a&&(a=g);return c.groups.$delete(a.$to_sym())},b.$$s=this,b.$$arity=1,b));return g},v.$$arity=-1);a.defn(c,"$resolve_class",w=function(b){var c=g,c=b;return a.const_get_qualified("::","Class")["$==="](c)?b:a.const_get_qualified("::","String")["$==="](c)?this.$class_for_name(b):g},w.$$arity=1);return(a.defn(c,"$class_for_name",B=function(b){var c,e=g,e=a.const_get_qualified("::","Object");d(b.$split("::"),"each",[],(c=function(d){var h=c.$$s||this,k,m;null==d&&(d=g);return f(f(k=
d["$empty?"]())?k:f(m=e["$const_defined?"](d))?a.const_get_qualified("::","Module")["$==="](e=e.$const_get(d)):m)?g:h.$raise(a.const_get_qualified("::","NameError"),"Could not resolve class for name: "+b)},c.$$s=this,c.$$arity=1,c));f(a.const_get_qualified("::","Class")["$==="](e))||this.$raise(a.const_get_qualified("::","NameError"),"Could not resolve class for name: "+b);return e},B.$$arity=1),g)&&"class_for_name"})(a.get_singleton_class(t),r)})(v[0],v)}(q[0],q)};Opal.modules["asciidoctor/js/postscript"]=
function(a){var b=a.top;a.add_stubs(["$require"]);b.$require("asciidoctor/converter/composite");b.$require("asciidoctor/converter/html5");return b.$require("asciidoctor/extensions")};(function(a){function b(a,c){return"number"===typeof a&&"number"===typeof c?a>=c:a["$>="](c)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function p(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var l=a.top,q=[],g=a.nil,c=a.truthy,n=a.gvars,f=a.module,e=a.hash2,d=
a.send,u=a.hash;null==n[":"]&&(n[":"]=g);a.add_stubs("$== $>= $require $unshift $dirname $each $constants $const_get $downcase $to_s $[]= $- $upcase $[] $values $new $attr_reader $instance_variable_set $send $<< $define $expand_path $join $home $pwd $! $!= $default_external $to_set $map $keys $slice $merge $* $to_a $dup $insert $start $=== $split $gsub $respond_to? $raise $ancestors $class $path $utc $at $Integer $mtime $readlines $basename $extname $index $strftime $year $rewind $lines $each_line $record $parse $exception $message $set_backtrace $backtrace $stack_trace $stack_trace= $open $load $delete $key? $attributes $outfilesuffix $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $attr $uriish? $include? $write_primary_stylesheet $instance $empty? $read_asset $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));
c(a.const_get_relative(q,"RUBY_ENGINE","skip_raise")?"constant":g)||a.const_set(q[0],"RUBY_ENGINE","unknown");a.const_set(q[0],"RUBY_ENGINE_OPAL",a.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal"));a.const_set(q[0],"RUBY_ENGINE_JRUBY",a.const_get_relative(q,"RUBY_ENGINE")["$=="]("jruby"));a.const_set(q[0],"RUBY_MIN_VERSION_1_9",b(a.const_get_relative(q,"RUBY_VERSION"),"1.9"));a.const_set(q[0],"RUBY_MIN_VERSION_2",b(a.const_get_relative(q,"RUBY_VERSION"),"2"));l.$require("set");a.const_get_relative(q,
"RUBY_ENGINE")["$=="]("opal")?l.$require("asciidoctor/js"):g;n[":"].$unshift(a.const_get_relative(q,"File").$dirname("asciidoctor"));(function(l,k){var q=f(l,"Asciidoctor"),n=[q].concat(k),v,w,r=g,B=g,A=g;a.const_set(n[0],"RUBY_ENGINE",a.const_get_qualified("::","RUBY_ENGINE"));(function(b,c){var k=f(b,"SafeMode"),m=[k].concat(c),l,n,p,q,r=g;a.const_set(m[0],"UNSAFE",0);a.const_set(m[0],"SAFE",1);a.const_set(m[0],"SERVER",10);a.const_set(m[0],"SECURE",20);r=e([],{});d((a.Module.$$nesting=m,k.$constants()),
"each",[],(l=function(b){var c=l.$$s||this,e=g;null==b&&(b=g);e=[c.$const_get(b),b.$to_s().$downcase()];d(r,"[]=",a.to_a(e));return e[h(e.length,1)]},l.$$s=k,l.$$arity=1,l));k.names_by_value=r;a.defs(k,"$value_for_name",n=function(a){return this.$const_get(a.$upcase())},n.$$arity=1);a.defs(k,"$name_for_value",p=function(a){null==this.names_by_value&&(this.names_by_value=g);return this.names_by_value["$[]"](a)},p.$$arity=1);a.defs(k,"$names",q=function(){null==this.names_by_value&&(this.names_by_value=
g);return this.names_by_value.$values()},q.$$arity=0)})(n[0],n);(function(b,c){var d=f(b,"Compliance"),e=[d].concat(c),h;d.keys=a.const_get_qualified("::","Set").$new();(function(a,b){[a].concat(b);return a.$attr_reader("keys")})(a.get_singleton_class(d),e);a.defs(d,"$define",h=function(b,c){null==this.keys&&(this.keys=g);this.$instance_variable_set("@"+b,c);var d=a.get_singleton_class(this);[d].concat(e);d.$send("attr_accessor",b);this.keys["$<<"](b);return g},h.$$arity=2);d.$define("block_terminates_paragraph",
!0);d.$define("strict_verbatim_paragraphs",!0);d.$define("underline_style_section_titles",!0);d.$define("unwrap_standalone_preamble",!0);d.$define("attribute_missing","skip");d.$define("attribute_undefined","drop-line");d.$define("shorthand_property_syntax",!0);d.$define("unique_id_start_index",2);d.$define("markdown_syntax",!0)})(n[0],n);a.const_set(n[0],"ROOT_PATH",a.const_get_qualified("::","File").$dirname(a.const_get_qualified("::","File").$dirname(a.const_get_qualified("::","File").$expand_path("asciidoctor"))));
a.const_set(n[0],"LIB_PATH",a.const_get_qualified("::","File").$join(a.const_get_relative(n,"ROOT_PATH"),"lib"));a.const_set(n[0],"DATA_PATH",a.const_get_qualified("::","File").$join(a.const_get_relative(n,"ROOT_PATH"),"data"));try{a.const_set(n[0],"USER_HOME",a.const_get_qualified("::","Dir").$home())}catch(D){if(a.rescue(D,[a.const_get_relative(n,"StandardError")]))try{a.const_set(n[0],"USER_HOME",c(v=a.const_get_qualified("::","ENV")["$[]"]("HOME"))?v:a.const_get_qualified("::","Dir").$pwd())}finally{a.pop_exception()}else throw D;
}a.const_set(n[0],"COERCE_ENCODING",c(v=a.const_get_qualified("::","RUBY_ENGINE_OPAL")["$!"]())?a.const_get_qualified("::","RUBY_MIN_VERSION_1_9"):v);a.const_set(n[0],"FORCE_ENCODING",c(v=a.const_get_relative(n,"COERCE_ENCODING"))?a.const_get_qualified("::","Encoding").$default_external()["$!="](a.const_get_qualified(a.const_get_qualified("::","Encoding"),"UTF_8")):v);a.const_set(n[0],"BOM_BYTES_UTF_8",[239,187,191]);a.const_set(n[0],"BOM_BYTES_UTF_16LE",[255,254]);a.const_set(n[0],"BOM_BYTES_UTF_16BE",
[254,255]);a.const_set(n[0],"FORCE_UNICODE_LINE_LENGTH",a.const_get_qualified("::","RUBY_MIN_VERSION_1_9")["$!"]());a.const_set(n[0],"EOL","\n");a.const_set(n[0],"NULL","\x00");a.const_set(n[0],"TAB","\t");a.const_set(n[0],"DEFAULT_DOCTYPE","article");a.const_set(n[0],"DEFAULT_BACKEND","html5");a.const_set(n[0],"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.const_set(n[0],"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.const_set(n[0],"BACKEND_ALIASES",e(["html","docbook"],{html:"html5",docbook:"docbook5"}));
a.const_set(n[0],"DEFAULT_PAGE_WIDTHS",e(["docbook"],{docbook:425}));a.const_set(n[0],"DEFAULT_EXTENSIONS",e("html docbook pdf epub manpage asciidoc".split(" "),{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",manpage:".man",asciidoc:".adoc"}));a.const_set(n[0],"ASCIIDOC_EXTENSIONS",e([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.const_set(n[0],"SETEXT_SECTION_LEVELS",e(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.const_set(n[0],
"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.const_set(n[0],"ADMONITION_STYLE_LEADERS",["N","T","I","W","C"].$to_set());a.const_set(n[0],"CALLOUT_LIST_LEADERS","<1234567890".split("").$to_set());a.const_set(n[0],"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());a.const_set(n[0],"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.const_set(n[0],"DELIMITED_BLOCKS",
e('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.const_get_qualified("::","Set").$new()],____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",
["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.const_get_qualified("::","Set").$new()],",===":["table",a.const_get_qualified("::","Set").$new()],":===":["table",a.const_get_qualified("::","Set").$new()],"!===":["table",a.const_get_qualified("::","Set").$new()],"////":["comment",a.const_get_qualified("::","Set").$new()],"```":["fenced_code",a.const_get_qualified("::","Set").$new()]}));a.const_set(n[0],"DELIMITED_BLOCK_LEADERS",d(a.const_get_relative(n,"DELIMITED_BLOCKS").$keys(),"map",
[],(w=function(a){null==a&&(a=g);return a.$slice(0,2)},w.$$s=q,w.$$arity=1,w)).$to_set());a.const_set(n[0],"LAYOUT_BREAK_CHARS",e(["'","<"],{"'":"thematic_break","<":"page_break"}));a.const_set(n[0],"MARKDOWN_THEMATIC_BREAK_CHARS",e(["-","*","_"],{"-":"thematic_break","*":"thematic_break",_:"thematic_break"}));a.const_set(n[0],"HYBRID_LAYOUT_BREAK_CHARS",a.const_get_relative(n,"LAYOUT_BREAK_CHARS").$merge(a.const_get_relative(n,"MARKDOWN_THEMATIC_BREAK_CHARS")));a.const_set(n[0],"NESTABLE_LIST_CONTEXTS",
["ulist","olist","dlist"]);a.const_set(n[0],"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.const_set(n[0],"ORDERED_LIST_KEYWORDS",e(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",upperroman:"I"}));a.const_set(n[0],"LIST_CONTINUATION","+");a.const_set(n[0],"LINE_BREAK"," +");a.const_set(n[0],"LINE_CONTINUATION"," \\");a.const_set(n[0],"LINE_CONTINUATION_LEGACY"," +");a.const_set(n[0],"BLOCK_MATH_DELIMITERS",
e(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.const_set(n[0],"INLINE_MATH_DELIMITERS",e(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.const_set(n[0],"FLEXIBLE_ATTRIBUTES",["sectnums"]);a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")||g;a.const_set(n[0],"AuthorInfoLineRx",new RegExp("^("+a.const_get_relative(n,"CG_WORD")+"["+a.const_get_relative(n,"CC_WORD")+"\\-'.]*)(?: +("+a.const_get_relative(n,"CG_WORD")+"["+a.const_get_relative(n,
"CC_WORD")+"\\-'.]*))?(?: +("+a.const_get_relative(n,"CG_WORD")+"["+a.const_get_relative(n,"CC_WORD")+"\\-'.]*))?(?: +<([^>]+?)>)?$"));a.const_set(n[0],"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?: *(?!:)(.*?))(?: *(?!^): *(.*))?$/);a.const_set(n[0],"ManpageTitleVolnumRx",/^(.+?) *\( *(.+?) *\)$/);a.const_set(n[0],"ManpageNamePurposeRx",/^(.+?) +- +(.+)$/);a.const_set(n[0],"ConditionalDirectiveRx",/^(\\)?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,+])\S+?)?)\[(.+)?\]$/);a.const_set(n[0],"EvalExpressionRx",
/^(.+?) *([=!><]=|[><]) *(.+)$/);a.const_set(n[0],"IncludeDirectiveRx",/^(\\)?include::([^\[][^\[]*)\[(.*)\]$/);a.const_set(n[0],"TagDirectiveRx",/\b(?:tag|(end))::(\S+)\[\](?: --\x3e)?$/);a.const_set(n[0],"AttributeEntryRx",/^:(!?\w.*?):(?:[ \t]+(.*))?$/);a.const_set(n[0],"InvalidAttributeNameCharsRx",/[^\w\-]/);a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?a.const_set(n[0],"AttributeEntryPassMacroRx",/^pass:([a-z]+(?:,[a-z]+)*)?\[([\S\s]*)\]$/):g;a.const_set(n[0],"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);
a.const_set(n[0],"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+))?)\\]\\]$"));a.const_set(n[0],"BlockAttributeListRx",new RegExp("^\\[(|["+a.const_get_relative(n,"CC_WORD")+".#%{,\"'].*)\\]$"));a.const_set(n[0],"BlockAttributeLineRx",new RegExp("^\\[(?:|["+a.const_get_relative(n,"CC_WORD")+".#%{,\"'].*|\\[(?:|["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*(?:, *.+)?)\\])\\]$"));
a.const_set(n[0],"BlockTitleRx",/^\.([^ \t.].*)$/);a.const_set(n[0],"AdmonitionParagraphRx",new RegExp("^("+p(a.const_get_relative(n,"ADMONITION_STYLES").$to_a(),"|")+"):[ \\t]+"));a.const_set(n[0],"LiteralParagraphRx",/^([ \t]+.*)$/);a.const_set(n[0],"CommentBlockRx",/^\/{4,}$/);a.const_set(n[0],"CommentLineRx",/^\/\/(?=[^\/]|$)/);a.const_set(n[0],"AtxSectionRx",/^(=={0,5}|#\#{0,5})[ \t]+(.+?)(?:[ \t]+\1)?$/);a.const_set(n[0],"SetextSectionTitleRx",new RegExp("^((?=.*"+a.const_get_relative(n,"CG_WORD")+
"+.*)[^.].*?)$"));a.const_set(n[0],"InlineSectionAnchorRx",new RegExp(" (\\\\)?\\[\\[(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+))?\\]\\]$"));a.const_set(n[0],"InvalidSectionIdCharsRx",new RegExp("&(?:[a-z][a-z]+\\d{0,2}|#\\d\\d\\d{0,4}|#x[\\da-f][\\da-f][\\da-f]{0,3});|[^"+a.const_get_relative(n,"CC_WORD")+"]+?"));a.const_set(n[0],"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.const_set(n[0],"AnyListRx",/^(?:[ \t]*(?:-|\*\*{0,4}|\.\.{0,4}|\u2022\u2022{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]|[ \t]*.*?(?::{2,4}|;;)(?:$|[ \t])|<?\d+>[ \t])/);
a.const_set(n[0],"UnorderedListRx",/^[ \t]*(-|\*\*{0,4}|\u2022\u2022{0,4})[ \t]+(.*)$/);a.const_set(n[0],"OrderedListRx",/^[ \t]*(\.\.{0,4}|\d+\.|[a-zA-Z]\.|[IVXivx]+\))[ \t]+(.*)$/);a.const_set(n[0],"OrderedListMarkerRxMap",e(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+\./,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));a.const_set(n[0],"DescriptionListRx",/^(?!\/\/)[ \t]*(.*?)(:{2,4}|;;)(?:[ \t]+(.*))?$/);a.const_set(n[0],"DescriptionListSiblingRx",
e(["::",":::","::::",";;"],{"::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::)(?:[ \t]+(.*))?$/,":::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(:::)(?:[ \t]+(.*))?$/,"::::":/^(?!\/\/)[ \t]*((?:.*[^:])?)(::::)(?:[ \t]+(.*))?$/,";;":/^(?!\/\/)[ \t]*(.*)(;;)(?:[ \t]+(.*))?$/}));a.const_set(n[0],"CalloutListRx",/^<?(\d+)>[ \t]+(.*)$/);a.const_set(n[0],"CalloutListSniffRx",/^<?\d+>/);a.const_set(n[0],"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(|--)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.const_set(n[0],"CalloutExtractRxt",
"(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.const_set(n[0],"CalloutScanRx",new RegExp("\\\\?<!?(|--)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+a.const_get_relative(n,"CC_EOL")+")"));a.const_set(n[0],"CalloutSourceRx",new RegExp("(?:(?://|#|--|;;) ?)?(\\\\)?&lt;!?(|--)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+a.const_get_relative(n,"CC_EOL")+")"));a.const_set(n[0],"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+a.const_get_relative(n,"CC_EOL")+")");a.const_set(n[0],
"ListRxMap",e(["ulist","olist","dlist","colist"],{ulist:a.const_get_relative(n,"UnorderedListRx"),olist:a.const_get_relative(n,"OrderedListRx"),dlist:a.const_get_relative(n,"DescriptionListRx"),colist:a.const_get_relative(n,"CalloutListRx")}));a.const_set(n[0],"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.const_set(n[0],"CellSpecStartRx",/^[ \t]*(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(n[0],
"CellSpecEndRx",/[ \t]+(?:(\d+(?:\.\d*)?|(?:\d*\.)?\d+)([*+]))?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?([a-z])?$/);a.const_set(n[0],"GenericBlockMacroRx",new RegExp("^("+a.const_get_relative(n,"CG_WORD")+"+)::(|\\S|\\S.*?\\S)\\[(.*)\\]$"));a.const_set(n[0],"MediaBlockMacroRx",/^(image|video|audio)::(\S|\S.*?\S)\[(.*)\]$/);a.const_set(n[0],"TocBlockMacroRx",/^toc::\[(.*)\]$/);a.const_set(n[0],"InlineAnchorRx",new RegExp("(\\\\)?(?:\\[\\[(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,
"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|anchor:(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\]))"));a.const_set(n[0],"InlineAnchorScanRx",new RegExp("(?:^|[^\\\\\\[])\\[\\[(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]|(?:^|[^\\\\])anchor:(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)\\[(?:\\]|(.*?[^\\\\])\\])"));a.const_set(n[0],"InlineBiblioAnchorRx",
new RegExp("^\\[\\[\\[(["+a.const_get_relative(n,"CC_ALPHA")+"_:]["+a.const_get_relative(n,"CC_WORD")+":.-]*)(?:, *(.+?))?\\]\\]\\]"));a.const_set(n[0],"EmailInlineRx",new RegExp("([\\\\>:/])?"+a.const_get_relative(n,"CG_WORD")+"["+a.const_get_relative(n,"CC_WORD")+".%+-]*@"+a.const_get_relative(n,"CG_ALNUM")+"["+a.const_get_relative(n,"CC_ALNUM")+".-]*\\."+a.const_get_relative(n,"CG_ALPHA")+"{2,4}\\b"));a.const_set(n[0],"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+a.const_get_relative(n,
"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"ImageInlineMacroRx",new RegExp("\\\\?i(?:mage|con):([^:\\s\\[][^\\n\\[]*)\\[(|"+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+a.const_get_relative(n,"CC_ALL")+"+?)\\)\\)(?!\\)))","m"));a.const_set(n[0],"KbdBtnInlineMacroRx",new RegExp("(\\\\)?(kbd|btn):\\[("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]",
"m"));a.const_set(n[0],"KbdDelimiterRx",/[+,]/);a.const_set(n[0],"LinkInlineRx",new RegExp("(^|link:|"+a.const_get_relative(n,"CG_BLANK")+"|&lt;|[>\\(\\)\\[\\];])(\\\\?(?:https?|file|ftp|irc)://[^\\s\\[\\]<]*[^\\s.,\\[\\]<])(?:\\[(|"+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\])?","m"));a.const_set(n[0],"LinkInlineMacroRx",new RegExp("\\\\?(?:link|(mailto)):(|[^:\\s\\[][^\\s\\[]*)\\[(|"+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"MacroNameRx",new RegExp("^"+a.const_get_relative(n,
"CG_WORD")+"+$"));a.const_set(n[0],"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z]+(?:,[a-z]+)*)?\\[("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\]","m"));a.const_set(n[0],"MenuInlineMacroRx",new RegExp("\\\\?menu:("+a.const_get_relative(n,"CG_WORD")+"|["+a.const_get_relative(n,"CC_WORD")+"&].*?\\S)\\[ *("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])?\\]","m"));a.const_set(n[0],"MenuInlineRx",new RegExp('\\\\?"(['+a.const_get_relative(n,"CC_WORD")+'&][^"]*?[ \\n]+&gt;[ \\n]+[^"]*)"'));
a.const_set(n[0],"PassInlineRx",u(!1,["+","`",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)\\4)(?!"+a.const_get_relative(n,"CG_WORD")+")","m")],!0,["`",g,new RegExp("(^|[^`"+a.const_get_relative(n,"CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+a.const_get_relative(n,"CC_ALL")+"*?\\S)\\4)(?![`"+a.const_get_relative(n,"CC_WORD")+"])","m")]));a.const_set(n[0],"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+\\+\\+?|\\$\\$)("+
a.const_get_relative(n,"CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z]+(?:,[a-z]+)*)?\\[(|"+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])\\])","m"));a.const_set(n[0],"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+a.const_get_relative(n,"CC_WORD")+"#/.:{]"+a.const_get_relative(n,"CC_ALL")+"*?)&gt;&gt;|xref:(["+a.const_get_relative(n,"CC_WORD")+"#/.:{]"+a.const_get_relative(n,"CC_ALL")+"*?)\\[("+a.const_get_relative(n,"CC_ALL")+"*?[^\\\\])?\\])","m"));a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?a.const_set(n[0],
"LineBreakRx",/^(.*) \+$/m):g;a.const_set(n[0],"MarkdownThematicBreakRx",/^ {0,3}([-*_])( *)\1\2\1$/);a.const_set(n[0],"HybridLayoutBreakRx",/^(?:'{3,}|<{3,}|([-*_])( *)\1\2\1)$/);a.const_set(n[0],"BlankLineRx",/\n{2,}/);a.const_set(n[0],"DataDelimiterRx",/[,;]/);a.const_set(n[0],"TrailingDigitsRx",/\d+$/);a.const_set(n[0],"EscapedSpaceRx",/\\([ \t\n])/);a.const_set(n[0],"SpaceDelimiterRx",/([^\\])[ \t\n]+/);a.const_set(n[0],"SubModifierSniffRx",/[+-]/);a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")||
g;a.const_set(n[0],"UriSniffRx",new RegExp("^"+a.const_get_relative(n,"CG_ALPHA")+"["+a.const_get_relative(n,"CC_ALNUM")+".+-]+:/{0,2}"));a.const_set(n[0],"UriTerminatorRx",/[);:]$/);a.const_set(n[0],"XmlSanitizeRx",/<[^>]+?>/);a.const_set(n[0],"INTRINSIC_ATTRIBUTES",e("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",
asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));r=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+a.const_get_relative(n,"CC_ALL")+"+?)\\*\\*","m")],["strong","constrained",new RegExp("(^|[^"+a.const_get_relative(n,
"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)\\*(?!"+a.const_get_relative(n,"CG_WORD")+")","m")],["double","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+a.const_get_relative(n,"CC_ALL")+'*?\\S)`"(?!'+a.const_get_relative(n,"CG_WORD")+")","m")],["single","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)`'(?!"+
a.const_get_relative(n,"CG_WORD")+")","m")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+a.const_get_relative(n,"CC_ALL")+"+?)``","m")],["monospaced","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)`(?!["+a.const_get_relative(n,"CC_WORD")+"\"'`])","m")],["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+a.const_get_relative(n,"CC_ALL")+"+?)__","m")],
["emphasis","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)_(?!"+a.const_get_relative(n,"CG_WORD")+")","m")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+a.const_get_relative(n,"CC_ALL")+"+?)##","m")],["mark","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)#(?!"+a.const_get_relative(n,
"CG_WORD")+")","m")],["superscript","unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];B=r.$dup();A=[2,["double","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)''(?!"+a.const_get_relative(n,"CG_WORD")+")","m")]];d(B,"[]=",a.to_a(A));A[h(A.length,1)];A=[3,["single","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+
a.const_get_relative(n,"CC_ALL")+"*?\\S)'(?!"+a.const_get_relative(n,"CG_WORD")+")","m")]];d(B,"[]=",a.to_a(A));A[h(A.length,1)];A=[4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+a.const_get_relative(n,"CC_ALL")+"+?)\\+\\+","m")]];d(B,"[]=",a.to_a(A));A[h(A.length,1)];A=[5,["monospaced","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)\\+(?!"+a.const_get_relative(n,"CG_WORD")+
")","m")]];d(B,"[]=",a.to_a(A));A[h(A.length,1)];B.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+a.const_get_relative(n,"CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+a.const_get_relative(n,"CC_ALL")+"*?\\S)'(?!"+a.const_get_relative(n,"CG_WORD")+")","m")]);a.const_set(n[0],"QUOTE_SUBS",u(!1,r,!0,B));B=r=g;a.const_set(n[0],"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+
a.const_get_relative(n,"CG_WORD")+")\\\\?--(?="+a.const_get_relative(n,"CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+a.const_get_relative(n,"CG_ALNUM")+")\\\\?'(?="+a.const_get_relative(n,"CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z][a-zA-Z]+\d{0,2}|#\d\d\d{0,4}|#x[\da-fA-F][\da-fA-F][\da-fA-F]{0,3});)/,
"","bounding"]]);(function(f,k){var l=[f].concat(k),n,q,r,t;a.defn(f,"$load",n=function(b,f){var k,m,n,q,r,t=g,u=g,v=g,w=g,x=g,A=g,B=g,C=g,D=g,E=g,N=g,P=g,Q=g;null==f&&(f=e([],{}));try{f=f.$dup();c(t=f["$[]"]("timings"))&&t.$start("read");c((u=f["$[]"]("attributes"))["$!"]())?u=e([],{}):c(c(k=a.const_get_qualified("::","Hash")["$==="](u))?k:c(m=a.const_get_qualified("::","RUBY_ENGINE_JRUBY"))?a.const_get_qualified(a.const_get_qualified(a.const_get_qualified("::","Java"),"JavaUtil"),"Map")["$==="](u):
m)?u=u.$dup():c(a.const_get_qualified("::","Array")["$==="](u))?(k=[e([],{}),u],u=k[0],v=k[1],k,d(v,"each",[],(n=function(b){var e,f=g,k=g,f=g;null==b&&(b=g);e=b.$split("=",2);b=a.to_ary(e);f=null==b[0]?g:b[0];k=null==b[1]?g:b[1];e;f=[f,c(b=k)?b:""];d(u,"[]=",a.to_a(f));return f[h(f.length,1)]},n.$$s=this,n.$$arity=1,n))):c(a.const_get_qualified("::","String")["$==="](u))?(k=[e([],{}),u.$gsub(a.const_get_relative(l,"SpaceDelimiterRx"),"\\1"+a.const_get_relative(l,"NULL")).$gsub(a.const_get_relative(l,
"EscapedSpaceRx"),"\\1").$split(a.const_get_relative(l,"NULL"))],u=k[0],v=k[1],k,d(v,"each",[],(q=function(b){var e,f=g,k=g,f=g;null==b&&(b=g);e=b.$split("=",2);b=a.to_ary(e);f=null==b[0]?g:b[0];k=null==b[1]?g:b[1];e;f=[f,c(b=k)?b:""];d(u,"[]=",a.to_a(f));return f[h(f.length,1)]},q.$$s=this,q.$$arity=1,q))):c(c(k=u["$respond_to?"]("keys"))?u["$respond_to?"]("[]"):k)?u=a.const_get_qualified("::","Hash")["$[]"](d(u.$keys(),"map",[],(r=function(a){null==a&&(a=g);return[a,u["$[]"](a)]},r.$$s=this,r.$$arity=
1,r))):this.$raise(a.const_get_qualified("::","ArgumentError"),"illegal type for attributes option: "+p(u.$class().$ancestors()," < "));w=g;if(c(a.const_get_qualified("::","File")["$==="](b)))x=a.const_get_qualified("::","File").$expand_path(b.$path()),A=c(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))?a.const_get_qualified("::","Time").$at(this.$Integer(a.const_get_qualified("::","ENV")["$[]"]("SOURCE_DATE_EPOCH"))).$utc():b.$mtime(),w=b.$readlines(),B=["docfile",x],d(u,"[]=",a.to_a(B)),
B[h(B.length,1)],B=["docdir",a.const_get_qualified("::","File").$dirname(x)],d(u,"[]=",a.to_a(B)),B[h(B.length,1)],B=["docname",a.const_get_relative(l,"Helpers").$basename(x,(B=["docfilesuffix",a.const_get_qualified("::","File").$extname(x)],d(u,"[]=",a.to_a(B)),B[h(B.length,1)]))],d(u,"[]=",a.to_a(B)),B[h(B.length,1)],c(C=u["$[]"]("docdate"))?c(k=u["$[]"]("docyear"))?k:(B=["docyear",C.$index("-")["$=="](4)?C.$slice(0,4):g],d(u,"[]=",a.to_a(B)),B[h(B.length,1)]):(C=(B=["docdate",A.$strftime("%Y-%m-%d")],
d(u,"[]=",a.to_a(B)),B[h(B.length,1)]),c(k=u["$[]"]("docyear"))?k:(B=["docyear",A.$year().$to_s()],d(u,"[]=",a.to_a(B)),B[h(B.length,1)])),D=c(k=u["$[]"]("doctime"))?k:(B=["doctime",A.$strftime("%H:%M:%S %Z")],d(u,"[]=",a.to_a(B)),B[h(B.length,1)]),B=["docdatetime",""+C+" "+D],d(u,"[]=",a.to_a(B)),B[h(B.length,1)];else if(c(b["$respond_to?"]("readlines"))){try{b.$rewind()}catch(S){if(a.rescue(S,[a.const_get_relative(l,"StandardError")]))try{g}finally{a.pop_exception()}else throw S;}w=b.$readlines()}else c(a.const_get_qualified("::",
"String")["$==="](b))?w=c(a.const_get_qualified("::","RUBY_MIN_VERSION_2"))?b.$lines():b.$each_line().$to_a():c(a.const_get_qualified("::","Array")["$==="](b))?w=b.$dup():this.$raise(a.const_get_qualified("::","ArgumentError"),"unsupported input type: "+b.$class());c(t)&&(t.$record("read"),t.$start("parse"));B=["attributes",u];d(f,"[]=",a.to_a(B));B[h(B.length,1)];E=f["$[]"]("parse")["$=="](!1)?a.const_get_relative(l,"Document").$new(w,f):a.const_get_relative(l,"Document").$new(w,f).$parse();c(t)&&
t.$record("parse");return E}catch(S){if(a.rescue(S,[a.const_get_relative(l,"StandardError")])){N=S;try{try{P="asciidoctor: FAILED: "+(c(k=u["$[]"]("docfile"))?k:"<stdin>")+": Failed to load AsciiDoc document",c(N["$respond_to?"]("exception"))?(Q=N.$exception(""+P+" - "+N.$message()),Q.$set_backtrace(N.$backtrace())):(Q=N.$class().$new(P,N),B=[N.$stack_trace()],d(Q,"stack_trace=",a.to_a(B)),B[h(B.length,1)])}catch(W){if(a.rescue(W,[a.const_get_relative(l,"StandardError")]))try{Q=N}finally{a.pop_exception()}else throw W;
}return this.$raise(Q)}finally{a.pop_exception()}}else throw S;}},n.$$arity=-2);a.defn(f,"$load_file",q=function(b,c){var f;null==c&&(c=e([],{}));return d(a.const_get_qualified("::","File"),"open",[b],(f=function(a){var b=f.$$s||this;null==a&&(a=g);return b.$load(a,c)},f.$$s=this,f.$$arity=1,f))},q.$$arity=-2);a.defn(f,"$convert",r=function(f,k){var n,p,q,r,t,u=g,v=g,w=g,x=g,y=g,A=g,B=g,C=g,D=t=y=g,E=y=g,N=u=u=C=A=g,P=A=v=g,Q=u=B=x=g,S=w=g;null==k&&(k=e([],{}));k=k.$dup();k.$delete("parse");u=k.$delete("to_file");
v=k.$delete("to_dir");w=c(n=k.$delete("mkdirs"))?n:!1;x=k["$[]"]("timings");y=u;if((!0)["$==="](y)||g["$==="](y))A=c(n=v["$!"]())?a.const_get_qualified("::","File")["$==="](f):n,B=!1,C=v,u=g;else if((!1)["$==="](y))C=B=A=!1,u=g;else{if("/dev/null"["$==="](y))return this.$load(f,k);A=!1;C=c(B=u["$respond_to?"]("write"))?!1:u}!c(k["$key?"]("header_footer"))&&c(c(n=A)?n:C)&&(y=["header_footer",!0],d(k,"[]=",a.to_a(y)),y[h(y.length,1)]);c(A)?(t=a.const_get_qualified("::","File").$expand_path(f.$path()),
y=["to_dir",D=a.const_get_qualified("::","File").$dirname(t)],d(k,"[]=",a.to_a(y)),y[h(y.length,1)]):c(C)?c(v)?(y=c(u)?["to_dir",a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","File").$join(v,u,".."))]:["to_dir",a.const_get_qualified("::","File").$expand_path(v)],d(k,"[]=",a.to_a(y)),y[h(y.length,1)]):c(u)&&(y=["to_dir",a.const_get_qualified("::","File").$expand_path(u,"..")],d(k,"[]=",a.to_a(y)),y[h(y.length,1)]):(y=["to_dir",g],d(k,"[]=",a.to_a(y)),y[h(y.length,1)]);
y=this.$load(f,k);c(A)?(E=a.const_get_qualified("::","File").$join(D,""+y.$attributes()["$[]"]("docname")+y.$outfilesuffix()),E["$=="](t)&&this.$raise(a.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+E)):c(C)?(A=c(k["$key?"]("base_dir"))?a.const_get_qualified("::","File").$expand_path(k["$[]"]("base_dir")):a.const_get_qualified("::","File").$expand_path(a.const_get_qualified("::","Dir").$pwd()),C=c(b(y.$safe(),a.const_get_qualified(a.const_get_relative(l,"SafeMode"),
"SAFE")))?A:g,c(v)?(D=y.$normalize_system_path(v,A,C,e(["target_name","recover"],{target_name:"to_dir",recover:!1})),c(u)?(E=y.$normalize_system_path(u,D,g,e(["target_name","recover"],{target_name:"to_dir",recover:!1})),D=a.const_get_qualified("::","File").$dirname(E)):E=a.const_get_qualified("::","File").$join(D,""+y.$attributes()["$[]"]("docname")+y.$outfilesuffix())):c(u)&&(E=y.$normalize_system_path(u,A,C,e(["target_name","recover"],{target_name:"to_dir",recover:!1})),D=a.const_get_qualified("::",
"File").$dirname(E)),c(c(n=a.const_get_qualified("::","File")["$==="](f))?E["$=="](a.const_get_qualified("::","File").$expand_path(f.$path())):n)&&this.$raise(a.const_get_qualified("::","IOError"),"input file and output file cannot be the same: "+E),c(a.const_get_qualified("::","File")["$directory?"](D))||(c(w)?a.const_get_relative(l,"Helpers").$mkdir_p(D):this.$raise(a.const_get_qualified("::","IOError"),"target directory does not exist: "+v))):(E=u,D=g);c(x)&&x.$start("convert");u=c(c(n=E)?B["$!"]():
n)?e(["outfile","outdir"],{outfile:E,outdir:D}):e([],{});u=y.$convert(u);c(x)&&x.$record("convert");return c(E)?(c(x)&&x.$start("write"),y.$write(u,E),c(x)&&x.$record("write"),c(t=B["$!"]())&&(t=y.$safe(),E=a.const_get_qualified(a.const_get_relative(l,"SafeMode"),"SECURE"),t="number"===typeof t&&"number"===typeof E?t<E:t["$<"](E)),c(c(n=c(p=c(q=c(r=t)?y["$attr?"]("linkcss"):r)?y["$attr?"]("copycss"):q)?y["$attr?"]("basebackend-html"):p)?(c(p=N=y.$attr("stylesdir"))?a.const_get_relative(l,"Helpers")["$uriish?"](N):
p)["$!"]():n)&&(A=v=!1,c(P=y.$attr("stylesheet"))&&(c(a.const_get_relative(l,"DEFAULT_STYLESHEET_KEYS")["$include?"](P))?v=!0:c(a.const_get_relative(l,"Helpers")["$uriish?"](P)["$!"]())&&(A=!0)),x=c(n=y["$attr?"]("source-highlighter","coderay"))?y.$attr("coderay-css","class")["$=="]("class"):n,B=c(n=y["$attr?"]("source-highlighter","pygments"))?y.$attr("pygments-css","class")["$=="]("class"):n,c(c(n=c(p=c(q=v)?q:A)?p:x)?n:B)&&(u=y.$normalize_system_path(N,D,c(b(y.$safe(),a.const_get_qualified(a.const_get_relative(l,
"SafeMode"),"SAFE")))?D:g),c(w)&&a.const_get_relative(l,"Helpers").$mkdir_p(u),c(v)?a.const_get_relative(l,"Stylesheets").$instance().$write_primary_stylesheet(u):c(A)&&(Q=c((Q=y.$attr("copycss"))["$empty?"]())?y.$normalize_system_path(P):y.$normalize_system_path(Q),w=y.$normalize_system_path(P,u,c(b(y.$safe(),a.const_get_qualified(a.const_get_relative(l,"SafeMode"),"SAFE")))?D:g),c(c(n=Q["$!="](w))?S=y.$read_asset(Q,e(["warn_on_failure","label"],{warn_on_failure:!0,label:"stylesheet"})):n)&&a.const_get_qualified("::",
"IO").$write(w,S)),c(x)?a.const_get_relative(l,"Stylesheets").$instance().$write_coderay_stylesheet(u):c(B)&&a.const_get_relative(l,"Stylesheets").$instance().$write_pygments_stylesheet(u,y.$attr("pygments-style")))),y):u},r.$$arity=-2);a.alias(f,"render","convert");a.defn(f,"$convert_file",t=function(b,c){var f;null==c&&(c=e([],{}));return d(a.const_get_qualified("::","File"),"open",[b],(f=function(a){var b=f.$$s||this;null==a&&(a=g);return b.$convert(a,c)},f.$$s=this,f.$$arity=1,f))},t.$$arity=
-2);return a.alias(f,"render_file","convert_file")})(a.get_singleton_class(q),n);a.const_get_relative(n,"RUBY_ENGINE")["$=="]("opal")?(q.$require("asciidoctor/version"),q.$require("asciidoctor/timings")):g})(q[0],q);l.$require("asciidoctor/core_ext");l.$require("asciidoctor/helpers");l.$require("asciidoctor/substitutors");l.$require("asciidoctor/abstract_node");l.$require("asciidoctor/abstract_block");l.$require("asciidoctor/attribute_list");l.$require("asciidoctor/block");l.$require("asciidoctor/callouts");
l.$require("asciidoctor/converter");l.$require("asciidoctor/document");l.$require("asciidoctor/inline");l.$require("asciidoctor/list");l.$require("asciidoctor/parser");l.$require("asciidoctor/path_resolver");l.$require("asciidoctor/reader");l.$require("asciidoctor/section");l.$require("asciidoctor/stylesheets");l.$require("asciidoctor/table");return a.const_get_relative(q,"RUBY_ENGINE")["$=="]("opal")?l.$require("asciidoctor/js/postscript"):g})(Opal);var u=function(a){return a&&!a.smap?Opal.hash(a):
a},B=function(a){if(a=u(a)){var b=a["$[]"]("attributes");b&&"object"===typeof b&&"Object"===b.constructor.name&&(a=a.$dup(),a["$[]="]("attributes",u(b)))}return a},v=Opal.Asciidoctor.$$class;v.$$proto.convert=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&(a=a.toString("utf8"));var h=this.$convert(a,B(b));return h===Opal.nil?"":h};v.$$proto.convertFile=function(a,b){return this.$convert_file(a,B(b))};v.$$proto.load=function(a,b){"object"===typeof a&&"Buffer"===a.constructor.name&&
(a=a.toString("utf8"));return this.$load(a,B(b))};v.$$proto.loadFile=function(a,b){return this.$load_file(a,B(b))};v=Opal.Asciidoctor.AbstractBlock;v.$$proto.getTitle=function(){var a=this.$title();return a===Opal.nil?"":a};v.$$proto.getStyle=function(){return this.style};v.$$proto.getCaption=function(){return this.caption};v.$$proto.getLevel=function(){return this.level};v.$$proto.getBlocks=function(){return this.blocks};v.$$proto.getContent=function(){return this.$content()};v.$$proto.convert=function(){return this.$convert()};
v.$$proto.findBy=function(a,b){return"undefined"===typeof b&&"function"===typeof a?Opal.send(this,"find_by",null,a):"function"===typeof b?Opal.send(this,"find_by",[u(a)],b):this.$find_by(u(a))};v.$$proto.getLineNumber=function(){var a=this.$lineno();return a===Opal.nil?void 0:a};v=Opal.Asciidoctor.AbstractNode;v.$$proto.getAttributes=function(){for(var a={},b=this.attributes,h=0,p=b.$$keys,l=b.$$smap,q=p.length;h<q;h++)b=p[h],a[b]=l[b];return a};v.$$proto.getAttribute=function(a,b,h){a=this.$attr(a,
b,h);return a===Opal.nil?void 0:a};v.$$proto.isAttribute=function(a,b,h){a=this["$attr?"](a,b,h);return a===Opal.nil?void 0:a};v.$$proto.setAttribute=function(a,b,h){"undefined"===typeof h&&(h=!0);return this.$set_attr(a,b,h)};v.$$proto.getDocument=function(){return this.$document()};v.$$proto.isInline=function(){return this["$inline?"]()};v.$$proto.isBlock=function(){return this["$block?"]()};v.$$proto.isRole=function(a){return this["$role?"](a)};v.$$proto.getRole=function(){return this.$role()};
v.$$proto.hasRole=function(a){return this["$has_role?"](a)};v.$$proto.getRoles=function(){return this.$roles()};v.$$proto.addRole=function(a){return this.$add_role(a)};v.$$proto.removeRole=function(a){return this.$remove_role(a)};v.$$proto.isReftext=function(){return this["$reftext?"]()};v.$$proto.getReftext=function(){return this.$reftext()};v.$$proto.getContext=function(){var a=this.context;return a&&"function"===typeof a.$to_s?a.$to_s():a};v.$$proto.getId=function(){return this.id};v.$$proto.isOption=
function(a){return this["$option?"](a)};v.$$proto.setOption=function(a){return this.$set_option(a)};v.$$proto.getIconUri=function(a){return this.$icon_uri(a)};v.$$proto.getMediaUri=function(a,b){return this.$media_uri(a,b)};v.$$proto.getImageUri=function(a,b){return this.$image_uri(a,b)};v.$$proto.getConverter=function(){return this.$converter()};v.$$proto.readContents=function(a,b){return this.$read_contents(a,u(b))};v.$$proto.readAsset=function(a,b){return this.$read_asset(a,u(b))};v.$$proto.normalizeWebPath=
function(a,b,h){return this.$normalize_web_path(a,b,h)};v.$$proto.normalizeSystemPath=function(a,b,h,p){return this.$normalize_system_path(a,b,h,u(p))};v.$$proto.normalizeAssetPath=function(a,b,h){return this.$normalize_asset_path(a,b,h)};var q=Opal.Asciidoctor.Document;q.$$proto.getHeader=function(){return this.header};q.$$proto.setAttribute=function(a,b){return this.$set_attribute(a,b)};q.$$proto.removeAttribute=function(a){this.attributes.$delete(a);this.attribute_overrides.$delete(a)};q.$$proto.convert=
function(a){a=this.$convert(u(a));return a===Opal.nil?"":a};q.$$proto.write=function(a,b){return this.$write(a,b)};q.$$proto.getAuthor=function(){return this.$author()};q.$$proto.getSource=function(){return this.$source()};q.$$proto.getSourceLines=function(){return this.$source_lines()};q.$$proto.isNested=function(){return this["$nested?"]()};q.$$proto.hasFootnotes=function(){return this["$footnotes?"]()};q.$$proto.getFootnotes=function(){return this.$footnotes()};q.$$proto.isEmbedded=function(){return this["$embedded?"]()};
q.$$proto.hasExtensions=function(){return this["$extensions?"]()};q.$$proto.getDoctype=function(){return this.$doctype()};q.$$proto.getBackend=function(){return this.$backend()};q.$$proto.isBasebackend=function(a){return this["$basebackend?"](a)};q.$$proto.getTitle=function(){return this.$title()};q.$$proto.setTitle=function(a){return this["$title="](a)};q.$$proto.getDocumentTitle=function(a){return this.$doctitle(u(a))};q.$$proto.getDoctitle=function(a){return this.getDocumentTitle(a)};q.$$proto.getRevisionDate=
function(){return this.getAttribute("revdate")};q.$$proto.getRevdate=function(){return this.getRevisionDate()};q.$$proto.getRevisionNumber=function(){return this.getAttribute("revnumber")};q.$$proto.getRevisionRemark=function(){return this.getAttribute("revremark")};q.RevisionInfo=function(a,b,h){this.date=a;this.number=b;this.remark=h};v=q.RevisionInfo;v.prototype.getDate=function(){return this.date};v.prototype.getNumber=function(){return this.number};v.prototype.getRemark=function(){return this.remark};
v.prototype.isEmpty=function(){return void 0===this.date&&void 0===this.number&&void 0===this.remark};q.$$proto.getRevisionInfo=function(){return new q.RevisionInfo(this.getRevisionDate(),this.getRevisionNumber(),this.getRevisionRemark())};q.$$proto.hasRevisionInfo=function(){return!this.getRevisionInfo().isEmpty()};q.$$proto.getNotitle=function(){return this.$notitle()};q.$$proto.getNoheader=function(){return this.$noheader()};q.$$proto.getNofooter=function(){return this.$nofooter()};q.$$proto.hasHeader=
function(){return this["$header?"]()};q.$$proto.deleteAttribute=function(a){return this.$delete_attribute(a)};q.$$proto.isAttributeLocked=function(a){return this["$attribute_locked?"](a)};q.$$proto.parse=function(a){return this.$parse(a)};q.$$proto.getDocinfo=function(a,b){return this.$docinfo(a,b)};q.$$proto.hasDocinfoProcessors=function(a){return this["$docinfo_processors?"](a)};q.$$proto.counterIncrement=function(a,b){return this.$counter_increment(a,b)};q.$$proto.counter=function(a,b){return this.$counter(a,
b)};q.$$proto.getSafe=function(){return this.$safe};q.$$proto.getCompatMode=function(){return this.$compat_mode};q.$$proto.getSourcemap=function(){return this.$sourcemap};q.$$proto.getReferences=function(){return this.$references};q.$$proto.getCounters=function(){return this.$counters};q.$$proto.getCallouts=function(){return this.$callouts};q.$$proto.getBaseDir=function(){return this.$base_dir};q.$$proto.getOptions=function(){return this.$options};q.$$proto.getOutfilesuffix=function(){return this.$outfilesuffix};
q.$$proto.getParentDocument=function(){return this.$parent_document};q.$$proto.getReader=function(){return this.$reader};q.$$proto.getConverter=function(){return this.$converter};q.$$proto.getExtensions=function(){return this.$extensions};v=q.Title;v.$$proto.getMain=function(){return this.main};v.$$proto.getCombined=function(){return this.combined};v.$$proto.getSubtitle=function(){return this.subtitle};v.$$proto.isSanitized=function(){var a=this["$sanitized?"]();return a===Opal.nil?!1:a};v.$$proto.hasSubtitle=
function(){return this["$subtitle?"]()};v=Opal.Asciidoctor.Inline;v.$$proto.convert=function(){return this.$convert()};v.$$proto.getText=function(){var a=this.$text();return a===Opal.nil?void 0:a};v.$$proto.getType=function(){return this.$type()};v.$$proto.getTarget=function(){var a=this.$target();return a===Opal.nil?void 0:a};v=Opal.Asciidoctor.Reader;v.$$proto.pushInclude=function(a,b,h,p,l){return this.$push_include(a,b,h,p,l)};v.$$proto.getCursor=function(){return this.$cursor()};v.$$proto.getLines=
function(){return this.$lines()};var p=function(a){a.$$arity=a.length;return a},v=Opal.const_get_qualified(Opal.Asciidoctor,"Extensions");Opal.Asciidoctor.Extensions=v;v.create=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"build_registry",null,p(a)):"function"===typeof b?Opal.send(this,"build_registry",[a],p(b)):this.$build_registry()};v.register=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"register",null,p(a)):Opal.send(this,
"register",[a],p(b))};var D=v.Registry;D.$$proto.block=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"block",null,p(a)):Opal.send(this,"block",[a],p(b))};D.$$proto.inlineMacro=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"inline_macro",null,p(a)):Opal.send(this,"inline_macro",[a],p(b))};D.$$proto.includeProcessor=function(a){return Opal.send(this,"include_processor",null,p(a))};D.$$proto.blockMacro=function(a,b){return"function"===
typeof a&&"undefined"===typeof b?Opal.send(this,"block_macro",null,p(a)):Opal.send(this,"block_macro",[a],p(b))};D.$$proto.treeProcessor=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"treeprocessor",null,p(a)):Opal.send(this,"treeprocessor",[a],p(b))};D.$$proto.postprocessor=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"postprocessor",null,p(a)):Opal.send(this,"postprocessor",[a],p(b))};D.$$proto.preprocessor=function(a,b){return"function"===
typeof a&&"undefined"===typeof b?Opal.send(this,"preprocessor",null,p(a)):Opal.send(this,"preprocessor",[a],p(b))};D.$$proto.docinfoProcessor=function(a,b){return"function"===typeof a&&"undefined"===typeof b?Opal.send(this,"docinfo_processor",null,p(a)):Opal.send(this,"docinfo_processor",[a],p(b))};D=v.Processor;D.$$proto.process=function(a){return Opal.send(this,"process",null,p(a))};D.$$proto.named=function(a){return this.$named(a)};D.$$proto.createBlock=function(a,b,h,p,l){return this.$create_block(a,
b,h,u(p),u(l))};D.$$proto.createInline=function(a,b,h,p){return this.$create_inline(a,b,h,u(p))};D.$$proto.parseContent=function(a,b,h){return this.$parse_content(a,b,h)};D.$$proto.positionalAttributes=function(a){return"function"===typeof this.$positional_attrs?this.$positional_attrs(a):this.$positional_attributes(a)};v.BlockProcessor.$$proto.onContext=function(a){return this.$on_context(a)};v.IncludeProcessor.$$proto.handles=function(a){return Opal.send(this,"handles?",null,p(a))};v.DocinfoProcessor.$$proto.atLocation=
function(a){this.$at_location(a)};return Opal.Asciidoctor});
