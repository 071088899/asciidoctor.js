Opal.modules.set=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a<d:a["$<"](d)}function n(a,d){return"number"===typeof a&&"number"===typeof d?a<=d:a["$<="](d)}var h=a.nil,f=a.klass,c=a.module;a.add_stubs("$include $new $nil? $=== $raise $each $add $call $merge $class $respond_to? $subtract $dup $join $to_a $equal? $instance_of? $== $instance_variable_get $is_a? $size $all? $include? $[]= $enum_for $[] $<< $replace $delete $select $each_key $to_proc $empty? $eql? $instance_eval $clear $< $<= $keys".split(" "));
(function(c,$super){function b(){}var t=b=f(c,$super,"Set",b),H=t.$$scope,w,p,g,L,v,z,I,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B,Z,x,E;t.$$proto.hash=h;t.$include(H.get("Enumerable"));a.defs(t,"$[]",w=function(a){var b,c=arguments.length;b=c-0;0>b&&(b=0);b=Array(b);for(var e=0;e<c;e++)b[e-0]=arguments[e];return this.$new(b)},w.$$arity=-1);a.defn(t,"$initialize",p=function(a){var b,c,e,g=p.$$p||h;null==a&&(a=h);p.$$p=null;this.hash=H.get("Hash").$new();if((b=a["$nil?"]())!==h&&null!=b&&(!b.$$is_boolean||
1==b))return h;((b=H.get("Enumerable")["$==="](a))===h||null==b||b.$$is_boolean&&1!=b)&&this.$raise(H.get("ArgumentError"),"value must be enumerable");return!1!==g&&g!==h&&null!=g?(b=(c=a).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=h);return b.$add(g.$call(a))},e.$$s=this,e.$$arity=1,e),b).call(c):this.$merge(a)},p.$$arity=-1);a.defn(t,"$dup",g=function(){var a=h,a=this.$class().$new();return a.$merge(this)},g.$$arity=0);a.defn(t,"$-",L=function(a){var b;((b=a["$respond_to?"]("each"))===
h||null==b||b.$$is_boolean&&1!=b)&&this.$raise(H.get("ArgumentError"),"value must be enumerable");return this.$dup().$subtract(a)},L.$$arity=1);a.alias(t,"difference","-");a.defn(t,"$inspect",v=function(){return"#<Set: {"+this.$to_a().$join(",")+"}>"},v.$$arity=0);a.defn(t,"$==",z=function(a){var b,c,e;return(b=this["$equal?"](a))===h||null==b||b.$$is_boolean&&1!=b?(b=a["$instance_of?"](this.$class()))===h||null==b||b.$$is_boolean&&1!=b?(b=(c=a["$is_a?"](H.get("Set")),!1!==c&&c!==h&&null!=c?this.$size()["$=="](a.$size()):
c))===h||null==b||b.$$is_boolean&&1!=b?!1:(b=(c=a)["$all?"],b.$$p=(e=function(a){var b=e.$$s||this;null==b.hash&&(b.hash=h);null==a&&(a=h);return b.hash["$include?"](a)},e.$$s=this,e.$$arity=1,e),b).call(c):this.hash["$=="](a.$instance_variable_get("@hash")):!0},z.$$arity=1);a.defn(t,"$add",I=function(a){this.hash["$[]="](a,!0);return this},I.$$arity=1);a.alias(t,"<<","add");a.defn(t,"$classify",F=function(){var b,c,e,g,r=F.$$p||h,f=h;F.$$p=null;if(r===h)return this.$enum_for("classify");f=(b=(c=
H.get("Hash")).$new,b.$$p=(e=function(a,b){var c=e.$$s||this;null==a&&(a=h);null==b&&(b=h);return a["$[]="](b,c.$class().$new())},e.$$s=this,e.$$arity=2,e),b).call(c);(b=this.$each,b.$$p=(g=function(b){null==b&&(b=h);return f["$[]"](a.yield1(r,b)).$add(b)},g.$$s=this,g.$$arity=1,g),b).call(this);return f},F.$$arity=0);a.defn(t,"$collect!",C=function(){var b,c,e=C.$$p||h,g=h;C.$$p=null;if(e===h)return this.$enum_for("collect!");g=this.$class().$new();(b=this.$each,b.$$p=(c=function(b){null==b&&(b=
h);return g["$<<"](a.yield1(e,b))},c.$$s=this,c.$$arity=1,c),b).call(this);return this.$replace(g)},C.$$arity=0);a.alias(t,"map!","collect!");a.defn(t,"$delete",r=function(a){this.hash.$delete(a);return this},r.$$arity=1);a.defn(t,"$delete?",Q=function(a){var b;if((b=this["$include?"](a))===h||null==b||b.$$is_boolean&&1!=b)return h;this.$delete(a);return this},Q.$$arity=1);a.defn(t,"$delete_if",O=function(){try{var b,c,e,g,r,f=O.$$p||h;O.$$p=null;!1!==(b=f!==h)&&b!==h&&null!=b?b:a.ret(this.$enum_for("delete_if"));
(b=(c=(g=this.$select,g.$$p=(r=function(b){null==b&&(b=h);return a.yield1(f,b)},r.$$s=this,r.$$arity=1,r),g).call(this)).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==b.hash&&(b.hash=h);null==a&&(a=h);return b.hash.$delete(a)},e.$$s=this,e.$$arity=1,e),b).call(c);return this}catch(u){if(u===a.returner)return u.$v;throw u;}},O.$$arity=0);a.defn(t,"$add?",S=function(a){var b;return(b=this["$include?"](a))===h||null==b||b.$$is_boolean&&1!=b?this.$add(a):h},S.$$arity=1);a.defn(t,"$each",M=function(){var a,
b,c=M.$$p||h;M.$$p=null;if(c===h)return this.$enum_for("each");(a=(b=this.hash).$each_key,a.$$p=c.$to_proc(),a).call(b);return this},M.$$arity=0);a.defn(t,"$empty?",R=function(){return this.hash["$empty?"]()},R.$$arity=0);a.defn(t,"$eql?",q=function(a){var b,c;return this.hash["$eql?"]((b=a.$instance_eval,b.$$p=(c=function(){var a=c.$$s||this;null==a.hash&&(a.hash=h);return a.hash},c.$$s=this,c.$$arity=0,c),b).call(a))},q.$$arity=1);a.defn(t,"$clear",k=function(){this.hash.$clear();return this},k.$$arity=
0);a.defn(t,"$include?",Y=function(a){return this.hash["$include?"](a)},Y.$$arity=1);a.alias(t,"member?","include?");a.defn(t,"$merge",G=function(a){var b,c;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=h);return b.$add(a)},c.$$s=this,c.$$arity=1,c),b).call(a);return this},G.$$arity=1);a.defn(t,"$replace",V=function(a){this.$clear();this.$merge(a);return this},V.$$arity=1);a.defn(t,"$size",aa=function(){return this.hash.$size()},aa.$$arity=0);a.alias(t,"length","size");a.defn(t,"$subtract",
ca=function(a){var b,c;(b=a.$each,b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=h);return b.$delete(a)},c.$$s=this,c.$$arity=1,c),b).call(a);return this},ca.$$arity=1);a.defn(t,"$|",da=function(a){var b;((b=a["$respond_to?"]("each"))===h||null==b||b.$$is_boolean&&1!=b)&&this.$raise(H.get("ArgumentError"),"value must be enumerable");return this.$dup().$merge(a)},da.$$arity=1);a.defn(t,"$superset?",N=function(a){var b,c;!1!==(b=a["$is_a?"](H.get("Set")))&&b!==h&&null!=b?b:this.$raise(H.get("ArgumentError"),
"value must be a set");return(b=m(this.$size(),a.$size()))===h||null==b||b.$$is_boolean&&1!=b?(b=a["$all?"],b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=h);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c),b).call(a):!1},N.$$arity=1);a.alias(t,">=","superset?");a.defn(t,"$proper_superset?",B=function(a){var b,c;!1!==(b=a["$is_a?"](H.get("Set")))&&b!==h&&null!=b?b:this.$raise(H.get("ArgumentError"),"value must be a set");return(b=n(this.$size(),a.$size()))===h||null==b||b.$$is_boolean&&1!=
b?(b=a["$all?"],b.$$p=(c=function(a){var b=c.$$s||this;null==a&&(a=h);return b["$include?"](a)},c.$$s=this,c.$$arity=1,c),b).call(a):!1},B.$$arity=1);a.alias(t,">","proper_superset?");a.defn(t,"$subset?",Z=function(a){var b,c;!1!==(b=a["$is_a?"](H.get("Set")))&&b!==h&&null!=b?b:this.$raise(H.get("ArgumentError"),"value must be a set");return(b=m(a.$size(),this.$size()))===h||null==b||b.$$is_boolean&&1!=b?(b=this["$all?"],b.$$p=(c=function(b){null==b&&(b=h);return a["$include?"](b)},c.$$s=this,c.$$arity=
1,c),b).call(this):!1},Z.$$arity=1);a.alias(t,"<=","subset?");a.defn(t,"$proper_subset?",x=function(a){var b,c;!1!==(b=a["$is_a?"](H.get("Set")))&&b!==h&&null!=b?b:this.$raise(H.get("ArgumentError"),"value must be a set");return(b=n(a.$size(),this.$size()))===h||null==b||b.$$is_boolean&&1!=b?(b=this["$all?"],b.$$p=(c=function(b){null==b&&(b=h);return a["$include?"](b)},c.$$s=this,c.$$arity=1,c),b).call(this):!1},x.$$arity=1);a.alias(t,"<","proper_subset?");a.alias(t,"+","|");a.alias(t,"union","|");
return(a.defn(t,"$to_a",E=function(){return this.hash.$keys()},E.$$arity=0),h)&&"to_a"})(a.base,null);return function(e){e=c(e,"Enumerable");var d=e.$$scope,b;a.defn(e,"$to_set",b=function(c,e){var f,m,g,n=b.$$p||h;null==c&&(c=d.get("Set"));var v=arguments.length;g=v-1;0>g&&(g=0);g=Array(g);for(var z=1;z<v;z++)g[z-1]=arguments[z];b.$$p=null;return(f=(m=c).$new,f.$$p=n.$to_proc(),f).apply(m,[this].concat(a.to_a(g)))},b.$$arity=-1)}(a.base)};
Opal.modules.strscan=function(a){var m=a.nil,n=a.klass;a.add_stubs("$attr_reader $anchor $scan_until $length $size $rest $pos= $private".split(" "));return function(h,$super){function c(){}var e=c=n(h,$super,"StringScanner",c),d=e.$$proto,b,t,H,w,p,g,L,v,z,I,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa;d.pos=d.string=d.working=d.matched=d.prev_pos=d.match=m;e.$attr_reader("pos");e.$attr_reader("matched");a.defn(e,"$initialize",b=function(a){this.string=a;this.pos=0;this.matched=m;this.working=a;return this.match=
[]},b.$$arity=1);e.$attr_reader("string");a.defn(e,"$beginning_of_line?",t=function(){return 0===this.pos||"\n"===this.string.charAt(this.pos-1)},t.$$arity=0);a.alias(e,"bol?","beginning_of_line?");a.defn(e,"$scan",H=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:"object"===typeof a?(this.prev_pos=this.pos,this.pos+=a[0].length,this.working=this.working.substring(a[0].length),this.matched=a[0],this.match=a,a[0]):"string"===typeof a?(this.pos+=a.length,this.working=
this.working.substring(a.length),a):m},H.$$arity=1);a.defn(e,"$scan_until",w=function(a){a=this.$anchor(a);for(var b=this.pos,d=this.working,c;;)if(c=a.exec(d),b+=1,d=d.substr(1),null==c){if(0===d.length)return this.matched=m}else return this.matched=this.string.substr(this.pos,b-this.pos-1+c[0].length),this.prev_pos=b-1,this.pos=b,this.working=d.substr(c[0].length),this.matched},w.$$arity=1);a.defn(e,"$[]",p=function(a){var b=this.match;0>a&&(a+=b.length);return 0>a||a>=b.length||null==b[a]?m:b[a]},
p.$$arity=1);a.defn(e,"$check",g=function(a){a=this.$anchor(a);a=a.exec(this.working);return null==a?this.matched=m:this.matched=a[0]},g.$$arity=1);a.defn(e,"$check_until",L=function(a){var b=this.prev_pos,d=this.pos;a=this.$scan_until(a);a!==m&&(this.matched=a.substr(-1),this.working=this.string.substr(d));this.prev_pos=b;this.pos=d;return a},L.$$arity=1);a.defn(e,"$peek",v=function(a){return this.working.substring(0,a)},v.$$arity=1);a.defn(e,"$eos?",z=function(){return 0===this.working.length},
z.$$arity=0);a.defn(e,"$exist?",I=function(a){a=a.exec(this.working);return null==a?m:0==a.index?0:a.index+1},I.$$arity=1);a.defn(e,"$skip",F=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return this.matched=m;a=a[0];var b=a.length;this.matched=a;this.prev_pos=this.pos;this.pos+=b;this.working=this.working.substring(b);return b},F.$$arity=1);a.defn(e,"$skip_until",C=function(a){a=this.$scan_until(a);if(a===m)return m;this.matched=a.substr(-1);return a.length},C.$$arity=1);a.defn(e,
"$get_byte",r=function(){var a=m;this.pos<this.string.length?(this.prev_pos=this.pos,this.pos+=1,a=this.matched=this.working.substring(0,1),this.working=this.working.substring(1)):this.matched=m;return a},r.$$arity=0);a.alias(e,"getch","get_byte");a.defn(e,"$match?",Q=function(a){a=this.$anchor(a);a=a.exec(this.working);if(null==a)return m;this.prev_pos=this.pos;return a[0].length},Q.$$arity=1);a.defn(e,"$pos=",O=function(a){0>a&&(a+=this.string.$length());this.pos=a;return this.working=this.string.slice(a)},
O.$$arity=1);a.defn(e,"$post_match",S=function(){return this.matched===m?m:this.string.substr(this.pos)},S.$$arity=0);a.defn(e,"$pre_match",M=function(){return this.matched===m?m:this.string.substr(0,this.prev_pos)},M.$$arity=0);a.defn(e,"$reset",R=function(){this.working=this.string;this.matched=m;return this.pos=0},R.$$arity=0);a.defn(e,"$rest",q=function(){return this.working},q.$$arity=0);a.defn(e,"$rest?",k=function(){return 0!==this.working.length},k.$$arity=0);a.defn(e,"$rest_size",Y=function(){return this.$rest().$size()},
Y.$$arity=0);a.defn(e,"$terminate",G=function(){var a;this.match=m;return a=[this.string.$length()],this["$pos="].apply(this,a),a[a.length-1]},G.$$arity=0);a.defn(e,"$unscan",V=function(){this.pos=this.prev_pos;this.match=this.prev_pos=m;return this},V.$$arity=0);e.$private();return(a.defn(e,"$anchor",aa=function(a){return new RegExp("^(?:"+a.toString().substr(1,a.toString().length-2)+")")},aa.$$arity=1),m)&&"anchor"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/file"]=function(a){var m=a.nil,n=a.module,h=a.klass,f=a.gvars;a.add_stubs("$new $attr_reader $== $read $size $to_enum $chomp $each_line $readlines $split $===".split(" "));(function(c){c=n(c,"Kernel");var e=c.$$scope,d;a.defn(c,"$open",d=function(b,c){var f,h,n=d.$$p||m,g=m,g=arguments.length;h=g-1;0>h&&(h=0);h=Array(h);for(var L=1;L<g;L++)h[L-1]=arguments[L];d.$$p=null;g=(f=e.get("File")).$new.apply(f,[b].concat(a.to_a(h)));return n!==m?a.yield1(n,g):g},d.$$arity=
-2)})(a.base);(function(c,$super){function d(){}var b=d=h(c,$super,"File",d),n=b.$$proto,H=b.$$scope,w,p,g,L,v,z,I,F;n.eof=n.path=m;a.cdecl(H,"SEPARATOR","/");a.cdecl(H,"ALT_SEPARATOR",m);b.$attr_reader("eof");b.$attr_reader("lineno");b.$attr_reader("path");a.defn(b,"$initialize",w=function(a,b){null==b&&(b="r");this.path=a;this.contents=m;this.eof=!1;this.lineno=0;return H.get("JAVASCRIPT_PLATFORM")["$=="]("node")?this.fd=require("fs").openSync(a,b):m},w.$$arity=-2);a.defn(b,"$read",p=function(){var a,
b=m;return(a=this.eof)===m||null==a||a.$$is_boolean&&1!=a?(b=H.get("File").$read(this.path),this.eof=!0,this.lineno=b.$size(),b):""},p.$$arity=0);a.defn(b,"$each_line",g=function(b){var d,c=g.$$p||m,h=m;null==f["/"]&&(f["/"]=m);null==b&&(b=f["/"]);g.$$p=null;if((d=this.eof)!==m&&null!=d&&(!d.$$is_boolean||1==d))return c!==m?this:[].$to_enum();if(c!==m){h=H.get("File").$read(this.path);this.eof=!1;this.lineno=0;d=h.$chomp();h=h.length!=d.length;d=d.split(b);for(var n=0,p=d.length;n<p;n++)this.lineno+=
1,n<p-1||h?a.yield1(c,d[n]+b):a.yield1(c,d[n]);this.eof=!0;return this}return this.$read().$each_line()},g.$$arity=-1);a.defn(b,"$readlines",L=function(){return H.get("File").$readlines(this.path)},L.$$arity=0);a.defs(b,"$readlines",v=function(a,b){var d=m;null==f["/"]&&(f["/"]=m);null==b&&(b=f["/"]);d=H.get("File").$read(a);return d.$split(b)},v.$$arity=-2);a.defs(b,"$file?",z=function(a){return!0},z.$$arity=1);a.defs(b,"$readable?",I=function(a){return!0},I.$$arity=1);return(a.defs(b,"$read",F=
function(a){var b=m;return function(){b=H.get("JAVASCRIPT_PLATFORM");if("node"["$==="](b))return require("fs").readFileSync(a,"utf8");if("java-nashorn"["$==="](b)){var d=Java.type("java.nio.file.Paths"),c=[];Java.type("java.nio.file.Files").readAllLines(d.get(a),Java.type("java.nio.charset.StandardCharsets").UTF_8).forEach(function(a){c.push(a)});return c.join("\n")}if("browser"["$==="](b)){var c="",g=-1;try{d=new XMLHttpRequest,d.open("GET",a,!1),d.addEventListener("load",function(){g=this.status;
if(0==g||200==g)c=this.responseText}),d.overrideMimeType("text/plain"),d.send()}catch(f){g=0}if(404==g||0==g&&""==c)throw H.get("IOError").$new("No such file or directory: "+a);return c}return"standalone"["$==="](b)?read(a):""}()},F.$$arity=1),m)&&"read"})(a.base,null);return function(c,$super){function d(){}var b=d=h(c,$super,"IO",d),f=b.$$scope,n;return(a.defs(b,"$read",n=function(a){return f.get("File").$read(a)},n.$$arity=1),m)&&"read"}(a.base,null)};
Opal.modules["asciidoctor/opal_ext/match_data"]=function(a){var m=a.nil,n=a.klass;a.add_stubs(["$[]="]);return function(h,$super){function c(){}var e=c=n(h,$super,"MatchData",c),d;e.$$proto.matches=m;return(a.defn(e,"$[]=",d=function(a,d){return this.matches["$[]="](a,d)},d.$$arity=2),m)&&"[]="}(a.base,null)};Opal.modules["asciidoctor/opal_ext/kernel"]=function(a){var m=a.nil,n=a.module;return function(h){h=n(h,"Kernel");var f;a.defn(h,"$freeze",f=function(){return m},f.$$arity=0)}(a.base)};
Opal.modules["asciidoctor/opal_ext/thread_safe"]=function(a){var m=a.nil,n=a.module,h=a.klass;n(a.base,"ThreadSafe");m;return function(a,$super){function e(){}e=h(a,$super,"Cache",e);return m}(a.base,a.get("Hash"))};
Opal.modules["asciidoctor/converter/base"]=function(a){var m=a.nil,n=a.module,h=a.klass,f=a.hash2;a.add_stubs(["$include","$node_name","$empty?","$send","$content"]);return function(c){c=n(c,"Asciidoctor").$$scope;n(c.base,"Converter");m;(function(a,$super){function b(){}var c=b=h(a,$super,"Base",b);return c.$include(c.$$scope.get("Converter"))})(c.get("Converter"),null);(function(c,$super){function b(){}var n=b=h(c,$super,"BuiltIn",b),H,w,p,g;a.defn(n,"$initialize",H=function(a,b){null==b&&f([],
{});return m},H.$$arity=-2);a.defn(n,"$convert",w=function(a,b,c){var e;null==b&&(b=m);null==c&&(c=f([],{}));!1!==(e=b)&&e!==m&&null!=e?e:b=a.$node_name();return(e=c["$empty?"]())===m||null==e||e.$$is_boolean&&1!=e?this.$send(b,a,c):this.$send(b,a)},w.$$arity=-2);a.alias(n,"handles?","respond_to?");a.defn(n,"$content",p=function(a){return a.$content()},p.$$arity=1);a.alias(n,"pass","content");return(a.defn(n,"$skip",g=function(a){return m},g.$$arity=1),m)&&"skip"})(c.get("Converter"),null)}(a.base)};
Opal.modules["asciidoctor/converter/factory"]=function(a){var m=a.nil,n=a.module,h=a.klass,f=a.hash2;a.add_stubs("$new $require $to_s $warn $register $default $resolve $create $converters $unregister_all $attr_reader $each $[]= $== $[] $clear $=== $key?".split(" "));return function(c){(function(c){(function(d,$super){function c(){}var e=c=h(d,$super,"Factory",c),n=e.$$proto,p=e.$$scope,g,L,v,z,I;n.converters=n.star_converter=m;e.__default__=m;(function(d){var c,e,g,h,n,p;a.defn(d,"$default",c=function(d){var c,
e;null==this.__default__&&(this.__default__=m);null==d&&(d=!0);if(!1===d||d===m||null==d)d=!1!==(c=this.__default__)&&c!==m&&null!=c?c:this.$new();else{if(!1===(c=this.__default__)||c===m||null==c){var g;a:{try{((e=null==a.Object.$$scope.ThreadSafe?m:"constant")===m||null==e||e.$$is_boolean&&1!=e)&&this.$require("thread_safe".$to_s());g=this.$new(a.get("ThreadSafe").$$scope.get("Cache").$new());break a}catch(f){if(a.rescue(f,[a.get("LoadError")]))try{this.$warn("asciidoctor: WARNING: gem 'thread_safe' is not installed. This gem is recommended when registering custom converters.");
g=this.$new();break a}finally{a.pop_exception()}else throw f;}g=void 0}c=this.__default__=g}d=c}return d},c.$$arity=-1);a.defn(d,"$register",e=function(a,d){null==d&&(d=["*"]);return this.$default().$register(a,d)},e.$$arity=-2);a.defn(d,"$resolve",g=function(a){return this.$default().$resolve(a)},g.$$arity=1);a.defn(d,"$create",h=function(a,d){null==d&&(d=f([],{}));return this.$default().$create(a,d)},h.$$arity=-2);a.defn(d,"$converters",n=function(){return this.$default().$converters()},n.$$arity=
0);return(a.defn(d,"$unregister_all",p=function(){return this.$default().$unregister_all()},p.$$arity=0),m)&&"unregister_all"})(a.get_singleton_class(e));e.$attr_reader("converters");a.defn(e,"$initialize",g=function(a){var d;null==a&&(a=m);this.converters=!1!==(d=a)&&d!==m&&null!=d?d:f([],{});return this.star_converter=m},g.$$arity=-1);a.defn(e,"$register",L=function(a,d){var c,e,g;null==d&&(d=["*"]);(c=(e=d).$each,c.$$p=(g=function(d){var c=g.$$s||this;null==c.converters&&(c.converters=m);null==
d&&(d=m);c.converters["$[]="](d,a);return d["$=="]("*")?c.star_converter=a:m},g.$$s=this,g.$$arity=1,g),c).call(e);return m},L.$$arity=-2);a.defn(e,"$resolve",v=function(a){var d,c;return d=this.converters,!1!==d&&d!==m&&null!=d?!1!==(c=this.converters["$[]"](a))&&c!==m&&null!=c?c:this.star_converter:d},v.$$arity=1);a.defn(e,"$unregister_all",z=function(){this.converters.$clear();return this.star_converter=m},z.$$arity=0);return(a.defn(e,"$create",I=function(d,c){var e,g=this,h=m,n=h=m,w=m;null==
c&&(c=f([],{}));if((e=h=g.$resolve(d))!==m&&null!=e&&(!e.$$is_boolean||1==e))return(e=a.get("Class")["$==="](h))===m||null==e||e.$$is_boolean&&1!=e?h:h.$new(d,c);h=function(){n=d;if("html5"["$==="](n)){var f;try{f=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("Html5Converter")?"constant":m}catch(h){if(h.$$class===a.NameError)f=m;else throw h;}((e=f)===m||null==e||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/html5".$to_s());return p.get("Html5Converter").$new(d,c)}if("docbook5"["$==="](n)){var w;
try{w=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook5Converter")?"constant":m}catch(h){if(h.$$class===a.NameError)w=m;else throw h;}((e=w)===m||null==e||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/docbook5".$to_s());return p.get("DocBook5Converter").$new(d,c)}if("docbook45"["$==="](n)){var t;try{t=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("DocBook45Converter")?"constant":m}catch(h){if(h.$$class===a.NameError)t=m;else throw h;}((e=t)===m||
null==e||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/docbook45".$to_s());return p.get("DocBook45Converter").$new(d,c)}if("manpage"["$==="](n)){var q;try{q=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("ManPageConverter")?"constant":m}catch(h){if(h.$$class===a.NameError)q=m;else throw h;}((e=q)===m||null==e||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/manpage".$to_s());return p.get("ManPageConverter").$new(d,c)}return m}();if((e=c["$key?"]("template_dirs"))===
m||null==e||e.$$is_boolean&&1!=e)return h;var t;try{t=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("TemplateConverter")?"constant":m}catch(k){if(k.$$class===a.NameError)t=m;else throw k;}((e=t)===m||null==e||e.$$is_boolean&&1!=e)&&g.$require("asciidoctor/converter/template".$to_s());var q;try{q=null!=a.get("Asciidoctor").$$scope.get("Converter").$$scope.get("CompositeConverter")?"constant":m}catch(k){if(k.$$class===a.NameError)q=m;else throw k;}((e=q)===m||null==e||e.$$is_boolean&&
1!=e)&&g.$require("asciidoctor/converter/composite".$to_s());w=p.get("TemplateConverter").$new(d,c["$[]"]("template_dirs"),c);return p.get("CompositeConverter").$new(d,w,h)},I.$$arity=-2),m)&&"create"})(n(c,"Converter").$$scope.base,null)})(n(c,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/converter"]=function(a){var m=a.top,n=a.nil,h=a.module,f=a.range,c=a.hash2;a.add_stubs("$register $== $send $include? $setup_backend_info $raise $class $sub $[] $[]= $backend_info $extend $include $respond_to? $write $chomp $open $require".split(" "));(function(e){e=h(e,"Asciidoctor").$$scope;(function(d){d=h(d,"Converter");var b=d.$$scope,e,m;(function(b){b=h(b,"Config");var d=b.$$scope,c;a.defn(b,"$register_for",c=function(b){var c,e,g,f,h,r,m=n,m=arguments.length,t=m-
0;0>t&&(t=0);r=Array(t);for(t=0;t<m;t++)r[t-0]=arguments[t];d.get("Factory").$register(this,r);m=function(a){return a}(a.get_singleton_class(this));r["$=="](["*"])?(c=(e=m).$send,c.$$p=(g=function(a){return!0},g.$$s=this,g.$$arity=1,g),c).call(e,"define_method","converts?"):(c=(f=m).$send,c.$$p=(h=function(a){null==a&&(a=n);return r["$include?"](a)},h.$$s=this,h.$$arity=1,h),c).call(f,"define_method","converts?");return n},c.$$arity=-1)})(b.base);(function(b){b=h(b,"BackendInfo");var d=b.$$scope,
e,m,t,z,H,F;a.defn(b,"$backend_info",e=function(){var a;null==this.backend_info&&(this.backend_info=n);return!1!==(a=this.backend_info)&&a!==n&&null!=a?a:this.backend_info=this.$setup_backend_info()},e.$$arity=0);a.defn(b,"$setup_backend_info",m=function(){var b,e=n,g=n,h=n,m=n;null==this.backend&&(this.backend=n);((b=this.backend)===n||null==b||b.$$is_boolean&&1!=b)&&this.$raise(a.get("ArgumentError"),"Cannot determine backend for converter: "+this.$class());e=this.backend.$sub(d.get("TrailingDigitsRx"),
"");(b=g=d.get("DEFAULT_EXTENSIONS")["$[]"](e))===n||null==b||b.$$is_boolean&&1!=b?(e="html",g=".html",m=h="html"):h=g["$[]"](f(1,-1,!1));return c(["basebackend","outfilesuffix","filetype","htmlsyntax"],{basebackend:e,outfilesuffix:g,filetype:h,htmlsyntax:m})},m.$$arity=0);a.defn(b,"$filetype",t=function(a){null==a&&(a=n);return!1!==a&&a!==n&&null!=a?this.$backend_info()["$[]="]("filetype",a):this.$backend_info()["$[]"]("filetype")},t.$$arity=-1);a.defn(b,"$basebackend",z=function(a){null==a&&(a=
n);return!1!==a&&a!==n&&null!=a?this.$backend_info()["$[]="]("basebackend",a):this.$backend_info()["$[]"]("basebackend")},z.$$arity=-1);a.defn(b,"$outfilesuffix",H=function(a){null==a&&(a=n);return!1!==a&&a!==n&&null!=a?this.$backend_info()["$[]="]("outfilesuffix",a):this.$backend_info()["$[]"]("outfilesuffix")},H.$$arity=-1);a.defn(b,"$htmlsyntax",F=function(a){null==a&&(a=n);return!1!==a&&a!==n&&null!=a?this.$backend_info()["$[]="]("htmlsyntax",a):this.$backend_info()["$[]"]("htmlsyntax")},F.$$arity=
-1)})(b.base);(function(b){var d=b.$$scope,c;return(a.defn(b,"$included",c=function(a){return a.$extend(d.get("Config"))},c.$$arity=1),n)&&"included"})(a.get_singleton_class(d));d.$include(b.get("Config"));d.$include(b.get("BackendInfo"));a.defn(d,"$initialize",e=function(a,b){null==b&&c([],{});this.backend=a;return this.$setup_backend_info()},e.$$arity=-2);a.defn(d,"$convert",m=function(b,d,e){null==e&&c([],{});return this.$raise(a.get("NotImplementedError"))},m.$$arity=-2);a.alias(d,"convert_with_options",
"convert")})(e.base);(function(d){d=h(d,"Writer");var b=d.$$scope,c;a.defn(d,"$write",c=function(d,c){var e,g,f;(e=c["$respond_to?"]("write"))===n||null==e||e.$$is_boolean&&1!=e?(e=(g=a.get("File")).$open,e.$$p=(f=function(a){null==a&&(a=n);return a.$write(d)},f.$$s=this,f.$$arity=1,f),e).call(g,c,"w"):(c.$write(d.$chomp()),c.$write(b.get("EOL")));return n},c.$$arity=2)})(e.base);(function(d){d=h(d,"VoidWriter");var b;d.$include(d.$$scope.get("Writer"));a.defn(d,"$write",b=function(a,b){return n},
b.$$arity=2)})(e.base)})(a.base);m.$require("asciidoctor/converter/base");return m.$require("asciidoctor/converter/factory")};
Opal.modules["asciidoctor/converter/composite"]=function(a){var m=a.nil,n=a.module,h=a.klass,f=a.hash2;a.add_stubs("$attr_reader $each $respond_to? $composed $compact $flatten $node_name $convert $converter_for $[] $[]= $find_converter $handles? $raise".split(" "));return function(c){c=n(c,"Asciidoctor").$$scope;(function(c,$super){function b(){}var n=b=h(c,$super,"CompositeConverter",b),H=n.$$proto,w,p,g,L;H.converter_map=H.converters=m;n.$attr_reader("converters");a.defn(n,"$initialize",w=function(a,
b){var c,e,g,h,n=arguments.length;h=n-1;0>h&&(h=0);h=Array(h);for(var p=1;p<n;p++)h[p-1]=arguments[p];this.backend=a;(c=(e=this.converters=h.$flatten().$compact()).$each,c.$$p=(g=function(a){var b=g.$$s||this,c;null==a&&(a=m);return(c=a["$respond_to?"]("composed"))===m||null==c||c.$$is_boolean&&1!=c?m:a.$composed(b)},g.$$s=this,g.$$arity=1,g),c).call(e);return this.converter_map=f([],{})},w.$$arity=-2);a.defn(n,"$convert",p=function(a,b,c){var e;null==b&&(b=m);null==c&&(c=f([],{}));!1!==(e=b)&&e!==
m&&null!=e?e:b=a.$node_name();return this.$converter_for(b).$convert(a,b,c)},p.$$arity=-2);a.alias(n,"convert_with_options","convert");a.defn(n,"$converter_for",g=function(a){var b,c;return b=this.converter_map,!1!==(c=b["$[]"](a))&&c!==m&&null!=c?c:b["$[]="](a,this.$find_converter(a))},g.$$arity=1);return(a.defn(n,"$find_converter",L=function(b){try{var c,e,g;(c=(e=this.converters).$each,c.$$p=(g=function(c){var e;null==c&&(c=m);if((e=c["$handles?"](b))===m||null==e||e.$$is_boolean&&1!=e)return m;
a.ret(c)},g.$$s=this,g.$$arity=1,g),c).call(e);return this.$raise("Could not find a converter to handle transform: "+b)}catch(f){if(f===a.returner)return f.$v;throw f;}},L.$$arity=1),m)&&"find_converter"})(c.get("Converter"),c.get("Converter").$$scope.get("Base"))}(a.base)};
Opal.modules["asciidoctor/converter/html5"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a<=b:a["$<="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}function e(a,b){return"number"===typeof a&&"number"===
typeof b?a+b:a["$+"](b)}var d=a.nil,b=a.module,t=a.klass,H=a.hash2,w=a.range;a.add_stubs("$default= $== $[] $instance $empty? $attr $>= $safe $attr? $<< $doctitle $include? $normalize_web_path $embed_primary_stylesheet $read_asset $normalize_system_path $=== $coderay_stylesheet_name $embed_coderay_stylesheet $pygments_stylesheet_name $embed_pygments_stylesheet $docinfo $id $sections? $doctype $* $noheader $outline $has_header? $notitle $title $header $sub_macros $> $to_i $each $downcase $concat $content $footnotes? $! $index $text $footnotes $nofooter $inspect $!= $document $sections $level $special $numbered $caption $<= $sectnum $< $captioned_title $+ $role $title? $icon_uri $compact $media_uri $option? $append_boolean_attribute $style $each_with_index $items $text? $blocks? $chomp $read_svg_contents $image_uri $to_sym $start_with? $end_with? $list_marker_keyword $parent $warn $context $times $size $columns $colspan $rowspan $rows $select $role? $insert $split $target $type $attributes $references $join $map $chop $read_contents $sub $gsub $match $length".split(" "));
return function(p){p=b(p,"Asciidoctor").$$scope;(function(b,$super){function p(){}var z=p=t(b,$super,"Html5Converter",p),I=z.$$proto,F=z.$$scope,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B,Z,x,E,fa,ia,ja,ma,na,ka,u,ea,l,ba,X,U,ga,ra,va,wa,xa,ya,sa,ta,qa;I.xml_mode=I.void_element_slash=I.stylesheets=d;I=[[d,d,d]];C=a.cdecl(F,"QUOTE_TAGS",H("emphasis strong monospaced superscript subscript double single mark asciimath latexmath".split(" "),{emphasis:["<em>","</em>",!0],strong:["<strong>","</strong>",!0],monospaced:["<code>",
"</code>",!0],superscript:["<sup>","</sup>",!0],subscript:["<sub>","</sub>",!0],"double":["&#8220;","&#8221;",!1],single:["&#8216;","&#8217;",!1],mark:["<mark>","</mark>",!0],asciimath:["\\$","\\$",!1],latexmath:["\\(","\\)",!1]}));C["$default="].apply(C,I);I[I.length-1];a.cdecl(F,"SvgPreambleRx",/\A.*?(?=<svg\b)/m);a.cdecl(F,"SvgStartTagRx",/\A<svg[^>]*>/);a.cdecl(F,"DimensionAttributeRx",/\s(?:width|height|style)=(["']).*?\1/);a.defn(z,"$initialize",r=function(a,b){var c;null==b&&(b=H([],{}));this.xml_mode=
b["$[]"]("htmlsyntax")["$=="]("xml");this.void_element_slash=(c=this.xml_mode)===d||null==c||c.$$is_boolean&&1!=c?d:"/";return this.stylesheets=F.get("Stylesheets").$instance()},r.$$arity=-2);a.defn(z,"$document",Q=function(a){var b,c,e,g,l,u,f=d,k=d,D=d,W=d,J=d,K=d,A=d,y=K=A=K=A=W=A=W=A=d,k=k=K=K=A=d,f=[],k=this.void_element_slash,D="<br"+k+">";if((b=(W=a.$attr("asset-uri-scheme","https"))["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b)W=""+W+":";J=""+W+"//cdnjs.cloudflare.com/ajax/libs";K=!1!==
(b=m(a.$safe(),F.get("SafeMode").$$scope.get("SECURE")))&&b!==d&&null!=b?b:a["$attr?"]("linkcss");f["$<<"]("<!DOCTYPE html>");A=(b=a["$attr?"]("nolang"))===d||null==b||b.$$is_boolean&&1!=b?' lang="'+a.$attr("lang","en")+'"':d;f["$<<"]("<html"+((b=this.xml_mode)===d||null==b||b.$$is_boolean&&1!=b?d:' xmlns="http://www.w3.org/1999/xhtml"')+A+">");f["$<<"]('<head>\n<meta charset="'+a.$attr("encoding","UTF-8")+'"'+k+'>\n\x3c!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"'+k+'><![endif]--\x3e\n<meta name="viewport" content="width=device-width, initial-scale=1.0"'+
k+'>\n<meta name="generator" content="Asciidoctor '+a.$attr("asciidoctor-version")+'"'+k+">");if((b=a["$attr?"]("app-name"))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<meta name="application-name" content="'+a.$attr("app-name")+'"'+k+">");if((b=a["$attr?"]("description"))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<meta name="description" content="'+a.$attr("description")+'"'+k+">");if((b=a["$attr?"]("keywords"))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<meta name="keywords" content="'+
a.$attr("keywords")+'"'+k+">");if((b=a["$attr?"]("authors"))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<meta name="author" content="'+a.$attr("authors")+'"'+k+">");if((b=a["$attr?"]("copyright"))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<meta name="copyright" content="'+a.$attr("copyright")+'"'+k+">");f["$<<"]("<title>"+a.$doctitle(H(["sanitize","use_fallback"],{sanitize:!0,use_fallback:!0}))+"</title>");if((b=F.get("DEFAULT_STYLESHEET_KEYS")["$include?"](a.$attr("stylesheet")))!==d&&
null!=b&&(!b.$$is_boolean||1==b)){if((b=A=a.$attr("webfonts"))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<link rel="stylesheet" href="'+W+"//fonts.googleapis.com/css?family="+((b=A["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?A:"Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700")+'"'+k+">");if(!1!==K&&K!==d&&null!=K)f["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(F.get("DEFAULT_STYLESHEET_NAME"),a.$attr("stylesdir",
""),!1)+'"'+k+">");else f["$<<"](this.stylesheets.$embed_primary_stylesheet())}else if((b=a["$attr?"]("stylesheet"))!==d&&null!=b&&(!b.$$is_boolean||1==b))if(!1!==K&&K!==d&&null!=K)f["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(a.$attr("stylesheet"),a.$attr("stylesdir",""))+'"'+k+">");else f["$<<"]("<style>\n"+a.$read_asset(a.$normalize_system_path(a.$attr("stylesheet"),a.$attr("stylesdir","")),H(["warn_on_failure"],{warn_on_failure:!0}))+"\n</style>");if((b=a["$attr?"]("icons","font"))!==
d&&null!=b&&(!b.$$is_boolean||1==b))if((b=a["$attr?"]("iconfont-remote"))===d||null==b||b.$$is_boolean&&1!=b)W=""+a.$attr("iconfont-name","font-awesome")+".css",f["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(W,a.$attr("stylesdir",""),!1)+'"'+k+">");else f["$<<"]('<link rel="stylesheet" href="'+a.$attr("iconfont-cdn",""+J+"/font-awesome/4.6.3/css/font-awesome.min.css")+'"'+k+">");A=W=a.$attr("source-highlighter");if("coderay"["$==="](A)){if(a.$attr("coderay-css","class")["$=="]("class"))if(!1!==
K&&K!==d&&null!=K)f["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$coderay_stylesheet_name(),a.$attr("stylesdir",""),!1)+'"'+k+">");else f["$<<"](this.stylesheets.$embed_coderay_stylesheet())}else if("pygments"["$==="](A)&&a.$attr("pygments-css","class")["$=="]("class"))if(A=a.$attr("pygments-style"),!1!==K&&K!==d&&null!=K)f["$<<"]('<link rel="stylesheet" href="'+a.$normalize_web_path(this.stylesheets.$pygments_stylesheet_name(A),a.$attr("stylesdir",""),!1)+'"'+k+">");
else f["$<<"](this.stylesheets.$embed_pygments_stylesheet(A));if((b=(K=a.$docinfo())["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b)f["$<<"](K);f["$<<"]("</head>");A=[];if((b=a.$id())!==d&&null!=b&&(!b.$$is_boolean||1==b))A["$<<"]('id="'+a.$id()+'"');if((b=(c=(e=(g=K=a["$sections?"](),!1!==g&&g!==d&&null!=g?a["$attr?"]("toc-class"):g),!1!==e&&e!==d&&null!=e?a["$attr?"]("toc"):e),!1!==c&&c!==d&&null!=c?a["$attr?"]("toc-placement","auto"):c))===d||null==b||b.$$is_boolean&&1!=b)A["$<<"]('class="'+
a.$doctype()+'"');else A["$<<"]('class="'+a.$doctype()+" "+a.$attr("toc-class")+" toc-"+a.$attr("toc-position","header")+'"');if((b=a["$attr?"]("max-width"))!==d&&null!=b&&(!b.$$is_boolean||1==b))A["$<<"]('style="max-width: '+a.$attr("max-width")+';"');f["$<<"]("<body "+n(A," ")+">");if((b=a.$noheader())===d||null==b||b.$$is_boolean&&1!=b){f["$<<"]('<div id="header">');if(a.$doctype()["$=="]("manpage")){f["$<<"]("<h1>"+a.$doctitle()+" Manual Page</h1>");if((b=(c=(e=!1!==K&&K!==d&&null!=K)?a["$attr?"]("toc"):
K,!1!==c&&c!==d&&null!=c?a["$attr?"]("toc-placement","auto"):c))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");f["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else{if((b=a["$has_header?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b)){if((b=a.$notitle())===d||null==b||b.$$is_boolean&&
1!=b)f["$<<"]("<h1>"+a.$header().$title()+"</h1>");y=[];if((b=a["$attr?"]("author"))!==d&&null!=b&&(!b.$$is_boolean||1==b)){y["$<<"]('<span id="author" class="author">'+a.$attr("author")+"</span>"+D);if((b=a["$attr?"]("email"))!==d&&null!=b&&(!b.$$is_boolean||1==b))y["$<<"]('<span id="email" class="email">'+a.$sub_macros(a.$attr("email"))+"</span>"+D);(b=h(A=a.$attr("authorcount").$to_i(),1))===d||null==b||b.$$is_boolean&&1!=b||(b=(c=w(2,A,!1)).$each,b.$$p=(l=function(b){var c;null==b&&(b=d);y["$<<"]('<span id="author'+
b+'" class="author">'+a.$attr("author_"+b)+"</span>"+D);return(c=a["$attr?"]("email_"+b))===d||null==c||c.$$is_boolean&&1!=c?d:y["$<<"]('<span id="email'+b+'" class="email">'+a.$sub_macros(a.$attr("email_"+b))+"</span>"+D)},l.$$s=this,l.$$arity=1,l),b).call(c)}if((b=a["$attr?"]("revnumber"))!==d&&null!=b&&(!b.$$is_boolean||1==b))y["$<<"]('<span id="revnumber">'+(!1!==(b=a.$attr("version-label"))&&b!==d&&null!=b?b:"").$downcase()+" "+a.$attr("revnumber")+((b=a["$attr?"]("revdate"))===d||null==b||b.$$is_boolean&&
1!=b?"":",")+"</span>");if((b=a["$attr?"]("revdate"))!==d&&null!=b&&(!b.$$is_boolean||1==b))y["$<<"]('<span id="revdate">'+a.$attr("revdate")+"</span>");if((b=a["$attr?"]("revremark"))!==d&&null!=b&&(!b.$$is_boolean||1==b))y["$<<"](""+D+'<span id="revremark">'+a.$attr("revremark")+"</span>");if((b=y["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b)f["$<<"]('<div class="details">'),f.$concat(y),f["$<<"]("</div>")}if((b=(e=(g=!1!==K&&K!==d&&null!=K)?a["$attr?"]("toc"):K,!1!==e&&e!==d&&null!=e?a["$attr?"]("toc-placement",
"auto"):e))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<div id="toc" class="'+a.$attr("toc-class","toc")+'">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>")}f["$<<"]("</div>")}f["$<<"]('<div id="content">\n'+a.$content()+"\n</div>");(b=(e=a["$footnotes?"](),!1!==e&&e!==d&&null!=e?a["$attr?"]("nofootnotes")["$!"]():e))===d||null==b||b.$$is_boolean&&1!=b||(f["$<<"]('<div id="footnotes">\n<hr'+k+">"),(b=(e=a.$footnotes()).$each,b.$$p=(u=function(a){null==a&&(a=
d);return f["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},u.$$s=this,u.$$arity=1,u),b).call(e),f["$<<"]("</div>"));if((b=a.$nofooter())===d||null==b||b.$$is_boolean&&1!=b){f["$<<"]('<div id="footer">');f["$<<"]('<div id="footer-text">');if((b=a["$attr?"]("revnumber"))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"](""+a.$attr("version-label")+" "+a.$attr("revnumber")+D);if((b=(g=a["$attr?"]("last-update-label"),
!1!==g&&g!==d&&null!=g?a["$attr?"]("reproducible")["$!"]():g))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"](""+a.$attr("last-update-label")+" "+a.$attr("docdatetime"));f["$<<"]("</div>");f["$<<"]("</div>")}if((b=(K=a.$docinfo("footer"))["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b)f["$<<"](K);A=W;"highlightjs"["$==="](A)||"highlight.js"["$==="](A)?(K=a.$attr("highlightjsdir",""+J+"/highlight.js/8.9.1"),f["$<<"]('<link rel="stylesheet" href="'+K+"/styles/"+a.$attr("highlightjs-theme","github")+
'.min.css"'+k+">"),f["$<<"]('<script src="'+K+'/highlight.min.js">\x3c/script>\n<script>hljs.initHighlighting()\x3c/script>')):"prettify"["$==="](A)&&(K=a.$attr("prettifydir",""+J+"/prettify/r298"),f["$<<"]('<link rel="stylesheet" href="'+K+"/"+a.$attr("prettify-theme","prettify")+'.min.css"'+k+">"),f["$<<"]('<script src="'+K+'/prettify.min.js">\x3c/script>\n<script>prettyPrint()\x3c/script>'));(b=a["$attr?"]("stem"))===d||null==b||b.$$is_boolean&&1!=b||(k=a.$attr("eqnums","none"),(b=k["$empty?"]())===
d||null==b||b.$$is_boolean&&1!=b||(k="AMS"),k=' equationNumbers: { autoNumber: "'+k+'" } ',f["$<<"]('<script type="text/x-mathjax-config">\nMathJax.Hub.Config({\n  messageStyle: "none",\n  tex2jax: {\n    inlineMath: ['+F.get("INLINE_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+"],\n    displayMath: ["+F.get("BLOCK_MATH_DELIMITERS")["$[]"]("latexmath").$inspect()+'],\n    ignoreClass: "nostem|nolatexmath"\n  },\n  asciimath2jax: {\n    delimiters: ['+F.get("BLOCK_MATH_DELIMITERS")["$[]"]("asciimath").$inspect()+
'],\n    ignoreClass: "nostem|noasciimath"\n  },\n  TeX: {'+k+'}\n});\n\x3c/script>\n<script src="'+J+'/mathjax/2.6.0/MathJax.js?config=TeX-MML-AM_HTMLorMML">\x3c/script>'));f["$<<"]("</body>");f["$<<"]("</html>");return n(f,F.get("EOL"))},Q.$$arity=1);a.defn(z,"$embedded",O=function(a){var b,c,e,g,l,f=d,u=d,h=d,f=[];if(a.$doctype()["$=="]("manpage")){if((b=a.$notitle())===d||null==b||b.$$is_boolean&&1!=b)u=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f["$<<"]("<h1"+u+">"+
a.$doctitle()+" Manual Page</h1>");f["$<<"]("<h2>"+a.$attr("manname-title")+'</h2>\n<div class="sectionbody">\n<p>'+a.$attr("manname")+" - "+a.$attr("manpurpose")+"</p>\n</div>")}else(b=(c=a["$has_header?"](),!1!==c&&c!==d&&null!=c?a.$notitle()["$!"]():c))===d||null==b||b.$$is_boolean&&1!=b||(u=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f["$<<"]("<h1"+u+">"+a.$header().$title()+"</h1>"));if((b=(c=(e=(g=a["$sections?"](),!1!==g&&g!==d&&null!=g?a["$attr?"]("toc"):g),!1!==e&&
e!==d&&null!=e?(h=a.$attr("toc-placement"))["$!="]("macro"):e),!1!==c&&c!==d&&null!=c?h["$!="]("preamble"):c))!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<div id="toc" class="toc">\n<div id="toctitle">'+a.$attr("toc-title")+"</div>\n"+this.$outline(a)+"\n</div>");f["$<<"](a.$content());(b=(c=a["$footnotes?"](),!1!==c&&c!==d&&null!=c?a["$attr?"]("nofootnotes")["$!"]():c))===d||null==b||b.$$is_boolean&&1!=b||(f["$<<"]('<div id="footnotes">\n<hr'+this.void_element_slash+">"),(b=(c=a.$footnotes()).$each,
b.$$p=(l=function(a){null==a&&(a=d);return f["$<<"]('<div class="footnote" id="_footnote_'+a.$index()+'">\n<a href="#_footnoteref_'+a.$index()+'">'+a.$index()+"</a>. "+a.$text()+"\n</div>")},l.$$s=this,l.$$arity=1,l),b).call(c),f["$<<"]("</div>"));return n(f,F.get("EOL"))},O.$$arity=1);a.defn(z,"$outline",S=function(a,b){var e,g,T,l=d,u=d,h=d,k=d,D=d,W=d;null==b&&(b=H([],{}));if((e=a["$sections?"]())===d||null==e||e.$$is_boolean&&1!=e)return d;l=!1!==(e=b["$[]"]("sectnumlevels"))&&e!==d&&null!=e?
e:a.$document().$attr("sectnumlevels",3).$to_i();u=!1!==(e=b["$[]"]("toclevels"))&&e!==d&&null!=e?e:a.$document().$attr("toclevels",2).$to_i();h=[];k=a.$sections();D=(W=k["$[]"](0)).$level();(e=(g=D["$=="](0))?W.$special():D["$=="](0))===d||null==e||e.$$is_boolean&&1!=e||(D=1);h["$<<"]('<ul class="sectlevel'+D+'">');(e=(g=k).$each,e.$$p=(T=function(a){var b=T.$$s||this,e,y,ha,g=d,pa=d;null==a&&(a=d);g=(e=(y=(ha=a.$numbered(),!1!==ha&&ha!==d&&null!=ha?a.$caption()["$!"]():ha),!1!==y&&y!==d&&null!=
y?f(a.$level(),l):y))===d||null==e||e.$$is_boolean&&1!=e?d:""+a.$sectnum()+" ";if((e=(y=c(a.$level(),u),!1!==y&&y!==d&&null!=y?pa=b.$outline(a,H(["toclevels","secnumlevels"],{toclevels:u,secnumlevels:l})):y))===d||null==e||e.$$is_boolean&&1!=e)return h["$<<"]('<li><a href="#'+a.$id()+'">'+g+a.$captioned_title()+"</a></li>");h["$<<"]('<li><a href="#'+a.$id()+'">'+g+a.$captioned_title()+"</a>");h["$<<"](pa);return h["$<<"]("</li>")},T.$$s=this,T.$$arity=1,T),e).call(g);h["$<<"]("</ul>");return n(h,
F.get("EOL"))},S.$$arity=-2);a.defn(z,"$section",M=function(a){var b,c,g,T=d,l=d,u=d,h=d,k=d,D=d,W=d,J=d,K=W=d,J=d,T=a.$level();(b=(c=T["$=="](0))?a.$special():T["$=="](0))===d||null==b||b.$$is_boolean&&1!=b||(T=1);l="h"+e(T,1);u=h=k=D=d;(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b||(u=' id="'+(W=a.$id())+'"',(b=(J=a.$document())["$attr?"]("sectanchors"))===d||null==b||b.$$is_boolean&&1!=b||(h='<a class="anchor" href="#'+W+'"></a>'),(b=J["$attr?"]("sectlinks"))===d||null==b||b.$$is_boolean&&1!=
b||(k='<a class="link" href="#'+W+'">',D="</a>"));if(T["$=="](0))return"<h1"+u+' class="sect0">'+h+k+a.$title()+D+"</h1>\n"+a.$content();W=(b=K=a.$role())===d||null==b||b.$$is_boolean&&1!=b?' class="sect'+T+'"':' class="sect'+T+" "+K+'"';J=(b=(c=(g=a.$numbered(),!1!==g&&g!==d&&null!=g?a.$caption()["$!"]():g),!1!==c&&c!==d&&null!=c?f(T,a.$document().$attr("sectnumlevels",3).$to_i()):c))===d||null==b||b.$$is_boolean&&1!=b?d:""+a.$sectnum()+" ";return"<div"+W+">\n<"+l+u+">"+h+k+J+a.$captioned_title()+
D+"</"+l+">\n"+(T["$=="](1)?'<div class="sectionbody">\n'+a.$content()+"\n</div>":a.$content())+"\n</div>"},M.$$arity=1);a.defn(z,"$admonition",R=function(a){var b,c,e=d,g=d,l=d,f=d,u=d,e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',g=a.$attr("name"),l=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n",f=(b=a.$document()["$attr?"]("icons"))===d||null==b||b.$$is_boolean&&1!=b?'<div class="title">'+a.$caption()+"</div>":(b=(c=
a.$document()["$attr?"]("icons","font"),!1!==c&&c!==d&&null!=c?a["$attr?"]("icon")["$!"]():c))===d||null==b||b.$$is_boolean&&1!=b?'<img src="'+a.$icon_uri(g)+'" alt="'+a.$caption()+'"'+this.void_element_slash+">":'<i class="fa icon-'+g+'" title="'+a.$caption()+'"></i>';return"<div"+e+' class="admonitionblock '+g+(b=u=a.$role(),!1!==b&&b!==d&&null!=b?" "+u:b)+'">\n<table>\n<tr>\n<td class="icon">\n'+f+'\n</td>\n<td class="content">\n'+l+a.$content()+"\n</td>\n</tr>\n</table>\n</div>"},R.$$arity=1);
a.defn(z,"$audio",q=function(a){var b,c=d,e=d,g=d,l=g=d,c=this.xml_mode,e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',g=["audioblock",a.$role()].$compact(),g=' class="'+n(g," ")+'"',l=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+e+g+">\n"+l+'<div class="content">\n<audio src="'+a.$media_uri(a.$attr("target"))+'"'+((b=a["$option?"]("autoplay"))===d||null==b||b.$$is_boolean&&1!=b?d:this.$append_boolean_attribute("autoplay",
c))+((b=a["$option?"]("nocontrols"))===d||null==b||b.$$is_boolean&&1!=b?this.$append_boolean_attribute("controls",c):d)+((b=a["$option?"]("loop"))===d||null==b||b.$$is_boolean&&1!=b?d:this.$append_boolean_attribute("loop",c))+">\nYour browser does not support the audio tag.\n</audio>\n</div>\n</div>"},q.$$arity=1);a.defn(z,"$colist",k=function(a){var b,c,g,T,l,f=d,u=d,h=d,D=h=d,f=[],u=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',h=["colist",a.$style(),a.$role()].$compact(),
h=' class="'+n(h," ")+'"';f["$<<"]("<div"+u+h+">");if((b=a["$title?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))f["$<<"]('<div class="title">'+a.$title()+"</div>");(b=a.$document()["$attr?"]("icons"))===d||null==b||b.$$is_boolean&&1!=b?(f["$<<"]("<ol>"),(b=(T=a.$items()).$each,b.$$p=(l=function(a){null==a&&(a=d);return f["$<<"]("<li>\n<p>"+a.$text()+"</p>\n</li>")},l.$$s=this,l.$$arity=1,l),b).call(T),f["$<<"]("</ol>")):(f["$<<"]("<table>"),D=a.$document()["$attr?"]("icons","font"),(b=(c=a.$items()).$each_with_index,
b.$$p=(g=function(b,c){var K=g.$$s||this,A=d,A=d;null==K.void_element_slash&&(K.void_element_slash=d);null==b&&(b=d);null==c&&(c=d);A=e(c,1);A=!1!==D&&D!==d&&null!=D?'<i class="conum" data-value="'+A+'"></i><b>'+A+"</b>":'<img src="'+a.$icon_uri("callouts/"+A)+'" alt="'+A+'"'+K.void_element_slash+">";return f["$<<"]("<tr>\n<td>"+A+"</td>\n<td>"+b.$text()+"</td>\n</tr>")},g.$$s=this,g.$$arity=2,g),b).call(c),f["$<<"]("</table>"));f["$<<"]("</div>");return n(f,F.get("EOL"))},k.$$arity=1);a.defn(z,"$dlist",
Y=function(b){var c,e,g,T,l,f,u,h=d,D=d,k=d,J=k=k=d,K=D=d,h=[],D=(c=b.$id())===d||null==c||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',k=b.$style(),k=("qanda"["$==="](k)?["qlist","qanda",b.$role()]:"horizontal"["$==="](k)?["hdlist",b.$role()]:["dlist",b.$style(),b.$role()]).$compact(),k=' class="'+n(k," ")+'"';h["$<<"]("<div"+D+k+">");if((c=b["$title?"]())!==d&&null!=c&&(!c.$$is_boolean||1==c))h["$<<"]('<div class="title">'+b.$title()+"</div>");k=b.$style();"qanda"["$==="](k)?(h["$<<"]("<ol>"),(c=
(e=b.$items()).$each,c.$$p=(g=function(b,c){var e=g.$$s||this,K,J,ha;null==b&&(b=d);null==c&&(c=d);h["$<<"]("<li>");(K=(J=[].concat(a.to_a(b))).$each,K.$$p=(ha=function(a){null==a&&(a=d);return h["$<<"]("<p><em>"+a.$text()+"</em></p>")},ha.$$s=e,ha.$$arity=1,ha),K).call(J);if(!1!==c&&c!==d&&null!=c){if((K=c["$text?"]())!==d&&null!=K&&(!K.$$is_boolean||1==K))h["$<<"]("<p>"+c.$text()+"</p>");if((K=c["$blocks?"]())!==d&&null!=K&&(!K.$$is_boolean||1==K))h["$<<"](c.$content())}return h["$<<"]("</li>")},
g.$$s=this,g.$$arity=2,g),c).call(e),h["$<<"]("</ol>")):"horizontal"["$==="](k)?(J=this.void_element_slash,h["$<<"]("<table>"),(c=!1!==(T=b["$attr?"]("labelwidth"))&&T!==d&&null!=T?T:b["$attr?"]("itemwidth"))===d||null==c||c.$$is_boolean&&1!=c||(h["$<<"]("<colgroup>"),D=(c=b["$attr?"]("labelwidth"))===d||null==c||c.$$is_boolean&&1!=c?d:' style="width: '+b.$attr("labelwidth").$chomp("%")+'%;"',h["$<<"]("<col"+D+J+">"),D=(c=b["$attr?"]("itemwidth"))===d||null==c||c.$$is_boolean&&1!=c?d:' style="width: '+
b.$attr("itemwidth").$chomp("%")+'%;"',h["$<<"]("<col"+D+J+">"),h["$<<"]("</colgroup>")),(c=(T=b.$items()).$each,c.$$p=(l=function(c,e){var K=l.$$s||this,g,ha,T,f=d,u=d;null==c&&(c=d);null==e&&(e=d);h["$<<"]("<tr>");h["$<<"]('<td class="hdlist1'+((g=b["$option?"]("strong"))===d||null==g||g.$$is_boolean&&1!=g?d:" strong")+'">');f=[].concat(a.to_a(c));u=f["$[]"](-1);(g=(ha=f).$each,g.$$p=(T=function(a){var b;null==a&&(a=d);h["$<<"](a.$text());return(b=a["$!="](u))===d||null==b||b.$$is_boolean&&1!=b?
d:h["$<<"]("<br"+J+">")},T.$$s=K,T.$$arity=1,T),g).call(ha);h["$<<"]("</td>");h["$<<"]('<td class="hdlist2">');if(!1!==e&&e!==d&&null!=e){if((g=e["$text?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g))h["$<<"]("<p>"+e.$text()+"</p>");if((g=e["$blocks?"]())!==d&&null!=g&&(!g.$$is_boolean||1==g))h["$<<"](e.$content())}h["$<<"]("</td>");return h["$<<"]("</tr>")},l.$$s=this,l.$$arity=2,l),c).call(T),h["$<<"]("</table>")):(h["$<<"]("<dl>"),K=(c=b.$style())===d||null==c||c.$$is_boolean&&1!=c?' class="hdlist1"':
d,(c=(f=b.$items()).$each,c.$$p=(u=function(b,c){var e=u.$$s||this,J,g,ha;null==b&&(b=d);null==c&&(c=d);(J=(g=[].concat(a.to_a(b))).$each,J.$$p=(ha=function(a){null==a&&(a=d);return h["$<<"]("<dt"+K+">"+a.$text()+"</dt>")},ha.$$s=e,ha.$$arity=1,ha),J).call(g);if(!1!==c&&c!==d&&null!=c){h["$<<"]("<dd>");if((J=c["$text?"]())!==d&&null!=J&&(!J.$$is_boolean||1==J))h["$<<"]("<p>"+c.$text()+"</p>");if((J=c["$blocks?"]())!==d&&null!=J&&(!J.$$is_boolean||1==J))h["$<<"](c.$content());return h["$<<"]("</dd>")}return d},
u.$$s=this,u.$$arity=2,u),c).call(f),h["$<<"]("</dl>"));h["$<<"]("</div>");return n(h,F.get("EOL"))},Y.$$arity=1);a.defn(z,"$example",G=function(a){var b,c=d,e=d,g=d,c=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',e=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+c+' class="'+((b=g=a.$role())===d||null==b||b.$$is_boolean&&1!=b?"exampleblock":n(["exampleblock",g]," "))+'">\n'+e+'<div class="content">\n'+
a.$content()+"\n</div>\n</div>"},G.$$arity=1);a.defn(z,"$floating_title",V=function(a){var b,c=d,g=d,T=d,c="h"+e(a.$level(),1),g=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',T=[a.$style(),a.$role()].$compact();return"<"+c+g+' class="'+n(T," ")+'">'+a.$title()+"</"+c+">"},V.$$arity=1);a.defn(z,"$image",aa=function(a){var b,e,g,T,l=d,f=d,u=d,h=d,D=d,k=d,J=d,K=d,J=u=u=f=f=l=d,l=a.$attr("target"),f=(b=a["$attr?"]("width"))===d||null==b||b.$$is_boolean&&1!=b?d:' width="'+a.$attr("width")+
'"',u=(b=a["$attr?"]("height"))===d||null==b||b.$$is_boolean&&1!=b?d:' height="'+a.$attr("height")+'"';(b=(e=(g=!1!==(T=a["$attr?"]("format","svg",!1))&&T!==d&&null!=T?T:l["$include?"](".svg"),!1!==g&&g!==d&&null!=g?c(a.$document().$safe(),F.get("SafeMode").$$scope.get("SECURE")):g),!1!==e&&e!==d&&null!=e?!1!==(g=h=a["$option?"]("inline"))&&g!==d&&null!=g?g:D=a["$option?"]("interactive"):e))===d||null==b||b.$$is_boolean&&1!=b||(!1!==h&&h!==d&&null!=h?k=!1!==(b=this.$read_svg_contents(a,l))&&b!==d&&
null!=b?b:'<span class="alt">'+a.$attr("alt")+"</span>":!1!==D&&D!==d&&null!=D&&(J=(b=a["$attr?"]("fallback"))===d||null==b||b.$$is_boolean&&1!=b?'<span class="alt">'+a.$attr("alt")+"</span>":'<img src="'+a.$image_uri(a.$attr("fallback"))+'" alt="'+a.$attr("alt")+'"'+f+u+this.void_element_slash+">",k='<object type="image/svg+xml" data="'+a.$image_uri(l)+'"'+f+u+">"+J+"</object>"));!1!==(b=k)&&b!==d&&null!=b?b:k='<img src="'+a.$image_uri(l)+'" alt="'+a.$attr("alt")+'"'+f+u+this.void_element_slash+
">";(b=K=a.$attr("link"))===d||null==b||b.$$is_boolean&&1!=b||(k='<a class="image" href="'+K+'">'+k+"</a>");l=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"';f=["imageblock",a.$role()].$compact();f=' class="'+n(f," ")+'"';u=[];if((b=a["$attr?"]("align"))!==d&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]("text-align: "+a.$attr("align"));if((b=a["$attr?"]("float"))!==d&&null!=b&&(!b.$$is_boolean||1==b))u["$<<"]("float: "+a.$attr("float"));u=(b=u["$empty?"]())===d||null==b||b.$$is_boolean&&
1!=b?' style="'+n(u,";")+'"':d;J=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$captioned_title()+"</div>";return"<div"+l+f+u+'>\n<div class="content">\n'+k+"\n</div>"+J+"\n</div>"},aa.$$arity=1);a.defn(z,"$listing",ca=function(a){var b,c=d,e=d,g=d,l=d,f=l=c=g=c=d,u=d,c=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==d&&null!=b?b:a["$option?"]("nowrap");a.$style()["$=="]("source")?(g=(b=e=a.$attr("language",d,!1))===d||null==b||b.$$is_boolean&&1!=b?d:' data-lang="'+
e+'"',l=a.$document().$attr("source-highlighter"),"coderay"["$==="](l)?c=' class="CodeRay highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+'"':"pygments"["$==="](l)?c=' class="pygments highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+'"':"highlightjs"["$==="](l)||"highlight.js"["$==="](l)?(c=' class="highlightjs highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+'"',!1!==e&&e!==d&&null!=e&&(g=' class="language-'+e+'"'+g)):"prettify"["$==="](l)?(c=' class="prettyprint highlight'+(!1!==c&&c!==d&&null!=c?
" nowrap":d)+((b=a["$attr?"]("linenums"))===d||null==b||b.$$is_boolean&&1!=b?d:" linenums")+'"',!1!==e&&e!==d&&null!=e&&(g=' class="language-'+e+'"'+g)):"html-pipeline"["$==="](l)?(c=!1!==e&&e!==d&&null!=e?' lang="'+e+'"':d,g=d):(c=' class="highlight'+(!1!==c&&c!==d&&null!=c?" nowrap":d)+'"',!1!==e&&e!==d&&null!=e&&(g=' class="language-'+e+'"'+g)),g="<pre"+c+"><code"+g+">",c="</code></pre>"):(g="<pre"+(!1!==c&&c!==d&&null!=c?' class="nowrap"':d)+">",c="</pre>");l=(b=a.$id())===d||null==b||b.$$is_boolean&&
1!=b?d:' id="'+a.$id()+'"';f=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$captioned_title()+"</div>\n";return"<div"+l+' class="listingblock'+(b=u=a.$role(),!1!==b&&b!==d&&null!=b?" "+u:b)+'">\n'+f+'<div class="content">\n'+g+a.$content()+c+"\n</div>\n</div>"},ca.$$arity=1);a.defn(z,"$literal",da=function(a){var b,c=d,e=d,g=d,l=d,c=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',e=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+
a.$title()+"</div>\n",g=!1!==(b=a.$document()["$attr?"]("prewrap")["$!"]())&&b!==d&&null!=b?b:a["$option?"]("nowrap");return"<div"+c+' class="literalblock'+(b=l=a.$role(),!1!==b&&b!==d&&null!=b?" "+l:b)+'">\n'+e+'<div class="content">\n<pre'+(!1!==g&&g!==d&&null!=g?' class="nowrap"':d)+">"+a.$content()+"</pre>\n</div>\n</div>"},da.$$arity=1);a.defn(z,"$stem",N=function(b){var c,e,g=d,l=d,f=d,u=d,h=d,k=d,g=(c=b.$id())===d||null==c||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',l=(c=b["$title?"]())===
d||null==c||c.$$is_boolean&&1!=c?d:'<div class="title">'+b.$title()+"</div>\n";e=F.get("BLOCK_MATH_DELIMITERS")["$[]"](b.$style().$to_sym());c=a.to_ary(e);f=null==c[0]?d:c[0];u=null==c[1]?d:c[1];e;if((c=(e=(h=b.$content())["$start_with?"](f),!1!==e&&e!==d&&null!=e?h["$end_with?"](u):e))===d||null==c||c.$$is_boolean&&1!=c)h=""+f+h+u;return"<div"+g+' class="'+((c=k=b.$role())===d||null==c||c.$$is_boolean&&1!=c?"stemblock":n(["stemblock",k]," "))+'">\n'+l+'<div class="content">\n'+h+"\n</div>\n</div>"},
N.$$arity=1);a.defn(z,"$olist",B=function(a){var b,c,e,g=d,l=d,f=d,u=l=f=d,h=f=d,g=[],l=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=["olist",a.$style(),a.$role()].$compact(),f=' class="'+n(f," ")+'"';g["$<<"]("<div"+l+f+">");if((b=a["$title?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))g["$<<"]('<div class="title">'+a.$title()+"</div>");l=(b=u=a.$list_marker_keyword())===d||null==b||b.$$is_boolean&&1!=b?d:' type="'+u+'"';f=(b=a["$attr?"]("start"))===d||null==b||b.$$is_boolean&&
1!=b?d:' start="'+a.$attr("start")+'"';h=(b=a["$option?"]("reversed"))===d||null==b||b.$$is_boolean&&1!=b?d:this.$append_boolean_attribute("reversed",this.xml_mode);g["$<<"]('<ol class="'+a.$style()+'"'+l+f+h+">");(b=(c=a.$items()).$each,b.$$p=(e=function(a){var b;null==a&&(a=d);g["$<<"]("<li>");g["$<<"]("<p>"+a.$text()+"</p>");if((b=a["$blocks?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))g["$<<"](a.$content());return g["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e),b).call(c);g["$<<"]("</ol>");g["$<<"]("</div>");
return n(g,F.get("EOL"))},B.$$arity=1);a.defn(z,"$open",Z=function(a){var b,c,e,g=d,l=d,f=d,u=d;if((g=a.$style())["$=="]("abstract")){if((b=a.$parent()["$=="](a.$document())?a.$document().$doctype()["$=="]("book"):a.$parent()["$=="](a.$document()))===d||null==b||b.$$is_boolean&&1!=b)return l=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n","<div"+l+' class="quoteblock abstract'+
(b=u=a.$role(),!1!==b&&b!==d&&null!=b?" "+u:b)+'">\n'+f+"<blockquote>\n"+a.$content()+"\n</blockquote>\n</div>";this.$warn("asciidoctor: WARNING: abstract block cannot be used in a document without a title when doctype is book. Excluding block content.");return""}if((b=g["$=="]("partintro")?!1!==(c=!1!==(e=h(a.$level(),0))&&e!==d&&null!=e?e:a.$parent().$context()["$!="]("section"))&&c!==d&&null!=c?c:a.$document().$doctype()["$!="]("book"):g["$=="]("partintro"))===d||null==b||b.$$is_boolean&&1!=b)return l=
(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n","<div"+l+' class="openblock'+((b=!1!==g&&g!==d&&null!=g?g["$!="]("open"):g)===d||null==b||b.$$is_boolean&&1!=b?"":" "+g)+(b=u=a.$role(),!1!==b&&b!==d&&null!=b?" "+u:b)+'">\n'+f+'<div class="content">\n'+a.$content()+"\n</div>\n</div>";this.$warn("asciidoctor: ERROR: partintro block can only be used when doctype is book and it's a child of a book part. Excluding block content.");
return""},Z.$$arity=1);a.defn(z,"$page_break",x=function(a){return'<div style="page-break-after: always;"></div>'},x.$$arity=1);a.defn(z,"$paragraph",E=function(a){var b,c=d,c=d,c=(b=a.$role())===d||null==b||b.$$is_boolean&&1!=b?'class="paragraph"':'class="paragraph '+a.$role()+'"',c=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?c:'id="'+a.$id()+'" '+c;return(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?"<div "+c+">\n<p>"+a.$content()+"</p>\n</div>":"<div "+c+'>\n<div class="title">'+a.$title()+
"</div>\n<p>"+a.$content()+"</p>\n</div>"},E.$$arity=1);a.defn(z,"$preamble",fa=function(a){var b,c,e,g=d,l=d,l=(b=(c=(e=(g=a.$document())["$attr?"]("toc-placement","preamble"),!1!==e&&e!==d&&null!=e?g["$sections?"]():e),!1!==c&&c!==d&&null!=c?g["$attr?"]("toc"):c))===d||null==b||b.$$is_boolean&&1!=b?d:'\n<div id="toc" class="'+g.$attr("toc-class","toc")+'">\n<div id="toctitle">'+g.$attr("toc-title")+"</div>\n"+this.$outline(g)+"\n</div>";return'<div id="preamble">\n<div class="sectionbody">\n'+a.$content()+
"\n</div>"+l+"\n</div>"},fa.$$arity=1);a.defn(z,"$quote",ia=function(a){var b,c,e=d,g=d,l=g=d,f=d,u=d,h=d,h=f=d,e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',g=["quoteblock",a.$role()].$compact(),g=' class="'+n(g," ")+'"',l=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$title()+"</div>",f=(b=a["$attr?"]("attribution"))===d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("attribution"),u=(b=a["$attr?"]("citetitle"))===d||null==b||b.$$is_boolean&&
1!=b?d:a.$attr("citetitle");(b=!1!==(c=f)&&c!==d&&null!=c?c:u)===d||null==b||b.$$is_boolean&&1!=b?h=d:(h=!1!==u&&u!==d&&null!=u?"<cite>"+u+"</cite>":d,f=!1!==f&&f!==d&&null!=f?"&#8212; "+f+(!1!==u&&u!==d&&null!=u?"<br"+this.void_element_slash+">\n":d):d,h='\n<div class="attribution">\n'+f+h+"\n</div>");return"<div"+e+g+">"+l+"\n<blockquote>\n"+a.$content()+"\n</blockquote>"+h+"\n</div>"},ia.$$arity=1);a.defn(z,"$thematic_break",ja=function(a){return"<hr"+this.void_element_slash+">"},ja.$$arity=1);
a.defn(z,"$sidebar",ma=function(a){var b,c=d,e=d,g=d,c=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',e=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'<div class="title">'+a.$title()+"</div>\n";return"<div"+c+' class="'+((b=g=a.$role())===d||null==b||b.$$is_boolean&&1!=b?"sidebarblock":n(["sidebarblock",g]," "))+'">\n<div class="content">\n'+e+a.$content()+"\n</div>\n</div>"},ma.$$arity=1);a.defn(z,"$table",na=function(a){var b,c,e,g,l,f,u,k,D,W,J=d,K=d,A=d,y=d,la=
d,m=y=A=d,za=d,J=[],K=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',A=["tableblock","frame-"+a.$attr("frame","all"),"grid-"+a.$attr("grid","all")],y=[];if((b=(c=a["$option?"]("autowidth"),!1!==c&&c!==d&&null!=c?a["$attr?"]("width",d,!1)["$!"]():c))===d||null==b||b.$$is_boolean&&1!=b)if((b=a["$attr?"]("tablepcwidth",100))===d||null==b||b.$$is_boolean&&1!=b)y["$<<"]("width: "+a.$attr("tablepcwidth")+"%;");else A["$<<"]("spread");if((b=la=a.$role())!==d&&null!=b&&(!b.$$is_boolean||
1==b))A["$<<"](la);A=' class="'+n(A," ")+'"';if((b=a["$attr?"]("float"))!==d&&null!=b&&(!b.$$is_boolean||1==b))y["$<<"]("float: "+a.$attr("float")+";");y=(b=y["$empty?"]())===d||null==b||b.$$is_boolean&&1!=b?' style="'+n(y," ")+'"':d;J["$<<"]("<table"+K+A+y+">");if((b=a["$title?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))J["$<<"]('<caption class="title">'+a.$captioned_title()+"</caption>");(b=h(a.$attr("rowcount"),0))===d||null==b||b.$$is_boolean&&1!=b||(m=this.void_element_slash,J["$<<"]("<colgroup>"),
(b=a["$option?"]("autowidth"))===d||null==b||b.$$is_boolean&&1!=b?(b=(g=a.$columns()).$each,b.$$p=(l=function(a){null==a&&(a=d);return J["$<<"]('<col style="width: '+a.$attr("colpcwidth")+'%;"'+m+">")},l.$$s=this,l.$$arity=1,l),b).call(g):(za="<col"+m+">",(b=(c=a.$columns().$size()).$times,b.$$p=(e=function(){return J["$<<"](za)},e.$$s=this,e.$$arity=0,e),b).call(c)),J["$<<"]("</colgroup>"),(b=(f=(k=(D=["head","foot","body"]).$select,k.$$p=(W=function(b){null==b&&(b=d);return a.$rows()["$[]"](b)["$empty?"]()["$!"]()},
W.$$s=this,W.$$arity=1,W),k).call(D)).$each,b.$$p=(u=function(b){var c=u.$$s||this,e,K,A;null==b&&(b=d);J["$<<"]("<t"+b+">");(e=(K=a.$rows()["$[]"](b)).$each,e.$$p=(A=function(c){var e=A.$$s||this,K,g,y;null==c&&(c=d);J["$<<"]("<tr>");(K=(g=c).$each,K.$$p=(y=function(c){var e=y.$$s||this,K,A,g,l,f=d,u=d,T=u=d,h=d,la=d,D=d;null==c&&(c=d);b["$=="]("head")?f=c.$text():(u=c.$style(),"asciidoc"["$==="](u)?f="<div>"+c.$content()+"</div>":"verse"["$==="](u)?f='<div class="verse">'+c.$text()+"</div>":"literal"["$==="](u)?
f='<div class="literal"><pre>'+c.$text()+"</pre></div>":(f="",(K=(A=c.$content()).$each,K.$$p=(g=function(a){null==a&&(a=d);return f=""+f+'<p class="tableblock">'+a+"</p>"},g.$$s=e,g.$$arity=1,g),K).call(A)));u=(K=!1!==(l=b["$=="]("head"))&&l!==d&&null!=l?l:c.$style()["$=="]("header"))===d||null==K||K.$$is_boolean&&1!=K?"td":"th";T=' class="tableblock halign-'+c.$attr("halign")+" valign-"+c.$attr("valign")+'"';h=(K=c.$colspan())===d||null==K||K.$$is_boolean&&1!=K?d:' colspan="'+c.$colspan()+'"';la=
(K=c.$rowspan())===d||null==K||K.$$is_boolean&&1!=K?d:' rowspan="'+c.$rowspan()+'"';D=(K=a.$document()["$attr?"]("cellbgcolor"))===d||null==K||K.$$is_boolean&&1!=K?d:' style="background-color: '+a.$document().$attr("cellbgcolor")+';"';return J["$<<"]("<"+u+T+h+la+D+">"+f+"</"+u+">")},y.$$s=e,y.$$arity=1,y),K).call(g);return J["$<<"]("</tr>")},A.$$s=c,A.$$arity=1,A),e).call(K);return J["$<<"]("</t"+b+">")},u.$$s=this,u.$$arity=1,u),b).call(f));J["$<<"]("</table>");return n(J,F.get("EOL"))},na.$$arity=
1);a.defn(z,"$toc",ka=function(a){var b,c,e,g=d,l=d,f=d,u=d,h=d,D=d;if((b=(c=(e=(g=a.$document())["$attr?"]("toc-placement","macro"),!1!==e&&e!==d&&null!=e?g["$sections?"]():e),!1!==c&&c!==d&&null!=c?g["$attr?"]("toc"):c))===d||null==b||b.$$is_boolean&&1!=b)return"\x3c!-- toc disabled --\x3e";(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?(l=' id="toc"',f=' id="toctitle"'):(l=' id="'+a.$id()+'"',f=' id="'+a.$id()+'title"');u=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?g.$attr("toc-title"):
a.$title();h=(b=a["$attr?"]("levels"))===d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("levels").$to_i();D=(b=a["$role?"]())===d||null==b||b.$$is_boolean&&1!=b?g.$attr("toc-class","toc"):a.$role();return"<div"+l+' class="'+D+'">\n<div'+f+' class="title">'+u+"</div>\n"+this.$outline(g,H(["toclevels"],{toclevels:h}))+"\n</div>"},ka.$$arity=1);a.defn(z,"$ulist",u=function(a){var b,c,e,g=d,l=d,f=d,u=d,h=d,D=d,k=d,g=[],l=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',f=["ulist",a.$style(),
a.$role()].$compact(),h=u=d;(b=D=a["$option?"]("checklist"))===d||null==b||b.$$is_boolean&&1!=b?k=(b=a.$style())===d||null==b||b.$$is_boolean&&1!=b?d:' class="'+a.$style()+'"':(f.$insert(1,"checklist"),k=' class="checklist"',(b=a["$option?"]("interactive"))===d||null==b||b.$$is_boolean&&1!=b?(b=a.$document()["$attr?"]("icons","font"))===d||null==b||b.$$is_boolean&&1!=b?(u="&#10003; ",h="&#10063; "):(u='<i class="fa fa-check-square-o"></i> ',h='<i class="fa fa-square-o"></i> '):(b=this.xml_mode)===
d||null==b||b.$$is_boolean&&1!=b?(u='<input type="checkbox" data-item-complete="1" checked> ',h='<input type="checkbox" data-item-complete="0"> '):(u='<input type="checkbox" data-item-complete="1" checked="checked"/> ',h='<input type="checkbox" data-item-complete="0"/> '));g["$<<"]("<div"+l+' class="'+n(f," ")+'">');if((b=a["$title?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))g["$<<"]('<div class="title">'+a.$title()+"</div>");g["$<<"]("<ul"+k+">");(b=(c=a.$items()).$each,b.$$p=(e=function(a){var b;
null==a&&(a=d);g["$<<"]("<li>");if((b=!1!==D&&D!==d&&null!=D?a["$attr?"]("checkbox"):D)===d||null==b||b.$$is_boolean&&1!=b)g["$<<"]("<p>"+a.$text()+"</p>");else g["$<<"]("<p>"+((b=a["$attr?"]("checked"))===d||null==b||b.$$is_boolean&&1!=b?h:u)+a.$text()+"</p>");if((b=a["$blocks?"]())!==d&&null!=b&&(!b.$$is_boolean||1==b))g["$<<"](a.$content());return g["$<<"]("</li>")},e.$$s=this,e.$$arity=1,e),b).call(c);g["$<<"]("</ul>");g["$<<"]("</div>");return n(g,F.get("EOL"))},u.$$arity=1);a.defn(z,"$verse",
ea=function(a){var b,c,e=d,g=d,l=g=d,f=d,u=d,h=d,h=f=d,e=(b=a.$id())===d||null==b||b.$$is_boolean&&1!=b?d:' id="'+a.$id()+'"',g=["verseblock",a.$role()].$compact(),g=' class="'+n(g," ")+'"',l=(b=a["$title?"]())===d||null==b||b.$$is_boolean&&1!=b?d:'\n<div class="title">'+a.$title()+"</div>",f=(b=a["$attr?"]("attribution"))===d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("attribution"),u=(b=a["$attr?"]("citetitle"))===d||null==b||b.$$is_boolean&&1!=b?d:a.$attr("citetitle");(b=!1!==(c=f)&&c!==d&&null!=
c?c:u)===d||null==b||b.$$is_boolean&&1!=b?h=d:(h=!1!==u&&u!==d&&null!=u?"<cite>"+u+"</cite>":d,f=!1!==f&&f!==d&&null!=f?"&#8212; "+f+(!1!==u&&u!==d&&null!=u?"<br"+this.void_element_slash+">\n":d):d,h='\n<div class="attribution">\n'+f+h+"\n</div>");return"<div"+e+g+">"+l+'\n<pre class="content">'+a.$content()+"</pre>"+h+"\n</div>"},ea.$$arity=1);a.defn(z,"$video",l=function(b){var c,e,g=this,f=d,l=d,u=d,h=d,k=d,D=d,W=d,J=d,K=d,A=d,y=d,la=d,m=d,za=d,ba=d,r=d,ea=d,t=d,q=d,x=d,X=d,p=d,U=d,w=d,ga=d,C=
d,v=d,ka=d,R=d,E=d,B=d,f=g.xml_mode,l=(c=b.$id())===d||null==c||c.$$is_boolean&&1!=c?d:' id="'+b.$id()+'"',u=["videoblock",b.$role()].$compact(),h=' class="'+n(u," ")+'"',k=(c=b["$title?"]())===d||null==c||c.$$is_boolean&&1!=c?d:'\n<div class="title">'+b.$captioned_title()+"</div>",D=(c=b["$attr?"]("width"))===d||null==c||c.$$is_boolean&&1!=c?d:' width="'+b.$attr("width")+'"',W=(c=b["$attr?"]("height"))===d||null==c||c.$$is_boolean&&1!=c?d:' height="'+b.$attr("height")+'"';return function(){J=b.$attr("poster");
if("vimeo"["$==="](J)){if((c=(K=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===d||null==c||c.$$is_boolean&&1!=c)K=""+K+":";A=(c=b["$attr?"]("start",d,!1))===d||null==c||c.$$is_boolean&&1!=c?d:"#at="+b.$attr("start");y="?";la=(c=b["$option?"]("autoplay"))===d||null==c||c.$$is_boolean&&1!=c?d:""+y+"autoplay=1";!1!==la&&la!==d&&null!=la&&(y="&amp;");m=(c=b["$option?"]("loop"))===d||null==c||c.$$is_boolean&&1!=c?d:""+y+"loop=1";return"<div"+l+h+">"+k+'\n<div class="content">\n<iframe'+
D+W+' src="'+K+"//player.vimeo.com/video/"+b.$attr("target")+A+la+m+'" frameborder="0"'+((c=b["$option?"]("nofullscreen"))===d||null==c||c.$$is_boolean&&1!=c?g.$append_boolean_attribute("allowfullscreen",f):d)+"></iframe>\n</div>\n</div>"}if("youtube"["$==="](J)){if((c=(K=b.$document().$attr("asset-uri-scheme","https"))["$empty?"]())===d||null==c||c.$$is_boolean&&1!=c)K=""+K+":";za=(c=b["$option?"]("related"))===d||null==c||c.$$is_boolean&&1!=c?0:1;ba=(c=b["$attr?"]("start",d,!1))===d||null==c||c.$$is_boolean&&
1!=c?d:"&amp;start="+b.$attr("start");r=(c=b["$attr?"]("end",d,!1))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;end="+b.$attr("end");la=(c=b["$option?"]("autoplay"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;autoplay=1";m=(c=b["$option?"]("loop"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;loop=1";ea=(c=b["$option?"]("nocontrols"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;controls=0";(c=b["$option?"]("nofullscreen"))===d||null==c||c.$$is_boolean&&1!=c?(t=d,q=g.$append_boolean_attribute("allowfullscreen",
f)):(t="&amp;fs=0",q=d);x=(c=b["$option?"]("modest"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;modestbranding=1";X=(c=b["$attr?"]("theme",d,!1))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;theme="+b.$attr("theme");p=(c=b["$attr?"]("lang"))===d||null==c||c.$$is_boolean&&1!=c?d:"&amp;hl="+b.$attr("lang");e=b.$attr("target").$split("/",2);c=a.to_ary(e);U=null==c[0]?d:c[0];w=null==c[1]?d:c[1];e;(c=!1!==(e=w)&&e!==d&&null!=e?e:w=b.$attr("list",d,!1))===d||null==c||c.$$is_boolean&&1!=c?(e=U.$split(",",
2),c=a.to_ary(e),U=null==c[0]?d:c[0],C=null==c[1]?d:c[1],e,ga=(c=!1!==(e=C)&&e!==d&&null!=e?e:C=b.$attr("playlist",d,!1))===d||null==c||c.$$is_boolean&&1!=c?!1!==m&&m!==d&&null!=m?"&amp;playlist="+U:d:"&amp;playlist="+C):ga="&amp;list="+w;return"<div"+l+h+">"+k+'\n<div class="content">\n<iframe'+D+W+' src="'+K+"//www.youtube.com/embed/"+U+"?rel="+za+ba+r+la+m+ea+ga+t+x+X+p+'" frameborder="0"'+q+"></iframe>\n</div>\n</div>"}v=(c=(""+(ka=b.$attr("poster")))["$empty?"]())===d||null==c||c.$$is_boolean&&
1!=c?' poster="'+b.$media_uri(ka)+'"':d;R=b.$attr("start",d,!1);E=b.$attr("end",d,!1);B=(c=!1!==(e=R)&&e!==d&&null!=e?e:E)===d||null==c||c.$$is_boolean&&1!=c?d:"#t="+R+(!1!==E&&E!==d&&null!=E?",":d)+E;return"<div"+l+h+">"+k+'\n<div class="content">\n<video src="'+b.$media_uri(b.$attr("target"))+B+'"'+D+W+v+((c=b["$option?"]("autoplay"))===d||null==c||c.$$is_boolean&&1!=c?d:g.$append_boolean_attribute("autoplay",f))+((c=b["$option?"]("nocontrols"))===d||null==c||c.$$is_boolean&&1!=c?g.$append_boolean_attribute("controls",
f):d)+((c=b["$option?"]("loop"))===d||null==c||c.$$is_boolean&&1!=c?d:g.$append_boolean_attribute("loop",f))+">\nYour browser does not support the video tag.\n</video>\n</div>\n</div>"}()},l.$$arity=1);a.defn(z,"$inline_anchor",ba=function(b){var a,c,e=this,g=d,f=d,l=d,u=d,h=d,D=d,g=b.$target();return function(){f=b.$type();if("xref"["$==="](f))return l=!1!==(a=b.$attributes()["$[]"]("refid"))&&a!==d&&null!=a?a:g,u=!1!==(a=b.$text())&&a!==d&&null!=a?a:!1!==(c=b.$document().$references()["$[]"]("ids")["$[]"](l))&&
c!==d&&null!=c?c:"["+l+"]",'<a href="'+g+'">'+u+"</a>";if("ref"["$==="](f))return'<a id="'+g+'"></a>';if("link"["$==="](f)){h=[];if((a=b.$id())!==d&&null!=a&&(!a.$$is_boolean||1==a))h["$<<"](' id="'+b.$id()+'"');if((a=D=b.$role())!==d&&null!=a&&(!a.$$is_boolean||1==a))h["$<<"](' class="'+D+'"');if((a=b["$attr?"]("title",d,!1))!==d&&null!=a&&(!a.$$is_boolean||1==a))h["$<<"](' title="'+b.$attr("title")+'"');if((a=b["$attr?"]("window",d,!1))!==d&&null!=a&&(!a.$$is_boolean||1==a))h["$<<"](' target="'+
b.$attr("window")+'"');return'<a href="'+g+'"'+h.$join()+">"+b.$text()+"</a>"}return"bibref"["$==="](f)?'<a id="'+g+'"></a>['+g+"]":e.$warn("asciidoctor: WARNING: unknown anchor type: "+b.$type().$inspect())}()},ba.$$arity=1);a.defn(z,"$inline_break",X=function(b){return""+b.$text()+"<br"+this.void_element_slash+">"},X.$$arity=1);a.defn(z,"$inline_button",U=function(b){return'<b class="button">'+b.$text()+"</b>"},U.$$arity=1);a.defn(z,"$inline_callout",ga=function(b){var a,c=d;if((a=b.$document()["$attr?"]("icons",
"font"))===d||null==a||a.$$is_boolean&&1!=a){if((a=b.$document()["$attr?"]("icons"))===d||null==a||a.$$is_boolean&&1!=a)return'<b class="conum">('+b.$text()+")</b>";c=b.$icon_uri("callouts/"+b.$text());return'<img src="'+c+'" alt="'+b.$text()+'"'+this.void_element_slash+">"}return'<i class="conum" data-value="'+b.$text()+'"></i><b>('+b.$text()+")</b>"},ga.$$arity=1);a.defn(z,"$inline_footnote",ra=function(b){var a,c=d,e=d;if((a=c=b.$attr("index"))===d||null==a||a.$$is_boolean&&1!=a)return b.$type()["$=="]("xref")?
'<sup class="footnoteref red" title="Unresolved footnote reference.">['+b.$text()+"]</sup>":d;if(b.$type()["$=="]("xref"))return'<sup class="footnoteref">[<a class="footnote" href="#_footnote_'+c+'" title="View footnote.">'+c+"</a>]</sup>";e=(a=b.$id())===d||null==a||a.$$is_boolean&&1!=a?d:' id="_footnote_'+b.$id()+'"';return'<sup class="footnote"'+e+'>[<a id="_footnoteref_'+c+'" class="footnote" href="#_footnote_'+c+'" title="View footnote.">'+c+"</a>]</sup>"},ra.$$arity=1);a.defn(z,"$inline_image",
va=function(b){var a,e,g,f,l,u,h,k,D=d,W=d,J=d,K=e=J=d,A=d,y=d,la=d,m=e=d,D=d;(a=(e=(D=b.$type())["$=="]("icon"))?b.$document()["$attr?"]("icons","font"):(D=b.$type())["$=="]("icon"))===d||null==a||a.$$is_boolean&&1!=a?(a=(g=D["$=="]("icon"))?b.$document()["$attr?"]("icons")["$!"]():D["$=="]("icon"))===d||null==a||a.$$is_boolean&&1!=a?(e=b.$target(),K=(a=(g=["width","height","title"]).$map,a.$$p=(f=function(a){var c;null==a&&(a=d);return(c=b["$attr?"](a))===d||null==c||c.$$is_boolean&&1!=c?d:" "+
a+'="'+b.$attr(a)+'"'},f.$$s=this,f.$$arity=1,f),a).call(g).$join(),(a=(l=(u=(h=D["$!="]("icon"),!1!==h&&h!==d&&null!=h?!1!==(k=b["$attr?"]("format","svg",!1))&&k!==d&&null!=k?k:e["$include?"](".svg"):h),!1!==u&&u!==d&&null!=u?c(b.$document().$safe(),F.get("SafeMode").$$scope.get("SECURE")):u),!1!==l&&l!==d&&null!=l?!1!==(u=A=b["$option?"]("inline"))&&u!==d&&null!=u?u:y=b["$option?"]("interactive"):l))===d||null==a||a.$$is_boolean&&1!=a||(!1!==A&&A!==d&&null!=A?J=!1!==(a=this.$read_svg_contents(b,
e))&&a!==d&&null!=a?a:'<span class="alt">'+b.$attr("alt")+"</span>":!1!==y&&y!==d&&null!=y&&(la=(a=b["$attr?"]("fallback"))===d||null==a||a.$$is_boolean&&1!=a?'<span class="alt">'+b.$attr("alt")+"</span>":'<img src="'+b.$image_uri(b.$attr("fallback"))+'" alt="'+b.$attr("alt")+'"'+K+this.void_element_slash+">",J='<object type="image/svg+xml" data="'+b.$image_uri(e)+'"'+K+">"+la+"</object>")),!1!==(a=J)&&a!==d&&null!=a?a:J='<img src="'+(D["$=="]("icon")?b.$icon_uri(e):b.$image_uri(e))+'" alt="'+b.$attr("alt")+
'"'+K+this.void_element_slash+">"):J="["+b.$attr("alt")+"]":(W="fa fa-"+b.$target(),(a=(e=H(["size","rotate","flip"],{size:"fa-",rotate:"fa-rotate-",flip:"fa-flip-"})).$each,a.$$p=(g=function(a,c){var e;null==a&&(a=d);null==c&&(c=d);return(e=b["$attr?"](a))===d||null==e||e.$$is_boolean&&1!=e?d:W=""+W+" "+c+b.$attr(a)},g.$$s=this,g.$$arity=2,g),a).call(e),J=(a=b["$attr?"]("title"))===d||null==a||a.$$is_boolean&&1!=a?d:' title="'+b.$attr("title")+'"',J='<i class="'+W+'"'+J+"></i>");(a=b["$attr?"]("link"))===
d||null==a||a.$$is_boolean&&1!=a||(e=(a=b["$attr?"]("window"))===d||null==a||a.$$is_boolean&&1!=a?d:' target="'+b.$attr("window")+'"',J='<a class="image" href="'+b.$attr("link")+'"'+e+">"+J+"</a>");W=(a=m=b.$role())===d||null==a||a.$$is_boolean&&1!=a?D:""+D+" "+m;D=(a=b["$attr?"]("float"))===d||null==a||a.$$is_boolean&&1!=a?d:' style="float: '+b.$attr("float")+'"';return'<span class="'+W+'"'+D+">"+J+"</span>"},va.$$arity=1);a.defn(z,"$inline_indexterm",wa=function(b){return b.$type()["$=="]("visible")?
b.$text():""},wa.$$arity=1);a.defn(z,"$inline_kbd",xa=function(b){var a,c,e,g=d,g=d;if((g=b.$attr("keys")).$size()["$=="](1))return"<kbd>"+g["$[]"](0)+"</kbd>";g=(a=(c=g).$map,a.$$p=(e=function(b){null==b&&(b=d);return"<kbd>"+b+"</kbd>+"},e.$$s=this,e.$$arity=1,e),a).call(c).$join().$chop();return'<span class="keyseq">'+g+"</span>"},xa.$$arity=1);a.defn(z,"$inline_menu",ya=function(b){var a,c,e,g=d,f=d,l=f=d,g=b.$attr("menu");if((a=(f=b.$attr("submenus"))["$empty?"]()["$!"]())===d||null==a||a.$$is_boolean&&
1!=a)return(a=l=b.$attr("menuitem"))===d||null==a||a.$$is_boolean&&1!=a?'<span class="menu">'+g+"</span>":'<span class="menuseq"><span class="menu">'+g+'</span>&#160;&#9656; <span class="menuitem">'+l+"</span></span>";f=(a=(c=f).$map,a.$$p=(e=function(b){null==b&&(b=d);return'<span class="submenu">'+b+"</span>&#160;&#9656; "},e.$$s=this,e.$$arity=1,e),a).call(c).$join().$chop();return'<span class="menuseq"><span class="menu">'+g+"</span>&#160;&#9656; "+f+' <span class="menuitem">'+b.$attr("menuitem")+
"</span></span>"},ya.$$arity=1);a.defn(z,"$inline_quoted",sa=function(b){var c,e,g=d,f=d,l=d,u=d;e=d;e=F.get("QUOTE_TAGS")["$[]"](b.$type());c=a.to_ary(e);g=null==c[0]?d:c[0];f=null==c[1]?d:c[1];l=null==c[2]?d:c[2];e;e=(c=u=b.$role())===d||null==c||c.$$is_boolean&&1!=c?""+g+b.$text()+f:!1!==l&&l!==d&&null!=l?""+g.$chop()+' class="'+u+'">'+b.$text()+f:'<span class="'+u+'">'+g+b.$text()+f+"</span>";return(c=b.$id())===d||null==c||c.$$is_boolean&&1!=c?e:'<a id="'+b.$id()+'"></a>'+e},sa.$$arity=1);a.defn(z,
"$append_boolean_attribute",ta=function(b,a){return!1!==a&&a!==d&&null!=a?" "+b+'="'+b+'"':" "+b},ta.$$arity=2);return(a.defn(z,"$read_svg_contents",qa=function(b,a){var c,e,g,f=d,l=d,u=d;if((c=f=b.$read_contents(a,H(["start","normalize","label"],{start:b.$document().$attr("imagesdir"),normalize:!0,label:"SVG"})))!==d&&null!=c&&(!c.$$is_boolean||1==c)){if((c=f["$start_with?"]("<svg"))===d||null==c||c.$$is_boolean&&1!=c)f=f.$sub(F.get("SvgPreambleRx"),"");l=u=d;(c=(e=["width","height"]).$each,c.$$p=
(g=function(a){var c;null==a&&(a=d);if((c=b["$attr?"](a))===d||null==c||c.$$is_boolean&&1!=c)return d;if(!1===u||u===d||null==u)u=(l=f.$match(F.get("SvgStartTagRx"))["$[]"](0)).$gsub(F.get("DimensionAttributeRx"),"");return u=""+u.$chop()+" "+a+'="'+b.$attr(a)+'px">'},g.$$s=this,g.$$arity=1,g),c).call(e);!1!==u&&u!==d&&null!=u&&(f=""+u+f["$[]"](w(l.$length(),-1,!1)))}return f},qa.$$arity=2),d)&&"read_svg_contents"})(p.get("Converter"),p.get("Converter").$$scope.get("BuiltIn"))}(a.base)};
Opal.modules["asciidoctor/opal_ext/string"]=function(a){var m=a.nil,n=a.klass;a.add_stubs("$method_defined? $< $length $bytes $to_s $byteslice".split(" "));return function(h,$super){function c(){}var e=c=n(h,$super,"String",c),d,b;return(d=e["$method_defined?"]("limit"))===m||null==d||d.$$is_boolean&&1!=d?(a.defn(e,"$limit",b=function(b){var a,c=m,c=this.$bytes().$length();if((a="number"===typeof b&&"number"===typeof c?b<c:b["$<"](c))===m||null==a||a.$$is_boolean&&1!=a)return this.$to_s();c=this.$byteslice(0,
b);return c.$to_s()},b.$$arity=1),m)&&"limit":m}(a.base,null)};Opal.modules["asciidoctor/opal_ext/nashorn/io"]=function(a){var m;m=a.nil;var n=a.gvars;null==n.stdout&&(n.stdout=m);null==n.stderr&&(n.stderr=m);a.add_stubs(["$write_proc="]);a=[function(a){print(a)}];m=n.stdout;m["$write_proc="].apply(m,a);a[a.length-1];return a=[function(a){print(a)}],m=n.stderr,m["$write_proc="].apply(m,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext/electron/io"]=function(a){var m;m=a.nil;var n=a.gvars;null==n.stdout&&(n.stdout=m);null==n.stderr&&(n.stderr=m);a.add_stubs(["$write_proc="]);a=[function(a){console.log(a)}];m=n.stdout;m["$write_proc="].apply(m,a);a[a.length-1];return a=[function(a){console.error(a)}],m=n.stderr,m["$write_proc="].apply(m,a),a[a.length-1]};
Opal.modules["asciidoctor/opal_ext"]=function(a){var m=a.top,n=a.nil,h=n;a.add_stubs(["$require","$==="]);var h="undefined"!==typeof module&&module.exports,f="object"===typeof process&&"object"===process.versions&&"string"===process.versions.electron,c="undefined"!==typeof Java&&Java.type,e="undefined"!==typeof java;"undefined"!==typeof window?h="browser":h?(h=f?"node-electron":"node",a.load("nodejs"),a.load("pathname")):h=c?"java-nashorn":e?"java-rhino":"standalone";a.cdecl(a,"JAVASCRIPT_PLATFORM",
h);m.$require("strscan");m.$require("asciidoctor/opal_ext/file");m.$require("asciidoctor/opal_ext/match_data");m.$require("asciidoctor/opal_ext/kernel");m.$require("asciidoctor/opal_ext/thread_safe");m.$require("asciidoctor/converter");m.$require("asciidoctor/converter/composite");m.$require("asciidoctor/converter/html5");m.$require("asciidoctor/opal_ext/string");h=a.get("JAVASCRIPT_PLATFORM");return"java-nashorn"["$==="](h)?m.$require("asciidoctor/opal_ext/nashorn/io"):"node-electron"["$==="](h)?
m.$require("asciidoctor/opal_ext/electron/io"):n};Opal.modules["asciidoctor/version"]=function(a){var m=a.module,m=m(a.base,"Asciidoctor").$$scope;a.cdecl(m,"VERSION","1.5.5")};
Opal.modules["asciidoctor/timings"]=function(a){function m(b,a){return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)}function n(b,a){return"number"===typeof b&&"number"===typeof a?b>a:b["$>"](a)}function h(b,a){return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}var f=a.nil,c=a.module,e=a.klass,d=a.hash2,b=a.gvars;a.add_stubs("$[]= $now $- $delete $> $+ $[] $puts $% $to_f $read_parse $convert $read_parse_convert".split(" "));return function(t){(function(c,$super){function p(){}
var g=p=e(c,$super,"Timings",p),t=g.$$proto,v,z,I,F,C,r,Q,O;t.timers=t.log=f;a.defn(g,"$initialize",v=function(){this.log=d([],{});return this.timers=d([],{})},v.$$arity=0);a.defn(g,"$start",z=function(b){return this.timers["$[]="](b,a.get("Time").$now())},z.$$arity=1);a.defn(g,"$record",I=function(b){return this.log["$[]="](b,m(a.get("Time").$now(),this.timers.$delete(b)))},I.$$arity=1);a.defn(g,"$read_parse",F=function(){var b,a,c=f;return(b=n(c=h(!1!==(a=this.log["$[]"]("read"))&&a!==f&&null!=
a?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==f&&null!=a?a:0),0))===f||null==b||b.$$is_boolean&&1!=b?f:c},F.$$arity=0);a.defn(g,"$convert",C=function(){var b;return!1!==(b=this.log["$[]"]("convert"))&&b!==f&&null!=b?b:0},C.$$arity=0);a.defn(g,"$read_parse_convert",r=function(){var b,a,c=f;return(b=n(c=h(h(!1!==(a=this.log["$[]"]("read"))&&a!==f&&null!=a?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==f&&null!=a?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==f&&null!=a?a:0),0))===f||null==b||b.$$is_boolean&&
1!=b?f:c},r.$$arity=0);a.defn(g,"$total",Q=function(){var b,a,c=f;return(b=n(c=h(h(h(!1!==(a=this.log["$[]"]("read"))&&a!==f&&null!=a?a:0,!1!==(a=this.log["$[]"]("parse"))&&a!==f&&null!=a?a:0),!1!==(a=this.log["$[]"]("convert"))&&a!==f&&null!=a?a:0),!1!==(a=this.log["$[]"]("write"))&&a!==f&&null!=a?a:0),0))===f||null==b||b.$$is_boolean&&1!=b?f:c},Q.$$arity=0);return(a.defn(g,"$print_report",O=function(a,c){null==b.stdout&&(b.stdout=f);null==a&&(a=b.stdout);null==c&&(c=f);!1!==c&&c!==f&&null!=c&&a.$puts("Input file: "+
c);a.$puts("  Time to read and parse source: "+"%05.5f"["$%"](this.$read_parse().$to_f()));a.$puts("  Time to convert document: "+"%05.5f"["$%"](this.$convert().$to_f()));return a.$puts("  Total time (read, parse and convert): "+"%05.5f"["$%"](this.$read_parse_convert().$to_f()))},O.$$arity=-1),f)&&"print_report"})(c(t,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/core_ext/nil_or_empty"]=function(a){var m=a.nil,n=a.klass;a.add_stubs(["$method_defined?"]);(function(h,$super){function c(){}var e=c=n(h,$super,"NilClass",c),d;return(d=e["$method_defined?"]("nil_or_empty?"))===m||null==d||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","nil?"):m})(a.base,null);(function(h,$super){function c(){}var e=c=n(h,$super,"String",c),d;return(d=e["$method_defined?"]("nil_or_empty?"))===m||null==d||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","empty?"):
m})(a.base,null);(function(h,$super){function c(){}var e=c=n(h,$super,"Array",c),d;return(d=e["$method_defined?"]("nil_or_empty?"))===m||null==d||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","empty?"):m})(a.base,null);(function(h,$super){function c(){}var e=c=n(h,$super,"Hash",c),d;return(d=e["$method_defined?"]("nil_or_empty?"))===m||null==d||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","empty?"):m})(a.base,null);return function(h,$super){function c(){}var e=c=n(h,$super,"Numeric",c),d;return(d=
e["$method_defined?"]("nil_or_empty?"))===m||null==d||d.$$is_boolean&&1!=d?a.alias(e,"nil_or_empty?","nil?"):m}(a.base,null)};
Opal.modules["asciidoctor/core_ext/string/limit"]=function(a){var m=a.nil,n=a.klass;a.add_stubs("$method_defined? $< $bytesize $valid_encoding? $force_encoding $byteslice $-".split(" "));return function(h,$super){function c(){}var e=c=n(h,$super,"String",c),d,b;return(d=e["$method_defined?"]("limit"))===m||null==d||d.$$is_boolean&&1!=d?(a.defn(e,"$limit",b=function(b){var c,e,d=m,d=this.$bytesize();if((c="number"===typeof b&&"number"===typeof d?b<d:b["$<"](d))===m||null==c||c.$$is_boolean&&1!=c)return this;
for(;(e=(d=this.$byteslice(0,b)).$force_encoding(a.get("Encoding").$$scope.get("UTF_8"))["$valid_encoding?"]())===m||null==e||e.$$is_boolean&&1!=e;)b="number"===typeof b?b-1:b["$-"](1);return d},b.$$arity=1),m)&&"limit":m}(a.base,null)};
Opal.modules["asciidoctor/core_ext"]=function(a){var m,n=a.top,h=a.nil;a.add_stubs(["$require","$!="]);n.$require("asciidoctor/core_ext/nil_or_empty");if((m=a.get("RUBY_MIN_VERSION_1_9"))!==h&&null!=m&&(!m.$$is_boolean||1==m))return n.$require("asciidoctor/core_ext/string/limit");if((m=a.get("RUBY_ENGINE")["$!="]("opal"))===h||null==m||m.$$is_boolean&&1!=m)return h};
Opal.modules["asciidoctor/helpers"]=function(a){var m=a.nil,n=a.module,h=a.range,f=a.gvars;a.add_stubs("$require $== $=== $fail $warn $chomp $message $class $normalize_lines_from_string $normalize_lines_array $empty? $to_a $bytes $[] $map $rstrip $lines $encode $force_encoding $join $[]= $encoding $nil_or_empty? $each_line $include? $=~ $gsub $sprintf $each_byte $extname $-@ $length $basename $directory? $dirname $! $!= $mkdir_p $mkdir".split(" "));return function(c){(function(c){c=n(c,"Helpers");
var d=c.$$scope,b,t,H,w,p,g,L,v,z,I;a.defs(c,"$require_library",b=function(b,c,e){var d=m,g=m;null==c&&(c=!0);null==e&&(e="abort");try{return this.$require(b)}catch(f){if(a.rescue(f,[a.get("LoadError")])){d=f;try{if(!1!==c&&c!==m&&null!=c)return c["$=="](!0)&&(c=b),g=e,"abort"["$==="](g)?this.$fail("asciidoctor: FAILED: required gem '"+c+"' is not installed. Processing aborted."):"warn"["$==="](g)?this.$warn("asciidoctor: WARNING: optional gem '"+c+"' is not installed. Functionality disabled."):m;
g=e;return"abort"["$==="](g)?this.$fail("asciidoctor: FAILED: "+d.$message().$chomp(".")+". Processing aborted."):"warn"["$==="](g)?this.$warn("asciidoctor: WARNING: "+d.$message().$chomp(".")+". Functionality disabled."):m}finally{a.pop_exception()}}else throw f;}},b.$$arity=-2);a.defs(c,"$normalize_lines",t=function(b){return b.$class()["$=="](a.get("String"))?this.$normalize_lines_from_string(b):this.$normalize_lines_array(b)},t.$$arity=1);a.defs(c,"$normalize_lines_array",H=function(b){var c,
e,g,f,n,p,t=m,q=m,k=m,w=m;if((c=b["$empty?"]())!==m&&null!=c&&(!c.$$is_boolean||1==c))return[];t=(q=b["$[]"](0))["$[]"](h(0,2,!1)).$bytes().$to_a();if((c=d.get("COERCE_ENCODING"))===m||null==c||c.$$is_boolean&&1!=c){if(t["$=="](d.get("BOM_BYTES_UTF_8")))b["$[]="](0,q["$[]"](h(3,-1,!1)));return(c=b.$map,c.$$p=(p=function(b){null==b&&(b=m);return b.$rstrip()},p.$$s=this,p.$$arity=1,p),c).call(b)}k=a.get("Encoding").$$scope.get("UTF_8");if((w=t["$[]"](h(0,1,!1)))["$=="](d.get("BOM_BYTES_UTF_16LE")))return(c=
(e=b.$join().$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](h(1,-1,!1)).$encode(k).$lines()).$map,c.$$p=(g=function(b){null==b&&(b=m);return b.$rstrip()},g.$$s=this,g.$$arity=1,g),c).call(e);if(w["$=="](d.get("BOM_BYTES_UTF_16BE")))return b["$[]="](0,q.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](h(1,-1,!1))),(c=b.$map,c.$$p=(f=function(b){null==b&&(b=m);return""+b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE")).$encode(k).$rstrip()},f.$$s=this,f.$$arity=
1,f),c).call(b);if(t["$[]"](h(0,2,!1))["$=="](d.get("BOM_BYTES_UTF_8")))b["$[]="](0,q.$force_encoding(k)["$[]"](h(1,-1,!1)));return(c=b.$map,c.$$p=(n=function(b){null==b&&(b=m);return b.$encoding()["$=="](k)?b.$rstrip():b.$force_encoding(k).$rstrip()},n.$$s=this,n.$$arity=1,n),c).call(b)},H.$$arity=1);a.defs(c,"$normalize_lines_from_string",w=function(b){var c,e,g,f=m,n=m,p=m;if((c=b["$nil_or_empty?"]())!==m&&null!=c&&(!c.$$is_boolean||1==c))return[];(c=d.get("COERCE_ENCODING"))===m||null==c||c.$$is_boolean&&
1!=c?b["$[]"](h(0,2,!1)).$bytes().$to_a()["$=="](d.get("BOM_BYTES_UTF_8"))&&(b=b["$[]"](h(3,-1,!1))):(f=a.get("Encoding").$$scope.get("UTF_8"),n=b["$[]"](h(0,2,!1)).$bytes().$to_a(),(p=n["$[]"](h(0,1,!1)))["$=="](d.get("BOM_BYTES_UTF_16LE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16LE"))["$[]"](h(1,-1,!1)).$encode(f):p["$=="](d.get("BOM_BYTES_UTF_16BE"))?b=b.$force_encoding(a.get("Encoding").$$scope.get("UTF_16BE"))["$[]"](h(1,-1,!1)).$encode(f):n["$[]"](h(0,2,!1))["$=="](d.get("BOM_BYTES_UTF_8"))?
b=b.$encoding()["$=="](f)?b["$[]"](h(1,-1,!1)):b.$force_encoding(f)["$[]"](h(1,-1,!1)):b.$encoding()["$=="](f)||(b=b.$force_encoding(f)));return(c=(e=b.$each_line()).$map,c.$$p=(g=function(b){null==b&&(b=m);return b.$rstrip()},g.$$s=this,g.$$arity=1,g),c).call(e)},w.$$arity=1);a.defs(c,"$uriish?",p=function(b){var a;return a=b["$include?"](":"),!1!==a&&a!==m&&null!=a?b["$=~"](d.get("UriSniffRx")):a},p.$$arity=1);a.defs(c,"$uri_prefix",g=function(b){var a,c;return(a=(c=b["$include?"](":"),!1!==c&&
c!==m&&null!=c?b["$=~"](d.get("UriSniffRx")):c))===m||null==a||a.$$is_boolean&&1!=a?m:(a=f["~"])===m?m:a["$[]"](0)},g.$$arity=1);a.cdecl(d,"REGEXP_ENCODE_URI_CHARS",/[^\w\-.!~*';:@=+$,()\[\]]/);a.defs(c,"$encode_uri",L=function(b){var a,c;return(a=b.$gsub,a.$$p=(c=function(){var b=c.$$s||this,a,e,d,g;return(a=(e=((g=f["~"])===m?m:g["$[]"](0)).$each_byte()).$map,a.$$p=(d=function(b){var a=d.$$s||this;null==b&&(b=m);return a.$sprintf("%%%02X",b)},d.$$s=b,d.$$arity=1,d),a).call(e).$join()},c.$$s=this,
c.$$arity=0,c),a).call(b,d.get("REGEXP_ENCODE_URI_CHARS"))},L.$$arity=1);a.defs(c,"$rootname",v=function(b){var c,e=m;return(c=(e=a.get("File").$extname(b))["$empty?"]())===m||null==c||c.$$is_boolean&&1!=c?b["$[]"](h(0,e.$length()["$-@"](),!0)):b},v.$$arity=1);a.defs(c,"$basename",z=function(b,c){null==c&&(c=!1);return!1!==c&&c!==m&&null!=c?a.get("File").$basename(b,a.get("File").$extname(b)):a.get("File").$basename(b)},z.$$arity=-2);a.defs(c,"$mkdir_p",I=function(b){var c,e,d=m;return(c=a.get("File")["$directory?"](b))===
m||null==c||c.$$is_boolean&&1!=c?(d=a.get("File").$dirname(b),(c=(e=a.get("File")["$directory?"](d=a.get("File").$dirname(b))["$!"](),!1!==e&&e!==m&&null!=e?d["$!="]("."):e))===m||null==c||c.$$is_boolean&&1!=c||this.$mkdir_p(d),a.get("Dir").$mkdir(b)):m},I.$$arity=1)})(n(c,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/substitutors"]=function(a){function m(b,a){return"number"===typeof b&&"number"===typeof a?b+a:b["$+"](a)}function n(b,a){return"number"===typeof b&&"number"===typeof a?b*a:b["$*"](a)}function h(b,a){return"number"===typeof b&&"number"===typeof a?b>a:b["$>"](a)}function f(b,a){return"number"===typeof b&&"number"===typeof a?b-a:b["$-"](a)}var c=a.nil,e=a.slice,d=a.module,b=a.hash2,t=a.gvars,H=a.range;a.add_stubs("$join $keys $[] $+ $attr_reader $! $== $=== $each $has_key? $<< $empty? $* $include? $extract_passthroughs $sub_specialchars $sub_quotes $sub_attributes $split $sub_replacements $sub_macros $highlight_source $sub_callouts $sub_post_replacements $warn $restore_passthroughs $apply_subs $compat_mode $gsub $nil_or_empty? $[]= $size $unescape_brackets $resolve_pass_subs $> $- $end_with? $parse_attributes $start_with? $to_sym $attributes $document $basebackend? $to_i $convert $new $clear $convert_quoted_text $do_replacement $tr $length $store_attribute $fetch $attribute_undefined $counter $key? $downcase $attribute_missing $unescape_bracketed_text $inject $strip $map $pop $rstrip $extensions $inline_macros? $config $process_method $regexp $instance $inline_macros $register $basename $split_simple_csv $normalize_string $!= $!~ $delete $chop $attr? $sub $chomp $encode_uri $sub_inline_xrefs $sub_inline_anchors $find $id $references $index $text $rootname $key $escape $attr $read_next_id $callouts $push $parse_quoted_text_attributes $shorthand_property_syntax $shift $concat $parse_into $parse $each_char $=~ $chr $dup $& $resolve_subs $nil? $require_library $set_attr $sub_source $resolve_highlight_lines $highlight $to_a $uniq $sort $option? $resolve_block_subs".split(" "));
return function(w){(function(p){p=d(p,"Substitutors");var g=p.$$scope,w,v,z,I,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B,Z,x,E,fa,ia,ja,ma,na;a.cdecl(g,"SPECIAL_CHARS",b(["&","<",">"],{"&":"&amp;","<":"&lt;",">":"&gt;"}));a.cdecl(g,"SPECIAL_CHARS_PATTERN",new RegExp("["+g.get("SPECIAL_CHARS").$keys().$join()+"]"));a.cdecl(g,"SUBS",b("basic normal verbatim title header pass".split(" "),{basic:["specialcharacters"],normal:"specialcharacters quotes attributes replacements macros post_replacements".split(" "),
verbatim:["specialcharacters","callouts"],title:"specialcharacters quotes replacements macros attributes post_replacements".split(" "),header:["specialcharacters","attributes"],pass:[]}));a.cdecl(g,"COMPOSITE_SUBS",b(["none","normal","verbatim","specialchars"],{none:[],normal:g.get("SUBS")["$[]"]("normal"),verbatim:g.get("SUBS")["$[]"]("verbatim"),specialchars:["specialcharacters"]}));a.cdecl(g,"SUB_SYMBOLS",b("amnpqrcv".split(""),{a:"attributes",m:"macros",n:"normal",p:"post_replacements",q:"quotes",
r:"replacements",c:"specialcharacters",v:"verbatim"}));a.cdecl(g,"SUB_OPTIONS",b(["block","inline"],{block:m(m(g.get("COMPOSITE_SUBS").$keys(),g.get("SUBS")["$[]"]("normal")),["callouts"]),inline:m(g.get("COMPOSITE_SUBS").$keys(),g.get("SUBS")["$[]"]("normal"))}));a.cdecl(g,"SUB_HIGHLIGHT",["coderay","pygments"]);a.cdecl(g,"PASS_START","\u0096");a.cdecl(g,"PASS_END","\u0097");a.cdecl(g,"PASS_MATCH",/\u0096(\d+)\u0097/);a.cdecl(g,"PASS_MATCH_HI",/<span[^>]*>\u0096<\/span>[^\d]*(\d+)[^\d]*<span[^>]*>\u0097<\/span>/);
p.$attr_reader("passthroughs");a.defn(p,"$apply_subs",w=function(b,e,d){var f,h,k,r,x,q=c,t=c,p=c,w=c;null==this.passthroughs&&(this.passthroughs=c);null==e&&(e="normal");null==d&&(d=!1);if((f=e["$!"]())!==c&&null!=f&&(!f.$$is_boolean||1==f))return b;e["$=="]("normal")?e=g.get("SUBS")["$[]"]("normal"):!1!==d&&d!==c&&null!=d&&((f=a.get("Symbol")["$==="](e))===c||null==f||f.$$is_boolean&&1!=f?(q=[],(f=(h=e).$each,f.$$p=(k=function(b){var a;null==b&&(b=c);return(a=g.get("COMPOSITE_SUBS")["$has_key?"](b))===
c||null==a||a.$$is_boolean&&1!=a?q["$<<"](b):q=m(q,g.get("COMPOSITE_SUBS")["$[]"](b))},k.$$s=this,k.$$arity=1,k),f).call(h),e=q):e=!1!==(f=g.get("COMPOSITE_SUBS")["$[]"](e))&&f!==c&&null!=f?f:[e]);if((f=e["$empty?"]())!==c&&null!=f&&(!f.$$is_boolean||1==f))return b;t=(f=p=a.get("Array")["$==="](b))===c||null==f||f.$$is_boolean&&1!=f?b:n(b,g.get("EOL"));(f=w=e["$include?"]("macros"))===c||null==f||f.$$is_boolean&&1!=f||(t=this.$extract_passthroughs(t),(f=this.passthroughs["$empty?"]())===c||null==
f||f.$$is_boolean&&1!=f||(w=!1));(f=(r=e).$each,f.$$p=(x=function(b){var a=x.$$s||this,d,f=c;null==b&&(b=c);f=b;return"specialcharacters"["$==="](f)?t=a.$sub_specialchars(t):"quotes"["$==="](f)?t=a.$sub_quotes(t):"attributes"["$==="](f)?t=n(a.$sub_attributes(t.$split(g.get("EOL"))),g.get("EOL")):"replacements"["$==="](f)?t=a.$sub_replacements(t):"macros"["$==="](f)?t=a.$sub_macros(t):"highlight"["$==="](f)?t=a.$highlight_source(t,e["$include?"]("callouts")):"callouts"["$==="](f)?(d=e["$include?"]("highlight"))===
c||null==d||d.$$is_boolean&&1!=d?t=a.$sub_callouts(t):c:"post_replacements"["$==="](f)?t=a.$sub_post_replacements(t):a.$warn("asciidoctor: WARNING: unknown substitution type "+b)},x.$$s=this,x.$$arity=1,x),f).call(r);!1!==w&&w!==c&&null!=w&&(t=this.$restore_passthroughs(t));return!1!==p&&p!==c&&null!=p?t.$split(g.get("EOL")):t},w.$$arity=-2);a.defn(p,"$apply_normal_subs",v=function(b){var e;return this.$apply_subs((e=a.get("Array")["$==="](b))===c||null==e||e.$$is_boolean&&1!=e?b:n(b,g.get("EOL")))},
v.$$arity=1);a.defn(p,"$apply_title_subs",z=function(b){return this.$apply_subs(b,g.get("SUBS")["$[]"]("title"))},z.$$arity=1);a.defn(p,"$apply_header_subs",I=function(b){return this.$apply_subs(b,g.get("SUBS")["$[]"]("header"))},I.$$arity=1);a.defn(p,"$extract_passthroughs",F=function(e){var d,k,l,m,r,x,q,p,w=c,v=c,E=c,B=c;null==this.document&&(this.document=c);w=this.document.$compat_mode();(d=!1!==(k=!1!==(l=e["$include?"]("++"))&&l!==c&&null!=l?l:e["$include?"]("$$"))&&k!==c&&null!=k?k:e["$include?"]("ss:"))===
c||null==d||d.$$is_boolean&&1!=d||(e=(d=(k=e).$gsub,d.$$p=(m=function(){var e=m.$$s||this,d,l=c,u=c,k=c,r=k=c,ea=c,T=c,x=c,l=c;null==e.passthroughs&&(e.passthroughs=c);null==t["~"]&&(t["~"]=c);l=t["~"];u=c;if((d=(k=l["$[]"](4))["$nil_or_empty?"]())===c||null==d||d.$$is_boolean&&1!=d){if((d=!1!==w&&w!==c&&null!=w?k["$=="]("++"):w)!==c&&null!=d&&(!d.$$is_boolean||1==d))return(d=l["$[]"](2)["$nil_or_empty?"]())===c||null==d||d.$$is_boolean&&1!=d?""+l["$[]"](1)+"["+l["$[]"](2)+"]"+l["$[]"](3)+"++"+e.$extract_passthroughs(l["$[]"](5))+
"++":""+l["$[]"](1)+l["$[]"](3)+"++"+e.$extract_passthroughs(l["$[]"](5))+"++";r=l["$[]"](2);(d=a.get("RUBY_ENGINE_OPAL"))===c||null==d||d.$$is_boolean&&1!=d||r["$=="]("")&&(r=c);ea=l["$[]"](3).$size();T=l["$[]"](5);x=!1;if(!1!==r&&r!==c&&null!=r)if((d=h(ea,0))===c||null==d||d.$$is_boolean&&1!=d)l["$[]"](1)["$=="]("\\")?(u="["+r+"]",r=c):((d=k["$=="]("++")?r["$end_with?"]("x-"):k["$=="]("++"))===c||null==d||d.$$is_boolean&&1!=d||(x=!0,r=r["$[]"](H(0,-2,!0))),r=e.$parse_attributes(r));else return""+
l["$[]"](1)+"["+r+"]"+n("\\",f(ea,1))+k+l["$[]"](5)+k+")";else if((d=h(ea,0))!==c&&null!=d&&(!d.$$is_boolean||1==d))return""+l["$[]"](1)+"["+r+"]"+n("\\",f(ea,1))+k+l["$[]"](5)+k;l=k["$=="]("+++")?[]:["specialcharacters"];k=e.passthroughs.$size();if(!1!==r&&r!==c&&null!=r)if(!1!==x&&x!==c&&null!=x)e.passthroughs["$[]="](k,b(["text","subs","type","attributes"],{text:T,subs:g.get("SUBS")["$[]"]("normal"),type:"monospaced",attributes:r}));else e.passthroughs["$[]="](k,b(["text","subs","type","attributes"],
{text:T,subs:l,type:"unquoted",attributes:r}));else e.passthroughs["$[]="](k,b(["text","subs"],{text:T,subs:l}))}else{if(l["$[]"](6)["$=="]("\\"))return l["$[]"](0)["$[]"](H(1,-1,!1));e.passthroughs["$[]="](k=e.passthroughs.$size(),b(["text","subs"],{text:e.$unescape_brackets(l["$[]"](8)),subs:(d=l["$[]"](7)["$nil_or_empty?"]())===c||null==d||d.$$is_boolean&&1!=d?e.$resolve_pass_subs(l["$[]"](7)):[]}))}return""+u+g.get("PASS_START")+k+g.get("PASS_END")},m.$$s=this,m.$$arity=0,m),d).call(k,g.get("PassInlineMacroRx")));
l=g.get("PassInlineRx")["$[]"](w);d=a.to_ary(l);v=null==d[0]?c:d[0];E=null==d[1]?c:d[1];B=null==d[2]?c:d[2];l;(d=!1!==(l=e["$include?"](v))&&l!==c&&null!=l?l:(r=!1!==E&&E!==c&&null!=E)?e["$include?"](E):E)===c||null==d||d.$$is_boolean&&1!=d||(e=(d=(l=e).$gsub,d.$$p=(x=function(){var e=x.$$s||this,d,f=c,l=c,u=c,h=c,k=c,T=c,m=c,k=f=c;null==e.passthroughs&&(e.passthroughs=c);null==t["~"]&&(t["~"]=c);f=t["~"];l=f["$[]"](1);u=f["$[]"](2);h=(d=f["$[]"](3)["$start_with?"]("\\"))===c||null==d||d.$$is_boolean&&
1!=d?c:"\\";k=f["$[]"](4);T=f["$[]"](5);(d=a.get("RUBY_ENGINE_OPAL"))===c||null==d||d.$$is_boolean&&1!=d||u["$=="]("")&&(u=c);!1!==w&&w!==c&&null!=w?m=!0:(d=m=!1!==u&&u!==c&&null!=u?u["$end_with?"]("x-"):u)===c||null==d||d.$$is_boolean&&1!=d||(u=u["$[]"](H(0,-2,!0)));if(!1!==u&&u!==c&&null!=u){if((d=k["$=="]("`")?m["$!"]():k["$=="]("`"))!==c&&null!=d&&(!d.$$is_boolean||1==d))return""+l+"["+u+"]"+h+"`"+e.$extract_passthroughs(T)+"`";if(!1!==h&&h!==c&&null!=h)return""+l+"["+u+"]"+f["$[]"](3)["$[]"](H(1,
-1,!1));l["$=="]("\\")?(l="["+u+"]",u=c):u=e.$parse_attributes(u)}else{if((d=k["$=="]("`")?m["$!"]():k["$=="]("`"))!==c&&null!=d&&(!d.$$is_boolean||1==d))return""+l+h+"`"+e.$extract_passthroughs(T)+"`";if(!1!==h&&h!==c&&null!=h)return""+l+f["$[]"](3)["$[]"](H(1,-1,!1))}f=e.passthroughs.$size();if(!1!==w&&w!==c&&null!=w)e.passthroughs["$[]="](f,b(["text","subs","attributes","type"],{text:T,subs:["specialcharacters"],attributes:u,type:"monospaced"}));else if(!1!==u&&u!==c&&null!=u)if(!1!==m&&m!==c&&
null!=m)k=k["$=="]("`")?["specialcharacters"]:g.get("SUBS")["$[]"]("normal"),e.passthroughs["$[]="](f,b(["text","subs","attributes","type"],{text:T,subs:k,attributes:u,type:"monospaced"}));else e.passthroughs["$[]="](f,b(["text","subs","attributes","type"],{text:T,subs:["specialcharacters"],attributes:u,type:"unquoted"}));else e.passthroughs["$[]="](f,b(["text","subs"],{text:T,subs:["specialcharacters"]}));return""+l+g.get("PASS_START")+f+g.get("PASS_END")},x.$$s=this,x.$$arity=0,x),d).call(l,B));
(d=(r=e["$include?"](":"),!1!==r&&r!==c&&null!=r?!1!==(q=e["$include?"]("stem:"))&&q!==c&&null!=q?q:e["$include?"]("math:"):r))===c||null==d||d.$$is_boolean&&1!=d||(e=(d=(r=e).$gsub,d.$$p=(p=function(){var a=p.$$s||this,e,d=c,f=c,l=c,u=c,h=d=c;null==a.document&&(a.document=c);null==a.passthroughs&&(a.passthroughs=c);null==t["~"]&&(t["~"]=c);d=t["~"];if((e=d["$[]"](0)["$start_with?"]("\\"))!==c&&null!=e&&(!e.$$is_boolean||1==e))return d["$[]"](0)["$[]"](H(1,-1,!1));(f=d["$[]"](1).$to_sym())["$=="]("stem")&&
(f=((e=(l=a.$document().$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===c||null==e||e.$$is_boolean&&1!=e?l:"asciimath").$to_sym());u=a.$unescape_brackets(d["$[]"](3));d=(e=d["$[]"](2)["$nil_or_empty?"]())===c||null==e||e.$$is_boolean&&1!=e?a.$resolve_pass_subs(d["$[]"](2)):(e=a.document["$basebackend?"]("html"))===c||null==e||e.$$is_boolean&&1!=e?[]:["specialcharacters"];a.passthroughs["$[]="](h=a.passthroughs.$size(),b(["text","subs","type"],{text:u,subs:d,type:f}));return""+g.get("PASS_START")+
h+g.get("PASS_END")},p.$$s=this,p.$$arity=0,p),d).call(r,g.get("StemInlineMacroRx")));return e},F.$$arity=1);a.defn(p,"$restore_passthroughs",C=function(a,e){var d,f,h,k;null==this.passthroughs&&(this.passthroughs=c);null==e&&(e=!0);try{return(d=(f=!1!==e&&e!==c&&null!=e)?!1!==(h=this.passthroughs["$empty?"]())&&h!==c&&null!=h?h:a["$include?"](g.get("PASS_START"))["$!"]():e)===c||null==d||d.$$is_boolean&&1!=d?(d=(f=a).$gsub,d.$$p=(k=function(){var a=k.$$s||this,e,d=c,f=c,l=c,u=c;null==a.passthroughs&&
(a.passthroughs=c);null==t["~"]&&(t["~"]=c);d=a.passthroughs["$[]"](t["~"]["$[]"](1).$to_i());f=(e=l=d["$[]"]("subs"))===c||null==e||e.$$is_boolean&&1!=e?d["$[]"]("text"):a.$apply_subs(d["$[]"]("text"),l);(e=u=d["$[]"]("type"))===c||null==e||e.$$is_boolean&&1!=e||(f=g.get("Inline").$new(a,"quoted",f,b(["type","attributes"],{type:u,attributes:d["$[]"]("attributes")})).$convert());return(e=f["$include?"](g.get("PASS_START")))===c||null==e||e.$$is_boolean&&1!=e?f:a.$restore_passthroughs(f,!1)},k.$$s=
this,k.$$arity=0,k),d).call(f,g.get("PASS_MATCH")):a}finally{!1!==e&&e!==c&&null!=e&&this.passthroughs.$clear()}},C.$$arity=-2);a.defn(p,"$sub_specialchars",r=function(b){var a,e;return(a=g.get("SUPPORTS_GSUB_RESULT_HASH"))===c||null==a||a.$$is_boolean&&1!=a?(a=b.$gsub,a.$$p=(e=function(){var b;return g.get("SPECIAL_CHARS")["$[]"]((b=t["~"])===c?c:b["$[]"](0))},e.$$s=this,e.$$arity=0,e),a).call(b,g.get("SPECIAL_CHARS_PATTERN")):b.$gsub(g.get("SPECIAL_CHARS_PATTERN"),g.get("SPECIAL_CHARS"))},r.$$arity=
1);a.alias(p,"sub_specialcharacters","sub_specialchars");g.get("RUBY_ENGINE")["$=="]("opal")&&(a.defn(p,"$sub_quotes",Q=function(b){var a,e,d;null==this.document&&(this.document=c);(a=(e=g.get("QUOTE_SUBS")["$[]"](this.document.$compat_mode())).$each,a.$$p=(d=function(a,e,g){var f=d.$$s||this,u,h,k;null==a&&(a=c);null==e&&(e=c);null==g&&(g=c);return b=(u=(h=b).$gsub,u.$$p=(k=function(){var b=k.$$s||this;null==t["~"]&&(t["~"]=c);return b.$convert_quoted_text(t["~"],a,e)},k.$$s=f,k.$$arity=0,k),u).call(h,
g)},d.$$s=this,d.$$arity=3,d),a).call(e);return b},Q.$$arity=1),a.defn(p,"$sub_replacements",O=function(b){var a,e,d;(a=(e=g.get("REPLACEMENTS")).$each,a.$$p=(d=function(a,e,g){var f=d.$$s||this,u,h,k;null==a&&(a=c);null==e&&(e=c);null==g&&(g=c);return b=(u=(h=b).$gsub,u.$$p=(k=function(){var b=k.$$s||this;null==t["~"]&&(t["~"]=c);return b.$do_replacement(t["~"],e,g)},k.$$s=f,k.$$arity=0,k),u).call(h,a)},d.$$s=this,d.$$arity=3,d),a).call(e);return b},O.$$arity=1));a.defn(p,"$do_replacement",S=function(b,
a,e){var d,g=c,g=c;(d=(g=b["$[]"](0))["$include?"]("\\"))===c||null==d||d.$$is_boolean&&1!=d?(g=e,b="none"["$==="](g)?a:"leading"["$==="](g)?""+b["$[]"](1)+a:"bounding"["$==="](g)?""+b["$[]"](1)+a+b["$[]"](2):c):b=g.$tr("\\","");return b},S.$$arity=3);a.defn(p,"$sub_attributes",M=function(e,d){var f,l,h,k=c,r=c,x=c,q=c;null==this.document&&(this.document=c);null==d&&(d=b([],{}));if((f=e["$nil_or_empty?"]())!==c&&null!=f&&(!f.$$is_boolean||1==f))return e;(f=k=a.get("String")["$==="](e))===c||null==
f||f.$$is_boolean&&1!=f||(e=[e]);r=this.document.$attributes();x=c;q=[];(f=(l=e).$each,f.$$p=(h=function(b){var e=h.$$s||this,f,l,k,n,ea=c,p=c;null==b&&(b=c);p=ea=!1;(f=b["$include?"]("{"))===c||null==f||f.$$is_boolean&&1!=f||(b=function(){var h=a.new_brk();try{return(f=(l=b).$gsub,f.$$p=(k=function(){var b=k.$$s||this,e,f,l,n=c,ba=c,q=c,D=c,W=c,J=c,K=c,A=c,y=c;null==b.document&&(b.document=c);null==t["~"]&&(t["~"]=c);n=t["~"];if((e=!1!==(f=n["$[]"](1)["$=="]("\\"))&&f!==c&&null!=f?f:n["$[]"](4)["$=="]("\\"))===
c||null==e||e.$$is_boolean&&1!=e){if((e=n["$[]"](3)["$nil_or_empty?"]()["$!"]())===c||null==e||e.$$is_boolean&&1!=e)return(e=r["$key?"](y=n["$[]"](2).$downcase()))===c||null==e||e.$$is_boolean&&1!=e?(e=g.get("INTRINSIC_ATTRIBUTES")["$key?"](y))===c||null==e||e.$$is_boolean&&1!=e?function(){W=!1!==(e=x)&&e!==c&&null!=e?e:x=!1!==(f=d["$[]"]("attribute_missing"))&&f!==c&&null!=f?f:r.$fetch("attribute-missing",g.get("Compliance").$attribute_missing());if("skip"["$==="](W))return n["$[]"](0);if("drop-line"["$==="](W))b.$warn("asciidoctor: WARNING: dropping line containing reference to missing attribute: "+
y),ea=!0,a.brk("",h);else{if("warn"["$==="](W))return b.$warn("asciidoctor: WARNING: skipping reference to missing attribute: "+y),n["$[]"](0);p=!0;return""}}():g.get("INTRINSIC_ATTRIBUTES")["$[]"](y):r["$[]"](y);ba=m((q=n["$[]"](3)).$length(),1);D=n["$[]"](2)["$[]"](H(ba,-1,!1));return function(){W=q;if("set"["$==="](W))return J=D.$split(":"),f=g.get("Parser").$store_attribute(J["$[]"](0),!1!==(l=J["$[]"](1))&&l!==c&&null!=l?l:"",b.document),e=a.to_ary(f),K=null==e[1]?c:e[1],f,!1!==K&&K!==c&&null!=
K||!r.$fetch("attribute-undefined",g.get("Compliance").$attribute_undefined())["$=="]("drop-line")||(ea=!0,a.brk("",h)),p=!0,"";if("counter"["$==="](W)||"counter2"["$==="](W))return J=D.$split(":"),A=b.document.$counter(J["$[]"](0),J["$[]"](1)),q["$=="]("counter2")?(p=!0,""):A;b.$warn("asciidoctor: WARNING: illegal attribute directive: "+n["$[]"](3));return n["$[]"](0)}()}return"{"+n["$[]"](2)+"}"},k.$$s=e,k.$$brk=h,k.$$arity=0,k),f).call(l,g.get("AttributeReferenceRx"))}catch(n){if(n===h)return n.$v;
throw n;}}());return(f=!1!==(n=ea)&&n!==c&&null!=n?n:!1!==p&&p!==c&&null!=p?b["$empty?"]():p)===c||null==f||f.$$is_boolean&&1!=f?q["$<<"](b):c},h.$$s=this,h.$$arity=1,h),f).call(l);return!1!==k&&k!==c&&null!=k?n(q,g.get("EOL")):q},M.$$arity=-2);a.defn(p,"$sub_macros",R=function(d){var f,h,l,k,m,n,r,x,q,p,w,v,E,B,N,R,Z,pa,ua,T,G=c,z=c,C=c,fa=c,D=c,W=c;null==this.document&&(this.document=c);if((f=d["$nil_or_empty?"]())!==c&&null!=f&&(!f.$$is_boolean||1==f))return d;G=b([],{});G["$[]="]("square_bracket",
d["$include?"]("["));G["$[]="]("round_bracket",d["$include?"]("("));G["$[]="]("colon",z=d["$include?"](":"));G["$[]="]("macroish",(f=G["$[]"]("square_bracket"),!1!==f&&f!==c&&null!=f?z:f));G["$[]="]("macroish_short_form",(f=(h=G["$[]"]("square_bracket"),!1!==h&&h!==c&&null!=h?z:h),!1!==f&&f!==c&&null!=f?d["$include?"](":["):f));C=this.document.$attributes()["$has_key?"]("linkattrs");fa=this.document.$attributes()["$has_key?"]("experimental");D=""+d;!1!==fa&&fa!==c&&null!=fa&&((f=(h=G["$[]"]("macroish_short_form"),
!1!==h&&h!==c&&null!=h?!1!==(l=D["$include?"]("kbd:"))&&l!==c&&null!=l?l:D["$include?"]("btn:"):h))===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(h=D).$gsub,f.$$p=(k=function(){var a=k.$$s||this,e,d,f,l=c,h=c,l=l=c;null==t["~"]&&(t["~"]=c);l=t["~"];if((e=(h=l["$[]"](0))["$start_with?"]("\\"))!==c&&null!=e&&(!e.$$is_boolean||1==e))return h["$[]"](H(1,-1,!1));if((e=h["$start_with?"]("kbd"))===c||null==e||e.$$is_boolean&&1!=e){if((e=h["$start_with?"]("btn"))===c||null==e||e.$$is_boolean&&1!=e)return c;
l=a.$unescape_bracketed_text(l["$[]"](1));return g.get("Inline").$new(a,"button",l).$convert()}l=a.$unescape_bracketed_text(l["$[]"](1));l=l["$=="]("+")?["+"]:(e=(d=l.$split(g.get("KbdDelimiterRx"))).$inject,e.$$p=(f=function(b,a){var e;null==b&&(b=c);null==a&&(a=c);if((e=a["$end_with?"]("++"))===c||null==e||e.$$is_boolean&&1!=e)b["$<<"](a.$strip());else b["$<<"](a["$[]"](H(0,-3,!1)).$strip()),b["$<<"]("+");return b},f.$$s=a,f.$$arity=2,f),e).call(d,[]);return g.get("Inline").$new(a,"kbd",c,b(["attributes"],
{attributes:b(["keys"],{keys:l})})).$convert()},k.$$s=this,k.$$arity=0,k),f).call(h,g.get("KbdBtnInlineMacroRx"))),(f=(l=G["$[]"]("macroish"),!1!==l&&l!==c&&null!=l?D["$include?"]("menu:"):l))===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(l=D).$gsub,f.$$p=(m=function(){var a=m.$$s||this,e,d,f,l=c,h=c,k=l=h=c,k=l=c;null==t["~"]&&(t["~"]=c);l=t["~"];if((e=(h=l["$[]"](0))["$start_with?"]("\\"))!==c&&null!=e&&(!e.$$is_boolean||1==e))return h["$[]"](H(1,-1,!1));h=l["$[]"](1);l=l["$[]"](2);(e=l["$!"]())===
c||null==e||e.$$is_boolean&&1!=e?(e=k=(d=l["$include?"]("&gt;"))===c||null==d||d.$$is_boolean&&1!=d?(d=l["$include?"](","))===c||null==d||d.$$is_boolean&&1!=d?c:",":"&gt;")===c||null==e||e.$$is_boolean&&1!=e?(k=[],l=l.$rstrip()):(k=(e=(d=l.$split(k)).$map,e.$$p=(f=function(b){null==b&&(b=c);return b.$strip()},f.$$s=a,f.$$arity=1,f),e).call(d),l=k.$pop()):(k=[],l=c);return g.get("Inline").$new(a,"menu",c,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:h,submenus:k,menuitem:l})})).$convert()},
m.$$s=this,m.$$arity=0,m),f).call(l,g.get("MenuInlineMacroRx"))),(f=(n=D["$include?"]('"'),!1!==n&&n!==c&&null!=n?D["$include?"]("&gt;"):n))===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(n=D).$gsub,f.$$p=(r=function(){var d=r.$$s||this,f,A,y,l,h,k=c,u=c;A=u=k=k=c;null==t["~"]&&(t["~"]=c);k=t["~"];if((f=(u=k["$[]"](0))["$start_with?"]("\\"))!==c&&null!=f&&(!f.$$is_boolean||1==f))return u["$[]"](H(1,-1,!1));k=k["$[]"](1);A=(y=(l=k.$split("&gt;")).$map,y.$$p=(h=function(b){null==b&&(b=c);return b.$strip()},
h.$$s=d,h.$$arity=1,h),y).call(l);f=a.to_ary(A);k=null==f[0]?c:f[0];u=e.call(f,1);A;A=u.$pop();return g.get("Inline").$new(d,"menu",c,b(["attributes"],{attributes:b(["menu","submenus","menuitem"],{menu:k,submenus:u,menuitem:A})})).$convert()},r.$$s=this,r.$$arity=0,r),f).call(n,g.get("MenuInlineRx"))));(f=(x=W=this.document.$extensions(),!1!==x&&x!==c&&null!=x?W["$inline_macros?"]():x))===c||null==f||f.$$is_boolean&&1!=f||(f=(x=W.$inline_macros()).$each,f.$$p=(q=function(a){var e=q.$$s||this,d,g,
f;null==a&&(a=c);return D=(d=(g=D).$gsub,d.$$p=(f=function(){var e=f.$$s||this,d,g=c,A=c,g=c;null==t["~"]&&(t["~"]=c);g=t["~"];if((d=g["$[]"](0)["$start_with?"]("\\"))!==c&&null!=d&&(!d.$$is_boolean||1==d))return g["$[]"](0)["$[]"](H(1,-1,!1));A=g["$[]"](1);g=a.$config()["$[]"]("format")["$=="]("short")?b([],{}):a.$config()["$[]"]("content_model")["$=="]("attributes")?e.$parse_attributes(g["$[]"](2),!1!==(d=a.$config()["$[]"]("pos_attrs"))&&d!==c&&null!=d?d:[],b(["sub_input","unescape_input"],{sub_input:!0,
unescape_input:!0})):b(["text"],{text:e.$unescape_bracketed_text(g["$[]"](2))});return a.$process_method()["$[]"](e,A,g)},f.$$s=e,f.$$arity=0,f),d).call(g,a.$instance().$regexp())},q.$$s=this,q.$$arity=1,q),f).call(x);(f=(p=G["$[]"]("macroish"),!1!==p&&p!==c&&null!=p?!1!==(w=D["$include?"]("image:"))&&w!==c&&null!=w?w:D["$include?"]("icon:"):p))===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(p=D).$gsub,f.$$p=(v=function(){var a=v.$$s||this,e,d,f,l=c,h=d=c,k=c,k=l=c;null==a.document&&(a.document=c);null==
t["~"]&&(t["~"]=c);l=t["~"];if((e=l["$[]"](0)["$start_with?"]("\\"))!==c&&null!=e&&(!e.$$is_boolean||1==e))return l["$[]"](0)["$[]"](H(1,-1,!1));d=a.$unescape_bracketed_text(l["$[]"](2));(e=l["$[]"](0)["$start_with?"]("icon:"))===c||null==e||e.$$is_boolean&&1!=e?(h="image",k=["alt","width","height"]):(h="icon",k=["size"]);l=a.$sub_attributes(l["$[]"](1));h["$=="]("icon")||a.document.$register("images",l);k=a.$parse_attributes(d,k);e="alt";d=k;!1!==(f=d["$[]"](e))&&f!==c&&null!=f?f:d["$[]="](e,g.get("Helpers").$basename(l,
!0).$tr("_-"," "));return g.get("Inline").$new(a,"image",c,b(["type","target","attributes"],{type:h,target:l,attributes:k})).$convert()},v.$$s=this,v.$$arity=0,v),f).call(p,g.get("ImageInlineMacroRx")));(f=!1!==(w=G["$[]"]("macroish_short_form"))&&w!==c&&null!=w?w:G["$[]"]("round_bracket"))===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(w=D).$gsub,f.$$p=(E=function(){var e=E.$$s||this,d,f,y=c,l=c,h=c,k=c,y=y=c;null==e.document&&(e.document=c);null==t["~"]&&(t["~"]=c);y=t["~"];if((d=y["$[]"](0)["$start_with?"]("\\"))!==
c&&null!=d&&(!d.$$is_boolean||1==d))return y["$[]"](0)["$[]"](H(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==c&&null!=d&&(!d.$$is_boolean||1==d)&&y["$[]"](1)["$=="](""))y["$[]="](1,c);l=0;h=c;if((d=k=y["$[]"](1))===c||null==d||d.$$is_boolean&&1!=d)h=y["$[]"](3),(d=(f=h["$start_with?"]("("),!1!==f&&f!==c&&null!=f?h["$end_with?"](")"):f))===c||null==d||d.$$is_boolean&&1!=d?l=2:(h=h["$[]"](H(1,-1,!0)),l=3);if((d=!1!==(f=k["$=="]("indexterm"))&&f!==c&&null!=f?f:l["$=="](3))===c||null==d||d.$$is_boolean&&
1!=d)return y=(d=k["$!"]())===c||null==d||d.$$is_boolean&&1!=d?e.$normalize_string(y["$[]"](2),!0):e.$normalize_string(h),e.document.$register("indexterms",[y]),g.get("Inline").$new(e,"indexterm",y,b(["type"],{type:"visible"})).$convert();y=(d=k["$!"]())===c||null==d||d.$$is_boolean&&1!=d?e.$split_simple_csv(e.$normalize_string(y["$[]"](2),!0)):e.$split_simple_csv(e.$normalize_string(h));e.document.$register("indexterms",[].concat(a.to_a(y)));return g.get("Inline").$new(e,"indexterm",c,b(["attributes"],
{attributes:b(["terms"],{terms:y})})).$convert()},E.$$s=this,E.$$arity=0,E),f).call(w,g.get("IndextermInlineMacroRx")));(f=(d=!1!==z&&z!==c&&null!=z)?D["$include?"]("://"):z)===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(d=D).$gsub,f.$$p=(B=function(){var e=B.$$s||this,d,f,y,l,h=c,k=c,u=c,D=c,T=c,m=T=c,h=c;null==e.document&&(e.document=c);null==t["~"]&&(t["~"]=c);h=t["~"];if((d=h["$[]"](2)["$start_with?"]("\\"))!==c&&null!=d&&(!d.$$is_boolean||1==d))return""+h["$[]"](1)+h["$[]"](2)["$[]"](H(1,-1,!1))+
h["$[]"](3);if((d=a.get("RUBY_ENGINE_OPAL"))!==c&&null!=d&&(!d.$$is_boolean||1==d)&&h["$[]"](3)["$=="](""))h["$[]="](3,c);if((d=(f=h["$[]"](1)["$=="]("link:"))?h["$[]"](3)["$!"]():h["$[]"](1)["$=="]("link:"))!==c&&null!=d&&(!d.$$is_boolean||1==d))return h["$[]"](0);k=(d=h["$[]"](1)["$!="]("link:"))===c||null==d||d.$$is_boolean&&1!=d?"":h["$[]"](1);u=h["$[]"](2);D="";if((d=!1!==(f=h["$[]"](3))&&f!==c&&null!=f?f:u["$!~"](g.get("UriTerminator")))===c||null==d||d.$$is_boolean&&1!=d)T=t["~"]["$[]"](0),
")"["$==="](T)?(u=u["$[]"](H(0,-2,!1)),D=")"):";"["$==="](T)?(d=(f=k["$start_with?"]("&lt;"),!1!==f&&f!==c&&null!=f?u["$end_with?"]("&gt;"):f))===c||null==d||d.$$is_boolean&&1!=d?(d=u["$end_with?"](");"))===c||null==d||d.$$is_boolean&&1!=d?(u=u["$[]"](H(0,-2,!1)),D=";"):(u=u["$[]"](H(0,-3,!1)),D=");"):(k=k["$[]"](H(4,-1,!1)),u=u["$[]"](H(0,-5,!1))):":"["$==="](T)&&((d=u["$end_with?"]("):"))===c||null==d||d.$$is_boolean&&1!=d?(u=u["$[]"](H(0,-2,!1)),D=":"):(u=u["$[]"](H(0,-3,!1)),D="):"));e.document.$register("links",
u);T=b(["type","target"],{type:"link",target:u});m=c;if((d=h["$[]"](3)["$nil_or_empty?"]())===c||null==d||d.$$is_boolean&&1!=d){if((d=!1!==C&&C!==c&&null!=C?!1!==(y=h["$[]"](3)["$start_with?"]('"'))&&y!==c&&null!=y?y:(l=h["$[]"](3)["$include?"](","),!1!==l&&l!==c&&null!=l?h["$[]"](3)["$include?"]("="):l):C)===c||null==d||d.$$is_boolean&&1!=d)h=e.$sub_attributes(h["$[]"](3).$gsub("\\]","]"));else{m=e.$parse_attributes(e.$sub_attributes(h["$[]"](3).$gsub("\\]","]")),[]);if((d=m["$has_key?"]("id"))!==
c&&null!=d&&(!d.$$is_boolean||1==d))T["$[]="]("id",m.$delete("id"));h=!1!==(d=m["$[]"](1))&&d!==c&&null!=d?d:""}(d=h["$end_with?"]("^"))===c||null==d||d.$$is_boolean&&1!=d||(h=h.$chop(),!1!==m&&m!==c&&null!=m?(d="window",f=m,!1!==(y=f["$[]"](d))&&y!==c&&null!=y?y:f["$[]="](d,"_blank")):m=b(["window"],{window:"_blank"}))}else h="";if((d=h["$empty?"]())!==c&&null!=d&&(!d.$$is_boolean||1==d))if(h=(d=e.document["$attr?"]("hide-uri-scheme"))===c||null==d||d.$$is_boolean&&1!=d?u:u.$sub(g.get("UriSniffRx"),
""),!1!==m&&m!==c&&null!=m)m["$[]="]("role",("bare "+m["$[]"]("role")).$chomp(" "));else m=b(["role"],{role:"bare"});if(!1!==m&&m!==c&&null!=m)T["$[]="]("attributes",m);return""+k+g.get("Inline").$new(e,"anchor",h,T).$convert()+D},B.$$s=this,B.$$arity=0,B),f).call(d,g.get("LinkInlineRx")));(f=!1!==(N=(R=G["$[]"]("macroish"),!1!==R&&R!==c&&null!=R?D["$include?"]("link:"):R))&&N!==c&&null!=N?N:D["$include?"]("mailto:"))===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(N=D).$gsub,f.$$p=(Z=function(){var a=
Z.$$s||this,e,d,f,l=c,h=c,k=c,u=d=c,D=c,l=c;null==a.document&&(a.document=c);null==t["~"]&&(t["~"]=c);l=t["~"];if((e=l["$[]"](0)["$start_with?"]("\\"))!==c&&null!=e&&(!e.$$is_boolean||1==e))return l["$[]"](0)["$[]"](H(1,-1,!1));h=l["$[]"](1);k=l["$[]"](0)["$start_with?"]("mailto:");d=!1!==k&&k!==c&&null!=k?"mailto:"+h:h;u=b(["type","target"],{type:"link",target:d});D=c;if((e=!1!==C&&C!==c&&null!=C?!1!==(f=l["$[]"](2)["$start_with?"]('"'))&&f!==c&&null!=f?f:l["$[]"](2)["$include?"](","):C)===c||null==
e||e.$$is_boolean&&1!=e)l=a.$sub_attributes(l["$[]"](2).$gsub("\\]","]"));else{D=a.$parse_attributes(a.$sub_attributes(l["$[]"](2).$gsub("\\]","]")),[]);if((e=D["$key?"]("id"))!==c&&null!=e&&(!e.$$is_boolean||1==e))u["$[]="]("id",D.$delete("id"));!1===k||k===c||null==k||(e=D["$key?"](2))===c||null==e||e.$$is_boolean&&1!=e||(d=u["$[]="]("target",""+d+"?subject="+g.get("Helpers").$encode_uri(D["$[]"](2))),(e=D["$key?"](3))===c||null==e||e.$$is_boolean&&1!=e||(d=u["$[]="]("target",""+d+"&amp;body="+
g.get("Helpers").$encode_uri(D["$[]"](3)))));l=D["$[]"](1)}a.document.$register("links",d);(e=l["$end_with?"]("^"))===c||null==e||e.$$is_boolean&&1!=e||(l=l.$chop(),!1!==D&&D!==c&&null!=D?(e="window",d=D,!1!==(f=d["$[]"](e))&&f!==c&&null!=f?f:d["$[]="](e,"_blank")):D=b(["window"],{window:"_blank"}));if((e=l["$empty?"]())!==c&&null!=e&&(!e.$$is_boolean||1==e))if(!1!==k&&k!==c&&null!=k)l=h;else if(l=(e=a.document["$attr?"]("hide-uri-scheme"))===c||null==e||e.$$is_boolean&&1!=e?h:h.$sub(g.get("UriSniffRx"),
""),!1!==D&&D!==c&&null!=D)D["$[]="]("role",("bare "+D["$[]"]("role")).$chomp(" "));else D=b(["role"],{role:"bare"});if(!1!==D&&D!==c&&null!=D)u["$[]="]("attributes",D);return g.get("Inline").$new(a,"anchor",l,u).$convert()},Z.$$s=this,Z.$$arity=0,Z),f).call(N,g.get("LinkInlineMacroRx")));(f=D["$include?"]("@"))===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(R=D).$gsub,f.$$p=(pa=function(){var a=pa.$$s||this,e,d=c,f=c,d=d=c;null==a.document&&(a.document=c);null==t["~"]&&(t["~"]=c);d=t["~"];f=d["$[]"](0);
if((e=d=d["$[]"](1))!==c&&null!=e&&(!e.$$is_boolean||1==e))return"\\"["$==="](d)?f["$[]"](H(1,-1,!1)):f;d="mailto:"+f;a.document.$register("links",d);return g.get("Inline").$new(a,"anchor",f,b(["type","target"],{type:"link",target:d})).$convert()},pa.$$s=this,pa.$$arity=0,pa),f).call(R,g.get("EmailInlineMacroRx")));(f=(ua=G["$[]"]("macroish_short_form"),!1!==ua&&ua!==c&&null!=ua?D["$include?"]("footnote"):ua))===c||null==f||f.$$is_boolean&&1!=f||(D=(f=(ua=D).$gsub,f.$$p=(T=function(){var e=T.$$s||
this,d,f,y,l,h=c,k=c,u=f=h=c,D=c,h=c;null==e.document&&(e.document=c);null==t["~"]&&(t["~"]=c);h=t["~"];if((d=h["$[]"](0)["$start_with?"]("\\"))!==c&&null!=d&&(!d.$$is_boolean||1==d))return h["$[]"](0)["$[]"](H(1,-1,!1));h["$[]"](1)["$=="]("footnote")?(k=c,h=e.$restore_passthroughs(e.$sub_inline_xrefs(e.$sub_inline_anchors(e.$normalize_string(h["$[]"](2),!0))),!1),f=e.document.$counter("footnote-number"),e.document.$register("footnotes",g.get("Document").$$scope.get("Footnote").$new(f,k,h)),D=u=c):
(f=h["$[]"](2).$split(",",2),d=a.to_ary(f),k=null==d[0]?c:d[0],h=null==d[1]?c:d[1],f,k=k.$strip(),(d=h["$nil_or_empty?"]())===c||null==d||d.$$is_boolean&&1!=d?(h=e.$restore_passthroughs(e.$sub_inline_xrefs(e.$sub_inline_anchors(e.$normalize_string(h,!0))),!1),f=e.document.$counter("footnote-number"),e.document.$register("footnotes",g.get("Document").$$scope.get("Footnote").$new(f,k,h)),u="ref",D=c):((d=h=(f=(y=e.document.$references()["$[]"]("footnotes")).$find,f.$$p=(l=function(b){null==b&&(b=c);
return b.$id()["$=="](k)},l.$$s=e,l.$$arity=1,l),f).call(y))===c||null==d||d.$$is_boolean&&1!=d?(f=c,h=k):(f=h.$index(),h=h.$text()),D=k,k=c,u="xref"));return g.get("Inline").$new(e,"footnote",h,b(["attributes","id","target","type"],{attributes:b(["index"],{index:f}),id:k,target:D,type:u})).$convert()},T.$$s=this,T.$$arity=0,T),f).call(ua,g.get("FootnoteInlineMacroRx")));return this.$sub_inline_xrefs(this.$sub_inline_anchors(D,G),G)},R.$$arity=1);a.defn(p,"$sub_inline_anchors",q=function(e,d){var f,
l,h,k,m,n,r;null==d&&(d=c);(f=(l=!1!==(h=d["$!"]())&&h!==c&&null!=h?h:d["$[]"]("square_bracket"),!1!==l&&l!==c&&null!=l?e["$include?"]("[[["):l))===c||null==f||f.$$is_boolean&&1!=f||(e=(f=(l=e).$gsub,f.$$p=(k=function(){var a=k.$$s||this,e,d=c,f=d=c;null==t["~"]&&(t["~"]=c);d=t["~"];if((e=d["$[]"](0)["$start_with?"]("\\"))!==c&&null!=e&&(!e.$$is_boolean||1==e))return d["$[]"](0)["$[]"](H(1,-1,!1));d=f=d["$[]"](1);return g.get("Inline").$new(a,"anchor",f,b(["type","target"],{type:"bibref",target:d})).$convert()},
k.$$s=this,k.$$arity=0,k),f).call(l,g.get("InlineBiblioAnchorRx")));(f=!1!==(h=(m=!1!==(n=d["$!"]())&&n!==c&&null!=n?n:d["$[]"]("square_bracket"),!1!==m&&m!==c&&null!=m?e["$include?"]("[["):m))&&h!==c&&null!=h?h:(m=!1!==(n=d["$!"]())&&n!==c&&null!=n?n:d["$[]"]("macroish"),!1!==m&&m!==c&&null!=m?e["$include?"]("anchor:"):m))===c||null==f||f.$$is_boolean&&1!=f||(e=(f=(h=e).$gsub,f.$$p=(r=function(){var e=r.$$s||this,d,f,l=c,h=c,l=c;null==t["~"]&&(t["~"]=c);l=t["~"];if((d=l["$[]"](0)["$start_with?"]("\\"))!==
c&&null!=d&&(!d.$$is_boolean||1==d))return l["$[]"](0)["$[]"](H(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==c&&null!=d&&(!d.$$is_boolean||1==d)){if(l["$[]"](1)["$=="](""))l["$[]="](1,c);if(l["$[]"](2)["$=="](""))l["$[]="](2,c);if(l["$[]"](4)["$=="](""))l["$[]="](4,c)}h=!1!==(d=l["$[]"](1))&&d!==c&&null!=d?d:l["$[]"](3);l=!1!==(d=!1!==(f=l["$[]"](2))&&f!==c&&null!=f?f:l["$[]"](4))&&d!==c&&null!=d?d:"["+h+"]";return g.get("Inline").$new(e,"anchor",l,b(["type","target"],{type:"ref",target:h})).$convert()},
r.$$s=this,r.$$arity=0,r),f).call(h,g.get("InlineAnchorRx")));return e},q.$$arity=-2);a.defn(p,"$sub_inline_xrefs",k=function(e,d){var f,l,h,k;null==d&&(d=c);(f=!1!==(l=!1!==(h=d["$!"]())&&h!==c&&null!=h?h:d["$[]"]("macroish"))&&l!==c&&null!=l?l:e["$include?"]("&lt;&lt;"))===c||null==f||f.$$is_boolean&&1!=f||(e=(f=(l=e).$gsub,f.$$p=(k=function(){var e=k.$$s||this,d,f,l,h,u,m,n=c,r=c,ba=c,x=r=n=c,q=c,x=c;null==e.document&&(e.document=c);null==t["~"]&&(t["~"]=c);n=t["~"];if((d=n["$[]"](0)["$start_with?"]("\\"))!==
c&&null!=d&&(!d.$$is_boolean||1==d))return n["$[]"](0)["$[]"](H(1,-1,!1));if((d=a.get("RUBY_ENGINE_OPAL"))!==c&&null!=d&&(!d.$$is_boolean||1==d)&&n["$[]"](1)["$=="](""))n["$[]="](1,c);if((d=n["$[]"](1))===c||null==d||d.$$is_boolean&&1!=d){if(r=n["$[]"](2),(d=n["$[]"](3)["$nil_or_empty?"]())===c||null==d||d.$$is_boolean&&1!=d)ba=n["$[]"](3)}else f=(l=(h=n["$[]"](1).$split(",",2)).$map,l.$$p=(u=function(b){null==b&&(b=c);return b.$strip()},u.$$s=e,u.$$arity=1,u),l).call(h),d=a.to_ary(f),r=null==d[0]?
c:d[0],ba=null==d[1]?c:d[1],f,r=r.$sub(g.get("DoubleQuotedRx"),"\\2"),ba=(d=ba["$nil_or_empty?"]())===c||null==d||d.$$is_boolean&&1!=d?ba.$sub(g.get("DoubleQuotedMultiRx"),"\\2"):c;(d=r["$include?"]("#"))===c||null==d||d.$$is_boolean&&1!=d?n=c:(f=r.$split("#"),d=a.to_ary(f),n=null==d[0]?c:d[0],r=null==d[1]?c:d[1],f);!1!==n&&n!==c&&null!=n?(n=g.get("Helpers").$rootname(n),(d=!1!==(f=e.document.$attributes()["$[]"]("docname")["$=="](n))&&f!==c&&null!=f?f:e.document.$references()["$[]"]("includes")["$include?"](n))===
c||null==d||d.$$is_boolean&&1!=d?(x=!1!==r&&r!==c&&null!=r?""+n+"#"+r:n,n=""+e.document.$attributes()["$[]"]("relfileprefix")+n+e.document.$attributes().$fetch("outfilesuffix",".html"),q=!1!==r&&r!==c&&null!=r?""+n+"#"+r:n):(x=r,n=c,q="#"+r)):((d=(f=(l=e.document.$references()["$[]"]("ids")["$has_key?"](r)["$!"](),!1!==l&&l!==c&&null!=l?!1!==(m=r["$include?"](" "))&&m!==c&&null!=m?m:r.$downcase()["$!="](r):l),!1!==f&&f!==c&&null!=f?x=(l=g.get("RUBY_MIN_VERSION_1_9"))===c||null==l||l.$$is_boolean&&
1!=l?e.document.$references()["$[]"]("ids").$index(r):e.document.$references()["$[]"]("ids").$key(r):f))===c||null==d||d.$$is_boolean&&1!=d||(r=x),x=r,q="#"+r);return g.get("Inline").$new(e,"anchor",ba,b(["type","target","attributes"],{type:"xref",target:q,attributes:b(["path","fragment","refid"],{path:n,fragment:r,refid:x})})).$convert()},k.$$s=this,k.$$arity=0,k),f).call(l,g.get("XrefInlineMacroRx")));return e},k.$$arity=-2);a.defn(p,"$sub_callouts",Y=function(e){var d,f,l=c,l=(d=this["$attr?"]("line-comment"))===
c||null==d||d.$$is_boolean&&1!=d?g.get("CalloutSourceRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+g.get("CalloutSourceRxt"));return(d=e.$gsub,d.$$p=(f=function(){var a=f.$$s||this,e=c;null==a.document&&(a.document=c);null==t["~"]&&(t["~"]=c);e=t["~"];return e["$[]"](1)["$=="]("\\")?e["$[]"](0).$sub("\\",""):g.get("Inline").$new(a,"callout",e["$[]"](3),b(["id"],{id:a.document.$callouts().$read_next_id()})).$convert()},f.$$s=this,f.$$arity=0,f),d).call(e,l)},Y.$$arity=
1);a.defn(p,"$sub_post_replacements",G=function(a){var e,d,f,h,k=c,m=c;null==this.document&&(this.document=c);null==this.attributes&&(this.attributes=c);if((e=!1!==(d=this.document.$attributes()["$has_key?"]("hardbreaks"))&&d!==c&&null!=d?d:this.attributes["$has_key?"]("hardbreaks-option"))===c||null==e||e.$$is_boolean&&1!=e)return(e=a["$include?"]("+"))===c||null==e||e.$$is_boolean&&1!=e?a:(e=a.$gsub,e.$$p=(h=function(){var a=h.$$s||this;null==t["~"]&&(t["~"]=c);return g.get("Inline").$new(a,"break",
t["~"]["$[]"](1),b(["type"],{type:"line"})).$convert()},h.$$s=this,h.$$arity=0,h),e).call(a,g.get("LineBreakRx"));k=a.$split(g.get("EOL"));if(k.$size()["$=="](1))return a;m=k.$pop();return n((e=(d=k).$map,e.$$p=(f=function(a){var e=f.$$s||this;null==a&&(a=c);return g.get("Inline").$new(e,"break",a.$rstrip().$chomp(g.get("LINE_BREAK")),b(["type"],{type:"line"})).$convert()},f.$$s=this,f.$$arity=1,f),e).call(d).$push(m),g.get("EOL"))},G.$$arity=1);a.defn(p,"$convert_quoted_text",V=function(a,e,d){var f,
h=c,k=c,m=h=c,h=c;if((f=a["$[]"](0)["$start_with?"]("\\"))!==c&&null!=f&&(!f.$$is_boolean||1==f)){if((f=d["$=="]("constrained")?(k=a["$[]"](2))["$nil_or_empty?"]()["$!"]():d["$=="]("constrained"))===c||null==f||f.$$is_boolean&&1!=f)return a["$[]"](0)["$[]"](H(1,-1,!1));h="["+k+"]"}if(d["$=="]("constrained")){if(!1!==h&&h!==c&&null!=h)return""+h+g.get("Inline").$new(this,"quoted",a["$[]"](3),b(["type"],{type:e})).$convert();(f=h=this.$parse_quoted_text_attributes(a["$[]"](2)))===c||null==f||f.$$is_boolean&&
1!=f?m=c:(m=h.$delete("id"),e["$=="]("mark")&&(e="unquoted"));return""+a["$[]"](1)+g.get("Inline").$new(this,"quoted",a["$[]"](3),b(["type","id","attributes"],{type:e,id:m,attributes:h})).$convert()}(f=h=this.$parse_quoted_text_attributes(a["$[]"](1)))===c||null==f||f.$$is_boolean&&1!=f?m=c:(m=h.$delete("id"),e["$=="]("mark")&&(e="unquoted"));return g.get("Inline").$new(this,"quoted",a["$[]"](2),b(["type","id","attributes"],{type:e,id:m,attributes:h})).$convert()},V.$$arity=3);a.defn(p,"$parse_quoted_text_attributes",
aa=function(d){var f,k,l,m=c,r=c,x=c,x=m=c;if(!1===d||d===c||null==d)return c;if((f=d["$empty?"]())!==c&&null!=f&&(!f.$$is_boolean||1==f))return b([],{});(f=d["$include?"]("{"))===c||null==f||f.$$is_boolean&&1!=f||(d=this.$sub_attributes(d));d=d.$strip();(f=d["$include?"](","))===c||null==f||f.$$is_boolean&&1!=f||(k=d.$split(",",2),f=a.to_ary(k),d=null==f[0]?c:f[0],k);if((f=d["$empty?"]())===c||null==f||f.$$is_boolean&&1!=f){if((f=(k=!1!==(l=d["$start_with?"]("."))&&l!==c&&null!=l?l:d["$start_with?"]("#"),
!1!==k&&k!==c&&null!=k?g.get("Compliance").$shorthand_property_syntax():k))===c||null==f||f.$$is_boolean&&1!=f)return b(["role"],{role:d});m=d.$split("#",2);(f=h(m.$length(),1))===c||null==f||f.$$is_boolean&&1!=f?(r=c,x=[]):(k=m["$[]"](1).$split("."),f=a.to_ary(k),r=null==f[0]?c:f[0],x=e.call(f,1),k);m=(f=m["$[]"](0)["$empty?"]())===c||null==f||f.$$is_boolean&&1!=f?m["$[]"](0).$split("."):[];(f=h(m.$length(),1))===c||null==f||f.$$is_boolean&&1!=f||m.$shift();(f=h(x.$length(),0))===c||null==f||f.$$is_boolean&&
1!=f||m.$concat(x);x=b([],{});if(!1!==r&&r!==c&&null!=r)x["$[]="]("id",r);if((f=m["$empty?"]())===c||null==f||f.$$is_boolean&&1!=f)x["$[]="]("role",n(m," "));return x}return b([],{})},aa.$$arity=1);a.defn(p,"$parse_attributes",ca=function(a,e,d){var f,h=c,k=c;null==this.document&&(this.document=c);null==e&&(e=["role"]);null==d&&(d=b([],{}));if(!1===a||a===c||null==a)return c;if((f=a["$empty?"]())!==c&&null!=f&&(!f.$$is_boolean||1==f))return b([],{});(f=d["$[]"]("sub_input"))===c||null==f||f.$$is_boolean&&
1!=f||(a=this.document.$sub_attributes(a));(f=d["$[]"]("unescape_input"))===c||null==f||f.$$is_boolean&&1!=f||(a=this.$unescape_bracketed_text(a));h=c;(f=d.$fetch("sub_result",!0))===c||null==f||f.$$is_boolean&&1!=f||(h=this);return(f=k=d["$[]"]("into"))===c||null==f||f.$$is_boolean&&1!=f?g.get("AttributeList").$new(a,h).$parse(e):g.get("AttributeList").$new(a,h).$parse_into(k,e)},ca.$$arity=-2);a.defn(p,"$unescape_bracketed_text",da=function(b){var a;return(a=b["$empty?"]())===c||null==a||a.$$is_boolean&&
1!=a?b.$strip().$tr(g.get("EOL")," ").$gsub("\\]","]"):""},da.$$arity=1);a.defn(p,"$normalize_string",N=function(b,a){var e;null==a&&(a=!1);return(e=b["$empty?"]())===c||null==e||e.$$is_boolean&&1!=e?!1!==a&&a!==c&&null!=a?this.$unescape_brackets(b.$strip().$tr(g.get("EOL")," ")):b.$strip().$tr(g.get("EOL")," "):""},N.$$arity=-2);a.defn(p,"$unescape_brackets",B=function(a){var b;return(b=a["$empty?"]())===c||null==b||b.$$is_boolean&&1!=b?a.$gsub("\\]","]"):""},B.$$arity=1);a.defn(p,"$split_simple_csv",
Z=function(b){var a,e,d,f,g=c,h=c,k=c;(a=b["$empty?"]())===c||null==a||a.$$is_boolean&&1!=a?(a=b["$include?"]('"'))===c||null==a||a.$$is_boolean&&1!=a?g=(a=(d=b.$split(",")).$map,a.$$p=(f=function(a){null==a&&(a=c);return a.$strip()},f.$$s=this,f.$$arity=1,f),a).call(d):(g=[],h=[],k=!1,(a=b.$each_char,a.$$p=(e=function(a){var b=c;null==a&&(a=c);return function(){b=a;if(","["$==="](b)){if(!1!==k&&k!==c&&null!=k)return h.$push(a);g["$<<"](h.$join().$strip());return h=[]}return'"'["$==="](b)?k=k["$!"]():
h.$push(a)}()},e.$$s=this,e.$$arity=1,e),a).call(b),g["$<<"](h.$join().$strip())):g=[];return g},Z.$$arity=1);a.defn(p,"$resolve_subs",x=function(a,b,e,d){var k,r,x,q=c,p=c,t=c,w=c;null==b&&(b="block");null==e&&(e=c);null==d&&(d=c);if((k=a["$nil_or_empty?"]())!==c&&null!=k&&(!k.$$is_boolean||1==k))return[];q=c;p=g.get("SubModifierSniffRx")["$=~"](a);(k=(r=a.$tr(" ","").$split(",")).$each,k.$$p=(x=function(a){var d,h,l,k=c,n=h=h=h=c,k=c;null==a&&(a=c);k=c;!1!==p&&p!==c&&null!=p&&((h=a.$chr())["$=="]("+")?
(k="append",a=a["$[]"](H(1,-1,!1))):h["$=="]("-")?(k="remove",a=a["$[]"](H(1,-1,!1))):(d=a["$end_with?"]("+"))===c||null==d||d.$$is_boolean&&1!=d||(k="prepend",a=a.$chop()));a=a.$to_sym();(d=(h=b["$=="]("inline"))?!1!==(l=a["$=="]("verbatim"))&&l!==c&&null!=l?l:a["$=="]("v"):b["$=="]("inline"))===c||null==d||d.$$is_boolean&&1!=d?(d=g.get("COMPOSITE_SUBS")["$key?"](a))===c||null==d||d.$$is_boolean&&1!=d?(d=(h=b["$=="]("inline")?a.$length()["$=="](1):b["$=="]("inline"),!1!==h&&h!==c&&null!=h?g.get("SUB_SYMBOLS")["$key?"](a):
h))===c||null==d||d.$$is_boolean&&1!=d?h=[a]:(h=g.get("SUB_SYMBOLS")["$[]"](a),h=(d=n=g.get("COMPOSITE_SUBS")["$[]"](h))===c||null==d||d.$$is_boolean&&1!=d?[h]:n):h=g.get("COMPOSITE_SUBS")["$[]"](a):h=["specialcharacters"];if(!1!==k&&k!==c&&null!=k)return!1!==(d=q)&&d!==c&&null!=d?d:q=!1!==e&&e!==c&&null!=e?e.$dup():[],"append"["$==="](k)?q=m(q,h):"prepend"["$==="](k)?q=m(h,q):"remove"["$==="](k)?q=f(q,h):c;!1!==(d=q)&&d!==c&&null!=d?d:q=[];return q=m(q,h)},x.$$s=this,x.$$arity=1,x),k).call(r);t=
q["$&"](g.get("SUB_OPTIONS")["$[]"](b));if((k=f(q,t)["$empty?"]())===c||null==k||k.$$is_boolean&&1!=k)w=f(q,t),this.$warn("asciidoctor: WARNING: invalid substitution type"+((k=h(w.$size(),1))===c||null==k||k.$$is_boolean&&1!=k?"":"s")+(!1!==d&&d!==c&&null!=d?" for ":c)+d+": "+n(w,", "));return t},x.$$arity=-2);a.defn(p,"$resolve_block_subs",E=function(a,b,c){return this.$resolve_subs(a,"block",b,c)},E.$$arity=3);a.defn(p,"$resolve_pass_subs",fa=function(a){return this.$resolve_subs(a,"inline",c,"passthrough macro")},
fa.$$arity=1);a.defn(p,"$highlight_source",ia=function(e,d,f){var h,k,r,x,q,p=c,w=c,v=c,E=c,B=c,N=c,R=c,G=w=c,Z=c,z=p=c,pa=c;null==this.document&&(this.document=c);null==this.passthroughs&&(this.passthroughs=c);null==f&&(f=c);p=!1!==(h=f)&&h!==c&&null!=h?h:f=this.document.$attributes()["$[]"]("source-highlighter");if("coderay"["$==="](p)){if((h=!1!==(k=w=null==a.Object.$$scope.CodeRay?c:"constant")&&k!==c&&null!=k?k:this.document.$attributes()["$[]"]("coderay-unavailable"))===c||null==h||h.$$is_boolean&&
1!=h)(h=g.get("Helpers").$require_library("coderay",!0,"warn")["$nil?"]())===c||null==h||h.$$is_boolean&&1!=h?w=!0:this.document.$set_attr("coderay-unavailable","")}else if("pygments"["$==="](p)){if((h=!1!==(k=w=null==a.Object.$$scope.Pygments?c:"constant")&&k!==c&&null!=k?k:this.document.$attributes()["$[]"]("pygments-unavailable"))===c||null==h||h.$$is_boolean&&1!=h)(h=g.get("Helpers").$require_library("pygments","pygments.rb","warn")["$nil?"]())===c||null==h||h.$$is_boolean&&1!=h?w=!0:this.document.$set_attr("pygments-unavailable",
"")}else w=!1;if(!1===w||w===c||null==w)return this.$sub_source(e,d);v=0;E=!1;!1!==d&&d!==c&&null!=d?(B=b([],{}),N=-1,R=(h=this["$attr?"]("line-comment"))===c||null==h||h.$$is_boolean&&1!=h?g.get("CalloutExtractRx"):new RegExp("(?:"+a.get("Regexp").$escape(this.$attr("line-comment"))+" )?"+g.get("CalloutExtractRxt")),e=n((h=(k=e.$split(g.get("EOL"))).$map,h.$$p=(r=function(a){var b=r.$$s||this,e,d,f;null==a&&(a=c);v=m(v,1);return(e=(d=a).$gsub,e.$$p=(f=function(){var a,b,e,d=c;null==t["~"]&&(t["~"]=
c);d=t["~"];if(d["$[]"](1)["$=="]("\\"))return d["$[]"](0).$sub("\\","");(a=v,b=B,!1!==(e=b["$[]"](a))&&e!==c&&null!=e?e:b["$[]="](a,[]))["$<<"](d["$[]"](3));N=v;return c},f.$$s=b,f.$$arity=0,f),e).call(d,R)},r.$$s=this,r.$$arity=1,r),h).call(k),g.get("EOL")),E=N["$=="](v),(h=B["$empty?"]())===c||null==h||h.$$is_boolean&&1!=h||(B=c)):B=c;G=w=c;p=f;if("coderay"["$==="](p))(h=w=(x=this["$attr?"]("linenums"))===c||null==x||x.$$is_boolean&&1!=x?c:(!1!==(x=this.document.$attributes()["$[]"]("coderay-linenums-mode"))&&
x!==c&&null!=x?x:"table").$to_sym())===c||null==h||h.$$is_boolean&&1!=h||(h=this["$attr?"]("highlight",c,!1))===c||null==h||h.$$is_boolean&&1!=h||(G=this.$resolve_highlight_lines(this.$attr("highlight",c,!1))),Z=a.get("CodeRay").$$scope.get("Duo")["$[]"](this.$attr("language","text",!1).$to_sym(),"html",b(["css","line_numbers","line_number_anchors","highlight_lines","bold_every"],{css:(!1!==(h=this.document.$attributes()["$[]"]("coderay-css"))&&h!==c&&null!=h?h:"class").$to_sym(),line_numbers:w,line_number_anchors:!1,
highlight_lines:G,bold_every:!1})).$highlight(e);else if("pygments"["$==="](p)){p=!1!==(h=a.get("Pygments").$$scope.get("Lexer")["$[]"](this.$attr("language",c,!1)))&&h!==c&&null!=h?h:a.get("Pygments").$$scope.get("Lexer")["$[]"]("text");z=b(["cssclass","classprefix","nobackground"],{cssclass:"pyhl",classprefix:"tok-",nobackground:!0});(!1!==(h=this.document.$attributes()["$[]"]("pygments-css"))&&h!==c&&null!=h?h:"class")["$=="]("class")||(z["$[]="]("noclasses",!0),z["$[]="]("style",!1!==(h=this.document.$attributes()["$[]"]("pygments-style"))&&
h!==c&&null!=h?h:g.get("Stylesheets").$$scope.get("DEFAULT_PYGMENTS_STYLE")));if((h=this["$attr?"]("highlight",c,!1))!==c&&null!=h&&(!h.$$is_boolean||1==h)&&((h=(G=this.$resolve_highlight_lines(this.$attr("highlight",c,!1)))["$empty?"]())===c||null==h||h.$$is_boolean&&1!=h))z["$[]="]("hl_lines",n(G," "));(h=this["$attr?"]("linenums"))===c||null==h||h.$$is_boolean&&1!=h?(z["$[]="]("nowrap",!0),Z=p.$highlight(e,b(["options"],{options:z}))):z["$[]="]("linenos",!1!==(h=this.document.$attributes()["$[]"]("pygments-linenums-mode"))&&
h!==c&&null!=h?h:"table")["$=="]("table")?(w="table",Z=p.$highlight(e,b(["options"],{options:z})).$sub(/<div class="pyhl">(.*)<\/div>/m,"\\1").$gsub(/<pre[^>]*>(.*?)<\/pre>\s*/m,"\\1")):Z=p.$highlight(e,b(["options"],{options:z})).$sub(/<div class="pyhl"><pre[^>]*>(.*?)<\/pre><\/div>/m,"\\1")}if((h=this.passthroughs["$empty?"]())===c||null==h||h.$$is_boolean&&1!=h)Z=Z.$gsub(g.get("PASS_MATCH_HI"),""+g.get("PASS_START")+"\\1"+g.get("PASS_END"));if((h=(x=!1!==d&&d!==c&&null!=d)?B:d)===c||null==h||h.$$is_boolean&&
1!=h)return Z;v=0;pa=w["$!="]("table");return n((h=(x=Z.$split(g.get("EOL"))).$map,h.$$p=(q=function(a){var e=q.$$s||this,d,f,h,k=c,l=c,r=c,k=c;null==e.document&&(e.document=c);null==a&&(a=c);if(!1===pa||pa===c||null==pa){if((d=a["$include?"]('<td class="code">'))===c||null==d||d.$$is_boolean&&1!=d)return a;pa=!0}v=m(v,1);if((d=k=B.$delete(v))===c||null==d||d.$$is_boolean&&1!=d)return a;l=c;(d=(f=!1!==E&&E!==c&&null!=E)?B["$empty?"]():E)===c||null==d||d.$$is_boolean&&1!=d||((d=r=a.$index("</pre>"))===
c||null==d||d.$$is_boolean&&1!=d?a=""+a.$chomp(" ")+" ":(l=a["$[]"](H(r,-1,!1)),a=""+a["$[]"](H(0,r,!0)).$chomp(" ")+" "));if(k.$size()["$=="](1))return""+a+g.get("Inline").$new(e,"callout",k["$[]"](0),b(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()+l;k=n((d=(f=k).$map,d.$$p=(h=function(a){var e=h.$$s||this;null==e.document&&(e.document=c);null==a&&(a=c);return g.get("Inline").$new(e,"callout",a,b(["id"],{id:e.document.$callouts().$read_next_id()})).$convert()},h.$$s=e,h.$$arity=
1,h),d).call(f)," ");return""+a+k+l},q.$$s=this,q.$$arity=1,q),h).call(x),g.get("EOL"))},ia.$$arity=-3);a.defn(p,"$resolve_highlight_lines",ja=function(b){var e,d,h,k=c,k=[];(e=(d=b.$delete(" ").$split(g.get("DataDelimiterRx"))).$map,e.$$p=(h=function(b){var e,d=c,g=c,h=c,g=c;null==b&&(b=c);d=!1;(e=b["$start_with?"]("!"))===c||null==e||e.$$is_boolean&&1!=e||(b=b["$[]"](H(1,-1,!1)),d=!0);if((e=b["$include?"]("-"))===c||null==e||e.$$is_boolean&&1!=e)return!1!==d&&d!==c&&null!=d?k.$delete(b.$to_i()):
k["$<<"](b.$to_i());b=b.$split("-",2);e=a.to_ary(b);g=null==e[0]?c:e[0];h=null==e[1]?c:e[1];b;g=H(g.$to_i(),h.$to_i(),!1).$to_a();return!1!==d&&d!==c&&null!=d?k=f(k,g):k.$concat(g)},h.$$s=this,h.$$arity=1,h),e).call(d);return k.$sort().$uniq()},ja.$$arity=1);a.defn(p,"$sub_source",ma=function(a,b){return!1!==b&&b!==c&&null!=b?this.$sub_callouts(this.$sub_specialchars(a)):this.$sub_specialchars(a)},ma.$$arity=2);a.defn(p,"$lock_in_subs",na=function(){var a,b,e,d,f,h=c,k=h=c;null==this.default_subs&&
(this.default_subs=c);null==this.content_model&&(this.content_model=c);null==this.context&&(this.context=c);null==this.attributes&&(this.attributes=c);null==this.style&&(this.style=c);null==this.document&&(this.document=c);null==this.subs&&(this.subs=c);if((a=this.default_subs)===c||null==a||a.$$is_boolean&&1!=a)if(h=this.content_model,"simple"["$==="](h))h=g.get("SUBS")["$[]"]("normal");else if("verbatim"["$==="](h))h=(a=!1!==(b=this.context["$=="]("listing"))&&b!==c&&null!=b?b:(e=this.context["$=="]("literal"))?
this["$option?"]("listparagraph")["$!"]():this.context["$=="]("literal"))===c||null==a||a.$$is_boolean&&1!=a?this.context["$=="]("verse")?g.get("SUBS")["$[]"]("normal"):g.get("SUBS")["$[]"]("basic"):g.get("SUBS")["$[]"]("verbatim");else if("raw"["$==="](h))h=this.context["$=="]("stem")?g.get("SUBS")["$[]"]("basic"):g.get("SUBS")["$[]"]("pass");else return c;else h=this.default_subs;(a=k=this.attributes["$[]"]("subs"))===c||null==a||a.$$is_boolean&&1!=a?this.subs=h.$dup():this.subs=this.$resolve_block_subs(k,
h,this.context);return(a=(b=(e=(d=this.context["$=="]("listing")?this.style["$=="]("source"):this.context["$=="]("listing"),!1!==d&&d!==c&&null!=d?this.attributes["$[]"]("language"):d),!1!==e&&e!==c&&null!=e?this.document["$basebackend?"]("html"):e),!1!==b&&b!==c&&null!=b?g.get("SUB_HIGHLIGHT")["$include?"](this.document.$attributes()["$[]"]("source-highlighter")):b))===c||null==a||a.$$is_boolean&&1!=a?c:this.subs=(a=(b=this.subs).$map,a.$$p=(f=function(a){null==a&&(a=c);return a["$=="]("specialcharacters")?
"highlight":a},f.$$s=this,f.$$arity=1,f),a).call(b)},na.$$arity=0)})(d(w,"Asciidoctor").$$scope.base)}(a.base)};
Opal.modules["asciidoctor/abstract_node"]=function(a){function m(a,e){return"number"===typeof a&&"number"===typeof e?a*e:a["$*"](e)}function n(a,e){return"number"===typeof a&&"number"===typeof e?a<e:a["$<"](e)}var h=a.nil,f=a.module,c=a.klass,e=a.hash2,d=a.range;a.add_stubs("$include $attr_reader $attr_accessor $== $document $to_s $key? $dup $[] $raise $=== $attributes $nil? $has_key? $[]= $update $converter $include? $split $* $push $delete $attr? $empty? $extname $image_uri $attr $normalize_web_path $< $safe $uriish? $generate_data_uri_from_uri $generate_data_uri $normalize_system_path $readable? $warn $respond_to? $binread $open $read $encode64 $require_library $! $content_type $web_path $new $open_uri $normalize_lines_from_string $fetch $read_asset $!= $is_root? $join $base_dir $system_path".split(" "));return function(b){(function(b,
$super){function f(){}var p=f=c(b,$super,"AbstractNode",f),g=p.$$proto,L=p.$$scope,v,z,I,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B,Z,x,E,fa,ia,ja,ma,na,ka;g.document=g.attributes=g.path_resolver=h;p.$include(L.get("Substitutors"));p.$attr_reader("parent");p.$attr_reader("document");p.$attr_reader("context");p.$attr_reader("node_name");p.$attr_accessor("id");p.$attr_reader("attributes");a.defn(p,"$initialize",v=function(a,b,d){var c;null==d&&(d=e([],{}));b["$=="]("document")?this.document=a:!1!==a&&a!==
h&&null!=a?(this.parent=a,this.document=a.$document()):this.document=this.parent=h;this.context=b;this.node_name=b.$to_s();this.attributes=(c=d["$key?"]("attributes"))===h||null==c||c.$$is_boolean&&1!=c?e([],{}):d["$[]"]("attributes").$dup();return this.passthroughs=e([],{})},v.$$arity=-3);a.defn(p,"$parent=",z=function(a){this.parent=a;this.document=a.$document();return h},z.$$arity=1);a.defn(p,"$inline?",I=function(){return this.$raise(a.get("NotImplementedError"))},I.$$arity=0);a.defn(p,"$block?",
F=function(){return this.$raise(a.get("NotImplementedError"))},F.$$arity=0);a.defn(p,"$attr",C=function(b,e,d){var c,f;null==e&&(e=h);null==d&&(d=!0);(c=a.get("Symbol")["$==="](b))===h||null==c||c.$$is_boolean&&1!=c||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return!1!==d&&d!==h&&null!=d?!1!==(c=!1!==(f=this.attributes["$[]"](b))&&f!==h&&null!=f?f:this.document.$attributes()["$[]"](b))&&c!==h&&null!=c?c:e:!1!==(c=this.attributes["$[]"](b))&&c!==h&&null!=c?c:e},C.$$arity=-2);a.defn(p,"$attr?",
r=function(b,e,d){var c;null==e&&(e=h);null==d&&(d=!0);(c=a.get("Symbol")["$==="](b))===h||null==c||c.$$is_boolean&&1!=c||(b=b.$to_s());this["$=="](this.document)&&(d=!1);return(c=e["$nil?"]())===h||null==c||c.$$is_boolean&&1!=c?!1!==d&&d!==h&&null!=d?e["$=="](!1!==(c=this.attributes["$[]"](b))&&c!==h&&null!=c?c:this.document.$attributes()["$[]"](b)):e["$=="](this.attributes["$[]"](b)):!1!==(c=this.attributes["$has_key?"](b))&&c!==h&&null!=c?c:!1!==d&&d!==h&&null!=d?this.document.$attributes()["$has_key?"](b):
d},r.$$arity=-2);a.defn(p,"$set_attr",Q=function(a,b,e){var d;null==e&&(e=!0);return(d=e["$=="](!1)?this.attributes["$key?"](a):e["$=="](!1))===h||null==d||d.$$is_boolean&&1!=d?(this.attributes["$[]="](a,b),!0):!1},Q.$$arity=-3);a.defn(p,"$set_option",O=function(a){var b;if((b=this.attributes["$has_key?"]("options"))===h||null==b||b.$$is_boolean&&1!=b)this.attributes["$[]="]("options",a);else this.attributes["$[]="]("options",""+this.attributes["$[]"]("options")+","+a);return this.attributes["$[]="](""+
a+"-option","")},O.$$arity=1);a.defn(p,"$option?",S=function(a){return this.attributes["$has_key?"](""+a+"-option")},S.$$arity=1);a.defn(p,"$update_attributes",M=function(a){this.attributes.$update(a);return h},M.$$arity=1);a.defn(p,"$converter",R=function(){return this.document.$converter()},R.$$arity=0);a.defn(p,"$role?",q=function(a){var b;null==a&&(a=h);return!1!==a&&a!==h&&null!=a?a["$=="](!1!==(b=this.attributes["$[]"]("role"))&&b!==h&&null!=b?b:this.document.$attributes()["$[]"]("role")):!1!==
(b=this.attributes["$has_key?"]("role"))&&b!==h&&null!=b?b:this.document.$attributes()["$has_key?"]("role")},q.$$arity=-1);a.defn(p,"$role",k=function(){var a;return!1!==(a=this.attributes["$[]"]("role"))&&a!==h&&null!=a?a:this.document.$attributes()["$[]"]("role")},k.$$arity=0);a.defn(p,"$has_role?",Y=function(a){var b,e,d=h;return(b=d=!1!==(e=this.attributes["$[]"]("role"))&&e!==h&&null!=e?e:this.document.$attributes()["$[]"]("role"))===h||null==b||b.$$is_boolean&&1!=b?!1:d.$split(" ")["$include?"](a)},
Y.$$arity=1);a.defn(p,"$roles",G=function(){var a,b,e=h;return(a=e=!1!==(b=this.attributes["$[]"]("role"))&&b!==h&&null!=b?b:this.document.$attributes()["$[]"]("role"))===h||null==a||a.$$is_boolean&&1!=a?[]:e.$split(" ")},G.$$arity=0);a.defn(p,"$add_role",V=function(a){var b,e,d=h;return(b=(d=(!1!==(e=this.attributes["$[]"]("role"))&&e!==h&&null!=e?e:"").$split(" "))["$include?"](a))===h||null==b||b.$$is_boolean&&1!=b?this.attributes["$[]="]("role",m(d.$push(a)," ")):h},V.$$arity=1);a.defn(p,"$remove_role",
aa=function(a){var b,e,d=h;if((b=(d=(!1!==(e=this.attributes["$[]"]("role"))&&e!==h&&null!=e?e:"").$split(" "))["$include?"](a))===h||null==b||b.$$is_boolean&&1!=b)return h;d.$delete(a);return this.attributes["$[]="]("role",m(d," "))},aa.$$arity=1);a.defn(p,"$reftext?",ca=function(){var a;return!1!==(a=this.attributes["$has_key?"]("reftext"))&&a!==h&&null!=a?a:this.document.$attributes()["$has_key?"]("reftext")},ca.$$arity=0);a.defn(p,"$reftext",da=function(){var a;return!1!==(a=this.attributes["$[]"]("reftext"))&&
a!==h&&null!=a?a:this.document.$attributes()["$[]"]("reftext")},da.$$arity=0);a.defn(p,"$icon_uri",N=function(b){var e,d=h;return(e=this["$attr?"]("icon"))===h||null==e||e.$$is_boolean&&1!=e?this.$image_uri(""+b+"."+this.document.$attr("icontype","png"),"iconsdir"):(e=a.get("File").$extname(d=this.$image_uri(this.$attr("icon"),"iconsdir"))["$empty?"]())===h||null==e||e.$$is_boolean&&1!=e?d:""+d+"."+this.document.$attr("icontype","png")},N.$$arity=1);a.defn(p,"$media_uri",B=function(a,b){null==b&&
(b="imagesdir");return this.$normalize_web_path(a,!1!==b&&b!==h&&null!=b?this.document.$attr(b):h)},B.$$arity=-2);a.defn(p,"$image_uri",Z=function(a,b){var e,d,c,f,g=h,k=h;null==b&&(b="imagesdir");return(e=(d=n((g=this.document).$safe(),L.get("SafeMode").$$scope.get("SECURE")),!1!==d&&d!==h&&null!=d?g["$attr?"]("data-uri"):d))===h||null==e||e.$$is_boolean&&1!=e?this.$normalize_web_path(a,!1!==b&&b!==h&&null!=b?g.$attr(b):h):(e=!1!==(d=L.get("Helpers")["$uriish?"](a))&&d!==h&&null!=d?d:(c=(f=!1!==
b&&b!==h&&null!=b?k=g.$attr(b):b,!1!==f&&f!==h&&null!=f?L.get("Helpers")["$uriish?"](k):f),!1!==c&&c!==h&&null!=c?a=this.$normalize_web_path(a,k,!1):c))===h||null==e||e.$$is_boolean&&1!=e?this.$generate_data_uri(a,b):(e=g["$attr?"]("allow-uri-read"))===h||null==e||e.$$is_boolean&&1!=e?a:this.$generate_data_uri_from_uri(a,g["$attr?"]("cache-uri"))},Z.$$arity=-2);a.defn(p,"$generate_data_uri",x=function(b,c){var f,g,k,m=h,n=m=h,r=h;null==c&&(c=h);m=a.get("File").$extname(b);m=m["$=="](".svg")?"image/svg+xml":
"image/"+m["$[]"](d(1,-1,!1));n=!1!==c&&c!==h&&null!=c?this.$normalize_system_path(b,this.document.$attr(c),h,e(["target_name"],{target_name:"image"})):this.$normalize_system_path(b);if((f=a.get("File")["$readable?"](n))===h||null==f||f.$$is_boolean&&1!=f)return this.$warn("asciidoctor: WARNING: image to embed not found or not readable: "+n),"data:"+m+":base64,";r=h;r=(f=a.get("IO")["$respond_to?"]("binread"))===h||null==f||f.$$is_boolean&&1!=f?(f=(g=a.get("File")).$open,f.$$p=(k=function(a){null==
a&&(a=h);return a.$read()},k.$$s=this,k.$$arity=1,k),f).call(g,n,"rb"):a.get("IO").$binread(n);return"data:"+m+";base64,"+a.get("Base64").$encode64(r).$delete(L.get("EOL"))},x.$$arity=-2);a.defn(p,"$generate_data_uri_from_uri",E=function(b,e){var d,c,f=h,g=h;null==e&&(e=!1);!1!==e&&e!==h&&null!=e?L.get("Helpers").$require_library("open-uri/cached","open-uri-cached"):(d=a.get("RUBY_ENGINE_OPAL")["$!"]())===h||null==d||d.$$is_boolean&&1!=d||a.get("OpenURI");try{return f=h,g=(d=this.$open,d.$$p=(c=function(a){null==
a&&(a=h);f=a.$content_type();return a.$read()},c.$$s=this,c.$$arity=1,c),d).call(this,b,"rb"),"data:"+f+";base64,"+a.get("Base64").$encode64(g).$delete(L.get("EOL"))}catch(k){if(a.rescue(k,[L.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: could not retrieve image data from URI: "+b),b}finally{a.pop_exception()}else throw k;}},E.$$arity=-2);a.defn(p,"$read_contents",fa=function(b,d){var c,f,g,k,n,r=h,x=h,q=h;null==d&&(d=e([],{}));r=this.document;if((c=!1!==(f=L.get("Helpers")["$uriish?"](b))&&
f!==h&&null!=f?f:(g=(k=x=d["$[]"]("start"),!1!==k&&k!==h&&null!=k?L.get("Helpers")["$uriish?"](x):k),!1!==g&&g!==h&&null!=g?b=(!1!==(k=this.path_resolver)&&k!==h&&null!=k?k:this.path_resolver=L.get("PathResolver").$new()).$web_path(b,x):g))===h||null==c||c.$$is_boolean&&1!=c)b=this.$normalize_system_path(b,d["$[]"]("start"),h,e(["target_name"],{target_name:!1!==(c=d["$[]"]("label"))&&c!==h&&null!=c?c:"asset"})),q=this.$read_asset(b,e(["normalize","warn_on_failure"],{normalize:d["$[]"]("normalize"),
warn_on_failure:d.$fetch("warn_on_failure",!0)}));else if((c=r["$attr?"]("allow-uri-read"))===h||null==c||c.$$is_boolean&&1!=c)(c=d.$fetch("warn_on_failure",!0))===h||null==c||c.$$is_boolean&&1!=c||this.$warn("asciidoctor: WARNING: cannot retrieve contents of "+(!1!==(c=d["$[]"]("label"))&&c!==h&&null!=c?c:"asset")+" at URI: "+b+" (allow-uri-read attribute not enabled)"),q=h;else{(c=r["$attr?"]("cache-uri"))===h||null==c||c.$$is_boolean&&1!=c||L.get("Helpers").$require_library("open-uri/cached","open-uri-cached");
try{q=(c=(f=a.get("OpenURI")).$open_uri,c.$$p=(n=function(a){null==a&&(a=h);return a.$read()},n.$$s=this,n.$$arity=1,n),c).call(f,b),(c=d["$[]"]("normalize"))===h||null==c||c.$$is_boolean&&1!=c||(q=m(L.get("Helpers").$normalize_lines_from_string(q),L.get("EOL")))}catch(p){if(a.rescue(p,[L.get("StandardError")]))try{(c=d.$fetch("warn_on_failure",!0))===h||null==c||c.$$is_boolean&&1!=c||this.$warn("asciidoctor: WARNING: could not retrieve contents of "+(!1!==(c=d["$[]"]("label"))&&c!==h&&null!=c?c:
"asset")+" at URI: "+b),q=h}finally{a.pop_exception()}else throw p;}}return q},fa.$$arity=-2);a.defn(p,"$read_asset",ia=function(b,c){var d;null==c&&(c=e([],{}));if((d=a.get("Hash")["$==="](c))===h||null==d||d.$$is_boolean&&1!=d)c=e(["warn_on_failure"],{warn_on_failure:c["$!="](!1)});return(d=a.get("File")["$readable?"](b))===h||null==d||d.$$is_boolean&&1!=d?((d=c["$[]"]("warn_on_failure"))===h||null==d||d.$$is_boolean&&1!=d||this.$warn("asciidoctor: WARNING: file does not exist or cannot be read: "+
b),h):(d=c["$[]"]("normalize"))===h||null==d||d.$$is_boolean&&1!=d?a.get("IO").$read(b):m(L.get("Helpers").$normalize_lines_from_string(a.get("IO").$read(b)),L.get("EOL"))},ia.$$arity=-2);a.defn(p,"$normalize_web_path",ja=function(a,b,e){var d;null==b&&(b=h);null==e&&(e=!0);return(d=!1!==e&&e!==h&&null!=e?L.get("Helpers")["$uriish?"](a):e)===h||null==d||d.$$is_boolean&&1!=d?(!1!==(d=this.path_resolver)&&d!==h&&null!=d?d:this.path_resolver=L.get("PathResolver").$new()).$web_path(a,b):a},ja.$$arity=
-2);a.defn(p,"$normalize_system_path",ma=function(b,d,c,f){var g,k=h,m=h;null==d&&(d=h);null==c&&(c=h);null==f&&(f=e([],{}));k=!1!==(g=this.path_resolver)&&g!==h&&null!=g?g:this.path_resolver=L.get("PathResolver").$new();if((g=n((m=this.document).$safe(),L.get("SafeMode").$$scope.get("SAFE")))===h||null==g||g.$$is_boolean&&1!=g){if(!1===d||d===h||null==d)d=m.$base_dir();if(!1===c||c===h||null==c)c=m.$base_dir()}else if(!1!==d&&d!==h&&null!=d){if((g=k["$is_root?"](d))===h||null==g||g.$$is_boolean&&
1!=g)d=a.get("File").$join(m.$base_dir(),d)}else d=m.$base_dir();return k.$system_path(b,d,c,f)},ma.$$arity=-2);a.defn(p,"$normalize_asset_path",na=function(a,b,d){null==b&&(b="path");null==d&&(d=!0);return this.$normalize_system_path(a,this.document.$base_dir(),h,e(["target_name","recover"],{target_name:b,recover:d}))},na.$$arity=-2);return(a.defn(p,"$is_uri?",ka=function(a){return L.get("Helpers")["$uriish?"](a)},ka.$$arity=1),h)&&"is_uri?"})(f(b,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/abstract_block"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}var h=a.nil,f=a.module,c=a.klass,e=a.hash2;a.add_stubs("$attr_accessor $attr_reader $attr_writer $== $!= $level $to_s $playback_attributes $convert $converter $* $map $file $lineno $include? $! $nil_or_empty? $apply_title_subs $title $empty? $<< $select $context $> $[] $has_role? $header? $concat $find_by $to_proc $each $flatten $delete $title? $attributes $counter_increment $index= $+ $sectname $counter $numbered $number= $attr $caption= $special $doctype $assign_index $reindex_sections".split(" "));
return function(d){d=f(d,"Asciidoctor").$$scope;(function(b,$super){function d(){}var f=d=c(b,$super,"AbstractBlock",d),p=f.$$proto,g=f.$$scope,L,v,z,I,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B;p.document=p.attributes=p.blocks=p.source_location=p.subs=p.title=p.subbed_title=p.caption=p.next_section_index=p.context=p.style=p.id=p.header=p.next_section_number=h;f.$attr_accessor("content_model");f.$attr_reader("subs");f.$attr_reader("blocks");f.$attr_accessor("level");f.$attr_writer("title");f.$attr_accessor("style");
f.$attr_accessor("caption");f.$attr_accessor("source_location");a.defn(f,"$initialize",L=function(b,d,c){var f,g=L.$$p,k=h,m=h;null==c&&(c=e([],{}));L.$$p=null;k=[];for(m=0;m<arguments.length;m++)k[m]=arguments[m];(f=a.find_super_dispatcher(this,"initialize",L,!1),f.$$p=g,f).apply(this,k);this.content_model="compound";this.subs=[];this.default_subs=h;this.blocks=[];this.style=this.caption=this.title=this.id=h;this.level=d["$=="]("document")?0:(f=!1!==b&&b!==h&&null!=b?d["$!="]("section"):b)===h||
null==f||f.$$is_boolean&&1!=f?h:b.$level();this.next_section_index=0;this.next_section_number=1;return this.source_location=h},L.$$arity=-3);a.defn(f,"$block?",v=function(){return!0},v.$$arity=0);a.defn(f,"$inline?",z=function(){return!1},z.$$arity=0);a.defn(f,"$context=",I=function(a){this.context=a;return this.node_name=a.$to_s()},I.$$arity=1);a.defn(f,"$convert",F=function(){this.document.$playback_attributes(this.attributes);return this.$converter().$convert(this)},F.$$arity=0);a.alias(f,"render",
"convert");a.defn(f,"$content",C=function(){var a,b,d;return m((a=(b=this.blocks).$map,a.$$p=(d=function(a){null==a&&(a=h);return a.$convert()},d.$$s=this,d.$$arity=1,d),a).call(b),g.get("EOL"))},C.$$arity=0);a.defn(f,"$file",r=function(){var a;return(a=this.source_location)===h||null==a||a.$$is_boolean&&1!=a?h:this.source_location.$file()},r.$$arity=0);a.defn(f,"$lineno",Q=function(){var a;return(a=this.source_location)===h||null==a||a.$$is_boolean&&1!=a?h:this.source_location.$lineno()},Q.$$arity=
0);a.defn(f,"$sub?",O=function(a){return this.subs["$include?"](a)},O.$$arity=1);a.defn(f,"$title?",S=function(){return this.title["$nil_or_empty?"]()["$!"]()},S.$$arity=0);a.defn(f,"$title",M=function(){var a,b;return(a=(b=this.subbed_title,null!=b&&b!==h)?"instance-variable":h)===h||null==a||a.$$is_boolean&&1!=a?(a=this.title)===h||null==a||a.$$is_boolean&&1!=a?this.title:this.subbed_title=this.$apply_title_subs(this.title):this.subbed_title},M.$$arity=0);a.defn(f,"$captioned_title",R=function(){return""+
this.caption+this.$title()},R.$$arity=0);a.defn(f,"$blocks?",q=function(){return this.blocks["$empty?"]()["$!"]()},q.$$arity=0);a.defn(f,"$<<",k=function(a){this.blocks["$<<"](a);return this},k.$$arity=1);a.alias(f,"append","<<");a.defn(f,"$sections",Y=function(){var a,b,d;return(a=(b=this.blocks).$select,a.$$p=(d=function(a){null==a&&(a=h);return a.$context()["$=="]("section")},d.$$s=this,d.$$arity=1,d),a).call(b)},Y.$$arity=0);a.defn(f,"$sections?",G=function(){var a=this.next_section_index;return"number"===
typeof a?0<a:a["$>"](0)},G.$$arity=0);a.defn(f,"$find_by",V=function(b){var d,c,f,g,k,m,n,r=V.$$p||h,q=h,p=h,l=h,v=h,w=h,B=h;null==b&&(b=e([],{}));V.$$p=null;q=[];if((d=(c=(f=(g=!1!==(k=p=(l=b["$[]"]("context"))["$!"]())&&k!==h&&null!=k?k:l["$=="](this.context),!1!==g&&g!==h&&null!=g?!1!==(k=(v=b["$[]"]("style"))["$!"]())&&k!==h&&null!=k?k:v["$=="](this.style):g),!1!==f&&f!==h&&null!=f?!1!==(g=(w=b["$[]"]("role"))["$!"]())&&g!==h&&null!=g?g:this["$has_role?"](w):f),!1!==c&&c!==h&&null!=c?!1!==(f=
(B=b["$[]"]("id"))["$!"]())&&f!==h&&null!=f?f:B["$=="](this.id):c))!==h&&null!=d&&(!d.$$is_boolean||1==d)){if(!1!==B&&B!==h&&null!=B)return r!==h?(d=a.yield1(r,this))===h||null==d||d.$$is_boolean&&1!=d?q:[this]:[this];if(r!==h){if((d=a.yield1(r,this))!==h&&null!=d&&(!d.$$is_boolean||1==d))q["$<<"](this)}else q["$<<"](this)}(d=(c=(f=this.context["$=="]("document"))?!1!==(g=p)&&g!==h&&null!=g?g:l["$=="]("section"):this.context["$=="]("document"),!1!==c&&c!==h&&null!=c?this["$header?"]():c))===h||null==
d||d.$$is_boolean&&1!=d||q.$concat((d=(c=this.header).$find_by,d.$$p=r.$to_proc(),d).call(c,b));l["$=="]("document")||(this.context["$=="]("dlist")?(d=!1!==(f=p)&&f!==h&&null!=f?f:l["$!="]("section"))===h||null==d||d.$$is_boolean&&1!=d||(d=(f=this.blocks.$flatten()).$each,d.$$p=(m=function(a){var d,c;null==a&&(a=h);return!1!==a&&a!==h&&null!=a?q.$concat((d=(c=a).$find_by,d.$$p=r.$to_proc(),d).call(c,b)):h},m.$$s=this,m.$$arity=1,m),d).call(f):d=(g=(k=this.blocks).$each,g.$$p=(n=function(a){var d,
c;null==a&&(a=h);return(d=l["$=="]("section")?a.$context()["$!="]("section"):l["$=="]("section"))===h||null==d||d.$$is_boolean&&1!=d?q.$concat((d=(c=a).$find_by,d.$$p=r.$to_proc(),d).call(c,b)):h},n.$$s=this,n.$$arity=1,n),g).call(k));return q},V.$$arity=-1);a.alias(f,"query","find_by");a.defn(f,"$remove_sub",aa=function(a){this.subs.$delete(a);return h},aa.$$arity=1);a.defn(f,"$assign_caption",ca=function(a,b){var d,c,e=h,f=e=e=h;null==a&&(a=h);null==b&&(b=h);if((d=!1!==(c=this["$title?"]())&&c!==
h&&null!=c?c:this.caption["$!"]())===h||null==d||d.$$is_boolean&&1!=d)return h;!1!==a&&a!==h&&null!=a?this.caption=a:(d=e=this.document.$attributes()["$[]"]("caption"))===h||null==d||d.$$is_boolean&&1!=d?(d=this["$title?"]())===h||null==d||d.$$is_boolean&&1!=d||(!1!==(d=b)&&d!==h&&null!=d?d:b=this.context.$to_s(),e=""+b+"-caption",(d=e=this.document.$attributes()["$[]"](e))===h||null==d||d.$$is_boolean&&1!=d||(f=this.document.$counter_increment(""+b+"-number",this),this.caption=""+e+" "+f+". ")):
this.caption=e;return h},ca.$$arity=-1);a.defn(f,"$list_marker_keyword",da=function(a){var b;null==a&&(a=h);return g.get("ORDERED_LIST_KEYWORDS")["$[]"](!1!==(b=a)&&b!==h&&null!=b?b:this.style)},da.$$arity=-1);a.defn(f,"$assign_index",N=function(a){var b,d,c,e=h,f=h;b=[this.next_section_index];d=a;d["$index="].apply(d,b);b[b.length-1];this.next_section_index=n(this.next_section_index,1);return a.$sectname()["$=="]("appendix")?(e=this.document.$counter("appendix-number","A"),(b=a.$numbered())===h||
null==b||b.$$is_boolean&&1!=b||(b=[e],d=a,d["$number="].apply(d,b),b[b.length-1]),(b=(f=this.document.$attr("appendix-caption",""))["$empty?"]())===h||null==b||b.$$is_boolean&&1!=b?(b=[""+f+" "+e+": "],d=a,d["$caption="].apply(d,b),b[b.length-1]):(b=[""+e+". "],d=a,d["$caption="].apply(d,b),b[b.length-1])):(b=a.$numbered())===h||null==b||b.$$is_boolean&&1!=b?h:(b=(d=!1!==(c=a.$level()["$=="](1))&&c!==h&&null!=c?c:a.$level()["$=="](0)?a.$special():a.$level()["$=="](0),!1!==d&&d!==h&&null!=d?this.document.$doctype()["$=="]("book"):
d))===h||null==b||b.$$is_boolean&&1!=b?(b=[this.next_section_number],d=a,d["$number="].apply(d,b),b[b.length-1],this.next_section_number=n(this.next_section_number,1)):(b=[this.document.$counter("chapter-number",1)],d=a,d["$number="].apply(d,b),b[b.length-1])},N.$$arity=1);return(a.defn(f,"$reindex_sections",B=function(){var a,b,d;this.next_section_number=this.next_section_index=0;return(a=(b=this.blocks).$each,a.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=h);return a.$context()["$=="]("section")?
(b.$assign_index(a),a.$reindex_sections()):h},d.$$s=this,d.$$arity=1,d),a).call(b)},B.$$arity=0),h)&&"reindex_sections"})(d.base,d.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/attribute_list"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}var n=a.nil,h=a.module,f=a.klass,c=a.hash2;a.add_stubs("$== $new $[] $update $parse $parse_attribute $eos? $skip_delimiter $+ $rekey $each_with_index $[]= $skip_blank $peek $parse_attribute_value $get_byte $scan_name $! $!= $* $scan_to_delimiter $=== $each $split $tr $empty? $apply_normal_subs $scan_to_quote $gsub $skip $scan".split(" "));return function(e){(function(d,
$super){function e(){}var h=e=f(d,$super,"AttributeList",e),w=h.$$proto,p=h.$$scope,g,L,v,z,I,F,C,r,Q,O,S,M;w.attributes=w.scanner=w.delimiter=w.block=w.delimiter_skip_pattern=w.delimiter_boundary_pattern=n;a.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(p,"CG_BLANK","[ \\t]"),a.cdecl(p,"CC_WORD","a-zA-Z0-9_"),a.cdecl(p,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(p,"BoundaryRxs",c(['"',"'",","],{'"':/.*?[^\\](?=")/,"'":/.*?[^\\](?=')/,",":new RegExp(".*?(?="+p.get("CG_BLANK")+"*(,|$))")}));a.cdecl(p,"EscapedQuoteRxs",
c(['"',"'"],{'"':/\\"/,"'":/\\'/}));a.cdecl(p,"NameRx",new RegExp(""+p.get("CG_WORD")+"["+p.get("CC_WORD")+"\\-.]*"));a.cdecl(p,"BlankRx",new RegExp(""+p.get("CG_BLANK")+"+"));a.cdecl(p,"SkipRxs",c(["blank",","],{blank:p.get("BlankRx"),",":new RegExp(""+p.get("CG_BLANK")+"*(,|$)")}));a.defn(h,"$initialize",g=function(d,c,e){null==c&&(c=n);null==e&&(e=",");this.scanner=a.get("StringScanner").$new(d);this.block=c;this.delimiter=e;this.delimiter_skip_pattern=p.get("SkipRxs")["$[]"](e);this.delimiter_boundary_pattern=
p.get("BoundaryRxs")["$[]"](e);return this.attributes=n},g.$$arity=-2);a.defn(h,"$parse_into",L=function(a,d){null==d&&(d=[]);return a.$update(this.$parse(d))},L.$$arity=-2);a.defn(h,"$parse",v=function(a){var d,e,f=n;null==a&&(a=[]);if((d=this.attributes)!==n&&null!=d&&(!d.$$is_boolean||1==d))return this.attributes;this.attributes=c([],{});for(f=0;(e=this.$parse_attribute(f,a))!==n&&null!=e&&(!e.$$is_boolean||1==e)&&((e=this.scanner["$eos?"]())===n||null==e||e.$$is_boolean&&1!=e);)this.$skip_delimiter(),
f=m(f,1);return this.attributes},v.$$arity=-1);a.defn(h,"$rekey",z=function(a){return p.get("AttributeList").$rekey(this.attributes,a)},z.$$arity=1);a.defs(h,"$rekey",I=function(a,d){var e,c;(e=d.$each_with_index,e.$$p=(c=function(d,e){var c,f=n,g=n;null==d&&(d=n);null==e&&(e=n);if(!1===d||d===n||null==d)return n;f=m(e,1);return(c=g=a["$[]"](f))===n||null==c||c.$$is_boolean&&1!=c?n:a["$[]="](d,g)},c.$$s=this,c.$$arity=2,c),e).call(d);return a},I.$$arity=2);a.defn(h,"$parse_attribute",F=function(a,
d){var e,c,f,g,h=n,r=n,p=r=n,t=n,v=n,r=h=t=n;null==a&&(a=0);null==d&&(d=[]);h=!1;this.$skip_blank();if((r=this.scanner.$peek(1))["$=="]('"'))r=this.$parse_attribute_value(this.scanner.$get_byte()),p=n;else if(r["$=="]("'"))r=this.$parse_attribute_value(this.scanner.$get_byte()),p=n,h=!0;else{r=this.$scan_name();t=0;v=n;if((e=this.scanner["$eos?"]())===n||null==e||e.$$is_boolean&&1!=e)t=!1!==(e=this.$skip_blank())&&e!==n&&null!=e?e:0,v=this.scanner.$get_byte();else if(!1===r||r===n||null==r)return!1;
if((e=!1!==(c=v["$!"]())&&c!==n&&null!=c?c:v["$=="](this.delimiter))===n||null==e||e.$$is_boolean&&1!=e)if((e=!1!==(c=v["$!="]("="))&&c!==n&&null!=c?c:r["$!"]())===n||null==e||e.$$is_boolean&&1!=e){if(this.$skip_blank(),(e=this.scanner.$peek(1))!==n&&null!=e&&(!e.$$is_boolean||1==e))if((v=this.scanner.$get_byte())["$=="]('"'))p=this.$parse_attribute_value(v);else if(v["$=="]("'"))p=this.$parse_attribute_value(v),h=!0;else if(v["$=="](this.delimiter))p=n;else if(p=""+v+this.$scan_to_delimiter(),p["$=="]("None"))return!0}else r=
""+r+" "["$*"](t)+v+this.$scan_to_delimiter(),p=n;else p=n}if(!1!==p&&p!==n&&null!=p)if(t=r,"options"["$==="](t)||"opts"["$==="](t))r="options",(e=(c=p.$tr(" ","").$split(",")).$each,e.$$p=(f=function(a){var d=f.$$s||this;null==d.attributes&&(d.attributes=n);null==a&&(a=n);return d.attributes["$[]="](""+a+"-option","")},f.$$s=this,f.$$arity=1,f),e).call(c),this.attributes["$[]="](r,p);else if("title"["$==="](t))this.attributes["$[]="](r,p);else this.attributes["$[]="](r,(e=(g=!1!==h&&h!==n&&null!=
h?p["$empty?"]()["$!"]():h,!1!==g&&g!==n&&null!=g?this.block:g))===n||null==e||e.$$is_boolean&&1!=e?p:this.block.$apply_normal_subs(p));else{h=(e=(g=!1!==h&&h!==n&&null!=h?r["$empty?"]()["$!"]():h,!1!==g&&g!==n&&null!=g?this.block:g))===n||null==e||e.$$is_boolean&&1!=e?r:this.block.$apply_normal_subs(r);if((e=r=d["$[]"](a))!==n&&null!=e&&(!e.$$is_boolean||1==e))this.attributes["$[]="](r,h);this.attributes["$[]="](m(a,1),h)}return!0},F.$$arity=-1);a.defn(h,"$parse_attribute_value",C=function(a){var d,
e=n;if(this.scanner.$peek(1)["$=="](a))return this.scanner.$get_byte(),"";if((d=e=this.$scan_to_quote(a))===n||null==d||d.$$is_boolean&&1!=d)return""+a+this.$scan_to_delimiter();this.scanner.$get_byte();return e.$gsub(p.get("EscapedQuoteRxs")["$[]"](a),a)},C.$$arity=1);a.defn(h,"$skip_blank",r=function(){return this.scanner.$skip(p.get("BlankRx"))},r.$$arity=0);a.defn(h,"$skip_delimiter",Q=function(){return this.scanner.$skip(this.delimiter_skip_pattern)},Q.$$arity=0);a.defn(h,"$scan_name",O=function(){return this.scanner.$scan(p.get("NameRx"))},
O.$$arity=0);a.defn(h,"$scan_to_delimiter",S=function(){return this.scanner.$scan(this.delimiter_boundary_pattern)},S.$$arity=0);return(a.defn(h,"$scan_to_quote",M=function(a){return this.scanner.$scan(p.get("BoundaryRxs")["$[]"](a))},M.$$arity=1),n)&&"scan_to_quote"})(h(e,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/block"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a*d:a["$*"](d)}var n=a.nil,h=a.module,f=a.klass,c=a.hash2;a.add_stubs("$default= $attr_accessor $[] $key? $== $=== $dup $delete $[]= $lock_in_subs $nil_or_empty? $normalize_lines_from_string $apply_subs $* $< $size $empty? $rstrip $shift $pop $warn $to_s $class $object_id $inspect".split(" "));return function(e){e=h(e,"Asciidoctor").$$scope;(function(d,$super){function e(){}var h=e=f(d,$super,
"Block",e),w=h.$$proto,p=h.$$scope,g,L,v,z,I;w.attributes=w.content_model=w.lines=w.subs=w.blocks=w.context=w.style=n;w=["simple"];g=a.cdecl(p,"DEFAULT_CONTENT_MODEL",c("audio image listing literal stem open page_break pass thematic_break video".split(" "),{audio:"empty",image:"empty",listing:"verbatim",literal:"verbatim",stem:"raw",open:"compound",page_break:"empty",pass:"raw",thematic_break:"empty",video:"empty"}));g["$default="].apply(g,w);w[w.length-1];a.alias(h,"blockname","context");h.$attr_accessor("lines");
a.defn(h,"$initialize",L=function(d,e,f){var g,h=L.$$p,m=n,t=n,v=m=n;null==f&&(f=c([],{}));L.$$p=null;m=[];for(v=0;v<arguments.length;v++)m[v]=arguments[v];(g=a.find_super_dispatcher(this,"initialize",L,!1),g.$$p=h,g).apply(this,m);this.content_model=!1!==(g=f["$[]"]("content_model"))&&g!==n&&null!=g?g:p.get("DEFAULT_CONTENT_MODEL")["$[]"](e);(g=f["$key?"]("subs"))===n||null==g||g.$$is_boolean&&1!=g?(this.subs=[],this.default_subs=n):(g=m=f["$[]"]("subs"))===n||null==g||g.$$is_boolean&&1!=g?(this.subs=
[],this.default_subs=[],this.attributes.$delete("subs")):(m["$=="]("default")?this.default_subs=f["$[]"]("default_subs"):(g=a.get("Array")["$==="](m))===n||null==g||g.$$is_boolean&&1!=g?(this.default_subs=n,this.attributes["$[]="]("subs",""+m)):(this.default_subs=m.$dup(),this.attributes.$delete("subs")),this.$lock_in_subs());return(g=(t=f["$[]"]("source"))["$nil_or_empty?"]())===n||null==g||g.$$is_boolean&&1!=g?(g=a.get("String")["$==="](t))===n||null==g||g.$$is_boolean&&1!=g?this.lines=t.$dup():
this.lines=p.get("Helpers").$normalize_lines_from_string(t):this.lines=[]},L.$$arity=-3);a.defn(h,"$content",v=function(){var d,e,c,f,g=this,h=v.$$p,t=n,w=n,q=n,k=n,z=n,G=n;v.$$p=null;z=[];for(G=0;G<arguments.length;G++)z[G]=arguments[G];return function(){t=g.content_model;if("compound"["$==="](t))return(d=(e=g,a.find_super_dispatcher(g,"content",v,!1)),d.$$p=h,d).apply(e,z);if("simple"["$==="](t))return g.$apply_subs(m(g.lines,p.get("EOL")),g.subs);if("verbatim"["$==="](t)||"raw"["$==="](t)){w=g.$apply_subs(g.lines,
g.subs);var G=w.$size();if((d="number"===typeof G?2>G:G["$<"](2))===n||null==d||d.$$is_boolean&&1!=d){for(;(c=(f=q=w["$[]"](0),!1!==f&&f!==n&&null!=f?q.$rstrip()["$empty?"]():f))!==n&&null!=c&&(!c.$$is_boolean||1==c);)w.$shift();for(;(c=(f=k=w["$[]"](-1),!1!==f&&f!==n&&null!=f?k.$rstrip()["$empty?"]():f))!==n&&null!=c&&(!c.$$is_boolean||1==c);)w.$pop();return m(w,p.get("EOL"))}return w["$[]"](0)}g.content_model["$=="]("empty")||g.$warn("Unknown content model '"+g.content_model+"' for block: "+g.$to_s());
return n}()},v.$$arity=0);a.defn(h,"$source",z=function(){return m(this.lines,p.get("EOL"))},z.$$arity=0);return(a.defn(h,"$to_s",I=function(){var a=n,a=this.content_model["$=="]("compound")?"blocks: "+this.blocks.$size():"lines: "+this.lines.$size();return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", content_model: "+this.content_model.$inspect()+", style: "+this.style.$inspect()+", "+a+"}>"},I.$$arity=0),n)&&"to_s"})(e.base,e.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/callouts"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var h=a.nil,f=a.module,c=a.klass,e=a.hash2;a.add_stubs("$next_list $<< $current_list $to_i $generate_next_callout_id $+ $<= $size $[] $- $chop $join $map $== $< $generate_callout_id".split(" "));return function(d){(function(b,$super){function d(){}var f=d=c(b,$super,"Callouts",d),p=f.$$proto,g,L,
v,z,I,F,C,r,Q;p.co_index=p.lists=p.list_index=h;a.defn(f,"$initialize",g=function(){this.lists=[];this.list_index=0;return this.$next_list()},g.$$arity=0);a.defn(f,"$register",L=function(a){var b=h;this.$current_list()["$<<"](e(["ordinal","id"],{ordinal:a.$to_i(),id:b=this.$generate_next_callout_id()}));this.co_index=m(this.co_index,1);return b},L.$$arity=1);a.defn(f,"$read_next_id",v=function(){var a,b=h,d=h,b=h,d=this.$current_list(),e=this.co_index,c=d.$size();(a="number"===typeof e&&"number"===
typeof c?e<=c:e["$<="](c))===h||null==a||a.$$is_boolean&&1!=a||(b=d["$[]"](n(this.co_index,1))["$[]"]("id"));this.co_index=m(this.co_index,1);return b},v.$$arity=0);a.defn(f,"$callout_ids",z=function(a){var b,d,e;return(b=(d=this.$current_list()).$map,b.$$p=(e=function(b){null==b&&(b=h);return b["$[]"]("ordinal")["$=="](a)?""+b["$[]"]("id")+" ":h},e.$$s=this,e.$$arity=1,e),b).call(d).$join().$chop()},z.$$arity=1);a.defn(f,"$current_list",I=function(){return this.lists["$[]"](n(this.list_index,1))},
I.$$arity=0);a.defn(f,"$next_list",F=function(){var a;this.list_index=m(this.list_index,1);var b=this.lists.$size(),d=this.list_index;if((a="number"===typeof b&&"number"===typeof d?b<d:b["$<"](d))!==h&&null!=a&&(!a.$$is_boolean||1==a))this.lists["$<<"]([]);this.co_index=1;return h},F.$$arity=0);a.defn(f,"$rewind",C=function(){this.co_index=this.list_index=1;return h},C.$$arity=0);a.defn(f,"$generate_next_callout_id",r=function(){return this.$generate_callout_id(this.list_index,this.co_index)},r.$$arity=
0);return(a.defn(f,"$generate_callout_id",Q=function(a,b){return"CO"+a+"-"+b},Q.$$arity=2),h)&&"generate_callout_id"})(f(d,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/document"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var f=a.nil,c=a.module,e=a.klass,d=a.hash2,b=a.range;a.add_stubs("$new $attr_reader $nil? $<< $[] $[]= $include? $strip $tr_s $gsub $empty? $! $rpartition $delete $base_dir $inject $== $references $callouts $dup $attributes $each $safe $compat_mode $sourcemap $converter $extensions $start_with? $end_with? $chop $downcase $=== $const_get $upcase $to_s $key? $freeze $attribute_undefined $attribute_missing $find $constants $expand_path $pwd $>= $+ $length $fetch $abs $to_i $delete_if $parse $restore_attributes $update_backend_attributes $utc $at $now $strftime $join $build_registry $to_proc $activate $preprocessors? $process_method $preprocessors $treeprocessors? $!= $treeprocessors $nil_or_empty? $nextval $counter $save_to $chr $ord $source $source_lines $title= $title $first_section $title? $merge $has_header? $context $assign_index $clear_playback_attributes $save_attributes $attribute_locked? $doctitle $has_key? $rewind $name $negate $value $limit $apply_attribute_value_subs $delete? $update_doctype_attributes $match $resolve_pass_subs $apply_subs $apply_header_subs $create_converter $basebackend $outfilesuffix $filetype $sub $backend $default $create $fail $doctype $content_model $content $convert $postprocessors? $postprocessors $write $respond_to? $chomp $open $map $split $& $normalize_system_path $read_asset $resolve_docinfo_subs $sub_attributes $docinfo_processors? $* $compact $resolve_subs $docinfo_processors $class $object_id $inspect $size".split(" "));
return function(t){t=c(t,"Asciidoctor").$$scope;(function(c,$super){function p(){}var g=p=e(c,$super,"Document",p),t=g.$$proto,v=g.$$scope,z,I,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B,Z,x,E,fa,ia,ja,ma,na,ka,u,ea,l,ba,X,U,ga,ra,va,wa,xa,ya,sa,ta,qa,oa,ha;t.attributes=t.safe=t.reader=t.base_dir=t.parsed=t.parent_document=t.extensions=t.options=t.counters=t.references=t.doctype=t.backend=t.header=t.blocks=t.attributes_modified=t.id=t.callouts=t.header_attributes=t.max_attribute_value_size=t.attribute_overrides=
t.converter=t.outfilesuffix=t.docinfo_processor_extensions=t.document=f;a.cdecl(v,"Footnote",a.get("Struct").$new("index","id","text"));(function(b,$super){function d(){}var c=d=e(b,$super,"AttributeEntry",d),g,h;c.$attr_reader("name","value","negate");a.defn(c,"$initialize",g=function(a,b,d){var e;null==d&&(d=f);this.name=a;this.value=b;return this.negate=(e=d["$nil?"]())===f||null==e||e.$$is_boolean&&1!=e?d:b["$nil?"]()},g.$$arity=-3);return(a.defn(c,"$save_to",h=function(a){var b;return(!1!==(b=
a["$[]"]("attribute_entries"))&&b!==f&&null!=b?b:a["$[]="]("attribute_entries",[]))["$<<"](this)},h.$$arity=1),f)&&"save_to"})(v.base,null);(function(b,$super){function c(){}var g=c=e(b,$super,"Title",c),h=g.$$proto,k=g.$$scope,m,D,n,J;h.sanitized=h.subtitle=h.combined=f;g.$attr_reader("main");a.alias(g,"title","main");g.$attr_reader("subtitle");g.$attr_reader("combined");a.defn(g,"$initialize",m=function(b,e){var c,g,h,J=f;null==e&&(e=d([],{}));(c=(g=this.sanitized=e["$[]"]("sanitize"),!1!==g&&g!==
f&&null!=g?b["$include?"]("<"):g))===f||null==c||c.$$is_boolean&&1!=c||(b=b.$gsub(k.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip());(c=!1!==(g=(J=!1!==(h=e["$[]"]("separator"))&&h!==f&&null!=h?h:":")["$empty?"]())&&g!==f&&null!=g?g:b["$include?"](J=""+J+" ")["$!"]())===f||null==c||c.$$is_boolean&&1!=c?(g=b.$rpartition(J),c=a.to_ary(g),this.main=null==c[0]?f:c[0],this.subtitle=null==c[2]?f:c[2],g):(this.main=b,this.subtitle=f);return this.combined=b},m.$$arity=-2);a.defn(g,"$sanitized?",D=function(){return this.sanitized},
D.$$arity=0);a.defn(g,"$subtitle?",n=function(){return this.subtitle["$!"]()["$!"]()},n.$$arity=0);return(a.defn(g,"$to_s",J=function(){return this.combined},J.$$arity=0),f)&&"to_s"})(v.base,null);g.$attr_reader("safe");g.$attr_reader("compat_mode");g.$attr_reader("sourcemap");g.$attr_reader("references");g.$attr_reader("counters");g.$attr_reader("callouts");g.$attr_reader("header");g.$attr_reader("base_dir");g.$attr_reader("options");g.$attr_reader("outfilesuffix");g.$attr_reader("parent_document");
g.$attr_reader("reader");g.$attr_reader("converter");g.$attr_reader("extensions");a.defn(g,"$initialize",z=function(e,c){var g,h,k,l,r,D,W,J,K,A,y,la,p=f,q=f,t=f,u=f,x=u=f,B=f,N=u=u=f,G=p=B=u=p=f;null==e&&(e=f);null==c&&(c=d([],{}));z.$$p=null;(g=a.find_super_dispatcher(this,"initialize",z,!1),g.$$p=null,g).call(this,this,"document");if((g=p=c.$delete("parent"))===f||null==g||g.$$is_boolean&&1!=g){this.parent_document=f;this.references=d("ids footnotes links images indexterms includes".split(" "),
{ids:d([],{}),footnotes:[],links:[],images:[],indexterms:[],includes:a.get("Set").$new()});this.callouts=v.get("Callouts").$new();q=d([],{});(g=(h=!1!==(W=c["$[]"]("attributes"))&&W!==f&&null!=W?W:d([],{})).$each,g.$$p=(D=function(a,d){var e;null==a&&(a=f);null==d&&(d=f);(e=a["$start_with?"]("!"))===f||null==e||e.$$is_boolean&&1!=e?(e=a["$end_with?"]("!"))===f||null==e||e.$$is_boolean&&1!=e||(a=a.$chop(),d=f):(a=a["$[]"](b(1,-1,!1)),d=f);return q["$[]="](a.$downcase(),d)},D.$$s=this,D.$$arity=2,D),
g).call(h);this.attribute_overrides=q;if((g=(u=c["$[]"]("safe"))["$!"]())===f||null==g||g.$$is_boolean&&1!=g)if((g=a.get("Integer")["$==="](u))===f||null==g||g.$$is_boolean&&1!=g)try{this.safe=v.get("SafeMode").$const_get(u.$to_s().$upcase())}catch(R){if(a.rescue(R,[v.get("StandardError")]))try{this.safe=v.get("SafeMode").$$scope.get("SECURE")}finally{a.pop_exception()}else throw R;}else this.safe=u;else this.safe=v.get("SafeMode").$$scope.get("SECURE");this.compat_mode=q["$key?"]("compat-mode");
this.sourcemap=c["$[]"]("sourcemap");this.converter=f;try{t=null!=a.get("Asciidoctor").$$scope.get("Extensions")?"constant":f}catch(R){if(R.$$class===a.NameError)t=f;else throw R;}this.extensions=f}else this.parent_document=p,g="base_dir",h=c,!1!==(k=h["$[]"](g))&&k!==f&&null!=k?k:h["$[]="](g,p.$base_dir()),this.references=(g=(h=p.$references()).$inject,g.$$p=(l=function(b,d){var e,c;null==d&&(d=f);d=a.to_ary(d);e=a.slice.call(d,0,d.length);c=e.splice(0,1)[0];null==c&&(c=f);e=e.splice(0,1)[0];null==
e&&(e=f);null==b&&(b=f);if(c["$=="]("footnotes"))b["$[]="]("footnotes",[]);else b["$[]="](c,e);return b},l.$$s=this,l.$$arity=2,l.$$has_top_level_mlhs_arg=!0,l),g).call(h,d([],{})),this.callouts=p.$callouts(),q=p.$attributes().$dup(),(g=(k=["doctype","compat-mode","toc","toc-placement","toc-position"]).$each,g.$$p=(r=function(a){null==a&&(a=f);return q.$delete(a)},r.$$s=this,r.$$arity=1,r),g).call(k),this.attribute_overrides=q,this.safe=p.$safe(),this.compat_mode=p.$compat_mode(),this.sourcemap=p.$sourcemap(),
this.converter=p.$converter(),t=!1,this.extensions=p.$extensions();this.parsed=!1;this.header=f;this.counters=d([],{});this.attributes_modified=a.get("Set").$new();this.options=c;this.docinfo_processor_extensions=d([],{});u=(g="header_footer",W=c,!1!==(J=W["$[]"](g))&&J!==f&&null!=J?J:W["$[]="](g,!1));c.$freeze();x=this.attributes;x["$[]="]("sectids","");if(!1===u||u===f||null==u)x["$[]="]("notitle","");x["$[]="]("toc-placement","auto");x["$[]="]("stylesheet","");x["$[]="]("webfonts","");if(!1!==
u&&u!==f&&null!=u)x["$[]="]("copycss","");x["$[]="]("prewrap","");x["$[]="]("attribute-undefined",v.get("Compliance").$attribute_undefined());x["$[]="]("attribute-missing",v.get("Compliance").$attribute_missing());x["$[]="]("iconfont-remote","");x["$[]="]("caution-caption","Caution");x["$[]="]("important-caption","Important");x["$[]="]("note-caption","Note");x["$[]="]("tip-caption","Tip");x["$[]="]("warning-caption","Warning");x["$[]="]("appendix-caption","Appendix");x["$[]="]("example-caption","Example");
x["$[]="]("figure-caption","Figure");x["$[]="]("table-caption","Table");x["$[]="]("toc-title","Table of Contents");x["$[]="]("manname-title","NAME");x["$[]="]("untitled-label","Untitled");x["$[]="]("version-label","Version");x["$[]="]("last-update-label","Last updated");q["$[]="]("asciidoctor","");q["$[]="]("asciidoctor-version",v.get("VERSION"));B=(g=(W=v.get("SafeMode").$constants()).$find,g.$$p=(K=function(a){var b=K.$$s||this;null==b.safe&&(b.safe=f);null==a&&(a=f);return v.get("SafeMode").$const_get(a)["$=="](b.safe)},
K.$$s=this,K.$$arity=1,K),g).call(W).$to_s().$downcase();q["$[]="]("safe-mode-name",B);q["$[]="]("safe-mode-"+B,"");q["$[]="]("safe-mode-level",this.safe);q["$[]="]("embedded",!1!==u&&u!==f&&null!=u?f:"");g="max-include-depth";J=q;!1!==(A=J["$[]"](g))&&A!==f&&null!=A?A:J["$[]="](g,64);g="allow-uri-read";J=q;!1!==(A=J["$[]"](g))&&A!==f&&null!=A?A:J["$[]="](g,f);q["$[]="]("user-home",v.get("USER_HOME"));if((g=q["$key?"]("numbered"))!==f&&null!=g&&(!g.$$is_boolean||1==g))q["$[]="]("sectnums",q.$delete("numbered"));
(g=c["$[]"]("base_dir"))===f||null==g||g.$$is_boolean&&1!=g?(g=q["$[]"]("docdir"))===f||null==g||g.$$is_boolean&&1!=g?this.base_dir=q["$[]="]("docdir",a.get("File").$expand_path(a.get("Dir").$pwd())):this.base_dir=q["$[]="]("docdir",a.get("File").$expand_path(q["$[]"]("docdir"))):this.base_dir=q["$[]="]("docdir",a.get("File").$expand_path(c["$[]"]("base_dir")));if((g=u=c["$[]"]("backend"))!==f&&null!=g&&(!g.$$is_boolean||1==g))q["$[]="]("backend",""+u);if((g=u=c["$[]"]("doctype"))!==f&&null!=g&&(!g.$$is_boolean||
1==g))q["$[]="]("doctype",""+u);if((g=m(this.safe,v.get("SafeMode").$$scope.get("SERVER")))!==f&&null!=g&&(!g.$$is_boolean||1==g)){g="copycss";J=q;!1!==(A=J["$[]"](g))&&A!==f&&null!=A?A:J["$[]="](g,f);g="source-highlighter";J=q;!1!==(A=J["$[]"](g))&&A!==f&&null!=A?A:J["$[]="](g,f);g="backend";J=q;!1!==(A=J["$[]"](g))&&A!==f&&null!=A?A:J["$[]="](g,v.get("DEFAULT_BACKEND"));if((g=(J=p["$!"](),!1!==J&&J!==f&&null!=J?q["$key?"]("docfile"):J))!==f&&null!=g&&(!g.$$is_boolean||1==g))q["$[]="]("docfile",
q["$[]"]("docfile")["$[]"](b(n(q["$[]"]("docdir").$length(),1),-1,!1)));q["$[]="]("docdir","");q["$[]="]("user-home",".");if((g=m(this.safe,v.get("SafeMode").$$scope.get("SECURE")))!==f&&null!=g&&(!g.$$is_boolean||1==g)){if((g=q["$key?"]("max-attribute-value-size"))===f||null==g||g.$$is_boolean&&1!=g)q["$[]="]("max-attribute-value-size",4096);if((g=q.$fetch("linkcss","")["$nil?"]())===f||null==g||g.$$is_boolean&&1!=g)q["$[]="]("linkcss","");g="icons";J=q;!1!==(A=J["$[]"](g))&&A!==f&&null!=A?A:J["$[]="](g,
f)}}this.max_attribute_value_size=(g=N=(J="max-attribute-value-size",A=q,!1!==(y=A["$[]"](J))&&y!==f&&null!=y?y:A["$[]="](J,f)))===f||null==g||g.$$is_boolean&&1!=g?f:N.$to_i().$abs();(g=(J=q).$delete_if,g.$$p=(la=function(b,d){var e,c,g=f;null==b&&(b=f);null==d&&(d=f);g=!1;(e=d["$nil?"]())===f||null==e||e.$$is_boolean&&1!=e?((e=(c=a.get("String")["$==="](d),!1!==c&&c!==f&&null!=c?d["$end_with?"]("@"):c))===f||null==e||e.$$is_boolean&&1!=e||(d=d.$chop(),g=!0),x["$[]="](b,d)):x.$delete(b);return g},
la.$$s=this,la.$$arity=2,la),g).call(J);if(!1!==p&&p!==f&&null!=p)return g="doctype",A=x,!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,v.get("DEFAULT_DOCTYPE")),this.reader=v.get("Reader").$new(e,c["$[]"]("cursor")),v.get("Parser").$parse(this.reader,this),this.$restore_attributes(),this.parsed=!0;if((g="backend",A=x,!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,v.get("DEFAULT_BACKEND")))["$=="]("manpage"))x["$[]="]("doctype",q["$[]="]("doctype","manpage"));else g="doctype",A=x,!1!==(y=
A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,v.get("DEFAULT_DOCTYPE"));this.$update_backend_attributes(x["$[]"]("backend"),!0);p=(g=a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH"))===f||null==g||g.$$is_boolean&&1!=g?a.get("Time").$now():a.get("Time").$at(a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc();u=(g="localdate",A=x,!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,p.$strftime("%Y-%m-%d")));if((g=B=x["$[]"]("localtime"))===f||null==g||g.$$is_boolean&&1!=g)try{B=x["$[]="]("localtime",p.$strftime("%H:%M:%S %Z"))}catch(R){if(a.rescue(R,
[v.get("StandardError")]))try{B=x["$[]="]("localtime",p.$strftime("%H:%M:%S %z"))}finally{a.pop_exception()}else throw R;}g="localdatetime";A=x;!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,""+u+" "+B);g="docdate";A=x;!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,u);g="doctime";A=x;!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,B);g="docdatetime";A=x;!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,""+u+" "+B);g="stylesdir";A=x;!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,".");
g="iconsdir";A=x;!1!==(y=A["$[]"](g))&&y!==f&&null!=y?y:A["$[]="](g,a.get("File").$join(x.$fetch("imagesdir","./images"),"icons"));if(!1!==t&&t!==f&&null!=t){if((g=p=c["$[]"]("extensions_registry"))===f||null==g||g.$$is_boolean&&1!=g)p=(g=a.get("Proc")["$==="](G=c["$[]"]("extensions")))===f||null==g||g.$$is_boolean&&1!=g?v.get("Extensions").$$scope.get("Registry").$new():(g=(A=v.get("Extensions")).$build_registry,g.$$p=G.$to_proc(),g).call(A);else if((g=!1!==(A=v.get("Extensions").$$scope.get("Registry")["$==="](p))&&
A!==f&&null!=A?A:(y=a.get("RUBY_ENGINE_JRUBY"),!1!==y&&y!==f&&null!=y?a.get("AsciidoctorJ").$$scope.get("Extensions").$$scope.get("ExtensionRegistry")["$==="](p):y))===f||null==g||g.$$is_boolean&&1!=g)p=v.get("Extensions").$$scope.get("Registry").$new();this.extensions=p.$activate(this)}return this.reader=v.get("PreprocessorReader").$new(this,e,v.get("Reader").$$scope.get("Cursor").$new(x["$[]"]("docfile"),this.base_dir))},z.$$arity=-1);a.defn(g,"$parse",I=function(a){var b,e,c,g,h,k=f,D=f;null==
a&&(a=f);return(b=this.parsed)===f||null==b||b.$$is_boolean&&1!=b?(k=this,!1!==a&&a!==f&&null!=a&&(this.reader=v.get("PreprocessorReader").$new(k,a,v.get("Reader").$$scope.get("Cursor").$new(this.attributes["$[]"]("docfile"),this.base_dir))),(b=(e=D=(c=this.parent_document)===f||null==c||c.$$is_boolean&&1!=c?this.extensions:f,!1!==e&&e!==f&&null!=e?D["$preprocessors?"]():e))===f||null==b||b.$$is_boolean&&1!=b||(b=(e=D.$preprocessors()).$each,b.$$p=(g=function(a){var b=g.$$s||this,d;null==b.reader&&
(b.reader=f);null==a&&(a=f);return b.reader=!1!==(d=a.$process_method()["$[]"](k,b.reader))&&d!==f&&null!=d?d:b.reader},g.$$s=this,g.$$arity=1,g),b).call(e),v.get("Parser").$parse(this.reader,k,d(["header_only"],{header_only:this.options["$[]"]("parse_header_only")["$!"]()["$!"]()})),this.$restore_attributes(),(b=(c=!1!==D&&D!==f&&null!=D)?D["$treeprocessors?"]():D)===f||null==b||b.$$is_boolean&&1!=b||(b=(c=D.$treeprocessors()).$each,b.$$p=(h=function(a){var b,d,e,c=f;null==a&&(a=f);return(b=(d=(e=
c=a.$process_method()["$[]"](k),!1!==e&&e!==f&&null!=e?v.get("Document")["$==="](c):e),!1!==d&&d!==f&&null!=d?c["$!="](k):d))===f||null==b||b.$$is_boolean&&1!=b?f:k=c},h.$$s=this,h.$$arity=1,h),b).call(c),this.parsed=!0,k):this},I.$$arity=-1);a.defn(g,"$counter",F=function(a,b){var d,e,c=f,g=f;null==b&&(b=f);if((d=(e=c=(g=this.attributes["$[]"](a))["$nil_or_empty?"]()["$!"](),!1!==e&&e!==f&&null!=e?this.counters["$key?"](a):e))===f||null==d||d.$$is_boolean&&1!=d)(d=b["$nil?"]())===f||null==d||d.$$is_boolean&&
1!=d?b.$to_i().$to_s()["$=="](b)&&(b=b.$to_i()):b=this.$nextval(!1!==c&&c!==f&&null!=c?g:0),this.counters["$[]="](a,b);else this.counters["$[]="](a,this.$nextval(g));return this.attributes["$[]="](a,this.counters["$[]"](a))},F.$$arity=-2);a.defn(g,"$counter_increment",C=function(a,b){var d=f,d=this.$counter(a);v.get("AttributeEntry").$new(a,d).$save_to(b.$attributes());return d},C.$$arity=2);a.defn(g,"$nextval",r=function(b){var d,e=f;return(d=a.get("Integer")["$==="](b))===f||null==d||d.$$is_boolean&&
1!=d?(e=b.$to_i(),(d=e.$to_s()["$!="](b.$to_s()))===f||null==d||d.$$is_boolean&&1!=d?n(e,1):n(b["$[]"](0).$ord(),1).$chr()):n(b,1)},r.$$arity=1);a.defn(g,"$register",Q=function(b,d,e){var c,g,h=f,k=h=f;null==e&&(e=!1);h=b;"ids"["$==="](h)?(b=[].concat(a.to_a(d)),c=a.to_ary(b),h=null==c[0]?f:c[0],k=null==c[1]?f:c[1],b,!1!==(c=k)&&c!==f&&null!=c?c:k=n(n("[",h),"]"),e=!1!==e&&e!==f&&null!=e?this.references["$[]"]("ids")["$[]="](h,k):(c=h,b=this.references["$[]"]("ids"),!1!==(g=b["$[]"](c))&&g!==f&&null!=
g?g:b["$[]="](c,k))):e="footnotes"["$==="](h)||"indexterms"["$==="](h)?this.references["$[]"](b)["$<<"](d):(c=this.options["$[]"]("catalog_assets"))===f||null==c||c.$$is_boolean&&1!=c?f:this.references["$[]"](b)["$<<"](d);return e},Q.$$arity=-3);a.defn(g,"$footnotes?",O=function(){return this.references["$[]"]("footnotes")["$empty?"]()["$!"]()},O.$$arity=0);a.defn(g,"$footnotes",S=function(){return this.references["$[]"]("footnotes")},S.$$arity=0);a.defn(g,"$nested?",M=function(){return this.parent_document["$!"]()["$!"]()},
M.$$arity=0);a.defn(g,"$embedded?",R=function(){return this.attributes["$key?"]("embedded")},R.$$arity=0);a.defn(g,"$extensions?",q=function(){return this.extensions["$!"]()["$!"]()},q.$$arity=0);a.defn(g,"$source",k=function(){var a;return(a=this.reader)===f||null==a||a.$$is_boolean&&1!=a?f:this.reader.$source()},k.$$arity=0);a.defn(g,"$source_lines",Y=function(){var a;return(a=this.reader)===f||null==a||a.$$is_boolean&&1!=a?f:this.reader.$source_lines()},Y.$$arity=0);a.defn(g,"$doctype",G=function(){var a;
return!1!==(a=this.doctype)&&a!==f&&null!=a?a:this.doctype=this.attributes["$[]"]("doctype")},G.$$arity=0);a.defn(g,"$backend",V=function(){var a;return!1!==(a=this.backend)&&a!==f&&null!=a?a:this.backend=this.attributes["$[]"]("backend")},V.$$arity=0);a.defn(g,"$basebackend?",aa=function(a){return this.attributes["$[]"]("basebackend")["$=="](a)},aa.$$arity=1);a.defn(g,"$title",ca=function(){return this.attributes["$[]"]("title")},ca.$$arity=0);a.defn(g,"$title=",da=function(a){var b,d;!1!==(b=this.header)&&
b!==f&&null!=b?b:this.header=v.get("Section").$new(this,0);return b=[a],d=this.header,d["$title="].apply(d,b),b[b.length-1]},da.$$arity=1);a.defn(g,"$doctitle",N=function(a){var b,e,c=f,g=f,h=f;null==a&&(a=d([],{}));if((b=(c=this.attributes["$[]"]("title")["$nil_or_empty?"]())["$!"]())!==f&&null!=b&&(!b.$$is_boolean||1==b))c=this.$title();else if((b=(e=g=this.$first_section(),!1!==e&&e!==f&&null!=e?g["$title?"]():e))!==f&&null!=b&&(!b.$$is_boolean||1==b))c=g.$title();else if((b=(e=a["$[]"]("use_fallback"),
!1!==e&&e!==f&&null!=e?c=this.attributes["$[]"]("untitled-label"):e))===f||null==b||b.$$is_boolean&&1!=b)return f;return(b=h=a["$[]"]("partition"))===f||null==b||b.$$is_boolean&&1!=b?(b=(e=a["$[]"]("sanitize"),!1!==e&&e!==f&&null!=e?c["$include?"]("<"):e))===f||null==b||b.$$is_boolean&&1!=b?c:c.$gsub(v.get("XmlSanitizeRx"),"").$tr_s(" "," ").$strip():v.get("Title").$new(c,a.$merge(d(["separator"],{separator:h["$=="](!0)?this.attributes["$[]"]("title-separator"):h})))},N.$$arity=-1);a.alias(g,"name",
"doctitle");a.defn(g,"$author",B=function(){return this.attributes["$[]"]("author")},B.$$arity=0);a.defn(g,"$revdate",Z=function(){return this.attributes["$[]"]("revdate")},Z.$$arity=0);a.defn(g,"$notitle",x=function(){var a;return a=this.attributes["$key?"]("showtitle")["$!"](),!1!==a&&a!==f&&null!=a?this.attributes["$key?"]("notitle"):a},x.$$arity=0);a.defn(g,"$noheader",E=function(){return this.attributes["$key?"]("noheader")},E.$$arity=0);a.defn(g,"$nofooter",fa=function(){return this.attributes["$key?"]("nofooter")},
fa.$$arity=0);a.defn(g,"$first_section",ia=function(){var a,b,d,e;return(a=this["$has_header?"]())===f||null==a||a.$$is_boolean&&1!=a?(a=(b=!1!==(e=this.blocks)&&e!==f&&null!=e?e:[]).$find,a.$$p=(d=function(a){null==a&&(a=f);return a.$context()["$=="]("section")},d.$$s=this,d.$$arity=1,d),a).call(b):this.header},ia.$$arity=0);a.defn(g,"$has_header?",ja=function(){var a;return(a=this.header)===f||null==a||a.$$is_boolean&&1!=a?!1:!0},ja.$$arity=0);a.alias(g,"header?","has_header?");a.defn(g,"$<<",ma=
function(b){var d,e=ma.$$p,c=f,g=f;ma.$$p=null;c=[];for(g=0;g<arguments.length;g++)c[g]=arguments[g];b.$context()["$=="]("section")&&this.$assign_index(b);return(d=a.find_super_dispatcher(this,"<<",ma,!1),d.$$p=e,d).apply(this,c)},ma.$$arity=1);a.defn(g,"$finalize_header",na=function(a,b){null==b&&(b=!0);this.$clear_playback_attributes(a);this.$save_attributes();if(!1===b||b===f||null==b)a["$[]="]("invalid-header",!0);return a},na.$$arity=-2);a.defn(g,"$save_attributes",ka=function(){var a,b,d,e,
c=f,g=f,h=f,k=f,m=f,J=f,K=f,k=h=f;if((c=this.attributes)["$[]"]("basebackend")["$=="]("docbook")){if((a=!1!==(b=this["$attribute_locked?"]("toc"))&&b!==f&&null!=b?b:this.attributes_modified["$include?"]("toc"))===f||null==a||a.$$is_boolean&&1!=a)c["$[]="]("toc","");if((a=!1!==(b=this["$attribute_locked?"]("sectnums"))&&b!==f&&null!=b?b:this.attributes_modified["$include?"]("sectnums"))===f||null==a||a.$$is_boolean&&1!=a)c["$[]="]("sectnums","")}if((a=!1!==(b=c["$key?"]("doctitle"))&&b!==f&&null!=
b?b:(g=this.$doctitle())["$!"]())===f||null==a||a.$$is_boolean&&1!=a)c["$[]="]("doctitle",g);if((a=this.id)===f||null==a||a.$$is_boolean&&1!=a)this.id=c["$[]"]("css-signature");h=(a=k=(b=c.$delete("toc2"))===f||null==b||b.$$is_boolean&&1!=b?c["$[]"]("toc"):"left")===f||null==a||a.$$is_boolean&&1!=a?f:(a=(b=m=c.$fetch("toc-placement","macro"),!1!==b&&b!==f&&null!=b?m["$!="]("auto"):b))===f||null==a||a.$$is_boolean&&1!=a?c["$[]"]("toc-position"):m;if((a=(b=!1!==k&&k!==f&&null!=k)?!1!==(d=k["$empty?"]()["$!"]())&&
d!==f&&null!=d?d:h["$nil_or_empty?"]()["$!"]():k)!==f&&null!=a&&(!a.$$is_boolean||1==a)){J="left";K="toc2";h=(a=h["$nil_or_empty?"]()["$!"]())===f||null==a||a.$$is_boolean&&1!=a?(a=k["$empty?"]()["$!"]())===f||null==a||a.$$is_boolean&&1!=a?J:k:h;c["$[]="]("toc","");c["$[]="]("toc-placement","auto");k=h;if("left"["$==="](k)||"<"["$==="](k)||"&lt;"["$==="](k))c["$[]="]("toc-position","left");else if("right"["$==="](k)||">"["$==="](k)||"&gt;"["$==="](k))c["$[]="]("toc-position","right");else if("top"["$==="](k)||
"^"["$==="](k))c["$[]="]("toc-position","top");else if("bottom"["$==="](k)||"v"["$==="](k))c["$[]="]("toc-position","bottom");else"preamble"["$==="](k)||"macro"["$==="](k)?(c["$[]="]("toc-position","content"),c["$[]="]("toc-placement",h)):c.$delete("toc-position"),K=f;!1!==K&&K!==f&&null!=K&&(a="toc-class",b=c,!1!==(d=b["$[]"](a))&&d!==f&&null!=d?d:b["$[]="](a,K))}if((a=c["$key?"]("compat-mode"))===f||null==a||a.$$is_boolean&&1!=a)this.compat_mode=!1;else{if((a=c["$has_key?"]("language"))!==f&&null!=
a&&(!a.$$is_boolean||1==a))c["$[]="]("source-language",c["$[]"]("language"));this.compat_mode=!0}this.outfilesuffix=c["$[]"]("outfilesuffix");this.header_attributes=c.$dup();return(a=this.parent_document)===f||null==a||a.$$is_boolean&&1!=a?(a=(b=v.get("FLEXIBLE_ATTRIBUTES")).$each,a.$$p=(e=function(a){var b=e.$$s||this,d,c;null==b.attribute_overrides&&(b.attribute_overrides=f);null==a&&(a=f);return(d=(c=b.attribute_overrides["$key?"](a),!1!==c&&c!==f&&null!=c?b.attribute_overrides["$[]"](a):c))===
f||null==d||d.$$is_boolean&&1!=d?f:b.attribute_overrides.$delete(a)},e.$$s=this,e.$$arity=1,e),a).call(b):f},ka.$$arity=0);a.defn(g,"$restore_attributes",u=function(){var a;((a=this.parent_document)===f||null==a||a.$$is_boolean&&1!=a)&&this.callouts.$rewind();return this.attributes=this.header_attributes},u.$$arity=0);a.defn(g,"$clear_playback_attributes",ea=function(a){return a.$delete("attribute_entries")},ea.$$arity=1);a.defn(g,"$playback_attributes",l=function(a){var b,d,c;return(b=a["$key?"]("attribute_entries"))===
f||null==b||b.$$is_boolean&&1!=b?f:(b=(d=a["$[]"]("attribute_entries")).$each,b.$$p=(c=function(a){var b=c.$$s||this,d,e=f;null==b.attributes&&(b.attributes=f);null==a&&(a=f);e=a.$name();if((d=a.$negate())===f||null==d||d.$$is_boolean&&1!=d)return b.attributes["$[]="](e,a.$value()),e["$=="]("compat-mode")?b.compat_mode=!0:f;b.attributes.$delete(e);return e["$=="]("compat-mode")?b.compat_mode=!1:f},c.$$s=this,c.$$arity=1,c),b).call(d)},l.$$arity=1);a.defn(g,"$set_attribute",ba=function(a,b){var d,
c=f,e=f;if((d=this["$attribute_locked?"](a))===f||null==d||d.$$is_boolean&&1!=d){c=(d=this.max_attribute_value_size)===f||null==d||d.$$is_boolean&&1!=d?this.$apply_attribute_value_subs(b):this.$apply_attribute_value_subs(b).$limit(this.max_attribute_value_size);e=a;if("backend"["$==="](e))this.$update_backend_attributes(c,this.attributes_modified["$delete?"]("htmlsyntax")["$!"]()["$!"]());else if("doctype"["$==="](e))this.$update_doctype_attributes(c);else this.attributes["$[]="](a,c);this.attributes_modified["$<<"](a);
return!0}return!1},ba.$$arity=2);a.defn(g,"$delete_attribute",X=function(a){var b;return(b=this["$attribute_locked?"](a))===f||null==b||b.$$is_boolean&&1!=b?(this.attributes.$delete(a),this.attributes_modified["$<<"](a),!0):!1},X.$$arity=1);a.defn(g,"$attribute_locked?",U=function(a){return this.attribute_overrides["$key?"](a)},U.$$arity=1);a.defn(g,"$apply_attribute_value_subs",ga=function(a){var b,d=f,c=f;if((b=d=v.get("AttributeEntryPassMacroRx").$match(a))===f||null==b||b.$$is_boolean&&1!=b)return this.$apply_header_subs(a);
if((b=d["$[]"](1)["$empty?"]()["$!"]())===f||null==b||b.$$is_boolean&&1!=b)return d["$[]"](2);c=this.$resolve_pass_subs(d["$[]"](1));return(b=c["$empty?"]())===f||null==b||b.$$is_boolean&&1!=b?this.$apply_subs(d["$[]"](2),c):d["$[]"](2)},ga.$$arity=1);a.defn(g,"$update_backend_attributes",ra=function(a,d){var c,e,g=f,h=f,k=f,m=f,n=f,J=h=f,K=f,A=f,J=f;null==d&&(d=!1);if((c=!1!==(e=d)&&e!==f&&null!=e?e:!1!==a&&a!==f&&null!=a?a["$!="](this.attributes["$[]"]("backend")):a)===f||null==c||c.$$is_boolean&&
1!=c)return f;g=this.attributes;h=g["$[]"]("backend");k=g["$[]"]("basebackend");m=g["$[]"]("doctype");if((c=a["$start_with?"]("xhtml"))!==f&&null!=c&&(!c.$$is_boolean||1==c))g["$[]="]("htmlsyntax","xml"),a=a["$[]"](b(1,-1,!1));else if(!((c=a["$start_with?"]("html"))===f||null==c||c.$$is_boolean&&1!=c||g["$[]"]("htmlsyntax")["$=="]("xml")))g["$[]="]("htmlsyntax","html");(c=n=v.get("BACKEND_ALIASES")["$[]"](a))===f||null==c||c.$$is_boolean&&1!=c||(a=n);!1!==h&&h!==f&&null!=h&&(g.$delete("backend-"+
h),!1!==m&&m!==f&&null!=m&&g.$delete("backend-"+h+"-doctype-"+m));!1!==m&&m!==f&&null!=m&&(g["$[]="]("doctype-"+m,""),g["$[]="]("backend-"+a+"-doctype-"+m,""));g["$[]="]("backend",a);g["$[]="]("backend-"+a,"");if((c=v.get("Converter").$$scope.get("BackendInfo")["$==="](this.converter=this.$create_converter()))===f||null==c||c.$$is_boolean&&1!=c){if(h=a.$sub(v.get("TrailingDigitsRx"),""),K=!1!==(c=v.get("DEFAULT_EXTENSIONS")["$[]"](h))&&c!==f&&null!=c?c:".html",J=K["$[]"](b(1,-1,!1)),(c=this["$attribute_locked?"]("outfilesuffix"))===
f||null==c||c.$$is_boolean&&1!=c)g["$[]="]("outfilesuffix",K)}else{h=this.converter.$basebackend();if((c=this["$attribute_locked?"]("outfilesuffix"))===f||null==c||c.$$is_boolean&&1!=c)g["$[]="]("outfilesuffix",this.converter.$outfilesuffix());J=this.converter.$filetype()}(c=A=g["$[]"]("filetype"))===f||null==c||c.$$is_boolean&&1!=c||g.$delete("filetype-"+A);g["$[]="]("filetype",J);g["$[]="]("filetype-"+J,"");if((c=J=v.get("DEFAULT_PAGE_WIDTHS")["$[]"](h))===f||null==c||c.$$is_boolean&&1!=c)g.$delete("pagewidth");
else g["$[]="]("pagewidth",J);if((c=h["$!="](k))!==f&&null!=c&&(!c.$$is_boolean||1==c)&&(!1!==k&&k!==f&&null!=k&&(g.$delete("basebackend-"+k),!1!==m&&m!==f&&null!=m&&g.$delete("basebackend-"+k+"-doctype-"+m)),g["$[]="]("basebackend",h),g["$[]="]("basebackend-"+h,""),!1!==m&&m!==f&&null!=m))g["$[]="]("basebackend-"+h+"-doctype-"+m,"");return this.backend=f},ra.$$arity=-2);a.defn(g,"$update_doctype_attributes",va=function(a){var b,d=f,c=f,e=f,g=f;if((b=!1!==a&&a!==f&&null!=a?a["$!="](this.attributes["$[]"]("doctype")):
a)===f||null==b||b.$$is_boolean&&1!=b)return f;d=this.attributes;c=d["$[]"]("doctype");e=d["$[]"]("backend");g=d["$[]"]("basebackend");!1!==c&&c!==f&&null!=c&&(d.$delete("doctype-"+c),!1!==e&&e!==f&&null!=e&&d.$delete("backend-"+e+"-doctype-"+c),!1!==g&&g!==f&&null!=g&&d.$delete("basebackend-"+g+"-doctype-"+c));d["$[]="]("doctype",a);d["$[]="]("doctype-"+a,"");if(!1!==e&&e!==f&&null!=e)d["$[]="]("backend-"+e+"-doctype-"+a,"");if(!1!==g&&g!==f&&null!=g)d["$[]="]("basebackend-"+g+"-doctype-"+a,"");
return this.doctype=f},va.$$arity=1);a.defn(g,"$create_converter",wa=function(){var b,c=f,e=f,g=f,h=f,k=f,c=d([],{});c["$[]="]("htmlsyntax",this.attributes["$[]"]("htmlsyntax"));e=(b=g=this.options["$[]"]("template_dir"))===f||null==b||b.$$is_boolean&&1!=b?(b=e=this.options["$[]"]("template_dirs"))===f||null==b||b.$$is_boolean&&1!=b?f:c["$[]="]("template_dirs",e):c["$[]="]("template_dirs",[g]);!1!==e&&e!==f&&null!=e&&(c["$[]="]("template_cache",this.options.$fetch("template_cache",!0)),c["$[]="]("template_engine",
this.options["$[]"]("template_engine")),c["$[]="]("template_engine_options",this.options["$[]"]("template_engine_options")),c["$[]="]("eruby",this.options["$[]"]("eruby")),c["$[]="]("safe",this.safe));k=(b=h=this.options["$[]"]("converter"))===f||null==b||b.$$is_boolean&&1!=b?v.get("Converter").$$scope.get("Factory").$default(!1):v.get("Converter").$$scope.get("Factory").$new(a.get("Hash")["$[]"](this.$backend(),h));return k.$create(this.$backend(),c)},wa.$$arity=0);a.defn(g,"$convert",xa=function(a){var b,
c,e,g=f,h=f,k=f,D=f;null==a&&(a=d([],{}));((b=this.parsed)===f||null==b||b.$$is_boolean&&1!=b)&&this.$parse();if((b=!1!==(c=m(this.safe,v.get("SafeMode").$$scope.get("SERVER")))&&c!==f&&null!=c?c:a["$empty?"]())===f||null==b||b.$$is_boolean&&1!=b)((b=this.attributes["$[]="]("outfile",a["$[]"]("outfile")))===f||null==b||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outfile"),((b=this.attributes["$[]="]("outdir",a["$[]"]("outdir")))===f||null==b||b.$$is_boolean&&1!=b)&&this.attributes.$delete("outdir");
((b=this.converter)===f||null==b||b.$$is_boolean&&1!=b)&&this.$fail("asciidoctor: FAILED: missing converter for backend '"+this.$backend()+"'. Processing aborted.");this.$doctype()["$=="]("inline")?h=(b=(c=g=this.blocks["$[]"](0),!1!==c&&c!==f&&null!=c?g.$content_model()["$!="]("compound"):c))===f||null==b||b.$$is_boolean&&1!=b?f:g.$content():(k=(b=(c=a["$key?"]("header_footer"))===f||null==c||c.$$is_boolean&&1!=c?this.options["$[]"]("header_footer"):a["$[]"]("header_footer"))===f||null==b||b.$$is_boolean&&
1!=b?"embedded":"document",h=this.converter.$convert(this,k));!((b=this.parent_document)===f||null==b||b.$$is_boolean&&1!=b)||(b=(c=D=this.extensions,!1!==c&&c!==f&&null!=c?D["$postprocessors?"]():c))===f||null==b||b.$$is_boolean&&1!=b||(b=(c=D.$postprocessors()).$each,b.$$p=(e=function(a){var b=e.$$s||this;null==a&&(a=f);return h=a.$process_method()["$[]"](b,h)},e.$$s=this,e.$$arity=1,e),b).call(c);return h},xa.$$arity=-1);a.alias(g,"render","convert");a.defn(g,"$write",ya=function(b,d){var c,e,
g;if((c=v.get("Writer")["$==="](this.converter))===f||null==c||c.$$is_boolean&&1!=c){if((c=d["$respond_to?"]("write"))===f||null==c||c.$$is_boolean&&1!=c)(c=(e=a.get("File")).$open,c.$$p=(g=function(a){null==a&&(a=f);return a.$write(b)},g.$$s=this,g.$$arity=1,g),c).call(e,d,"w");else if((c=b["$nil_or_empty?"]())===f||null==c||c.$$is_boolean&&1!=c)d.$write(b.$chomp()),d.$write(v.get("EOL"));return f}return this.converter.$write(b,d)},ya.$$arity=2);a.defn(g,"$content",sa=function(){var b,c=sa.$$p,d=
f,e=f;sa.$$p=null;d=[];for(e=0;e<arguments.length;e++)d[e]=arguments[e];this.attributes.$delete("title");return(b=a.find_super_dispatcher(this,"content",sa,!1),b.$$p=c,b).apply(this,d)},sa.$$arity=0);a.defn(g,"$docinfo",ta=function(a,b){var c,e,g,k,n=f,D=f,l=f,J=f,K=n=f,A=f,D=D=f;null==a&&(a="head");null==b&&(b=f);if((c=m(this.$safe(),v.get("SafeMode").$$scope.get("SECURE")))===f||null==c||c.$$is_boolean&&1!=c){n=a["$=="]("head")?f:"-"+a;if(!1===b||b===f||null==b)b=this.outfilesuffix;D=this.attributes["$[]"]("docinfodir");
l=f;J=(c=(J=this.attributes["$[]"]("docinfo"))["$nil_or_empty?"]())===f||null==c||c.$$is_boolean&&1!=c?(c=(e=J.$split(",")).$map,c.$$p="strip".$to_proc(),c).call(e):(c=this.attributes["$key?"]("docinfo2"))===f||null==c||c.$$is_boolean&&1!=c?(c=this.attributes["$key?"]("docinfo1"))===f||null==c||c.$$is_boolean&&1!=c?!1!==J&&J!==f&&null!=J?["private"]:f:["shared"]:["private","shared"];if(!1!==J&&J!==f&&null!=J){n="docinfo"+n+b;if((c=J["$&"](["shared","shared-"+a])["$empty?"]())===f||null==c||c.$$is_boolean&&
1!=c)K=this.$normalize_system_path(n,D),(c=l=this.$read_asset(K,d(["normalize"],{normalize:!0})))===f||null==c||c.$$is_boolean&&1!=c||(c=!1!==(g=A)&&g!==f&&null!=g?g:A=this.$resolve_docinfo_subs())===f||null==c||c.$$is_boolean&&1!=c||(l=(c=A["$=="]("attributes"))===f||null==c||c.$$is_boolean&&1!=c?this.$apply_subs(l,A):this.$sub_attributes(l));if((c=!1!==(g=this.attributes["$[]"]("docname")["$nil_or_empty?"]())&&g!==f&&null!=g?g:J["$&"](["private","private-"+a])["$empty?"]())===f||null==c||c.$$is_boolean&&
1!=c)K=this.$normalize_system_path(""+this.attributes["$[]"]("docname")+"-"+n,D),(c=D=this.$read_asset(K,d(["normalize"],{normalize:!0})))===f||null==c||c.$$is_boolean&&1!=c||((c=!1!==(g=A)&&g!==f&&null!=g?g:A=this.$resolve_docinfo_subs())===f||null==c||c.$$is_boolean&&1!=c||(D=(c=A["$=="]("attributes"))===f||null==c||c.$$is_boolean&&1!=c?this.$apply_subs(D,A):this.$sub_attributes(D)),l=!1!==l&&l!==f&&null!=l?""+l+v.get("EOL")+D:D)}(c=(g=this.extensions,!1!==g&&g!==f&&null!=g?this["$docinfo_processors?"](a):
g))===f||null==c||c.$$is_boolean&&1!=c||(D=h((c=(g=this.docinfo_processor_extensions["$[]"](a)).$map,c.$$p=(k=function(a){var b=k.$$s||this;null==a&&(a=f);return a.$process_method()["$[]"](b)},k.$$s=this,k.$$arity=1,k),c).call(g).$compact(),v.get("EOL")),l=!1!==l&&l!==f&&null!=l?""+l+v.get("EOL")+D:D);return""+l}return""},ta.$$arity=-1);a.defn(g,"$resolve_docinfo_subs",qa=function(){var a,b=f;if((a=this.attributes["$key?"]("docinfosubs"))===f||null==a||a.$$is_boolean&&1!=a)return"attributes";b=this.$resolve_subs(this.attributes["$[]"]("docinfosubs"),
"block",f,"docinfo");return(a=b["$empty?"]())===f||null==a||a.$$is_boolean&&1!=a?b:f},qa.$$arity=0);a.defn(g,"$docinfo_processors?",oa=function(a){var b,c;null==a&&(a="head");return(b=this.docinfo_processor_extensions["$key?"](a))===f||null==b||b.$$is_boolean&&1!=b?(b=(c=this.extensions,!1!==c&&c!==f&&null!=c?this.document.$extensions()["$docinfo_processors?"](a):c))===f||null==b||b.$$is_boolean&&1!=b?this.docinfo_processor_extensions["$[]="](a,!1):this.docinfo_processor_extensions["$[]="](a,this.document.$extensions().$docinfo_processors(a))["$!"]()["$!"]():
this.docinfo_processor_extensions["$[]"](a)["$!="](!1)},oa.$$arity=-1);return(a.defn(g,"$to_s",ha=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {doctype: "+this.$doctype().$inspect()+", doctitle: "+((a=this.header["$!="](f))===f||null==a||a.$$is_boolean&&1!=a?f:this.header.$title()).$inspect()+", blocks: "+this.blocks.$size()+"}>"},ha.$$arity=0),f)&&"to_s"})(t.base,t.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/inline"]=function(a){var m=a.nil,n=a.module,h=a.klass,f=a.hash2;a.add_stubs("$attr_reader $attr_accessor $[] $nil_or_empty? $update_attributes $convert $converter".split(" "));return function(c){c=n(c,"Asciidoctor").$$scope;(function(c,$super){function b(){}var n=b=h(c,$super,"Inline",b),H,w,p,g;n.$attr_reader("text");n.$attr_reader("type");n.$attr_accessor("target");a.defn(n,"$initialize",H=function(b,c,e,g){var h,n=m;null==e&&(e=m);null==g&&(g=f([],{}));H.$$p=null;(h=a.find_super_dispatcher(this,
"initialize",H,!1),h.$$p=null,h).call(this,b,c);this.node_name="inline_"+c;this.text=e;this.id=g["$[]"]("id");this.type=g["$[]"]("type");this.target=g["$[]"]("target");return(h=(n=g["$[]"]("attributes"))["$nil_or_empty?"]())===m||null==h||h.$$is_boolean&&1!=h?this.$update_attributes(n):m},H.$$arity=-3);a.defn(n,"$block?",w=function(){return!1},w.$$arity=0);a.defn(n,"$inline?",p=function(){return!0},p.$$arity=0);a.defn(n,"$convert",g=function(){return this.$converter().$convert(this)},g.$$arity=0);
return a.alias(n,"render","convert")})(c.base,c.get("AbstractNode"))}(a.base)};
Opal.modules["asciidoctor/list"]=function(a){var m=a.nil,n=a.module,h=a.klass;a.add_stubs("$== $next_list $callouts $class $object_id $inspect $size $items $attr_accessor $level $! $nil_or_empty? $apply_subs $empty? $=== $[] $outline? $simple? $context $option? $shift $blocks $unshift $lines $source $parent".split(" "));return function(f){f=n(f,"Asciidoctor").$$scope;(function(c,$super){function d(){}var b=d=h(c,$super,"List",d),f=b.$$proto,n,w,p,g;f.context=f.document=f.style=m;a.alias(b,"items",
"blocks");a.alias(b,"content","blocks");a.alias(b,"items?","blocks?");a.defn(b,"$initialize",n=function(b,c){var d,g=n.$$p,f=m,h=m;n.$$p=null;f=[];for(h=0;h<arguments.length;h++)f[h]=arguments[h];return(d=a.find_super_dispatcher(this,"initialize",n,!1),d.$$p=g,d).apply(this,f)},n.$$arity=2);a.defn(b,"$outline?",w=function(){var a;return!1!==(a=this.context["$=="]("ulist"))&&a!==m&&null!=a?a:this.context["$=="]("olist")},w.$$arity=0);a.defn(b,"$convert",p=function(){var b,c=p.$$p,d=m,g=d=m;p.$$p=null;
d=[];for(g=0;g<arguments.length;g++)d[g]=arguments[g];return this.context["$=="]("colist")?(d=(b=a.find_super_dispatcher(this,"convert",p,!1),b.$$p=c,b).apply(this,d),this.document.$callouts().$next_list(),d):(b=a.find_super_dispatcher(this,"convert",p,!1),b.$$p=c,b).apply(this,d)},p.$$arity=0);a.alias(b,"render","convert");return(a.defn(b,"$to_s",g=function(){return"#<"+this.$class()+"@"+this.$object_id()+" {context: "+this.context.$inspect()+", style: "+this.style.$inspect()+", items: "+this.$items().$size()+
"}>"},g.$$arity=0),m)&&"to_s"})(f.base,f.get("AbstractBlock"));(function(c,$super){function d(){}var b=d=h(c,$super,"ListItem",d),f=b.$$proto,n=b.$$scope,w,p,g,L,v,z,I;f.text=f.blocks=m;a.alias(b,"list","parent");b.$attr_accessor("marker");a.defn(b,"$initialize",w=function(b,c){var d;null==c&&(c=m);w.$$p=null;(d=a.find_super_dispatcher(this,"initialize",w,!1),d.$$p=null,d).call(this,b,"list_item");this.text=c;return this.level=b.$level()},w.$$arity=-2);a.defn(b,"$text?",p=function(){return this.text["$nil_or_empty?"]()["$!"]()},
p.$$arity=0);a.defn(b,"$text",g=function(){return this.$apply_subs(this.text)},g.$$arity=0);a.defn(b,"$simple?",L=function(){var a,b,c=m;return!1!==(a=this.blocks["$empty?"]())&&a!==m&&null!=a?a:(b=this.blocks.$size()["$=="](1)?n.get("List")["$==="](c=this.blocks["$[]"](0)):this.blocks.$size()["$=="](1),!1!==b&&b!==m&&null!=b?c["$outline?"]():b)},L.$$arity=0);a.defn(b,"$compound?",v=function(){return this["$simple?"]()["$!"]()},v.$$arity=0);a.defn(b,"$fold_first",z=function(a,b){var c,d,g,f,h,p,q=
m,k=m;null==a&&(a=!1);null==b&&(b=!1);(c=(d=(g=q=this.blocks["$[]"](0),!1!==g&&g!==m&&null!=g?n.get("Block")["$==="](q):g),!1!==d&&d!==m&&null!=d?!1!==(g=q.$context()["$=="]("paragraph")?a["$!"]():q.$context()["$=="]("paragraph"))&&g!==m&&null!=g?g:(f=(h=!1!==(p=b)&&p!==m&&null!=p?p:a["$!"](),!1!==h&&h!==m&&null!=h?q.$context()["$=="]("literal"):h),!1!==f&&f!==m&&null!=f?q["$option?"]("listparagraph"):f):d))===m||null==c||c.$$is_boolean&&1!=c||(k=this.$blocks().$shift(),((c=this.text["$nil_or_empty?"]())===
m||null==c||c.$$is_boolean&&1!=c)&&k.$lines().$unshift(this.text),this.text=k.$source());return m},z.$$arity=-1);return(a.defn(b,"$to_s",I=function(){var a;return"#<"+this.$class()+"@"+this.$object_id()+" {list_context: "+this.$parent().$context().$inspect()+", text: "+this.text.$inspect()+", blocks: "+(!1!==(a=this.blocks)&&a!==m&&null!=a?a:[]).$size()+"}>"},I.$$arity=0),m)&&"to_s"})(f.base,f.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/parser"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function e(a,b){return"number"===typeof a&&"number"===typeof b?
a<=b:a["$<="](b)}function d(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var b=a.nil,t=a.module,H=a.klass,w=a.hash2,p=a.hash,g=a.range,L=a.gvars;a.add_stubs("$new $lambda $start_with? $=~ $is_delimited_block? $raise $parse_document_header $[] $has_more_lines? $next_section $<< $parse_block_metadata_lines $is_next_line_document_title? $has_key? $finalize_header $nil_or_empty? $attributes $title= $sourcemap $cursor $parse_section_title $id= $set_attribute $delete $source_location= $header $[]= $id $parse_style_attribute $key? $parse_header_metadata $== $doctype $parse_manpage_header $match $sub_attributes $downcase $rstrip $strip $warn $prev_line_info $skip_blank_lines $is_next_line_section? $initialize_section $level $tr_s $join $read_lines_until $backend $context $empty? $blocks $has_header? $! $!= $attr? $attr $document $special $include? $sectname $+ $to_i $> $line_info $size $* $next_block $blocks? $style $context= $style= $parent= $content_model $shift $unwrap_standalone_preamble $dup $fetch $extensions $block_macros? $=== $parse_block_metadata_line $advance $read_line $terminator $to_s $masq $to_sym $registered_for_block? $strict_verbatim_paragraphs $unshift_line $markdown_syntax $chr $lstrip $>= $length $end_with? $parse_attributes $attribute_missing $clear $registered_for_block_macro? $config $each $process_method $replace $peek_line $path $- $lineno $next_list_item $callout_ids $callouts $items $next_list $next_outline_list $marker $find $next_labeled_list $is_section_title? $underline_style_section_titles $generate_id $level= $read_paragraph_lines $adjust_indentation! $set_option $catalog_inline_anchors $post_match $map! $split $pop $build_block $blockquote? $chop $tr $rekey $next_table $concat $title? $register $basename $sub_specialchars $assign_caption $ord $caption $caption= $title $update $lock_in_subs $sub? $catalog_callouts $source $remove_sub $block_terminates_paragraph $to_proc $<= $< $nil? $lines $parse_blocks $resolve_list_marker $items? $parent $scan $marker= $read_lines_for_list_item $skip_line_comments $unshift_lines $fold_first $text? $is_sibling_list_item? $delete_at $sectname= $special= $update_attributes $peek_lines $is_single_line_section_title? $is_two_line_section_title? $single_line_section_level $abs $line_length $section_level $process_attribute_entries $next_line_empty? $process_authors $apply_header_subs $map $each_with_index $push $to_a $process_attribute_entry $skip_comment_lines $store_attribute $sanitize_attribute_name $delete_attribute $save_to $resolve_ordered_list_marker $chomp $roman_numeral_to_int $parse_colspecs $create_columns $has_header_option= $format $starts_with_delimiter? $close_open_cell $parse_cellspec $delimiter $match_delimiter $buffer_has_unclosed_quotes? $pre_match $skip_matched_delimiter $buffer= $buffer $keep_cell_open $push_cellspec $close_cell $cell_open? $columns $assign_column_widths $partition_header_footer $upto $shorthand_property_syntax $each_char $call $sub! $gsub! $% $begin $gsub".split(" "));
return function(v){(function(t,$super){function v(){}var C=v=H(t,$super,"Parser",v),r=C.$$scope,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B,Z,x,E,fa,ia,ja,ma,na,ka,u,ea,l,ba,X,U,ga,ra,va,wa,xa,ya,sa,ta,qa,oa,ha,pa,ua,T,Aa,Ba,Ca,Da;a.cdecl(r,"BlockMatchData",r.get("Struct").$new("context","masq","tip","terminator"));a.cdecl(r,"TabRx",/\t/);a.cdecl(r,"TabIndentRx",/^\t+/);a.cdecl(r,"StartOfBlockProc",(Q=C.$lambda,Q.$$p=(O=function(a){var c=O.$$s||this,d,e;null==a&&(a=b);return!1!==(d=(e=a["$start_with?"]("["),
!1!==e&&e!==b&&null!=e?r.get("BlockAttributeLineRx")["$=~"](a):e))&&d!==b&&null!=d?d:c["$is_delimited_block?"](a)},O.$$s=C,O.$$arity=1,O),Q).call(C));a.cdecl(r,"StartOfListProc",(Q=C.$lambda,Q.$$p=(S=function(a){null==a&&(a=b);return r.get("AnyListRx")["$=~"](a)},S.$$s=C,S.$$arity=1,S),Q).call(C));a.cdecl(r,"StartOfBlockOrListProc",(Q=C.$lambda,Q.$$p=(M=function(a){var c=M.$$s||this,d,e,g;null==a&&(a=b);return!1!==(d=!1!==(e=c["$is_delimited_block?"](a))&&e!==b&&null!=e?e:(g=a["$start_with?"]("["),
!1!==g&&g!==b&&null!=g?r.get("BlockAttributeLineRx")["$=~"](a):g))&&d!==b&&null!=d?d:r.get("AnyListRx")["$=~"](a)},M.$$s=C,M.$$arity=1,M),Q).call(C));a.cdecl(r,"NoOp",b);a.defn(C,"$initialize",R=function(){return this.$raise("Au contraire, mon frere. No lexer instances will be running around.")},R.$$arity=0);a.defs(C,"$parse",q=function(c,d,e){var g,f,h=b,k=b;null==e&&(e=w([],{}));h=this.$parse_document_header(c,d);if((g=e["$[]"]("header_only"))===b||null==g||g.$$is_boolean&&1!=g)for(;(f=c["$has_more_lines?"]())!==
b&&null!=f&&(!f.$$is_boolean||1==f);)if(e=this.$next_section(c,d,h),f=a.to_ary(e),k=null==f[0]?b:f[0],h=null==f[1]?b:f[1],e,!1!==k&&k!==b&&null!=k)d["$<<"](k);return d},q.$$arity=-3);a.defs(C,"$parse_document_header",k=function(c,d){var e,g,f=b,h=b,k=b,m=b,n=b,l=b,r=h=n=b,h=h=b,f=this.$parse_block_metadata_lines(c,d);if((e=(g=h=this["$is_next_line_document_title?"](c,f),!1!==g&&g!==b&&null!=g?f["$has_key?"]("title"):g))!==b&&null!=e&&(!e.$$is_boolean||1==e))return d.$finalize_header(f,!1);k=b;if((e=
(m=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())===b||null==e||e.$$is_boolean&&1!=e)e=[k=m],g=d,g["$title="].apply(g,e),e[e.length-1];n=b;if(!1!==h&&h!==b&&null!=h){(e=d.$sourcemap())===b||null==e||e.$$is_boolean&&1!=e||(l=c.$cursor());g=this.$parse_section_title(c,d);e=a.to_ary(g);d["$id="](null==e[0]?b:e[0]);n=null==e[2]?b:e[2];h=null==e[4]?b:e[4];g;if(!1===k||k===b||null==k)e=[k=n],g=d,g["$title="].apply(g,e),e[e.length-1];!1!==h&&h!==b&&null!=h||d.$set_attribute("compat-mode","");(e=
r=f.$delete("separator"))===b||null==e||e.$$is_boolean&&1!=e||d.$set_attribute("title-separator",r);!1!==l&&l!==b&&null!=l&&(e=[l],g=d.$header(),g["$source_location="].apply(g,e),e[e.length-1]);d.$attributes()["$[]="]("doctitle",n);if((e=d.$id())===b||null==e||e.$$is_boolean&&1!=e){if(!((e=h=f.$delete(1))===b||null==e||e.$$is_boolean&&1!=e||(h=p(1,h),this.$parse_style_attribute(h,c),(e=h["$key?"]("id"))===b||null==e||e.$$is_boolean&&1!=e)))f["$[]="]("id",h["$[]"]("id"));e=[f.$delete("id")];g=d;g["$id="].apply(g,
e);e[e.length-1]}else f.$delete(1),f.$delete("id");this.$parse_header_metadata(c,d)}if((e=!1!==(g=(m=d.$attributes()["$[]"]("doctitle"))["$nil_or_empty?"]())&&g!==b&&null!=g?g:m["$=="](n))===b||null==e||e.$$is_boolean&&1!=e)e=[k=m],g=d,g["$title="].apply(g,e),e[e.length-1];if(!1!==k&&k!==b&&null!=k)d.$attributes()["$[]="]("doctitle",k);d.$doctype()["$=="]("manpage")&&this.$parse_manpage_header(c,d);return d.$finalize_header(f)},k.$$arity=2);a.defs(C,"$parse_manpage_header",Y=function(a,c){var d,e=
b,e=e=b;(d=e=r.get("ManpageTitleVolnumRx").$match(c.$attributes()["$[]"]("doctitle")))===b||null==d||d.$$is_boolean&&1!=d?(this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed manpage title"),c.$attributes()["$[]="]("mantitle",c.$attributes()["$[]"]("doctitle")),c.$attributes()["$[]="]("manvolnum","1")):(c.$attributes()["$[]="]("mantitle",c.$sub_attributes(e["$[]"](1).$rstrip().$downcase())),c.$attributes()["$[]="]("manvolnum",e["$[]"](2).$strip()));a.$skip_blank_lines();if((d=this["$is_next_line_section?"](a,
w([],{})))===b||null==d||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section expected");e=this.$initialize_section(a,c,w([],{}));if(e.$level()["$=="](1)){e=a.$read_lines_until(w(["break_on_blank_lines"],{break_on_blank_lines:!0})).$join(" ").$tr_s(" "," ");if((d=e=r.get("ManpageNamePurposeRx").$match(e))===b||null==d||d.$$is_boolean&&1!=d)return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": malformed name section body");c.$attributes()["$[]="]("manname",
c.$sub_attributes(e["$[]"](1)));c.$attributes()["$[]="]("manpurpose",e["$[]"](2));return c.$backend()["$=="]("manpage")?(c.$attributes()["$[]="]("docname",c.$attributes()["$[]"]("manname")),c.$attributes()["$[]="]("outfilesuffix","."+c.$attributes()["$[]"]("manvolnum"))):b}return this.$warn("asciidoctor: ERROR: "+a.$prev_line_info()+": name section title must be at level 1")},Y.$$arity=2);a.defs(C,"$next_section",G=function(c,d,e){var g,f,k,l,p=b,q=b,t=b,x=b,u=b,v=b,B=b,N=b,G=B=b,R=G=G=b,E=b,u=q=
b;null==e&&(e=w([],{}));t=q=p=!1;(g=(f=(k=d.$context()["$=="]("document"))?d.$blocks()["$empty?"]():d.$context()["$=="]("document"),!1!==f&&f!==b&&null!=f?!1!==(k=!1!==(l=x=d["$has_header?"]())&&l!==b&&null!=l?l:e.$delete("invalid-header"))&&k!==b&&null!=k?k:this["$is_next_line_section?"](c,e)["$!"]():f))===b||null==g||g.$$is_boolean&&1!=g?(u=d.$document().$doctype(),v=this.$initialize_section(c,d,e),e=(g=B=e["$[]"]("title"))===b||null==g||g.$$is_boolean&&1!=g?w([],{}):w(["title"],{title:B}),B=v.$level(),
(g=(f=B["$=="](0))?u["$=="]("book"):B["$=="](0))===b||null==g||g.$$is_boolean&&1!=g?N=[m(B,1)]:(q=v.$special()["$!"](),N=(g=(f=v.$special(),!1!==f&&f!==b&&null!=f?["preface","appendix"]["$include?"](v.$sectname()):f))===b||null==g||g.$$is_boolean&&1!=g?[m(B,1)]:[m(B,2)])):(u=d.$doctype(),(g=!1!==(f=x)&&f!==b&&null!=f?f:(k=u["$=="]("book"))?e["$[]"](1)["$!="]("abstract"):u["$=="]("book"))===b||null==g||g.$$is_boolean&&1!=g||(p=t=r.get("Block").$new(d,"preamble",w(["content_model"],{content_model:"compound"})),
(g=(f=u["$=="]("book"))?d["$attr?"]("preface-title"):u["$=="]("book"))===b||null==g||g.$$is_boolean&&1!=g||(g=[d.$attr("preface-title")],f=p,f["$title="].apply(f,g),g[g.length-1]),d["$<<"](p)),v=d,B=0,N=(g=d.$attributes()["$has_key?"]("fragment"))===b||null==g||g.$$is_boolean&&1!=g?u["$=="]("book")?[0,1]:[1]:b);for(c.$skip_blank_lines();(f=c["$has_more_lines?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f);){this.$parse_block_metadata_lines(c,v,e);if((f=G=this["$is_next_line_section?"](c,e))===b||null==
f||f.$$is_boolean&&1!=f)(G=c.$line_info(),(f=R=this.$next_block(c,!1!==(k=t)&&k!==b&&null!=k?k:v,e,w(["parse_metadata"],{parse_metadata:!1})))===b||null==f||f.$$is_boolean&&1!=f)||(!1!==q&&q!==b&&null!=q&&((f=v["$blocks?"]()["$!"]())===b||null==f||f.$$is_boolean&&1!=f?v.$blocks().$size()["$=="](1)&&((E=v.$blocks()["$[]"](0),(f=(k=t["$!"](),!1!==k&&k!==b&&null!=k?E.$content_model()["$=="]("compound"):k))===b||null==f||f.$$is_boolean&&1!=f)?(f=E.$content_model()["$!="]("compound"))===b||null==f||f.$$is_boolean&&
1!=f||(t=r.get("Block").$new(v,"open",w(["content_model"],{content_model:"compound"})),f=["partintro"],k=t,k["$style="].apply(k,f),f[f.length-1],v.$blocks().$shift(),E.$style()["$=="]("partintro")&&(f=["paragraph"],k=E,k["$context="].apply(k,f),f[f.length-1],f=[b],k=E,k["$style="].apply(k,f),f[f.length-1]),f=[t],k=E,k["$parent="].apply(k,f),f[f.length-1],t["$<<"](E),f=[t],k=R,k["$parent="].apply(k,f),f[f.length-1],v["$<<"](t)):this.$warn("asciidoctor: ERROR: "+G+": illegal block content outside of partintro block")):
(f=R.$style()["$!="]("partintro"))===b||null==f||f.$$is_boolean&&1!=f||(R.$context()["$=="]("paragraph")?(f=["open"],k=R,k["$context="].apply(k,f),f[f.length-1],f=["partintro"],k=R,k["$style="].apply(k,f),f[f.length-1]):(t=r.get("Block").$new(v,"open",w(["content_model"],{content_model:"compound"})),f=["partintro"],k=t,k["$style="].apply(k,f),f[f.length-1],f=[t],k=R,k["$parent="].apply(k,f),f[f.length-1],v["$<<"](t)))),(!1!==(f=t)&&f!==b&&null!=f?f:v)["$<<"](R),e=w([],{}));else if(G=m(G,v.$document().$attr("leveloffset",
0).$to_i()),(f=!1!==(k=n(G,B))&&k!==b&&null!=k?k:v.$context()["$=="]("document")?G["$=="](0):v.$context()["$=="]("document"))===b||null==f||f.$$is_boolean&&1!=f){(f=(k=G["$=="](0))?u["$!="]("book"):G["$=="](0))===b||null==f||f.$$is_boolean&&1!=f||this.$warn("asciidoctor: ERROR: "+c.$line_info()+": only book doctypes can contain level 0 sections");break}else(f=G["$=="](0)?u["$!="]("book"):G["$=="](0))===b||null==f||f.$$is_boolean&&1!=f?(f=!1!==N&&N!==b&&null!=N?N["$include?"](G)["$!"]():N)===b||null==
f||f.$$is_boolean&&1!=f||this.$warn(m(m("asciidoctor: WARNING: "+c.$line_info()+": section title out of sequence: ","expected "+((f=n(N.$size(),1))===b||null==f||f.$$is_boolean&&1!=f?"level":"levels")+" "+h(N," or ")+", "),"got level "+G)):this.$warn("asciidoctor: ERROR: "+c.$line_info()+": only book doctypes can contain level 0 sections"),k=this.$next_section(c,v,e),f=a.to_ary(k),G=null==f[0]?b:f[0],e=null==f[1]?b:f[1],k,v["$<<"](G);c.$skip_blank_lines()}if(!1!==q&&q!==b&&null!=q)((g=(f=v["$blocks?"](),
!1!==f&&f!==b&&null!=f?v.$blocks()["$[]"](-1).$context()["$=="]("section"):f))===b||null==g||g.$$is_boolean&&1!=g)&&this.$warn("asciidoctor: ERROR: "+c.$line_info()+": invalid part, must have at least one section (e.g., chapter, appendix, etc.)");else if(!1!==p&&p!==b&&null!=p)if(q=d,(g=p["$blocks?"]())===b||null==g||g.$$is_boolean&&1!=g)q.$blocks().$shift();else if((g=(f=(k=r.get("Compliance").$unwrap_standalone_preamble(),!1!==k&&k!==b&&null!=k?q.$blocks().$size()["$=="](1):k),!1!==f&&f!==b&&null!=
f?u["$!="]("book"):f))!==b&&null!=g&&(!g.$$is_boolean||1==g))for(q.$blocks().$shift();(f=u=p.$blocks().$shift())!==b&&null!=f&&(!f.$$is_boolean||1==f);)f=[q],k=u,k["$parent="].apply(k,f),f[f.length-1],q["$<<"](u);return[(g=v["$!="](d))===b||null==g||g.$$is_boolean&&1!=g?b:v,e.$dup()]},G.$$arity=-3);a.defs(C,"$next_block",V=function(d,e,h,k){var A,y,l,p,q,t,u,x,v,B,N,G=b,R=b,E=b,z=b,C=b,ba=b,da=b,Y=b,P=b,X=b,fa=b,Z=b,M=b,U=q=b,L=b,Q=b,O=b,V=O=b,F=q=O=q=b,S=O=P=P=b,H=b,ga=b,ja=q=P=P=S=O=q=P=S=b,ia=
M=U=q=O=q=q=b,T=b,ea=b,aa=M=U=U=b,ka=G=b,ca=b;null==h&&(h=w([],{}));null==k&&(k=w([],{}));G=d.$skip_blank_lines();if((A=d["$has_more_lines?"]())===b||null==A||A.$$is_boolean&&1!=A)return b;(A=(y=R=k["$[]"]("text"),!1!==y&&y!==b&&null!=y?n(G,0):y))===b||null==A||A.$$is_boolean&&1!=A||(k.$delete("text"),R=!1);E=k.$fetch("parse_metadata",!0);z=e.$document();(A=C=z.$extensions())===b||null==A||A.$$is_boolean&&1!=A?ba=da=!1:(ba=C["$blocks?"](),da=C["$block_macros?"]());Y=r.get("ListItem")["$==="](e);X=
P=b;fa=z.$sourcemap();for(Z=b;(y=(l=P["$!"](),!1!==l&&l!==b&&null!=l?d["$has_more_lines?"]():l))!==b&&null!=y&&(!y.$$is_boolean||1==y);)if((y=(l=!1!==E&&E!==b&&null!=E)?this.$parse_block_metadata_line(d,z,h,k):E)===b||null==y||y.$$is_boolean&&1!=y){!1!==fa&&fa!==b&&null!=fa&&(Z=d.$cursor());M=d.$read_line();q=!1;Q=L=U=b;(y=h["$[]"](1))===b||null==y||y.$$is_boolean&&1!=y||(l=this.$parse_style_attribute(h,d),y=a.to_ary(l),X=null==y[0]?b:y[0],l);(y=O=this["$is_delimited_block?"](M,!0))===b||null==y||
y.$$is_boolean&&1!=y||((q=!0,U=L=O.$context(),Q=O.$terminator(),(y=X["$!"]())===b||null==y||y.$$is_boolean&&1!=y)?(y=X["$!="](U.$to_s()))===b||null==y||y.$$is_boolean&&1!=y||((y=O.$masq()["$include?"](X))===b||null==y||y.$$is_boolean&&1!=y?(y=(l=O.$masq()["$include?"]("admonition"),!1!==l&&l!==b&&null!=l?r.get("ADMONITION_STYLES")["$include?"](X):l))===b||null==y||y.$$is_boolean&&1!=y?(y=(l=!1!==ba&&ba!==b&&null!=ba)?C["$registered_for_block?"](X,U):ba)===b||null==y||y.$$is_boolean&&1!=y?(this.$warn("asciidoctor: WARNING: "+
d.$prev_line_info()+": invalid style for "+U+" block: "+X),X=U.$to_s()):U=X.$to_sym():U="admonition":U=X.$to_sym()):X=h["$[]="]("style",U.$to_s()));if(!1===q||q===b||null==q)for(;(l=!0)!==b&&null!=l&&(!l.$$is_boolean||1==l);){if((l=(p=(q=!1!==X&&X!==b&&null!=X)?r.get("Compliance").$strict_verbatim_paragraphs():X,!1!==p&&p!==b&&null!=p?r.get("VERBATIM_STYLES")["$include?"](X):p))!==b&&null!=l&&(!l.$$is_boolean||1==l)){U=X.$to_sym();d.$unshift_line(M);break}if(!1===R||R===b||null==R)if(O=(l=r.get("Compliance").$markdown_syntax())===
b||null==l||l.$$is_boolean&&1!=l?M.$chr():M.$lstrip().$chr(),(l=(p=(q=r.get("LAYOUT_BREAK_LINES")["$has_key?"](O),!1!==q&&q!==b&&null!=q?f(M.$length(),3):q),!1!==p&&p!==b&&null!=p?((q=r.get("Compliance").$markdown_syntax())===b||null==q||q.$$is_boolean&&1!=q?r.get("LayoutBreakLineRx"):r.get("LayoutBreakLinePlusRx"))["$=~"](M):p))!==b&&null!=l&&(!l.$$is_boolean||1==l)){P=r.get("Block").$new(e,r.get("LAYOUT_BREAK_LINES")["$[]"](O),w(["content_model"],{content_model:"empty"}));break}else if((l=(p=M["$end_with?"]("]"),
!1!==p&&p!==b&&null!=p?V=r.get("MediaBlockMacroRx").$match(M):p))!==b&&null!=l&&(!l.$$is_boolean||1==l)){q=V["$[]"](1).$to_sym();P=r.get("Block").$new(e,q,w(["content_model"],{content_model:"empty"}));O=q["$=="]("image")?["alt","width","height"]:q["$=="]("video")?["poster","width","height"]:[];if(!1!==X&&X!==b&&null!=X){if(q["$=="]("image"))h["$[]="]("alt",X);h.$delete("style");X=b}P.$parse_attributes(V["$[]"](3),O,w(["unescape_input","sub_input","sub_result","into"],{unescape_input:q["$=="]("image"),
sub_input:!0,sub_result:!1,into:h}));q=P.$sub_attributes(V["$[]"](2),w(["attribute_missing"],{attribute_missing:"drop-line"}));if((l=q["$empty?"]())!==b&&null!=l&&(!l.$$is_boolean||1==l)){if(z.$attributes().$fetch("attribute-missing",r.get("Compliance").$attribute_missing())["$=="]("skip"))return r.get("Block").$new(e,"paragraph",w(["content_model","source"],{content_model:"simple",source:[M]}));h.$clear();return b}h["$[]="]("target",q);break}else if((l=(p=O["$=="]("t"))?V=r.get("TocBlockMacroRx").$match(M):
O["$=="]("t"))!==b&&null!=l&&(!l.$$is_boolean||1==l)){P=r.get("Block").$new(e,"toc",w(["content_model"],{content_model:"empty"}));P.$parse_attributes(V["$[]"](1),[],w(["sub_result","into"],{sub_result:!1,into:h}));break}else if((l=(p=(q=!1!==da&&da!==b&&null!=da)?V=r.get("GenericBlockMacroRx").$match(M):da,!1!==p&&p!==b&&null!=p?F=C["$registered_for_block_macro?"](V["$[]"](1)):p))!==b&&null!=l&&(!l.$$is_boolean||1==l)){q=V["$[]"](2);P=V["$[]"](3);if(F.$config()["$[]"]("content_model")["$=="]("attributes"))((l=
P["$empty?"]())===b||null==l||l.$$is_boolean&&1!=l)&&z.$parse_attributes(P,!1!==(l=F.$config()["$[]"]("pos_attrs"))&&l!==b&&null!=l?l:[],w(["sub_input","sub_result","into"],{sub_input:!0,sub_result:!1,into:h}));else h["$[]="]("text",P);(l=P=F.$config()["$[]"]("default_attrs"))===b||null==l||l.$$is_boolean&&1!=l||(l=(p=P).$each,l.$$p=(t=function(a,c){var d,e,g;null==a&&(a=b);null==c&&(c=b);return d=a,e=h,!1!==(g=e["$[]"](d))&&g!==b&&null!=g?g:e["$[]="](d,c)},t.$$s=this,t.$$arity=2,t),l).call(p);if((l=
P=F.$process_method()["$[]"](e,q,h.$dup()))===b||null==l||l.$$is_boolean&&1!=l)return h.$clear(),b;h.$replace(P.$attributes());break}if((l=V=r.get("CalloutListRx").$match(M))!==b&&null!=l&&(!l.$$is_boolean||1==l)){P=r.get("List").$new(e,"colist");h["$[]="]("style","arabic");d.$unshift_line(M);for(O=1;(q=!1!==(u=V)&&u!==b&&null!=u?u:(x=d["$has_more_lines?"](),!1!==x&&x!==b&&null!=x?V=r.get("CalloutListRx").$match(d.$peek_line()):x))!==b&&null!=q&&(!q.$$is_boolean||1==q);){(q=V["$[]"](1).$to_i()["$!="](O))===
b||null==q||q.$$is_boolean&&1!=q||this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+c(d.$lineno(),2)+": callout list item index: expected "+O+" got "+V["$[]"](1));S=this.$next_list_item(d,P,V);O=m(O,1);if(!1!==S&&S!==b&&null!=S)if(P["$<<"](S),H=z.$callouts().$callout_ids(P.$items().$size()),(q=H["$empty?"]()["$!"]())===b||null==q||q.$$is_boolean&&1!=q)this.$warn("asciidoctor: WARNING: "+d.$path()+": line "+c(d.$lineno(),2)+": no callouts refer to list item "+P.$items().$size());else S.$attributes()["$[]="]("coids",
H);V=b}z.$callouts().$next_list();break}else if((l=r.get("UnorderedListRx")["$=~"](M))!==b&&null!=l&&(!l.$$is_boolean||1==l)){d.$unshift_line(M);P=this.$next_outline_list(d,"ulist",e);break}else if((l=V=r.get("OrderedListRx").$match(M))!==b&&null!=l&&(!l.$$is_boolean||1==l)){d.$unshift_line(M);P=this.$next_outline_list(d,"olist",e);if((l=(q=h["$[]"]("style")["$!"](),!1!==q&&q!==b&&null!=q?P.$attributes()["$[]"]("style")["$!"]():q))!==b&&null!=l&&(!l.$$is_boolean||1==l))if(ga=P.$items()["$[]"](0).$marker(),
(l=ga["$start_with?"]("."))===b||null==l||l.$$is_boolean&&1!=l)X=(l=(q=r.get("ORDERED_LIST_STYLES")).$find,l.$$p=(v=function(a){null==a&&(a=b);return r.get("OrderedListMarkerRxMap")["$[]"](a)["$=~"](ga)},v.$$s=this,v.$$arity=1,v),l).call(q),h["$[]="]("style",(!1!==(l=X)&&l!==b&&null!=l?l:r.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());else h["$[]="]("style",(!1!==(l=r.get("ORDERED_LIST_STYLES")["$[]"](c(ga.$length(),1)))&&l!==b&&null!=l?l:r.get("ORDERED_LIST_STYLES")["$[]"](0)).$to_s());break}else if((l=
V=r.get("DescriptionListRx").$match(M))!==b&&null!=l&&(!l.$$is_boolean||1==l)){d.$unshift_line(M);P=this.$next_labeled_list(d,V,e);break}else if((l=(u=!1!==(x=X["$=="]("float"))&&x!==b&&null!=x?x:X["$=="]("discrete"),!1!==u&&u!==b&&null!=u?this["$is_section_title?"](M,(x=r.get("Compliance").$underline_style_section_titles())===b||null==x||x.$$is_boolean&&1!=x?b:d.$peek_line(!0)):u))!==b&&null!=l&&(!l.$$is_boolean||1==l)){d.$unshift_line(M);u=this.$parse_section_title(d,z);l=a.to_ary(u);S=null==l[0]?
b:l[0];P=null==l[1]?b:l[1];q=null==l[2]?b:l[2];O=null==l[3]?b:l[3];u;if(!1!==P&&P!==b&&null!=P)h["$[]="]("reftext",P);(l=h["$has_key?"]("id"))===b||null==l||l.$$is_boolean&&1!=l||(!1!==(l=S)&&l!==b&&null!=l?l:S=h["$[]"]("id"));P=r.get("Block").$new(e,"floating_title",w(["content_model"],{content_model:"empty"}));(l=S["$nil_or_empty?"]())===b||null==l||l.$$is_boolean&&1!=l?l=[S]:(S=r.get("Section").$new(e),l=[q],u=S,u["$title="].apply(u,l),l[l.length-1],l=[S.$generate_id()]);u=P;u["$id="].apply(u,
l);l[l.length-1];l=[O];u=P;u["$level="].apply(u,l);l[l.length-1];l=[q];u=P;u["$title="].apply(u,l);l[l.length-1];break}else if((l=(u=!1!==X&&X!==b&&null!=X)?X["$!="]("normal"):X)!==b&&null!=l&&(!l.$$is_boolean||1==l))if((l=r.get("PARAGRAPH_STYLES")["$include?"](X))===b||null==l||l.$$is_boolean&&1!=l)if((l=r.get("ADMONITION_STYLES")["$include?"](X))===b||null==l||l.$$is_boolean&&1!=l)if((l=(u=!1!==ba&&ba!==b&&null!=ba)?C["$registered_for_block?"](X,"paragraph"):ba)===b||null==l||l.$$is_boolean&&1!=
l)this.$warn("asciidoctor: WARNING: "+d.$prev_line_info()+": invalid style for paragraph: "+X),X=b;else{U=X.$to_sym();L="paragraph";d.$unshift_line(M);break}else{U="admonition";L="paragraph";d.$unshift_line(M);break}else{U=X.$to_sym();L="paragraph";d.$unshift_line(M);break}P=(l=G["$=="](0))?Y:G["$=="](0);if((l=(u=X["$!="]("normal"),!1!==u&&u!==b&&null!=u?r.get("LiteralParagraphRx")["$=~"](M):u))===b||null==l||l.$$is_boolean&&1!=l){d.$unshift_line(M);P=this.$read_paragraph_lines(d,P,w(["skip_line_comments"],
{skip_line_comments:!0}));if((l=P["$empty?"]())!==b&&null!=l&&(!l.$$is_boolean||1==l))return d.$advance(),b;this.$catalog_inline_anchors(P.$join(r.get("EOL")),z);q=P["$[]"](0);if((l=(u=R["$!"](),!1!==u&&u!==b&&null!=u?ja=r.get("AdmonitionParagraphRx").$match(q):u))===b||null==l||l.$$is_boolean&&1!=l)if((l=(u=(x=R["$!"](),!1!==x&&x!==b&&null!=x?r.get("Compliance").$markdown_syntax():x),!1!==u&&u!==b&&null!=u?q["$start_with?"]("> "):u))===b||null==l||l.$$is_boolean&&1!=l)if((l=(x=R["$!"](),!1!==x&&
x!==b&&null!=x?this["$blockquote?"](P,q):x))===b||null==l||l.$$is_boolean&&1!=l){if(X["$=="]("normal"))this["$adjust_indentation!"](P);P=r.get("Block").$new(e,"paragraph",w(["content_model","source","attributes"],{content_model:"simple",source:P,attributes:h}))}else{P["$[]="](0,q["$[]"](g(1,-1,!1)));x=P.$pop()["$[]"](g(3,-1,!1)).$split(", ",2);l=a.to_ary(x);q=null==l[0]?b:l[0];O=null==l[1]?b:l[1];for(x;(x=P["$[]"](-1)["$empty?"]())!==b&&null!=x&&(!x.$$is_boolean||1==x);)P.$pop();P["$[]="](-1,P["$[]"](-1).$chop());
h["$[]="]("style","quote");if(!1!==q&&q!==b&&null!=q)h["$[]="]("attribution",q);if(!1!==O&&O!==b&&null!=O)h["$[]="]("citetitle",O);P=r.get("Block").$new(e,"quote",w(["content_model","source","attributes"],{content_model:"simple",source:P,attributes:h}))}else{(l=(u=P)["$map!"],l.$$p=(B=function(a){var c;null==a&&(a=b);return a["$=="](">")?a["$[]"](g(1,-1,!1)):(c=a["$start_with?"]("> "))===b||null==c||c.$$is_boolean&&1!=c?a:a["$[]"](g(2,-1,!1))},B.$$s=this,B.$$arity=1,B),l).call(u);if((l=P["$[]"](-1)["$start_with?"]("-- "))===
b||null==l||l.$$is_boolean&&1!=l)x=b,l=a.to_ary(x),q=null==l[0]?b:l[0],O=null==l[1]?b:l[1],x;else for(x=P.$pop()["$[]"](g(3,-1,!1)).$split(", ",2),l=a.to_ary(x),q=null==l[0]?b:l[0],O=null==l[1]?b:l[1],x;(x=P["$[]"](-1)["$empty?"]())!==b&&null!=x&&(!x.$$is_boolean||1==x);)P.$pop();h["$[]="]("style","quote");if(!1!==q&&q!==b&&null!=q)h["$[]="]("attribution",q);if(!1!==O&&O!==b&&null!=O)h["$[]="]("citetitle",O);P=this.$build_block("quote","compound",!1,e,r.get("Reader").$new(P),h)}else P["$[]="](0,ja.$post_match().$lstrip()),
h["$[]="]("style",ja["$[]"](1)),h["$[]="]("name",q=ja["$[]"](1).$downcase()),l="caption",u=h,!1!==(x=u["$[]"](l))&&x!==b&&null!=x?x:u["$[]="](l,z.$attributes()["$[]"](""+q+"-caption")),P=r.get("Block").$new(e,"admonition",w(["content_model","source","attributes"],{content_model:"simple",source:P,attributes:h}))}else d.$unshift_line(M),P=this.$read_paragraph_lines(d,P,w(["skip_line_comments"],{skip_line_comments:R})),this["$adjust_indentation!"](P),P=r.get("Block").$new(e,"literal",w(["content_model",
"source","attributes"],{content_model:"verbatim",source:P,attributes:h})),!1!==Y&&Y!==b&&null!=Y&&P.$set_option("listparagraph");break}if((y=(l=P["$!"](),!1!==l&&l!==b&&null!=l?U:l))!==b&&null!=y&&(!y.$$is_boolean||1==y))if((y=!1!==(l=U["$=="]("abstract"))&&l!==b&&null!=l?l:U["$=="]("partintro"))===b||null==y||y.$$is_boolean&&1!=y||(U="open"),q=U,"admonition"["$==="](q))h["$[]="]("name",q=X.$downcase()),y="caption",l=h,!1!==(x=l["$[]"](y))&&x!==b&&null!=x?x:l["$[]="](y,z.$attributes()["$[]"](""+q+
"-caption")),P=this.$build_block(U,"compound",Q,e,d,h);else{if("comment"["$==="](q))return this.$build_block(U,"skip",Q,e,d,h),b;if("example"["$==="](q))P=this.$build_block(U,"compound",Q,e,d,h);else if("listing"["$==="](q)||"fenced_code"["$==="](q)||"source"["$==="](q)){if(U["$=="]("fenced_code")){X=h["$[]="]("style","source");l=M["$[]"](g(3,-1,!1)).$tr(" ","").$split(",",2);y=a.to_ary(l);U=null==y[0]?b:y[0];M=null==y[1]?b:y[1];l;if((y=U["$nil_or_empty?"]()["$!"]())!==b&&null!=y&&(!y.$$is_boolean||
1==y)){if(h["$[]="]("language",U),(y=M["$nil_or_empty?"]())===b||null==y||y.$$is_boolean&&1!=y)h["$[]="]("linenums","")}else if((y=ia=z.$attributes()["$[]"]("source-language"))!==b&&null!=y&&(!y.$$is_boolean||1==y))h["$[]="]("language",ia);if((y=(l=h["$key?"]("indent")["$!"](),!1!==l&&l!==b&&null!=l?z.$attributes()["$key?"]("source-indent"):l))!==b&&null!=y&&(!y.$$is_boolean||1==y))h["$[]="]("indent",z.$attributes()["$[]"]("source-indent"));Q=Q["$[]"](g(0,2,!1))}else if(U["$=="]("source")){r.get("AttributeList").$rekey(h,
[b,"language","linenums"]);if(((y=h["$key?"]("language"))===b||null==y||y.$$is_boolean&&1!=y)&&(y=ia=z.$attributes()["$[]"]("source-language"))!==b&&null!=y&&(!y.$$is_boolean||1==y))h["$[]="]("language",ia);if((y=(l=h["$key?"]("indent")["$!"](),!1!==l&&l!==b&&null!=l?z.$attributes()["$key?"]("source-indent"):l))!==b&&null!=y&&(!y.$$is_boolean||1==y))h["$[]="]("indent",z.$attributes()["$[]"]("source-indent"))}P=this.$build_block("listing","verbatim",Q,e,d,h)}else if("literal"["$==="](q))P=this.$build_block(U,
"verbatim",Q,e,d,h);else if("pass"["$==="](q))P=this.$build_block(U,"raw",Q,e,d,h);else if("stem"["$==="](q)||"latexmath"["$==="](q)||"asciimath"["$==="](q)){if(U["$=="]("stem"))h["$[]="]("style",(y=T=h["$[]"](2))===b||null==y||y.$$is_boolean&&1!=y?(y=(ea=z.$attributes()["$[]"]("stem"))["$nil_or_empty?"]())===b||null==y||y.$$is_boolean&&1!=y?ea:"asciimath":(y=T["$include?"]("tex"))===b||null==y||y.$$is_boolean&&1!=y?"asciimath":"latexmath");P=this.$build_block("stem","raw",Q,e,d,h)}else if("open"["$==="](q)||
"sidebar"["$==="](q))P=this.$build_block(U,"compound",Q,e,d,h);else if("table"["$==="](q)){U=d.$cursor();U=r.get("Reader").$new(d.$read_lines_until(w(["terminator","skip_line_comments"],{terminator:Q,skip_line_comments:!0})),U);q=Q.$chr();if(","["$==="](q))h["$[]="]("format","csv");else if(":"["$==="](q))h["$[]="]("format","dsv");P=this.$next_table(U,e,h)}else if("quote"["$==="](q)||"verse"["$==="](q))r.get("AttributeList").$rekey(h,[b,"attribution","citetitle"]),P=this.$build_block(U,U["$=="]("verse")?
"verbatim":"compound",Q,e,d,h);else if((y=(l=!1!==ba&&ba!==b&&null!=ba)?F=C["$registered_for_block?"](U,L):ba)===b||null==y||y.$$is_boolean&&1!=y)this.$raise("Unsupported block type "+U+" at "+d.$line_info());else if((y=(M=F.$config()["$[]"]("content_model"))["$!="]("skip"))===b||null==y||y.$$is_boolean&&1!=y||((y=(aa=!1!==(l=F.$config()["$[]"]("pos_attrs"))&&l!==b&&null!=l?l:[])["$empty?"]()["$!"]())===b||null==y||y.$$is_boolean&&1!=y||r.get("AttributeList").$rekey(h,[b].$concat(aa)),(y=P=F.$config()["$[]"]("default_attrs"))===
b||null==y||y.$$is_boolean&&1!=y||(y=(l=P).$each,y.$$p=(N=function(a,c){var d,e,g;null==a&&(a=b);null==c&&(c=b);return d=a,e=h,!1!==(g=e["$[]"](d))&&g!==b&&null!=g?g:e["$[]="](d,c)},N.$$s=this,N.$$arity=2,N),y).call(l)),P=this.$build_block(U,M,Q,e,d,h,w(["extension"],{extension:F})),(y=(x=!1!==P&&P!==b&&null!=P)?M["$!="]("skip"):P)===b||null==y||y.$$is_boolean&&1!=y)return h.$clear(),b}}else d.$advance();if(!1!==P&&P!==b&&null!=P){!1!==Z&&Z!==b&&null!=Z&&(A=[Z],y=P,y["$source_location="].apply(y,
A),A[A.length-1]);if((A=P["$title?"]())===b||null==A||A.$$is_boolean&&1!=A)A=[h["$[]"]("title")],y=P,y["$title="].apply(y,A),A[A.length-1];if(P.$context()["$=="]("image")){if(G=h["$[]"]("target"),P.$document().$register("images",G),A="alt",y=h,!1!==(x=y["$[]"](A))&&x!==b&&null!=x?x:y["$[]="](A,r.get("Helpers").$basename(G,!0).$tr("_-"," ")),h["$[]="]("alt",P.$sub_specialchars(h["$[]"]("alt"))),P.$assign_caption(h.$delete("caption"),"figure"),!((A=ka=h["$[]"]("scaledwidth"))===b||null==A||A.$$is_boolean&&
1!=A||(A=g(48,57,!1)["$include?"]((!1!==(y=ka["$[]"](-1))&&y!==b&&null!=y?y:0).$ord()))===b||null==A||A.$$is_boolean&&1!=A))h["$[]="]("scaledwidth",""+ka+"%")}else A=P,!1!==(y=A.$caption())&&y!==b&&null!=y?y:A["$caption="](h.$delete("caption"));A=[h["$[]"]("style")];y=P;y["$style="].apply(y,A);A[A.length-1];(A=ca=(y=P,!1!==(x=y.$id())&&x!==b&&null!=x?x:y["$id="](h["$[]"]("id"))))===b||null==A||A.$$is_boolean&&1!=A||z.$register("ids",[ca,!1!==(A=h["$[]"]("reftext"))&&A!==b&&null!=A?A:(y=P["$title?"]())===
b||null==y||y.$$is_boolean&&1!=y?b:P.$title()]);((A=h["$empty?"]())===b||null==A||A.$$is_boolean&&1!=A)&&P.$attributes().$update(h);P.$lock_in_subs();(A=P["$sub?"]("callouts"))===b||null==A||A.$$is_boolean&&1!=A||!((A=this.$catalog_callouts(P.$source(),z))===b||null==A||A.$$is_boolean&&1!=A)||P.$remove_sub("callouts")}return P},V.$$arity=-3);a.defs(C,"$blockquote?",aa=function(a,c){var d,e,g,f;null==c&&(c=b);return d=(e=(g=n(a.$size(),1),!1!==g&&g!==b&&null!=g?(!1!==(f=c)&&f!==b&&null!=f?f:a["$[]"](0))["$start_with?"]('"'):
g),!1!==e&&e!==b&&null!=e?a["$[]"](-1)["$start_with?"]("-- "):e),!1!==d&&d!==b&&null!=d?a["$[]"](-2)["$end_with?"]('"'):d},aa.$$arity=-2);a.defs(C,"$read_paragraph_lines",ca=function(a,c,d){var e,g=b;null==d&&(d=w([],{}));d["$[]="]("break_on_blank_lines",!0);d["$[]="]("break_on_list_continuation",!0);d["$[]="]("preserve_last_line",!0);g=!1!==c&&c!==b&&null!=c?(e=r.get("Compliance").$block_terminates_paragraph())===b||null==e||e.$$is_boolean&&1!=e?r.get("StartOfListProc"):r.get("StartOfBlockOrListProc"):
(e=r.get("Compliance").$block_terminates_paragraph())===b||null==e||e.$$is_boolean&&1!=e?r.get("NoOp"):r.get("StartOfBlockProc");return(e=a.$read_lines_until,e.$$p=g.$to_proc(),e).call(a,d)},ca.$$arity=-3);a.defs(C,"$is_delimited_block?",da=function(f,k){var l,m,A=b,y=b,q=b,p=b,x=b,q=A=b;null==k&&(k=!1);if((l=(m=n(A=f.$length(),1),!1!==m&&m!==b&&null!=m?r.get("DELIMITED_BLOCK_LEADERS")["$include?"](f["$[]"](g(0,1,!1))):m))===b||null==l||l.$$is_boolean&&1!=l)return b;if(A["$=="](2))y=f,q=2;else{(l=
e(A,4))===b||null==l||l.$$is_boolean&&1!=l?(y=f["$[]"](g(0,3,!1)),q=4):(y=f,q=A);p=!1;if((l=r.get("Compliance").$markdown_syntax())!==b&&null!=l&&(!l.$$is_boolean||1==l)&&(x=q["$=="](4)?y.$chop():y,x["$=="]("```"))){if((l=q["$=="](4)?y["$end_with?"]("`"):q["$=="](4))!==b&&null!=l&&(!l.$$is_boolean||1==l))return b;y=x;q=3;p=!0}if((l=(m=q["$=="](3))?p["$!"]():q["$=="](3))!==b&&null!=l&&(!l.$$is_boolean||1==l))return b}return(l=r.get("DELIMITED_BLOCKS")["$has_key?"](y))===b||null==l||l.$$is_boolean&&
1!=l?b:(l=!1!==(m=d(q,4))&&m!==b&&null!=m?m:q["$=="](A))===b||null==l||l.$$is_boolean&&1!=l?(""+y+h(y["$[]"](g(-1,-1,!1)),c(A,q)))["$=="](f)?!1!==k&&k!==b&&null!=k?(l=a.to_a(r.get("DELIMITED_BLOCKS")["$[]"](y)),A=null==l[0]?b:l[0],q=null==l[1]?b:l[1],l,r.get("BlockMatchData").$new(A,q,y,f)):!0:b:!1!==k&&k!==b&&null!=k?(l=a.to_a(r.get("DELIMITED_BLOCKS")["$[]"](y)),A=null==l[0]?b:l[0],q=null==l[1]?b:l[1],l,r.get("BlockMatchData").$new(A,q,y,y)):!0},da.$$arity=-2);a.defs(C,"$build_block",N=function(a,
c,d,e,g,f,h){var k,l,m=b,q=b,p=m=q=b,p=p=p=p=b;null==h&&(h=w([],{}));(k=!1!==(l=c["$=="]("skip"))&&l!==b&&null!=l?l:c["$=="]("raw"))===b||null==k||k.$$is_boolean&&1!=k?(m=!1,q=c):(m=c["$=="]("skip"),q="simple");(k=d["$nil?"]())===b||null==k||k.$$is_boolean&&1!=k?(k=q["$!="]("compound"))===b||null==k||k.$$is_boolean&&1!=k?d["$=="](!1)?(q=b,m=g):(q=b,p=g.$cursor(),m=r.get("Reader").$new(g.$read_lines_until(w(["terminator","skip_processing"],{terminator:d,skip_processing:m})),p)):(q=g.$read_lines_until(w(["terminator",
"skip_processing"],{terminator:d,skip_processing:m})),m=b):(q["$=="]("verbatim")?q=g.$read_lines_until(w(["break_on_blank_lines","break_on_list_continuation"],{break_on_blank_lines:!0,break_on_list_continuation:!0})):(c["$=="]("compound")&&(c="simple"),q=this.$read_paragraph_lines(g,!1,w(["skip_line_comments","skip_processing"],{skip_line_comments:!0,skip_processing:!0}))),m=b);if(c["$=="]("skip"))return f.$clear(),q;if(c["$=="]("verbatim"))if((k=p=f["$[]"]("indent"))!==b&&null!=k&&(!k.$$is_boolean||
1==k))this["$adjust_indentation!"](q,p,!1!==(k=f["$[]"]("tabsize"))&&k!==b&&null!=k?k:e.$document().$attributes()["$[]"]("tabsize"));else if((k=n(p=(!1!==(l=f["$[]"]("tabsize"))&&l!==b&&null!=l?l:e.$document().$attributes()["$[]"]("tabsize")).$to_i(),0))!==b&&null!=k&&(!k.$$is_boolean||1==k))this["$adjust_indentation!"](q,b,p);if((k=p=h["$[]"]("extension"))===b||null==k||k.$$is_boolean&&1!=k)p=r.get("Block").$new(e,a,w(["content_model","source","attributes"],{content_model:c,source:q,attributes:f}));
else{f.$delete("style");if((k=p=p.$process_method()["$[]"](e,!1!==(l=m)&&l!==b&&null!=l?l:r.get("Reader").$new(q),f.$dup()))===b||null==k||k.$$is_boolean&&1!=k)return b;f.$replace(p.$attributes());(k=(l=p.$content_model()["$=="]("compound"))?(q=p.$lines())["$nil_or_empty?"]()["$!"]():p.$content_model()["$=="]("compound"))===b||null==k||k.$$is_boolean&&1!=k||(c="compound",m=r.get("Reader").$new(q))}(k=(l=f["$has_key?"]("title"),!1!==l&&l!==b&&null!=l?p.$document()["$attr?"](""+p.$context()+"-caption"):
l))===b||null==k||k.$$is_boolean&&1!=k||(k=[f.$delete("title")],l=p,l["$title="].apply(l,k),k[k.length-1],p.$assign_caption(f.$delete("caption")));c["$=="]("compound")&&this.$parse_blocks(m,p);return p},N.$$arity=-7);a.defs(C,"$parse_blocks",B=function(a,c){for(var d,e=b;(d=a["$has_more_lines?"]())!==b&&null!=d&&(!d.$$is_boolean||1==d);)if(e=r.get("Parser").$next_block(a,c),!1!==e&&e!==b&&null!=e)c["$<<"](e)},B.$$arity=2);a.defs(C,"$next_outline_list",Z=function(a,c,e){var g,f,h,k=b,l=b,q=g=b,p=b,
x=b,k=r.get("List").$new(e,c);g=e.$context()["$=="](c)?[m(e.$level(),1)]:[1];f=k;f["$level="].apply(f,g);for(g[g.length-1];(f=(h=a["$has_more_lines?"](),!1!==h&&h!==b&&null!=h?l=r.get("ListRxMap")["$[]"](c).$match(a.$peek_line()):h))!==b&&null!=f&&(!f.$$is_boolean||1==f);){g=this.$resolve_list_marker(c,l["$[]"](1));if((f=(h=k["$items?"](),!1!==h&&h!==b&&null!=h?g["$!="](k.$items()["$[]"](0).$marker()):h))===b||null==f||f.$$is_boolean&&1!=f)q=k.$level();else for(q=m(k.$level(),1),p=e;p.$context()["$=="](c);){if(g["$=="](p.$items()["$[]"](0).$marker())){q=
p.$level();break}p=p.$parent()}if((f=!1!==(h=k["$items?"]()["$!"]())&&h!==b&&null!=h?h:q["$=="](k.$level()))!==b&&null!=f&&(!f.$$is_boolean||1==f))x=this.$next_list_item(a,k,l);else if((f=d(q,k.$level()))!==b&&null!=f&&(!f.$$is_boolean||1==f))break;else if((f=n(q,k.$level()))!==b&&null!=f&&(!f.$$is_boolean||1==f))k.$items()["$[]"](-1)["$<<"](this.$next_block(a,k));if(!1!==x&&x!==b&&null!=x)k["$<<"](x);x=b;a.$skip_blank_lines()}return k},Z.$$arity=3);a.defs(C,"$catalog_callouts",x=function(a,c){var d,
e,g=b,g=!1;(d=a["$include?"]("<"))===b||null==d||d.$$is_boolean&&1!=d||(d=a.$scan,d.$$p=(e=function(){var a,d=b;null==L["~"]&&(L["~"]=b);d=L["~"];(a=d["$[]"](0).$chr()["$!="]("\\"))===b||null==a||a.$$is_boolean&&1!=a||c.$callouts().$register(d["$[]"](2));return g=!0},e.$$s=this,e.$$arity=0,e),d).call(a,r.get("CalloutQuickScanRx"));return g},x.$$arity=2);a.defs(C,"$catalog_inline_anchors",E=function(a,c){var d,e;(d=a["$include?"]("["))===b||null==d||d.$$is_boolean&&1!=d||(d=a.$scan,d.$$p=(e=function(){var a,
d=b,e=b,d=b;null==L["~"]&&(L["~"]=b);d=L["~"];if((a=d["$[]"](0)["$start_with?"]("\\"))!==b&&null!=a&&(!a.$$is_boolean||1==a))return b;e=!1!==(a=d["$[]"](1))&&a!==b&&null!=a?a:d["$[]"](3);d=!1!==(a=d["$[]"](2))&&a!==b&&null!=a?a:d["$[]"](4);return c.$register("ids",[e,d])},e.$$s=this,e.$$arity=0,e),d).call(a,r.get("InlineAnchorRx"));return b},E.$$arity=2);a.defs(C,"$next_labeled_list",fa=function(d,c,e){for(var g,f,h,k=b,l=b,m=b,q=b,n=b,k=r.get("List").$new(e,"dlist"),l=b,m=r.get("DescriptionListSiblingRx")["$[]"](c["$[]"](2));(g=
!1!==(f=c)&&f!==b&&null!=f?f:(h=d["$has_more_lines?"](),!1!==h&&h!==b&&null!=h?c=m.$match(d.$peek_line()):h))!==b&&null!=g&&(!g.$$is_boolean||1==g);){f=this.$next_list_item(d,k,c,m);g=a.to_ary(f);q=null==g[0]?b:g[0];n=null==g[1]?b:g[1];f;if((g=(f=!1!==l&&l!==b&&null!=l)?l["$[]"](-1)["$!"]():l)===b||null==g||g.$$is_boolean&&1!=g)k.$items()["$<<"](l=[[q],n]);else l.$pop(),l["$[]"](0)["$<<"](q),l["$<<"](n);c=b}return k},fa.$$arity=3);a.defs(C,"$next_list_item",ia=function(a,d,c,e){var f,h,k=b,l=b,m=
b,q=b,n=m=b,p=n=n=q=b,x=b,u=x=p=b,t=b;null==e&&(e=b);if((k=d.$context())["$=="]("dlist"))l=r.get("ListItem").$new(d,c["$[]"](1)),m=r.get("ListItem").$new(d,c["$[]"](3)),q=c["$[]"](3)["$nil_or_empty?"]()["$!"]();else{m=c["$[]"](2);n=!1;(f=(h=k["$=="]("ulist"))?m["$start_with?"]("["):k["$=="]("ulist"))===b||null==f||f.$$is_boolean&&1!=f||((f=m["$start_with?"]("[ ] "))===b||null==f||f.$$is_boolean&&1!=f?(f=!1!==(h=m["$start_with?"]("[x] "))&&h!==b&&null!=h?h:m["$start_with?"]("[*] "))===b||null==f||
f.$$is_boolean&&1!=f||(q=n=!0,m=m["$[]"](g(3,-1,!1)).$lstrip()):(n=!0,q=!1,m=m["$[]"](g(3,-1,!1)).$lstrip()));m=r.get("ListItem").$new(d,m);if(!1!==n&&n!==b&&null!=n&&(d.$attributes()["$[]="]("checklist-option",""),m.$attributes()["$[]="]("checkbox",""),!1!==q&&q!==b&&null!=q))m.$attributes()["$[]="]("checked","");!1!==(f=e)&&f!==b&&null!=f?f:e=this.$resolve_list_marker(k,c["$[]"](1),d.$items().$size(),!0,a);f=[e];h=m;h["$marker="].apply(h,f);f[f.length-1];q=!0}a.$advance();n=a.$cursor();n=r.get("Reader").$new(this.$read_lines_for_list_item(a,
k,e,q),n);if((f=n["$has_more_lines?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f)){p=n.$skip_line_comments();x=n.$peek_line();((f=p["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f)&&n.$unshift_lines(p);(f=x["$nil?"]()["$!"]())===b||null==f||f.$$is_boolean&&1!=f?x=p=!1:(p=x["$empty?"](),(f=(h=p["$!"](),!1!==h&&h!==b&&null!=h?k["$!="]("dlist"):h))===b||null==f||f.$$is_boolean&&1!=f||(q=!1),x=(f=p["$!"](),!1!==f&&f!==b&&null!=f?x["$empty?"]()["$!"]():f));for(u=w(["text"],{text:q["$!"]()});(h=n["$has_more_lines?"]())!==
b&&null!=h&&(!h.$$is_boolean||1==h);)if((h=t=this.$next_block(n,m,w([],{}),u))!==b&&null!=h&&(!h.$$is_boolean||1==h))m["$<<"](t);m.$fold_first(p,x)}if(k["$=="]("dlist")){if((f=!1!==(h=m["$text?"]())&&h!==b&&null!=h?h:m["$blocks?"]())===b||null==f||f.$$is_boolean&&1!=f)m=b;return[l,m]}return m},ia.$$arity=-4);a.defs(C,"$read_lines_for_list_item",ja=function(a,d,c,e){var f,g,h,k,l,m,n,q,p,x,u,t,v,B=b,N=b,G=b,R=b,E=b,z=b,z=k=b;null==L["~"]&&(L["~"]=b);null==c&&(c=b);null==e&&(e=!0);B=[];N="inactive";
G=!1;for(R=b;(g=a["$has_more_lines?"]())!==b&&null!=g&&(!g.$$is_boolean||1==g);){E=a.$read_line();if((g=this["$is_sibling_list_item?"](E,d,c))!==b&&null!=g&&(!g.$$is_boolean||1==g))break;z=(g=B["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g?B["$[]"](-1):b;if(z["$=="](r.get("LIST_CONTINUATION"))){if(N["$=="]("inactive")&&(N="active",e=!0,!1===G||G===b||null==G))B["$[]="](-1,"");if(E["$=="](r.get("LIST_CONTINUATION"))){(g=N["$!="]("frozen"))===b||null==g||g.$$is_boolean&&1!=g||(N="frozen",B["$<<"](E));
E=b;continue}}if((g=k=this["$is_delimited_block?"](E,!0))===b||null==g||g.$$is_boolean&&1!=g)if((g=(h=(k=d["$=="]("dlist"))?N["$!="]("active"):d["$=="]("dlist"),!1!==h&&h!==b&&null!=h?r.get("BlockAttributeLineRx")["$=~"](E):h))===b||null==g||g.$$is_boolean&&1!=g)if((g=(h=N["$=="]("active"))?E["$empty?"]()["$!"]():N["$=="]("active"))===b||null==g||g.$$is_boolean&&1!=g)if((g=(k=z["$nil?"]()["$!"](),!1!==k&&k!==b&&null!=k?z["$empty?"]():k))===b||null==g||g.$$is_boolean&&1!=g)(g=E["$empty?"]()["$!"]())===
b||null==g||g.$$is_boolean&&1!=g||(e=!0),(g=z=(u=(t=!1!==G&&G!==b&&null!=G?["dlist"]:r.get("NESTABLE_LIST_CONTEXTS")).$find,u.$$p=(v=function(a){null==a&&(a=b);return r.get("ListRxMap")["$[]"](a)["$=~"](E)},v.$$s=this,v.$$arity=1,v),u).call(t))===b||null==g||g.$$is_boolean&&1!=g||(G=!0,(g=(u=z["$=="]("dlist"))?L["~"]["$[]"](3)["$nil_or_empty?"]():z["$=="]("dlist"))===b||null==g||g.$$is_boolean&&1!=g||(e=!1)),B["$<<"](E);else{if(!((g=E["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g||(a.$skip_blank_lines(),
E=a.$read_line(),(g=!1!==(k=E["$nil?"]())&&k!==b&&null!=k?k:this["$is_sibling_list_item?"](E,d,c))===b||null==g||g.$$is_boolean&&1!=g)))break;if(E["$=="](r.get("LIST_CONTINUATION")))R=B.$size(),B["$<<"](E);else if(!1!==e&&e!==b&&null!=e)if((g=this["$is_sibling_list_item?"](E,d,c))===b||null==g||g.$$is_boolean&&1!=g)if((g=z=(k=(q=r.get("NESTABLE_LIST_CONTEXTS")).$find,k.$$p=(p=function(a){null==a&&(a=b);return r.get("ListRxMap")["$[]"](a)["$=~"](E)},p.$$s=this,p.$$arity=1,p),k).call(q))===b||null==
g||g.$$is_boolean&&1!=g)if((g=r.get("LiteralParagraphRx")["$=~"](E))===b||null==g||g.$$is_boolean&&1!=g)break;else a.$unshift_line(E),B.$concat((g=(k=a).$read_lines_until,g.$$p=(x=function(a){var e=x.$$s||this;null==a&&(a=b);return d["$=="]("dlist")?e["$is_sibling_list_item?"](a,d,c):d["$=="]("dlist")},x.$$s=this,x.$$arity=1,x),g).call(k,w(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0})));else B["$<<"](E),
G=!0,(g=(k=z["$=="]("dlist"))?L["~"]["$[]"](3)["$nil_or_empty?"]():z["$=="]("dlist"))===b||null==g||g.$$is_boolean&&1!=g||(e=!1);else break;else!1!==G&&G!==b&&null!=G||B.$pop(),B["$<<"](E),e=!0}else if((g=r.get("LiteralParagraphRx")["$=~"](E))===b||null==g||g.$$is_boolean&&1!=g)if((g=!1!==(k=!1!==(m=r.get("BlockTitleRx")["$=~"](E))&&m!==b&&null!=m?m:r.get("BlockAttributeLineRx")["$=~"](E))&&k!==b&&null!=k?k:r.get("AttributeEntryRx")["$=~"](E))===b||null==g||g.$$is_boolean&&1!=g)(g=z=(k=(m=!1!==G&&
G!==b&&null!=G?["dlist"]:r.get("NESTABLE_LIST_CONTEXTS")).$find,k.$$p=(n=function(a){null==a&&(a=b);return r.get("ListRxMap")["$[]"](a)["$=~"](E)},n.$$s=this,n.$$arity=1,n),k).call(m))===b||null==g||g.$$is_boolean&&1!=g||(G=!0,(g=(k=z["$=="]("dlist"))?L["~"]["$[]"](3)["$nil_or_empty?"]():z["$=="]("dlist"))===b||null==g||g.$$is_boolean&&1!=g||(e=!1)),B["$<<"](E),N="inactive";else B["$<<"](E);else a.$unshift_line(E),B.$concat((g=(h=a).$read_lines_until,g.$$p=(l=function(a){var e=l.$$s||this;null==a&&
(a=b);return d["$=="]("dlist")?e["$is_sibling_list_item?"](a,d,c):d["$=="]("dlist")},l.$$s=this,l.$$arity=1,l),g).call(h,w(["preserve_last_line","break_on_blank_lines","break_on_list_continuation"],{preserve_last_line:!0,break_on_blank_lines:!0,break_on_list_continuation:!0}))),N="inactive";else break;else if(N["$=="]("active"))B["$<<"](E),B.$concat(a.$read_lines_until(w(["terminator","read_last_line"],{terminator:k.$terminator(),read_last_line:!0}))),N="inactive";else break;E=b}!1!==E&&E!==b&&null!=
E&&a.$unshift_line(E);for(!1!==R&&R!==b&&null!=R&&B.$delete_at(R);(g=(u=B["$empty?"]()["$!"](),!1!==u&&u!==b&&null!=u?B["$[]"](-1)["$empty?"]():u))!==b&&null!=g&&(!g.$$is_boolean||1==g);)B.$pop();(f=(g=B["$empty?"]()["$!"](),!1!==g&&g!==b&&null!=g?B["$[]"](-1)["$=="](r.get("LIST_CONTINUATION")):g))===b||null==f||f.$$is_boolean&&1!=f||B.$pop();return B},ja.$$arity=-3);a.defs(C,"$initialize_section",ma=function(d,c,e){var g,f,h=b,k=b,l=b,m=b,n=b,q=b,p=l=m=b;null==e&&(e=w([],{}));h=c.$document();(g=
h.$sourcemap())===b||null==g||g.$$is_boolean&&1!=g||(k=d.$cursor());f=this.$parse_section_title(d,h);g=a.to_ary(f);l=null==g[0]?b:g[0];m=null==g[1]?b:g[1];n=null==g[2]?b:g[2];q=null==g[3]?b:g[3];f;if(!1!==m&&m!==b&&null!=m)e["$[]="]("reftext",m);m=r.get("Section").$new(c,q,h.$attributes()["$has_key?"]("sectnums"));!1!==k&&k!==b&&null!=k&&(g=[k],f=m,f["$source_location="].apply(f,g),g[g.length-1]);g=[l];f=m;f["$id="].apply(f,g);g[g.length-1];g=[n];f=m;f["$title="].apply(f,g);g[g.length-1];(g=e["$[]"](1))===
b||null==g||g.$$is_boolean&&1!=g?((g=n.$downcase()["$=="]("synopsis")?h.$doctype()["$=="]("manpage"):n.$downcase()["$=="]("synopsis"))===b||null==g||g.$$is_boolean&&1!=g?g=["sect"+m.$level()]:(g=[!0],f=m,f["$special="].apply(f,g),g[g.length-1],g=["synopsis"]),f=m,f["$sectname="].apply(f,g),g[g.length-1]):(f=this.$parse_style_attribute(e,d),g=a.to_ary(f),l=null==g[0]?b:g[0],f,!1!==l&&l!==b&&null!=l?(g=[l],f=m,f["$sectname="].apply(f,g),g[g.length-1],g=[!0],f=m,f["$special="].apply(f,g),g[g.length-
1],(g=(f=m.$sectname()["$=="]("abstract"))?h.$doctype()["$=="]("book"):m.$sectname()["$=="]("abstract"))===b||null==g||g.$$is_boolean&&1!=g||(g=["sect1"],f=m,f["$sectname="].apply(f,g),g[g.length-1],g=[!1],f=m,f["$special="].apply(f,g),g[g.length-1],g=[1],f=m,f["$level="].apply(f,g),g[g.length-1])):(g=["sect"+m.$level()],f=m,f["$sectname="].apply(f,g),g[g.length-1]));(g=(f=m.$id()["$!"](),!1!==f&&f!==b&&null!=f?p=e["$[]"]("id"):f))===b||null==g||g.$$is_boolean&&1!=g?(g=m,!1!==(f=g.$id())&&f!==b&&
null!=f?f:g["$id="](m.$generate_id())):(g=[p],f=m,f["$id="].apply(f,g),g[g.length-1]);(g=m.$id())===b||null==g||g.$$is_boolean&&1!=g||m.$document().$register("ids",[m.$id(),!1!==(g=e["$[]"]("reftext"))&&g!==b&&null!=g?g:m.$title()]);m.$update_attributes(e);d.$skip_blank_lines();return m},ma.$$arity=-3);a.defs(C,"$section_level",na=function(a){return r.get("SECTION_LEVELS")["$[]"](a.$chr())},na.$$arity=1);a.defs(C,"$single_line_section_level",ka=function(a){return c(a.$length(),1)},ka.$$arity=1);a.defs(C,
"$is_next_line_section?",u=function(d,c){var e,g,f,h,k=b,l=b;return(e=(g=(f=(k=c["$[]"](1))["$nil?"]()["$!"](),!1!==f&&f!==b&&null!=f?!1!==(h=(l=k["$[]"](0).$ord())["$=="](100))&&h!==b&&null!=h?h:l["$=="](102):f),!1!==g&&g!==b&&null!=g?k["$=~"](r.get("FloatingTitleStyleRx")):g))!==b&&null!=e&&(!e.$$is_boolean||1==e)||(e=d["$has_more_lines?"]())===b||null==e||e.$$is_boolean&&1!=e?!1:(e=r.get("Compliance").$underline_style_section_titles())===b||null==e||e.$$is_boolean&&1!=e?this["$is_section_title?"](d.$peek_line()):
(e=this)["$is_section_title?"].apply(e,a.to_a(d.$peek_lines(2)))},u.$$arity=2);a.defs(C,"$is_next_line_document_title?",ea=function(a,b){return this["$is_next_line_section?"](a,b)["$=="](0)},ea.$$arity=2);a.defs(C,"$is_section_title?",l=function(a,d){var c,e=b;null==d&&(d=b);return(c=e=this["$is_single_line_section_title?"](a))===b||null==c||c.$$is_boolean&&1!=c?(c=!1!==d&&d!==b&&null!=d?e=this["$is_two_line_section_title?"](a,d):d)===b||null==c||c.$$is_boolean&&1!=c?!1:e:e},l.$$arity=-2);a.defs(C,
"$is_single_line_section_title?",ba=function(a){var d,c,e,g,f=b,h=b,f=!1!==a&&a!==b&&null!=a?a.$chr():b;return(d=(c=!1!==(e=f["$=="]("="))&&e!==b&&null!=e?e:(g=r.get("Compliance").$markdown_syntax(),!1!==g&&g!==b&&null!=g?f["$=="]("#"):g),!1!==c&&c!==b&&null!=c?h=r.get("AtxSectionRx").$match(a):c))===b||null==d||d.$$is_boolean&&1!=d?!1:this.$single_line_section_level(h["$[]"](1))},ba.$$arity=1);a.defs(C,"$is_two_line_section_title?",X=function(a,d){var g,f,h,k,l;return(g=(f=(h=(k=(l=!1!==a&&a!==b&&
null!=a?d:a,!1!==l&&l!==b&&null!=l?r.get("SECTION_LEVELS")["$has_key?"](d.$chr()):l),!1!==k&&k!==b&&null!=k?d["$=~"](r.get("SetextSectionLineRx")):k),!1!==h&&h!==b&&null!=h?a["$=~"](r.get("SetextSectionTitleRx")):h),!1!==f&&f!==b&&null!=f?e(c(this.$line_length(a),this.$line_length(d)).$abs(),1):f))===b||null==g||g.$$is_boolean&&1!=g?!1:this.$section_level(d)},X.$$arity=2);a.defs(C,"$parse_section_title",U=function(a,d){var g,h,k,l,n,q=b,p=b,x=b,u=b,t=b,B=b,v=b,N=b,w=b,G=b,E=b,q=a.$read_line(),x=p=
b,u=-1,t=b,B=!0,v=q.$chr();(g=(h=!1!==(k=v["$=="]("="))&&k!==b&&null!=k?k:(l=r.get("Compliance").$markdown_syntax(),!1!==l&&l!==b&&null!=l?v["$=="]("#"):l),!1!==h&&h!==b&&null!=h?N=r.get("AtxSectionRx").$match(q):h))===b||null==g||g.$$is_boolean&&1!=g?(g=r.get("Compliance").$underline_style_section_titles())===b||null==g||g.$$is_boolean&&1!=g||(g=(h=(k=(l=(n=G=a.$peek_line(!0),!1!==n&&n!==b&&null!=n?r.get("SECTION_LEVELS")["$has_key?"](G.$chr()):n),!1!==l&&l!==b&&null!=l?G["$=~"](r.get("SetextSectionLineRx")):
l),!1!==k&&k!==b&&null!=k?E=r.get("SetextSectionTitleRx").$match(q):k),!1!==h&&h!==b&&null!=h?e(c(this.$line_length(q),this.$line_length(G)).$abs(),1):h))===b||null==g||g.$$is_boolean&&1!=g||(x=E["$[]"](1),(g=(h=x["$end_with?"]("]]"),!1!==h&&h!==b&&null!=h?w=r.get("InlineSectionAnchorRx").$match(x):h))===b||null==g||g.$$is_boolean&&1!=g||(g=w["$[]"](2)["$nil?"]())===b||null==g||g.$$is_boolean&&1!=g||(x=w["$[]"](1),p=w["$[]"](3),t=w["$[]"](4)),u=this.$section_level(G),B=!1,a.$advance()):(u=this.$single_line_section_level(N["$[]"](1)),
x=N["$[]"](2),(g=(h=x["$end_with?"]("]]"),!1!==h&&h!==b&&null!=h?w=r.get("InlineSectionAnchorRx").$match(x):h))===b||null==g||g.$$is_boolean&&1!=g||(g=w["$[]"](2)["$nil?"]())===b||null==g||g.$$is_boolean&&1!=g||(x=w["$[]"](1),p=w["$[]"](3),t=w["$[]"](4)));(g=f(u,0))===b||null==g||g.$$is_boolean&&1!=g||(u=m(u,d.$attr("leveloffset",0).$to_i()));return[p,t,x,u,B]},U.$$arity=2);a.defs(C,"$line_length",ga=function(a){var d;return(d=r.get("FORCE_UNICODE_LINE_LENGTH"))===b||null==d||d.$$is_boolean&&1!=d?
a.$length():a.$scan(r.get("UnicodeCharScanRx")).$length()},ga.$$arity=1);a.defs(C,"$parse_header_metadata",ra=function(d,c){var e,f,h,k,l,q,p=b,x=b,u=b,t=b,B=t=b,v=b,N=B=b,u=x=b;null==c&&(c=b);this.$process_attribute_entries(d,c);p=w([],{});u=x=b;if((e=(f=d["$has_more_lines?"](),!1!==f&&f!==b&&null!=f?d["$next_line_empty?"]()["$!"]():f))!==b&&null!=e&&(!e.$$is_boolean||1==e)){t=this.$process_authors(d.$read_line());if((e=t["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e)!1!==c&&c!==b&&null!=c&&((e=
(f=t).$each,e.$$p=(h=function(d,e){var g;null==d&&(d=b);null==e&&(e=b);return(g=c.$attributes()["$has_key?"](d))===b||null==g||g.$$is_boolean&&1!=g?c.$attributes()["$[]="](d,(g=a.get("String")["$==="](e))===b||null==g||g.$$is_boolean&&1!=g?e:c.$apply_header_subs(e)):b},h.$$s=this,h.$$arity=2,h),e).call(f),x=c.$attributes()["$[]"]("author"),u=c.$attributes()["$[]"]("authors")),p=t;this.$process_attribute_entries(d,c);t=w([],{});if((e=(k=d["$has_more_lines?"](),!1!==k&&k!==b&&null!=k?d["$next_line_empty?"]()["$!"]():
k))!==b&&null!=e&&(!e.$$is_boolean||1==e))if(B=d.$read_line(),(e=v=r.get("RevisionInfoLineRx").$match(B))===b||null==e||e.$$is_boolean&&1!=e)d.$unshift_line(B);else{if((e=v["$[]"](1))!==b&&null!=e&&(!e.$$is_boolean||1==e))t["$[]="]("revnumber",v["$[]"](1).$rstrip());if((e=(B=v["$[]"](2).$strip())["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e)if((e=(k=v["$[]"](1)["$!"](),!1!==k&&k!==b&&null!=k?B["$start_with?"]("v"):k))===b||null==e||e.$$is_boolean&&1!=e)t["$[]="]("revdate",B);else t["$[]="]("revnumber",
B["$[]"](g(1,-1,!1)));if((e=v["$[]"](3))!==b&&null!=e&&(!e.$$is_boolean||1==e))t["$[]="]("revremark",v["$[]"](3).$rstrip())}if((e=t["$empty?"]())===b||null==e||e.$$is_boolean&&1!=e)!1!==c&&c!==b&&null!=c&&(e=(k=t).$each,e.$$p=(l=function(a,d){var e;null==a&&(a=b);null==d&&(d=b);return(e=c.$attributes()["$has_key?"](a))===b||null==e||e.$$is_boolean&&1!=e?c.$attributes()["$[]="](a,c.$apply_header_subs(d)):b},l.$$s=this,l.$$arity=2,l),e).call(k),p.$update(t);this.$process_attribute_entries(d,c);d.$skip_blank_lines()}if(!1!==
c&&c!==b&&null!=c){t=b;if((e=(q=c.$attributes()["$has_key?"]("author"),!1!==q&&q!==b&&null!=q?(N=c.$attributes()["$[]"]("author"))["$!="](x):q))===b||null==e||e.$$is_boolean&&1!=e)if((e=(q=c.$attributes()["$has_key?"]("authors"),!1!==q&&q!==b&&null!=q?(N=c.$attributes()["$[]"]("authors"))["$!="](u):q))===b||null==e||e.$$is_boolean&&1!=e){x=[];for(u="author_"+m(x.$size(),1);(q=c.$attributes()["$has_key?"](u))!==b&&null!=q&&(!q.$$is_boolean||1==q);)x["$<<"](c.$attributes()["$[]"](u)),u="author_"+m(x.$size(),
1);x.$size()["$=="](1)?t=this.$process_authors(x["$[]"](0),!0,!1):(e=n(x.$size(),1))===b||null==e||e.$$is_boolean&&1!=e||(t=this.$process_authors(x.$join("; "),!0))}else t=this.$process_authors(N,!0);else t=this.$process_authors(N,!0,!1);if(!1!==t&&t!==b&&null!=t&&(c.$attributes().$update(t),(e=(q=c.$attributes()["$has_key?"]("email")["$!"](),!1!==q&&q!==b&&null!=q?c.$attributes()["$has_key?"]("email_1"):q))!==b&&null!=e&&(!e.$$is_boolean||1==e)))c.$attributes()["$[]="]("email",c.$attributes()["$[]"]("email_1"))}return p},
ra.$$arity=-2);a.defs(C,"$process_authors",va=function(a,d,c){var e,f,h,k,l,q=this,p=b,x=b,u=b;null==d&&(d=!1);null==c&&(c=!0);p=w([],{});x="author authorinitials firstname middlename lastname email".split(" ");u=function(){return!1!==c&&c!==b&&null!=c?(e=(f=a.$split(";")).$map,e.$$p=(h=function(a){null==a&&(a=b);return a.$strip()},h.$$s=q,h.$$arity=1,h),e).call(f):[a]}();(e=(k=u).$each_with_index,e.$$p=(l=function(a,c){var e=l.$$s||this,f,h,k,q,y,A,u,t=b,B=b,v=b,K=v=b,D=b;null==a&&(a=b);null==c&&
(c=b);if((f=a["$empty?"]())!==b&&null!=f&&(!f.$$is_boolean||1==f))return b;t=w([],{});c["$=="](0)?(f=(h=x).$each,f.$$p=(k=function(a){null==a&&(a=b);return t["$[]="](a.$to_sym(),a)},k.$$s=e,k.$$arity=1,k),f).call(h):(f=(q=x).$each,f.$$p=(y=function(a){null==a&&(a=b);return t["$[]="](a.$to_sym(),""+a+"_"+m(c,1))},y.$$s=e,y.$$arity=1,y),f).call(q);B=b;!1!==d&&d!==b&&null!=d?(f=n((B=a.$split(" ")).$size(),3))===b||null==f||f.$$is_boolean&&1!=f||(B=B["$[]"](g(0,1,!1)).$push(B["$[]"](g(2,-1,!1)).$join(" "))):
(f=v=r.get("AuthorInfoLineRx").$match(a))===b||null==f||f.$$is_boolean&&1!=f||(B=v.$to_a(),B.$shift());if((f=B["$nil?"]())===b||null==f||f.$$is_boolean&&1!=f){if(p["$[]="](t["$[]"]("firstname"),v=B["$[]"](0).$tr("_"," ")),p["$[]="](t["$[]"]("author"),v),p["$[]="](t["$[]"]("authorinitials"),v["$[]"](0,1)),(f=(A=B["$[]"](1)["$nil?"]()["$!"](),!1!==A&&A!==b&&null!=A?B["$[]"](2)["$nil?"]()["$!"]():A))===b||null==f||f.$$is_boolean&&1!=f?(f=B["$[]"](1)["$nil?"]()["$!"]())===b||null==f||f.$$is_boolean&&
1!=f||(p["$[]="](t["$[]"]("lastname"),D=B["$[]"](1).$tr("_"," ")),p["$[]="](t["$[]"]("author"),[v,D].$join(" ")),p["$[]="](t["$[]"]("authorinitials"),[v["$[]"](0,1),D["$[]"](0,1)].$join())):(p["$[]="](t["$[]"]("middlename"),K=B["$[]"](1).$tr("_"," ")),p["$[]="](t["$[]"]("lastname"),D=B["$[]"](2).$tr("_"," ")),p["$[]="](t["$[]"]("author"),[v,K,D].$join(" ")),p["$[]="](t["$[]"]("authorinitials"),[v["$[]"](0,1),K["$[]"](0,1),D["$[]"](0,1)].$join())),(f=!1!==(A=d)&&A!==b&&null!=A?A:B["$[]"](3)["$nil?"]())===
b||null==f||f.$$is_boolean&&1!=f)p["$[]="](t["$[]"]("email"),B["$[]"](3))}else p["$[]="](t["$[]"]("author"),p["$[]="](t["$[]"]("firstname"),v=a.$strip().$tr_s(" "," "))),p["$[]="](t["$[]"]("authorinitials"),v["$[]"](0,1));p["$[]="]("authorcount",m(c,1));c["$=="](1)&&(f=(A=x).$each,f.$$p=(u=function(a){var d;null==a&&(a=b);return(d=p["$has_key?"](a))===b||null==d||d.$$is_boolean&&1!=d?b:p["$[]="](""+a+"_1",p["$[]"](a))},u.$$s=e,u.$$arity=1,u),f).call(A);return c["$=="](0)?p["$[]="]("authors",p["$[]"](t["$[]"]("author"))):
p["$[]="]("authors",""+p["$[]"]("authors")+", "+p["$[]"](t["$[]"]("author")))},l.$$s=q,l.$$arity=2,l),e).call(k);return p},va.$$arity=-2);a.defs(C,"$parse_block_metadata_lines",wa=function(a,d,c,e){var g;null==c&&(c=w([],{}));for(null==e&&(e=w([],{}));(g=this.$parse_block_metadata_line(a,d,c,e))!==b&&null!=g&&(!g.$$is_boolean||1==g);)a.$advance(),a.$skip_blank_lines();return c},wa.$$arity=-3);a.defs(C,"$parse_block_metadata_line",xa=function(a,d,c,e){var g,f,h,k=b,l=b,m=b,l=k=b;null==e&&(e=w([],{}));
if((g=a["$has_more_lines?"]())===b||null==g||g.$$is_boolean&&1!=g)return!1;k=a.$peek_line();if((g=(f=l=k["$start_with?"]("//"),!1!==f&&f!==b&&null!=f?m=r.get("CommentBlockRx").$match(k):f))!==b&&null!=g&&(!g.$$is_boolean||1==g))k=m["$[]"](0),a.$read_lines_until(w(["skip_first_line","preserve_last_line","terminator","skip_processing"],{skip_first_line:!0,preserve_last_line:!0,terminator:k,skip_processing:!0}));else if((g=(f=!1!==l&&l!==b&&null!=l)?r.get("CommentLineRx")["$=~"](k):l)===b||null==g||
g.$$is_boolean&&1!=g)if((g=(f=(h=e["$[]"]("text")["$!"](),!1!==h&&h!==b&&null!=h?k["$start_with?"](":"):h),!1!==f&&f!==b&&null!=f?m=r.get("AttributeEntryRx").$match(k):f))!==b&&null!=g&&(!g.$$is_boolean||1==g))this.$process_attribute_entry(a,d,c,m);else if((g=(f=l=(h=k["$start_with?"]("["),!1!==h&&h!==b&&null!=h?k["$end_with?"]("]"):h),!1!==f&&f!==b&&null!=f?m=r.get("BlockAnchorRx").$match(k):f))===b||null==g||g.$$is_boolean&&1!=g)if((g=(f=!1!==l&&l!==b&&null!=l)?m=r.get("BlockAttributeListRx").$match(k):
l)===b||null==g||g.$$is_boolean&&1!=g){if((g=(f=e["$[]"]("text")["$!"](),!1!==f&&f!==b&&null!=f?m=r.get("BlockTitleRx").$match(k):f))===b||null==g||g.$$is_boolean&&1!=g)return!1;c["$[]="]("title",m["$[]"](1))}else d.$document().$parse_attributes(m["$[]"](1),[],w(["sub_input","into"],{sub_input:!0,into:c}));else if((g=m["$[]"](1)["$nil_or_empty?"]())===b||null==g||g.$$is_boolean&&1!=g)if(c["$[]="]("id",m["$[]"](1)),(g=m["$[]"](2)["$nil?"]())===b||null==g||g.$$is_boolean&&1!=g)c["$[]="]("reftext",m["$[]"](2));
return!0},xa.$$arity=-4);a.defs(C,"$process_attribute_entries",ya=function(a,d,c){var e;null==c&&(c=b);for(a.$skip_comment_lines();(e=this.$process_attribute_entry(a,d,c))!==b&&null!=e&&(!e.$$is_boolean||1==e);)a.$advance(),a.$skip_comment_lines()},ya.$$arity=-3);a.defs(C,"$process_attribute_entry",sa=function(a,d,c,e){var g,f,h=b,k=b,l=b,m=b,q=b,n=b;null==c&&(c=b);null==e&&(e=b);!1!==(g=e)&&g!==b&&null!=g?g:e=(f=a["$has_more_lines?"]())===b||null==f||f.$$is_boolean&&1!=f?b:r.get("AttributeEntryRx").$match(a.$peek_line());
if(!1!==e&&e!==b&&null!=e){h=e["$[]"](1);if(((g=(k=!1!==(f=e["$[]"](2))&&f!==b&&null!=f?f:"")["$empty?"]())===b||null==g||g.$$is_boolean&&1!=g)&&(g=!1!==(f=k["$end_with?"](l=r.get("LINE_CONTINUATION")))&&f!==b&&null!=f?f:k["$end_with?"](l=r.get("LINE_CONTINUATION_LEGACY")))!==b&&null!=g&&(!g.$$is_boolean||1==g))for(k=k.$chop().$rstrip();(f=a.$advance())!==b&&null!=f&&(!f.$$is_boolean||1==f)&&((f=(m=a.$peek_line().$strip())["$empty?"]())===b||null==f||f.$$is_boolean&&1!=f)&&((f=q=m["$end_with?"](l))===
b||null==f||f.$$is_boolean&&1!=f||(m=m.$chop().$rstrip()),n=(f=k["$end_with?"](r.get("LINE_BREAK")))===b||null==f||f.$$is_boolean&&1!=f?" ":r.get("EOL"),k=""+k+n+m,!1!==q&&q!==b&&null!=q););this.$store_attribute(h,k,!1!==d&&d!==b&&null!=d?d.$document():b,c);return!0}return!1},sa.$$arity=-3);a.defs(C,"$store_attribute",ta=function(a,d,e,f){var h,k=b,k=b;null==e&&(e=b);null==f&&(f=b);(h=a["$end_with?"]("!"))===b||null==h||h.$$is_boolean&&1!=h?(h=a["$start_with?"]("!"))===b||null==h||h.$$is_boolean&&
1!=h||(d=b,a=a["$[]"](g(1,-1,!1))):(d=b,a=a.$chop());a=this.$sanitize_attribute_name(a);k=!0;!1!==e&&e!==b&&null!=e&&(a["$=="]("numbered")?a="sectnums":a["$=="]("leveloffset")&&!1!==d&&d!==b&&null!=d&&(k=d.$chr(),"+"["$==="](k)?d=m(e.$attr("leveloffset",0).$to_i(),(!1!==(h=d["$[]"](g(1,-1,!1)))&&h!==b&&null!=h?h:0).$to_i()).$to_s():"-"["$==="](k)&&(d=c(e.$attr("leveloffset",0).$to_i(),(!1!==(h=d["$[]"](g(1,-1,!1)))&&h!==b&&null!=h?h:0).$to_i()).$to_s())),k=!1!==d&&d!==b&&null!=d?e.$set_attribute(a,
d):e.$delete_attribute(a));(h=!1!==k&&k!==b&&null!=k?f:k)===b||null==h||h.$$is_boolean&&1!=h||(!1!==d&&d!==b&&null!=d&&(d=e.$attributes()["$[]"](a)),r.get("Document").$$scope.get("AttributeEntry").$new(a,d).$save_to(f));return[a,d]},ta.$$arity=-3);a.defs(C,"$resolve_list_marker",qa=function(a,d,e,c,g){var f;null==e&&(e=0);null==c&&(c=!1);null==g&&(g=b);return(f=a["$=="]("olist")?d["$start_with?"](".")["$!"]():a["$=="]("olist"))===b||null==f||f.$$is_boolean&&1!=f?a["$=="]("colist")?"<1>":d:this.$resolve_ordered_list_marker(d,
e,c,g)},qa.$$arity=-3);a.defs(C,"$resolve_ordered_list_marker",oa=function(a,d,e,c){var g,f,h,k=b,l=b,q=b,k=b;null==d&&(d=0);null==e&&(e=!1);null==c&&(c=b);k=(g=(f=r.get("ORDERED_LIST_STYLES")).$find,g.$$p=(h=function(d){null==d&&(d=b);return r.get("OrderedListMarkerRxMap")["$[]"](d)["$=~"](a)},h.$$s=this,h.$$arity=1,h),g).call(f);l=q=b;"arabic"["$==="](k)?(!1!==e&&e!==b&&null!=e&&(l=m(d,1),q=a.$to_i()),a="1."):"loweralpha"["$==="](k)?(!1!==e&&e!==b&&null!=e&&(l=m("a"["$[]"](0).$ord(),d).$chr(),q=
a.$chomp(".")),a="a."):"upperalpha"["$==="](k)?(!1!==e&&e!==b&&null!=e&&(l=m("A"["$[]"](0).$ord(),d).$chr(),q=a.$chomp(".")),a="A."):"lowerroman"["$==="](k)?(!1!==e&&e!==b&&null!=e&&(l=m(d,1),q=this.$roman_numeral_to_int(a.$chomp(")"))),a="i)"):"upperroman"["$==="](k)&&(!1!==e&&e!==b&&null!=e&&(l=m(d,1),q=this.$roman_numeral_to_int(a.$chomp(")"))),a="I)");(g=!1!==e&&e!==b&&null!=e?l["$!="](q):e)===b||null==g||g.$$is_boolean&&1!=g||this.$warn("asciidoctor: WARNING: "+c.$line_info()+": list item index: expected "+
l+", got "+q);return a},oa.$$arity=-2);a.defs(C,"$is_sibling_list_item?",ha=function(d,e,c){var g,f=b,h=b,k=b;(g=a.get("Regexp")["$==="](c))===b||null==g||g.$$is_boolean&&1!=g?(f=r.get("ListRxMap")["$[]"](e),h=c):(f=c,h=!1);return(g=k=f.$match(d))===b||null==g||g.$$is_boolean&&1!=g?!1:!1!==h&&h!==b&&null!=h?h["$=="](this.$resolve_list_marker(e,k["$[]"](1))):!0},ha.$$arity=3);a.defs(C,"$next_table",pa=function(d,e,c){var f,h,k,l,q,n,p=b,x=b,u=b,t=b,B=b,v=b,N=b,w=b,G=b,E=b,R=b,z=b,w=b,p=r.get("Table").$new(e,
c);(f=c["$has_key?"]("title"))===b||null==f||f.$$is_boolean&&1!=f||(f=[c.$delete("title")],h=p,h["$title="].apply(h,f),f[f.length-1],p.$assign_caption(c.$delete("caption")));(f=(h=c["$key?"]("cols"),!1!==h&&h!==b&&null!=h?(x=this.$parse_colspecs(c["$[]"]("cols")))["$empty?"]()["$!"]():h))===b||null==f||f.$$is_boolean&&1!=f?u=!1:(p.$create_columns(x),u=!0);t=d.$skip_blank_lines();B=r.get("Table").$$scope.get("ParserContext").$new(d,p,c);v=!1!==(f=c["$key?"]("header-option"))&&f!==b&&null!=f?f:c["$key?"]("noheader-option");
for(N=-1;(h=d["$has_more_lines?"]())!==b&&null!=h&&(!h.$$is_boolean||1==h);){N=m(N,1);w=d.$read_line();(h=(k=(l=(q=(n=v["$!"](),!1!==n&&n!==b&&null!=n?t["$=="](0):n),!1!==q&&q!==b&&null!=q?N["$=="](0):q),!1!==l&&l!==b&&null!=l?(G=d.$peek_line())["$nil?"]()["$!"]():l),!1!==k&&k!==b&&null!=k?G["$empty?"]():k))===b||null==h||h.$$is_boolean&&1!=h||(h=[!0],k=p,k["$has_header_option="].apply(k,h),h[h.length-1],c["$[]="]("header-option",""),c["$[]="]("options",(h=c["$key?"]("options"))===b||null==h||h.$$is_boolean&&
1!=h?"header":""+c["$[]"]("options")+",header"));B.$format()["$=="]("psv")&&((h=B["$starts_with_delimiter?"](w))===b||null==h||h.$$is_boolean&&1!=h?(k=this.$parse_cellspec(w,"start",B.$delimiter()),h=a.to_ary(k),E=null==h[0]?b:h[0],w=null==h[1]?b:h[1],k,(h=E["$nil?"]()["$!"]())===b||null==h||h.$$is_boolean&&1!=h||B.$close_open_cell(E)):(w=w["$[]"](g(1,-1,!1)),B.$close_open_cell()));for(R=!1;(k=!1!==(l=R["$!"]())&&l!==b&&null!=l?l:w["$empty?"]()["$!"]())!==b&&null!=k&&(!k.$$is_boolean||1==k);)if(R=
!0,(k=z=B.$match_delimiter(w))===b||null==k||k.$$is_boolean&&1!=k)k=[""+B.$buffer()+w+r.get("EOL")],l=B,l["$buffer="].apply(l,k),k[k.length-1],B.$format()["$=="]("csv")&&(k=[""+B.$buffer().$rstrip()+" "],l=B,l["$buffer="].apply(l,k),k[k.length-1]),w="",(k=!1!==(l=B.$format()["$=="]("psv"))&&l!==b&&null!=l?l:(q=B.$format()["$=="]("csv"))?B["$buffer_has_unclosed_quotes?"]():B.$format()["$=="]("csv"))===b||null==k||k.$$is_boolean&&1!=k?B.$close_cell(!0):B.$keep_cell_open();else{if(B.$format()["$=="]("csv")){if((k=
B["$buffer_has_unclosed_quotes?"](z.$pre_match()))!==b&&null!=k&&(!k.$$is_boolean||1==k)){w=B.$skip_matched_delimiter(z);continue}}else if((k=z.$pre_match()["$end_with?"]("\\"))!==b&&null!=k&&(!k.$$is_boolean||1==k)){if((k=(w=B.$skip_matched_delimiter(z,!0))["$empty?"]())!==b&&null!=k&&(!k.$$is_boolean||1==k)){k=[""+B.$buffer()+r.get("EOL")];l=B;l["$buffer="].apply(l,k);k[k.length-1];B.$keep_cell_open();break}continue}B.$format()["$=="]("psv")?(l=this.$parse_cellspec(z.$pre_match(),"end"),k=a.to_ary(l),
E=null==k[0]?b:k[0],w=null==k[1]?b:k[1],l,B.$push_cellspec(E),k=[""+B.$buffer()+w]):k=[""+B.$buffer()+z.$pre_match()];l=B;l["$buffer="].apply(l,k);k[k.length-1];(k=(w=z.$post_match())["$empty?"]())===b||null==k||k.$$is_boolean&&1!=k||(R=!1);B.$close_cell()}if((h=B["$cell_open?"]())===b||null==h||h.$$is_boolean&&1!=h)t=d.$skip_blank_lines();if((h=d["$has_more_lines?"]())===b||null==h||h.$$is_boolean&&1!=h)(h=B["$cell_open?"]())===b||null==h||h.$$is_boolean&&1!=h||B.$close_cell(!0)}((f=!1!==(h=(k="colcount",
l=p.$attributes(),!1!==(q=l["$[]"](k))&&q!==b&&null!=q?q:l["$[]="](k,p.$columns().$size()))["$=="](0))&&h!==b&&null!=h?h:u)===b||null==f||f.$$is_boolean&&1!=f)&&p.$assign_column_widths();p.$partition_header_footer(c);return p},pa.$$arity=3);a.defs(C,"$parse_colspecs",ua=function(d){var e,c,g,f,h,k=b;(e=d["$include?"](" "))===b||null==e||e.$$is_boolean&&1!=e||(d=d.$tr(" ",""));if(d["$=="](d.$to_i().$to_s()))return(e=(c=a.get("Array")).$new,e.$$p=(g=function(){return w(["width"],{width:1})},g.$$s=this,
g.$$arity=0,g),e).call(c,d.$to_i());k=[];(e=(f=d.$split(",",-1)).$each,e.$$p=(h=function(d){var e=h.$$s||this,c,g,f,l=b,m=b,q=b,n=b;null==d&&(d=b);if((c=d["$empty?"]())===b||null==c||c.$$is_boolean&&1!=c){if((c=l=r.get("ColumnSpecRx").$match(d))===b||null==c||c.$$is_boolean&&1!=c)return b;m=w([],{});if((c=l["$[]"](2))!==b&&null!=c&&(!c.$$is_boolean||1==c)){g=l["$[]"](2).$split(".");c=a.to_ary(g);q=null==c[0]?b:c[0];n=null==c[1]?b:c[1];g;if((c=(g=q["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b&&null!=
g?r.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](q):g))!==b&&null!=c&&(!c.$$is_boolean||1==c))m["$[]="]("halign",r.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](q));if((c=(g=n["$nil_or_empty?"]()["$!"](),!1!==g&&g!==b&&null!=g?r.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](n):g))!==b&&null!=c&&(!c.$$is_boolean||1==c))m["$[]="]("valign",r.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](n))}m["$[]="]("width",(c=l["$[]"](3))===b||null==c||c.$$is_boolean&&
1!=c?1:l["$[]"](3).$to_i());if((c=(g=l["$[]"](4),!1!==g&&g!==b&&null!=g?r.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](l["$[]"](4)):g))!==b&&null!=c&&(!c.$$is_boolean||1==c))m["$[]="]("style",r.get("Table").$$scope.get("TEXT_STYLES")["$[]"](l["$[]"](4)));return(c=l["$[]"](1))===b||null==c||c.$$is_boolean&&1!=c?k["$<<"](m):(c=(g=1).$upto,c.$$p=(f=function(){return k["$<<"](m.$dup())},f.$$s=e,f.$$arity=0,f),c).call(g,l["$[]"](1).$to_i())}return k["$<<"](w(["width"],{width:1}))},h.$$s=this,h.$$arity=
1,h),e).call(f);return k},ua.$$arity=1);a.defs(C,"$parse_cellspec",T=function(c,d,e){var g,f,h=b,k=b,l=b,m=l=h=b,q=b;null==d&&(d="start");null==e&&(e=b);h=b;k="";l=d;if("start"["$==="](l)){if((g=c["$include?"](e))===b||null==g||g.$$is_boolean&&1!=g)return[b,c];f=c.$split(e,2);g=a.to_ary(f);h=null==g[0]?b:g[0];k=null==g[1]?b:g[1];f;if((g=h=r.get("CellSpecStartRx").$match(h))===b||null==g||g.$$is_boolean&&1!=g)return[b,c];if((g=h["$[]"](0)["$empty?"]())!==b&&null!=g&&(!g.$$is_boolean||1==g))return[w([],
{}),k]}else if("end"["$==="](l)){if((g=h=r.get("CellSpecEndRx").$match(c))===b||null==g||g.$$is_boolean&&1!=g)return[w([],{}),c];if((g=h["$[]"](0).$lstrip()["$empty?"]())!==b&&null!=g&&(!g.$$is_boolean||1==g))return[w([],{}),c.$rstrip()];k=h.$pre_match()}l=w([],{});if((g=h["$[]"](1))!==b&&null!=g&&(!g.$$is_boolean||1==g))if(f=h["$[]"](1).$split("."),g=a.to_ary(f),m=null==g[0]?b:g[0],q=null==g[1]?b:g[1],f,m=(g=m["$nil_or_empty?"]())===b||null==g||g.$$is_boolean&&1!=g?m.$to_i():1,q=(g=q["$nil_or_empty?"]())===
b||null==g||g.$$is_boolean&&1!=g?q.$to_i():1,h["$[]"](2)["$=="]("+")){if(!m["$=="](1))l["$[]="]("colspan",m);if(!q["$=="](1))l["$[]="]("rowspan",q)}else if(h["$[]"](2)["$=="]("*")&&!m["$=="](1))l["$[]="]("repeatcol",m);if((g=h["$[]"](3))!==b&&null!=g&&(!g.$$is_boolean||1==g)){f=h["$[]"](3).$split(".");g=a.to_ary(f);m=null==g[0]?b:g[0];q=null==g[1]?b:g[1];f;if((g=(f=m["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b&&null!=f?r.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$has_key?"](m):f))!==b&&null!=
g&&(!g.$$is_boolean||1==g))l["$[]="]("halign",r.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("h")["$[]"](m));if((g=(f=q["$nil_or_empty?"]()["$!"](),!1!==f&&f!==b&&null!=f?r.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$has_key?"](q):f))!==b&&null!=g&&(!g.$$is_boolean||1==g))l["$[]="]("valign",r.get("Table").$$scope.get("ALIGNMENTS")["$[]"]("v")["$[]"](q))}if((g=(f=h["$[]"](4),!1!==f&&f!==b&&null!=f?r.get("Table").$$scope.get("TEXT_STYLES")["$has_key?"](h["$[]"](4)):f))!==b&&null!=g&&(!g.$$is_boolean||
1==g))l["$[]="]("style",r.get("Table").$$scope.get("TEXT_STYLES")["$[]"](h["$[]"](4)));return[l,k]},T.$$arity=-2);a.defs(C,"$parse_style_attribute",Aa=function(a,c){var d,e,g,f,k,l,q,n=b,p=b,x=b,u=b,t=b,B=b,v=p=g=b;null==c&&(c=b);n=a["$[]"]("style");p=a["$[]"](1);if((d=(e=(g=!1!==p&&p!==b&&null!=p)?p["$include?"](" ")["$!"]():p,!1!==e&&e!==b&&null!=e?r.get("Compliance").$shorthand_property_syntax():e))===b||null==d||d.$$is_boolean&&1!=d)return a["$[]="]("style",p),[p,n];x="style";u=[];t=w([],{});
B=(d=(e=this).$lambda,d.$$p=(f=function(){var a=f.$$s||this,d,e,g=b;return(d=u["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?(g=x,"role"["$==="](g)||"option"["$==="](g)?(d=x,a=t,!1!==(e=a["$[]"](d))&&e!==b&&null!=e?e:a["$[]="](d,[]),t["$[]"](x).$push(u.$join())):("id"["$==="](g)&&((d=t["$has_key?"]("id"))===b||null==d||d.$$is_boolean&&1!=d||a.$warn("asciidoctor: WARNING:"+((d=c["$nil?"]())===b||null==d||d.$$is_boolean&&1!=d?" "+c.$prev_line_info()+":":b)+" multiple ids detected in style attribute")),
t["$[]="](x,u.$join())),u=[]):(d=x["$!="]("style"))===b||null==d||d.$$is_boolean&&1!=d?b:a.$warn("asciidoctor: WARNING:"+((d=c["$nil?"]())===b||null==d||d.$$is_boolean&&1!=d?" "+c.$prev_line_info()+":":b)+" invalid empty "+x+" detected in style attribute")},f.$$s=this,f.$$arity=0,f),d).call(e);(d=(g=p).$each_char,d.$$p=(k=function(a){var d,c,e,g=b;null==a&&(a=b);if((d=!1!==(c=!1!==(e=a["$=="]("."))&&e!==b&&null!=e?e:a["$=="]("#"))&&c!==b&&null!=c?c:a["$=="]("%"))===b||null==d||d.$$is_boolean&&1!=
d)return u.$push(a);B.$call();g=a;return"."["$==="](g)?x="role":"#"["$==="](g)?x="id":"%"["$==="](g)?x="option":b},k.$$s=this,k.$$arity=1,k),d).call(g);if(x["$=="]("style"))g=a["$[]="]("style",p);else{B.$call();g=(d=t["$has_key?"]("style"))===b||null==d||d.$$is_boolean&&1!=d?b:a["$[]="]("style",t["$[]"]("style"));if((d=t["$has_key?"]("id"))!==b&&null!=d&&(!d.$$is_boolean||1==d))a["$[]="]("id",t["$[]"]("id"));if((d=t["$has_key?"]("role"))!==b&&null!=d&&(!d.$$is_boolean||1==d))a["$[]="]("role",h(t["$[]"]("role"),
" "));if((d=t["$has_key?"]("option"))!==b&&null!=d&&(!d.$$is_boolean||1==d))if((d=(l=p=t["$[]"]("option")).$each,d.$$p=(q=function(d){null==d&&(d=b);return a["$[]="](""+d+"-option","")},q.$$s=this,q.$$arity=1,q),d).call(l),(d=v=a["$[]"]("options"))===b||null==d||d.$$is_boolean&&1!=d)a["$[]="]("options",h(p,","));else a["$[]="]("options",h(m(p,v.$split(",")),","))}return[g,n]},Aa.$$arity=-2);a.defs(C,"$adjust_indentation!",Ba=function(d,e,f){var k,l,q,p,x,u,t,B,v=this,w=b,N=b,G=b;null==e&&(e=0);null==
f&&(f=0);if((k=d["$empty?"]())!==b&&null!=k&&(!k.$$is_boolean||1==k))return b;(k=(l=n(f=f.$to_i(),0),!1!==l&&l!==b&&null!=l?d.$join()["$include?"](r.get("TAB")):l))===b||null==k||k.$$is_boolean&&1!=k||(w=h(" ",f),(k=(l=d)["$map!"],k.$$p=(q=function(a){var d=q.$$s||this,e,g,k,l,n,p=b;null==a&&(a=b);if((e=a["$empty?"]())!==b&&null!=e&&(!e.$$is_boolean||1==e))return a;(e=a["$start_with?"](r.get("TAB")))===b||null==e||e.$$is_boolean&&1!=e||(a=(e=(g=a).$sub,e.$$p=(k=function(a){null==a&&(a=b);return h(w,
a.$length())},k.$$s=d,k.$$arity=1,k),e).call(g,r.get("TabIndentRx")));if((e=a["$include?"](r.get("TAB")))===b||null==e||e.$$is_boolean&&1!=e)return a;p=0;return a=(e=(l=a).$gsub,e.$$p=(n=function(){var a=b,d=b;null==L["~"]&&(L["~"]=b);if((a=m(L["~"].$begin(0),p))["$%"](f)["$=="](0))return p=m(p,c(f,1)),w;(d=c(f,a["$%"](f)))["$=="](1)||(p=m(p,c(d,1)));return h(" ",d)},n.$$s=d,n.$$arity=0,n),e).call(l,r.get("TabRx"))},q.$$s=v,q.$$arity=1,q),k).call(l));if((k=(p=!1!==e&&e!==b&&null!=e)?n(e=e.$to_i(),
-1):e)===b||null==k||k.$$is_boolean&&1!=k)return b;N=b;(function(){var e=a.new_brk();try{return(k=(p=d).$each,k.$$p=(x=function(d){var g,f=b;null==d&&(d=b);if((g=d["$empty?"]())!==b&&null!=g&&(!g.$$is_boolean||1==g))return b;if((f=c(d.$length(),d.$lstrip().$length()))["$=="](0))N=b,a.brk(b,e);else return(g=!1!==N&&N!==b&&null!=N?n(f,N):N)===b||null==g||g.$$is_boolean&&1!=g?N=f:b},x.$$s=v,x.$$brk=e,x.$$arity=1,x),k).call(p)}catch(g){if(g===e)return g.$v;throw g;}})();e["$=="](0)?!1!==N&&N!==b&&null!=
N&&(k=d["$map!"],k.$$p=(u=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?a["$[]"](g(N,-1,!1)):a},u.$$s=v,u.$$arity=1,u),k).call(d):(G=h(" ",e),!1!==N&&N!==b&&null!=N?(k=d["$map!"],k.$$p=(t=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||null==d||d.$$is_boolean&&1!=d?m(G,a["$[]"](g(N,-1,!1))):a},t.$$s=v,t.$$arity=1,t),k).call(d):(k=d["$map!"],k.$$p=(B=function(a){var d;null==a&&(a=b);return(d=a["$empty?"]())===b||null==d||d.$$is_boolean&&
1!=d?m(G,a):a},B.$$s=v,B.$$arity=1,B),k).call(d));return b},Ba.$$arity=-2);a.defs(C,"$sanitize_attribute_name",Ca=function(a){return a.$gsub(r.get("InvalidAttributeNameCharsRx"),"").$downcase()},Ca.$$arity=1);return(a.defs(C,"$roman_numeral_to_int",Da=function(a){var e,f,h,k=b,l=b;a=a.$downcase();k=w(["i","v","x"],{i:1,v:5,x:10});l=0;(e=(f=g(0,c(a.$length(),1),!1)).$each,e.$$p=(h=function(e){var f,h,q=b;null==e&&(e=b);q=k["$[]"](a["$[]"](g(e,e,!1)));return(f=(h=d(m(e,1),a.$length()),!1!==h&&h!==b&&
null!=h?n(k["$[]"](a["$[]"](g(m(e,1),m(e,1),!1))),q):h))===b||null==f||f.$$is_boolean&&1!=f?l=m(l,q):l=c(l,q)},h.$$s=this,h.$$arity=1,h),e).call(f);return l},Da.$$arity=1),b)&&"roman_numeral_to_int"})(t(v,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/path_resolver"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}var n=a.nil,h=a.module,f=a.klass,c=a.hash2,e=a.range;a.add_stubs("$attr_accessor $is_root? $expand_path $pwd $start_with? $== $=~ $nil_or_empty? $include? $tr $partition_path $join_path $[] $posixfy $is_web_root? $is_unc? $index $split $shift $delete $[]= $* $raise $empty? $system_path $!= $! $dup $each $> $length $pop $fetch $warn $push $chomp $uri_prefix $<< $+".split(" "));return function(d){(function(b,
$super){function d(){}var h=d=f(b,$super,"PathResolver",d),p=h.$$proto,g=h.$$scope,L,v,z,I,F,C,r,Q,O,S,M;p.file_separator=p._partition_path_web=p._partition_path_sys=p.working_dir=n;a.cdecl(g,"DOT",".");a.cdecl(g,"DOT_DOT","..");a.cdecl(g,"DOT_SLASH","./");a.cdecl(g,"SLASH","/");a.cdecl(g,"BACKSLASH","\\");a.cdecl(g,"DOUBLE_SLASH","//");a.cdecl(g,"WindowsRootRx",/^[a-zA-Z]:(?:\\|\/)/);h.$attr_accessor("file_separator");h.$attr_accessor("working_dir");a.defn(h,"$initialize",L=function(b,d){var e;null==
b&&(b=n);null==d&&(d=n);this.file_separator=!1!==b&&b!==n&&null!=b?b:!1!==(e=a.get("File").$$scope.get("ALT_SEPARATOR"))&&e!==n&&null!=e?e:a.get("File").$$scope.get("SEPARATOR");this.working_dir=!1!==d&&d!==n&&null!=d?(e=this["$is_root?"](d))===n||null==e||e.$$is_boolean&&1!=e?a.get("File").$expand_path(d):d:a.get("File").$expand_path(a.get("Dir").$pwd());this._partition_path_sys=c([],{});return this._partition_path_web=c([],{})},L.$$arity=-1);a.defn(h,"$is_root?",v=function(b){var d,e,c;return(d=
b["$start_with?"](g.get("SLASH")))===n||null==d||d.$$is_boolean&&1!=d?(d=this.file_separator["$=="](g.get("BACKSLASH"))?g.get("WindowsRootRx")["$=~"](b):this.file_separator["$=="](g.get("BACKSLASH")))===n||null==d||d.$$is_boolean&&1!=d?(d=(e=(c=a.get("RUBY_ENGINE_OPAL"),!1!==c&&c!==n&&null!=c?a.get("JAVASCRIPT_PLATFORM")["$=="]("browser"):c),!1!==e&&e!==n&&null!=e?b["$start_with?"]("file:///"):e))===n||null==d||d.$$is_boolean&&1!=d?!1:!0:!0:!0},v.$$arity=1);a.defn(h,"$is_unc?",z=function(a){return a["$start_with?"](g.get("DOUBLE_SLASH"))},
z.$$arity=1);a.defn(h,"$is_web_root?",I=function(a){return a["$start_with?"](g.get("SLASH"))},I.$$arity=1);a.defn(h,"$posixfy",F=function(a){var b;return(b=a["$nil_or_empty?"]())===n||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"](g.get("BACKSLASH")))===n||null==b||b.$$is_boolean&&1!=b?a:a.$tr(g.get("BACKSLASH"),g.get("SLASH")):""},F.$$arity=1);a.defn(h,"$expand_path",C=function(b){var d,e=n;d=n;b=this.$partition_path(b);d=a.to_ary(b);e=null==d[0]?n:d[0];d=null==d[1]?n:d[1];b;return this.$join_path(e,
d)},C.$$arity=1);a.defn(h,"$partition_path",r=function(a,b){var d,c=n,f=c=n,h=n;null==b&&(b=!1);if((d=c=!1!==b&&b!==n&&null!=b?this._partition_path_web["$[]"](a):this._partition_path_sys["$[]"](a))!==n&&null!=d&&(!d.$$is_boolean||1==d))return c;c=this.$posixfy(a);f=!1!==b&&b!==n&&null!=b?(d=this["$is_web_root?"](c))===n||null==d||d.$$is_boolean&&1!=d?(d=c["$start_with?"](g.get("DOT_SLASH")))===n||null==d||d.$$is_boolean&&1!=d?n:g.get("DOT_SLASH"):g.get("SLASH"):(d=this["$is_root?"](c))===n||null==
d||d.$$is_boolean&&1!=d?(d=c["$start_with?"](g.get("DOT_SLASH")))===n||null==d||d.$$is_boolean&&1!=d?n:g.get("DOT_SLASH"):(d=this["$is_unc?"](c))===n||null==d||d.$$is_boolean&&1!=d?(d=c["$start_with?"](g.get("SLASH")))===n||null==d||d.$$is_boolean&&1!=d?c["$[]"](e(0,c.$index(g.get("SLASH")),!1)):g.get("SLASH"):g.get("DOUBLE_SLASH");h=c.$split(g.get("SLASH"));f["$=="](g.get("DOUBLE_SLASH"))?h=h["$[]"](e(2,-1,!1)):!1!==f&&f!==n&&null!=f&&h.$shift();h.$delete(g.get("DOT"));return(!1!==b&&b!==n&&null!=
b?this._partition_path_web:this._partition_path_sys)["$[]="](a,[h,f,c])},r.$$arity=-2);a.defn(h,"$join_path",Q=function(a,b){null==b&&(b=n);return!1!==b&&b!==n&&null!=b?""+b+m(a,g.get("SLASH")):m(a,g.get("SLASH"))},Q.$$arity=-2);a.defn(h,"$system_path",O=function(b,d,e,f){var h,m,p,r=n,v=n,N=n,B=n,w=n,x=w=N=n,E=n;null==e&&(e=n);null==f&&(f=c([],{}));!1!==e&&e!==n&&null!=e&&(((h=this["$is_root?"](e))===n||null==h||h.$$is_boolean&&1!=h)&&this.$raise(a.get("SecurityError"),"Jail is not an absolute path: "+
e),e=this.$posixfy(e));(h=b["$nil_or_empty?"]())===n||null==h||h.$$is_boolean&&1!=h?(m=this.$partition_path(b),h=a.to_ary(m),r=null==h[0]?n:h[0],v=null==h[1]?n:h[1],m):r=[];if((h=r["$empty?"]())!==n&&null!=h&&(!h.$$is_boolean||1==h))if((h=d["$nil_or_empty?"]())===n||null==h||h.$$is_boolean&&1!=h){if((h=this["$is_root?"](d))===n||null==h||h.$$is_boolean&&1!=h)return this.$system_path(d,e,e,f);if(!1===e||e===n||null==e)return this.$expand_path(d)}else return!1!==e&&e!==n&&null!=e?e:this.working_dir;
if(!((h=(m=!1!==v&&v!==n&&null!=v)?v["$!="](g.get("DOT_SLASH")):v)===n||null==h||h.$$is_boolean&&1!=h||(N=this.$join_path(r,v),(h=!1!==(m=e["$!"]())&&m!==n&&null!=m?m:N["$start_with?"](e))===n||null==h||h.$$is_boolean&&1!=h)))return N;d=(h=d["$nil_or_empty?"]())===n||null==h||h.$$is_boolean&&1!=h?(h=this["$is_root?"](d))===n||null==h||h.$$is_boolean&&1!=h?this.$system_path(d,e,e,f):this.$posixfy(d):!1!==e&&e!==n&&null!=e?e:this.working_dir;e["$=="](d)?(m=this.$partition_path(e),h=a.to_ary(m),B=null==
h[0]?n:h[0],w=null==h[1]?n:h[1],m,N=B.$dup()):(!1!==e&&e!==n&&null!=e?(((h=d["$start_with?"](e))===n||null==h||h.$$is_boolean&&1!=h)&&this.$raise(a.get("SecurityError"),""+(!1!==(h=f["$[]"]("target_name"))&&h!==n&&null!=h?h:"Start path")+" "+d+" is outside of jail: "+e+" (disallowed in safe mode)"),m=this.$partition_path(d),h=a.to_ary(m),N=null==h[0]?n:h[0],w=null==h[1]?n:h[1],m,m=this.$partition_path(e),h=a.to_ary(m),B=null==h[0]?n:h[0]):(m=this.$partition_path(d),h=a.to_ary(m),N=null==h[0]?n:h[0]),
w=null==h[1]?n:h[1],m);x=N.$dup();E=!1;(h=(m=r).$each,h.$$p=(p=function(d){var c=p.$$s||this,h;null==d&&(d=n);if(d["$=="](g.get("DOT_DOT"))){if(!1!==e&&e!==n&&null!=e){d=x.$length();var m=B.$length();if((h="number"===typeof d&&"number"===typeof m?d>m:d["$>"](m))===n||null==h||h.$$is_boolean&&1!=h){if((h=(!1!==n&&n!==n&&null!=n?n:f.$fetch("recover",!0))["$!"]())===n||null==h||h.$$is_boolean&&1!=h){if((h=E["$!"]())===n||null==h||h.$$is_boolean&&1!=h)return n;c.$warn("asciidoctor: WARNING: "+(!1!==(h=
f["$[]"]("target_name"))&&h!==n&&null!=h?h:"path")+" has illegal reference to ancestor of jail, auto-recovering");return E=!0}return c.$raise(a.get("SecurityError"),""+(!1!==(h=f["$[]"]("target_name"))&&h!==n&&null!=h?h:"path")+" "+b+" refers to location outside jail: "+e+" (disallowed in safe mode)")}}return x.$pop()}return x.$push(d)},p.$$s=this,p.$$arity=1,p),h).call(m);return this.$join_path(x,w)},O.$$arity=-3);a.defn(h,"$web_path",S=function(b,d){var c,f,h,m=n,p=n,r=n,v=n;null==d&&(d=n);b=this.$posixfy(b);
d=this.$posixfy(d);m=n;if((c=!1!==(f=d["$nil_or_empty?"]())&&f!==n&&null!=f?f:this["$is_web_root?"](b))===n||null==c||c.$$is_boolean&&1!=c)b=""+d.$chomp("/")+g.get("SLASH")+b,(c=m=g.get("Helpers").$uri_prefix(b))===n||null==c||c.$$is_boolean&&1!=c||(b=b["$[]"](e(m.$length(),-1,!1)));f=this.$partition_path(b,!0);c=a.to_ary(f);p=null==c[0]?n:c[0];r=null==c[1]?n:c[1];f;v=[];(c=(f=p).$each,c.$$p=(h=function(a){var b;null==a&&(a=n);return a["$=="](g.get("DOT_DOT"))?(b=v["$empty?"]())===n||null==b||b.$$is_boolean&&
1!=b?v["$[]"](-1)["$=="](g.get("DOT_DOT"))?v["$<<"](a):v.$pop():(b=!1!==r&&r!==n&&null!=r?r["$!="](g.get("DOT_SLASH")):r)===n||null==b||b.$$is_boolean&&1!=b?v["$<<"](a):n:v["$<<"](a)},h.$$s=this,h.$$arity=1,h),c).call(f);return!1!==m&&m!==n&&null!=m?""+m+this.$join_path(v,r):this.$join_path(v,r)},S.$$arity=-2);return(a.defn(h,"$relative_path",M=function(a,b){var d,c,g=n;if((d=(c=this["$is_root?"](a),!1!==c&&c!==n&&null!=c?this["$is_root?"](b):c))===n||null==d||d.$$is_boolean&&1!=d)return a;d=b.$chomp(this.file_separator).$length();
g="number"===typeof d?d+1:d["$+"](1);return a["$[]"](e(g,-1,!1))},M.$$arity=2),n)&&"relative_path"})(h(d,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/reader"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}var e=a.nil,d=a.module,b=a.klass,t=a.hash2,H=a.range;a.add_stubs("$attr_accessor $path $lineno $attr_reader $! $=== $split $file $dir $dirname $== $basename $prepare_lines $dup $empty? $[] $normalize_lines_from_string $normalize_lines_array $+ $nil? $peek_line $nil_or_empty? $> $process_line $times $read_line $<< $reverse_each $unshift $has_more_lines? $shift $* $read_lines $advance $eof? $start_with? $match $push $read_lines_until $=~ $size $clear $[]= $- $new $line_info $to_i $fetch $attributes $< $references $has_key? $skip_front_matter! $pop $adjust_indentation! $attr $end_with? $include? $preprocess_conditional_inclusion $captures $preprocess_include $strip $pop_include $downcase $warn $none? $any? $resolve_expr_val $send $to_sym $replace_next_line $rstrip $sub_attributes $attribute_missing $include_processors? $find $handles? $instance $process_method $parse $>= $safe $pwd $base_dir $join $uriish? $require_library $normalize_system_path $file? $relative_path $each $map $to_proc $/ $concat $to_a $uniq $sort $to_set $open $each_line $infinite? $push_include $force_encoding $chomp $read $extname $rootname $<= $!= $to_f $extensions? $extensions $include_processors $class $object_id $inspect $to_s".split(" "));
return function(w){w=d(w,"Asciidoctor").$$scope;(function(d,$super){function c(){}var v=c=b(d,$super,"Reader",c),w=v.$$proto,I=v.$$scope,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B,Z,x,E,fa,ia,ja,ma,na,ka,u,ea;w.file=w.dir=w.lines=w.process_lines=w.look_ahead=w.eof=w.unescape_next_line=w.lineno=w.path=w.source_lines=e;(function(d,$super){function c(){}var f=c=b(d,$super,"Cursor",c),h,k;f.$attr_accessor("file");f.$attr_accessor("dir");f.$attr_accessor("path");f.$attr_accessor("lineno");a.defn(f,"$initialize",
h=function(a,b,d,c){null==b&&(b=e);null==d&&(d=e);null==c&&(c=e);this.file=a;this.dir=b;this.path=d;return this.lineno=c},h.$$arity=-2);a.defn(f,"$line_info",k=function(){return""+this.$path()+": line "+this.$lineno()},k.$$arity=0);return a.alias(f,"to_s","line_info")})(I.base,null);v.$attr_reader("file");v.$attr_reader("dir");v.$attr_reader("path");v.$attr_reader("lineno");v.$attr_reader("source_lines");v.$attr_accessor("process_lines");a.defn(v,"$initialize",F=function(b,d,c){var f;null==b&&(b=
e);null==d&&(d=e);null==c&&(c=t(["normalize"],{normalize:!1}));if((f=d["$!"]())===e||null==f||f.$$is_boolean&&1!=f)if((f=a.get("String")["$==="](d))===e||null==f||f.$$is_boolean&&1!=f){this.file=d.$file();this.dir=d.$dir();this.path=!1!==(f=d.$path())&&f!==e&&null!=f?f:"<stdin>";if((f=this.file)!==e&&null!=f&&(!f.$$is_boolean||1==f)){if((f=this.dir)===e||null==f||f.$$is_boolean&&1!=f)this.dir=a.get("File").$dirname(this.file),this.dir["$=="](".")&&(this.dir=e);if((f=d.$path())===e||null==f||f.$$is_boolean&&
1!=f)this.path=a.get("File").$basename(this.file)}this.lineno=!1!==(f=d.$lineno())&&f!==e&&null!=f?f:1}else this.file=d,d=a.get("File").$split(this.file),f=a.to_ary(d),this.dir=null==f[0]?e:f[0],this.path=null==f[1]?e:f[1],d,this.lineno=1;else this.file=this.dir=e,this.path="<stdin>",this.lineno=1;this.lines=!1!==b&&b!==e&&null!=b?this.$prepare_lines(b,c):[];this.source_lines=this.lines.$dup();this.eof=this.lines["$empty?"]();this.look_ahead=0;this.process_lines=!0;return this.unescape_next_line=
!1},F.$$arity=-1);a.defn(v,"$prepare_lines",C=function(b,d){var c;null==d&&(d=t([],{}));return(c=a.get("String")["$==="](b))===e||null==c||c.$$is_boolean&&1!=c?(c=d["$[]"]("normalize"))===e||null==c||c.$$is_boolean&&1!=c?b.$dup():I.get("Helpers").$normalize_lines_array(b):(c=d["$[]"]("normalize"))===e||null==c||c.$$is_boolean&&1!=c?b.$split(I.get("EOL")):I.get("Helpers").$normalize_lines_from_string(b)},C.$$arity=-2);a.defn(v,"$process_line",r=function(a){var b;(b=this.process_lines)===e||null==b||
b.$$is_boolean&&1!=b||(this.look_ahead=m(this.look_ahead,1));return a},r.$$arity=1);a.defn(v,"$has_more_lines?",Q=function(){var a;return(!1!==(a=this.eof)&&a!==e&&null!=a?a:this.eof=this.$peek_line()["$nil?"]())["$!"]()},Q.$$arity=0);a.defn(v,"$next_line_empty?",O=function(){return this.$peek_line()["$nil_or_empty?"]()},O.$$arity=0);a.defn(v,"$peek_line",S=function(a){var b,d,c=e;null==a&&(a=!1);if((b=!1!==(d=a)&&d!==e&&null!=d?d:n(this.look_ahead,0))===e||null==b||b.$$is_boolean&&1!=b){if((b=!1!==
(d=this.eof)&&d!==e&&null!=d?d:this.lines["$empty?"]())===e||null==b||b.$$is_boolean&&1!=b)return(b=(c=this.$process_line(this.lines["$[]"](0)))["$!"]())===e||null==b||b.$$is_boolean&&1!=b?c:this.$peek_line();this.eof=!0;this.look_ahead=0;return e}return(b=this.unescape_next_line)===e||null==b||b.$$is_boolean&&1!=b?this.lines["$[]"](0):this.lines["$[]"](0)["$[]"](H(1,-1,!1))},S.$$arity=-1);a.defn(v,"$peek_lines",M=function(b,d){var c,f,h,k,m,n=this,q=e,p=e;null==b&&(b=1);null==d&&(d=!0);q=n.look_ahead;
p=[];(function(){var k=a.new_brk();try{return(c=(f=b).$times,c.$$p=(h=function(){var b,c=e;if((b=c=(h.$$s||this).$read_line(d))===e||null==b||b.$$is_boolean&&1!=b)a.brk(e,k);else return p["$<<"](c)},h.$$s=n,h.$$brk=k,h.$$arity=0,h),c).call(f)}catch(m){if(m===k)return m.$v;throw m;}})();if((c=p["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c)(c=(k=p).$reverse_each,c.$$p=(m=function(a){var b=m.$$s||this;null==a&&(a=e);return b.$unshift(a)},m.$$s=n,m.$$arity=1,m),c).call(k),!1!==d&&d!==e&&null!=d&&
(n.look_ahead=q);return p},M.$$arity=-1);a.defn(v,"$read_line",R=function(a){var b,d,c;null==a&&(a=!1);return(b=!1!==(d=!1!==(c=a)&&c!==e&&null!=c?c:n(this.look_ahead,0))&&d!==e&&null!=d?d:this["$has_more_lines?"]())===e||null==b||b.$$is_boolean&&1!=b?e:this.$shift()},R.$$arity=-1);a.defn(v,"$read_lines",q=function(){for(var a,b=e,b=[];(a=this["$has_more_lines?"]())!==e&&null!=a&&(!a.$$is_boolean||1==a);)b["$<<"](this.$shift());return b},q.$$arity=0);a.alias(v,"readlines","read_lines");a.defn(v,"$read",
k=function(){return h(this.$read_lines(),I.get("EOL"))},k.$$arity=0);a.defn(v,"$advance",Y=function(a){null==a&&(a=!0);return this.$read_line(a)["$!"]()["$!"]()},Y.$$arity=-1);a.defn(v,"$unshift_line",G=function(a){this.$unshift(a);return e},G.$$arity=1);a.alias(v,"restore_line","unshift_line");a.defn(v,"$unshift_lines",V=function(a){var b,d;(b=a.$reverse_each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);return b.$unshift(a)},d.$$s=this,d.$$arity=1,d),b).call(a);return e},V.$$arity=1);a.alias(v,
"restore_lines","unshift_lines");a.defn(v,"$replace_next_line",aa=function(a){this.$advance();this.$unshift(a);return e},aa.$$arity=1);a.alias(v,"replace_line","replace_next_line");a.defn(v,"$skip_blank_lines",ca=function(){var a,b,d=e,c=e;if((a=this["$eof?"]())!==e&&null!=a&&(!a.$$is_boolean||1==a))return 0;for(d=0;!((b=c=this.$peek_line())===e||null==b||b.$$is_boolean&&1!=b||(b=c["$empty?"]())===e||null==b||b.$$is_boolean&&1!=b);)this.$advance(),d=m(d,1);return d},ca.$$arity=0);a.defn(v,"$skip_comment_lines",
da=function(b){var d,c,f=e,h=e,k=e,m=e,n=e;null==b&&(b=t([],{}));if((d=this["$eof?"]())!==e&&null!=d&&(!d.$$is_boolean||1==d))return[];f=[];for(h=b["$[]"]("include_blank_lines");(c=k=this.$peek_line())!==e&&null!=c&&(!c.$$is_boolean||1==c);)if((c=(b=!1!==h&&h!==e&&null!=h)?k["$empty?"]():h)===e||null==c||c.$$is_boolean&&1!=c)if((c=(b=m=k["$start_with?"]("//"),!1!==b&&b!==e&&null!=b?n=I.get("CommentBlockRx").$match(k):b))===e||null==c||c.$$is_boolean&&1!=c)if((b=!1!==m&&m!==e&&null!=m?I.get("CommentLineRx")["$=~"](k):
m)===e||null==b||b.$$is_boolean&&1!=b)break;else f["$<<"](this.$shift());else f["$<<"](this.$shift()),(c=f).$push.apply(c,a.to_a(this.$read_lines_until(t(["terminator","read_last_line","skip_processing"],{terminator:n["$[]"](0),read_last_line:!0,skip_processing:!0}))));else f["$<<"](this.$shift());return f},da.$$arity=-1);a.defn(v,"$skip_line_comments",N=function(){var a,b,d=e,c=e;if((a=this["$eof?"]())!==e&&null!=a&&(!a.$$is_boolean||1==a))return[];for(d=[];!((b=c=this.$peek_line())===e||null==b||
b.$$is_boolean&&1!=b||(b=I.get("CommentLineRx")["$=~"](c))===e||null==b||b.$$is_boolean&&1!=b);)d["$<<"](this.$shift());return d},N.$$arity=0);a.defn(v,"$terminate",B=function(){this.lineno=m(this.lineno,this.lines.$size());this.lines.$clear();this.eof=!0;this.look_ahead=0;return e},B.$$arity=0);a.defn(v,"$eof?",Z=function(){return this["$has_more_lines?"]()["$!"]()},Z.$$arity=0);a.alias(v,"empty?","eof?");a.defn(v,"$read_lines_until",x=function(b){var d,c,h,k,m=x.$$p||e,n=e,q=e,p=e,r=e,u=e,B=e,v=
e,N=e,w=e,E=e;null==b&&(b=t([],{}));x.$$p=null;n=[];(d=b["$[]"]("skip_first_line"))===e||null==d||d.$$is_boolean&&1!=d||this.$advance();(d=(c=this.process_lines,!1!==c&&c!==e&&null!=c?b["$[]"]("skip_processing"):c))===e||null==d||d.$$is_boolean&&1!=d?q=!1:(this.process_lines=!1,q=!0);(d=p=b["$[]"]("terminator"))===e||null==d||d.$$is_boolean&&1!=d?(r=b["$[]"]("break_on_blank_lines"),u=b["$[]"]("break_on_list_continuation")):u=r=!1;B=b["$[]"]("skip_line_comments");for(w=N=v=!1;(c=(h=w["$!"](),!1!==
h&&h!==e&&null!=h?E=this.$read_line():h))!==e&&null!=c&&(!c.$$is_boolean||1==c);)if(w=function(){for(;(h=!0)!==e&&null!=h&&(!h.$$is_boolean||1==h);)return((h=(k=!1!==p&&p!==e&&null!=p)?E["$=="](p):p)===e||null==h||h.$$is_boolean&&1!=h)&&((h=(k=!1!==r&&r!==e&&null!=r)?E["$empty?"]():r)===e||null==h||h.$$is_boolean&&1!=h)?(h=(k=!1!==u&&u!==e&&null!=u?v:u,!1!==k&&k!==e&&null!=k?E["$=="](I.get("LIST_CONTINUATION")):k))===e||null==h||h.$$is_boolean&&1!=h?(h=(k=m!==e)?a.yield1(m,E):m!==e)===e||null==h||
h.$$is_boolean&&1!=h?!1:!0:(b["$[]="]("preserve_last_line",!0),!0):!0;return e}(),!1!==w&&w!==e&&null!=w)(c=b["$[]"]("read_last_line"))===e||null==c||c.$$is_boolean&&1!=c||(n["$<<"](E),v=!0),(c=b["$[]"]("preserve_last_line"))===e||null==c||c.$$is_boolean&&1!=c||(this.$unshift(E),N=!0);else if((c=(h=(k=!1!==B&&B!==e&&null!=B)?E["$start_with?"]("//"):B,!1!==h&&h!==e&&null!=h?I.get("CommentLineRx")["$=~"](E):h))===e||null==c||c.$$is_boolean&&1!=c)n["$<<"](E),v=!0;!1!==q&&q!==e&&null!=q&&(this.process_lines=
!0,(d=(c=!1!==N&&N!==e&&null!=N)?p["$!"]():N)===e||null==d||d.$$is_boolean&&1!=d||(this.look_ahead=f(this.look_ahead,1)));return n},x.$$arity=-1);a.defn(v,"$shift",E=function(){this.lineno=m(this.lineno,1);this.look_ahead["$=="](0)||(this.look_ahead=f(this.look_ahead,1));return this.lines.$shift()},E.$$arity=0);a.defn(v,"$unshift",fa=function(a){this.lineno=f(this.lineno,1);this.look_ahead=m(this.look_ahead,1);this.eof=!1;return this.lines.$unshift(a)},fa.$$arity=1);a.defn(v,"$cursor",ia=function(){return I.get("Cursor").$new(this.file,
this.dir,this.path,this.lineno)},ia.$$arity=0);a.defn(v,"$line_info",ja=function(){return""+this.path+": line "+this.lineno},ja.$$arity=0);a.alias(v,"next_line_info","line_info");a.defn(v,"$prev_line_info",ma=function(){return""+this.path+": line "+f(this.lineno,1)},ma.$$arity=0);a.defn(v,"$lines",na=function(){return this.lines.$dup()},na.$$arity=0);a.defn(v,"$string",ka=function(){return h(this.lines,I.get("EOL"))},ka.$$arity=0);a.defn(v,"$source",u=function(){return h(this.source_lines,I.get("EOL"))},
u.$$arity=0);return(a.defn(v,"$to_s",ea=function(){return this.$line_info()},ea.$$arity=0),e)&&"to_s"})(w.base,null);(function(d,$super){function w(){}var v=w=b(d,$super,"PreprocessorReader",w),z=v.$$proto,I=v.$$scope,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca;z.document=z.lineno=z.process_lines=z.look_ahead=z.skipping=z.include_stack=z.conditional_stack=z.path=z.include_processor_extensions=z.maxdepth=z.dir=z.lines=z.file=z.includes=z.unescape_next_line=e;v.$attr_reader("include_stack");v.$attr_reader("includes");
a.defn(v,"$initialize",F=function(b,d,c){var f,h,k,m=e;null==d&&(d=e);null==c&&(c=e);F.$$p=null;this.document=b;(f=a.find_super_dispatcher(this,"initialize",F,!1),f.$$p=null,f).call(this,d,c,t(["normalize"],{normalize:!0}));m=b.$attributes().$fetch("max-include-depth",64).$to_i();(f="number"===typeof m?0>m:m["$<"](0))===e||null==f||f.$$is_boolean&&1!=f||(m=0);this.maxdepth=t(["abs","rel"],{abs:m,rel:m});this.include_stack=[];this.includes=(f="includes",h=b.$references(),!1!==(k=h["$[]"](f))&&k!==
e&&null!=k?k:h["$[]="](f,[]));this.skipping=!1;this.conditional_stack=[];return this.include_processor_extensions=e},F.$$arity=-2);a.defn(v,"$prepare_lines",C=function(b,d){var c,f,k,n=C.$$p,q=e,p=e,r=e,v=e,w=q=e;null==d&&(d=t([],{}));C.$$p=null;q=[];for(w=0;w<arguments.length;w++)q[w]=arguments[w];q=(c=a.find_super_dispatcher(this,"prepare_lines",C,!1),c.$$p=n,c).apply(this,q);if(!((c=(f=this.document,!1!==f&&f!==e&&null!=f?this.document.$attributes()["$has_key?"]("skip-front-matter"):f))===e||null==
c||c.$$is_boolean&&1!=c||(c=p=this["$skip_front_matter!"](q))===e||null==c||c.$$is_boolean&&1!=c))this.document.$attributes()["$[]="]("front-matter",h(p,I.get("EOL")));if((c=d.$fetch("condense",!0))!==e&&null!=c&&(!c.$$is_boolean||1==c)){for(;(f=(k=r=q["$[]"](0),!1!==k&&k!==e&&null!=k?r["$empty?"]():k))!==e&&null!=f&&(!f.$$is_boolean||1==f);)f=q.$shift(),!1!==f&&f!==e&&null!=f?this.lineno=m(this.lineno,1):f;for(;(f=(k=v=q["$[]"](-1),!1!==k&&k!==e&&null!=k?v["$empty?"]():k))!==e&&null!=f&&(!f.$$is_boolean||
1==f);)q.$pop()}if((c=d["$[]"]("indent"))!==e&&null!=c&&(!c.$$is_boolean||1==c))I.get("Parser")["$adjust_indentation!"](q,d["$[]"]("indent"),this.document.$attr("tabsize"));return q},C.$$arity=-2);a.defn(v,"$process_line",r=function(b){var d,c,f,h,k=e,n=e;if((d=this.process_lines)===e||null==d||d.$$is_boolean&&1!=d)return b;if((d=b["$empty?"]())!==e&&null!=d&&(!d.$$is_boolean||1==d))return this.look_ahead=m(this.look_ahead,1),"";if((d=(c=(f=b["$end_with?"]("]"),!1!==f&&f!==e&&null!=f?b["$start_with?"]("[")["$!"]():
f),!1!==c&&c!==e&&null!=c?b["$include?"]("::"):c))===e||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===e||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=m(this.look_ahead,1),b;this.$advance();return e}if((d=(c=b["$include?"]("if"),!1!==c&&c!==e&&null!=c?k=I.get("ConditionalDirectiveRx").$match(b):c))===e||null==d||d.$$is_boolean&&1!=d){if((d=this.skipping)===e||null==d||d.$$is_boolean&&1!=d)return(d=(f=!1!==(h=n=b["$start_with?"]("\\include::"))&&h!==e&&null!=h?h:b["$start_with?"]("include::"),
!1!==f&&f!==e&&null!=f?k=I.get("IncludeDirectiveRx").$match(b):f))===e||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=m(this.look_ahead,1),b):!1!==n&&n!==e&&null!=n?(this.unescape_next_line=!0,this.look_ahead=m(this.look_ahead,1),b["$[]"](H(1,-1,!1))):(d=this.$preprocess_include(k["$[]"](1),k["$[]"](2).$strip()))===e||null==d||d.$$is_boolean&&1!=d?(this.look_ahead=m(this.look_ahead,1),b):e;this.$advance();return e}if((d=b["$start_with?"]("\\"))===e||null==d||d.$$is_boolean&&1!=d){if((d=(c=this).$preprocess_conditional_inclusion.apply(c,
a.to_a(k.$captures())))===e||null==d||d.$$is_boolean&&1!=d)return this.look_ahead=m(this.look_ahead,1),b;this.$advance();return e}this.unescape_next_line=!0;this.look_ahead=m(this.look_ahead,1);return b["$[]"](H(1,-1,!1))},r.$$arity=1);a.defn(v,"$peek_line",Q=function(b){var d,c,f=Q.$$p,h=e,k=h=e;null==b&&(b=!1);Q.$$p=null;h=[];for(k=0;k<arguments.length;k++)h[k]=arguments[k];return(d=h=(c=a.find_super_dispatcher(this,"peek_line",Q,!1),c.$$p=f,c).apply(this,h))===e||null==d||d.$$is_boolean&&1!=d?
(d=this.include_stack["$empty?"]())===e||null==d||d.$$is_boolean&&1!=d?(this.$pop_include(),this.$peek_line(b)):e:h},Q.$$arity=-1);a.defn(v,"$preprocess_conditional_inclusion",O=function(a,b,d,c){var f,h,k,m,q,p,r,v,u,w,l=e,z=l=e,G=e,R=G=z=l=e,z=e;if((f=!1!==(h=(k=!1!==(m=a["$=="]("ifdef"))&&m!==e&&null!=m?m:a["$=="]("ifndef"),!1!==k&&k!==e&&null!=k?b["$empty?"]():k))&&h!==e&&null!=h?h:(k=a["$=="]("endif"))?c:a["$=="]("endif"))!==e&&null!=f&&(!f.$$is_boolean||1==f))return!1;b=b.$downcase();if(a["$=="]("endif"))return l=
this.conditional_stack.$size(),(f=n(l,0))===e||null==f||f.$$is_boolean&&1!=f?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": unmatched macro: endif::"+b+"[]"):(l=this.conditional_stack["$[]"](-1),(f=!1!==(h=b["$empty?"]())&&h!==e&&null!=h?h:b["$=="](l["$[]"]("target")))===e||null==f||f.$$is_boolean&&1!=f?this.$warn("asciidoctor: ERROR: "+this.$line_info()+": mismatched macro: endif::"+b+"[], expected endif::"+l["$[]"]("target")+"[]"):(this.conditional_stack.$pop(),this.skipping=(f=this.conditional_stack["$empty?"]())===
e||null==f||f.$$is_boolean&&1!=f?this.conditional_stack["$[]"](-1)["$[]"]("skipping"):!1)),!0;z=!1;if((f=this.skipping)===e||null==f||f.$$is_boolean&&1!=f)if(G=a,"ifdef"["$==="](G))G=d,e["$==="](G)?z=this.document.$attributes()["$has_key?"](b)["$!"]():","["$==="](G)?z=(f=(h=b.$split(","))["$none?"],f.$$p=(q=function(a){var b=q.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},q.$$s=this,q.$$arity=1,q),f).call(h):"+"["$==="](G)&&(z=(f=(k=b.$split("+"))["$any?"],
f.$$p=(p=function(a){var b=p.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},p.$$s=this,p.$$arity=1,p),f).call(k));else if("ifndef"["$==="](G))G=d,e["$==="](G)?z=this.document.$attributes()["$has_key?"](b):","["$==="](G)?z=(f=(m=b.$split(","))["$none?"],f.$$p=(r=function(a){var b=r.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)["$!"]()},r.$$s=this,r.$$arity=1,r),f).call(m):
"+"["$==="](G)&&(z=(f=(v=b.$split("+"))["$any?"],f.$$p=(u=function(a){var b=u.$$s||this;null==b.document&&(b.document=e);null==a&&(a=e);return b.document.$attributes()["$has_key?"](a)},u.$$s=this,u.$$arity=1,u),f).call(v));else if("ifeval"["$==="](G)){if((f=!1!==(w=b["$empty?"]()["$!"]())&&w!==e&&null!=w?w:(l=I.get("EvalExpressionRx").$match(c.$strip()))["$!"]())!==e&&null!=f&&(!f.$$is_boolean||1==f))return!1;z=this.$resolve_expr_val(l["$[]"](1));G=this.$resolve_expr_val(l["$[]"](3));z=(R=l["$[]"](2))["$=="]("!=")?
z.$send("==",G):z.$send(R.$to_sym(),G)["$!"]()}if((f=!1!==(w=a["$=="]("ifeval"))&&w!==e&&null!=w?w:c["$!"]())!==e&&null!=f&&(!f.$$is_boolean||1==f))!1!==z&&z!==e&&null!=z&&(this.skipping=!0),this.conditional_stack["$<<"](t(["target","skip","skipping"],{target:b,skip:z,skipping:this.skipping}));else if((f=!1!==(w=this.skipping)&&w!==e&&null!=w?w:z)===e||null==f||f.$$is_boolean&&1!=f)z=this.$peek_line(!0),this.$replace_next_line(c.$rstrip()),this.$unshift(z);return!0},O.$$arity=4);a.defn(v,"$preprocess_include",
S=function(b,d){var k,q,p,r,v,w,z,G,R,C=e,u=e,M=e,l=M=e,O=e,Q=e,F=e,L=e,S=e,Y=e,H=e,V=e,aa=e,ca=e,ta=e;if((k=(C=this.document.$sub_attributes(b,t(["attribute_missing"],{attribute_missing:"drop-line"})))["$empty?"]())===e||null==k||k.$$is_boolean&&1!=k){if((k=(q=this["$include_processors?"](),!1!==q&&q!==e&&null!=q?u=(p=(r=this.include_processor_extensions).$find,p.$$p=(v=function(a){null==a&&(a=e);return a.$instance()["$handles?"](C)},v.$$s=this,v.$$arity=1,v),p).call(r):q))===e||null==k||k.$$is_boolean&&
1!=k){if((k=c(this.document.$safe(),I.get("SafeMode").$$scope.get("SECURE")))===e||null==k||k.$$is_boolean&&1!=k){if((k=n(M=this.maxdepth["$[]"]("abs"),0))===e||null==k||k.$$is_boolean&&1!=k)return!1;if((k=c(this.include_stack.$size(),M))!==e&&null!=k&&(!k.$$is_boolean||1==k))return this.$warn("asciidoctor: ERROR: "+this.$line_info()+": maximum include depth of "+this.maxdepth["$[]"]("rel")+" exceeded"),!1;if((k=a.get("RUBY_ENGINE_OPAL"))===e||null==k||k.$$is_boolean&&1!=k)if((k=I.get("Helpers")["$uriish?"](C))===
e||null==k||k.$$is_boolean&&1!=k){M="file";l=this.document.$normalize_system_path(C,this.dir,e,t(["target_name"],{target_name:"include file"}));if((k=a.get("File")["$file?"](l))===e||null==k||k.$$is_boolean&&1!=k)return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include file not found: "+l),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+C+"["+d+"]"),!0;O=I.get("PathResolver").$new().$relative_path(l,this.document.$base_dir())}else{if((k=this.document.$attributes()["$has_key?"]("allow-uri-read"))===
e||null==k||k.$$is_boolean&&1!=k)return this.$replace_next_line("link:"+C+"[]"),!0;M="uri";l=O=C;if((k=this.document.$attributes()["$has_key?"]("cache-uri"))===e||null==k||k.$$is_boolean&&1!=k)(k=a.get("RUBY_ENGINE_OPAL")["$!"]())===e||null==k||k.$$is_boolean&&1!=k||a.get("OpenURI");else{var qa;try{qa=null!=a.get("OpenURI").$$scope.get("Cache")?"constant":e}catch(oa){if(oa.$$class===a.NameError)qa=e;else throw oa;}((k=qa)===e||null==k||k.$$is_boolean&&1!=k)&&I.get("Helpers").$require_library("open-uri/cached",
"open-uri-cached")}}else M="file",l=O=(k=this.include_stack["$empty?"]())===e||null==k||k.$$is_boolean&&1!=k?a.get("File").$join(this.dir,C):a.get("Dir").$pwd()["$=="](this.document.$base_dir())?C:a.get("File").$join(this.dir,C);F=Q=e;L=t([],{});(k=d["$empty?"]()["$!"]())===e||null==k||k.$$is_boolean&&1!=k||(L=I.get("AttributeList").$new(d).$parse(),(k=L["$has_key?"]("lines"))===e||null==k||k.$$is_boolean&&1!=k?(k=L["$has_key?"]("tag"))===e||null==k||k.$$is_boolean&&1!=k?(k=L["$has_key?"]("tags"))===
e||null==k||k.$$is_boolean&&1!=k||(F=L["$[]"]("tags").$split(I.get("DataDelimiterRx")).$to_set()):F=[L["$[]"]("tag")].$to_set():(Q=[],(k=(q=L["$[]"]("lines").$split(I.get("DataDelimiterRx"))).$each,k.$$p=(w=function(b){var d,c,f,h=e,k=e;null==b&&(b=e);if((d=b["$include?"](".."))===e||null==d||d.$$is_boolean&&1!=d)return Q["$<<"](b.$to_i());b=(c=(f=b.$split("..",2)).$map,c.$$p="to_i".$to_proc(),c).call(f);d=a.to_ary(b);h=null==d[0]?e:d[0];k=null==d[1]?e:d[1];b;return k["$=="](-1)?(Q["$<<"](h),Q["$<<"](1/
0)):Q.$concat(a.get("Range").$new(h,k).$to_a())},w.$$s=this,w.$$arity=1,w),k).call(q),Q=Q.$sort().$uniq()));if(!1!==Q&&Q!==e&&null!=Q){if((k=Q["$empty?"]())===e||null==k||k.$$is_boolean&&1!=k){S=[];H=Y=0;try{(k=(p=this).$open,k.$$p=(z=function(b){var d=z.$$s||this,c,f,h;null==b&&(b=e);return function(){var k=a.new_brk();try{return(c=(f=b).$each_line,c.$$p=(h=function(d){var c,f,h=e;null==d&&(d=e);H=m(H,1);h=Q["$[]"](0);if((c=(f=a.get("Float")["$==="](h),!1!==f&&f!==e&&null!=f?h["$infinite?"]():f))===
e||null==c||c.$$is_boolean&&1!=c){b.$lineno()["$=="](h)&&(S.$push(d),Y["$=="](0)&&(Y=H),Q.$shift());if((c=Q["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c)return e;a.brk(e,k)}else return S.$push(d),Y["$=="](0)?Y=H:e},h.$$s=d,h.$$brk=k,h.$$arity=1,h),c).call(f)}catch(l){if(l===k)return l.$v;throw l;}}()},z.$$s=this,z.$$arity=1,z),k).call(p,l,"r")}catch(oa){if(a.rescue(oa,[I.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+M+" not readable: "+l),
this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+C+"["+d+"]"),!0}finally{a.pop_exception()}else throw oa;}this.$advance();this.$push_include(S,l,O,Y,L)}}else if(!1!==F&&F!==e&&null!=F){if((k=F["$empty?"]())===e||null==k||k.$$is_boolean&&1!=k){S=[];H=Y=0;V=e;aa=a.get("Set").$new();try{(k=this.$open,k.$$p=(G=function(b){var d=G.$$s||this,c,f,h;null==b&&(b=e);return(c=(f=b).$each_line,c.$$p=(h=function(b){var d=h.$$s||this,c,f,k,l=e;null==b&&(b=e);H=m(H,1);(c=I.get("FORCE_ENCODING"))===
e||null==c||c.$$is_boolean&&1!=c||b.$force_encoding(a.get("Encoding").$$scope.get("UTF_8"));b=b.$rstrip();l=b.$chomp("--\x3e").$rstrip();return!1!==V&&V!==e&&null!=V?(c=l["$end_with?"]("end::"+V+"[]"))===e||null==c||c.$$is_boolean&&1!=c?(((c=(f=l["$end_with?"]("[]"),!1!==f&&f!==e&&null!=f?I.get("TagDirectiveRx")["$=~"](l):f))===e||null==c||c.$$is_boolean&&1!=c)&&S.$push(b),Y["$=="](0)?Y=H:e):V=e:(c=(f=l["$end_with?"]("[]"),!1!==f&&f!==e&&null!=f?I.get("TagDirectiveRx")["$=~"](l):f))===e||null==c||
c.$$is_boolean&&1!=c?e:function(){var b=a.new_brk();try{return(c=(f=F).$each,c.$$p=(k=function(d){var c;null==d&&(d=e);if((c=l["$end_with?"]("tag::"+d+"[]"))===e||null==c||c.$$is_boolean&&1!=c)return e;V=d;aa["$<<"](d);a.brk(e,b)},k.$$s=d,k.$$brk=b,k.$$arity=1,k),c).call(f)}catch(h){if(h===b)return h.$v;throw h;}}()},h.$$s=d,h.$$arity=1,h),c).call(f)},G.$$s=this,G.$$arity=1,G),k).call(this,l,"r")}catch(oa){if(a.rescue(oa,[I.get("StandardError")]))try{return this.$warn("asciidoctor: WARNING: "+this.$line_info()+
": include "+M+" not readable: "+l),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+C+"["+d+"]"),!0}finally{a.pop_exception()}else throw oa;}((k=(ca=f(F.$to_a(),aa.$to_a()))["$empty?"]())===e||null==k||k.$$is_boolean&&1!=k)&&this.$warn("asciidoctor: WARNING: "+this.$line_info()+": tag"+((k=n(ca.$size(),1))===e||null==k||k.$$is_boolean&&1!=k?e:"s")+" '"+h(ca,",")+"' not found in include "+M+": "+l);this.$advance();this.$push_include(S,l,O,Y,L)}}else try{ta=(k=this.$open,
k.$$p=(R=function(a){null==a&&(a=e);return a.$read()},R.$$s=this,R.$$arity=1,R),k).call(this,l,"r"),this.$advance(),this.$push_include(ta,l,O,1,L)}catch(oa){if(a.rescue(oa,[I.get("StandardError")]))try{this.$warn("asciidoctor: WARNING: "+this.$line_info()+": include "+M+" not readable: "+l),this.$replace_next_line("Unresolved directive in "+this.path+" - include::"+C+"["+d+"]")}finally{a.pop_exception()}else throw oa;}return!0}this.$replace_next_line("link:"+C+"[]");return!0}this.$advance();u.$process_method()["$[]"](this.document,
this,C,I.get("AttributeList").$new(d).$parse());return!0}this.$advance();this.document.$attributes().$fetch("attribute-missing",I.get("Compliance").$attribute_missing())["$=="]("skip")&&this.$unshift("Unresolved directive in "+this.path+" - include::"+b+"["+d+"]");return!0},S.$$arity=2);a.defn(v,"$push_include",M=function(b,d,c,h,k){var n,q=e,p=e;null==d&&(d=e);null==c&&(c=e);null==h&&(h=1);null==k&&(k=t([],{}));this.include_stack["$<<"]([this.lines,this.file,this.dir,this.path,this.lineno,this.maxdepth,
this.process_lines]);!1!==d&&d!==e&&null!=d?(this.file=d,this.dir=I.get("File").$dirname(d),this.process_lines=I.get("ASCIIDOC_EXTENSIONS")["$[]"](a.get("File").$extname(d))):(this.file=e,this.dir=".",this.process_lines=!0);!1!==c&&c!==e&&null!=c?(this.includes["$<<"](I.get("Helpers").$rootname(c)),d=c):d="<stdin>";this.path=d;this.lineno=h;(n=k["$has_key?"]("depth"))===e||null==n||n.$$is_boolean&&1!=n||(q=k["$[]"]("depth").$to_i(),(n="number"===typeof q?0>=q:q["$<="](0))===e||null==n||n.$$is_boolean&&
1!=n||(q=1),this.maxdepth=t(["abs","rel"],{abs:m(f(this.include_stack.$size(),1),q),rel:q}));(n=(this.lines=this.$prepare_lines(b,t(["normalize","condense","indent"],{normalize:!0,condense:!1,indent:k["$[]"]("indent")})))["$empty?"]())===e||null==n||n.$$is_boolean&&1!=n?((n=k["$has_key?"]("leveloffset"))===e||null==n||n.$$is_boolean&&1!=n||(this.lines.$unshift(""),this.lines.$unshift(":leveloffset: "+k["$[]"]("leveloffset")),this.lines.$push(""),(n=p=this.document.$attr("leveloffset"))===e||null==
n||n.$$is_boolean&&1!=n?this.lines.$push(":leveloffset!:"):this.lines.$push(":leveloffset: "+p),this.lineno=f(this.lineno,2)),this.eof=!1,this.look_ahead=0):this.$pop_include();return this},M.$$arity=-2);a.defn(v,"$pop_include",R=function(){var b,d;(b=n(this.include_stack.$size(),0))===e||null==b||b.$$is_boolean&&1!=b||(d=this.include_stack.$pop(),b=a.to_ary(d),this.lines=null==b[0]?e:b[0],this.file=null==b[1]?e:b[1],this.dir=null==b[2]?e:b[2],this.path=null==b[3]?e:b[3],this.lineno=null==b[4]?e:
b[4],this.maxdepth=null==b[5]?e:b[5],this.process_lines=null==b[6]?e:b[6],d,this.eof=this.lines["$empty?"](),this.look_ahead=0);return e},R.$$arity=0);a.defn(v,"$include_depth",q=function(){return this.include_stack.$size()},q.$$arity=0);a.defn(v,"$exceeded_max_depth?",k=function(){var a,b,d=e;return(a=(b=n(d=this.maxdepth["$[]"]("abs"),0),!1!==b&&b!==e&&null!=b?c(this.include_stack.$size(),d):b))===e||null==a||a.$$is_boolean&&1!=a?!1:this.maxdepth["$[]"]("rel")},k.$$arity=0);a.defn(v,"$shift",Y=
function(){var b,d=Y.$$p,c=e,f=e;Y.$$p=null;c=[];for(f=0;f<arguments.length;f++)c[f]=arguments[f];if((b=this.unescape_next_line)===e||null==b||b.$$is_boolean&&1!=b)return(b=a.find_super_dispatcher(this,"shift",Y,!1),b.$$p=d,b).apply(this,c);this.unescape_next_line=!1;return(b=a.find_super_dispatcher(this,"shift",Y,!1),b.$$p=d,b).apply(this,c)["$[]"](H(1,-1,!1))},Y.$$arity=0);a.defn(v,"$skip_front_matter!",G=function(b,d){var c,f,h,k=e,n=e;null==d&&(d=!0);k=e;if(b["$[]"](0)["$=="]("---")){n=b.$dup();
k=[];b.$shift();!1!==d&&d!==e&&null!=d&&(this.lineno=m(this.lineno,1));for(;(f=(h=b["$empty?"]()["$!"](),!1!==h&&h!==e&&null!=h?b["$[]"](0)["$!="]("---"):h))!==e&&null!=f&&(!f.$$is_boolean||1==f);)k.$push(b.$shift()),!1!==d&&d!==e&&null!=d&&(this.lineno=m(this.lineno,1));(c=b["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c?(b.$shift(),!1!==d&&d!==e&&null!=d&&(this.lineno=m(this.lineno,1))):((c=b).$unshift.apply(c,a.to_a(n)),!1!==d&&d!==e&&null!=d&&(this.lineno=0),k=e)}return k},G.$$arity=-2);a.defn(v,
"$resolve_expr_val",V=function(a){var b,d,c,f=e;(b=!1!==(d=(c=a["$start_with?"]('"'),!1!==c&&c!==e&&null!=c?a["$end_with?"]('"'):c))&&d!==e&&null!=d?d:(c=a["$start_with?"]("'"),!1!==c&&c!==e&&null!=c?a["$end_with?"]("'"):c))===e||null==b||b.$$is_boolean&&1!=b?f=!1:(f=!0,a=a["$[]"](H(1,-1,!0)));(b=a["$include?"]("{"))===e||null==b||b.$$is_boolean&&1!=b||(a=this.document.$sub_attributes(a,t(["attribute_missing"],{attribute_missing:"drop"})));return!1!==f&&f!==e&&null!=f?a:(b=a["$empty?"]())===e||null==
b||b.$$is_boolean&&1!=b?a["$=="]("true")?!0:a["$=="]("false")?!1:(b=a.$rstrip()["$empty?"]())===e||null==b||b.$$is_boolean&&1!=b?(b=a["$include?"]("."))===e||null==b||b.$$is_boolean&&1!=b?a.$to_i():a.$to_f():" ":e},V.$$arity=1);a.defn(v,"$include_processors?",aa=function(){var a,b;return(a=this.include_processor_extensions["$nil?"]())===e||null==a||a.$$is_boolean&&1!=a?this.include_processor_extensions["$!="](!1):(a=(b=this.document["$extensions?"](),!1!==b&&b!==e&&null!=b?this.document.$extensions()["$include_processors?"]():
b))===e||null==a||a.$$is_boolean&&1!=a?this.include_processor_extensions=!1:(this.include_processor_extensions=this.document.$extensions().$include_processors())["$!"]()["$!"]()},aa.$$arity=0);return(a.defn(v,"$to_s",ca=function(){var a,b,d;return"#<"+this.$class()+"@"+this.$object_id()+" {path: "+this.path.$inspect()+", line #: "+this.lineno+", include depth: "+this.include_stack.$size()+", include stack: ["+(a=(b=this.include_stack).$map,a.$$p=(d=function(a){null==a&&(a=e);return a.$to_s()},d.$$s=
this,d.$$arity=1,d),a).call(b).$join(", ")+"]}>"},ca.$$arity=0),e)&&"to_s"})(w.base,w.get("Reader"))}(a.base)};
Opal.modules["asciidoctor/section"]=function(a){function m(a,d){return"number"===typeof a&&"number"===typeof d?a+d:a["$+"](d)}function n(a,d){return"number"===typeof a&&"number"===typeof d?a>d:a["$>"](d)}var h=a.nil,f=a.module,c=a.klass,e=a.hash2,d=a.range;a.add_stubs("$attr_accessor $+ $level $> $== $context $special $has_key? $attributes $[] $chomp $tr_s $gsub $downcase $title $empty? $! $start_with? $unique_id_start_index $references $sectnum $assign_index $!= $class $object_id $inspect $size".split(" "));return function(b){b=
f(b,"Asciidoctor").$$scope;(function(b,$super){function f(){}var p=f=c(b,$super,"Section",f),g=p.$$proto,L=p.$$scope,v,z,I,F,C;g.level=g.document=g.parent=g.number=g.title=g.numbered=g.blocks=h;p.$attr_accessor("index");p.$attr_accessor("number");p.$attr_accessor("sectname");p.$attr_accessor("special");p.$attr_accessor("numbered");a.defn(p,"$initialize",v=function(b,d,c,f){var g;null==b&&(b=h);null==d&&(d=h);null==c&&(c=!0);null==f&&(f=e([],{}));v.$$p=null;(g=a.find_super_dispatcher(this,"initialize",
v,!1),g.$$p=null,g).call(this,b,"section",f);this.level=!1!==d&&d!==h&&null!=d?d:!1!==b&&b!==h&&null!=b?m(b.$level(),1):1;this.numbered=(g=!1!==c&&c!==h&&null!=c)?n(this.level,0):c;this.special=(g=!1!==b&&b!==h&&null!=b?b.$context()["$=="]("section"):b,!1!==g&&g!==h&&null!=g?b.$special():g);this.index=0;return this.number=1},v.$$arity=-1);a.alias(p,"name","title");a.defn(p,"$generate_id",z=function(){var a,b,c,e=h,f=h,g=h,n=f=h;if((a=this.document.$attributes()["$has_key?"]("sectids"))===h||null==
a||a.$$is_boolean&&1!=a)return h;e=!1!==(a=this.document.$attributes()["$[]"]("idseparator"))&&a!==h&&null!=a?a:"_";f=!1!==(a=this.document.$attributes()["$[]"]("idprefix"))&&a!==h&&null!=a?a:"_";g=""+f+this.$title().$downcase().$gsub(L.get("InvalidSectionIdCharsRx"),e).$tr_s(e,e).$chomp(e);if((a=(b=(c=f["$empty?"](),!1!==c&&c!==h&&null!=c?e["$empty?"]()["$!"]():c),!1!==b&&b!==h&&null!=b?g["$start_with?"](e):b))!==h&&null!=a&&(!a.$$is_boolean||1==a))for(g=g["$[]"](d(1,-1,!1));(b=g["$start_with?"](e))!==
h&&null!=b&&(!b.$$is_boolean||1==b);)g=g["$[]"](d(1,-1,!1));f=g;for(n=L.get("Compliance").$unique_id_start_index();(b=this.document.$references()["$[]"]("ids")["$has_key?"](f))!==h&&null!=b&&(!b.$$is_boolean||1==b);)f=""+g+e+n,n=m(n,1);return f},z.$$arity=0);a.defn(p,"$sectnum",I=function(a,b){var d,c,e,f;null==a&&(a=".");null==b&&(b=h);!1!==(d=b)&&d!==h&&null!=d?d:b=b["$=="](!1)?"":a;return(d=(c=(e=(f=this.level,!1!==f&&f!==h&&null!=f?n(this.level,1):f),!1!==e&&e!==h&&null!=e?this.parent:e),!1!==
c&&c!==h&&null!=c?this.parent.$context()["$=="]("section"):c))===h||null==d||d.$$is_boolean&&1!=d?""+this.number+b:""+this.parent.$sectnum(a)+this.number+b},I.$$arity=-1);a.defn(p,"$<<",F=function(b){var d,c=F.$$p,e=h,f=h;F.$$p=null;e=[];for(f=0;f<arguments.length;f++)e[f]=arguments[f];b.$context()["$=="]("section")&&this.$assign_index(b);return(d=a.find_super_dispatcher(this,"<<",F,!1),d.$$p=c,d).apply(this,e)},F.$$arity=1);return(a.defn(p,"$to_s",C=function(){var b,d=C.$$p,c=h,e=c=h;C.$$p=null;
c=[];for(e=0;e<arguments.length;e++)c[e]=arguments[e];if((b=this.title["$!="](h))===h||null==b||b.$$is_boolean&&1!=b)return(b=a.find_super_dispatcher(this,"to_s",C,!1),b.$$p=d,b).apply(this,c);c=(b=this.numbered)===h||null==b||b.$$is_boolean&&1!=b?this.title:""+this.$sectnum()+" "+this.title;return"#<"+this.$class()+"@"+this.$object_id()+" {level: "+this.level+", title: "+c.$inspect()+", blocks: "+this.blocks.$size()+"}>"},C.$$arity=0),h)&&"to_s"})(b.base,b.get("AbstractBlock"))}(a.base)};
Opal.modules["asciidoctor/stylesheets"]=function(a){var m=a.nil,n=a.module,h=a.klass,f=a.hash2;a.add_stubs("$join $new $chomp $read $primary_stylesheet_data $open $write $primary_stylesheet_name $coderay_stylesheet_data $coderay_stylesheet_name $load_pygments $[] $[]= $sub $css $pygments_stylesheet_data $pygments_stylesheet_name $! $nil? $require_library".split(" "));return function(c){(function(c,$super){function b(){}var n=b=h(c,$super,"Stylesheets",b),H=n.$$proto,w=n.$$scope,p,g,L,v,z,I,F,C,r,
Q,O,S,M,R;H.primary_stylesheet_data=H.coderay_stylesheet_data=H.pygments_stylesheet_data=m;a.cdecl(w,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(w,"DEFAULT_PYGMENTS_STYLE","default");a.cdecl(w,"STYLESHEETS_DATA_PATH",a.get("File").$join(w.get("DATA_PATH"),"stylesheets"));n.__instance__=n.$new();a.defs(n,"$instance",p=function(){null==this.__instance__&&(this.__instance__=m);return this.__instance__},p.$$arity=0);a.defn(n,"$primary_stylesheet_name",g=function(){return w.get("DEFAULT_STYLESHEET_NAME")},
g.$$arity=0);a.defn(n,"$primary_stylesheet_data",L=function(){var b;b=w.get("JAVASCRIPT_PLATFORM")["$=="]("node")||w.get("JAVASCRIPT_PLATFORM")["$=="]("node-electron")?a.get("File").$join(__dirname,"..","css"):"css";return!1!==($a=n.primary_stylesheet_data)&&$a!==m&&null!=$a?$a:n.primary_stylesheet_data=a.get("IO").$read(a.get("File").$join(b,"asciidoctor.css")).$chomp()},L.$$arity=0);a.defn(n,"$embed_primary_stylesheet",v=function(){return"<style>\n"+this.$primary_stylesheet_data()+"\n</style>"},
v.$$arity=0);a.defn(n,"$write_primary_stylesheet",z=function(b){var c,e,f;return(c=(e=a.get("File")).$open,c.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=m);return a.$write(b.$primary_stylesheet_data())},f.$$s=this,f.$$arity=1,f),c).call(e,a.get("File").$join(b,this.$primary_stylesheet_name()),"w")},z.$$arity=1);a.defn(n,"$coderay_stylesheet_name",I=function(){return"coderay-asciidoctor.css"},I.$$arity=0);a.defn(n,"$coderay_stylesheet_data",F=function(){var b;return!1!==(b=this.coderay_stylesheet_data)&&
b!==m&&null!=b?b:this.coderay_stylesheet_data=a.get("IO").$read(a.get("File").$join(w.get("STYLESHEETS_DATA_PATH"),"coderay-asciidoctor.css")).$chomp()},F.$$arity=0);a.defn(n,"$embed_coderay_stylesheet",C=function(){return"<style>\n"+this.$coderay_stylesheet_data()+"\n</style>"},C.$$arity=0);a.defn(n,"$write_coderay_stylesheet",r=function(b){var c,e,f;return(c=(e=a.get("File")).$open,c.$$p=(f=function(a){var b=f.$$s||this;null==a&&(a=m);return a.$write(b.$coderay_stylesheet_data())},f.$$s=this,f.$$arity=
1,f),c).call(e,a.get("File").$join(b,this.$coderay_stylesheet_name()),"w")},r.$$arity=1);a.defn(n,"$pygments_stylesheet_name",Q=function(a){var b;null==a&&(a=m);return"pygments-"+(!1!==(b=a)&&b!==m&&null!=b?b:w.get("DEFAULT_PYGMENTS_STYLE"))+".css"},Q.$$arity=-1);a.defn(n,"$pygments_stylesheet_data",O=function(b){var c,e,g,h;null==b&&(b=m);return(c=this.$load_pygments())===m||null==c||c.$$is_boolean&&1!=c?"/* Pygments styles disabled. Pygments is not available. */":(c=!1!==(g=b)&&g!==m&&null!=g?g:
w.get("DEFAULT_PYGMENTS_STYLE"),e=!1!==(g=this.pygments_stylesheet_data)&&g!==m&&null!=g?g:this.pygments_stylesheet_data=f([],{}),!1!==(g=e["$[]"](c))&&g!==m&&null!=g?g:e["$[]="](c,a.get("Pygments").$css(".listingblock .pygments",f(["classprefix","style"],{classprefix:"tok-",style:!1!==(h=b)&&h!==m&&null!=h?h:w.get("DEFAULT_PYGMENTS_STYLE")})).$sub(".listingblock .pygments  {",".listingblock .pygments, .listingblock .pygments code {")))},O.$$arity=-1);a.defn(n,"$embed_pygments_stylesheet",S=function(a){null==
a&&(a=m);return"<style>\n"+this.$pygments_stylesheet_data(a)+"\n</style>"},S.$$arity=-1);a.defn(n,"$write_pygments_stylesheet",M=function(b,c){var e,f,g;null==c&&(c=m);return(e=(f=a.get("File")).$open,e.$$p=(g=function(a){var b=g.$$s||this;null==a&&(a=m);return a.$write(b.$pygments_stylesheet_data(c))},g.$$s=this,g.$$arity=1,g),e).call(f,a.get("File").$join(b,this.$pygments_stylesheet_name(c)),"w")},M.$$arity=-2);return(a.defn(n,"$load_pygments",R=function(){var b;return(b=null==a.Object.$$scope.Pygments?
m:"constant")===m||null==b||b.$$is_boolean&&1!=b?w.get("Helpers").$require_library("pygments","pygments.rb","ignore")["$nil?"]()["$!"]():!0},R.$$arity=0),m)&&"load_pygments"})(n(c,"Asciidoctor").$$scope.base,null)}(a.base)};
Opal.modules["asciidoctor/table"]=function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>b:a["$>"](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a/b:a["$/"](b)}function f(a,b){return"number"===typeof a&&"number"===typeof b?a+b:a["$+"](b)}function c(a,b){return"number"===typeof a&&"number"===typeof b?a-b:a["$-"](b)}var e=a.nil,d=a.module,b=a.klass,t=a.hash2,H=a.range;a.add_stubs("$attr_accessor $new $key? $[] $> $to_i $< $== $[]= $attributes $round $* $/ $to_f $empty? $body $each $+ $<< $size $assign_column_widths $** $assign_width $- $shift $style= $head= $foot= $pop $update_attributes $parent $attr_reader $delete $! $header_row? $table $split $include? $readlines $!= $unshift $nil? $strip $apply_normal_subs $convert $map $text $to_s $cursor $raise $nested? $document $escape $columns $start_with? $match $chop $pre_match $post_match $end_with? $lstrip $push_cellspec $cell_open? $close_cell $advance $take_cellspec $warn $line_info $tr_s $upto $times $rowspan $activate_rowspan $colspan $end_of_row? $close_row $rows $effective_column_visits".split(" "));
return function(w){w=d(w,"Asciidoctor").$$scope;(function(d,$super){function w(){}var v=w=b(d,$super,"Table",w),z=v.$$proto,I=v.$$scope,F,C,r,Q,O;z.attributes=z.document=z.has_header_option=z.rows=z.columns=e;(function(d,$super){function c(){}var e=c=b(d,$super,"Rows",c),f;e.$attr_accessor("head","foot","body");a.defn(e,"$initialize",f=function(a,b,d){null==a&&(a=[]);null==b&&(b=[]);null==d&&(d=[]);this.head=a;this.foot=b;return this.body=d},f.$$arity=-1);return a.alias(e,"[]","send")})(I.base,null);
a.cdecl(I,"DEFAULT_DATA_FORMAT","psv");a.cdecl(I,"DATA_FORMATS",["psv","dsv","csv"]);a.cdecl(I,"DEFAULT_DELIMITERS",t(["psv","dsv","csv"],{psv:"|",dsv:":",csv:","}));a.cdecl(I,"TEXT_STYLES",t("dsemhlva".split(""),{d:"none",s:"strong",e:"emphasis",m:"monospaced",h:"header",l:"literal",v:"verse",a:"asciidoc"}));a.cdecl(I,"ALIGNMENTS",t(["h","v"],{h:t(["<",">","^"],{"<":"left",">":"right","^":"center"}),v:t(["<",">","^"],{"<":"top",">":"bottom","^":"middle"})}));v.$attr_accessor("columns");v.$attr_accessor("rows");
v.$attr_accessor("has_header_option");a.defn(v,"$initialize",F=function(b,d){var c,f,k,p=e,r=e;F.$$p=null;(c=a.find_super_dispatcher(this,"initialize",F,!1),c.$$p=null,c).call(this,b,"table");this.rows=I.get("Rows").$new();this.columns=[];this.has_header_option=d["$key?"]("header-option");(c=p=d["$[]"]("width"))===e||null==c||c.$$is_boolean&&1!=c?r=100:(c=!1!==(f=m(r=p.$to_i(),100))&&f!==e&&null!=f?f:"number"===typeof r?1>r:r["$<"](1))===e||null==c||c.$$is_boolean&&1!=c||!((c=r["$=="](0)?!1!==(k=
p["$=="]("0"))&&k!==e&&null!=k?k:p["$=="]("0%"):r["$=="](0))===e||null==c||c.$$is_boolean&&1!=c)||(r=100);this.attributes["$[]="]("tablepcwidth",r);(c=this.document.$attributes()["$key?"]("pagewidth"))===e||null==c||c.$$is_boolean&&1!=c||(c="tableabswidth",f=this.attributes,!1!==(k=f["$[]"](c))&&k!==e&&null!=k?k:f["$[]="](c,n(h(this.attributes["$[]"]("tablepcwidth").$to_f(),100),this.document.$attributes()["$[]"]("pagewidth")).$round()));return(c=d["$key?"]("rotate-option"))===e||null==c||c.$$is_boolean&&
1!=c?e:d["$[]="]("orientation","landscape")},F.$$arity=2);a.defn(v,"$header_row?",C=function(){var a;return a=this.has_header_option,!1!==a&&a!==e&&null!=a?this.rows.$body()["$empty?"]():a},C.$$arity=0);a.defn(v,"$create_columns",r=function(a){var b,d,c=e,h=e,c=[],h=0;(b=a.$each,b.$$p=(d=function(a){var b=d.$$s||this;null==a&&(a=e);h=f(h,a["$[]"]("width"));return c["$<<"](I.get("Column").$new(b,c.$size(),a))},d.$$s=this,d.$$arity=1,d),b).call(a);if((b=(this.columns=c)["$empty?"]())===e||null==b||
b.$$is_boolean&&1!=b)this.attributes["$[]="]("colcount",c.$size()),this.$assign_column_widths(h["$=="](0)?e:h);return e},r.$$arity=1);a.defn(v,"$assign_column_widths",Q=function(a){var b,d,m,k,p,r=e,t=e,v=e;null==a&&(a=e);r=10["$**"](4);t=v=0;!1!==a&&a!==e&&null!=a?(b=(d=this.columns).$each,b.$$p=(m=function(b){null==b&&(b=e);return t=f(t,v=b.$assign_width(e,a,r))},m.$$s=this,m.$$arity=1,m),b).call(d):(v=h(h(n(100,r),this.columns.$size()).$to_i(),r),v.$to_i()["$=="](v)&&(v=v.$to_i()),(b=(k=this.columns).$each,
b.$$p=(p=function(a){null==a&&(a=e);return t=f(t,a.$assign_width(v))},p.$$s=this,p.$$arity=1,p),b).call(k));t["$=="](100)||this.columns["$[]"](-1).$assign_width(h(n(f(c(100,t),v),r).$round(),r));return e},Q.$$arity=-1);return(a.defn(v,"$partition_header_footer",O=function(a){var b,d,f,h,n=e,p=e;this.attributes["$[]="]("rowcount",this.rows.$body().$size());n=this.rows.$body().$size();(b=(d=m(n,0),!1!==d&&d!==e&&null!=d?this.has_header_option:d))===e||null==b||b.$$is_boolean&&1!=b||(p=this.rows.$body().$shift(),
n=c(n,1),(b=(d=p).$each,b.$$p=(f=function(a){var b,d;null==a&&(a=e);return b=[e],d=a,d["$style="].apply(d,b),b[b.length-1]},f.$$s=this,f.$$arity=1,f),b).call(d),b=[[p]],h=this.rows,h["$head="].apply(h,b),b[b.length-1]);(b=(h=m(n,0),!1!==h&&h!==e&&null!=h?a["$key?"]("footer-option"):h))===e||null==b||b.$$is_boolean&&1!=b||(b=[[this.rows.$body().$pop()]],h=this.rows,h["$foot="].apply(h,b),b[b.length-1]);return e},O.$$arity=1),e)&&"partition_header_footer"})(w.base,w.get("AbstractBlock"));(function(d,
$super){function c(){}var m=c=b(d,$super,"Column",c),w,I;m.$$proto.attributes=e;m.$attr_accessor("style");a.defn(m,"$initialize",w=function(b,d,c){var h,m;null==c&&(c=t([],{}));w.$$p=null;(h=a.find_super_dispatcher(this,"initialize",w,!1),h.$$p=null,h).call(this,b,"column");this.style=c["$[]"]("style");c["$[]="]("colnumber",f(d,1));h="width";b=c;!1!==(m=b["$[]"](h))&&m!==e&&null!=m?m:b["$[]="](h,1);h="halign";b=c;!1!==(m=b["$[]"](h))&&m!==e&&null!=m?m:b["$[]="](h,"left");h="valign";b=c;!1!==(m=b["$[]"](h))&&
m!==e&&null!=m?m:b["$[]="](h,"top");return this.$update_attributes(c)},w.$$arity=-3);a.alias(m,"table","parent");return(a.defn(m,"$assign_width",I=function(a,b,d){var c;null==b&&(b=e);null==d&&(d=1E4);!1!==b&&b!==e&&null!=b&&(a=h(n(n(h(this.attributes["$[]"]("width").$to_f(),b),100),d).$to_i(),d),a.$to_i()["$=="](a)&&(a=a.$to_i()));this.attributes["$[]="]("colpcwidth",a);if((c=this.$parent().$attributes()["$key?"]("tableabswidth"))!==e&&null!=c&&(!c.$$is_boolean||1==c))this.attributes["$[]="]("colabswidth",
n(h(a,100),this.$parent().$attributes()["$[]"]("tableabswidth")).$round());return a},I.$$arity=-2),e)&&"assign_width"})(w.get("Table"),w.get("AbstractNode"));(function(d,$super){function c(){}var f=c=b(d,$super,"Cell",c),h=f.$$proto,m=f.$$scope,n,w,r,H;h.style=h.document=h.text=h.inner_document=h.colspan=h.rowspan=h.attributes=e;f.$attr_accessor("style");f.$attr_accessor("colspan");f.$attr_accessor("rowspan");a.alias(f,"column","parent");f.$attr_reader("inner_document");a.defn(f,"$initialize",n=function(b,
d,c,f){var h,k=e,p=e,r=e,v=e;null==c&&(c=t([],{}));null==f&&(f=e);n.$$p=null;(h=a.find_super_dispatcher(this,"initialize",n,!1),h.$$p=null,h).call(this,b,"cell");this.text=d;this.rowspan=this.colspan=this.style=e;!1!==b&&b!==e&&null!=b&&(this.style=b.$attributes()["$[]"]("style"),this.$update_attributes(b.$attributes()));!1!==c&&c!==e&&null!=c&&(this.colspan=c.$delete("colspan"),this.rowspan=c.$delete("rowspan"),(h=c["$key?"]("style"))===e||null==h||h.$$is_boolean&&1!=h||(this.style=c["$[]"]("style")),
this.$update_attributes(c));if((h=(d=this.style["$=="]("asciidoc"))?b.$table()["$header_row?"]()["$!"]():this.style["$=="]("asciidoc"))===e||null==h||h.$$is_boolean&&1!=h)return e;k=this.document.$attributes().$delete("doctitle");p=this.text.$split(m.get("EOL"));if((h=!1!==(d=p["$empty?"]())&&d!==e&&null!=d?d:p["$[]"](0)["$include?"]("::")["$!"]())===e||null==h||h.$$is_boolean&&1!=h)r=p["$[]"](0),v=m.get("PreprocessorReader").$new(this.document,r).$readlines(),(h=v["$!="](r))===e||null==h||h.$$is_boolean&&
1!=h||(p.$shift(),(h=p).$unshift.apply(h,a.to_a(v)));this.inner_document=m.get("Document").$new(p,t(["header_footer","parent","cursor"],{header_footer:!1,parent:this.document,cursor:f}));return(d=k["$nil?"]())===e||null==d||d.$$is_boolean&&1!=d?this.document.$attributes()["$[]="]("doctitle",k):e},n.$$arity=-3);a.defn(f,"$text",w=function(){return this.$apply_normal_subs(this.text).$strip()},w.$$arity=0);a.defn(f,"$content",r=function(){var a,b,d;return this.style["$=="]("asciidoc")?this.inner_document.$convert():
(a=(b=this.$text().$split(m.get("BlankLineRx"))).$map,a.$$p=(d=function(a){var b=d.$$s||this,c,f;null==b.style&&(b.style=e);null==a&&(a=e);return(c=!1!==(f=b.style["$!"]())&&f!==e&&null!=f?f:b.style["$=="]("header"))===e||null==c||c.$$is_boolean&&1!=c?m.get("Inline").$new(b.$parent(),"quoted",a,t(["type"],{type:b.style})).$convert():a},d.$$s=this,d.$$arity=1,d),a).call(b)},r.$$arity=0);return(a.defn(f,"$to_s",H=function(){var b,d=H.$$p,c=e,f=e;H.$$p=null;c=[];for(f=0;f<arguments.length;f++)c[f]=arguments[f];
return""+(b=a.find_super_dispatcher(this,"to_s",H,!1),b.$$p=d,b).apply(this,c).$to_s()+" - [text: "+this.text+", colspan: "+(!1!==(b=this.colspan)&&b!==e&&null!=b?b:1)+", rowspan: "+(!1!==(b=this.rowspan)&&b!==e&&null!=b?b:1)+", attributes: "+this.attributes+"]"},H.$$arity=0),e)&&"to_s"})(w.get("Table"),w.get("AbstractNode"));(function(d,$super){function h(){}var n=h=b(d,$super,"ParserContext",h),w=n.$$proto,I=n.$$scope,F,C,r,Q,O,S,M,R,q,k,Y,G,V,aa,ca,da,N,B,Z;w.format=w.delimiter=w.delimiter_re=
w.buffer=w.cellspecs=w.cell_open=w.last_cursor=w.table=w.current_row=w.colcount=w.column_visits=w.active_rowspans=w.linenum=e;n.$attr_accessor("table");n.$attr_accessor("format");n.$attr_reader("colcount");n.$attr_accessor("buffer");n.$attr_reader("delimiter");n.$attr_reader("delimiter_re");a.defn(n,"$initialize",F=function(a,b,d){var c,f;null==d&&(d=t([],{}));this.reader=a;this.table=b;this.last_cursor=a.$cursor();(c=this.format=d["$[]"]("format"))===e||null==c||c.$$is_boolean&&1!=c?this.format=
I.get("Table").$$scope.get("DEFAULT_DATA_FORMAT"):((c=I.get("Table").$$scope.get("DATA_FORMATS")["$include?"](this.format))===e||null==c||c.$$is_boolean&&1!=c)&&this.$raise("Illegal table format: "+this.format);this.delimiter=(c=(f=this.format["$=="]("psv")?d["$key?"]("separator")["$!"]():this.format["$=="]("psv"),!1!==f&&f!==e&&null!=f?b.$document()["$nested?"]():f))===e||null==c||c.$$is_boolean&&1!=c?!1!==(c=d["$[]"]("separator"))&&c!==e&&null!=c?c:I.get("Table").$$scope.get("DEFAULT_DELIMITERS")["$[]"](this.format):
"!";this.delimiter_re=new RegExp(""+I.get("Regexp").$escape(this.delimiter));this.colcount=(c=b.$columns()["$empty?"]())===e||null==c||c.$$is_boolean&&1!=c?b.$columns().$size():-1;this.buffer="";this.cellspecs=[];this.cell_open=!1;this.active_rowspans=[0];this.column_visits=0;this.current_row=[];return this.linenum=-1},F.$$arity=-3);a.defn(n,"$starts_with_delimiter?",C=function(a){return a["$start_with?"](this.delimiter)},C.$$arity=1);a.defn(n,"$match_delimiter",r=function(a){return this.delimiter_re.$match(a)},
r.$$arity=1);a.defn(n,"$skip_matched_delimiter",Q=function(a,b){null==b&&(b=!1);this.buffer=""+this.buffer+(!1!==b&&b!==e&&null!=b?a.$pre_match().$chop():a.$pre_match())+this.delimiter;return a.$post_match()},Q.$$arity=-2);a.defn(n,"$buffer_has_unclosed_quotes?",O=function(a){var b,d,c=e;null==a&&(a=e);c=(""+this.buffer+a).$strip();return b=(d=c["$start_with?"]('"'),!1!==d&&d!==e&&null!=d?c["$start_with?"]('""')["$!"]():d),!1!==b&&b!==e&&null!=b?c["$end_with?"]('"')["$!"]():b},O.$$arity=-1);a.defn(n,
"$buffer_quoted?",S=function(){var a;this.buffer=this.buffer.$lstrip();return a=this.buffer["$start_with?"]('"'),!1!==a&&a!==e&&null!=a?this.buffer["$start_with?"]('""')["$!"]():a},S.$$arity=0);a.defn(n,"$take_cellspec",M=function(){return this.cellspecs.$shift()},M.$$arity=0);a.defn(n,"$push_cellspec",R=function(a){var b;null==a&&(a=t([],{}));this.cellspecs["$<<"](!1!==(b=a)&&b!==e&&null!=b?b:t([],{}));return e},R.$$arity=-1);a.defn(n,"$keep_cell_open",q=function(){this.cell_open=!0;return e},q.$$arity=
0);a.defn(n,"$mark_cell_closed",k=function(){this.cell_open=!1;return e},k.$$arity=0);a.defn(n,"$cell_open?",Y=function(){return this.cell_open},Y.$$arity=0);a.defn(n,"$cell_closed?",G=function(){return this.cell_open["$!"]()},G.$$arity=0);a.defn(n,"$close_open_cell",V=function(a){var b;null==a&&(a=t([],{}));this.$push_cellspec(a);(b=this["$cell_open?"]())===e||null==b||b.$$is_boolean&&1!=b||this.$close_cell(!0);this.$advance();return e},V.$$arity=-1);a.defn(n,"$close_cell",aa=function(b){try{var d,
h,k,n=e,p=e,q=e;null==b&&(b=!1);n=this.buffer.$strip();this.buffer="";this.format["$=="]("psv")?(p=this.$take_cellspec(),!1!==p&&p!==e&&null!=p?q=!1!==(d=p.$delete("repeatcol"))&&d!==e&&null!=d?d:1:(this.$warn("asciidoctor: ERROR: "+this.last_cursor.$line_info()+": table missing leading separator, recovering automatically"),p=t([],{}),q=1)):(p=e,q=1,!this.format["$=="]("csv")||(d=(h=n["$empty?"]()["$!"](),!1!==h&&h!==e&&null!=h?n["$include?"]('"'):h))===e||null==d||d.$$is_boolean&&1!=d||((d=(h=n["$start_with?"]('"'),
!1!==h&&h!==e&&null!=h?n["$end_with?"]('"'):h))===e||null==d||d.$$is_boolean&&1!=d||(n=n["$[]"](H(1,-1,!0)).$strip()),n=n.$tr_s('"','"')));(d=(h=1).$upto,d.$$p=(k=function(d){var h=k.$$s||this,r,l,t,v,w,z,B=e,C=e,E=e,B=e;null==h.colcount&&(h.colcount=e);null==h.table&&(h.table=e);null==h.current_row&&(h.current_row=e);null==h.last_cursor&&(h.last_cursor=e);null==h.reader&&(h.reader=e);null==h.column_visits&&(h.column_visits=e);null==h.linenum&&(h.linenum=e);null==d&&(d=e);if(h.colcount["$=="](-1))h.table.$columns()["$<<"](B=
I.get("Table").$$scope.get("Column").$new(h.table,c(f(h.table.$columns().$size(),d),1))),(r=(l=(t=!1!==p&&p!==e&&null!=p)?p["$key?"]("colspan"):p,!1!==l&&l!==e&&null!=l?m(C=c(p["$[]"]("colspan").$to_i(),1),0):l))===e||null==r||r.$$is_boolean&&1!=r||(E=h.table.$columns().$size(),(r=(l=C).$times,r.$$p=(v=function(a){var b=v.$$s||this;null==b.table&&(b.table=e);null==a&&(a=e);return b.table.$columns()["$<<"](I.get("Table").$$scope.get("Column").$new(b.table,f(E,a)))},v.$$s=h,v.$$arity=1,v),r).call(l));
else if((r=B=h.table.$columns()["$[]"](h.current_row.$size()))===e||null==r||r.$$is_boolean&&1!=r)h.$warn("asciidoctor: ERROR: "+h.last_cursor.$line_info()+": dropping cell because it exceeds specified number of columns"),a.ret(e);B=I.get("Table").$$scope.get("Cell").$new(B,n,p,h.last_cursor);h.last_cursor=h.reader.$cursor();((r=!1!==(t=B.$rowspan()["$!"]())&&t!==e&&null!=t?t:B.$rowspan()["$=="](1))===e||null==r||r.$$is_boolean&&1!=r)&&h.$activate_rowspan(B.$rowspan(),!1!==(r=B.$colspan())&&r!==e&&
null!=r?r:1);h.column_visits=f(h.column_visits,!1!==(r=B.$colspan())&&r!==e&&null!=r?r:1);h.current_row["$<<"](B);return(r=(t=h["$end_of_row?"](),!1!==t&&t!==e&&null!=t?!1!==(w=!1!==(z=h.colcount["$!="](-1))&&z!==e&&null!=z?z:m(h.linenum,0))&&w!==e&&null!=w?w:(z=!1!==b&&b!==e&&null!=b)?d["$=="](q):b:t))===e||null==r||r.$$is_boolean&&1!=r?e:h.$close_row()},k.$$s=this,k.$$arity=1,k),d).call(h,q);this.cell_open=!1;return e}catch(r){if(r===a.returner)return r.$v;throw r;}},aa.$$arity=-1);a.defn(n,"$close_row",
ca=function(){var a,b;this.table.$rows().$body()["$<<"](this.current_row);this.colcount["$=="](-1)&&(this.colcount=this.column_visits);this.column_visits=0;this.current_row=[];this.active_rowspans.$shift();a=this.active_rowspans;!1!==(b=a["$[]"](0))&&b!==e&&null!=b?b:a["$[]="](0,0);return e},ca.$$arity=0);a.defn(n,"$activate_rowspan",da=function(a,b){var d,h,k;(d=(h=(1).$upto(c(a,1))).$each,d.$$p=(k=function(a){var d=k.$$s||this,c;null==d.active_rowspans&&(d.active_rowspans=e);null==a&&(a=e);return d.active_rowspans["$[]="](a,
f(!1!==(c=d.active_rowspans["$[]"](a))&&c!==e&&null!=c?c:0,b))},k.$$s=this,k.$$arity=1,k),d).call(h);return e},da.$$arity=2);a.defn(n,"$end_of_row?",N=function(){var a;return!1!==(a=this.colcount["$=="](-1))&&a!==e&&null!=a?a:this.$effective_column_visits()["$=="](this.colcount)},N.$$arity=0);a.defn(n,"$effective_column_visits",B=function(){return f(this.column_visits,this.active_rowspans["$[]"](0))},B.$$arity=0);return(a.defn(n,"$advance",Z=function(){return this.linenum=f(this.linenum,1)},Z.$$arity=
0),e)&&"advance"})(w.get("Table"),null)}(a.base)};
(function(a){function m(a,b){return"number"===typeof a&&"number"===typeof b?a>=b:a["$>="](b)}function n(a,b){return"number"===typeof a&&"number"===typeof b?a*b:a["$*"](b)}function h(a,b){return"number"===typeof a&&"number"===typeof b?a<b:a["$<"](b)}var f,c=a.top,e=a.nil,d=a.gvars,b=a.module,t=a.hash2,H=a.range,w=a.hash;null==d[":"]&&(d[":"]=e);a.add_stubs("$== $>= $require $unshift $dirname $new $attr $instance_variable_set $send $<< $define $expand_path $join $home $[] $pwd $! $!= $default_external $to_a $bytes $to_set $map $keys $* $dup $[]= $insert $start $=== $inject $split $gsub $respond_to? $each $raise $ancestors $class $path $utc $at $to_i $mtime $readlines $basename $strftime $rewind $entries $lines $record $parse $exception $message $set_backtrace $backtrace $stack_trace= $stack_trace $load $delete $key? $attributes $outfilesuffix $has_key? $safe $normalize_system_path $directory? $mkdir_p $convert $write $< $attr? $uriish? $include? $write_primary_stylesheet $instance $empty? $nil? $read_asset $open $write_coderay_stylesheet $write_pygments_stylesheet".split(" "));((f=
null!=a.RUBY_ENGINE)===e||null==f||f.$$is_boolean&&1!=f)&&a.cdecl(a,"RUBY_ENGINE","unknown");a.cdecl(a,"RUBY_ENGINE_OPAL",a.get("RUBY_ENGINE")["$=="]("opal"));a.cdecl(a,"RUBY_ENGINE_JRUBY",a.get("RUBY_ENGINE")["$=="]("jruby"));a.cdecl(a,"RUBY_MIN_VERSION_1_9",m(a.get("RUBY_VERSION"),"1.9"));a.cdecl(a,"RUBY_MIN_VERSION_2",m(a.get("RUBY_VERSION"),"2"));c.$require("set");a.get("RUBY_ENGINE")["$=="]("opal")&&c.$require("asciidoctor/opal_ext");d[":"].$unshift(a.get("File").$dirname("asciidoctor"));(function(d){d=
b(d,"Asciidoctor");var c=d.$$scope,f,v,z,I=e,F=e;a.cdecl(c,"RUBY_ENGINE",a.get("RUBY_ENGINE"));(function(c){c=b(c,"SafeMode").$$scope;a.cdecl(c,"UNSAFE",0);a.cdecl(c,"SAFE",1);a.cdecl(c,"SERVER",10);a.cdecl(c,"SECURE",20)})(c.base);(function(c){c=b(c,"Compliance");var d;c.keys=a.get("Set").$new();(function(a){return a.$attr("keys")})(a.get_singleton_class(c));a.defs(c,"$define",d=function(b,c){null==this.keys&&(this.keys=e);this.$instance_variable_set("@"+b,c);a.get_singleton_class(this).$send("attr_accessor",
b);this.keys["$<<"](b);return e},d.$$arity=2);c.$define("block_terminates_paragraph",!0);c.$define("strict_verbatim_paragraphs",!0);c.$define("underline_style_section_titles",!0);c.$define("unwrap_standalone_preamble",!0);c.$define("attribute_missing","skip");c.$define("attribute_undefined","drop-line");c.$define("shorthand_property_syntax",!0);c.$define("unique_id_start_index",2);c.$define("markdown_syntax",!0)})(c.base);a.cdecl(c,"ROOT_PATH",a.get("File").$dirname(a.get("File").$dirname(a.get("File").$expand_path("asciidoctor"))));
a.cdecl(c,"LIB_PATH",a.get("File").$join(c.get("ROOT_PATH"),"lib"));a.cdecl(c,"DATA_PATH",a.get("File").$join(c.get("ROOT_PATH"),"data"));try{a.cdecl(c,"USER_HOME",a.get("Dir").$home())}catch(C){if(a.rescue(C,[c.get("StandardError")]))try{a.cdecl(c,"USER_HOME",!1!==(f=a.get("ENV")["$[]"]("HOME"))&&f!==e&&null!=f?f:a.get("Dir").$pwd())}finally{a.pop_exception()}else throw C;}a.cdecl(c,"COERCE_ENCODING",(f=a.get("RUBY_ENGINE_OPAL")["$!"](),!1!==f&&f!==e&&null!=f?a.get("RUBY_MIN_VERSION_1_9"):f));a.cdecl(c,
"FORCE_ENCODING",(f=c.get("COERCE_ENCODING"),!1!==f&&f!==e&&null!=f?a.get("Encoding").$default_external()["$!="](a.get("Encoding").$$scope.get("UTF_8")):f));a.cdecl(c,"BOM_BYTES_UTF_8","\u00ef\u00bb\u00bf".$bytes().$to_a());a.cdecl(c,"BOM_BYTES_UTF_16LE","\u00ff\u00fe".$bytes().$to_a());a.cdecl(c,"BOM_BYTES_UTF_16BE","\u00fe\u00ff".$bytes().$to_a());a.cdecl(c,"FORCE_UNICODE_LINE_LENGTH",a.get("RUBY_MIN_VERSION_1_9")["$!"]());a.cdecl(c,"SUPPORTS_GSUB_RESULT_HASH",(f=a.get("RUBY_MIN_VERSION_1_9"),!1!==
f&&f!==e&&null!=f?a.get("RUBY_ENGINE_OPAL")["$!"]():f));a.cdecl(c,"EOL","\n");a.cdecl(c,"NULL","\x00");a.cdecl(c,"TAB","\t");a.cdecl(c,"DEFAULT_DOCTYPE","article");a.cdecl(c,"DEFAULT_BACKEND","html5");a.cdecl(c,"DEFAULT_STYLESHEET_KEYS",["","DEFAULT"].$to_set());a.cdecl(c,"DEFAULT_STYLESHEET_NAME","asciidoctor.css");a.cdecl(c,"BACKEND_ALIASES",t(["html","docbook"],{html:"html5",docbook:"docbook5"}));a.cdecl(c,"DEFAULT_PAGE_WIDTHS",t(["docbook"],{docbook:425}));a.cdecl(c,"DEFAULT_EXTENSIONS",t(["html",
"docbook","pdf","epub","asciidoc"],{html:".html",docbook:".xml",pdf:".pdf",epub:".epub",asciidoc:".adoc"}));a.cdecl(c,"ASCIIDOC_EXTENSIONS",t([".asciidoc",".adoc",".ad",".asc",".txt"],{".asciidoc":!0,".adoc":!0,".ad":!0,".asc":!0,".txt":!0}));a.cdecl(c,"SECTION_LEVELS",t(["=","-","~","^","+"],{"=":0,"-":1,"~":2,"^":3,"+":4}));a.cdecl(c,"ADMONITION_STYLES",["NOTE","TIP","IMPORTANT","WARNING","CAUTION"].$to_set());a.cdecl(c,"PARAGRAPH_STYLES","comment example literal listing normal pass quote sidebar source verse abstract partintro".split(" ").$to_set());
a.cdecl(c,"VERBATIM_STYLES",["literal","listing","source","verse"].$to_set());a.cdecl(c,"DELIMITED_BLOCKS",t('-- ---- .... ==== **** ____ "" ++++ |=== ,=== :=== !=== //// ```'.split(" "),{"--":["open","comment example literal listing pass quote sidebar source verse admonition abstract partintro".split(" ").$to_set()],"----":["listing",["literal","source"].$to_set()],"....":["literal",["listing","source"].$to_set()],"====":["example",["admonition"].$to_set()],"****":["sidebar",a.get("Set").$new()],
____:["quote",["verse"].$to_set()],'""':["quote",["verse"].$to_set()],"++++":["pass",["stem","latexmath","asciimath"].$to_set()],"|===":["table",a.get("Set").$new()],",===":["table",a.get("Set").$new()],":===":["table",a.get("Set").$new()],"!===":["table",a.get("Set").$new()],"////":["comment",a.get("Set").$new()],"```":["fenced_code",a.get("Set").$new()]}));a.cdecl(c,"DELIMITED_BLOCK_LEADERS",(f=(v=c.get("DELIMITED_BLOCKS").$keys()).$map,f.$$p=(z=function(a){null==a&&(a=e);return a["$[]"](H(0,1,
!1))},z.$$s=d,z.$$arity=1,z),f).call(v).$to_set());a.cdecl(c,"LAYOUT_BREAK_LINES",t(["'","-","*","_","<"],{"'":"thematic_break","-":"thematic_break","*":"thematic_break",_:"thematic_break","<":"page_break"}));a.cdecl(c,"NESTABLE_LIST_CONTEXTS",["ulist","olist","dlist"]);a.cdecl(c,"ORDERED_LIST_STYLES",["arabic","loweralpha","lowerroman","upperalpha","upperroman"]);a.cdecl(c,"ORDERED_LIST_KEYWORDS",t(["loweralpha","lowerroman","upperalpha","upperroman"],{loweralpha:"a",lowerroman:"i",upperalpha:"A",
upperroman:"I"}));a.cdecl(c,"LIST_CONTINUATION","+");a.cdecl(c,"LINE_BREAK"," +");a.cdecl(c,"LINE_CONTINUATION"," \\");a.cdecl(c,"LINE_CONTINUATION_LEGACY"," +");a.cdecl(c,"BLOCK_MATH_DELIMITERS",t(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\[","\\]"]}));a.cdecl(c,"INLINE_MATH_DELIMITERS",t(["asciimath","latexmath"],{asciimath:["\\$","\\$"],latexmath:["\\(","\\)"]}));a.cdecl(c,"FLEXIBLE_ATTRIBUTES",["sectnums"]);c.get("RUBY_ENGINE")["$=="]("opal")&&(a.cdecl(c,"CC_ALPHA","a-zA-Z"),
a.cdecl(c,"CG_ALPHA","[a-zA-Z]"),a.cdecl(c,"CC_ALNUM","a-zA-Z0-9"),a.cdecl(c,"CG_ALNUM","[a-zA-Z0-9]"),a.cdecl(c,"CG_BLANK","[ \\t]"),a.cdecl(c,"CC_EOL","(?=\\n|$)"),a.cdecl(c,"CG_GRAPH","[\\x21-\\x7E]"),a.cdecl(c,"CC_ALL","[\\s\\S]"),a.cdecl(c,"CC_WORD","a-zA-Z0-9_"),a.cdecl(c,"CG_WORD","[a-zA-Z0-9_]"));a.cdecl(c,"AuthorInfoLineRx",new RegExp("^("+c.get("CG_WORD")+"["+c.get("CC_WORD")+"\\-'.]*)(?: +("+c.get("CG_WORD")+"["+c.get("CC_WORD")+"\\-'.]*))?(?: +("+c.get("CG_WORD")+"["+c.get("CC_WORD")+
"\\-'.]*))?(?: +<([^>]+)>)?$"));a.cdecl(c,"RevisionInfoLineRx",/^(?:\D*(.*?),)?(?:\s*(?!:)(.*?))(?:\s*(?!^):\s*(.*))?$/);a.cdecl(c,"ManpageTitleVolnumRx",/^(.*)\((.*)\)$/);a.cdecl(c,"ManpageNamePurposeRx",new RegExp("^(.*?)"+c.get("CG_BLANK")+"+-"+c.get("CG_BLANK")+"+(.*)$"));a.cdecl(c,"ConditionalDirectiveRx",/^\\?(ifdef|ifndef|ifeval|endif)::(\S*?(?:([,\+])\S+?)?)\[(.+)?\]$/);a.cdecl(c,"EvalExpressionRx",new RegExp("^(\\S.*?)"+c.get("CG_BLANK")+"*(==|!=|<=|>=|<|>)"+c.get("CG_BLANK")+"*(\\S.*)$"));
a.cdecl(c,"IncludeDirectiveRx",/^\\?include::([^\[]+)\[(.*?)\]$/);a.cdecl(c,"TagDirectiveRx",/\b(?:tag|end)::\S+\[\]$/);a.cdecl(c,"AttributeEntryRx",new RegExp("^:(!?\\w.*?):(?:"+c.get("CG_BLANK")+"+(.*))?$"));a.cdecl(c,"InvalidAttributeNameCharsRx",/[^\w\-]/);a.cdecl(c,"AttributeEntryPassMacroRx",/^pass:([a-z,]*)\[(.*)\]$/);a.cdecl(c,"AttributeReferenceRx",/(\\)?\{((set|counter2?):.+?|\w+(?:[\-]\w+)*)(\\)?\}/);a.cdecl(c,"BlockAnchorRx",new RegExp("^\\[\\[(?:|(["+c.get("CC_ALPHA")+":_]["+c.get("CC_WORD")+
":.-]*)(?:,"+c.get("CG_BLANK")+"*(\\S.*))?)\\]\\]$"));a.cdecl(c,"BlockAttributeListRx",new RegExp("^\\[(|"+c.get("CG_BLANK")+"*["+c.get("CC_WORD")+"\\{,.#\"'%].*)\\]$"));a.cdecl(c,"BlockAttributeLineRx",new RegExp("^\\[(|"+c.get("CG_BLANK")+"*["+c.get("CC_WORD")+"\\{,.#\"'%].*|\\[(?:|["+c.get("CC_ALPHA")+":_]["+c.get("CC_WORD")+":.-]*(?:,"+c.get("CG_BLANK")+"*\\S.*)?)\\])\\]$"));a.cdecl(c,"BlockTitleRx",/^\.([^\s.].*)$/);a.cdecl(c,"AdmonitionParagraphRx",new RegExp("^("+n(c.get("ADMONITION_STYLES").$to_a(),
"|")+"):"+c.get("CG_BLANK")));a.cdecl(c,"LiteralParagraphRx",new RegExp("^("+c.get("CG_BLANK")+"+.*)$"));a.cdecl(c,"CommentBlockRx",/^\/{4,}$/);a.cdecl(c,"CommentLineRx",/^\/\/(?:[^\/]|$)/);a.cdecl(c,"AtxSectionRx",new RegExp("^((?:=|#){1,6})"+c.get("CG_BLANK")+"+(\\S.*?)(?:"+c.get("CG_BLANK")+"+\\1)?$"));a.cdecl(c,"SetextSectionTitleRx",new RegExp("^((?=.*"+c.get("CG_WORD")+"+.*)[^.].*?)$"));a.cdecl(c,"SetextSectionLineRx",/^(?:=|-|~|\^|\+)+$/);a.cdecl(c,"InlineSectionAnchorRx",new RegExp("^(.*?)"+
c.get("CG_BLANK")+"+(\\\\)?\\[\\[(["+c.get("CC_ALPHA")+":_]["+c.get("CC_WORD")+":.-]*)(?:,"+c.get("CG_BLANK")+"*(\\S.*?))?\\]\\]$"));a.cdecl(c,"InvalidSectionIdCharsRx",new RegExp("&(?:[a-zA-Z]{2,}|#\\d{2,6}|#x[a-fA-F0-9]{2,5});|[^"+c.get("CC_WORD")+"]+?"));a.cdecl(c,"FloatingTitleStyleRx",/^(?:float|discrete)\b/);a.cdecl(c,"AnyListRx",new RegExp("^(?:"+c.get("CG_BLANK")+"*(?:-|([*.\\u2022])\\1{0,4}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+c.get("CG_BLANK")+"|"+c.get("CG_BLANK")+"*.*?(?::{2,4}|;;)(?:$|"+
c.get("CG_BLANK")+")|<?\\d+>"+c.get("CG_BLANK")+")"));a.cdecl(c,"UnorderedListRx",new RegExp("^"+c.get("CG_BLANK")+"*(-|\\*{1,5}|\\u2022{1,5})"+c.get("CG_BLANK")+"+(.*)$"));a.cdecl(c,"OrderedListRx",new RegExp("^"+c.get("CG_BLANK")+"*(\\.{1,5}|\\d+\\.|[a-zA-Z]\\.|[IVXivx]+\\))"+c.get("CG_BLANK")+"+(.*)$"));a.cdecl(c,"OrderedListMarkerRxMap",t(["arabic","loweralpha","lowerroman","upperalpha","upperroman"],{arabic:/\d+[.>]/,loweralpha:/[a-z]\./,lowerroman:/[ivx]+\)/,upperalpha:/[A-Z]\./,upperroman:/[IVX]+\)/}));
a.cdecl(c,"DescriptionListRx",new RegExp("^(?!\\/\\/)"+c.get("CG_BLANK")+"*(.*?)(:{2,4}|;;)(?:"+c.get("CG_BLANK")+"+(.*))?$"));a.cdecl(c,"DescriptionListSiblingRx",t(["::",":::","::::",";;"],{"::":new RegExp("^(?!\\/\\/)"+c.get("CG_BLANK")+"*((?:.*[^:])?)(::)(?:"+c.get("CG_BLANK")+"+(.*))?$"),":::":new RegExp("^(?!\\/\\/)"+c.get("CG_BLANK")+"*((?:.*[^:])?)(:::)(?:"+c.get("CG_BLANK")+"+(.*))?$"),"::::":new RegExp("^(?!\\/\\/)"+c.get("CG_BLANK")+"*((?:.*[^:])?)(::::)(?:"+c.get("CG_BLANK")+"+(.*))?$"),
";;":new RegExp("^(?!\\/\\/)"+c.get("CG_BLANK")+"*(.*)(;;)(?:"+c.get("CG_BLANK")+"+(.*))?$")}));a.cdecl(c,"CalloutListRx",new RegExp("^<?(\\d+)>"+c.get("CG_BLANK")+"+(.*)$"));a.cdecl(c,"CalloutExtractRx",/(?:(?:\/\/|#|--|;;) ?)?(\\)?<!?(--|)(\d+)\2>(?=(?: ?\\?<!?\2\d+\2>)*$)/);a.cdecl(c,"CalloutExtractRxt","(\\\\)?<()(\\d+)>(?=(?: ?\\\\?<\\d+>)*$)");a.cdecl(c,"CalloutQuickScanRx",new RegExp("\\\\?<!?(--|)(\\d+)\\1>(?=(?: ?\\\\?<!?\\1\\d+\\1>)*"+c.get("CC_EOL")+")"));a.cdecl(c,"CalloutSourceRx",new RegExp("(?:(?:\\/\\/|#|--|;;) ?)?(\\\\)?&lt;!?(--|)(\\d+)\\2&gt;(?=(?: ?\\\\?&lt;!?\\2\\d+\\2&gt;)*"+
c.get("CC_EOL")+")"));a.cdecl(c,"CalloutSourceRxt","(\\\\)?&lt;()(\\d+)&gt;(?=(?: ?\\\\?&lt;\\d+&gt;)*"+c.get("CC_EOL")+")");a.cdecl(c,"ListRxMap",t(["ulist","olist","dlist","colist"],{ulist:c.get("UnorderedListRx"),olist:c.get("OrderedListRx"),dlist:c.get("DescriptionListRx"),colist:c.get("CalloutListRx")}));a.cdecl(c,"ColumnSpecRx",/^(?:(\d+)\*)?([<^>](?:\.[<^>]?)?|(?:[<^>]?\.)?[<^>])?(\d+%?)?([a-z])?$/);a.cdecl(c,"CellSpecStartRx",new RegExp("^"+c.get("CG_BLANK")+"*(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));
a.cdecl(c,"CellSpecEndRx",new RegExp(""+c.get("CG_BLANK")+"+(?:(\\d+(?:\\.\\d*)?|(?:\\d*\\.)?\\d+)([*+]))?([<^>](?:\\.[<^>]?)?|(?:[<^>]?\\.)?[<^>])?([a-z])?$"));a.cdecl(c,"GenericBlockMacroRx",new RegExp("^("+c.get("CG_WORD")+"+)::(\\S*?)\\[((?:\\\\\\]|[^\\]])*?)\\]$"));a.cdecl(c,"MediaBlockMacroRx",/^(image|video|audio)::(\S+?)\[((?:\\\]|[^\]])*?)\]$/);a.cdecl(c,"TocBlockMacroRx",/^toc::\[(.*?)\]$/);a.cdecl(c,"InlineAnchorRx",new RegExp("\\\\?(?:\\[\\[(["+c.get("CC_ALPHA")+":_]["+c.get("CC_WORD")+
":.-]*)(?:,"+c.get("CG_BLANK")+"*(\\S.*?))?\\]\\]|anchor:(\\S+)\\[(.*?[^\\\\])?\\])"));a.cdecl(c,"InlineBiblioAnchorRx",new RegExp("\\\\?\\[\\[\\[(["+c.get("CC_WORD")+":]["+c.get("CC_WORD")+":.-]*?)\\]\\]\\]"));a.cdecl(c,"EmailInlineMacroRx",new RegExp("([\\\\>:\\/])?"+c.get("CG_WORD")+"["+c.get("CC_WORD")+".%+-]*@"+c.get("CG_ALNUM")+"["+c.get("CC_ALNUM")+".-]*\\."+c.get("CG_ALPHA")+"{2,4}\\b"));a.cdecl(c,"FootnoteInlineMacroRx",new RegExp("\\\\?(footnote(?:ref)?):\\[("+c.get("CC_ALL")+"*?[^\\\\])\\]"));
a.cdecl(c,"ImageInlineMacroRx",/\\?(?:image|icon):([^:\[][^\[]*)\[((?:\\\]|[^\]])*?)\]/);a.cdecl(c,"IndextermInlineMacroRx",new RegExp("\\\\?(?:(indexterm2?):\\[("+c.get("CC_ALL")+"*?[^\\\\])\\]|\\(\\(("+c.get("CC_ALL")+"+?)\\)\\)(?!\\)))"));a.cdecl(c,"KbdBtnInlineMacroRx",/\\?(?:kbd|btn):\[((?:\\\]|[^\]])+?)\]/);a.cdecl(c,"KbdDelimiterRx",new RegExp("(?:\\+|,)(?="+c.get("CG_BLANK")+"*[^\\1])"));a.cdecl(c,"LinkInlineRx",/(^|link:|&lt;|[\s>\(\)\[\];])(\\?(?:https?|file|ftp|irc):\/\/[^\s\[\]<]*[^\s.,\[\]<])(?:\[((?:\\\]|[^\]])*?)\])?/);
a.cdecl(c,"LinkInlineMacroRx",/\\?(?:link|mailto):([^\s\[]+)(?:\[((?:\\\]|[^\]])*?)\])/);a.cdecl(c,"StemInlineMacroRx",new RegExp("\\\\?(stem|(?:latex|ascii)math):([a-z,]*)\\[("+c.get("CC_ALL")+"*?[^\\\\])\\]"));a.cdecl(c,"MenuInlineMacroRx",new RegExp("\\\\?menu:("+c.get("CG_WORD")+"|"+c.get("CG_WORD")+".*?\\S)\\["+c.get("CG_BLANK")+"*(.+?)?\\]"));a.cdecl(c,"MenuInlineRx",new RegExp('\\\\?"('+c.get("CG_WORD")+'[^"]*?'+c.get("CG_BLANK")+"*&gt;"+c.get("CG_BLANK")+'*[^" \\t][^"]*)"'));a.cdecl(c,"PassInlineRx",
w(!1,["+","`",new RegExp("(^|[^"+c.get("CC_WORD")+";:])(?:\\[([^\\]]+?)\\])?(\\\\?(\\+|`)(\\S|\\S"+c.get("CC_ALL")+"*?\\S)\\4)(?!"+c.get("CG_WORD")+")")],!0,["`",e,new RegExp("(^|[^`"+c.get("CC_WORD")+"])(?:\\[([^\\]]+?)\\])?(\\\\?(`)([^`\\s]|[^`\\s]"+c.get("CC_ALL")+"*?\\S)\\4)(?![`"+c.get("CC_WORD")+"])")]));a.cdecl(c,"PassInlineMacroRx",new RegExp("(?:(?:(\\\\?)\\[([^\\]]+?)\\])?(\\\\{0,2})(\\+{2,3}|\\${2})("+c.get("CC_ALL")+"*?)\\4|(\\\\?)pass:([a-z,]*)\\[("+c.get("CC_ALL")+"*?[^\\\\])\\])"));
a.cdecl(c,"XrefInlineMacroRx",new RegExp("\\\\?(?:&lt;&lt;(["+c.get("CC_WORD")+'":.\\/]'+c.get("CC_ALL")+"*?)&gt;&gt;|xref:(["+c.get("CC_WORD")+'":.\\/]'+c.get("CC_ALL")+"*?)\\[("+c.get("CC_ALL")+"*?)\\])"));c.get("RUBY_ENGINE")["$=="]("opal")&&a.cdecl(c,"LineBreakRx",/^(.*)[ \t]\+$/m);a.cdecl(c,"LayoutBreakLineRx",/^('|<){3,}$/);a.cdecl(c,"LayoutBreakLinePlusRx",/^(?:'|<){3,}$|^ {0,3}([-\*_])( *)\1\2\1$/);a.cdecl(c,"BlankLineRx",new RegExp("^"+c.get("CG_BLANK")+"*\\n"));a.cdecl(c,"DataDelimiterRx",
/,|;/);a.cdecl(c,"DoubleQuotedRx",/^("|)(.*)\1$/);a.cdecl(c,"DoubleQuotedMultiRx",new RegExp('^("|)('+c.get("CC_ALL")+"*)\\1$"));a.cdecl(c,"TrailingDigitsRx",/\d+$/);a.cdecl(c,"EscapedSpaceRx",new RegExp("\\\\("+c.get("CG_BLANK")+")"));a.cdecl(c,"SpaceDelimiterRx",new RegExp("([^\\\\])"+c.get("CG_BLANK")+"+"));a.cdecl(c,"SubModifierSniffRx",/[+-]/);a.cdecl(c,"UnicodeCharScanRx",function(){c.get("RUBY_ENGINE")["$=="]("opal");return e}());a.cdecl(c,"UriSniffRx",new RegExp("^"+c.get("CG_ALPHA")+"["+
c.get("CC_ALNUM")+".+-]+:/{0,2}"));a.cdecl(c,"UriTerminator",/[);:]$/);a.cdecl(c,"XmlSanitizeRx",/<[^>]+>/);a.cdecl(c,"INTRINSIC_ATTRIBUTES",t("startsb endsb vbar caret asterisk tilde plus backslash backtick blank empty sp two-colons two-semicolons nbsp deg zwsp quot apos lsquo rsquo ldquo rdquo wj brvbar cpp amp lt gt".split(" "),{startsb:"[",endsb:"]",vbar:"|",caret:"^",asterisk:"*",tilde:"~",plus:"&#43;",backslash:"\\",backtick:"`",blank:"",empty:"",sp:" ","two-colons":"::","two-semicolons":";;",
nbsp:"&#160;",deg:"&#176;",zwsp:"&#8203;",quot:"&#34;",apos:"&#39;",lsquo:"&#8216;",rsquo:"&#8217;",ldquo:"&#8220;",rdquo:"&#8221;",wj:"&#8288;",brvbar:"&#166;",cpp:"C++",amp:"&",lt:"<",gt:">"}));I=[["strong","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\*\\*("+c.get("CC_ALL")+"+?)\\*\\*")],["strong","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\*(\\S|\\S"+c.get("CC_ALL")+"*?\\S)\\*(?!"+c.get("CG_WORD")+")")],["double","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+
';:}])(?:\\[([^\\]]+?)\\])?"`(\\S|\\S'+c.get("CC_ALL")+'*?\\S)`"(?!'+c.get("CG_WORD")+")")],["single","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+";:`}])(?:\\[([^\\]]+?)\\])?'`(\\S|\\S"+c.get("CC_ALL")+"*?\\S)`'(?!"+c.get("CG_WORD")+")")],["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?``("+c.get("CC_ALL")+"+?)``")],["monospaced","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+";:\"'`}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+c.get("CC_ALL")+"*?\\S)`(?!["+c.get("CC_WORD")+"\"'`])")],
["emphasis","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?__("+c.get("CC_ALL")+"+?)__")],["emphasis","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?_(\\S|\\S"+c.get("CC_ALL")+"*?\\S)_(?!"+c.get("CG_WORD")+")")],["mark","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?##("+c.get("CC_ALL")+"+?)##")],["mark","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+"&;:}])(?:\\[([^\\]]+?)\\])?#(\\S|\\S"+c.get("CC_ALL")+"*?\\S)#(?!"+c.get("CG_WORD")+")")],["superscript",
"unconstrained",/\\?(?:\[([^\]]+?)\])?\^(\S+?)\^/],["subscript","unconstrained",/\\?(?:\[([^\]]+?)\])?~(\S+?)~/]];F=I.$dup();F["$[]="](2,["double","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?``(\\S|\\S"+c.get("CC_ALL")+"*?\\S)''(?!"+c.get("CG_WORD")+")")]);F["$[]="](3,["single","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?`(\\S|\\S"+c.get("CC_ALL")+"*?\\S)'(?!"+c.get("CG_WORD")+")")]);F["$[]="](4,["monospaced","unconstrained",new RegExp("\\\\?(?:\\[([^\\]]+?)\\])?\\+\\+("+
c.get("CC_ALL")+"+?)\\+\\+")]);F["$[]="](5,["monospaced","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?\\+(\\S|\\S"+c.get("CC_ALL")+"*?\\S)\\+(?!"+c.get("CG_WORD")+")")]);F.$insert(3,["emphasis","constrained",new RegExp("(^|[^"+c.get("CC_WORD")+";:}])(?:\\[([^\\]]+?)\\])?'(\\S|\\S"+c.get("CC_ALL")+"*?\\S)'(?!"+c.get("CG_WORD")+")")]);a.cdecl(c,"QUOTE_SUBS",w(!1,I,!0,F));F=I=e;a.cdecl(c,"REPLACEMENTS",[[/\\?\(C\)/,"&#169;","none"],[/\\?\(R\)/,"&#174;","none"],[/\\?\(TM\)/,
"&#8482;","none"],[/(^|\n| |\\)--( |\n|$)/,"&#8201;&#8212;&#8201;","none"],[new RegExp("("+c.get("CG_WORD")+")\\\\?--(?="+c.get("CG_WORD")+")"),"&#8212;&#8203;","leading"],[/\\?\.\.\./,"&#8230;&#8203;","leading"],[/\\?`'/,"&#8217;","none"],[new RegExp("("+c.get("CG_ALNUM")+")\\\\?'(?="+c.get("CG_ALPHA")+")"),"&#8217;","leading"],[/\\?-&gt;/,"&#8594;","none"],[/\\?=&gt;/,"&#8658;","none"],[/\\?&lt;-/,"&#8592;","none"],[/\\?&lt;=/,"&#8656;","none"],[/\\?(&)amp;((?:[a-zA-Z]{2,}|#\d{2,6}|#x[a-fA-F0-9]{2,5});)/,
"","bounding"]]);(function(b){var c=b.$$scope,d,f,g,n;a.defn(b,"$load",d=function(b,d){var f,h,g,m,n,p,v,w,B,z=this,x=e,E=e,C=e,H=e,I=e,F=e,L=e,O=e,u=e,M=e,l=e,Q=e,S=e,U=e;null==d&&(d=t([],{}));try{d=d.$dup();(f=x=d["$[]"]("timings"))===e||null==f||f.$$is_boolean&&1!=f||x.$start("read");E=d["$[]="]("attributes",function(){if((f=(C=d["$[]"]("attributes"))["$!"]())===e||null==f||f.$$is_boolean&&1!=f){if((f=!1!==(h=a.get("Hash")["$==="](C))&&h!==e&&null!=h?h:(g=a.get("RUBY_ENGINE_JRUBY"),!1!==g&&g!==
e&&null!=g?a.get("Java").$$scope.get("JavaUtil").$$scope.get("Map")["$==="](C):g))===e||null==f||f.$$is_boolean&&1!=f){if((f=a.get("Array")["$==="](C))===e||null==f||f.$$is_boolean&&1!=f){if((f=a.get("String")["$==="](C))===e||null==f||f.$$is_boolean&&1!=f){if((f=(p=C["$respond_to?"]("keys"),!1!==p&&p!==e&&null!=p?C["$respond_to?"]("[]"):p))===e||null==f||f.$$is_boolean&&1!=f)return z.$raise(a.get("ArgumentError"),"illegal type for attributes option: "+C.$class().$ancestors());I=C;C=t([],{});(f=(p=
I.$keys()).$each,f.$$p=(v=function(a){null==a&&(a=e);return C["$[]="](a,I["$[]"](a))},v.$$s=z,v.$$arity=1,v),f).call(p);return C}H="\\1";C=C.$gsub(c.get("SpaceDelimiterRx"),""+H+c.get("NULL")).$gsub(c.get("EscapedSpaceRx"),H);return(f=(g=C.$split(c.get("NULL"))).$inject,f.$$p=(n=function(b,c){var d,f,h=e,g=e;null==b&&(b=e);null==c&&(c=e);f=c.$split("=",2);d=a.to_ary(f);h=null==d[0]?e:d[0];g=null==d[1]?e:d[1];f;b["$[]="](h,!1!==(d=g)&&d!==e&&null!=d?d:"");return b},n.$$s=z,n.$$arity=2,n),f).call(g,
t([],{}))}return(f=(h=C).$inject,f.$$p=(m=function(b,c){var d,f,h=e,g=e;null==b&&(b=e);null==c&&(c=e);f=c.$split("=",2);d=a.to_ary(f);h=null==d[0]?e:d[0];g=null==d[1]?e:d[1];f;b["$[]="](h,!1!==(d=g)&&d!==e&&null!=d?d:"");return b},m.$$s=z,m.$$arity=2,m),f).call(h,t([],{}))}return C.$dup()}return t([],{})}());F=e;if((f=a.get("File")["$==="](b))===e||null==f||f.$$is_boolean&&1!=f)if((f=b["$respond_to?"]("readlines"))===e||null==f||f.$$is_boolean&&1!=f)(f=a.get("String")["$==="](b))===e||null==f||f.$$is_boolean&&
1!=f?(f=a.get("Array")["$==="](b))===e||null==f||f.$$is_boolean&&1!=f?z.$raise(a.get("ArgumentError"),"unsupported input type: "+b.$class()):F=b.$dup():F=b.$lines().$entries();else{try{b.$rewind()}catch(ga){if(a.rescue(ga,[c.get("StandardError")]))try{e}finally{a.pop_exception()}else throw ga;}F=b.$readlines()}else L=a.get("File").$expand_path(b.$path()),O=(f=a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH"))===e||null==f||f.$$is_boolean&&1!=f?b.$mtime():a.get("Time").$at(a.get("ENV")["$[]"]("SOURCE_DATE_EPOCH").$to_i()).$utc(),
F=b.$readlines(),E["$[]="]("docfile",L),E["$[]="]("docdir",a.get("File").$dirname(L)),E["$[]="]("docname",c.get("Helpers").$basename(L,!0)),u=(f="docdate",w=E,!1!==(B=w["$[]"](f))&&B!==e&&null!=B?B:w["$[]="](f,O.$strftime("%Y-%m-%d"))),M=(f="doctime",w=E,!1!==(B=w["$[]"](f))&&B!==e&&null!=B?B:w["$[]="](f,O.$strftime("%H:%M:%S %Z"))),E["$[]="]("docdatetime",""+u+" "+M);!1!==x&&x!==e&&null!=x&&(x.$record("read"),x.$start("parse"));l=d["$[]"]("parse")["$=="](!1)?c.get("Document").$new(F,d):c.get("Document").$new(F,
d).$parse();!1!==x&&x!==e&&null!=x&&x.$record("parse");return l}catch(ga){if(a.rescue(ga,[c.get("StandardError")])){Q=ga;try{try{S="asciidoctor: FAILED: "+(!1!==(f=E["$[]"]("docfile"))&&f!==e&&null!=f?f:"<stdin>")+": Failed to load AsciiDoc document",(f=Q["$respond_to?"]("exception"))===e||null==f||f.$$is_boolean&&1!=f?(U=Q.$class().$new(S,Q),f=[Q.$stack_trace()],w=U,w["$stack_trace="].apply(w,f),f[f.length-1]):(U=Q.$exception(""+S+" - "+Q.$message()),U.$set_backtrace(Q.$backtrace()))}catch(ra){if(a.rescue(ra,
[c.get("StandardError")]))try{U=Q}finally{a.pop_exception()}else throw ra;}return z.$raise(U)}finally{a.pop_exception()}}else throw ga;}},d.$$arity=-2);a.defn(b,"$load_file",f=function(b,c){null==c&&(c=t([],{}));return this.$load(a.get("File").$new(!1!==b&&b!==e&&null!=b?b:""),c)},f.$$arity=-2);a.defn(b,"$convert",g=function(b,d){var f,g,n,p,v,w,z,C=e,B=e,H=e,x=e,E=e,F=e,I=e,L=e,Q=e,O=e,M=E=e,u=C=C=L=F=e,S=F=B=e,l=C=I=x=e,ba=H=e;null==d&&(d=t([],{}));d=d.$dup();d.$delete("parse");C=d.$delete("to_file");
B=d.$delete("to_dir");H=!1!==(f=d.$delete("mkdirs"))&&f!==e&&null!=f?f:!1;x=d["$[]"]("timings");E=C;if((!0)["$==="](E)||e["$==="](E))F=(f=B["$!"](),!1!==f&&f!==e&&null!=f?a.get("File")["$==="](b):f),I=!1,L=B,C=e;else if((!1)["$==="](E))L=I=F=!1,C=e;else{if("/dev/null"["$==="](E))return this.$load(b,d);F=!1;I=C["$respond_to?"]("write");L=!1!==I&&I!==e&&null!=I?!1:C}if(((f=d["$key?"]("header_footer"))===e||null==f||f.$$is_boolean&&1!=f)&&(f=!1!==(g=F)&&g!==e&&null!=g?g:L)!==e&&null!=f&&(!f.$$is_boolean||
1==f))d["$[]="]("header_footer",!0);if(!1!==F&&F!==e&&null!=F)Q=a.get("File").$expand_path(b.$path()),d["$[]="]("to_dir",O=a.get("File").$dirname(Q));else if(!1!==L&&L!==e&&null!=L)if(!1!==B&&B!==e&&null!=B)if(!1!==C&&C!==e&&null!=C)d["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(a.get("File").$join(B,C))));else d["$[]="]("to_dir",a.get("File").$expand_path(B));else{if(!1!==C&&C!==e&&null!=C)d["$[]="]("to_dir",a.get("File").$dirname(a.get("File").$expand_path(C)))}else d["$[]="]("to_dir",
e);E=this.$load(b,d);if(!1!==F&&F!==e&&null!=F)M=a.get("File").$join(O,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix()),M["$=="](Q)&&this.$raise(a.get("IOError"),"input file and output file cannot be the same: "+M);else if(!1!==L&&L!==e&&null!=L){if(F=(f=d["$has_key?"]("base_dir"))===e||null==f||f.$$is_boolean&&1!=f?a.get("File").$expand_path(a.get("Dir").$pwd()):a.get("File").$expand_path(d["$[]"]("base_dir")),L=(f=m(E.$safe(),c.get("SafeMode").$$scope.get("SAFE")))===e||null==f||f.$$is_boolean&&
1!=f?e:F,!1!==B&&B!==e&&null!=B?(O=E.$normalize_system_path(B,F,L,t(["target_name","recover"],{target_name:"to_dir",recover:!1})),!1!==C&&C!==e&&null!=C?(M=E.$normalize_system_path(C,O,e,t(["target_name","recover"],{target_name:"to_dir",recover:!1})),O=a.get("File").$dirname(M)):M=a.get("File").$join(O,""+E.$attributes()["$[]"]("docname")+E.$outfilesuffix())):!1!==C&&C!==e&&null!=C&&(M=E.$normalize_system_path(C,F,L,t(["target_name","recover"],{target_name:"to_dir",recover:!1})),O=a.get("File").$dirname(M)),
(f=a.get("File")["$directory?"](O))===e||null==f||f.$$is_boolean&&1!=f)!1!==H&&H!==e&&null!=H?c.get("Helpers").$mkdir_p(O):this.$raise(a.get("IOError"),"target directory does not exist: "+B)}else M=C,O=e;!1!==x&&x!==e&&null!=x&&x.$start("convert");C=(f=(g=!1!==M&&M!==e&&null!=M)?I["$!"]():M)===e||null==f||f.$$is_boolean&&1!=f?t([],{}):t(["outfile","outdir"],{outfile:M,outdir:O});C=E.$convert(C);!1!==x&&x!==e&&null!=x&&x.$record("convert");return!1!==M&&M!==e&&null!=M?(!1!==x&&x!==e&&null!=x&&x.$start("write"),
E.$write(C,M),!1!==x&&x!==e&&null!=x&&x.$record("write"),(f=(g=(n=(p=(v=(w=I["$!"](),!1!==w&&w!==e&&null!=w?h(E.$safe(),c.get("SafeMode").$$scope.get("SECURE")):w),!1!==v&&v!==e&&null!=v?E["$attr?"]("linkcss"):v),!1!==p&&p!==e&&null!=p?E["$attr?"]("copycss"):p),!1!==n&&n!==e&&null!=n?E["$attr?"]("basebackend-html"):n),!1!==g&&g!==e&&null!=g?(n=u=E.$attr("stylesdir"),!1!==n&&n!==e&&null!=n?c.get("Helpers")["$uriish?"](u):n)["$!"]():g))===e||null==f||f.$$is_boolean&&1!=f||(F=B=!1,(f=S=E.$attr("stylesheet"))===
e||null==f||f.$$is_boolean&&1!=f||((f=c.get("DEFAULT_STYLESHEET_KEYS")["$include?"](S))===e||null==f||f.$$is_boolean&&1!=f?(f=c.get("Helpers")["$uriish?"](S)["$!"]())===e||null==f||f.$$is_boolean&&1!=f||(F=!0):B=!0),x=(f=E["$attr?"]("source-highlighter","coderay"),!1!==f&&f!==e&&null!=f?E.$attr("coderay-css","class")["$=="]("class"):f),I=(f=E["$attr?"]("source-highlighter","pygments"),!1!==f&&f!==e&&null!=f?E.$attr("pygments-css","class")["$=="]("class"):f),(f=!1!==(g=!1!==(n=!1!==(p=B)&&p!==e&&null!=
p?p:F)&&n!==e&&null!=n?n:x)&&g!==e&&null!=g?g:I)===e||null==f||f.$$is_boolean&&1!=f||(C=E.$normalize_system_path(u,O,(f=m(E.$safe(),c.get("SafeMode").$$scope.get("SAFE")))===e||null==f||f.$$is_boolean&&1!=f?e:O),!1!==H&&H!==e&&null!=H&&c.get("Helpers").$mkdir_p(C),!1!==B&&B!==e&&null!=B?c.get("Stylesheets").$instance().$write_primary_stylesheet(C):!1!==F&&F!==e&&null!=F&&(l=(f=(l=E.$attr("copycss"))["$empty?"]())===e||null==f||f.$$is_boolean&&1!=f?E.$normalize_system_path(l):E.$normalize_system_path(S),
H=E.$normalize_system_path(S,C,(f=m(E.$safe(),c.get("SafeMode").$$scope.get("SAFE")))===e||null==f||f.$$is_boolean&&1!=f?e:O),((f=!1!==(g=l["$=="](H))&&g!==e&&null!=g?g:(ba=E.$read_asset(l))["$nil?"]())===e||null==f||f.$$is_boolean&&1!=f)&&(f=(g=a.get("File")).$open,f.$$p=(z=function(a){null==a&&(a=e);return a.$write(ba)},z.$$s=this,z.$$arity=1,z),f).call(g,H,"w")),!1!==x&&x!==e&&null!=x?c.get("Stylesheets").$instance().$write_coderay_stylesheet(C):!1!==I&&I!==e&&null!=I&&c.get("Stylesheets").$instance().$write_pygments_stylesheet(C,
E.$attr("pygments-style")))),E):C},g.$$arity=-2);a.alias(b,"render","convert");a.defn(b,"$convert_file",n=function(b,c){null==c&&(c=t([],{}));return this.$convert(a.get("File").$new(!1!==b&&b!==e&&null!=b?b:""),c)},n.$$arity=-2);return a.alias(b,"render_file","convert_file")})(a.get_singleton_class(d));c.get("RUBY_ENGINE")["$=="]("opal")&&(d.$require("asciidoctor/version"),d.$require("asciidoctor/timings"))})(a.base);c.$require("asciidoctor/core_ext");c.$require("asciidoctor/helpers");c.$require("asciidoctor/substitutors");
c.$require("asciidoctor/abstract_node");c.$require("asciidoctor/abstract_block");c.$require("asciidoctor/attribute_list");c.$require("asciidoctor/block");c.$require("asciidoctor/callouts");c.$require("asciidoctor/converter");(f=a.get("RUBY_ENGINE_OPAL"))===e||null==f||f.$$is_boolean&&1!=f||c.$require("asciidoctor/converter/html5");c.$require("asciidoctor/document");c.$require("asciidoctor/inline");c.$require("asciidoctor/list");c.$require("asciidoctor/parser");c.$require("asciidoctor/path_resolver");
c.$require("asciidoctor/reader");c.$require("asciidoctor/section");c.$require("asciidoctor/stylesheets");return c.$require("asciidoctor/table")})(Opal);
